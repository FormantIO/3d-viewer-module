(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var o=s.default;if(typeof o=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};et.prototype=o.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(s).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor(s,tt);Object.defineProperty(et,tt,nt.get?nt:{enumerable:!0,get:function(){return s[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(s){return s===null||typeof s!="object"?null:(s=z$3&&s[z$3]||s["@@iterator"],typeof s=="function"?s:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(s,o,et){this.props=s,this.context=o,this.refs=D$2,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(s,o){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,o,"setState")};E$2.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(s,o,et){this.props=s,this.context=o,this.refs=D$2,this.updater=et||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(s,o,et){var tt,nt={},rt=null,it=null;if(o!=null)for(tt in o.ref!==void 0&&(it=o.ref),o.key!==void 0&&(rt=""+o.key),o)J$1.call(o,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=o[tt]);var ot=arguments.length-2;if(ot===1)nt.children=et;else if(1<ot){for(var st=Array(ot),at=0;at<ot;at++)st[at]=arguments[at+2];nt.children=st}if(s&&s.defaultProps)for(tt in ot=s.defaultProps,ot)nt[tt]===void 0&&(nt[tt]=ot[tt]);return{$$typeof:l$3,type:s,key:rt,ref:it,props:nt,_owner:K$2.current}}function N$2(s,o){return{$$typeof:l$3,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$3}function escape$1(s){var o={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(et){return o[et]})}var P$1=/\/+/g;function Q$2(s,o){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):o.toString(36)}function R$1(s,o,et,tt,nt){var rt=typeof s;(rt==="undefined"||rt==="boolean")&&(s=null);var it=!1;if(s===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch(s.$$typeof){case l$3:case n$3:it=!0}}if(it)return it=s,nt=nt(it),s=tt===""?"."+Q$2(it,0):tt,I$2(nt)?(et="",s!=null&&(et=s.replace(P$1,"$&/")+"/"),R$1(nt,o,et,"",function(at){return at})):nt!=null&&(O$1(nt)&&(nt=N$2(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$1,"$&/")+"/")+s)),o.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$2(s))for(var ot=0;ot<s.length;ot++){rt=s[ot];var st=tt+Q$2(rt,ot);it+=R$1(rt,o,et,st,nt)}else if(st=A$2(s),typeof st=="function")for(s=st.call(s),ot=0;!(rt=s.next()).done;)rt=rt.value,st=tt+Q$2(rt,ot++),it+=R$1(rt,o,et,st,nt);else if(rt==="object")throw o=String(s),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return it}function S$2(s,o,et){if(s==null)return s;var tt=[],nt=0;return R$1(s,tt,"","",function(rt){return o.call(et,rt,nt++)}),tt}function T$2(s){if(s._status===-1){var o=s._result;o=o(),o.then(function(et){(s._status===0||s._status===-1)&&(s._status=1,s._result=et)},function(et){(s._status===0||s._status===-1)&&(s._status=2,s._result=et)}),s._status===-1&&(s._status=0,s._result=o)}if(s._status===1)return s._result.default;throw s._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(s,o,et){S$2(s,function(){o.apply(this,arguments)},et)},count:function(s){var o=0;return S$2(s,function(){o++}),o},toArray:function(s){return S$2(s,function(o){return o})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(s,o,et){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var tt=C$2({},s.props),nt=s.key,rt=s.ref,it=s._owner;if(o!=null){if(o.ref!==void 0&&(rt=o.ref,it=K$2.current),o.key!==void 0&&(nt=""+o.key),s.type&&s.type.defaultProps)var ot=s.type.defaultProps;for(st in o)J$1.call(o,st)&&!L$2.hasOwnProperty(st)&&(tt[st]=o[st]===void 0&&ot!==void 0?ot[st]:o[st])}var st=arguments.length-2;if(st===1)tt.children=et;else if(1<st){ot=Array(st);for(var at=0;at<st;at++)ot[at]=arguments[at+2];tt.children=ot}return{$$typeof:l$3,type:s.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function(s){return s={$$typeof:u$1,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$2,_context:s},s.Consumer=s};react_production_min.createElement=M$2;react_production_min.createFactory=function(s){var o=M$2.bind(null,s);return o.type=s,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$4,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y$2,_payload:{_status:-1,_result:s},_init:T$2}};react_production_min.memo=function(s,o){return{$$typeof:x$2,type:s,compare:o===void 0?null:o}};react_production_min.startTransition=function(s){var o=V$2.transition;V$2.transition={};try{s()}finally{V$2.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(s,o){return U$2.current.useCallback(s,o)};react_production_min.useContext=function(s){return U$2.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$2.current.useDeferredValue(s)};react_production_min.useEffect=function(s,o){return U$2.current.useEffect(s,o)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(s,o,et){return U$2.current.useImperativeHandle(s,o,et)};react_production_min.useInsertionEffect=function(s,o){return U$2.current.useInsertionEffect(s,o)};react_production_min.useLayoutEffect=function(s,o){return U$2.current.useLayoutEffect(s,o)};react_production_min.useMemo=function(s,o){return U$2.current.useMemo(s,o)};react_production_min.useReducer=function(s,o,et){return U$2.current.useReducer(s,o,et)};react_production_min.useRef=function(s){return U$2.current.useRef(s)};react_production_min.useState=function(s){return U$2.current.useState(s)};react_production_min.useSyncExternalStore=function(s,o,et){return U$2.current.useSyncExternalStore(s,o,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$3(s,o,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),o.key!==void 0&&(rt=""+o.key),o.ref!==void 0&&(it=o.ref);for(tt in o)m$4.call(o,tt)&&!p$3.hasOwnProperty(tt)&&(nt[tt]=o[tt]);if(s&&s.defaultProps)for(tt in o=s.defaultProps,o)nt[tt]===void 0&&(nt[tt]=o[tt]);return{$$typeof:k$3,type:s,key:rt,ref:it,props:nt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function o(At,Ot){var Vt=At.length;At.push(Ot);e:for(;0<Vt;){var Wt=Vt-1>>>1,Jt=At[Wt];if(0<nt(Jt,Ot))At[Wt]=Ot,At[Vt]=Jt,Vt=Wt;else break e}}function et(At){return At.length===0?null:At[0]}function tt(At){if(At.length===0)return null;var Ot=At[0],Vt=At.pop();if(Vt!==Ot){At[0]=Vt;e:for(var Wt=0,Jt=At.length,qt=Jt>>>1;Wt<qt;){var Ht=2*(Wt+1)-1,Xt=At[Ht],Lt=Ht+1,Pt=At[Lt];if(0>nt(Xt,Vt))Lt<Jt&&0>nt(Pt,Xt)?(At[Wt]=Pt,At[Lt]=Vt,Wt=Lt):(At[Wt]=Xt,At[Ht]=Vt,Wt=Ht);else if(Lt<Jt&&0>nt(Pt,Vt))At[Wt]=Pt,At[Lt]=Vt,Wt=Lt;else break e}}return Ot}function nt(At,Ot){var Vt=At.sortIndex-Ot.sortIndex;return Vt!==0?Vt:At.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;s.unstable_now=function(){return rt.now()}}else{var it=Date,ot=it.now();s.unstable_now=function(){return it.now()-ot}}var st=[],at=[],lt=1,ct=null,ut=3,dt=!1,ht=!1,pt=!1,gt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(At){for(var Ot=et(at);Ot!==null;){if(Ot.callback===null)tt(at);else if(Ot.startTime<=At)tt(at),Ot.sortIndex=Ot.expirationTime,o(st,Ot);else break;Ot=et(at)}}function Ft(At){if(pt=!1,mt(At),!ht)if(et(st)!==null)ht=!0,Mt(vt);else{var Ot=et(at);Ot!==null&&Nt(Ft,Ot.startTime-At)}}function vt(At,Ot){ht=!1,pt&&(pt=!1,ft(It),It=-1),dt=!0;var Vt=ut;try{for(mt(Ot),ct=et(st);ct!==null&&(!(ct.expirationTime>Ot)||At&&!Tt());){var Wt=ct.callback;if(typeof Wt=="function"){ct.callback=null,ut=ct.priorityLevel;var Jt=Wt(ct.expirationTime<=Ot);Ot=s.unstable_now(),typeof Jt=="function"?ct.callback=Jt:ct===et(st)&&tt(st),mt(Ot)}else tt(st);ct=et(st)}if(ct!==null)var qt=!0;else{var Ht=et(at);Ht!==null&&Nt(Ft,Ht.startTime-Ot),qt=!1}return qt}finally{ct=null,ut=Vt,dt=!1}}var Et=!1,wt=null,It=-1,St=5,Rt=-1;function Tt(){return!(s.unstable_now()-Rt<St)}function bt(){if(wt!==null){var At=s.unstable_now();Rt=At;var Ot=!0;try{Ot=wt(!0,At)}finally{Ot?xt():(Et=!1,wt=null)}}else Et=!1}var xt;if(typeof yt=="function")xt=function(){yt(bt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Ct=Bt.port2;Bt.port1.onmessage=bt,xt=function(){Ct.postMessage(null)}}else xt=function(){gt(bt,0)};function Mt(At){wt=At,Et||(Et=!0,xt())}function Nt(At,Ot){It=gt(function(){At(s.unstable_now())},Ot)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(At){At.callback=null},s.unstable_continueExecution=function(){ht||dt||(ht=!0,Mt(vt))},s.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<At?Math.floor(1e3/At):5},s.unstable_getCurrentPriorityLevel=function(){return ut},s.unstable_getFirstCallbackNode=function(){return et(st)},s.unstable_next=function(At){switch(ut){case 1:case 2:case 3:var Ot=3;break;default:Ot=ut}var Vt=ut;ut=Ot;try{return At()}finally{ut=Vt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(At,Ot){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var Vt=ut;ut=At;try{return Ot()}finally{ut=Vt}},s.unstable_scheduleCallback=function(At,Ot,Vt){var Wt=s.unstable_now();switch(typeof Vt=="object"&&Vt!==null?(Vt=Vt.delay,Vt=typeof Vt=="number"&&0<Vt?Wt+Vt:Wt):Vt=Wt,At){case 1:var Jt=-1;break;case 2:Jt=250;break;case 5:Jt=1073741823;break;case 4:Jt=1e4;break;default:Jt=5e3}return Jt=Vt+Jt,At={id:lt++,callback:Ot,priorityLevel:At,startTime:Vt,expirationTime:Jt,sortIndex:-1},Vt>Wt?(At.sortIndex=Vt,o(at,At),et(st)===null&&At===et(at)&&(pt?(ft(It),It=-1):pt=!0,Nt(Ft,Vt-Wt))):(At.sortIndex=Jt,o(st,At),ht||dt||(ht=!0,Mt(vt))),At},s.unstable_shouldYield=Tt,s.unstable_wrapCallback=function(At){var Ot=ut;return function(){var Vt=ut;ut=Ot;try{return At.apply(this,arguments)}finally{ut=Vt}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$2(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,et=1;et<arguments.length;et++)o+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,o){ha(s,o),ha(s+"Capture",o)}function ha(s,o){for(ea[s]=o,s=0;s<o.length;s++)da.add(o[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,o,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,o,et,tt){if(o===null||typeof o>"u"||pa(s,o,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$3(s,o,et,tt,nt,rt,it){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=s,this.type=o,this.sanitizeURL=rt,this.removeEmptyString=it}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$2[s]=new v$3(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];z$2[o]=new v$3(o,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$2[s]=new v$3(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$2[s]=new v$3(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$2[s]=new v$3(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$2[s]=new v$3(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$2[s]=new v$3(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$2[s]=new v$3(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$2[s]=new v$3(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(ra,sa);z$2[o]=new v$3(o,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(ra,sa);z$2[o]=new v$3(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(ra,sa);z$2[o]=new v$3(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$2[s]=new v$3(s,1,!1,s.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$2[s]=new v$3(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,o,et,tt){var nt=z$2.hasOwnProperty(o)?z$2[o]:null;(nt!==null?nt.type!==0:tt||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,et,nt,tt)&&(et=null),tt||nt===null?oa(o)&&(et===null?s.removeAttribute(o):s.setAttribute(o,""+et)):nt.mustUseProperty?s[nt.propertyName]=et===null?nt.type===3?!1:"":et:(o=nt.attributeName,tt=nt.attributeNamespace,et===null?s.removeAttribute(o):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?s.setAttributeNS(tt,o,et):s.setAttribute(o,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A$1=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(et){var o=et.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+s}var Na=!1;function Oa(s,o){if(!s||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(at){var tt=at}Reflect.construct(s,[],o)}else{try{o.call()}catch(at){tt=at}s.call(o.prototype)}else{try{throw Error()}catch(at){tt=at}s()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,ot=rt.length-1;1<=it&&0<=ot&&nt[it]!==rt[ot];)ot--;for(;1<=it&&0<=ot;it--,ot--)if(nt[it]!==rt[ot]){if(it!==1||ot!==1)do if(it--,ot--,0>ot||nt[it]!==rt[ot]){var st=`
`+nt[it].replace(" at new "," at ");return s.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",s.displayName)),st}while(1<=it&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return o=s.displayName||null,o!==null?o:Qa(s.type)||"Memo";case Ha:o=s._payload,s=s._init;try{return Qa(s(o))}catch{}}return null}function Ra(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(s){var o=Ta(s)?"checked":"value",et=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),tt=""+s[o];if(!s.hasOwnProperty(o)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty(s,o,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var et=o.getValue(),tt="";return s&&(tt=Ta(s)?s.checked?"true":"false":s.value),s=tt,s!==et?(o.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,o){var et=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??s._wrapperState.initialChecked})}function Za(s,o){var et=o.defaultValue==null?"":o.defaultValue,tt=o.checked!=null?o.checked:o.defaultChecked;et=Sa(o.value!=null?o.value:et),s._wrapperState={initialChecked:tt,initialValue:et,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(s,o){o=o.checked,o!=null&&ta(s,"checked",o,!1)}function bb$2(s,o){ab(s,o);var et=Sa(o.value),tt=o.type;if(et!=null)tt==="number"?(et===0&&s.value===""||s.value!=et)&&(s.value=""+et):s.value!==""+et&&(s.value=""+et);else if(tt==="submit"||tt==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?cb(s,o.type,et):o.hasOwnProperty("defaultValue")&&cb(s,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function db(s,o,et){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var tt=o.type;if(!(tt!=="submit"&&tt!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,et||o===s.value||(s.value=o),s.defaultValue=o}et=s.name,et!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,et!==""&&(s.name=et)}function cb(s,o,et){(o!=="number"||Xa(s.ownerDocument)!==s)&&(et==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+et&&(s.defaultValue=""+et))}var eb=Array.isArray;function fb(s,o,et,tt){if(s=s.options,o){o={};for(var nt=0;nt<et.length;nt++)o["$"+et[nt]]=!0;for(et=0;et<s.length;et++)nt=o.hasOwnProperty("$"+s[et].value),s[et].selected!==nt&&(s[et].selected=nt),nt&&tt&&(s[et].defaultSelected=!0)}else{for(et=""+Sa(et),o=null,nt=0;nt<s.length;nt++){if(s[nt].value===et){s[nt].selected=!0,tt&&(s[nt].defaultSelected=!0);return}o!==null||s[nt].disabled||(o=s[nt])}o!==null&&(o.selected=!0)}}function gb(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,o){var et=o.value;if(et==null){if(et=o.children,o=o.defaultValue,et!=null){if(o!=null)throw Error(p$2(92));if(eb(et)){if(1<et.length)throw Error(p$2(93));et=et[0]}o=et}o==null&&(o=""),et=o}s._wrapperState={initialValue:Sa(et)}}function ib(s,o){var et=Sa(o.value),tt=Sa(o.defaultValue);et!=null&&(et=""+et,et!==s.value&&(s.value=et),o.defaultValue==null&&s.defaultValue!==et&&(s.defaultValue=et)),tt!=null&&(s.defaultValue=""+tt)}function jb(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return s(o,et,tt,nt)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ob(s,o){if(o){var et=s.firstChild;if(et&&et===s.lastChild&&et.nodeType===3){et.nodeValue=o;return}}s.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),pb[o]=pb[s]})});function rb(s,o,et){return o==null||typeof o=="boolean"||o===""?"":et||typeof o!="number"||o===0||pb.hasOwnProperty(s)&&pb[s]?(""+o).trim():o+"px"}function sb(s,o){s=s.style;for(var et in o)if(o.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,o[et],tt);et==="float"&&(et="cssFloat"),tt?s.setProperty(et,nt):s[et]=nt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,o){if(o){if(tb[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$2(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$2(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$2(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$2(62))}}function vb(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p$2(280));var o=s.stateNode;o&&(o=Db(o),yb(s.stateNode,s.type,o))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,o=Ab;if(Ab=zb=null,Bb(s),o)for(s=0;s<o.length;s++)Bb(o[s])}}function Gb(s,o){return s(o)}function Hb(){}var Ib=!1;function Jb(s,o,et){if(Ib)return s(o,et);Ib=!0;try{return Gb(s,o,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,o){var et=s.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(s=s.type,tt=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!tt;break e;default:s=!1}if(s)return null;if(et&&typeof et!="function")throw Error(p$2(231,o,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,o,et,tt,nt,rt,it,ot,st){var at=Array.prototype.slice.call(arguments,3);try{o.apply(et,at)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,o,et,tt,nt,rt,it,ot,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,o,et,tt,nt,rt,it,ot,st){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=at)}}function Vb(s){var o=s,et=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(et=o.return),s=o.return;while(s)}return o.tag===3?et:null}function Wb(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p$2(188))}function Yb(s){var o=s.alternate;if(!o){if(o=Vb(s),o===null)throw Error(p$2(188));return o!==s?null:s}for(var et=s,tt=o;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),s;if(rt===tt)return Xb(nt),o;rt=rt.sibling}throw Error(p$2(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,ot=nt.child;ot;){if(ot===et){it=!0,et=nt,tt=rt;break}if(ot===tt){it=!0,tt=nt,et=rt;break}ot=ot.sibling}if(!it){for(ot=rt.child;ot;){if(ot===et){it=!0,et=rt,tt=nt;break}if(ot===tt){it=!0,tt=rt,et=nt;break}ot=ot.sibling}if(!it)throw Error(p$2(189))}}if(et.alternate!==tt)throw Error(p$2(190))}if(et.tag!==3)throw Error(p$2(188));return et.stateNode.current===et?s:o}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=$b(s);if(o!==null)return o;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,o){var et=s.pendingLanes;if(et===0)return 0;var tt=0,nt=s.suspendedLanes,rt=s.pingedLanes,it=et&268435455;if(it!==0){var ot=it&~nt;ot!==0?tt=tc(ot):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if(o!==0&&o!==tt&&!(o&nt)&&(nt=tt&-tt,rt=o&-o,nt>=rt||nt===16&&(rt&4194240)!==0))return o;if(tt&4&&(tt|=et&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=tt;0<o;)et=31-oc(o),nt=1<<et,tt|=s[et],o&=~nt;return tt}function vc(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,o){for(var et=s.suspendedLanes,tt=s.pingedLanes,nt=s.expirationTimes,rt=s.pendingLanes;0<rt;){var it=31-oc(rt),ot=1<<it,st=nt[it];st===-1?(!(ot&et)||ot&tt)&&(nt[it]=vc(ot,o)):st<=o&&(s.expiredLanes|=ot),rt&=~ot}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var o=[],et=0;31>et;et++)o.push(s);return o}function Ac(s,o,et){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-oc(o),s[o]=et}function Bc(s,o){var et=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var tt=s.eventTimes;for(s=s.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;o[nt]=0,tt[nt]=-1,s[nt]=-1,et&=~rt}}function Cc(s,o){var et=s.entangledLanes|=o;for(s=s.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&o|s[tt]&o&&(s[tt]|=o),et&=~nt}}var C$1=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,o){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(s,o,et,tt,nt,rt){return s===null||s.nativeEvent!==rt?(s={blockedOn:o,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),s):(s.eventSystemFlags|=tt,o=s.targetContainers,nt!==null&&o.indexOf(nt)===-1&&o.push(nt),s)}function Uc(s,o,et,tt,nt){switch(o){case"focusin":return Lc=Tc(Lc,s,o,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,s,o,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,s,o,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,s,o,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,s,o,et,tt,nt)),!0}return!1}function Vc(s){var o=Wc(s.target);if(o!==null){var et=Vb(o);if(et!==null){if(o=et.tag,o===13){if(o=Wb(et),o!==null){s.blockedOn=o,Ic(s.priority,function(){Gc(et)});return}}else if(o===3&&et.stateNode.current.memoizedState.isDehydrated){s.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var et=Yc(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(et===null){et=s.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return o=Cb(et),o!==null&&Fc(o),s.blockedOn=et,!1;o.shift()}return!0}function Zc(s,o,et){Xc(s)&&et.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,o){s.blockedOn===o&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function o(nt){return ad(nt,s)}if(0<Kc.length){ad(Kc[0],s);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===s&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(o),Pc.forEach(o),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===s&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,o,et,tt){var nt=C$1,rt=cd.transition;cd.transition=null;try{C$1=1,fd(s,o,et,tt)}finally{C$1=nt,cd.transition=rt}}function gd(s,o,et,tt){var nt=C$1,rt=cd.transition;cd.transition=null;try{C$1=4,fd(s,o,et,tt)}finally{C$1=nt,cd.transition=rt}}function fd(s,o,et,tt){if(dd){var nt=Yc(s,o,et,tt);if(nt===null)hd(s,o,tt,id,et),Sc(s,tt);else if(Uc(nt,s,o,et,tt))tt.stopPropagation();else if(Sc(s,tt),o&4&&-1<Rc.indexOf(s)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc(s,o,et,tt),rt===null&&hd(s,o,tt,id,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd(s,o,tt,null,et)}}var id=null;function Yc(s,o,et,tt){if(id=null,s=xb(tt),s=Wc(s),s!==null)if(o=Vb(s),o===null)s=null;else if(et=o.tag,et===13){if(s=Wb(o),s!==null)return s;s=null}else if(et===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,o=ld,et=o.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for(s=0;s<et&&o[s]===nt[s];s++);var it=et-s;for(tt=1;tt<=it&&o[et-tt]===nt[rt-tt];tt++);return md=nt.slice(s,1<tt?1-tt:void 0)}function od(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function o(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var ot in s)s.hasOwnProperty(ot)&&(et=s[ot],this[ot]=et?et(rt):rt[ot]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Od[s])?!!o[s]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(s){if(s.key){var o=Md[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(s,o){switch(s){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie$1=!1;function je$1(s,o){switch(s){case"compositionend":return he$2(o);case"keypress":return o.which!==32?null:(fe$1=!0,ee$1);case"textInput":return s=o.data,s===ee$1&&fe$1?null:s;default:return null}}function ke$1(s,o){if(ie$1)return s==="compositionend"||!ae$1&&ge$1(s,o)?(s=nd(),md=ld=kd=null,ie$1=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de$1&&o.locale!=="ko"?null:o.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!le$1[s.type]:o==="textarea"}function ne$1(s,o,et,tt){Eb(tt),o=oe$1(o,"onChange"),0<o.length&&(et=new td("onChange","change",null,et,tt),s.push({event:et,listeners:o}))}var pe$1=null,qe$1=null;function re$1(s){se$1(s,0)}function te$1(s){var o=ue(s);if(Wa(o))return s}function ve$1(s,o){if(s==="change")return o}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(s){if(s.propertyName==="value"&&te$1(qe$1)){var o=[];ne$1(o,qe$1,s,xb(s)),Jb(re$1,o)}}function Ce(s,o,et){s==="focusin"?(Ae$1(),pe$1=o,qe$1=et,pe$1.attachEvent("onpropertychange",Be$1)):s==="focusout"&&Ae$1()}function De$1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te$1(qe$1)}function Ee$1(s,o){if(s==="click")return te$1(o)}function Fe$1(s,o){if(s==="input"||s==="change")return te$1(o)}function Ge(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(s,o){if(He(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var et=Object.keys(s),tt=Object.keys(o);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(o,nt)||!He(s[nt],o[nt]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,o){var et=Je(s);s=0;for(var tt;et;){if(et.nodeType===3){if(tt=s+et.textContent.length,s<=o&&tt>=o)return{node:et,offset:o-s};s=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Le(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Me$1(){for(var s=window,o=Xa();o instanceof s.HTMLIFrameElement;){try{var et=typeof o.contentWindow.location.href=="string"}catch{et=!1}if(et)s=o.contentWindow;else break;o=Xa(s.document)}return o}function Ne$1(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Oe$1(s){var o=Me$1(),et=s.focusedElem,tt=s.selectionRange;if(o!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne$1(et)){if(o=tt.start,s=tt.end,s===void 0&&(s=o),"selectionStart"in et)et.selectionStart=o,et.selectionEnd=Math.min(s,et.value.length);else if(s=(o=et.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!s.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&(s.rangeCount!==1||s.anchorNode!==nt.node||s.anchorOffset!==nt.offset||s.focusNode!==it.node||s.focusOffset!==it.offset)&&(o=o.createRange(),o.setStart(nt.node,nt.offset),s.removeAllRanges(),rt>tt?(s.addRange(o),s.extend(it.node,it.offset)):(o.setEnd(it.node,it.offset),s.addRange(o)))}}for(o=[],s=et;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<o.length;et++)s=o[et],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(s,o,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te$1||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne$1(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se$1&&Ie(Se$1,tt)||(Se$1=tt,tt=oe$1(Re$1,"onSelect"),0<tt.length&&(o=new td("onSelect","select",null,o,et),s.push({event:o,listeners:tt}),o.target=Qe)))}function Ve$1(s,o){var et={};return et[s.toLowerCase()]=o.toLowerCase(),et["Webkit"+s]="webkit"+o,et["Moz"+s]="moz"+o,et}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var o=We[s],et;for(et in o)if(o.hasOwnProperty(et)&&et in Ye$1)return Xe[s]=o[et];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,o){df.set(s,o),fa(o,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,o,et){var tt=s.type||"unknown-event";s.currentTarget=et,Ub(tt,o,void 0,s),s.currentTarget=null}function se$1(s,o){o=(o&4)!==0;for(var et=0;et<s.length;et++){var tt=s[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(o)for(var it=tt.length-1;0<=it;it--){var ot=tt[it],st=ot.instance,at=ot.currentTarget;if(ot=ot.listener,st!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,at),rt=st}else for(it=0;it<tt.length;it++){if(ot=tt[it],st=ot.instance,at=ot.currentTarget,ot=ot.listener,st!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,at),rt=st}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D$1(s,o){var et=o[of];et===void 0&&(et=o[of]=new Set);var tt=s+"__bubble";et.has(tt)||(pf(o,s,2,!1),et.add(tt))}function qf(s,o,et){var tt=0;o&&(tt|=4),pf(et,s,tt,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,s),qf(et,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(s,o,et,tt){switch(jd(o)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,o,et,s),nt=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(nt=!0),tt?nt!==void 0?s.addEventListener(o,et,{capture:!0,passive:nt}):s.addEventListener(o,et,!0):nt!==void 0?s.addEventListener(o,et,{passive:nt}):s.addEventListener(o,et,!1)}function hd(s,o,et,tt,nt){var rt=tt;if(!(o&1)&&!(o&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var ot=tt.stateNode.containerInfo;if(ot===nt||ot.nodeType===8&&ot.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var st=it.tag;if((st===3||st===4)&&(st=it.stateNode.containerInfo,st===nt||st.nodeType===8&&st.parentNode===nt))return;it=it.return}for(;ot!==null;){if(it=Wc(ot),it===null)return;if(st=it.tag,st===5||st===6){tt=rt=it;continue e}ot=ot.parentNode}}tt=tt.return}Jb(function(){var at=rt,lt=xb(et),ct=[];e:{var ut=df.get(s);if(ut!==void 0){var dt=td,ht=s;switch(s){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":ht="focus",dt=Fd;break;case"focusout":ht="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var pt=(o&4)!==0,gt=!pt&&s==="scroll",ft=pt?ut!==null?ut+"Capture":null:ut;pt=[];for(var yt=at,mt;yt!==null;){mt=yt;var Ft=mt.stateNode;if(mt.tag===5&&Ft!==null&&(mt=Ft,ft!==null&&(Ft=Kb(yt,ft),Ft!=null&&pt.push(tf(yt,Ft,mt)))),gt)break;yt=yt.return}0<pt.length&&(ut=new dt(ut,ht,null,et,lt),ct.push({event:ut,listeners:pt}))}}if(!(o&7)){e:{if(ut=s==="mouseover"||s==="pointerover",dt=s==="mouseout"||s==="pointerout",ut&&et!==wb&&(ht=et.relatedTarget||et.fromElement)&&(Wc(ht)||ht[uf]))break e;if((dt||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,dt?(ht=et.relatedTarget||et.toElement,dt=at,ht=ht?Wc(ht):null,ht!==null&&(gt=Vb(ht),ht!==gt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(dt=null,ht=at),dt!==ht)){if(pt=Bd,Ft="onMouseLeave",ft="onMouseEnter",yt="mouse",(s==="pointerout"||s==="pointerover")&&(pt=Td,Ft="onPointerLeave",ft="onPointerEnter",yt="pointer"),gt=dt==null?ut:ue(dt),mt=ht==null?ut:ue(ht),ut=new pt(Ft,yt+"leave",dt,et,lt),ut.target=gt,ut.relatedTarget=mt,Ft=null,Wc(lt)===at&&(pt=new pt(ft,yt+"enter",ht,et,lt),pt.target=mt,pt.relatedTarget=gt,Ft=pt),gt=Ft,dt&&ht)t:{for(pt=dt,ft=ht,yt=0,mt=pt;mt;mt=vf(mt))yt++;for(mt=0,Ft=ft;Ft;Ft=vf(Ft))mt++;for(;0<yt-mt;)pt=vf(pt),yt--;for(;0<mt-yt;)ft=vf(ft),mt--;for(;yt--;){if(pt===ft||ft!==null&&pt===ft.alternate)break t;pt=vf(pt),ft=vf(ft)}pt=null}else pt=null;dt!==null&&wf(ct,ut,dt,pt,!1),ht!==null&&gt!==null&&wf(ct,gt,ht,pt,!0)}}e:{if(ut=at?ue(at):window,dt=ut.nodeName&&ut.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ut.type==="file")var vt=ve$1;else if(me(ut))if(we$1)vt=Fe$1;else{vt=De$1;var Et=Ce}else(dt=ut.nodeName)&&dt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(vt=Ee$1);if(vt&&(vt=vt(s,at))){ne$1(ct,vt,et,lt);break e}Et&&Et(s,ut,at),s==="focusout"&&(Et=ut._wrapperState)&&Et.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Et=at?ue(at):window,s){case"focusin":(me(Et)||Et.contentEditable==="true")&&(Qe=Et,Re$1=at,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ct,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,et,lt)}var wt;if(ae$1)e:{switch(s){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else ie$1?ge$1(s,et)&&(It="onCompositionEnd"):s==="keydown"&&et.keyCode===229&&(It="onCompositionStart");It&&(de$1&&et.locale!=="ko"&&(ie$1||It!=="onCompositionStart"?It==="onCompositionEnd"&&ie$1&&(wt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Et=oe$1(at,It),0<Et.length&&(It=new Ld(It,s,null,et,lt),ct.push({event:It,listeners:Et}),wt?It.data=wt:(wt=he$2(et),wt!==null&&(It.data=wt)))),(wt=ce$1?je$1(s,et):ke$1(s,et))&&(at=oe$1(at,"onBeforeInput"),0<at.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),ct.push({event:lt,listeners:at}),lt.data=wt))}se$1(ct,o)})}function tf(s,o,et){return{instance:s,listener:o,currentTarget:et}}function oe$1(s,o){for(var et=o+"Capture",tt=[];s!==null;){var nt=s,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb(s,et),rt!=null&&tt.unshift(tf(s,rt,nt)),rt=Kb(s,o),rt!=null&&tt.push(tf(s,rt,nt))),s=s.return}return tt}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,o,et,tt,nt){for(var rt=o._reactName,it=[];et!==null&&et!==tt;){var ot=et,st=ot.alternate,at=ot.stateNode;if(st!==null&&st===tt)break;ot.tag===5&&at!==null&&(ot=at,nt?(st=Kb(et,rt),st!=null&&it.unshift(tf(et,st,ot))):nt||(st=Kb(et,rt),st!=null&&it.push(tf(et,st,ot)))),et=et.return}it.length!==0&&s.push({event:o,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,o,et){if(o=zf(o),zf(s)!==o&&et)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,o){var et=o,tt=0;do{var nt=et.nextSibling;if(s.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){s.removeChild(nt),bd(o);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(o)}function Lf(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var et=s.data;if(et==="$"||et==="$!"||et==="$?"){if(o===0)return s;o--}else et==="/$"&&o++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var o=s[Of];if(o)return o;for(var et=s.parentNode;et;){if(o=et[uf]||et[Of]){if(et=o.alternate,o.child!==null||et!==null&&et.child!==null)for(s=Mf(s);s!==null;){if(et=s[Of])return et;s=Mf(s)}return o}s=et,et=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$2(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E$1(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(s,o){Tf++,Sf[Tf]=s.current,s.current=o}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,o){var et=s.type.contextTypes;if(!et)return Vf;var tt=s.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===o)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=o[rt];return tt&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(s,o,et){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,o),G$1(Wf,et)}function bg(s,o,et){var tt=s.stateNode;if(o=o.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in o))throw Error(p$2(108,Ra(s)||"Unknown",nt));return A$1({},et,tt)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,s),G$1(Wf,Wf.current),!0}function dg(s,o,et){var tt=s.stateNode;if(!tt)throw Error(p$2(169));et?(s=bg(s,o,Xf),tt.__reactInternalMemoizedMergedChildContext=s,E$1(Wf),E$1(H$1),G$1(H$1,s)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,o=C$1;try{var et=eg;for(C$1=1;s<et.length;s++){var tt=et[s];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),nt}finally{C$1=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,o){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=o}function ug(s,o,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var tt=rg;s=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc(o)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc(o)+nt|et<<nt|tt,sg=rt+s}else rg=1<<rt|et<<nt|tt,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(s,o){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=o,et.return=s,o=s.deletions,o===null?(s.deletions=[et],s.flags|=16):o.push(et)}function Cg(s,o){switch(s.tag){case 5:var et=s.type;return o=o.nodeType!==1||et.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,xg=s,yg=Lf(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,xg=s,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(et=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:o,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=o,et.return=s,s.child=et,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I$1){var o=yg;if(o){var et=o;if(!Cg(s,o)){if(Dg(s))throw Error(p$2(418));o=Lf(et.nextSibling);var tt=xg;o&&Cg(s,o)?Ag(tt,et):(s.flags=s.flags&-4097|2,I$1=!1,xg=s)}}else{if(Dg(s))throw Error(p$2(418));s.flags=s.flags&-4097|2,I$1=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I$1)return Fg(s),I$1=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Ef(s.type,s.memoizedProps)),o&&(o=yg)){if(Dg(s))throw Hg(),Error(p$2(418));for(;o;)Ag(s,o),o=Lf(o.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$2(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var et=s.data;if(et==="/$"){if(o===0){yg=Lf(s.nextSibling);break e}o--}else et!=="$"&&et!=="$!"&&et!=="$?"||o++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,o){if(s&&s.defaultProps){o=A$1({},o),s=s.defaultProps;for(var et in s)o[et]===void 0&&(o[et]=s[et]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(s){var o=Mg.current;E$1(Mg),s._currentValue=o}function Sg(s,o,et){for(;s!==null;){var tt=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,tt!==null&&(tt.childLanes|=o)):tt!==null&&(tt.childLanes&o)!==o&&(tt.childLanes|=o),s===et)break;s=s.return}}function Tg(s,o){Ng=s,Pg=Og=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Ug=!0),s.firstContext=null)}function Vg(s){var o=s._currentValue;if(Pg!==s)if(s={context:s,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=s,Ng.dependencies={lanes:0,firstContext:s}}else Og=Og.next=s;return o}var Wg=null;function Xg(s){Wg===null?Wg=[s]:Wg.push(s)}function Yg(s,o,et,tt){var nt=o.interleaved;return nt===null?(et.next=et,Xg(o)):(et.next=nt.next,nt.next=et),o.interleaved=et,Zg(s,tt)}function Zg(s,o){s.lanes|=o;var et=s.alternate;for(et!==null&&(et.lanes|=o),et=s,s=s.return;s!==null;)s.childLanes|=o,et=s.alternate,et!==null&&(et.childLanes|=o),et=s,s=s.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ch(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(s,o,et){var tt=s.updateQueue;if(tt===null)return null;if(tt=tt.shared,K$1&2){var nt=tt.pending;return nt===null?o.next=o:(o.next=nt.next,nt.next=o),tt.pending=o,Zg(s,et)}return nt=tt.interleaved,nt===null?(o.next=o,Xg(tt)):(o.next=nt.next,nt.next=o),tt.interleaved=o,Zg(s,et)}function eh(s,o,et){if(o=o.updateQueue,o!==null&&(o=o.shared,(et&4194240)!==0)){var tt=o.lanes;tt&=s.pendingLanes,et|=tt,o.lanes=et,Cc(s,et)}}function fh(s,o){var et=s.updateQueue,tt=s.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=o:rt=rt.next=o}else nt=rt=o;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},s.updateQueue=et;return}s=et.lastBaseUpdate,s===null?et.firstBaseUpdate=o:s.next=o,et.lastBaseUpdate=o}function gh(s,o,et,tt){var nt=s.updateQueue;$g=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,ot=nt.shared.pending;if(ot!==null){nt.shared.pending=null;var st=ot,at=st.next;st.next=null,it===null?rt=at:it.next=at,it=st;var lt=s.alternate;lt!==null&&(lt=lt.updateQueue,ot=lt.lastBaseUpdate,ot!==it&&(ot===null?lt.firstBaseUpdate=at:ot.next=at,lt.lastBaseUpdate=st))}if(rt!==null){var ct=nt.baseState;it=0,lt=at=st=null,ot=rt;do{var ut=ot.lane,dt=ot.eventTime;if((tt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:dt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var ht=s,pt=ot;switch(ut=o,dt=et,pt.tag){case 1:if(ht=pt.payload,typeof ht=="function"){ct=ht.call(dt,ct,ut);break e}ct=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=pt.payload,ut=typeof ht=="function"?ht.call(dt,ct,ut):ht,ut==null)break e;ct=A$1({},ct,ut);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(s.flags|=64,ut=nt.effects,ut===null?nt.effects=[ot]:ut.push(ot))}else dt={eventTime:dt,lane:ut,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},lt===null?(at=lt=dt,st=ct):lt=lt.next=dt,it|=ut;if(ot=ot.next,ot===null){if(ot=nt.shared.pending,ot===null)break;ut=ot,ot=ut.next,ut.next=null,nt.lastBaseUpdate=ut,nt.shared.pending=null}}while(1);if(lt===null&&(st=ct),nt.baseState=st,nt.firstBaseUpdate=at,nt.lastBaseUpdate=lt,o=nt.shared.interleaved,o!==null){nt=o;do it|=nt.lane,nt=nt.next;while(nt!==o)}else rt===null&&(nt.shared.lanes=0);hh|=it,s.lanes=it,s.memoizedState=ct}}function ih(s,o,et){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var tt=s[o],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$2(191,nt));nt.call(tt)}}}var jh=new aa.Component().refs;function kh(s,o,et,tt){o=s.memoizedState,et=et(tt,o),et=et==null?o:A$1({},o,et),s.memoizedState=et,s.lanes===0&&(s.updateQueue.baseState=et)}var nh={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,o,et){s=s._reactInternals;var tt=L$1(),nt=lh(s),rt=ch(tt,nt);rt.payload=o,et!=null&&(rt.callback=et),o=dh(s,rt,nt),o!==null&&(mh(o,s,nt,tt),eh(o,s,nt))},enqueueReplaceState:function(s,o,et){s=s._reactInternals;var tt=L$1(),nt=lh(s),rt=ch(tt,nt);rt.tag=1,rt.payload=o,et!=null&&(rt.callback=et),o=dh(s,rt,nt),o!==null&&(mh(o,s,nt,tt),eh(o,s,nt))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var et=L$1(),tt=lh(s),nt=ch(et,tt);nt.tag=2,o!=null&&(nt.callback=o),o=dh(s,nt,tt),o!==null&&(mh(o,s,tt,et),eh(o,s,tt))}};function oh(s,o,et,tt,nt,rt,it){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(tt,rt,it):o.prototype&&o.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function ph(s,o,et){var tt=!1,nt=Vf,rt=o.contextType;return typeof rt=="object"&&rt!==null?rt=Vg(rt):(nt=Zf(o)?Xf:H$1.current,tt=o.contextTypes,rt=(tt=tt!=null)?Yf(s,nt):Vf),o=new o(et,rt),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,s.stateNode=o,o._reactInternals=s,tt&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=nt,s.__reactInternalMemoizedMaskedChildContext=rt),o}function qh(s,o,et,tt){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(et,tt),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(et,tt),o.state!==s&&nh.enqueueReplaceState(o,o.state,null)}function rh(s,o,et,tt){var nt=s.stateNode;nt.props=et,nt.state=s.memoizedState,nt.refs=jh,ah(s);var rt=o.contextType;typeof rt=="object"&&rt!==null?nt.context=Vg(rt):(rt=Zf(o)?Xf:H$1.current,nt.context=Yf(s,rt)),nt.state=s.memoizedState,rt=o.getDerivedStateFromProps,typeof rt=="function"&&(kh(s,o,rt,et),nt.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(o=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),o!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(s,et,nt,tt),nt.state=s.memoizedState),typeof nt.componentDidMount=="function"&&(s.flags|=4194308)}function sh(s,o,et){if(s=et.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$2(309));var tt=et.stateNode}if(!tt)throw Error(p$2(147,s));var nt=tt,rt=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===rt?o.ref:(o=function(it){var ot=nt.refs;ot===jh&&(ot=nt.refs={}),it===null?delete ot[rt]:ot[rt]=it},o._stringRef=rt,o)}if(typeof s!="string")throw Error(p$2(284));if(!et._owner)throw Error(p$2(290,s))}return s}function th(s,o){throw s=Object.prototype.toString.call(o),Error(p$2(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function uh(s){var o=s._init;return o(s._payload)}function vh(s){function o(ft,yt){if(s){var mt=ft.deletions;mt===null?(ft.deletions=[yt],ft.flags|=16):mt.push(yt)}}function et(ft,yt){if(!s)return null;for(;yt!==null;)o(ft,yt),yt=yt.sibling;return null}function tt(ft,yt){for(ft=new Map;yt!==null;)yt.key!==null?ft.set(yt.key,yt):ft.set(yt.index,yt),yt=yt.sibling;return ft}function nt(ft,yt){return ft=wh(ft,yt),ft.index=0,ft.sibling=null,ft}function rt(ft,yt,mt){return ft.index=mt,s?(mt=ft.alternate,mt!==null?(mt=mt.index,mt<yt?(ft.flags|=2,yt):mt):(ft.flags|=2,yt)):(ft.flags|=1048576,yt)}function it(ft){return s&&ft.alternate===null&&(ft.flags|=2),ft}function ot(ft,yt,mt,Ft){return yt===null||yt.tag!==6?(yt=xh(mt,ft.mode,Ft),yt.return=ft,yt):(yt=nt(yt,mt),yt.return=ft,yt)}function st(ft,yt,mt,Ft){var vt=mt.type;return vt===ya?lt(ft,yt,mt.props.children,Ft,mt.key):yt!==null&&(yt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===yt.type)?(Ft=nt(yt,mt.props),Ft.ref=sh(ft,yt,mt),Ft.return=ft,Ft):(Ft=yh(mt.type,mt.key,mt.props,null,ft.mode,Ft),Ft.ref=sh(ft,yt,mt),Ft.return=ft,Ft)}function at(ft,yt,mt,Ft){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==mt.containerInfo||yt.stateNode.implementation!==mt.implementation?(yt=zh(mt,ft.mode,Ft),yt.return=ft,yt):(yt=nt(yt,mt.children||[]),yt.return=ft,yt)}function lt(ft,yt,mt,Ft,vt){return yt===null||yt.tag!==7?(yt=Ah(mt,ft.mode,Ft,vt),yt.return=ft,yt):(yt=nt(yt,mt),yt.return=ft,yt)}function ct(ft,yt,mt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,ft.mode,mt),yt.return=ft,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return mt=yh(yt.type,yt.key,yt.props,null,ft.mode,mt),mt.ref=sh(ft,null,yt),mt.return=ft,mt;case wa:return yt=zh(yt,ft.mode,mt),yt.return=ft,yt;case Ha:var Ft=yt._init;return ct(ft,Ft(yt._payload),mt)}if(eb(yt)||Ka(yt))return yt=Ah(yt,ft.mode,mt,null),yt.return=ft,yt;th(ft,yt)}return null}function ut(ft,yt,mt,Ft){var vt=yt!==null?yt.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return vt!==null?null:ot(ft,yt,""+mt,Ft);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===vt?st(ft,yt,mt,Ft):null;case wa:return mt.key===vt?at(ft,yt,mt,Ft):null;case Ha:return vt=mt._init,ut(ft,yt,vt(mt._payload),Ft)}if(eb(mt)||Ka(mt))return vt!==null?null:lt(ft,yt,mt,Ft,null);th(ft,mt)}return null}function dt(ft,yt,mt,Ft,vt){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return ft=ft.get(mt)||null,ot(yt,ft,""+Ft,vt);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:return ft=ft.get(Ft.key===null?mt:Ft.key)||null,st(yt,ft,Ft,vt);case wa:return ft=ft.get(Ft.key===null?mt:Ft.key)||null,at(yt,ft,Ft,vt);case Ha:var Et=Ft._init;return dt(ft,yt,mt,Et(Ft._payload),vt)}if(eb(Ft)||Ka(Ft))return ft=ft.get(mt)||null,lt(yt,ft,Ft,vt,null);th(yt,Ft)}return null}function ht(ft,yt,mt,Ft){for(var vt=null,Et=null,wt=yt,It=yt=0,St=null;wt!==null&&It<mt.length;It++){wt.index>It?(St=wt,wt=null):St=wt.sibling;var Rt=ut(ft,wt,mt[It],Ft);if(Rt===null){wt===null&&(wt=St);break}s&&wt&&Rt.alternate===null&&o(ft,wt),yt=rt(Rt,yt,It),Et===null?vt=Rt:Et.sibling=Rt,Et=Rt,wt=St}if(It===mt.length)return et(ft,wt),I$1&&tg(ft,It),vt;if(wt===null){for(;It<mt.length;It++)wt=ct(ft,mt[It],Ft),wt!==null&&(yt=rt(wt,yt,It),Et===null?vt=wt:Et.sibling=wt,Et=wt);return I$1&&tg(ft,It),vt}for(wt=tt(ft,wt);It<mt.length;It++)St=dt(wt,ft,It,mt[It],Ft),St!==null&&(s&&St.alternate!==null&&wt.delete(St.key===null?It:St.key),yt=rt(St,yt,It),Et===null?vt=St:Et.sibling=St,Et=St);return s&&wt.forEach(function(Tt){return o(ft,Tt)}),I$1&&tg(ft,It),vt}function pt(ft,yt,mt,Ft){var vt=Ka(mt);if(typeof vt!="function")throw Error(p$2(150));if(mt=vt.call(mt),mt==null)throw Error(p$2(151));for(var Et=vt=null,wt=yt,It=yt=0,St=null,Rt=mt.next();wt!==null&&!Rt.done;It++,Rt=mt.next()){wt.index>It?(St=wt,wt=null):St=wt.sibling;var Tt=ut(ft,wt,Rt.value,Ft);if(Tt===null){wt===null&&(wt=St);break}s&&wt&&Tt.alternate===null&&o(ft,wt),yt=rt(Tt,yt,It),Et===null?vt=Tt:Et.sibling=Tt,Et=Tt,wt=St}if(Rt.done)return et(ft,wt),I$1&&tg(ft,It),vt;if(wt===null){for(;!Rt.done;It++,Rt=mt.next())Rt=ct(ft,Rt.value,Ft),Rt!==null&&(yt=rt(Rt,yt,It),Et===null?vt=Rt:Et.sibling=Rt,Et=Rt);return I$1&&tg(ft,It),vt}for(wt=tt(ft,wt);!Rt.done;It++,Rt=mt.next())Rt=dt(wt,ft,It,Rt.value,Ft),Rt!==null&&(s&&Rt.alternate!==null&&wt.delete(Rt.key===null?It:Rt.key),yt=rt(Rt,yt,It),Et===null?vt=Rt:Et.sibling=Rt,Et=Rt);return s&&wt.forEach(function(bt){return o(ft,bt)}),I$1&&tg(ft,It),vt}function gt(ft,yt,mt,Ft){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var vt=mt.key,Et=yt;Et!==null;){if(Et.key===vt){if(vt=mt.type,vt===ya){if(Et.tag===7){et(ft,Et.sibling),yt=nt(Et,mt.props.children),yt.return=ft,ft=yt;break e}}else if(Et.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===Et.type){et(ft,Et.sibling),yt=nt(Et,mt.props),yt.ref=sh(ft,Et,mt),yt.return=ft,ft=yt;break e}et(ft,Et);break}else o(ft,Et);Et=Et.sibling}mt.type===ya?(yt=Ah(mt.props.children,ft.mode,Ft,mt.key),yt.return=ft,ft=yt):(Ft=yh(mt.type,mt.key,mt.props,null,ft.mode,Ft),Ft.ref=sh(ft,yt,mt),Ft.return=ft,ft=Ft)}return it(ft);case wa:e:{for(Et=mt.key;yt!==null;){if(yt.key===Et)if(yt.tag===4&&yt.stateNode.containerInfo===mt.containerInfo&&yt.stateNode.implementation===mt.implementation){et(ft,yt.sibling),yt=nt(yt,mt.children||[]),yt.return=ft,ft=yt;break e}else{et(ft,yt);break}else o(ft,yt);yt=yt.sibling}yt=zh(mt,ft.mode,Ft),yt.return=ft,ft=yt}return it(ft);case Ha:return Et=mt._init,gt(ft,yt,Et(mt._payload),Ft)}if(eb(mt))return ht(ft,yt,mt,Ft);if(Ka(mt))return pt(ft,yt,mt,Ft);th(ft,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,yt!==null&&yt.tag===6?(et(ft,yt.sibling),yt=nt(yt,mt),yt.return=ft,ft=yt):(et(ft,yt),yt=xh(mt,ft.mode,Ft),yt.return=ft,ft=yt),it(ft)):et(ft,yt)}return gt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(s){if(s===Dh)throw Error(p$2(174));return s}function Ih(s,o){switch(G$1(Gh,o),G$1(Fh,s),G$1(Eh,Dh),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=lb(o,s)}E$1(Eh),G$1(Eh,o)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(s){Hh(Gh.current);var o=Hh(Eh.current),et=lb(o,s.type);o!==et&&(G$1(Fh,s),G$1(Eh,et))}function Lh(s){Fh.current===s&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(s){for(var o=s;o!==null;){if(o.tag===13){var et=o.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var s=0;s<Nh.length;s++)Nh[s]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$2(321))}function Wh(s,o){if(o===null)return!1;for(var et=0;et<o.length&&et<s.length;et++)if(!He(s[et],o[et]))return!1;return!0}function Xh(s,o,et,tt,nt,rt){if(Rh=rt,N$1=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=s===null||s.memoizedState===null?Yh:Zh,s=et(tt,nt),Th){rt=0;do{if(Th=!1,Uh=0,25<=rt)throw Error(p$2(301));rt+=1,P=O=null,o.updateQueue=null,Ph.current=$h,s=et(tt,nt)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N$1=null,Sh=!1,o)throw Error(p$2(300));return s}function bi(){var s=Uh!==0;return Uh=0,s}function ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N$1.memoizedState=P=s:P=P.next=s,P}function di(){if(O===null){var s=N$1.alternate;s=s!==null?s.memoizedState:null}else s=O.next;var o=P===null?N$1.memoizedState:P.next;if(o!==null)P=o,O=s;else{if(s===null)throw Error(p$2(310));O=s,s={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N$1.memoizedState=P=s:P=P.next=s}return P}function ei(s,o){return typeof o=="function"?o(s):o}function fi(s){var o=di(),et=o.queue;if(et===null)throw Error(p$2(311));et.lastRenderedReducer=s;var tt=O,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var ot=it=null,st=null,at=rt;do{var lt=at.lane;if((Rh&lt)===lt)st!==null&&(st=st.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),tt=at.hasEagerState?at.eagerState:s(tt,at.action);else{var ct={lane:lt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};st===null?(ot=st=ct,it=tt):st=st.next=ct,N$1.lanes|=lt,hh|=lt}at=at.next}while(at!==null&&at!==rt);st===null?it=tt:st.next=ot,He(tt,o.memoizedState)||(Ug=!0),o.memoizedState=tt,o.baseState=it,o.baseQueue=st,et.lastRenderedState=tt}if(s=et.interleaved,s!==null){nt=s;do rt=nt.lane,N$1.lanes|=rt,hh|=rt,nt=nt.next;while(nt!==s)}else nt===null&&(et.lanes=0);return[o.memoizedState,et.dispatch]}function gi(s){var o=di(),et=o.queue;if(et===null)throw Error(p$2(311));et.lastRenderedReducer=s;var tt=et.dispatch,nt=et.pending,rt=o.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=s(rt,it.action),it=it.next;while(it!==nt);He(rt,o.memoizedState)||(Ug=!0),o.memoizedState=rt,o.baseQueue===null&&(o.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function hi(){}function ii(s,o){var et=N$1,tt=di(),nt=o(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,s),[s]),tt.getSnapshot!==o||rt||P!==null&&P.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,nt,o),void 0,null),R===null)throw Error(p$2(349));Rh&30||ni(et,o,nt)}return nt}function ni(s,o,et){s.flags|=16384,s={getSnapshot:o,value:et},o=N$1.updateQueue,o===null?(o={lastEffect:null,stores:null},N$1.updateQueue=o,o.stores=[s]):(et=o.stores,et===null?o.stores=[s]:et.push(s))}function mi(s,o,et,tt){o.value=et,o.getSnapshot=tt,oi(o)&&pi(s)}function ki(s,o,et){return et(function(){oi(o)&&pi(s)})}function oi(s){var o=s.getSnapshot;s=s.value;try{var et=o();return!He(s,et)}catch{return!0}}function pi(s){var o=Zg(s,1);o!==null&&mh(o,s,1,-1)}function qi(s){var o=ci();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:s},o.queue=s,s=s.dispatch=ri.bind(null,N$1,s),[o.memoizedState,s]}function li(s,o,et,tt){return s={tag:s,create:o,destroy:et,deps:tt,next:null},o=N$1.updateQueue,o===null?(o={lastEffect:null,stores:null},N$1.updateQueue=o,o.lastEffect=s.next=s):(et=o.lastEffect,et===null?o.lastEffect=s.next=s:(tt=et.next,et.next=s,s.next=tt,o.lastEffect=s)),s}function si(){return di().memoizedState}function ti(s,o,et,tt){var nt=ci();N$1.flags|=s,nt.memoizedState=li(1|o,et,void 0,tt===void 0?null:tt)}function ui(s,o,et,tt){var nt=di();tt=tt===void 0?null:tt;var rt=void 0;if(O!==null){var it=O.memoizedState;if(rt=it.destroy,tt!==null&&Wh(tt,it.deps)){nt.memoizedState=li(o,et,rt,tt);return}}N$1.flags|=s,nt.memoizedState=li(1|o,et,rt,tt)}function vi(s,o){return ti(8390656,8,s,o)}function ji(s,o){return ui(2048,8,s,o)}function wi(s,o){return ui(4,2,s,o)}function xi(s,o){return ui(4,4,s,o)}function yi(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function zi(s,o,et){return et=et!=null?et.concat([s]):null,ui(4,4,yi.bind(null,o,s),et)}function Ai(){}function Bi(s,o){var et=di();o=o===void 0?null:o;var tt=et.memoizedState;return tt!==null&&o!==null&&Wh(o,tt[1])?tt[0]:(et.memoizedState=[s,o],s)}function Ci(s,o){var et=di();o=o===void 0?null:o;var tt=et.memoizedState;return tt!==null&&o!==null&&Wh(o,tt[1])?tt[0]:(s=s(),et.memoizedState=[s,o],s)}function Di(s,o,et){return Rh&21?(He(et,o)||(et=yc(),N$1.lanes|=et,hh|=et,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Ug=!0),s.memoizedState=et)}function Ei(s,o){var et=C$1;C$1=et!==0&&4>et?et:4,s(!0);var tt=Qh.transition;Qh.transition={};try{s(!1),o()}finally{C$1=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi(s,o,et){var tt=lh(s);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(s))Ii(o,et);else if(et=Yg(s,o,et,tt),et!==null){var nt=L$1();mh(et,s,tt,nt),Ji(et,o,tt)}}function ri(s,o,et){var tt=lh(s),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(s))Ii(o,nt);else{var rt=s.alternate;if(s.lanes===0&&(rt===null||rt.lanes===0)&&(rt=o.lastRenderedReducer,rt!==null))try{var it=o.lastRenderedState,ot=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=ot,He(ot,it)){var st=o.interleaved;st===null?(nt.next=nt,Xg(o)):(nt.next=st.next,st.next=nt),o.interleaved=nt;return}}catch{}finally{}et=Yg(s,o,nt,tt),et!==null&&(nt=L$1(),mh(et,s,tt,nt),Ji(et,o,tt))}}function Hi(s){var o=s.alternate;return s===N$1||o!==null&&o===N$1}function Ii(s,o){Th=Sh=!0;var et=s.pending;et===null?o.next=o:(o.next=et.next,et.next=o),s.pending=o}function Ji(s,o,et){if(et&4194240){var tt=o.lanes;tt&=s.pendingLanes,et|=tt,o.lanes=et,Cc(s,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(s,o){return ci().memoizedState=[s,o===void 0?null:o],s},useContext:Vg,useEffect:vi,useImperativeHandle:function(s,o,et){return et=et!=null?et.concat([s]):null,ti(4194308,4,yi.bind(null,o,s),et)},useLayoutEffect:function(s,o){return ti(4194308,4,s,o)},useInsertionEffect:function(s,o){return ti(4,2,s,o)},useMemo:function(s,o){var et=ci();return o=o===void 0?null:o,s=s(),et.memoizedState=[s,o],s},useReducer:function(s,o,et){var tt=ci();return o=et!==void 0?et(o):o,tt.memoizedState=tt.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},tt.queue=s,s=s.dispatch=Gi.bind(null,N$1,s),[tt.memoizedState,s]},useRef:function(s){var o=ci();return s={current:s},o.memoizedState=s},useState:qi,useDebugValue:Ai,useDeferredValue:function(s){return ci().memoizedState=s},useTransition:function(){var s=qi(!1),o=s[0];return s=Ei.bind(null,s[1]),ci().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,et){var tt=N$1,nt=ci();if(I$1){if(et===void 0)throw Error(p$2(407));et=et()}else{if(et=o(),R===null)throw Error(p$2(349));Rh&30||ni(tt,o,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:o};return nt.queue=rt,vi(ki.bind(null,tt,rt,s),[s]),tt.flags|=2048,li(9,mi.bind(null,tt,rt,et,o),void 0,null),et},useId:function(){var s=ci(),o=R.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,o=":"+o+"R"+et,et=Uh++,0<et&&(o+="H"+et.toString(32)),o+=":"}else et=Vh++,o=":"+o+"r"+et.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(s){var o=di();return Di(o,O.memoizedState,s)},useTransition:function(){var s=fi(ei)[0],o=di().memoizedState;return[s,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(s){var o=di();return O===null?o.memoizedState=s:Di(o,O.memoizedState,s)},useTransition:function(){var s=gi(ei)[0],o=di().memoizedState;return[s,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(s,o){try{var et="",tt=o;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:s,source:o,stack:nt,digest:null}}function Li(s,o,et){return{value:s,source:null,stack:et??null,digest:o??null}}function Mi(s,o){try{console.error(o.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(s,o,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=o.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi(s,o)},et}function Ri(s,o,et){et=ch(-1,et),et.tag=3;var tt=s.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=o.value;et.payload=function(){return tt(nt)},et.callback=function(){Mi(s,o)}}var rt=s.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Mi(s,o),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=o.stack;this.componentDidCatch(o.value,{componentStack:it!==null?it:""})}),et}function Ti(s,o,et){var tt=s.pingCache;if(tt===null){tt=s.pingCache=new Ni;var nt=new Set;tt.set(o,nt)}else nt=tt.get(o),nt===void 0&&(nt=new Set,tt.set(o,nt));nt.has(et)||(nt.add(et),s=Ui.bind(null,s,o,et),o.then(s,s))}function Vi(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Wi(s,o,et,tt,nt){return s.mode&1?(s.flags|=65536,s.lanes=nt,s):(s===o?s.flags|=65536:(s.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(o=ch(-1,1),o.tag=2,dh(et,o,1))),et.lanes|=1),s)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(s,o,et,tt){o.child=s===null?Ch(o,null,et,tt):Bh(o,s.child,et,tt)}function Zi(s,o,et,tt,nt){et=et.render;var rt=o.ref;return Tg(o,nt),tt=Xh(s,o,et,tt,rt,nt),et=bi(),s!==null&&!Ug?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~nt,$i(s,o,nt)):(I$1&&et&&vg(o),o.flags|=1,Yi(s,o,tt,nt),o.child)}function aj(s,o,et,tt,nt){if(s===null){var rt=et.type;return typeof rt=="function"&&!bj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(o.tag=15,o.type=rt,cj(s,o,rt,tt,nt)):(s=yh(et.type,null,tt,o,o.mode,nt),s.ref=o.ref,s.return=o,o.child=s)}if(rt=s.child,!(s.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&s.ref===o.ref)return $i(s,o,nt)}return o.flags|=1,s=wh(rt,tt),s.ref=o.ref,s.return=o,o.child=s}function cj(s,o,et,tt,nt){if(s!==null){var rt=s.memoizedProps;if(Ie(rt,tt)&&s.ref===o.ref)if(Ug=!1,o.pendingProps=tt=rt,(s.lanes&nt)!==0)s.flags&131072&&(Ug=!0);else return o.lanes=s.lanes,$i(s,o,nt)}return dj(s,o,et,tt,nt)}function ej(s,o,et){var tt=o.pendingProps,nt=tt.children,rt=s!==null?s.memoizedState:null;if(tt.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return s=rt!==null?rt.baseLanes|et:et,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,G$1(fj,gj),gj|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G$1(fj,gj),gj|=tt}else rt!==null?(tt=rt.baseLanes|et,o.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi(s,o,nt,et),o.child}function hj(s,o){var et=o.ref;(s===null&&et!==null||s!==null&&s.ref!==et)&&(o.flags|=512,o.flags|=2097152)}function dj(s,o,et,tt,nt){var rt=Zf(et)?Xf:H$1.current;return rt=Yf(o,rt),Tg(o,nt),et=Xh(s,o,et,tt,rt,nt),tt=bi(),s!==null&&!Ug?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~nt,$i(s,o,nt)):(I$1&&tt&&vg(o),o.flags|=1,Yi(s,o,et,nt),o.child)}function ij(s,o,et,tt,nt){if(Zf(et)){var rt=!0;cg(o)}else rt=!1;if(Tg(o,nt),o.stateNode===null)jj(s,o),ph(o,et,tt),rh(o,et,tt,nt),tt=!0;else if(s===null){var it=o.stateNode,ot=o.memoizedProps;it.props=ot;var st=it.context,at=et.contextType;typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$1.current,at=Yf(o,at));var lt=et.getDerivedStateFromProps,ct=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ct||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==tt||st!==at)&&qh(o,it,tt,at),$g=!1;var ut=o.memoizedState;it.state=ut,gh(o,tt,it,nt),st=o.memoizedState,ot!==tt||ut!==st||Wf.current||$g?(typeof lt=="function"&&(kh(o,et,lt,tt),st=o.memoizedState),(ot=$g||oh(o,et,ot,tt,ut,st,at))?(ct||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(o.flags|=4194308)):(typeof it.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=tt,o.memoizedState=st),it.props=tt,it.state=st,it.context=at,tt=ot):(typeof it.componentDidMount=="function"&&(o.flags|=4194308),tt=!1)}else{it=o.stateNode,bh(s,o),ot=o.memoizedProps,at=o.type===o.elementType?ot:Lg(o.type,ot),it.props=at,ct=o.pendingProps,ut=it.context,st=et.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(et)?Xf:H$1.current,st=Yf(o,st));var dt=et.getDerivedStateFromProps;(lt=typeof dt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==ct||ut!==st)&&qh(o,it,tt,st),$g=!1,ut=o.memoizedState,it.state=ut,gh(o,tt,it,nt);var ht=o.memoizedState;ot!==ct||ut!==ht||Wf.current||$g?(typeof dt=="function"&&(kh(o,et,dt,tt),ht=o.memoizedState),(at=$g||oh(o,et,at,tt,ut,ht,st)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,ht,st),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,ht,st)),typeof it.componentDidUpdate=="function"&&(o.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof it.componentDidUpdate!="function"||ot===s.memoizedProps&&ut===s.memoizedState||(o.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===s.memoizedProps&&ut===s.memoizedState||(o.flags|=1024),o.memoizedProps=tt,o.memoizedState=ht),it.props=tt,it.state=ht,it.context=st,tt=at):(typeof it.componentDidUpdate!="function"||ot===s.memoizedProps&&ut===s.memoizedState||(o.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===s.memoizedProps&&ut===s.memoizedState||(o.flags|=1024),tt=!1)}return kj(s,o,et,tt,rt,nt)}function kj(s,o,et,tt,nt,rt){hj(s,o);var it=(o.flags&128)!==0;if(!tt&&!it)return nt&&dg(o,et,!1),$i(s,o,rt);tt=o.stateNode,Xi.current=o;var ot=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return o.flags|=1,s!==null&&it?(o.child=Bh(o,s.child,null,rt),o.child=Bh(o,null,ot,rt)):Yi(s,o,ot,rt),o.memoizedState=tt.state,nt&&dg(o,et,!0),o.child}function lj(s){var o=s.stateNode;o.pendingContext?ag(s,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(s,o.context,!1),Ih(s,o.containerInfo)}function mj(s,o,et,tt,nt){return Ig(),Jg(nt),o.flags|=256,Yi(s,o,et,tt),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(s){return{baseLanes:s,cachePool:null,transitions:null}}function pj(s,o,et){var tt=o.pendingProps,nt=M$1.current,rt=!1,it=(o.flags&128)!==0,ot;if((ot=it)||(ot=s!==null&&s.memoizedState===null?!1:(nt&2)!==0),ot?(rt=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(nt|=1),G$1(M$1,nt&1),s===null)return Eg(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(it=tt.children,s=tt.fallback,rt?(tt=o.mode,rt=o.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=qj(it,tt,0,null),s=Ah(s,tt,et,null),rt.return=o,s.return=o,rt.sibling=s,o.child=rt,o.child.memoizedState=oj(et),o.memoizedState=nj,s):rj(o,it));if(nt=s.memoizedState,nt!==null&&(ot=nt.dehydrated,ot!==null))return sj(s,o,it,tt,ot,nt,et);if(rt){rt=tt.fallback,it=o.mode,nt=s.child,ot=nt.sibling;var st={mode:"hidden",children:tt.children};return!(it&1)&&o.child!==nt?(tt=o.child,tt.childLanes=0,tt.pendingProps=st,o.deletions=null):(tt=wh(nt,st),tt.subtreeFlags=nt.subtreeFlags&14680064),ot!==null?rt=wh(ot,rt):(rt=Ah(rt,it,et,null),rt.flags|=2),rt.return=o,tt.return=o,tt.sibling=rt,o.child=tt,tt=rt,rt=o.child,it=s.child.memoizedState,it=it===null?oj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=s.childLanes&~et,o.memoizedState=nj,tt}return rt=s.child,s=rt.sibling,tt=wh(rt,{mode:"visible",children:tt.children}),!(o.mode&1)&&(tt.lanes=et),tt.return=o,tt.sibling=null,s!==null&&(et=o.deletions,et===null?(o.deletions=[s],o.flags|=16):et.push(s)),o.child=tt,o.memoizedState=null,tt}function rj(s,o){return o=qj({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function tj(s,o,et,tt){return tt!==null&&Jg(tt),Bh(o,s.child,null,et),s=rj(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function sj(s,o,et,tt,nt,rt,it){if(et)return o.flags&256?(o.flags&=-257,tt=Li(Error(p$2(422))),tj(s,o,it,tt)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(rt=tt.fallback,nt=o.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),rt=Ah(rt,nt,it,null),rt.flags|=2,tt.return=o,rt.return=o,tt.sibling=rt,o.child=tt,o.mode&1&&Bh(o,s.child,null,it),o.child.memoizedState=oj(it),o.memoizedState=nj,rt);if(!(o.mode&1))return tj(s,o,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var ot=tt.dgst;return tt=ot,rt=Error(p$2(419)),tt=Li(rt,tt,void 0),tj(s,o,it,tt)}if(ot=(it&s.childLanes)!==0,Ug||ot){if(tt=R,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,Zg(s,nt),mh(tt,s,nt,-1))}return uj(),tt=Li(Error(p$2(421))),tj(s,o,it,tt)}return nt.data==="$?"?(o.flags|=128,o.child=s.child,o=vj.bind(null,s),nt._reactRetry=o,null):(s=rt.treeContext,yg=Lf(nt.nextSibling),xg=o,I$1=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=o),o=rj(o,tt.children),o.flags|=4096,o)}function wj(s,o,et){s.lanes|=o;var tt=s.alternate;tt!==null&&(tt.lanes|=o),Sg(s.return,o,et)}function xj(s,o,et,tt,nt){var rt=s.memoizedState;rt===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=o,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function yj(s,o,et){var tt=o.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Yi(s,o,tt.children,et),tt=M$1.current,tt&2)tt=tt&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wj(s,et,o);else if(s.tag===19)wj(s,et,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}tt&=1}if(G$1(M$1,tt),!(o.mode&1))o.memoizedState=null;else switch(nt){case"forwards":for(et=o.child,nt=null;et!==null;)s=et.alternate,s!==null&&Mh(s)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=o.child,o.child=null):(nt=et.sibling,et.sibling=null),xj(o,!1,nt,et,rt);break;case"backwards":for(et=null,nt=o.child,o.child=null;nt!==null;){if(s=nt.alternate,s!==null&&Mh(s)===null){o.child=nt;break}s=nt.sibling,nt.sibling=et,et=nt,nt=s}xj(o,!0,et,null,rt);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function $i(s,o,et){if(s!==null&&(o.dependencies=s.dependencies),hh|=o.lanes,!(et&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(p$2(153));if(o.child!==null){for(s=o.child,et=wh(s,s.pendingProps),o.child=et,et.return=o;s.sibling!==null;)s=s.sibling,et=et.sibling=wh(s,s.pendingProps),et.return=o;et.sibling=null}return o.child}function zj(s,o,et){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var tt=o.type._context,nt=o.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=o.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),o.flags|=128,null):et&o.child.childLanes?pj(s,o,et):(G$1(M$1,M$1.current&1),s=$i(s,o,et),s!==null?s.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&o.childLanes)!==0,s.flags&128){if(tt)return yj(s,o,et);o.flags|=128}if(nt=o.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return o.lanes=0,ej(s,o,et)}return $i(s,o,et)}var Aj,Bj,Cj,Dj;Aj=function(s,o){for(var et=o.child;et!==null;){if(et.tag===5||et.tag===6)s.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===o)break;for(;et.sibling===null;){if(et.return===null||et.return===o)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(s,o,et,tt){var nt=s.memoizedProps;if(nt!==tt){s=o.stateNode,Hh(Eh.current);var rt=null;switch(et){case"input":nt=Ya(s,nt),tt=Ya(s,tt),rt=[];break;case"select":nt=A$1({},nt,{value:void 0}),tt=A$1({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb(s,nt),tt=gb(s,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(s.onclick=Bf)}ub(et,tt);var it;et=null;for(at in nt)if(!tt.hasOwnProperty(at)&&nt.hasOwnProperty(at)&&nt[at]!=null)if(at==="style"){var ot=nt[at];for(it in ot)ot.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?rt||(rt=[]):(rt=rt||[]).push(at,null));for(at in tt){var st=tt[at];if(ot=nt?.[at],tt.hasOwnProperty(at)&&st!==ot&&(st!=null||ot!=null))if(at==="style")if(ot){for(it in ot)!ot.hasOwnProperty(it)||st&&st.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in st)st.hasOwnProperty(it)&&ot[it]!==st[it]&&(et||(et={}),et[it]=st[it])}else et||(rt||(rt=[]),rt.push(at,et)),et=st;else at==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,ot=ot?ot.__html:void 0,st!=null&&ot!==st&&(rt=rt||[]).push(at,st)):at==="children"?typeof st!="string"&&typeof st!="number"||(rt=rt||[]).push(at,""+st):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(st!=null&&at==="onScroll"&&D$1("scroll",s),rt||ot===st||(rt=[])):(rt=rt||[]).push(at,st))}et&&(rt=rt||[]).push("style",et);var at=rt;(o.updateQueue=at)&&(o.flags|=4)}};Dj=function(s,o,et,tt){et!==tt&&(o.flags|=4)};function Ej(s,o){if(!I$1)switch(s.tailMode){case"hidden":o=s.tail;for(var et=null;o!==null;)o.alternate!==null&&(et=o),o=o.sibling;et===null?s.tail=null:et.sibling=null;break;case"collapsed":et=s.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:tt.sibling=null}}function S$1(s){var o=s.alternate!==null&&s.alternate.child===s.child,et=0,tt=0;if(o)for(var nt=s.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=s,nt=nt.sibling;else for(nt=s.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=s,nt=nt.sibling;return s.subtreeFlags|=tt,s.childLanes=et,o}function Fj(s,o,et){var tt=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(o),null;case 1:return Zf(o.type)&&$f(),S$1(o),null;case 3:return tt=o.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(s===null||s.child===null)&&(Gg(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(s,o),S$1(o),null;case 5:Lh(o);var nt=Hh(Gh.current);if(et=o.type,s!==null&&o.stateNode!=null)Cj(s,o,et,tt,nt),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!tt){if(o.stateNode===null)throw Error(p$2(166));return S$1(o),null}if(s=Hh(Eh.current),Gg(o)){tt=o.stateNode,et=o.type;var rt=o.memoizedProps;switch(tt[Of]=o,tt[Pf]=rt,s=(o.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,rt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,rt),D$1("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var ot=rt[it];it==="children"?typeof ot=="string"?tt.textContent!==ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,s),nt=["children",ot]):typeof ot=="number"&&tt.textContent!==""+ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,s),nt=["children",""+ot]):ea.hasOwnProperty(it)&&ot!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,o.updateQueue=tt,tt!==null&&(o.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(et)),s==="http://www.w3.org/1999/xhtml"?et==="script"?(s=it.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof tt.is=="string"?s=it.createElement(et,{is:tt.is}):(s=it.createElement(et),et==="select"&&(it=s,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):s=it.createElementNS(s,et),s[Of]=o,s[Pf]=tt,Aj(s,o,!1,!1),o.stateNode=s;e:{switch(it=vb(et,tt),et){case"dialog":D$1("cancel",s),D$1("close",s),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",s),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],s);nt=tt;break;case"source":D$1("error",s),nt=tt;break;case"img":case"image":case"link":D$1("error",s),D$1("load",s),nt=tt;break;case"details":D$1("toggle",s),nt=tt;break;case"input":Za(s,tt),nt=Ya(s,tt),D$1("invalid",s);break;case"option":nt=tt;break;case"select":s._wrapperState={wasMultiple:!!tt.multiple},nt=A$1({},tt,{value:void 0}),D$1("invalid",s);break;case"textarea":hb(s,tt),nt=gb(s,tt),D$1("invalid",s);break;default:nt=tt}ub(et,nt),ot=nt;for(rt in ot)if(ot.hasOwnProperty(rt)){var st=ot[rt];rt==="style"?sb(s,st):rt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(s,st)):rt==="children"?typeof st=="string"?(et!=="textarea"||st!=="")&&ob(s,st):typeof st=="number"&&ob(s,""+st):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?st!=null&&rt==="onScroll"&&D$1("scroll",s):st!=null&&ta(s,rt,st,it))}switch(et){case"input":Va(s),db(s,tt,!1);break;case"textarea":Va(s),jb(s);break;case"option":tt.value!=null&&s.setAttribute("value",""+Sa(tt.value));break;case"select":s.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb(s,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb(s,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(s.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S$1(o),null;case 6:if(s&&o.stateNode!=null)Dj(s,o,s.memoizedProps,tt);else{if(typeof tt!="string"&&o.stateNode===null)throw Error(p$2(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(tt=o.stateNode,et=o.memoizedProps,tt[Of]=o,(rt=tt.nodeValue!==et)&&(s=xg,s!==null))switch(s.tag){case 3:Af(tt.nodeValue,et,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(s.mode&1)!==0)}rt&&(o.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=o,o.stateNode=tt}return S$1(o),null;case 13:if(E$1(M$1),tt=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,rt=!1;else if(rt=Gg(o),tt!==null&&tt.dehydrated!==null){if(s===null){if(!rt)throw Error(p$2(318));if(rt=o.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$2(317));rt[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S$1(o),rt=!1}else zg!==null&&(Gj(zg),zg=null),rt=!0;if(!rt)return o.flags&65536?o:null}return o.flags&128?(o.lanes=et,o):(tt=tt!==null,tt!==(s!==null&&s.memoizedState!==null)&&tt&&(o.child.flags|=8192,o.mode&1&&(s===null||M$1.current&1?T$1===0&&(T$1=3):uj())),o.updateQueue!==null&&(o.flags|=4),S$1(o),null);case 4:return Jh(),Bj(s,o),s===null&&sf(o.stateNode.containerInfo),S$1(o),null;case 10:return Rg(o.type._context),S$1(o),null;case 17:return Zf(o.type)&&$f(),S$1(o),null;case 19:if(E$1(M$1),rt=o.memoizedState,rt===null)return S$1(o),null;if(tt=(o.flags&128)!==0,it=rt.rendering,it===null)if(tt)Ej(rt,!1);else{if(T$1!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(it=Mh(s),it!==null){for(o.flags|=128,Ej(rt,!1),tt=it.updateQueue,tt!==null&&(o.updateQueue=tt,o.flags|=4),o.subtreeFlags=0,tt=et,et=o.child;et!==null;)rt=et,s=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=s,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,s=it.dependencies,rt.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),o.child}s=s.sibling}rt.tail!==null&&B$1()>Hj&&(o.flags|=128,tt=!0,Ej(rt,!1),o.lanes=4194304)}else{if(!tt)if(s=Mh(it),s!==null){if(o.flags|=128,tt=!0,et=s.updateQueue,et!==null&&(o.updateQueue=et,o.flags|=4),Ej(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$1)return S$1(o),null}else 2*B$1()-rt.renderingStartTime>Hj&&et!==1073741824&&(o.flags|=128,tt=!0,Ej(rt,!1),o.lanes=4194304);rt.isBackwards?(it.sibling=o.child,o.child=it):(et=rt.last,et!==null?et.sibling=it:o.child=it,rt.last=it)}return rt.tail!==null?(o=rt.tail,rt.rendering=o,rt.tail=o.sibling,rt.renderingStartTime=B$1(),o.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),o):(S$1(o),null);case 22:case 23:return Ij(),tt=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==tt&&(o.flags|=8192),tt&&o.mode&1?gj&1073741824&&(S$1(o),o.subtreeFlags&6&&(o.flags|=8192)):S$1(o),null;case 24:return null;case 25:return null}throw Error(p$2(156,o.tag))}function Jj(s,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E$1(M$1),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(p$2(340));Ig()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(s,o){var et=s.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1(s,o,tt)}else et.current=null}function Nj(s,o,et){try{et()}catch(tt){W$1(s,o,tt)}}var Oj=!1;function Pj(s,o){if(Cf=dd,s=Me$1(),Ne$1(s)){if("selectionStart"in s)var et={start:s.selectionStart,end:s.selectionEnd};else e:{et=(et=s.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,ot=-1,st=-1,at=0,lt=0,ct=s,ut=null;t:for(;;){for(var dt;ct!==et||nt!==0&&ct.nodeType!==3||(ot=it+nt),ct!==rt||tt!==0&&ct.nodeType!==3||(st=it+tt),ct.nodeType===3&&(it+=ct.nodeValue.length),(dt=ct.firstChild)!==null;)ut=ct,ct=dt;for(;;){if(ct===s)break t;if(ut===et&&++at===nt&&(ot=it),ut===rt&&++lt===tt&&(st=it),(dt=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=dt}et=ot===-1||st===-1?null:{start:ot,end:st}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:s,selectionRange:et},dd=!1,V$1=o;V$1!==null;)if(o=V$1,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,V$1=s;else for(;V$1!==null;){o=V$1;try{var ht=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var pt=ht.memoizedProps,gt=ht.memoizedState,ft=o.stateNode,yt=ft.getSnapshotBeforeUpdate(o.elementType===o.type?pt:Lg(o.type,pt),gt);ft.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var mt=o.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Ft){W$1(o,o.return,Ft)}if(s=o.sibling,s!==null){s.return=o.return,V$1=s;break}V$1=o.return}return ht=Oj,Oj=!1,ht}function Qj(s,o,et){var tt=o.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&s)===s){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Nj(o,et,rt)}nt=nt.next}while(nt!==tt)}}function Rj(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var et=o=o.next;do{if((et.tag&s)===s){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==o)}}function Sj(s){var o=s.ref;if(o!==null){var et=s.stateNode;switch(s.tag){case 5:s=et;break;default:s=et}typeof o=="function"?o(s):o.current=s}}function Tj(s){var o=s.alternate;o!==null&&(s.alternate=null,Tj(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Uj(s){return s.tag===5||s.tag===3||s.tag===4}function Vj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Uj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wj(s,o,et){var tt=s.tag;if(tt===5||tt===6)s=s.stateNode,o?et.nodeType===8?et.parentNode.insertBefore(s,o):et.insertBefore(s,o):(et.nodeType===8?(o=et.parentNode,o.insertBefore(s,et)):(o=et,o.appendChild(s)),et=et._reactRootContainer,et!=null||o.onclick!==null||(o.onclick=Bf));else if(tt!==4&&(s=s.child,s!==null))for(Wj(s,o,et),s=s.sibling;s!==null;)Wj(s,o,et),s=s.sibling}function Xj(s,o,et){var tt=s.tag;if(tt===5||tt===6)s=s.stateNode,o?et.insertBefore(s,o):et.appendChild(s);else if(tt!==4&&(s=s.child,s!==null))for(Xj(s,o,et),s=s.sibling;s!==null;)Xj(s,o,et),s=s.sibling}var X$1=null,Yj=!1;function Zj(s,o,et){for(et=et.child;et!==null;)ak(s,o,et),et=et.sibling}function ak(s,o,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,o);case 6:var tt=X$1,nt=Yj;X$1=null,Zj(s,o,et),X$1=tt,Yj=nt,X$1!==null&&(Yj?(s=X$1,et=et.stateNode,s.nodeType===8?s.parentNode.removeChild(et):s.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?(s=X$1,et=et.stateNode,s.nodeType===8?Kf(s.parentNode,et):s.nodeType===1&&Kf(s,et),bd(s)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj(s,o,et),X$1=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Nj(et,o,it),nt=nt.next}while(nt!==tt)}Zj(s,o,et);break;case 1:if(!U$1&&(Mj(et,o),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(ot){W$1(et,o,ot)}Zj(s,o,et);break;case 21:Zj(s,o,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj(s,o,et),U$1=tt):Zj(s,o,et);break;default:Zj(s,o,et)}}function bk(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var et=s.stateNode;et===null&&(et=s.stateNode=new Lj),o.forEach(function(tt){var nt=ck.bind(null,s,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function dk(s,o){var et=o.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=s,it=o,ot=it;e:for(;ot!==null;){switch(ot.tag){case 5:X$1=ot.stateNode,Yj=!1;break e;case 3:X$1=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X$1===null)throw Error(p$2(160));ak(rt,it,nt),X$1=null,Yj=!1;var st=nt.alternate;st!==null&&(st.return=null),nt.return=null}catch(at){W$1(nt,o,at)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,s),o=o.sibling}function ek(s,o){var et=s.alternate,tt=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dk(o,s),fk(s),tt&4){try{Qj(3,s,s.return),Rj(3,s)}catch(pt){W$1(s,s.return,pt)}try{Qj(5,s,s.return)}catch(pt){W$1(s,s.return,pt)}}break;case 1:dk(o,s),fk(s),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(o,s),fk(s),tt&512&&et!==null&&Mj(et,et.return),s.flags&32){var nt=s.stateNode;try{ob(nt,"")}catch(pt){W$1(s,s.return,pt)}}if(tt&4&&(nt=s.stateNode,nt!=null)){var rt=s.memoizedProps,it=et!==null?et.memoizedProps:rt,ot=s.type,st=s.updateQueue;if(s.updateQueue=null,st!==null)try{ot==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(ot,it);var at=vb(ot,rt);for(it=0;it<st.length;it+=2){var lt=st[it],ct=st[it+1];lt==="style"?sb(nt,ct):lt==="dangerouslySetInnerHTML"?nb(nt,ct):lt==="children"?ob(nt,ct):ta(nt,lt,ct,at)}switch(ot){case"input":bb$2(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var ut=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var dt=rt.value;dt!=null?fb(nt,!!rt.multiple,dt,!1):ut!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(pt){W$1(s,s.return,pt)}}break;case 6:if(dk(o,s),fk(s),tt&4){if(s.stateNode===null)throw Error(p$2(162));nt=s.stateNode,rt=s.memoizedProps;try{nt.nodeValue=rt}catch(pt){W$1(s,s.return,pt)}}break;case 3:if(dk(o,s),fk(s),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(pt){W$1(s,s.return,pt)}break;case 4:dk(o,s),fk(s);break;case 13:dk(o,s),fk(s),nt=s.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk(s);break;case 22:if(lt=et!==null&&et.memoizedState!==null,s.mode&1?(U$1=(at=U$1)||lt,dk(o,s),U$1=at):dk(o,s),fk(s),tt&8192){if(at=s.memoizedState!==null,(s.stateNode.isHidden=at)&&!lt&&s.mode&1)for(V$1=s,lt=s.child;lt!==null;){for(ct=V$1=lt;V$1!==null;){switch(ut=V$1,dt=ut.child,ut.tag){case 0:case 11:case 14:case 15:Qj(4,ut,ut.return);break;case 1:Mj(ut,ut.return);var ht=ut.stateNode;if(typeof ht.componentWillUnmount=="function"){tt=ut,et=ut.return;try{o=tt,ht.props=o.memoizedProps,ht.state=o.memoizedState,ht.componentWillUnmount()}catch(pt){W$1(tt,et,pt)}}break;case 5:Mj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){hk(ct);continue}}dt!==null?(dt.return=ut,V$1=dt):hk(ct)}lt=lt.sibling}e:for(lt=null,ct=s;;){if(ct.tag===5){if(lt===null){lt=ct;try{nt=ct.stateNode,at?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(ot=ct.stateNode,st=ct.memoizedProps.style,it=st!=null&&st.hasOwnProperty("display")?st.display:null,ot.style.display=rb("display",it))}catch(pt){W$1(s,s.return,pt)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=at?"":ct.memoizedProps}catch(pt){W$1(s,s.return,pt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===s)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===s)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===s)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:dk(o,s),fk(s),tt&4&&bk(s);break;case 21:break;default:dk(o,s),fk(s)}}function fk(s){var o=s.flags;if(o&2){try{e:{for(var et=s.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$2(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Vj(s);Xj(s,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,ot=Vj(s);Wj(s,ot,it);break;default:throw Error(p$2(161))}}catch(st){W$1(s,s.return,st)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function ik(s,o,et){V$1=s,jk(s)}function jk(s,o,et){for(var tt=(s.mode&1)!==0;V$1!==null;){var nt=V$1,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Kj;if(!it){var ot=nt.alternate,st=ot!==null&&ot.memoizedState!==null||U$1;ot=Kj;var at=U$1;if(Kj=it,(U$1=st)&&!at)for(V$1=nt;V$1!==null;)it=V$1,st=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):st!==null?(st.return=it,V$1=st):kk(nt);for(;rt!==null;)V$1=rt,jk(rt),rt=rt.sibling;V$1=nt,Kj=ot,U$1=at}lk(s)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V$1=rt):lk(s)}}function lk(s){for(;V$1!==null;){var o=V$1;if(o.flags&8772){var et=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U$1||Rj(5,o);break;case 1:var tt=o.stateNode;if(o.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var nt=o.elementType===o.type?et.memoizedProps:Lg(o.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=o.updateQueue;rt!==null&&ih(o,rt,tt);break;case 3:var it=o.updateQueue;if(it!==null){if(et=null,o.child!==null)switch(o.child.tag){case 5:et=o.child.stateNode;break;case 1:et=o.child.stateNode}ih(o,it,et)}break;case 5:var ot=o.stateNode;if(et===null&&o.flags&4){et=ot;var st=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&et.focus();break;case"img":st.src&&(et.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var at=o.alternate;if(at!==null){var lt=at.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||o.flags&512&&Sj(o)}catch(ut){W$1(o,o.return,ut)}}if(o===s){V$1=null;break}if(et=o.sibling,et!==null){et.return=o.return,V$1=et;break}V$1=o.return}}function hk(s){for(;V$1!==null;){var o=V$1;if(o===s){V$1=null;break}var et=o.sibling;if(et!==null){et.return=o.return,V$1=et;break}V$1=o.return}}function kk(s){for(;V$1!==null;){var o=V$1;try{switch(o.tag){case 0:case 11:case 15:var et=o.return;try{Rj(4,o)}catch(st){W$1(o,et,st)}break;case 1:var tt=o.stateNode;if(typeof tt.componentDidMount=="function"){var nt=o.return;try{tt.componentDidMount()}catch(st){W$1(o,nt,st)}}var rt=o.return;try{Sj(o)}catch(st){W$1(o,rt,st)}break;case 5:var it=o.return;try{Sj(o)}catch(st){W$1(o,it,st)}}}catch(st){W$1(o,o.return,st)}if(o===s){V$1=null;break}var ot=o.sibling;if(ot!==null){ot.return=o.return,V$1=ot;break}V$1=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(s){return s.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(s=C$1,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function mh(s,o,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(s,et,tt),(!(K$1&2)||s!==R)&&(s===R&&(!(K$1&2)&&(rk|=et),T$1===4&&Dk(s,Z$1)),Ek(s,tt),et===1&&K$1===0&&!(o.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(s,o){var et=s.callbackNode;wc(s,o);var tt=uc(s,s===R?Z$1:0);if(tt===0)et!==null&&bc(et),s.callbackNode=null,s.callbackPriority=0;else if(o=tt&-tt,s.callbackPriority!==o){if(et!=null&&bc(et),o===1)s.tag===0?ig(Fk.bind(null,s)):hg(Fk.bind(null,s)),Jf(function(){!(K$1&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,s))}s.callbackPriority=o,s.callbackNode=et}}function Hk(s,o){if(Bk=-1,Ck=0,K$1&6)throw Error(p$2(327));var et=s.callbackNode;if(Ik()&&s.callbackNode!==et)return null;var tt=uc(s,s===R?Z$1:0);if(tt===0)return null;if(tt&30||tt&s.expiredLanes||o)o=Jk(s,tt);else{o=tt;var nt=K$1;K$1|=2;var rt=Kk();(R!==s||Z$1!==o)&&(vk=null,Hj=B$1()+500,Lk(s,o));do try{Mk();break}catch(ot){Nk(s,ot)}while(1);Qg(),nk.current=rt,K$1=nt,Y$1!==null?o=0:(R=null,Z$1=0,o=T$1)}if(o!==0){if(o===2&&(nt=xc(s),nt!==0&&(tt=nt,o=Ok(s,nt))),o===1)throw et=qk,Lk(s,0),Dk(s,tt),Ek(s,B$1()),et;if(o===6)Dk(s,tt);else{if(nt=s.current.alternate,!(tt&30)&&!Pk(nt)&&(o=Jk(s,tt),o===2&&(rt=xc(s),rt!==0&&(tt=rt,o=Ok(s,rt))),o===1))throw et=qk,Lk(s,0),Dk(s,tt),Ek(s,B$1()),et;switch(s.finishedWork=nt,s.finishedLanes=tt,o){case 0:case 1:throw Error(p$2(345));case 2:Qk(s,uk,vk);break;case 3:if(Dk(s,tt),(tt&130023424)===tt&&(o=gk+500-B$1(),10<o)){if(uc(s,0)!==0)break;if(nt=s.suspendedLanes,(nt&tt)!==tt){L$1(),s.pingedLanes|=s.suspendedLanes&nt;break}s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),o);break}Qk(s,uk,vk);break;case 4:if(Dk(s,tt),(tt&4194240)===tt)break;for(o=s.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=o[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),tt);break}Qk(s,uk,vk);break;case 5:Qk(s,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(s,B$1()),s.callbackNode===et?Hk.bind(null,s):null}function Ok(s,o){var et=tk;return s.current.memoizedState.isDehydrated&&(Lk(s,o).flags|=256),s=Jk(s,o),s!==2&&(o=uk,uk=et,o!==null&&Gj(o)),s}function Gj(s){uk===null?uk=s:uk.push.apply(uk,s)}function Pk(s){for(var o=s;;){if(o.flags&16384){var et=o.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=o.child,o.subtreeFlags&16384&&et!==null)et.return=o,o=et;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(s,o){for(o&=~sk,o&=~rk,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var et=31-oc(o),tt=1<<et;s[et]=-1,o&=~tt}}function Fk(s){if(K$1&6)throw Error(p$2(327));Ik();var o=uc(s,0);if(!(o&1))return Ek(s,B$1()),null;var et=Jk(s,o);if(s.tag!==0&&et===2){var tt=xc(s);tt!==0&&(o=tt,et=Ok(s,tt))}if(et===1)throw et=qk,Lk(s,0),Dk(s,o),Ek(s,B$1()),et;if(et===6)throw Error(p$2(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Qk(s,uk,vk),Ek(s,B$1()),null}function Rk(s,o){var et=K$1;K$1|=1;try{return s(o)}finally{K$1=et,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(s){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var o=K$1;K$1|=1;var et=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=1,s)return s()}finally{C$1=tt,pk.transition=et,K$1=o,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(s,o){s.finishedWork=null,s.finishedLanes=0;var et=s.timeoutHandle;if(et!==-1&&(s.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R=s,Y$1=s=wh(s.current,null),Z$1=gj=o,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(et=Wg[o],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}Wg=null}return s}function Nk(s,o){do{var et=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P=O=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$1=1,qk=o,Y$1=null;break}e:{var rt=s,it=et.return,ot=et,st=o;if(o=Z$1,ot.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var at=st,lt=ot,ct=lt.tag;if(!(lt.mode&1)&&(ct===0||ct===11||ct===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var dt=Vi(it);if(dt!==null){dt.flags&=-257,Wi(dt,it,ot,rt,o),dt.mode&1&&Ti(rt,at,o),o=dt,st=at;var ht=o.updateQueue;if(ht===null){var pt=new Set;pt.add(st),o.updateQueue=pt}else ht.add(st);break e}else{if(!(o&1)){Ti(rt,at,o),uj();break e}st=Error(p$2(426))}}else if(I$1&&ot.mode&1){var gt=Vi(it);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Wi(gt,it,ot,rt,o),Jg(Ki(st,ot));break e}}rt=st=Ki(st,ot),T$1!==4&&(T$1=2),tk===null?tk=[rt]:tk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,o&=-o,rt.lanes|=o;var ft=Oi(rt,st,o);fh(rt,ft);break e;case 1:ot=st;var yt=rt.type,mt=rt.stateNode;if(!(rt.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Si===null||!Si.has(mt)))){rt.flags|=65536,o&=-o,rt.lanes|=o;var Ft=Ri(rt,ot,o);fh(rt,Ft);break e}}rt=rt.return}while(rt!==null)}Tk(et)}catch(vt){o=vt,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(1)}function Kk(){var s=nk.current;return nk.current=ai,s===null?ai:s}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z$1)}function Jk(s,o){var et=K$1;K$1|=2;var tt=Kk();(R!==s||Z$1!==o)&&(vk=null,Lk(s,o));do try{Uk();break}catch(nt){Nk(s,nt)}while(1);if(Qg(),K$1=et,nk.current=tt,Y$1!==null)throw Error(p$2(261));return R=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(s){var o=Wk(s.alternate,s,gj);s.memoizedProps=s.pendingProps,o===null?Tk(s):Y$1=o,ok.current=null}function Tk(s){var o=s;do{var et=o.alternate;if(s=o.return,o.flags&32768){if(et=Jj(et,o),et!==null){et.flags&=32767,Y$1=et;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T$1=6,Y$1=null;return}}else if(et=Fj(et,o,gj),et!==null){Y$1=et;return}if(o=o.sibling,o!==null){Y$1=o;return}Y$1=o=s}while(o!==null);T$1===0&&(T$1=5)}function Qk(s,o,et){var tt=C$1,nt=pk.transition;try{pk.transition=null,C$1=1,Xk(s,o,et,tt)}finally{pk.transition=nt,C$1=tt}return null}function Xk(s,o,et,tt){do Ik();while(xk!==null);if(K$1&6)throw Error(p$2(327));et=s.finishedWork;var nt=s.finishedLanes;if(et===null)return null;if(s.finishedWork=null,s.finishedLanes=0,et===s.current)throw Error(p$2(177));s.callbackNode=null,s.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc(s,rt),s===R&&(Y$1=R=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=pk.transition,pk.transition=null;var it=C$1;C$1=1;var ot=K$1;K$1|=4,ok.current=null,Pj(s,et),ek(et,s),Oe$1(Df),dd=!!Cf,Df=Cf=null,s.current=et,ik(et),dc(),K$1=ot,C$1=it,pk.transition=rt}else s.current=et;if(wk&&(wk=!1,xk=s,yk=nt),rt=s.pendingLanes,rt===0&&(Si=null),mc(et.stateNode),Ek(s,B$1()),o!==null)for(tt=s.onRecoverableError,et=0;et<o.length;et++)nt=o[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,s=Qi,Qi=null,s;return yk&1&&s.tag!==0&&Ik(),rt=s.pendingLanes,rt&1?s===Ak?zk++:(zk=0,Ak=s):zk=0,jg(),null}function Ik(){if(xk!==null){var s=Dc(yk),o=pk.transition,et=C$1;try{if(pk.transition=null,C$1=16>s?16:s,xk===null)var tt=!1;else{if(s=xk,xk=null,yk=0,K$1&6)throw Error(p$2(331));var nt=K$1;for(K$1|=4,V$1=s.current;V$1!==null;){var rt=V$1,it=rt.child;if(V$1.flags&16){var ot=rt.deletions;if(ot!==null){for(var st=0;st<ot.length;st++){var at=ot[st];for(V$1=at;V$1!==null;){var lt=V$1;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,rt)}var ct=lt.child;if(ct!==null)ct.return=lt,V$1=ct;else for(;V$1!==null;){lt=V$1;var ut=lt.sibling,dt=lt.return;if(Tj(lt),lt===at){V$1=null;break}if(ut!==null){ut.return=dt,V$1=ut;break}V$1=dt}}}var ht=rt.alternate;if(ht!==null){var pt=ht.child;if(pt!==null){ht.child=null;do{var gt=pt.sibling;pt.sibling=null,pt=gt}while(pt!==null)}}V$1=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V$1=it;else e:for(;V$1!==null;){if(rt=V$1,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Qj(9,rt,rt.return)}var ft=rt.sibling;if(ft!==null){ft.return=rt.return,V$1=ft;break e}V$1=rt.return}}var yt=s.current;for(V$1=yt;V$1!==null;){it=V$1;var mt=it.child;if(it.subtreeFlags&2064&&mt!==null)mt.return=it,V$1=mt;else e:for(it=yt;V$1!==null;){if(ot=V$1,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(vt){W$1(ot,ot.return,vt)}if(ot===it){V$1=null;break e}var Ft=ot.sibling;if(Ft!==null){Ft.return=ot.return,V$1=Ft;break e}V$1=ot.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}tt=!0}return tt}finally{C$1=et,pk.transition=o}}return!1}function Yk(s,o,et){o=Ki(et,o),o=Oi(s,o,1),s=dh(s,o,1),o=L$1(),s!==null&&(Ac(s,1,o),Ek(s,o))}function W$1(s,o,et){if(s.tag===3)Yk(s,s,et);else for(;o!==null;){if(o.tag===3){Yk(o,s,et);break}else if(o.tag===1){var tt=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){s=Ki(et,s),s=Ri(o,s,1),o=dh(o,s,1),s=L$1(),o!==null&&(Ac(o,1,s),Ek(o,s));break}}o=o.return}}function Ui(s,o,et){var tt=s.pingCache;tt!==null&&tt.delete(o),o=L$1(),s.pingedLanes|=s.suspendedLanes&et,R===s&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(s,0):sk|=et),Ek(s,o)}function Zk(s,o){o===0&&(s.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var et=L$1();s=Zg(s,o),s!==null&&(Ac(s,o,et),Ek(s,et))}function vj(s){var o=s.memoizedState,et=0;o!==null&&(et=o.retryLane),Zk(s,et)}function ck(s,o){var et=0;switch(s.tag){case 13:var tt=s.stateNode,nt=s.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=s.stateNode;break;default:throw Error(p$2(314))}tt!==null&&tt.delete(o),Zk(s,et)}var Wk;Wk=function(s,o,et){if(s!==null)if(s.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(s.lanes&et)&&!(o.flags&128))return Ug=!1,zj(s,o,et);Ug=!!(s.flags&131072)}else Ug=!1,I$1&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var tt=o.type;jj(s,o),s=o.pendingProps;var nt=Yf(o,H$1.current);Tg(o,et),nt=Xh(null,o,tt,s,nt,et);var rt=bi();return o.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(tt)?(rt=!0,cg(o)):rt=!1,o.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(o),nt.updater=nh,o.stateNode=nt,nt._reactInternals=o,rh(o,tt,s,et),o=kj(null,o,tt,!0,rt,et)):(o.tag=0,I$1&&rt&&vg(o),Yi(null,o,nt,et),o=o.child),o;case 16:tt=o.elementType;e:{switch(jj(s,o),s=o.pendingProps,nt=tt._init,tt=nt(tt._payload),o.type=tt,nt=o.tag=$k(tt),s=Lg(tt,s),nt){case 0:o=dj(null,o,tt,s,et);break e;case 1:o=ij(null,o,tt,s,et);break e;case 11:o=Zi(null,o,tt,s,et);break e;case 14:o=aj(null,o,tt,Lg(tt.type,s),et);break e}throw Error(p$2(306,tt,""))}return o;case 0:return tt=o.type,nt=o.pendingProps,nt=o.elementType===tt?nt:Lg(tt,nt),dj(s,o,tt,nt,et);case 1:return tt=o.type,nt=o.pendingProps,nt=o.elementType===tt?nt:Lg(tt,nt),ij(s,o,tt,nt,et);case 3:e:{if(lj(o),s===null)throw Error(p$2(387));tt=o.pendingProps,rt=o.memoizedState,nt=rt.element,bh(s,o),gh(o,tt,null,et);var it=o.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},o.updateQueue.baseState=rt,o.memoizedState=rt,o.flags&256){nt=Ki(Error(p$2(423)),o),o=mj(s,o,tt,et,nt);break e}else if(tt!==nt){nt=Ki(Error(p$2(424)),o),o=mj(s,o,tt,et,nt);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I$1=!0,zg=null,et=Ch(o,null,tt,et),o.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){o=$i(s,o,et);break e}Yi(s,o,tt,et)}o=o.child}return o;case 5:return Kh(o),s===null&&Eg(o),tt=o.type,nt=o.pendingProps,rt=s!==null?s.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(o.flags|=32),hj(s,o),Yi(s,o,it,et),o.child;case 6:return s===null&&Eg(o),null;case 13:return pj(s,o,et);case 4:return Ih(o,o.stateNode.containerInfo),tt=o.pendingProps,s===null?o.child=Bh(o,null,tt,et):Yi(s,o,tt,et),o.child;case 11:return tt=o.type,nt=o.pendingProps,nt=o.elementType===tt?nt:Lg(tt,nt),Zi(s,o,tt,nt,et);case 7:return Yi(s,o,o.pendingProps,et),o.child;case 8:return Yi(s,o,o.pendingProps.children,et),o.child;case 12:return Yi(s,o,o.pendingProps.children,et),o.child;case 10:e:{if(tt=o.type._context,nt=o.pendingProps,rt=o.memoizedProps,it=nt.value,G$1(Mg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){o=$i(s,o,et);break e}}else for(rt=o.child,rt!==null&&(rt.return=o);rt!==null;){var ot=rt.dependencies;if(ot!==null){it=rt.child;for(var st=ot.firstContext;st!==null;){if(st.context===tt){if(rt.tag===1){st=ch(-1,et&-et),st.tag=2;var at=rt.updateQueue;if(at!==null){at=at.shared;var lt=at.pending;lt===null?st.next=st:(st.next=lt.next,lt.next=st),at.pending=st}}rt.lanes|=et,st=rt.alternate,st!==null&&(st.lanes|=et),Sg(rt.return,et,o),ot.lanes|=et;break}st=st.next}}else if(rt.tag===10)it=rt.type===o.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$2(341));it.lanes|=et,ot=it.alternate,ot!==null&&(ot.lanes|=et),Sg(it,et,o),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===o){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Yi(s,o,nt.children,et),o=o.child}return o;case 9:return nt=o.type,tt=o.pendingProps.children,Tg(o,et),nt=Vg(nt),tt=tt(nt),o.flags|=1,Yi(s,o,tt,et),o.child;case 14:return tt=o.type,nt=Lg(tt,o.pendingProps),nt=Lg(tt.type,nt),aj(s,o,tt,nt,et);case 15:return cj(s,o,o.type,o.pendingProps,et);case 17:return tt=o.type,nt=o.pendingProps,nt=o.elementType===tt?nt:Lg(tt,nt),jj(s,o),o.tag=1,Zf(tt)?(s=!0,cg(o)):s=!1,Tg(o,et),ph(o,tt,nt),rh(o,tt,nt,et),kj(null,o,tt,!0,s,et);case 19:return yj(s,o,et);case 22:return ej(s,o,et)}throw Error(p$2(156,o.tag))};function Gk(s,o){return ac(s,o)}function al(s,o,et,tt){this.tag=s,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,o,et,tt){return new al(s,o,et,tt)}function bj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $k(s){if(typeof s=="function")return bj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function wh(s,o){var et=s.alternate;return et===null?(et=Bg(s.tag,o,s.key,s.mode),et.elementType=s.elementType,et.type=s.type,et.stateNode=s.stateNode,et.alternate=s,s.alternate=et):(et.pendingProps=o,et.type=s.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=s.flags&14680064,et.childLanes=s.childLanes,et.lanes=s.lanes,et.child=s.child,et.memoizedProps=s.memoizedProps,et.memoizedState=s.memoizedState,et.updateQueue=s.updateQueue,o=s.dependencies,et.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},et.sibling=s.sibling,et.index=s.index,et.ref=s.ref,et}function yh(s,o,et,tt,nt,rt){var it=2;if(tt=s,typeof s=="function")bj(s)&&(it=1);else if(typeof s=="string")it=5;else e:switch(s){case ya:return Ah(et.children,nt,rt,o);case za:it=8,nt|=8;break;case Aa:return s=Bg(12,et,o,nt|2),s.elementType=Aa,s.lanes=rt,s;case Ea:return s=Bg(13,et,o,nt),s.elementType=Ea,s.lanes=rt,s;case Fa:return s=Bg(19,et,o,nt),s.elementType=Fa,s.lanes=rt,s;case Ia:return qj(et,nt,rt,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$2(130,s==null?s:typeof s,""))}return o=Bg(it,et,o,nt),o.elementType=s,o.type=tt,o.lanes=rt,o}function Ah(s,o,et,tt){return s=Bg(7,s,tt,o),s.lanes=et,s}function qj(s,o,et,tt){return s=Bg(22,s,tt,o),s.elementType=Ia,s.lanes=et,s.stateNode={isHidden:!1},s}function xh(s,o,et){return s=Bg(6,s,null,o),s.lanes=et,s}function zh(s,o,et){return o=Bg(4,s.children!==null?s.children:[],s.key,o),o.lanes=et,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function bl(s,o,et,tt,nt){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(s,o,et,tt,nt,rt,it,ot,st){return s=new bl(s,o,et,ot,st),o===1?(o=1,rt===!0&&(o|=8)):o=0,rt=Bg(3,null,null,o),s.current=rt,rt.stateNode=s,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rt),s}function dl(s,o,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:s,containerInfo:o,implementation:et}}function el(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p$2(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$2(171))}if(s.tag===1){var et=s.type;if(Zf(et))return bg(s,et,o)}return o}function fl(s,o,et,tt,nt,rt,it,ot,st){return s=cl(et,tt,!0,s,nt,rt,it,ot,st),s.context=el(null),et=s.current,tt=L$1(),nt=lh(et),rt=ch(tt,nt),rt.callback=o??null,dh(et,rt,nt),s.current.lanes=nt,Ac(s,nt,tt),Ek(s,tt),s}function gl(s,o,et,tt){var nt=o.current,rt=L$1(),it=lh(nt);return et=el(et),o.context===null?o.context=et:o.pendingContext=et,o=ch(rt,it),o.payload={element:s},tt=tt===void 0?null:tt,tt!==null&&(o.callback=tt),s=dh(nt,o,it),s!==null&&(mh(s,nt,it,rt),eh(s,nt,it)),it}function hl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function il(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var et=s.retryLane;s.retryLane=et!==0&&et<o?et:o}}function jl(s,o){il(s,o),(s=s.alternate)&&il(s,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(s){console.error(s)};function ml(s){this._internalRoot=s}nl.prototype.render=ml.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(p$2(409));gl(s,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Sk(function(){gl(null,s,null,null)}),o[uf]=null}};function nl(s){this._internalRoot=s}nl.prototype.unstable_scheduleHydration=function(s){if(s){var o=Hc();s={blockedOn:null,target:s,priority:o};for(var et=0;et<Qc.length&&o!==0&&o<Qc[et].priority;et++);Qc.splice(et,0,s),et===0&&Vc(s)}};function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(s,o,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var at=hl(it);rt.call(at)}}var it=fl(o,tt,s,0,null,!1,!1,"",ql);return s._reactRootContainer=it,s[uf]=it.current,sf(s.nodeType===8?s.parentNode:s),Sk(),it}for(;nt=s.lastChild;)s.removeChild(nt);if(typeof tt=="function"){var ot=tt;tt=function(){var at=hl(st);ot.call(at)}}var st=cl(s,0,!1,null,null,!1,!1,"",ql);return s._reactRootContainer=st,s[uf]=st.current,sf(s.nodeType===8?s.parentNode:s),Sk(function(){gl(o,st,et,tt)}),st}function sl(s,o,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var ot=nt;nt=function(){var st=hl(it);ot.call(st)}}gl(o,it,s,nt)}else it=rl(et,o,s,nt,tt);return hl(it)}Ec=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var et=tc(o.pendingLanes);et!==0&&(Cc(o,et|1),Ek(o,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg(s,1);if(tt!==null){var nt=L$1();mh(tt,s,1,nt)}}),jl(s,1)}};Fc=function(s){if(s.tag===13){var o=Zg(s,134217728);if(o!==null){var et=L$1();mh(o,s,134217728,et)}jl(s,134217728)}};Gc=function(s){if(s.tag===13){var o=lh(s),et=Zg(s,o);if(et!==null){var tt=L$1();mh(et,s,o,tt)}jl(s,o)}};Hc=function(){return C$1};Ic=function(s,o){var et=C$1;try{return C$1=s,o()}finally{C$1=et}};yb=function(s,o,et){switch(o){case"input":if(bb$2(s,et),o=et.name,et.type==="radio"&&o!=null){for(et=s;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<et.length;o++){var tt=et[o];if(tt!==s&&tt.form===s.form){var nt=Db(tt);if(!nt)throw Error(p$2(90));Wa(tt),bb$2(tt,nt)}}}break;case"textarea":ib(s,et);break;case"select":o=et.value,o!=null&&fb(s,!!et.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(s,o){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$2(200));return dl(s,o,null,et)};reactDom_production_min.createRoot=function(s,o){if(!ol(s))throw Error(p$2(299));var et=!1,tt="",nt=ll;return o!=null&&(o.unstable_strictMode===!0&&(et=!0),o.identifierPrefix!==void 0&&(tt=o.identifierPrefix),o.onRecoverableError!==void 0&&(nt=o.onRecoverableError)),o=cl(s,1,!1,null,null,et,!1,tt,nt),s[uf]=o.current,sf(s.nodeType===8?s.parentNode:s),new ml(o)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(p$2(188)):(s=Object.keys(s).join(","),Error(p$2(268,s)));return s=Zb(o),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Sk(s)};reactDom_production_min.hydrate=function(s,o,et){if(!pl(o))throw Error(p$2(200));return sl(null,s,o,!0,et)};reactDom_production_min.hydrateRoot=function(s,o,et){if(!ol(s))throw Error(p$2(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=ll;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),o=fl(o,null,s,1,et??null,nt,!1,rt,it),s[uf]=o.current,sf(s),tt)for(s=0;s<tt.length;s++)et=tt[s],nt=et._getVersion,nt=nt(et._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[et,nt]:o.mutableSourceEagerHydrationData.push(et,nt);return new nl(o)};reactDom_production_min.render=function(s,o,et){if(!pl(o))throw Error(p$2(200));return sl(null,s,o,!1,et)};reactDom_production_min.unmountComponentAtNode=function(s){if(!pl(s))throw Error(p$2(40));return s._reactRootContainer?(Sk(function(){sl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,o,et,tt){if(!pl(et))throw Error(p$2(200));if(s==null||s._reactInternals===void 0)throw Error(p$2(38));return sl(s,o,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot$1,m$3=reactDomExports;createRoot$1=m$3.createRoot,m$3.hydrateRoot;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="165",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace$1="srgb",LinearSRGBColorSpace$1="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(o,et){this._listeners===void 0&&(this._listeners={});const tt=this._listeners;tt[o]===void 0&&(tt[o]=[]),tt[o].indexOf(et)===-1&&tt[o].push(et)}hasEventListener(o,et){if(this._listeners===void 0)return!1;const tt=this._listeners;return tt[o]!==void 0&&tt[o].indexOf(et)!==-1}removeEventListener(o,et){if(this._listeners===void 0)return;const nt=this._listeners[o];if(nt!==void 0){const rt=nt.indexOf(et);rt!==-1&&nt.splice(rt,1)}}dispatchEvent(o){if(this._listeners===void 0)return;const tt=this._listeners[o.type];if(tt!==void 0){o.target=this;const nt=tt.slice(0);for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].call(this,o);o.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD$1=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const s=Math.random()*4294967295|0,o=Math.random()*4294967295|0,et=Math.random()*4294967295|0,tt=Math.random()*4294967295|0;return(_lut[s&255]+_lut[s>>8&255]+_lut[s>>16&255]+_lut[s>>24&255]+"-"+_lut[o&255]+_lut[o>>8&255]+"-"+_lut[o>>16&15|64]+_lut[o>>24&255]+"-"+_lut[et&63|128]+_lut[et>>8&255]+"-"+_lut[et>>16&255]+_lut[et>>24&255]+_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]).toLowerCase()}function clamp$3(s,o,et){return Math.max(o,Math.min(et,s))}function euclideanModulo(s,o){return(s%o+o)%o}function mapLinear(s,o,et,tt,nt){return tt+(s-o)*(nt-tt)/(et-o)}function inverseLerp(s,o,et){return s!==o?(et-s)/(o-s):0}function lerp(s,o,et){return(1-et)*s+et*o}function damp(s,o,et,tt){return lerp(s,o,1-Math.exp(-et*tt))}function pingpong(s,o=1){return o-Math.abs(euclideanModulo(s,o*2)-o)}function smoothstep(s,o,et){return s<=o?0:s>=et?1:(s=(s-o)/(et-o),s*s*(3-2*s))}function smootherstep(s,o,et){return s<=o?0:s>=et?1:(s=(s-o)/(et-o),s*s*s*(s*(s*6-15)+10))}function randInt(s,o){return s+Math.floor(Math.random()*(o-s+1))}function randFloat(s,o){return s+Math.random()*(o-s)}function randFloatSpread(s){return s*(.5-Math.random())}function seededRandom(s){s!==void 0&&(_seed=s);let o=_seed+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}function degToRad(s){return s*DEG2RAD$1}function radToDeg(s){return s*RAD2DEG}function isPowerOfTwo(s){return(s&s-1)===0&&s!==0}function ceilPowerOfTwo(s){return Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function floorPowerOfTwo(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function setQuaternionFromProperEuler(s,o,et,tt,nt){const rt=Math.cos,it=Math.sin,ot=rt(et/2),st=it(et/2),at=rt((o+tt)/2),lt=it((o+tt)/2),ct=rt((o-tt)/2),ut=it((o-tt)/2),dt=rt((tt-o)/2),ht=it((tt-o)/2);switch(nt){case"XYX":s.set(ot*lt,st*ct,st*ut,ot*at);break;case"YZY":s.set(st*ut,ot*lt,st*ct,ot*at);break;case"ZXZ":s.set(st*ct,st*ut,ot*lt,ot*at);break;case"XZX":s.set(ot*lt,st*ht,st*dt,ot*at);break;case"YXY":s.set(st*dt,ot*lt,st*ht,ot*at);break;case"ZYZ":s.set(st*ht,st*dt,ot*lt,ot*at);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(s,o){switch(o.constructor){case Float32Array:return s;case Uint32Array:return s/4294967295;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int32Array:return Math.max(s/2147483647,-1);case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function normalize(s,o){switch(o.constructor){case Float32Array:return s;case Uint32Array:return Math.round(s*4294967295);case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int32Array:return Math.round(s*2147483647);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD:DEG2RAD$1,RAD2DEG,generateUUID,clamp:clamp$3,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(o=0,et=0){Vector2.prototype.isVector2=!0,this.x=o,this.y=et}get width(){return this.x}set width(o){this.x=o}get height(){return this.y}set height(o){this.y=o}set(o,et){return this.x=o,this.y=et,this}setScalar(o){return this.x=o,this.y=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setComponent(o,et){switch(o){case 0:this.x=et;break;case 1:this.y=et;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y)}copy(o){return this.x=o.x,this.y=o.y,this}add(o){return this.x+=o.x,this.y+=o.y,this}addScalar(o){return this.x+=o,this.y+=o,this}addVectors(o,et){return this.x=o.x+et.x,this.y=o.y+et.y,this}addScaledVector(o,et){return this.x+=o.x*et,this.y+=o.y*et,this}sub(o){return this.x-=o.x,this.y-=o.y,this}subScalar(o){return this.x-=o,this.y-=o,this}subVectors(o,et){return this.x=o.x-et.x,this.y=o.y-et.y,this}multiply(o){return this.x*=o.x,this.y*=o.y,this}multiplyScalar(o){return this.x*=o,this.y*=o,this}divide(o){return this.x/=o.x,this.y/=o.y,this}divideScalar(o){return this.multiplyScalar(1/o)}applyMatrix3(o){const et=this.x,tt=this.y,nt=o.elements;return this.x=nt[0]*et+nt[3]*tt+nt[6],this.y=nt[1]*et+nt[4]*tt+nt[7],this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this}clamp(o,et){return this.x=Math.max(o.x,Math.min(et.x,this.x)),this.y=Math.max(o.y,Math.min(et.y,this.y)),this}clampScalar(o,et){return this.x=Math.max(o,Math.min(et,this.x)),this.y=Math.max(o,Math.min(et,this.y)),this}clampLength(o,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(o,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(o){return this.x*o.x+this.y*o.y}cross(o){return this.x*o.y-this.y*o.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(o){const et=Math.sqrt(this.lengthSq()*o.lengthSq());if(et===0)return Math.PI/2;const tt=this.dot(o)/et;return Math.acos(clamp$3(tt,-1,1))}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const et=this.x-o.x,tt=this.y-o.y;return et*et+tt*tt}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,et){return this.x+=(o.x-this.x)*et,this.y+=(o.y-this.y)*et,this}lerpVectors(o,et,tt){return this.x=o.x+(et.x-o.x)*tt,this.y=o.y+(et.y-o.y)*tt,this}equals(o){return o.x===this.x&&o.y===this.y}fromArray(o,et=0){return this.x=o[et],this.y=o[et+1],this}toArray(o=[],et=0){return o[et]=this.x,o[et+1]=this.y,o}fromBufferAttribute(o,et){return this.x=o.getX(et),this.y=o.getY(et),this}rotateAround(o,et){const tt=Math.cos(et),nt=Math.sin(et),rt=this.x-o.x,it=this.y-o.y;return this.x=rt*tt-it*nt+o.x,this.y=rt*nt+it*tt+o.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(o,et,tt,nt,rt,it,ot,st,at){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],o!==void 0&&this.set(o,et,tt,nt,rt,it,ot,st,at)}set(o,et,tt,nt,rt,it,ot,st,at){const lt=this.elements;return lt[0]=o,lt[1]=nt,lt[2]=ot,lt[3]=et,lt[4]=rt,lt[5]=st,lt[6]=tt,lt[7]=it,lt[8]=at,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(o){const et=this.elements,tt=o.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],this}extractBasis(o,et,tt){return o.setFromMatrix3Column(this,0),et.setFromMatrix3Column(this,1),tt.setFromMatrix3Column(this,2),this}setFromMatrix4(o){const et=o.elements;return this.set(et[0],et[4],et[8],et[1],et[5],et[9],et[2],et[6],et[10]),this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,et){const tt=o.elements,nt=et.elements,rt=this.elements,it=tt[0],ot=tt[3],st=tt[6],at=tt[1],lt=tt[4],ct=tt[7],ut=tt[2],dt=tt[5],ht=tt[8],pt=nt[0],gt=nt[3],ft=nt[6],yt=nt[1],mt=nt[4],Ft=nt[7],vt=nt[2],Et=nt[5],wt=nt[8];return rt[0]=it*pt+ot*yt+st*vt,rt[3]=it*gt+ot*mt+st*Et,rt[6]=it*ft+ot*Ft+st*wt,rt[1]=at*pt+lt*yt+ct*vt,rt[4]=at*gt+lt*mt+ct*Et,rt[7]=at*ft+lt*Ft+ct*wt,rt[2]=ut*pt+dt*yt+ht*vt,rt[5]=ut*gt+dt*mt+ht*Et,rt[8]=ut*ft+dt*Ft+ht*wt,this}multiplyScalar(o){const et=this.elements;return et[0]*=o,et[3]*=o,et[6]*=o,et[1]*=o,et[4]*=o,et[7]*=o,et[2]*=o,et[5]*=o,et[8]*=o,this}determinant(){const o=this.elements,et=o[0],tt=o[1],nt=o[2],rt=o[3],it=o[4],ot=o[5],st=o[6],at=o[7],lt=o[8];return et*it*lt-et*ot*at-tt*rt*lt+tt*ot*st+nt*rt*at-nt*it*st}invert(){const o=this.elements,et=o[0],tt=o[1],nt=o[2],rt=o[3],it=o[4],ot=o[5],st=o[6],at=o[7],lt=o[8],ct=lt*it-ot*at,ut=ot*st-lt*rt,dt=at*rt-it*st,ht=et*ct+tt*ut+nt*dt;if(ht===0)return this.set(0,0,0,0,0,0,0,0,0);const pt=1/ht;return o[0]=ct*pt,o[1]=(nt*at-lt*tt)*pt,o[2]=(ot*tt-nt*it)*pt,o[3]=ut*pt,o[4]=(lt*et-nt*st)*pt,o[5]=(nt*rt-ot*et)*pt,o[6]=dt*pt,o[7]=(tt*st-at*et)*pt,o[8]=(it*et-tt*rt)*pt,this}transpose(){let o;const et=this.elements;return o=et[1],et[1]=et[3],et[3]=o,o=et[2],et[2]=et[6],et[6]=o,o=et[5],et[5]=et[7],et[7]=o,this}getNormalMatrix(o){return this.setFromMatrix4(o).invert().transpose()}transposeIntoArray(o){const et=this.elements;return o[0]=et[0],o[1]=et[3],o[2]=et[6],o[3]=et[1],o[4]=et[4],o[5]=et[7],o[6]=et[2],o[7]=et[5],o[8]=et[8],this}setUvTransform(o,et,tt,nt,rt,it,ot){const st=Math.cos(rt),at=Math.sin(rt);return this.set(tt*st,tt*at,-tt*(st*it+at*ot)+it+o,-nt*at,nt*st,-nt*(-at*it+st*ot)+ot+et,0,0,1),this}scale(o,et){return this.premultiply(_m3.makeScale(o,et)),this}rotate(o){return this.premultiply(_m3.makeRotation(-o)),this}translate(o,et){return this.premultiply(_m3.makeTranslation(o,et)),this}makeTranslation(o,et){return o.isVector2?this.set(1,0,o.x,0,1,o.y,0,0,1):this.set(1,0,o,0,1,et,0,0,1),this}makeRotation(o){const et=Math.cos(o),tt=Math.sin(o);return this.set(et,-tt,0,tt,et,0,0,0,1),this}makeScale(o,et){return this.set(o,0,0,0,et,0,0,0,1),this}equals(o){const et=this.elements,tt=o.elements;for(let nt=0;nt<9;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(o,et=0){for(let tt=0;tt<9;tt++)this.elements[tt]=o[tt+et];return this}toArray(o=[],et=0){const tt=this.elements;return o[et]=tt[0],o[et+1]=tt[1],o[et+2]=tt[2],o[et+3]=tt[3],o[et+4]=tt[4],o[et+5]=tt[5],o[et+6]=tt[6],o[et+7]=tt[7],o[et+8]=tt[8],o}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(s){for(let o=s.length-1;o>=0;--o)if(s[o]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(s,o){return new TYPED_ARRAYS[s](o)}function createElementNS(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}function createCanvasElement(){const s=createElementNS("canvas");return s.style.display="block",s}const _cache={};function warnOnce(s){s in _cache||(_cache[s]=!0,console.warn(s))}function probeAsync(s,o,et){return new Promise(function(tt,nt){function rt(){switch(s.clientWaitSync(o,s.SYNC_FLUSH_COMMANDS_BIT,0)){case s.WAIT_FAILED:nt();break;case s.TIMEOUT_EXPIRED:setTimeout(rt,et);break;default:tt()}}setTimeout(rt,et)})}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace$1]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:s=>s,fromReference:s=>s},[SRGBColorSpace$1]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:s=>s.convertSRGBToLinear(),fromReference:s=>s.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:s=>s.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:s=>s.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:s=>s.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:s=>s.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace$1,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace$1,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(s){if(!SUPPORTED_WORKING_COLOR_SPACES.has(s))throw new Error(`Unsupported working color space, "${s}".`);this._workingColorSpace=s},convert:function(s,o,et){if(this.enabled===!1||o===et||!o||!et)return s;const tt=COLOR_SPACES[o].toReference,nt=COLOR_SPACES[et].fromReference;return nt(tt(s))},fromWorkingColorSpace:function(s,o){return this.convert(s,this._workingColorSpace,o)},toWorkingColorSpace:function(s,o){return this.convert(s,o,this._workingColorSpace)},getPrimaries:function(s){return COLOR_SPACES[s].primaries},getTransfer:function(s){return s===NoColorSpace?LinearTransfer:COLOR_SPACES[s].transfer}};function SRGBToLinear(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function LinearToSRGB(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(o){if(/^data:/i.test(o.src)||typeof HTMLCanvasElement>"u")return o.src;let et;if(o instanceof HTMLCanvasElement)et=o;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=o.width,_canvas.height=o.height;const tt=_canvas.getContext("2d");o instanceof ImageData?tt.putImageData(o,0,0):tt.drawImage(o,0,0,o.width,o.height),et=_canvas}return et.width>2048||et.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",o),et.toDataURL("image/jpeg",.6)):et.toDataURL("image/png")}static sRGBToLinear(o){if(typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap){const et=createElementNS("canvas");et.width=o.width,et.height=o.height;const tt=et.getContext("2d");tt.drawImage(o,0,0,o.width,o.height);const nt=tt.getImageData(0,0,o.width,o.height),rt=nt.data;for(let it=0;it<rt.length;it++)rt[it]=SRGBToLinear(rt[it]/255)*255;return tt.putImageData(nt,0,0),et}else if(o.data){const et=o.data.slice(0);for(let tt=0;tt<et.length;tt++)et instanceof Uint8Array||et instanceof Uint8ClampedArray?et[tt]=Math.floor(SRGBToLinear(et[tt]/255)*255):et[tt]=SRGBToLinear(et[tt]);return{data:et,width:o.width,height:o.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),o}}let _sourceId=0;class Source{constructor(o=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=o,this.dataReady=!0,this.version=0}set needsUpdate(o){o===!0&&this.version++}toJSON(o){const et=o===void 0||typeof o=="string";if(!et&&o.images[this.uuid]!==void 0)return o.images[this.uuid];const tt={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let rt;if(Array.isArray(nt)){rt=[];for(let it=0,ot=nt.length;it<ot;it++)nt[it].isDataTexture?rt.push(serializeImage(nt[it].image)):rt.push(serializeImage(nt[it]))}else rt=serializeImage(nt);tt.url=rt}return et||(o.images[this.uuid]=tt),tt}}function serializeImage(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?ImageUtils.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(o=Texture.DEFAULT_IMAGE,et=Texture.DEFAULT_MAPPING,tt=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,rt=LinearFilter,it=LinearMipmapLinearFilter,ot=RGBAFormat,st=UnsignedByteType,at=Texture.DEFAULT_ANISOTROPY,lt=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(o),this.mipmaps=[],this.mapping=et,this.channel=0,this.wrapS=tt,this.wrapT=nt,this.magFilter=rt,this.minFilter=it,this.anisotropy=at,this.format=ot,this.internalFormat=null,this.type=st,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=lt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(o=null){this.source.data=o}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(o){return this.name=o.name,this.source=o.source,this.mipmaps=o.mipmaps.slice(0),this.mapping=o.mapping,this.channel=o.channel,this.wrapS=o.wrapS,this.wrapT=o.wrapT,this.magFilter=o.magFilter,this.minFilter=o.minFilter,this.anisotropy=o.anisotropy,this.format=o.format,this.internalFormat=o.internalFormat,this.type=o.type,this.offset.copy(o.offset),this.repeat.copy(o.repeat),this.center.copy(o.center),this.rotation=o.rotation,this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrix.copy(o.matrix),this.generateMipmaps=o.generateMipmaps,this.premultiplyAlpha=o.premultiplyAlpha,this.flipY=o.flipY,this.unpackAlignment=o.unpackAlignment,this.colorSpace=o.colorSpace,this.userData=JSON.parse(JSON.stringify(o.userData)),this.needsUpdate=!0,this}toJSON(o){const et=o===void 0||typeof o=="string";if(!et&&o.textures[this.uuid]!==void 0)return o.textures[this.uuid];const tt={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(o).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(tt.userData=this.userData),et||(o.textures[this.uuid]=tt),tt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(o){if(this.mapping!==UVMapping)return o;if(o.applyMatrix3(this.matrix),o.x<0||o.x>1)switch(this.wrapS){case RepeatWrapping:o.x=o.x-Math.floor(o.x);break;case ClampToEdgeWrapping:o.x=o.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(o.x)%2)===1?o.x=Math.ceil(o.x)-o.x:o.x=o.x-Math.floor(o.x);break}if(o.y<0||o.y>1)switch(this.wrapT){case RepeatWrapping:o.y=o.y-Math.floor(o.y);break;case ClampToEdgeWrapping:o.y=o.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(o.y)%2)===1?o.y=Math.ceil(o.y)-o.y:o.y=o.y-Math.floor(o.y);break}return this.flipY&&(o.y=1-o.y),o}set needsUpdate(o){o===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(o){o===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(o=0,et=0,tt=0,nt=1){Vector4.prototype.isVector4=!0,this.x=o,this.y=et,this.z=tt,this.w=nt}get width(){return this.z}set width(o){this.z=o}get height(){return this.w}set height(o){this.w=o}set(o,et,tt,nt){return this.x=o,this.y=et,this.z=tt,this.w=nt,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this.w=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setW(o){return this.w=o,this}setComponent(o,et){switch(o){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;case 3:this.w=et;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this.w=o.w!==void 0?o.w:1,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this.w+=o.w,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this.w+=o,this}addVectors(o,et){return this.x=o.x+et.x,this.y=o.y+et.y,this.z=o.z+et.z,this.w=o.w+et.w,this}addScaledVector(o,et){return this.x+=o.x*et,this.y+=o.y*et,this.z+=o.z*et,this.w+=o.w*et,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this.w-=o.w,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this.w-=o,this}subVectors(o,et){return this.x=o.x-et.x,this.y=o.y-et.y,this.z=o.z-et.z,this.w=o.w-et.w,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this.w*=o.w,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this}applyMatrix4(o){const et=this.x,tt=this.y,nt=this.z,rt=this.w,it=o.elements;return this.x=it[0]*et+it[4]*tt+it[8]*nt+it[12]*rt,this.y=it[1]*et+it[5]*tt+it[9]*nt+it[13]*rt,this.z=it[2]*et+it[6]*tt+it[10]*nt+it[14]*rt,this.w=it[3]*et+it[7]*tt+it[11]*nt+it[15]*rt,this}divideScalar(o){return this.multiplyScalar(1/o)}setAxisAngleFromQuaternion(o){this.w=2*Math.acos(o.w);const et=Math.sqrt(1-o.w*o.w);return et<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=o.x/et,this.y=o.y/et,this.z=o.z/et),this}setAxisAngleFromRotationMatrix(o){let et,tt,nt,rt;const st=o.elements,at=st[0],lt=st[4],ct=st[8],ut=st[1],dt=st[5],ht=st[9],pt=st[2],gt=st[6],ft=st[10];if(Math.abs(lt-ut)<.01&&Math.abs(ct-pt)<.01&&Math.abs(ht-gt)<.01){if(Math.abs(lt+ut)<.1&&Math.abs(ct+pt)<.1&&Math.abs(ht+gt)<.1&&Math.abs(at+dt+ft-3)<.1)return this.set(1,0,0,0),this;et=Math.PI;const mt=(at+1)/2,Ft=(dt+1)/2,vt=(ft+1)/2,Et=(lt+ut)/4,wt=(ct+pt)/4,It=(ht+gt)/4;return mt>Ft&&mt>vt?mt<.01?(tt=0,nt=.707106781,rt=.707106781):(tt=Math.sqrt(mt),nt=Et/tt,rt=wt/tt):Ft>vt?Ft<.01?(tt=.707106781,nt=0,rt=.707106781):(nt=Math.sqrt(Ft),tt=Et/nt,rt=It/nt):vt<.01?(tt=.707106781,nt=.707106781,rt=0):(rt=Math.sqrt(vt),tt=wt/rt,nt=It/rt),this.set(tt,nt,rt,et),this}let yt=Math.sqrt((gt-ht)*(gt-ht)+(ct-pt)*(ct-pt)+(ut-lt)*(ut-lt));return Math.abs(yt)<.001&&(yt=1),this.x=(gt-ht)/yt,this.y=(ct-pt)/yt,this.z=(ut-lt)/yt,this.w=Math.acos((at+dt+ft-1)/2),this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this.w=Math.min(this.w,o.w),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this.w=Math.max(this.w,o.w),this}clamp(o,et){return this.x=Math.max(o.x,Math.min(et.x,this.x)),this.y=Math.max(o.y,Math.min(et.y,this.y)),this.z=Math.max(o.z,Math.min(et.z,this.z)),this.w=Math.max(o.w,Math.min(et.w,this.w)),this}clampScalar(o,et){return this.x=Math.max(o,Math.min(et,this.x)),this.y=Math.max(o,Math.min(et,this.y)),this.z=Math.max(o,Math.min(et,this.z)),this.w=Math.max(o,Math.min(et,this.w)),this}clampLength(o,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(o,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,et){return this.x+=(o.x-this.x)*et,this.y+=(o.y-this.y)*et,this.z+=(o.z-this.z)*et,this.w+=(o.w-this.w)*et,this}lerpVectors(o,et,tt){return this.x=o.x+(et.x-o.x)*tt,this.y=o.y+(et.y-o.y)*tt,this.z=o.z+(et.z-o.z)*tt,this.w=o.w+(et.w-o.w)*tt,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z&&o.w===this.w}fromArray(o,et=0){return this.x=o[et],this.y=o[et+1],this.z=o[et+2],this.w=o[et+3],this}toArray(o=[],et=0){return o[et]=this.x,o[et+1]=this.y,o[et+2]=this.z,o[et+3]=this.w,o}fromBufferAttribute(o,et){return this.x=o.getX(et),this.y=o.getY(et),this.z=o.getZ(et),this.w=o.getW(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(o=1,et=1,tt={}){super(),this.isRenderTarget=!0,this.width=o,this.height=et,this.depth=1,this.scissor=new Vector4(0,0,o,et),this.scissorTest=!1,this.viewport=new Vector4(0,0,o,et);const nt={width:o,height:et,depth:1};tt=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},tt);const rt=new Texture(nt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.colorSpace);rt.flipY=!1,rt.generateMipmaps=tt.generateMipmaps,rt.internalFormat=tt.internalFormat,this.textures=[];const it=tt.count;for(let ot=0;ot<it;ot++)this.textures[ot]=rt.clone(),this.textures[ot].isRenderTargetTexture=!0;this.depthBuffer=tt.depthBuffer,this.stencilBuffer=tt.stencilBuffer,this.resolveDepthBuffer=tt.resolveDepthBuffer,this.resolveStencilBuffer=tt.resolveStencilBuffer,this.depthTexture=tt.depthTexture,this.samples=tt.samples}get texture(){return this.textures[0]}set texture(o){this.textures[0]=o}setSize(o,et,tt=1){if(this.width!==o||this.height!==et||this.depth!==tt){this.width=o,this.height=et,this.depth=tt;for(let nt=0,rt=this.textures.length;nt<rt;nt++)this.textures[nt].image.width=o,this.textures[nt].image.height=et,this.textures[nt].image.depth=tt;this.dispose()}this.viewport.set(0,0,o,et),this.scissor.set(0,0,o,et)}clone(){return new this.constructor().copy(this)}copy(o){this.width=o.width,this.height=o.height,this.depth=o.depth,this.scissor.copy(o.scissor),this.scissorTest=o.scissorTest,this.viewport.copy(o.viewport),this.textures.length=0;for(let tt=0,nt=o.textures.length;tt<nt;tt++)this.textures[tt]=o.textures[tt].clone(),this.textures[tt].isRenderTargetTexture=!0;const et=Object.assign({},o.texture.image);return this.texture.source=new Source(et),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,this.resolveDepthBuffer=o.resolveDepthBuffer,this.resolveStencilBuffer=o.resolveStencilBuffer,o.depthTexture!==null&&(this.depthTexture=o.depthTexture.clone()),this.samples=o.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(o=1,et=1,tt={}){super(o,et,tt),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(o=null,et=1,tt=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:o,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(o){this.layerUpdates.add(o)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(o=1,et=1,tt=1,nt={}){super(o,et,nt),this.isWebGLArrayRenderTarget=!0,this.depth=tt,this.texture=new DataArrayTexture(null,o,et,tt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(o=null,et=1,tt=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:o,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(o=1,et=1,tt=1,nt={}){super(o,et,nt),this.isWebGL3DRenderTarget=!0,this.depth=tt,this.texture=new Data3DTexture(null,o,et,tt),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(o=0,et=0,tt=0,nt=1){this.isQuaternion=!0,this._x=o,this._y=et,this._z=tt,this._w=nt}static slerpFlat(o,et,tt,nt,rt,it,ot){let st=tt[nt+0],at=tt[nt+1],lt=tt[nt+2],ct=tt[nt+3];const ut=rt[it+0],dt=rt[it+1],ht=rt[it+2],pt=rt[it+3];if(ot===0){o[et+0]=st,o[et+1]=at,o[et+2]=lt,o[et+3]=ct;return}if(ot===1){o[et+0]=ut,o[et+1]=dt,o[et+2]=ht,o[et+3]=pt;return}if(ct!==pt||st!==ut||at!==dt||lt!==ht){let gt=1-ot;const ft=st*ut+at*dt+lt*ht+ct*pt,yt=ft>=0?1:-1,mt=1-ft*ft;if(mt>Number.EPSILON){const vt=Math.sqrt(mt),Et=Math.atan2(vt,ft*yt);gt=Math.sin(gt*Et)/vt,ot=Math.sin(ot*Et)/vt}const Ft=ot*yt;if(st=st*gt+ut*Ft,at=at*gt+dt*Ft,lt=lt*gt+ht*Ft,ct=ct*gt+pt*Ft,gt===1-ot){const vt=1/Math.sqrt(st*st+at*at+lt*lt+ct*ct);st*=vt,at*=vt,lt*=vt,ct*=vt}}o[et]=st,o[et+1]=at,o[et+2]=lt,o[et+3]=ct}static multiplyQuaternionsFlat(o,et,tt,nt,rt,it){const ot=tt[nt],st=tt[nt+1],at=tt[nt+2],lt=tt[nt+3],ct=rt[it],ut=rt[it+1],dt=rt[it+2],ht=rt[it+3];return o[et]=ot*ht+lt*ct+st*dt-at*ut,o[et+1]=st*ht+lt*ut+at*ct-ot*dt,o[et+2]=at*ht+lt*dt+ot*ut-st*ct,o[et+3]=lt*ht-ot*ct-st*ut-at*dt,o}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get w(){return this._w}set w(o){this._w=o,this._onChangeCallback()}set(o,et,tt,nt){return this._x=o,this._y=et,this._z=tt,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(o){return this._x=o.x,this._y=o.y,this._z=o.z,this._w=o.w,this._onChangeCallback(),this}setFromEuler(o,et=!0){const tt=o._x,nt=o._y,rt=o._z,it=o._order,ot=Math.cos,st=Math.sin,at=ot(tt/2),lt=ot(nt/2),ct=ot(rt/2),ut=st(tt/2),dt=st(nt/2),ht=st(rt/2);switch(it){case"XYZ":this._x=ut*lt*ct+at*dt*ht,this._y=at*dt*ct-ut*lt*ht,this._z=at*lt*ht+ut*dt*ct,this._w=at*lt*ct-ut*dt*ht;break;case"YXZ":this._x=ut*lt*ct+at*dt*ht,this._y=at*dt*ct-ut*lt*ht,this._z=at*lt*ht-ut*dt*ct,this._w=at*lt*ct+ut*dt*ht;break;case"ZXY":this._x=ut*lt*ct-at*dt*ht,this._y=at*dt*ct+ut*lt*ht,this._z=at*lt*ht+ut*dt*ct,this._w=at*lt*ct-ut*dt*ht;break;case"ZYX":this._x=ut*lt*ct-at*dt*ht,this._y=at*dt*ct+ut*lt*ht,this._z=at*lt*ht-ut*dt*ct,this._w=at*lt*ct+ut*dt*ht;break;case"YZX":this._x=ut*lt*ct+at*dt*ht,this._y=at*dt*ct+ut*lt*ht,this._z=at*lt*ht-ut*dt*ct,this._w=at*lt*ct-ut*dt*ht;break;case"XZY":this._x=ut*lt*ct-at*dt*ht,this._y=at*dt*ct-ut*lt*ht,this._z=at*lt*ht+ut*dt*ct,this._w=at*lt*ct+ut*dt*ht;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+it)}return et===!0&&this._onChangeCallback(),this}setFromAxisAngle(o,et){const tt=et/2,nt=Math.sin(tt);return this._x=o.x*nt,this._y=o.y*nt,this._z=o.z*nt,this._w=Math.cos(tt),this._onChangeCallback(),this}setFromRotationMatrix(o){const et=o.elements,tt=et[0],nt=et[4],rt=et[8],it=et[1],ot=et[5],st=et[9],at=et[2],lt=et[6],ct=et[10],ut=tt+ot+ct;if(ut>0){const dt=.5/Math.sqrt(ut+1);this._w=.25/dt,this._x=(lt-st)*dt,this._y=(rt-at)*dt,this._z=(it-nt)*dt}else if(tt>ot&&tt>ct){const dt=2*Math.sqrt(1+tt-ot-ct);this._w=(lt-st)/dt,this._x=.25*dt,this._y=(nt+it)/dt,this._z=(rt+at)/dt}else if(ot>ct){const dt=2*Math.sqrt(1+ot-tt-ct);this._w=(rt-at)/dt,this._x=(nt+it)/dt,this._y=.25*dt,this._z=(st+lt)/dt}else{const dt=2*Math.sqrt(1+ct-tt-ot);this._w=(it-nt)/dt,this._x=(rt+at)/dt,this._y=(st+lt)/dt,this._z=.25*dt}return this._onChangeCallback(),this}setFromUnitVectors(o,et){let tt=o.dot(et)+1;return tt<Number.EPSILON?(tt=0,Math.abs(o.x)>Math.abs(o.z)?(this._x=-o.y,this._y=o.x,this._z=0,this._w=tt):(this._x=0,this._y=-o.z,this._z=o.y,this._w=tt)):(this._x=o.y*et.z-o.z*et.y,this._y=o.z*et.x-o.x*et.z,this._z=o.x*et.y-o.y*et.x,this._w=tt),this.normalize()}angleTo(o){return 2*Math.acos(Math.abs(clamp$3(this.dot(o),-1,1)))}rotateTowards(o,et){const tt=this.angleTo(o);if(tt===0)return this;const nt=Math.min(1,et/tt);return this.slerp(o,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(o){return this._x*o._x+this._y*o._y+this._z*o._z+this._w*o._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let o=this.length();return o===0?(this._x=0,this._y=0,this._z=0,this._w=1):(o=1/o,this._x=this._x*o,this._y=this._y*o,this._z=this._z*o,this._w=this._w*o),this._onChangeCallback(),this}multiply(o){return this.multiplyQuaternions(this,o)}premultiply(o){return this.multiplyQuaternions(o,this)}multiplyQuaternions(o,et){const tt=o._x,nt=o._y,rt=o._z,it=o._w,ot=et._x,st=et._y,at=et._z,lt=et._w;return this._x=tt*lt+it*ot+nt*at-rt*st,this._y=nt*lt+it*st+rt*ot-tt*at,this._z=rt*lt+it*at+tt*st-nt*ot,this._w=it*lt-tt*ot-nt*st-rt*at,this._onChangeCallback(),this}slerp(o,et){if(et===0)return this;if(et===1)return this.copy(o);const tt=this._x,nt=this._y,rt=this._z,it=this._w;let ot=it*o._w+tt*o._x+nt*o._y+rt*o._z;if(ot<0?(this._w=-o._w,this._x=-o._x,this._y=-o._y,this._z=-o._z,ot=-ot):this.copy(o),ot>=1)return this._w=it,this._x=tt,this._y=nt,this._z=rt,this;const st=1-ot*ot;if(st<=Number.EPSILON){const dt=1-et;return this._w=dt*it+et*this._w,this._x=dt*tt+et*this._x,this._y=dt*nt+et*this._y,this._z=dt*rt+et*this._z,this.normalize(),this}const at=Math.sqrt(st),lt=Math.atan2(at,ot),ct=Math.sin((1-et)*lt)/at,ut=Math.sin(et*lt)/at;return this._w=it*ct+this._w*ut,this._x=tt*ct+this._x*ut,this._y=nt*ct+this._y*ut,this._z=rt*ct+this._z*ut,this._onChangeCallback(),this}slerpQuaternions(o,et,tt){return this.copy(o).slerp(et,tt)}random(){const o=2*Math.PI*Math.random(),et=2*Math.PI*Math.random(),tt=Math.random(),nt=Math.sqrt(1-tt),rt=Math.sqrt(tt);return this.set(nt*Math.sin(o),nt*Math.cos(o),rt*Math.sin(et),rt*Math.cos(et))}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._w===this._w}fromArray(o,et=0){return this._x=o[et],this._y=o[et+1],this._z=o[et+2],this._w=o[et+3],this._onChangeCallback(),this}toArray(o=[],et=0){return o[et]=this._x,o[et+1]=this._y,o[et+2]=this._z,o[et+3]=this._w,o}fromBufferAttribute(o,et){return this._x=o.getX(et),this._y=o.getY(et),this._z=o.getZ(et),this._w=o.getW(et),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(o=0,et=0,tt=0){Vector3.prototype.isVector3=!0,this.x=o,this.y=et,this.z=tt}set(o,et,tt){return tt===void 0&&(tt=this.z),this.x=o,this.y=et,this.z=tt,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setComponent(o,et){switch(o){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this}addVectors(o,et){return this.x=o.x+et.x,this.y=o.y+et.y,this.z=o.z+et.z,this}addScaledVector(o,et){return this.x+=o.x*et,this.y+=o.y*et,this.z+=o.z*et,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this}subVectors(o,et){return this.x=o.x-et.x,this.y=o.y-et.y,this.z=o.z-et.z,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this}multiplyVectors(o,et){return this.x=o.x*et.x,this.y=o.y*et.y,this.z=o.z*et.z,this}applyEuler(o){return this.applyQuaternion(_quaternion$4.setFromEuler(o))}applyAxisAngle(o,et){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(o,et))}applyMatrix3(o){const et=this.x,tt=this.y,nt=this.z,rt=o.elements;return this.x=rt[0]*et+rt[3]*tt+rt[6]*nt,this.y=rt[1]*et+rt[4]*tt+rt[7]*nt,this.z=rt[2]*et+rt[5]*tt+rt[8]*nt,this}applyNormalMatrix(o){return this.applyMatrix3(o).normalize()}applyMatrix4(o){const et=this.x,tt=this.y,nt=this.z,rt=o.elements,it=1/(rt[3]*et+rt[7]*tt+rt[11]*nt+rt[15]);return this.x=(rt[0]*et+rt[4]*tt+rt[8]*nt+rt[12])*it,this.y=(rt[1]*et+rt[5]*tt+rt[9]*nt+rt[13])*it,this.z=(rt[2]*et+rt[6]*tt+rt[10]*nt+rt[14])*it,this}applyQuaternion(o){const et=this.x,tt=this.y,nt=this.z,rt=o.x,it=o.y,ot=o.z,st=o.w,at=2*(it*nt-ot*tt),lt=2*(ot*et-rt*nt),ct=2*(rt*tt-it*et);return this.x=et+st*at+it*ct-ot*lt,this.y=tt+st*lt+ot*at-rt*ct,this.z=nt+st*ct+rt*lt-it*at,this}project(o){return this.applyMatrix4(o.matrixWorldInverse).applyMatrix4(o.projectionMatrix)}unproject(o){return this.applyMatrix4(o.projectionMatrixInverse).applyMatrix4(o.matrixWorld)}transformDirection(o){const et=this.x,tt=this.y,nt=this.z,rt=o.elements;return this.x=rt[0]*et+rt[4]*tt+rt[8]*nt,this.y=rt[1]*et+rt[5]*tt+rt[9]*nt,this.z=rt[2]*et+rt[6]*tt+rt[10]*nt,this.normalize()}divide(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z,this}divideScalar(o){return this.multiplyScalar(1/o)}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this}clamp(o,et){return this.x=Math.max(o.x,Math.min(et.x,this.x)),this.y=Math.max(o.y,Math.min(et.y,this.y)),this.z=Math.max(o.z,Math.min(et.z,this.z)),this}clampScalar(o,et){return this.x=Math.max(o,Math.min(et,this.x)),this.y=Math.max(o,Math.min(et,this.y)),this.z=Math.max(o,Math.min(et,this.z)),this}clampLength(o,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(o,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,et){return this.x+=(o.x-this.x)*et,this.y+=(o.y-this.y)*et,this.z+=(o.z-this.z)*et,this}lerpVectors(o,et,tt){return this.x=o.x+(et.x-o.x)*tt,this.y=o.y+(et.y-o.y)*tt,this.z=o.z+(et.z-o.z)*tt,this}cross(o){return this.crossVectors(this,o)}crossVectors(o,et){const tt=o.x,nt=o.y,rt=o.z,it=et.x,ot=et.y,st=et.z;return this.x=nt*st-rt*ot,this.y=rt*it-tt*st,this.z=tt*ot-nt*it,this}projectOnVector(o){const et=o.lengthSq();if(et===0)return this.set(0,0,0);const tt=o.dot(this)/et;return this.copy(o).multiplyScalar(tt)}projectOnPlane(o){return _vector$c.copy(this).projectOnVector(o),this.sub(_vector$c)}reflect(o){return this.sub(_vector$c.copy(o).multiplyScalar(2*this.dot(o)))}angleTo(o){const et=Math.sqrt(this.lengthSq()*o.lengthSq());if(et===0)return Math.PI/2;const tt=this.dot(o)/et;return Math.acos(clamp$3(tt,-1,1))}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const et=this.x-o.x,tt=this.y-o.y,nt=this.z-o.z;return et*et+tt*tt+nt*nt}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)+Math.abs(this.z-o.z)}setFromSpherical(o){return this.setFromSphericalCoords(o.radius,o.phi,o.theta)}setFromSphericalCoords(o,et,tt){const nt=Math.sin(et)*o;return this.x=nt*Math.sin(tt),this.y=Math.cos(et)*o,this.z=nt*Math.cos(tt),this}setFromCylindrical(o){return this.setFromCylindricalCoords(o.radius,o.theta,o.y)}setFromCylindricalCoords(o,et,tt){return this.x=o*Math.sin(et),this.y=tt,this.z=o*Math.cos(et),this}setFromMatrixPosition(o){const et=o.elements;return this.x=et[12],this.y=et[13],this.z=et[14],this}setFromMatrixScale(o){const et=this.setFromMatrixColumn(o,0).length(),tt=this.setFromMatrixColumn(o,1).length(),nt=this.setFromMatrixColumn(o,2).length();return this.x=et,this.y=tt,this.z=nt,this}setFromMatrixColumn(o,et){return this.fromArray(o.elements,et*4)}setFromMatrix3Column(o,et){return this.fromArray(o.elements,et*3)}setFromEuler(o){return this.x=o._x,this.y=o._y,this.z=o._z,this}setFromColor(o){return this.x=o.r,this.y=o.g,this.z=o.b,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z}fromArray(o,et=0){return this.x=o[et],this.y=o[et+1],this.z=o[et+2],this}toArray(o=[],et=0){return o[et]=this.x,o[et+1]=this.y,o[et+2]=this.z,o}fromBufferAttribute(o,et){return this.x=o.getX(et),this.y=o.getY(et),this.z=o.getZ(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const o=Math.random()*Math.PI*2,et=Math.random()*2-1,tt=Math.sqrt(1-et*et);return this.x=tt*Math.cos(o),this.y=et,this.z=tt*Math.sin(o),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(o=new Vector3(1/0,1/0,1/0),et=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=o,this.max=et}set(o,et){return this.min.copy(o),this.max.copy(et),this}setFromArray(o){this.makeEmpty();for(let et=0,tt=o.length;et<tt;et+=3)this.expandByPoint(_vector$b.fromArray(o,et));return this}setFromBufferAttribute(o){this.makeEmpty();for(let et=0,tt=o.count;et<tt;et++)this.expandByPoint(_vector$b.fromBufferAttribute(o,et));return this}setFromPoints(o){this.makeEmpty();for(let et=0,tt=o.length;et<tt;et++)this.expandByPoint(o[et]);return this}setFromCenterAndSize(o,et){const tt=_vector$b.copy(et).multiplyScalar(.5);return this.min.copy(o).sub(tt),this.max.copy(o).add(tt),this}setFromObject(o,et=!1){return this.makeEmpty(),this.expandByObject(o,et)}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(o){return this.isEmpty()?o.set(0,0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}expandByObject(o,et=!1){o.updateWorldMatrix(!1,!1);const tt=o.geometry;if(tt!==void 0){const rt=tt.getAttribute("position");if(et===!0&&rt!==void 0&&o.isInstancedMesh!==!0)for(let it=0,ot=rt.count;it<ot;it++)o.isMesh===!0?o.getVertexPosition(it,_vector$b):_vector$b.fromBufferAttribute(rt,it),_vector$b.applyMatrix4(o.matrixWorld),this.expandByPoint(_vector$b);else o.boundingBox!==void 0?(o.boundingBox===null&&o.computeBoundingBox(),_box$4.copy(o.boundingBox)):(tt.boundingBox===null&&tt.computeBoundingBox(),_box$4.copy(tt.boundingBox)),_box$4.applyMatrix4(o.matrixWorld),this.union(_box$4)}const nt=o.children;for(let rt=0,it=nt.length;rt<it;rt++)this.expandByObject(nt[rt],et);return this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y||o.z<this.min.z||o.z>this.max.z)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y&&this.min.z<=o.min.z&&o.max.z<=this.max.z}getParameter(o,et){return et.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y),(o.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y||o.max.z<this.min.z||o.min.z>this.max.z)}intersectsSphere(o){return this.clampPoint(o.center,_vector$b),_vector$b.distanceToSquared(o.center)<=o.radius*o.radius}intersectsPlane(o){let et,tt;return o.normal.x>0?(et=o.normal.x*this.min.x,tt=o.normal.x*this.max.x):(et=o.normal.x*this.max.x,tt=o.normal.x*this.min.x),o.normal.y>0?(et+=o.normal.y*this.min.y,tt+=o.normal.y*this.max.y):(et+=o.normal.y*this.max.y,tt+=o.normal.y*this.min.y),o.normal.z>0?(et+=o.normal.z*this.min.z,tt+=o.normal.z*this.max.z):(et+=o.normal.z*this.max.z,tt+=o.normal.z*this.min.z),et<=-o.constant&&tt>=-o.constant}intersectsTriangle(o){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(o.a,_center),_v1$7.subVectors(o.b,_center),_v2$4.subVectors(o.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let et=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(et,_v0$2,_v1$7,_v2$4,_extents)||(et=[1,0,0,0,1,0,0,0,1],!satForAxes(et,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),et=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(et,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(o,et){return et.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return this.clampPoint(o,_vector$b).distanceTo(o)}getBoundingSphere(o){return this.isEmpty()?o.makeEmpty():(this.getCenter(o.center),o.radius=this.getSize(_vector$b).length()*.5),o}intersect(o){return this.min.max(o.min),this.max.min(o.max),this.isEmpty()&&this.makeEmpty(),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}applyMatrix4(o){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(o),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(o),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(o),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(o),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(o),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(o),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(o),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(o),this.setFromPoints(_points),this)}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(s,o,et,tt,nt){for(let rt=0,it=s.length-3;rt<=it;rt+=3){_testAxis.fromArray(s,rt);const ot=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),st=o.dot(_testAxis),at=et.dot(_testAxis),lt=tt.dot(_testAxis);if(Math.max(-Math.max(st,at,lt),Math.min(st,at,lt))>ot)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;let Sphere$1=class{constructor(o=new Vector3,et=-1){this.isSphere=!0,this.center=o,this.radius=et}set(o,et){return this.center.copy(o),this.radius=et,this}setFromPoints(o,et){const tt=this.center;et!==void 0?tt.copy(et):_box$3.setFromPoints(o).getCenter(tt);let nt=0;for(let rt=0,it=o.length;rt<it;rt++)nt=Math.max(nt,tt.distanceToSquared(o[rt]));return this.radius=Math.sqrt(nt),this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(o){return o.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(o){return o.distanceTo(this.center)-this.radius}intersectsSphere(o){const et=this.radius+o.radius;return o.center.distanceToSquared(this.center)<=et*et}intersectsBox(o){return o.intersectsSphere(this)}intersectsPlane(o){return Math.abs(o.distanceToPoint(this.center))<=this.radius}clampPoint(o,et){const tt=this.center.distanceToSquared(o);return et.copy(o),tt>this.radius*this.radius&&(et.sub(this.center).normalize(),et.multiplyScalar(this.radius).add(this.center)),et}getBoundingBox(o){return this.isEmpty()?(o.makeEmpty(),o):(o.set(this.center,this.center),o.expandByScalar(this.radius),o)}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}expandByPoint(o){if(this.isEmpty())return this.center.copy(o),this.radius=0,this;_v1$6.subVectors(o,this.center);const et=_v1$6.lengthSq();if(et>this.radius*this.radius){const tt=Math.sqrt(et),nt=(tt-this.radius)*.5;this.center.addScaledVector(_v1$6,nt/tt),this.radius+=nt}return this}union(o){return o.isEmpty()?this:this.isEmpty()?(this.copy(o),this):(this.center.equals(o.center)===!0?this.radius=Math.max(this.radius,o.radius):(_v2$3.subVectors(o.center,this.center).setLength(o.radius),this.expandByPoint(_v1$6.copy(o.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(o.center).sub(_v2$3))),this)}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new this.constructor().copy(this)}};const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;let Ray$1=class{constructor(o=new Vector3,et=new Vector3(0,0,-1)){this.origin=o,this.direction=et}set(o,et){return this.origin.copy(o),this.direction.copy(et),this}copy(o){return this.origin.copy(o.origin),this.direction.copy(o.direction),this}at(o,et){return et.copy(this.origin).addScaledVector(this.direction,o)}lookAt(o){return this.direction.copy(o).sub(this.origin).normalize(),this}recast(o){return this.origin.copy(this.at(o,_vector$a)),this}closestPointToPoint(o,et){et.subVectors(o,this.origin);const tt=et.dot(this.direction);return tt<0?et.copy(this.origin):et.copy(this.origin).addScaledVector(this.direction,tt)}distanceToPoint(o){return Math.sqrt(this.distanceSqToPoint(o))}distanceSqToPoint(o){const et=_vector$a.subVectors(o,this.origin).dot(this.direction);return et<0?this.origin.distanceToSquared(o):(_vector$a.copy(this.origin).addScaledVector(this.direction,et),_vector$a.distanceToSquared(o))}distanceSqToSegment(o,et,tt,nt){_segCenter.copy(o).add(et).multiplyScalar(.5),_segDir.copy(et).sub(o).normalize(),_diff.copy(this.origin).sub(_segCenter);const rt=o.distanceTo(et)*.5,it=-this.direction.dot(_segDir),ot=_diff.dot(this.direction),st=-_diff.dot(_segDir),at=_diff.lengthSq(),lt=Math.abs(1-it*it);let ct,ut,dt,ht;if(lt>0)if(ct=it*st-ot,ut=it*ot-st,ht=rt*lt,ct>=0)if(ut>=-ht)if(ut<=ht){const pt=1/lt;ct*=pt,ut*=pt,dt=ct*(ct+it*ut+2*ot)+ut*(it*ct+ut+2*st)+at}else ut=rt,ct=Math.max(0,-(it*ut+ot)),dt=-ct*ct+ut*(ut+2*st)+at;else ut=-rt,ct=Math.max(0,-(it*ut+ot)),dt=-ct*ct+ut*(ut+2*st)+at;else ut<=-ht?(ct=Math.max(0,-(-it*rt+ot)),ut=ct>0?-rt:Math.min(Math.max(-rt,-st),rt),dt=-ct*ct+ut*(ut+2*st)+at):ut<=ht?(ct=0,ut=Math.min(Math.max(-rt,-st),rt),dt=ut*(ut+2*st)+at):(ct=Math.max(0,-(it*rt+ot)),ut=ct>0?rt:Math.min(Math.max(-rt,-st),rt),dt=-ct*ct+ut*(ut+2*st)+at);else ut=it>0?-rt:rt,ct=Math.max(0,-(it*ut+ot)),dt=-ct*ct+ut*(ut+2*st)+at;return tt&&tt.copy(this.origin).addScaledVector(this.direction,ct),nt&&nt.copy(_segCenter).addScaledVector(_segDir,ut),dt}intersectSphere(o,et){_vector$a.subVectors(o.center,this.origin);const tt=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-tt*tt,rt=o.radius*o.radius;if(nt>rt)return null;const it=Math.sqrt(rt-nt),ot=tt-it,st=tt+it;return st<0?null:ot<0?this.at(st,et):this.at(ot,et)}intersectsSphere(o){return this.distanceSqToPoint(o.center)<=o.radius*o.radius}distanceToPlane(o){const et=o.normal.dot(this.direction);if(et===0)return o.distanceToPoint(this.origin)===0?0:null;const tt=-(this.origin.dot(o.normal)+o.constant)/et;return tt>=0?tt:null}intersectPlane(o,et){const tt=this.distanceToPlane(o);return tt===null?null:this.at(tt,et)}intersectsPlane(o){const et=o.distanceToPoint(this.origin);return et===0||o.normal.dot(this.direction)*et<0}intersectBox(o,et){let tt,nt,rt,it,ot,st;const at=1/this.direction.x,lt=1/this.direction.y,ct=1/this.direction.z,ut=this.origin;return at>=0?(tt=(o.min.x-ut.x)*at,nt=(o.max.x-ut.x)*at):(tt=(o.max.x-ut.x)*at,nt=(o.min.x-ut.x)*at),lt>=0?(rt=(o.min.y-ut.y)*lt,it=(o.max.y-ut.y)*lt):(rt=(o.max.y-ut.y)*lt,it=(o.min.y-ut.y)*lt),tt>it||rt>nt||((rt>tt||isNaN(tt))&&(tt=rt),(it<nt||isNaN(nt))&&(nt=it),ct>=0?(ot=(o.min.z-ut.z)*ct,st=(o.max.z-ut.z)*ct):(ot=(o.max.z-ut.z)*ct,st=(o.min.z-ut.z)*ct),tt>st||ot>nt)||((ot>tt||tt!==tt)&&(tt=ot),(st<nt||nt!==nt)&&(nt=st),nt<0)?null:this.at(tt>=0?tt:nt,et)}intersectsBox(o){return this.intersectBox(o,_vector$a)!==null}intersectTriangle(o,et,tt,nt,rt){_edge1.subVectors(et,o),_edge2.subVectors(tt,o),_normal$1.crossVectors(_edge1,_edge2);let it=this.direction.dot(_normal$1),ot;if(it>0){if(nt)return null;ot=1}else if(it<0)ot=-1,it=-it;else return null;_diff.subVectors(this.origin,o);const st=ot*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(st<0)return null;const at=ot*this.direction.dot(_edge1.cross(_diff));if(at<0||st+at>it)return null;const lt=-ot*_diff.dot(_normal$1);return lt<0?null:this.at(lt/it,rt)}applyMatrix4(o){return this.origin.applyMatrix4(o),this.direction.transformDirection(o),this}equals(o){return o.origin.equals(this.origin)&&o.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class Matrix4{constructor(o,et,tt,nt,rt,it,ot,st,at,lt,ct,ut,dt,ht,pt,gt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o!==void 0&&this.set(o,et,tt,nt,rt,it,ot,st,at,lt,ct,ut,dt,ht,pt,gt)}set(o,et,tt,nt,rt,it,ot,st,at,lt,ct,ut,dt,ht,pt,gt){const ft=this.elements;return ft[0]=o,ft[4]=et,ft[8]=tt,ft[12]=nt,ft[1]=rt,ft[5]=it,ft[9]=ot,ft[13]=st,ft[2]=at,ft[6]=lt,ft[10]=ct,ft[14]=ut,ft[3]=dt,ft[7]=ht,ft[11]=pt,ft[15]=gt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(o){const et=this.elements,tt=o.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],et[9]=tt[9],et[10]=tt[10],et[11]=tt[11],et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],et[15]=tt[15],this}copyPosition(o){const et=this.elements,tt=o.elements;return et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],this}setFromMatrix3(o){const et=o.elements;return this.set(et[0],et[3],et[6],0,et[1],et[4],et[7],0,et[2],et[5],et[8],0,0,0,0,1),this}extractBasis(o,et,tt){return o.setFromMatrixColumn(this,0),et.setFromMatrixColumn(this,1),tt.setFromMatrixColumn(this,2),this}makeBasis(o,et,tt){return this.set(o.x,et.x,tt.x,0,o.y,et.y,tt.y,0,o.z,et.z,tt.z,0,0,0,0,1),this}extractRotation(o){const et=this.elements,tt=o.elements,nt=1/_v1$5.setFromMatrixColumn(o,0).length(),rt=1/_v1$5.setFromMatrixColumn(o,1).length(),it=1/_v1$5.setFromMatrixColumn(o,2).length();return et[0]=tt[0]*nt,et[1]=tt[1]*nt,et[2]=tt[2]*nt,et[3]=0,et[4]=tt[4]*rt,et[5]=tt[5]*rt,et[6]=tt[6]*rt,et[7]=0,et[8]=tt[8]*it,et[9]=tt[9]*it,et[10]=tt[10]*it,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromEuler(o){const et=this.elements,tt=o.x,nt=o.y,rt=o.z,it=Math.cos(tt),ot=Math.sin(tt),st=Math.cos(nt),at=Math.sin(nt),lt=Math.cos(rt),ct=Math.sin(rt);if(o.order==="XYZ"){const ut=it*lt,dt=it*ct,ht=ot*lt,pt=ot*ct;et[0]=st*lt,et[4]=-st*ct,et[8]=at,et[1]=dt+ht*at,et[5]=ut-pt*at,et[9]=-ot*st,et[2]=pt-ut*at,et[6]=ht+dt*at,et[10]=it*st}else if(o.order==="YXZ"){const ut=st*lt,dt=st*ct,ht=at*lt,pt=at*ct;et[0]=ut+pt*ot,et[4]=ht*ot-dt,et[8]=it*at,et[1]=it*ct,et[5]=it*lt,et[9]=-ot,et[2]=dt*ot-ht,et[6]=pt+ut*ot,et[10]=it*st}else if(o.order==="ZXY"){const ut=st*lt,dt=st*ct,ht=at*lt,pt=at*ct;et[0]=ut-pt*ot,et[4]=-it*ct,et[8]=ht+dt*ot,et[1]=dt+ht*ot,et[5]=it*lt,et[9]=pt-ut*ot,et[2]=-it*at,et[6]=ot,et[10]=it*st}else if(o.order==="ZYX"){const ut=it*lt,dt=it*ct,ht=ot*lt,pt=ot*ct;et[0]=st*lt,et[4]=ht*at-dt,et[8]=ut*at+pt,et[1]=st*ct,et[5]=pt*at+ut,et[9]=dt*at-ht,et[2]=-at,et[6]=ot*st,et[10]=it*st}else if(o.order==="YZX"){const ut=it*st,dt=it*at,ht=ot*st,pt=ot*at;et[0]=st*lt,et[4]=pt-ut*ct,et[8]=ht*ct+dt,et[1]=ct,et[5]=it*lt,et[9]=-ot*lt,et[2]=-at*lt,et[6]=dt*ct+ht,et[10]=ut-pt*ct}else if(o.order==="XZY"){const ut=it*st,dt=it*at,ht=ot*st,pt=ot*at;et[0]=st*lt,et[4]=-ct,et[8]=at*lt,et[1]=ut*ct+pt,et[5]=it*lt,et[9]=dt*ct-ht,et[2]=ht*ct-dt,et[6]=ot*lt,et[10]=pt*ct+ut}return et[3]=0,et[7]=0,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromQuaternion(o){return this.compose(_zero,o,_one)}lookAt(o,et,tt){const nt=this.elements;return _z.subVectors(o,et),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(tt,_z),_x.lengthSq()===0&&(Math.abs(tt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(tt,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,et){const tt=o.elements,nt=et.elements,rt=this.elements,it=tt[0],ot=tt[4],st=tt[8],at=tt[12],lt=tt[1],ct=tt[5],ut=tt[9],dt=tt[13],ht=tt[2],pt=tt[6],gt=tt[10],ft=tt[14],yt=tt[3],mt=tt[7],Ft=tt[11],vt=tt[15],Et=nt[0],wt=nt[4],It=nt[8],St=nt[12],Rt=nt[1],Tt=nt[5],bt=nt[9],xt=nt[13],Bt=nt[2],Ct=nt[6],Mt=nt[10],Nt=nt[14],At=nt[3],Ot=nt[7],Vt=nt[11],Wt=nt[15];return rt[0]=it*Et+ot*Rt+st*Bt+at*At,rt[4]=it*wt+ot*Tt+st*Ct+at*Ot,rt[8]=it*It+ot*bt+st*Mt+at*Vt,rt[12]=it*St+ot*xt+st*Nt+at*Wt,rt[1]=lt*Et+ct*Rt+ut*Bt+dt*At,rt[5]=lt*wt+ct*Tt+ut*Ct+dt*Ot,rt[9]=lt*It+ct*bt+ut*Mt+dt*Vt,rt[13]=lt*St+ct*xt+ut*Nt+dt*Wt,rt[2]=ht*Et+pt*Rt+gt*Bt+ft*At,rt[6]=ht*wt+pt*Tt+gt*Ct+ft*Ot,rt[10]=ht*It+pt*bt+gt*Mt+ft*Vt,rt[14]=ht*St+pt*xt+gt*Nt+ft*Wt,rt[3]=yt*Et+mt*Rt+Ft*Bt+vt*At,rt[7]=yt*wt+mt*Tt+Ft*Ct+vt*Ot,rt[11]=yt*It+mt*bt+Ft*Mt+vt*Vt,rt[15]=yt*St+mt*xt+Ft*Nt+vt*Wt,this}multiplyScalar(o){const et=this.elements;return et[0]*=o,et[4]*=o,et[8]*=o,et[12]*=o,et[1]*=o,et[5]*=o,et[9]*=o,et[13]*=o,et[2]*=o,et[6]*=o,et[10]*=o,et[14]*=o,et[3]*=o,et[7]*=o,et[11]*=o,et[15]*=o,this}determinant(){const o=this.elements,et=o[0],tt=o[4],nt=o[8],rt=o[12],it=o[1],ot=o[5],st=o[9],at=o[13],lt=o[2],ct=o[6],ut=o[10],dt=o[14],ht=o[3],pt=o[7],gt=o[11],ft=o[15];return ht*(+rt*st*ct-nt*at*ct-rt*ot*ut+tt*at*ut+nt*ot*dt-tt*st*dt)+pt*(+et*st*dt-et*at*ut+rt*it*ut-nt*it*dt+nt*at*lt-rt*st*lt)+gt*(+et*at*ct-et*ot*dt-rt*it*ct+tt*it*dt+rt*ot*lt-tt*at*lt)+ft*(-nt*ot*lt-et*st*ct+et*ot*ut+nt*it*ct-tt*it*ut+tt*st*lt)}transpose(){const o=this.elements;let et;return et=o[1],o[1]=o[4],o[4]=et,et=o[2],o[2]=o[8],o[8]=et,et=o[6],o[6]=o[9],o[9]=et,et=o[3],o[3]=o[12],o[12]=et,et=o[7],o[7]=o[13],o[13]=et,et=o[11],o[11]=o[14],o[14]=et,this}setPosition(o,et,tt){const nt=this.elements;return o.isVector3?(nt[12]=o.x,nt[13]=o.y,nt[14]=o.z):(nt[12]=o,nt[13]=et,nt[14]=tt),this}invert(){const o=this.elements,et=o[0],tt=o[1],nt=o[2],rt=o[3],it=o[4],ot=o[5],st=o[6],at=o[7],lt=o[8],ct=o[9],ut=o[10],dt=o[11],ht=o[12],pt=o[13],gt=o[14],ft=o[15],yt=ct*gt*at-pt*ut*at+pt*st*dt-ot*gt*dt-ct*st*ft+ot*ut*ft,mt=ht*ut*at-lt*gt*at-ht*st*dt+it*gt*dt+lt*st*ft-it*ut*ft,Ft=lt*pt*at-ht*ct*at+ht*ot*dt-it*pt*dt-lt*ot*ft+it*ct*ft,vt=ht*ct*st-lt*pt*st-ht*ot*ut+it*pt*ut+lt*ot*gt-it*ct*gt,Et=et*yt+tt*mt+nt*Ft+rt*vt;if(Et===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const wt=1/Et;return o[0]=yt*wt,o[1]=(pt*ut*rt-ct*gt*rt-pt*nt*dt+tt*gt*dt+ct*nt*ft-tt*ut*ft)*wt,o[2]=(ot*gt*rt-pt*st*rt+pt*nt*at-tt*gt*at-ot*nt*ft+tt*st*ft)*wt,o[3]=(ct*st*rt-ot*ut*rt-ct*nt*at+tt*ut*at+ot*nt*dt-tt*st*dt)*wt,o[4]=mt*wt,o[5]=(lt*gt*rt-ht*ut*rt+ht*nt*dt-et*gt*dt-lt*nt*ft+et*ut*ft)*wt,o[6]=(ht*st*rt-it*gt*rt-ht*nt*at+et*gt*at+it*nt*ft-et*st*ft)*wt,o[7]=(it*ut*rt-lt*st*rt+lt*nt*at-et*ut*at-it*nt*dt+et*st*dt)*wt,o[8]=Ft*wt,o[9]=(ht*ct*rt-lt*pt*rt-ht*tt*dt+et*pt*dt+lt*tt*ft-et*ct*ft)*wt,o[10]=(it*pt*rt-ht*ot*rt+ht*tt*at-et*pt*at-it*tt*ft+et*ot*ft)*wt,o[11]=(lt*ot*rt-it*ct*rt-lt*tt*at+et*ct*at+it*tt*dt-et*ot*dt)*wt,o[12]=vt*wt,o[13]=(lt*pt*nt-ht*ct*nt+ht*tt*ut-et*pt*ut-lt*tt*gt+et*ct*gt)*wt,o[14]=(ht*ot*nt-it*pt*nt-ht*tt*st+et*pt*st+it*tt*gt-et*ot*gt)*wt,o[15]=(it*ct*nt-lt*ot*nt+lt*tt*st-et*ct*st-it*tt*ut+et*ot*ut)*wt,this}scale(o){const et=this.elements,tt=o.x,nt=o.y,rt=o.z;return et[0]*=tt,et[4]*=nt,et[8]*=rt,et[1]*=tt,et[5]*=nt,et[9]*=rt,et[2]*=tt,et[6]*=nt,et[10]*=rt,et[3]*=tt,et[7]*=nt,et[11]*=rt,this}getMaxScaleOnAxis(){const o=this.elements,et=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],tt=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],nt=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(et,tt,nt))}makeTranslation(o,et,tt){return o.isVector3?this.set(1,0,0,o.x,0,1,0,o.y,0,0,1,o.z,0,0,0,1):this.set(1,0,0,o,0,1,0,et,0,0,1,tt,0,0,0,1),this}makeRotationX(o){const et=Math.cos(o),tt=Math.sin(o);return this.set(1,0,0,0,0,et,-tt,0,0,tt,et,0,0,0,0,1),this}makeRotationY(o){const et=Math.cos(o),tt=Math.sin(o);return this.set(et,0,tt,0,0,1,0,0,-tt,0,et,0,0,0,0,1),this}makeRotationZ(o){const et=Math.cos(o),tt=Math.sin(o);return this.set(et,-tt,0,0,tt,et,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(o,et){const tt=Math.cos(et),nt=Math.sin(et),rt=1-tt,it=o.x,ot=o.y,st=o.z,at=rt*it,lt=rt*ot;return this.set(at*it+tt,at*ot-nt*st,at*st+nt*ot,0,at*ot+nt*st,lt*ot+tt,lt*st-nt*it,0,at*st-nt*ot,lt*st+nt*it,rt*st*st+tt,0,0,0,0,1),this}makeScale(o,et,tt){return this.set(o,0,0,0,0,et,0,0,0,0,tt,0,0,0,0,1),this}makeShear(o,et,tt,nt,rt,it){return this.set(1,tt,rt,0,o,1,it,0,et,nt,1,0,0,0,0,1),this}compose(o,et,tt){const nt=this.elements,rt=et._x,it=et._y,ot=et._z,st=et._w,at=rt+rt,lt=it+it,ct=ot+ot,ut=rt*at,dt=rt*lt,ht=rt*ct,pt=it*lt,gt=it*ct,ft=ot*ct,yt=st*at,mt=st*lt,Ft=st*ct,vt=tt.x,Et=tt.y,wt=tt.z;return nt[0]=(1-(pt+ft))*vt,nt[1]=(dt+Ft)*vt,nt[2]=(ht-mt)*vt,nt[3]=0,nt[4]=(dt-Ft)*Et,nt[5]=(1-(ut+ft))*Et,nt[6]=(gt+yt)*Et,nt[7]=0,nt[8]=(ht+mt)*wt,nt[9]=(gt-yt)*wt,nt[10]=(1-(ut+pt))*wt,nt[11]=0,nt[12]=o.x,nt[13]=o.y,nt[14]=o.z,nt[15]=1,this}decompose(o,et,tt){const nt=this.elements;let rt=_v1$5.set(nt[0],nt[1],nt[2]).length();const it=_v1$5.set(nt[4],nt[5],nt[6]).length(),ot=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(rt=-rt),o.x=nt[12],o.y=nt[13],o.z=nt[14],_m1$4.copy(this);const at=1/rt,lt=1/it,ct=1/ot;return _m1$4.elements[0]*=at,_m1$4.elements[1]*=at,_m1$4.elements[2]*=at,_m1$4.elements[4]*=lt,_m1$4.elements[5]*=lt,_m1$4.elements[6]*=lt,_m1$4.elements[8]*=ct,_m1$4.elements[9]*=ct,_m1$4.elements[10]*=ct,et.setFromRotationMatrix(_m1$4),tt.x=rt,tt.y=it,tt.z=ot,this}makePerspective(o,et,tt,nt,rt,it,ot=WebGLCoordinateSystem){const st=this.elements,at=2*rt/(et-o),lt=2*rt/(tt-nt),ct=(et+o)/(et-o),ut=(tt+nt)/(tt-nt);let dt,ht;if(ot===WebGLCoordinateSystem)dt=-(it+rt)/(it-rt),ht=-2*it*rt/(it-rt);else if(ot===WebGPUCoordinateSystem)dt=-it/(it-rt),ht=-it*rt/(it-rt);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+ot);return st[0]=at,st[4]=0,st[8]=ct,st[12]=0,st[1]=0,st[5]=lt,st[9]=ut,st[13]=0,st[2]=0,st[6]=0,st[10]=dt,st[14]=ht,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic(o,et,tt,nt,rt,it,ot=WebGLCoordinateSystem){const st=this.elements,at=1/(et-o),lt=1/(tt-nt),ct=1/(it-rt),ut=(et+o)*at,dt=(tt+nt)*lt;let ht,pt;if(ot===WebGLCoordinateSystem)ht=(it+rt)*ct,pt=-2*ct;else if(ot===WebGPUCoordinateSystem)ht=rt*ct,pt=-1*ct;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+ot);return st[0]=2*at,st[4]=0,st[8]=0,st[12]=-ut,st[1]=0,st[5]=2*lt,st[9]=0,st[13]=-dt,st[2]=0,st[6]=0,st[10]=pt,st[14]=-ht,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals(o){const et=this.elements,tt=o.elements;for(let nt=0;nt<16;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(o,et=0){for(let tt=0;tt<16;tt++)this.elements[tt]=o[tt+et];return this}toArray(o=[],et=0){const tt=this.elements;return o[et]=tt[0],o[et+1]=tt[1],o[et+2]=tt[2],o[et+3]=tt[3],o[et+4]=tt[4],o[et+5]=tt[5],o[et+6]=tt[6],o[et+7]=tt[7],o[et+8]=tt[8],o[et+9]=tt[9],o[et+10]=tt[10],o[et+11]=tt[11],o[et+12]=tt[12],o[et+13]=tt[13],o[et+14]=tt[14],o[et+15]=tt[15],o}}const _v1$5=new Vector3,_m1$4=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(o=0,et=0,tt=0,nt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=o,this._y=et,this._z=tt,this._order=nt}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get order(){return this._order}set order(o){this._order=o,this._onChangeCallback()}set(o,et,tt,nt=this._order){return this._x=o,this._y=et,this._z=tt,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(o){return this._x=o._x,this._y=o._y,this._z=o._z,this._order=o._order,this._onChangeCallback(),this}setFromRotationMatrix(o,et=this._order,tt=!0){const nt=o.elements,rt=nt[0],it=nt[4],ot=nt[8],st=nt[1],at=nt[5],lt=nt[9],ct=nt[2],ut=nt[6],dt=nt[10];switch(et){case"XYZ":this._y=Math.asin(clamp$3(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-lt,dt),this._z=Math.atan2(-it,rt)):(this._x=Math.atan2(ut,at),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$3(lt,-1,1)),Math.abs(lt)<.9999999?(this._y=Math.atan2(ot,dt),this._z=Math.atan2(st,at)):(this._y=Math.atan2(-ct,rt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$3(ut,-1,1)),Math.abs(ut)<.9999999?(this._y=Math.atan2(-ct,dt),this._z=Math.atan2(-it,at)):(this._y=0,this._z=Math.atan2(st,rt));break;case"ZYX":this._y=Math.asin(-clamp$3(ct,-1,1)),Math.abs(ct)<.9999999?(this._x=Math.atan2(ut,dt),this._z=Math.atan2(st,rt)):(this._x=0,this._z=Math.atan2(-it,at));break;case"YZX":this._z=Math.asin(clamp$3(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-lt,at),this._y=Math.atan2(-ct,rt)):(this._x=0,this._y=Math.atan2(ot,dt));break;case"XZY":this._z=Math.asin(-clamp$3(it,-1,1)),Math.abs(it)<.9999999?(this._x=Math.atan2(ut,at),this._y=Math.atan2(ot,rt)):(this._x=Math.atan2(-lt,dt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+et)}return this._order=et,tt===!0&&this._onChangeCallback(),this}setFromQuaternion(o,et,tt){return _matrix$2.makeRotationFromQuaternion(o),this.setFromRotationMatrix(_matrix$2,et,tt)}setFromVector3(o,et=this._order){return this.set(o.x,o.y,o.z,et)}reorder(o){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,o)}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._order===this._order}fromArray(o){return this._x=o[0],this._y=o[1],this._z=o[2],o[3]!==void 0&&(this._order=o[3]),this._onChangeCallback(),this}toArray(o=[],et=0){return o[et]=this._x,o[et+1]=this._y,o[et+2]=this._z,o[et+3]=this._order,o}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(o){this.mask=(1<<o|0)>>>0}enable(o){this.mask|=1<<o|0}enableAll(){this.mask=-1}toggle(o){this.mask^=1<<o|0}disable(o){this.mask&=~(1<<o|0)}disableAll(){this.mask=0}test(o){return(this.mask&o.mask)!==0}isEnabled(o){return(this.mask&(1<<o|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$3=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const o=new Vector3,et=new Euler,tt=new Quaternion,nt=new Vector3(1,1,1);function rt(){tt.setFromEuler(et,!1)}function it(){et.setFromQuaternion(tt,void 0,!1)}et._onChange(rt),tt._onChange(it),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:o},rotation:{configurable:!0,enumerable:!0,value:et},quaternion:{configurable:!0,enumerable:!0,value:tt},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(o){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(o),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(o){return this.quaternion.premultiply(o),this}setRotationFromAxisAngle(o,et){this.quaternion.setFromAxisAngle(o,et)}setRotationFromEuler(o){this.quaternion.setFromEuler(o,!0)}setRotationFromMatrix(o){this.quaternion.setFromRotationMatrix(o)}setRotationFromQuaternion(o){this.quaternion.copy(o)}rotateOnAxis(o,et){return _q1.setFromAxisAngle(o,et),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(o,et){return _q1.setFromAxisAngle(o,et),this.quaternion.premultiply(_q1),this}rotateX(o){return this.rotateOnAxis(_xAxis,o)}rotateY(o){return this.rotateOnAxis(_yAxis,o)}rotateZ(o){return this.rotateOnAxis(_zAxis,o)}translateOnAxis(o,et){return _v1$4.copy(o).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(et)),this}translateX(o){return this.translateOnAxis(_xAxis,o)}translateY(o){return this.translateOnAxis(_yAxis,o)}translateZ(o){return this.translateOnAxis(_zAxis,o)}localToWorld(o){return this.updateWorldMatrix(!0,!1),o.applyMatrix4(this.matrixWorld)}worldToLocal(o){return this.updateWorldMatrix(!0,!1),o.applyMatrix4(_m1$3.copy(this.matrixWorld).invert())}lookAt(o,et,tt){o.isVector3?_target.copy(o):_target.set(o,et,tt);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$3.lookAt(_position$3,_target,this.up):_m1$3.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$3),nt&&(_m1$3.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$3),this.quaternion.premultiply(_q1.invert()))}add(o){if(arguments.length>1){for(let et=0;et<arguments.length;et++)this.add(arguments[et]);return this}return o===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",o),this):(o&&o.isObject3D?(o.removeFromParent(),o.parent=this,this.children.push(o),o.dispatchEvent(_addedEvent),_childaddedEvent.child=o,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",o),this)}remove(o){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.remove(arguments[tt]);return this}const et=this.children.indexOf(o);return et!==-1&&(o.parent=null,this.children.splice(et,1),o.dispatchEvent(_removedEvent),_childremovedEvent.child=o,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const o=this.parent;return o!==null&&o.remove(this),this}clear(){return this.remove(...this.children)}attach(o){return this.updateWorldMatrix(!0,!1),_m1$3.copy(this.matrixWorld).invert(),o.parent!==null&&(o.parent.updateWorldMatrix(!0,!1),_m1$3.multiply(o.parent.matrixWorld)),o.applyMatrix4(_m1$3),o.removeFromParent(),o.parent=this,this.children.push(o),o.updateWorldMatrix(!1,!0),o.dispatchEvent(_addedEvent),_childaddedEvent.child=o,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(o){return this.getObjectByProperty("id",o)}getObjectByName(o){return this.getObjectByProperty("name",o)}getObjectByProperty(o,et){if(this[o]===et)return this;for(let tt=0,nt=this.children.length;tt<nt;tt++){const it=this.children[tt].getObjectByProperty(o,et);if(it!==void 0)return it}}getObjectsByProperty(o,et,tt=[]){this[o]===et&&tt.push(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].getObjectsByProperty(o,et,tt);return tt}getWorldPosition(o){return this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,o,_scale$2),o}getWorldScale(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,o),o}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const et=this.matrixWorld.elements;return o.set(et[8],et[9],et[10]).normalize()}raycast(){}traverse(o){o(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverse(o)}traverseVisible(o){if(this.visible===!1)return;o(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverseVisible(o)}traverseAncestors(o){const et=this.parent;et!==null&&(o(et),et.traverseAncestors(o))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(o){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||o)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,o=!0);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];(rt.matrixWorldAutoUpdate===!0||o===!0)&&rt.updateMatrixWorld(o)}}updateWorldMatrix(o,et){const tt=this.parent;if(o===!0&&tt!==null&&tt.matrixWorldAutoUpdate===!0&&tt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),et===!0){const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt];ot.matrixWorldAutoUpdate===!0&&ot.updateWorldMatrix(!1,!0)}}}toJSON(o){const et=o===void 0||typeof o=="string",tt={};et&&(o={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},tt.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),nt.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(nt.type="BatchedMesh",nt.perObjectFrustumCulled=this.perObjectFrustumCulled,nt.sortObjects=this.sortObjects,nt.drawRanges=this._drawRanges,nt.reservedRanges=this._reservedRanges,nt.visibility=this._visibility,nt.active=this._active,nt.bounds=this._bounds.map(ot=>({boxInitialized:ot.boxInitialized,boxMin:ot.box.min.toArray(),boxMax:ot.box.max.toArray(),sphereInitialized:ot.sphereInitialized,sphereRadius:ot.sphere.radius,sphereCenter:ot.sphere.center.toArray()})),nt.maxGeometryCount=this._maxGeometryCount,nt.maxVertexCount=this._maxVertexCount,nt.maxIndexCount=this._maxIndexCount,nt.geometryInitialized=this._geometryInitialized,nt.geometryCount=this._geometryCount,nt.matricesTexture=this._matricesTexture.toJSON(o),this._colorsTexture!==null&&(nt.colorsTexture=this._colorsTexture.toJSON(o)),this.boundingSphere!==null&&(nt.boundingSphere={center:nt.boundingSphere.center.toArray(),radius:nt.boundingSphere.radius}),this.boundingBox!==null&&(nt.boundingBox={min:nt.boundingBox.min.toArray(),max:nt.boundingBox.max.toArray()}));function rt(ot,st){return ot[st.uuid]===void 0&&(ot[st.uuid]=st.toJSON(o)),st.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(o).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON(o).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=rt(o.geometries,this.geometry);const ot=this.geometry.parameters;if(ot!==void 0&&ot.shapes!==void 0){const st=ot.shapes;if(Array.isArray(st))for(let at=0,lt=st.length;at<lt;at++){const ct=st[at];rt(o.shapes,ct)}else rt(o.shapes,st)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(rt(o.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const ot=[];for(let st=0,at=this.material.length;st<at;st++)ot.push(rt(o.materials,this.material[st]));nt.material=ot}else nt.material=rt(o.materials,this.material);if(this.children.length>0){nt.children=[];for(let ot=0;ot<this.children.length;ot++)nt.children.push(this.children[ot].toJSON(o).object)}if(this.animations.length>0){nt.animations=[];for(let ot=0;ot<this.animations.length;ot++){const st=this.animations[ot];nt.animations.push(rt(o.animations,st))}}if(et){const ot=it(o.geometries),st=it(o.materials),at=it(o.textures),lt=it(o.images),ct=it(o.shapes),ut=it(o.skeletons),dt=it(o.animations),ht=it(o.nodes);ot.length>0&&(tt.geometries=ot),st.length>0&&(tt.materials=st),at.length>0&&(tt.textures=at),lt.length>0&&(tt.images=lt),ct.length>0&&(tt.shapes=ct),ut.length>0&&(tt.skeletons=ut),dt.length>0&&(tt.animations=dt),ht.length>0&&(tt.nodes=ht)}return tt.object=nt,tt;function it(ot){const st=[];for(const at in ot){const lt=ot[at];delete lt.metadata,st.push(lt)}return st}}clone(o){return new this.constructor().copy(this,o)}copy(o,et=!0){if(this.name=o.name,this.up.copy(o.up),this.position.copy(o.position),this.rotation.order=o.rotation.order,this.quaternion.copy(o.quaternion),this.scale.copy(o.scale),this.matrix.copy(o.matrix),this.matrixWorld.copy(o.matrixWorld),this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrixWorldAutoUpdate=o.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=o.matrixWorldNeedsUpdate,this.layers.mask=o.layers.mask,this.visible=o.visible,this.castShadow=o.castShadow,this.receiveShadow=o.receiveShadow,this.frustumCulled=o.frustumCulled,this.renderOrder=o.renderOrder,this.animations=o.animations.slice(),this.userData=JSON.parse(JSON.stringify(o.userData)),et===!0)for(let tt=0;tt<o.children.length;tt++){const nt=o.children[tt];this.add(nt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(o=new Vector3,et=new Vector3,tt=new Vector3){this.a=o,this.b=et,this.c=tt}static getNormal(o,et,tt,nt){nt.subVectors(tt,et),_v0$1.subVectors(o,et),nt.cross(_v0$1);const rt=nt.lengthSq();return rt>0?nt.multiplyScalar(1/Math.sqrt(rt)):nt.set(0,0,0)}static getBarycoord(o,et,tt,nt,rt){_v0$1.subVectors(nt,et),_v1$3.subVectors(tt,et),_v2$2.subVectors(o,et);const it=_v0$1.dot(_v0$1),ot=_v0$1.dot(_v1$3),st=_v0$1.dot(_v2$2),at=_v1$3.dot(_v1$3),lt=_v1$3.dot(_v2$2),ct=it*at-ot*ot;if(ct===0)return rt.set(0,0,0),null;const ut=1/ct,dt=(at*st-ot*lt)*ut,ht=(it*lt-ot*st)*ut;return rt.set(1-dt-ht,ht,dt)}static containsPoint(o,et,tt,nt){return this.getBarycoord(o,et,tt,nt,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(o,et,tt,nt,rt,it,ot,st){return this.getBarycoord(o,et,tt,nt,_v3$2)===null?(st.x=0,st.y=0,"z"in st&&(st.z=0),"w"in st&&(st.w=0),null):(st.setScalar(0),st.addScaledVector(rt,_v3$2.x),st.addScaledVector(it,_v3$2.y),st.addScaledVector(ot,_v3$2.z),st)}static isFrontFacing(o,et,tt,nt){return _v0$1.subVectors(tt,et),_v1$3.subVectors(o,et),_v0$1.cross(_v1$3).dot(nt)<0}set(o,et,tt){return this.a.copy(o),this.b.copy(et),this.c.copy(tt),this}setFromPointsAndIndices(o,et,tt,nt){return this.a.copy(o[et]),this.b.copy(o[tt]),this.c.copy(o[nt]),this}setFromAttributeAndIndices(o,et,tt,nt){return this.a.fromBufferAttribute(o,et),this.b.fromBufferAttribute(o,tt),this.c.fromBufferAttribute(o,nt),this}clone(){return new this.constructor().copy(this)}copy(o){return this.a.copy(o.a),this.b.copy(o.b),this.c.copy(o.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(o){return o.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(o){return Triangle.getNormal(this.a,this.b,this.c,o)}getPlane(o){return o.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(o,et){return Triangle.getBarycoord(o,this.a,this.b,this.c,et)}getInterpolation(o,et,tt,nt,rt){return Triangle.getInterpolation(o,this.a,this.b,this.c,et,tt,nt,rt)}containsPoint(o){return Triangle.containsPoint(o,this.a,this.b,this.c)}isFrontFacing(o){return Triangle.isFrontFacing(this.a,this.b,this.c,o)}intersectsBox(o){return o.intersectsTriangle(this)}closestPointToPoint(o,et){const tt=this.a,nt=this.b,rt=this.c;let it,ot;_vab.subVectors(nt,tt),_vac.subVectors(rt,tt),_vap.subVectors(o,tt);const st=_vab.dot(_vap),at=_vac.dot(_vap);if(st<=0&&at<=0)return et.copy(tt);_vbp.subVectors(o,nt);const lt=_vab.dot(_vbp),ct=_vac.dot(_vbp);if(lt>=0&&ct<=lt)return et.copy(nt);const ut=st*ct-lt*at;if(ut<=0&&st>=0&&lt<=0)return it=st/(st-lt),et.copy(tt).addScaledVector(_vab,it);_vcp.subVectors(o,rt);const dt=_vab.dot(_vcp),ht=_vac.dot(_vcp);if(ht>=0&&dt<=ht)return et.copy(rt);const pt=dt*at-st*ht;if(pt<=0&&at>=0&&ht<=0)return ot=at/(at-ht),et.copy(tt).addScaledVector(_vac,ot);const gt=lt*ht-dt*ct;if(gt<=0&&ct-lt>=0&&dt-ht>=0)return _vbc.subVectors(rt,nt),ot=(ct-lt)/(ct-lt+(dt-ht)),et.copy(nt).addScaledVector(_vbc,ot);const ft=1/(gt+pt+ut);return it=pt*ft,ot=ut*ft,et.copy(tt).addScaledVector(_vab,it).addScaledVector(_vac,ot)}equals(o){return o.a.equals(this.a)&&o.b.equals(this.b)&&o.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(s,o,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?s+(o-s)*6*et:et<1/2?o:et<2/3?s+(o-s)*6*(2/3-et):s}let Color$1=class{constructor(o,et,tt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(o,et,tt)}set(o,et,tt){if(et===void 0&&tt===void 0){const nt=o;nt&&nt.isColor?this.copy(nt):typeof nt=="number"?this.setHex(nt):typeof nt=="string"&&this.setStyle(nt)}else this.setRGB(o,et,tt);return this}setScalar(o){return this.r=o,this.g=o,this.b=o,this}setHex(o,et=SRGBColorSpace$1){return o=Math.floor(o),this.r=(o>>16&255)/255,this.g=(o>>8&255)/255,this.b=(o&255)/255,ColorManagement.toWorkingColorSpace(this,et),this}setRGB(o,et,tt,nt=ColorManagement.workingColorSpace){return this.r=o,this.g=et,this.b=tt,ColorManagement.toWorkingColorSpace(this,nt),this}setHSL(o,et,tt,nt=ColorManagement.workingColorSpace){if(o=euclideanModulo(o,1),et=clamp$3(et,0,1),tt=clamp$3(tt,0,1),et===0)this.r=this.g=this.b=tt;else{const rt=tt<=.5?tt*(1+et):tt+et-tt*et,it=2*tt-rt;this.r=hue2rgb(it,rt,o+1/3),this.g=hue2rgb(it,rt,o),this.b=hue2rgb(it,rt,o-1/3)}return ColorManagement.toWorkingColorSpace(this,nt),this}setStyle(o,et=SRGBColorSpace$1){function tt(rt){rt!==void 0&&parseFloat(rt)<1&&console.warn("THREE.Color: Alpha component of "+o+" will be ignored.")}let nt;if(nt=/^(\w+)\(([^\)]*)\)/.exec(o)){let rt;const it=nt[1],ot=nt[2];switch(it){case"rgb":case"rgba":if(rt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return tt(rt[4]),this.setRGB(Math.min(255,parseInt(rt[1],10))/255,Math.min(255,parseInt(rt[2],10))/255,Math.min(255,parseInt(rt[3],10))/255,et);if(rt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return tt(rt[4]),this.setRGB(Math.min(100,parseInt(rt[1],10))/100,Math.min(100,parseInt(rt[2],10))/100,Math.min(100,parseInt(rt[3],10))/100,et);break;case"hsl":case"hsla":if(rt=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return tt(rt[4]),this.setHSL(parseFloat(rt[1])/360,parseFloat(rt[2])/100,parseFloat(rt[3])/100,et);break;default:console.warn("THREE.Color: Unknown color model "+o)}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec(o)){const rt=nt[1],it=rt.length;if(it===3)return this.setRGB(parseInt(rt.charAt(0),16)/15,parseInt(rt.charAt(1),16)/15,parseInt(rt.charAt(2),16)/15,et);if(it===6)return this.setHex(parseInt(rt,16),et);console.warn("THREE.Color: Invalid hex color "+o)}else if(o&&o.length>0)return this.setColorName(o,et);return this}setColorName(o,et=SRGBColorSpace$1){const tt=_colorKeywords[o.toLowerCase()];return tt!==void 0?this.setHex(tt,et):console.warn("THREE.Color: Unknown color "+o),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(o){return this.r=o.r,this.g=o.g,this.b=o.b,this}copySRGBToLinear(o){return this.r=SRGBToLinear(o.r),this.g=SRGBToLinear(o.g),this.b=SRGBToLinear(o.b),this}copyLinearToSRGB(o){return this.r=LinearToSRGB(o.r),this.g=LinearToSRGB(o.g),this.b=LinearToSRGB(o.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(o=SRGBColorSpace$1){return ColorManagement.fromWorkingColorSpace(_color.copy(this),o),Math.round(clamp$3(_color.r*255,0,255))*65536+Math.round(clamp$3(_color.g*255,0,255))*256+Math.round(clamp$3(_color.b*255,0,255))}getHexString(o=SRGBColorSpace$1){return("000000"+this.getHex(o).toString(16)).slice(-6)}getHSL(o,et=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),et);const tt=_color.r,nt=_color.g,rt=_color.b,it=Math.max(tt,nt,rt),ot=Math.min(tt,nt,rt);let st,at;const lt=(ot+it)/2;if(ot===it)st=0,at=0;else{const ct=it-ot;switch(at=lt<=.5?ct/(it+ot):ct/(2-it-ot),it){case tt:st=(nt-rt)/ct+(nt<rt?6:0);break;case nt:st=(rt-tt)/ct+2;break;case rt:st=(tt-nt)/ct+4;break}st/=6}return o.h=st,o.s=at,o.l=lt,o}getRGB(o,et=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),et),o.r=_color.r,o.g=_color.g,o.b=_color.b,o}getStyle(o=SRGBColorSpace$1){ColorManagement.fromWorkingColorSpace(_color.copy(this),o);const et=_color.r,tt=_color.g,nt=_color.b;return o!==SRGBColorSpace$1?`color(${o} ${et.toFixed(3)} ${tt.toFixed(3)} ${nt.toFixed(3)})`:`rgb(${Math.round(et*255)},${Math.round(tt*255)},${Math.round(nt*255)})`}offsetHSL(o,et,tt){return this.getHSL(_hslA),this.setHSL(_hslA.h+o,_hslA.s+et,_hslA.l+tt)}add(o){return this.r+=o.r,this.g+=o.g,this.b+=o.b,this}addColors(o,et){return this.r=o.r+et.r,this.g=o.g+et.g,this.b=o.b+et.b,this}addScalar(o){return this.r+=o,this.g+=o,this.b+=o,this}sub(o){return this.r=Math.max(0,this.r-o.r),this.g=Math.max(0,this.g-o.g),this.b=Math.max(0,this.b-o.b),this}multiply(o){return this.r*=o.r,this.g*=o.g,this.b*=o.b,this}multiplyScalar(o){return this.r*=o,this.g*=o,this.b*=o,this}lerp(o,et){return this.r+=(o.r-this.r)*et,this.g+=(o.g-this.g)*et,this.b+=(o.b-this.b)*et,this}lerpColors(o,et,tt){return this.r=o.r+(et.r-o.r)*tt,this.g=o.g+(et.g-o.g)*tt,this.b=o.b+(et.b-o.b)*tt,this}lerpHSL(o,et){this.getHSL(_hslA),o.getHSL(_hslB);const tt=lerp(_hslA.h,_hslB.h,et),nt=lerp(_hslA.s,_hslB.s,et),rt=lerp(_hslA.l,_hslB.l,et);return this.setHSL(tt,nt,rt),this}setFromVector3(o){return this.r=o.x,this.g=o.y,this.b=o.z,this}applyMatrix3(o){const et=this.r,tt=this.g,nt=this.b,rt=o.elements;return this.r=rt[0]*et+rt[3]*tt+rt[6]*nt,this.g=rt[1]*et+rt[4]*tt+rt[7]*nt,this.b=rt[2]*et+rt[5]*tt+rt[8]*nt,this}equals(o){return o.r===this.r&&o.g===this.g&&o.b===this.b}fromArray(o,et=0){return this.r=o[et],this.g=o[et+1],this.b=o[et+2],this}toArray(o=[],et=0){return o[et]=this.r,o[et+1]=this.g,o[et+2]=this.b,o}fromBufferAttribute(o,et){return this.r=o.getX(et),this.g=o.getY(et),this.b=o.getZ(et),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(o){this._alphaTest>0!=o>0&&this.version++,this._alphaTest=o}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(o){if(o!==void 0)for(const et in o){const tt=o[et];if(tt===void 0){console.warn(`THREE.Material: parameter '${et}' has value of undefined.`);continue}const nt=this[et];if(nt===void 0){console.warn(`THREE.Material: '${et}' is not a property of THREE.${this.type}.`);continue}nt&&nt.isColor?nt.set(tt):nt&&nt.isVector3&&tt&&tt.isVector3?nt.copy(tt):this[et]=tt}}toJSON(o){const et=o===void 0||typeof o=="string";et&&(o={textures:{},images:{}});const tt={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};tt.uuid=this.uuid,tt.type=this.type,this.name!==""&&(tt.name=this.name),this.color&&this.color.isColor&&(tt.color=this.color.getHex()),this.roughness!==void 0&&(tt.roughness=this.roughness),this.metalness!==void 0&&(tt.metalness=this.metalness),this.sheen!==void 0&&(tt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(tt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(tt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(tt.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(tt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(tt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(tt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(tt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(tt.shininess=this.shininess),this.clearcoat!==void 0&&(tt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(tt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(tt.clearcoatMap=this.clearcoatMap.toJSON(o).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(tt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(o).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(tt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(o).uuid,tt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(tt.dispersion=this.dispersion),this.iridescence!==void 0&&(tt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(tt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(tt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(tt.iridescenceMap=this.iridescenceMap.toJSON(o).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(tt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(o).uuid),this.anisotropy!==void 0&&(tt.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(tt.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(tt.anisotropyMap=this.anisotropyMap.toJSON(o).uuid),this.map&&this.map.isTexture&&(tt.map=this.map.toJSON(o).uuid),this.matcap&&this.matcap.isTexture&&(tt.matcap=this.matcap.toJSON(o).uuid),this.alphaMap&&this.alphaMap.isTexture&&(tt.alphaMap=this.alphaMap.toJSON(o).uuid),this.lightMap&&this.lightMap.isTexture&&(tt.lightMap=this.lightMap.toJSON(o).uuid,tt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(tt.aoMap=this.aoMap.toJSON(o).uuid,tt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(tt.bumpMap=this.bumpMap.toJSON(o).uuid,tt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(tt.normalMap=this.normalMap.toJSON(o).uuid,tt.normalMapType=this.normalMapType,tt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(tt.displacementMap=this.displacementMap.toJSON(o).uuid,tt.displacementScale=this.displacementScale,tt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(tt.roughnessMap=this.roughnessMap.toJSON(o).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(tt.metalnessMap=this.metalnessMap.toJSON(o).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(tt.emissiveMap=this.emissiveMap.toJSON(o).uuid),this.specularMap&&this.specularMap.isTexture&&(tt.specularMap=this.specularMap.toJSON(o).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(tt.specularIntensityMap=this.specularIntensityMap.toJSON(o).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(tt.specularColorMap=this.specularColorMap.toJSON(o).uuid),this.envMap&&this.envMap.isTexture&&(tt.envMap=this.envMap.toJSON(o).uuid,this.combine!==void 0&&(tt.combine=this.combine)),this.envMapRotation!==void 0&&(tt.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(tt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(tt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(tt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(tt.gradientMap=this.gradientMap.toJSON(o).uuid),this.transmission!==void 0&&(tt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(tt.transmissionMap=this.transmissionMap.toJSON(o).uuid),this.thickness!==void 0&&(tt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(tt.thicknessMap=this.thicknessMap.toJSON(o).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(tt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(tt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(tt.size=this.size),this.shadowSide!==null&&(tt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(tt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(tt.blending=this.blending),this.side!==FrontSide&&(tt.side=this.side),this.vertexColors===!0&&(tt.vertexColors=!0),this.opacity<1&&(tt.opacity=this.opacity),this.transparent===!0&&(tt.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(tt.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(tt.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(tt.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(tt.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(tt.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(tt.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(tt.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(tt.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(tt.depthFunc=this.depthFunc),this.depthTest===!1&&(tt.depthTest=this.depthTest),this.depthWrite===!1&&(tt.depthWrite=this.depthWrite),this.colorWrite===!1&&(tt.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(tt.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(tt.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(tt.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(tt.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(tt.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(tt.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(tt.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(tt.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(tt.rotation=this.rotation),this.polygonOffset===!0&&(tt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(tt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(tt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(tt.linewidth=this.linewidth),this.dashSize!==void 0&&(tt.dashSize=this.dashSize),this.gapSize!==void 0&&(tt.gapSize=this.gapSize),this.scale!==void 0&&(tt.scale=this.scale),this.dithering===!0&&(tt.dithering=!0),this.alphaTest>0&&(tt.alphaTest=this.alphaTest),this.alphaHash===!0&&(tt.alphaHash=!0),this.alphaToCoverage===!0&&(tt.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(tt.premultipliedAlpha=!0),this.forceSinglePass===!0&&(tt.forceSinglePass=!0),this.wireframe===!0&&(tt.wireframe=!0),this.wireframeLinewidth>1&&(tt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(tt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(tt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(tt.flatShading=!0),this.visible===!1&&(tt.visible=!1),this.toneMapped===!1&&(tt.toneMapped=!1),this.fog===!1&&(tt.fog=!1),Object.keys(this.userData).length>0&&(tt.userData=this.userData);function nt(rt){const it=[];for(const ot in rt){const st=rt[ot];delete st.metadata,it.push(st)}return it}if(et){const rt=nt(o.textures),it=nt(o.images);rt.length>0&&(tt.textures=rt),it.length>0&&(tt.images=it)}return tt}clone(){return new this.constructor().copy(this)}copy(o){this.name=o.name,this.blending=o.blending,this.side=o.side,this.vertexColors=o.vertexColors,this.opacity=o.opacity,this.transparent=o.transparent,this.blendSrc=o.blendSrc,this.blendDst=o.blendDst,this.blendEquation=o.blendEquation,this.blendSrcAlpha=o.blendSrcAlpha,this.blendDstAlpha=o.blendDstAlpha,this.blendEquationAlpha=o.blendEquationAlpha,this.blendColor.copy(o.blendColor),this.blendAlpha=o.blendAlpha,this.depthFunc=o.depthFunc,this.depthTest=o.depthTest,this.depthWrite=o.depthWrite,this.stencilWriteMask=o.stencilWriteMask,this.stencilFunc=o.stencilFunc,this.stencilRef=o.stencilRef,this.stencilFuncMask=o.stencilFuncMask,this.stencilFail=o.stencilFail,this.stencilZFail=o.stencilZFail,this.stencilZPass=o.stencilZPass,this.stencilWrite=o.stencilWrite;const et=o.clippingPlanes;let tt=null;if(et!==null){const nt=et.length;tt=new Array(nt);for(let rt=0;rt!==nt;++rt)tt[rt]=et[rt].clone()}return this.clippingPlanes=tt,this.clipIntersection=o.clipIntersection,this.clipShadows=o.clipShadows,this.shadowSide=o.shadowSide,this.colorWrite=o.colorWrite,this.precision=o.precision,this.polygonOffset=o.polygonOffset,this.polygonOffsetFactor=o.polygonOffsetFactor,this.polygonOffsetUnits=o.polygonOffsetUnits,this.dithering=o.dithering,this.alphaTest=o.alphaTest,this.alphaHash=o.alphaHash,this.alphaToCoverage=o.alphaToCoverage,this.premultipliedAlpha=o.premultipliedAlpha,this.forceSinglePass=o.forceSinglePass,this.visible=o.visible,this.toneMapped=o.toneMapped,this.userData=JSON.parse(JSON.stringify(o.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(o){o===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(o){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapRotation.copy(o.envMapRotation),this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}}const _tables=_generateTables();function _generateTables(){const s=new ArrayBuffer(4),o=new Float32Array(s),et=new Uint32Array(s),tt=new Uint32Array(512),nt=new Uint32Array(512);for(let st=0;st<256;++st){const at=st-127;at<-27?(tt[st]=0,tt[st|256]=32768,nt[st]=24,nt[st|256]=24):at<-14?(tt[st]=1024>>-at-14,tt[st|256]=1024>>-at-14|32768,nt[st]=-at-1,nt[st|256]=-at-1):at<=15?(tt[st]=at+15<<10,tt[st|256]=at+15<<10|32768,nt[st]=13,nt[st|256]=13):at<128?(tt[st]=31744,tt[st|256]=64512,nt[st]=24,nt[st|256]=24):(tt[st]=31744,tt[st|256]=64512,nt[st]=13,nt[st|256]=13)}const rt=new Uint32Array(2048),it=new Uint32Array(64),ot=new Uint32Array(64);for(let st=1;st<1024;++st){let at=st<<13,lt=0;for(;!(at&8388608);)at<<=1,lt-=8388608;at&=-8388609,lt+=947912704,rt[st]=at|lt}for(let st=1024;st<2048;++st)rt[st]=939524096+(st-1024<<13);for(let st=1;st<31;++st)it[st]=st<<23;it[31]=1199570944,it[32]=2147483648;for(let st=33;st<63;++st)it[st]=2147483648+(st-32<<23);it[63]=3347054592;for(let st=1;st<64;++st)st!==32&&(ot[st]=1024);return{floatView:o,uint32View:et,baseTable:tt,shiftTable:nt,mantissaTable:rt,exponentTable:it,offsetTable:ot}}function toHalfFloat(s){Math.abs(s)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),s=clamp$3(s,-65504,65504),_tables.floatView[0]=s;const o=_tables.uint32View[0],et=o>>23&511;return _tables.baseTable[et]+((o&8388607)>>_tables.shiftTable[et])}function fromHalfFloat(s){const o=s>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[o]+(s&1023)]+_tables.exponentTable[o],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(o,et,tt=!1){if(Array.isArray(o))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=o,this.itemSize=et,this.count=o!==void 0?o.length/et:0,this.normalized=tt,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}get updateRange(){return warnOnce("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(o){return this.usage=o,this}addUpdateRange(o,et){this.updateRanges.push({start:o,count:et})}clearUpdateRanges(){this.updateRanges.length=0}copy(o){return this.name=o.name,this.array=new o.array.constructor(o.array),this.itemSize=o.itemSize,this.count=o.count,this.normalized=o.normalized,this.usage=o.usage,this.gpuType=o.gpuType,this}copyAt(o,et,tt){o*=this.itemSize,tt*=et.itemSize;for(let nt=0,rt=this.itemSize;nt<rt;nt++)this.array[o+nt]=et.array[tt+nt];return this}copyArray(o){return this.array.set(o),this}applyMatrix3(o){if(this.itemSize===2)for(let et=0,tt=this.count;et<tt;et++)_vector2$1.fromBufferAttribute(this,et),_vector2$1.applyMatrix3(o),this.setXY(et,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix3(o),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(o){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix4(o),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(o){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyNormalMatrix(o),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(o){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.transformDirection(o),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(o,et=0){return this.array.set(o,et),this}getComponent(o,et){let tt=this.array[o*this.itemSize+et];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setComponent(o,et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[o*this.itemSize+et]=tt,this}getX(o){let et=this.array[o*this.itemSize];return this.normalized&&(et=denormalize(et,this.array)),et}setX(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize]=et,this}getY(o){let et=this.array[o*this.itemSize+1];return this.normalized&&(et=denormalize(et,this.array)),et}setY(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize+1]=et,this}getZ(o){let et=this.array[o*this.itemSize+2];return this.normalized&&(et=denormalize(et,this.array)),et}setZ(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize+2]=et,this}getW(o){let et=this.array[o*this.itemSize+3];return this.normalized&&(et=denormalize(et,this.array)),et}setW(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize+3]=et,this}setXY(o,et,tt){return o*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array)),this.array[o+0]=et,this.array[o+1]=tt,this}setXYZ(o,et,tt,nt){return o*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[o+0]=et,this.array[o+1]=tt,this.array[o+2]=nt,this}setXYZW(o,et,tt,nt,rt){return o*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[o+0]=et,this.array[o+1]=tt,this.array[o+2]=nt,this.array[o+3]=rt,this}onUpload(o){return this.onUploadCallback=o,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const o={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(o.name=this.name),this.usage!==StaticDrawUsage&&(o.usage=this.usage),o}}class Int8BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Int8Array(o),et,tt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Uint8Array(o),et,tt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Uint8ClampedArray(o),et,tt)}}class Int16BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Int16Array(o),et,tt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Uint16Array(o),et,tt)}}class Int32BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Int32Array(o),et,tt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Uint32Array(o),et,tt)}}class Float16BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Uint16Array(o),et,tt),this.isFloat16BufferAttribute=!0}getX(o){let et=fromHalfFloat(this.array[o*this.itemSize]);return this.normalized&&(et=denormalize(et,this.array)),et}setX(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize]=toHalfFloat(et),this}getY(o){let et=fromHalfFloat(this.array[o*this.itemSize+1]);return this.normalized&&(et=denormalize(et,this.array)),et}setY(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize+1]=toHalfFloat(et),this}getZ(o){let et=fromHalfFloat(this.array[o*this.itemSize+2]);return this.normalized&&(et=denormalize(et,this.array)),et}setZ(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize+2]=toHalfFloat(et),this}getW(o){let et=fromHalfFloat(this.array[o*this.itemSize+3]);return this.normalized&&(et=denormalize(et,this.array)),et}setW(o,et){return this.normalized&&(et=normalize(et,this.array)),this.array[o*this.itemSize+3]=toHalfFloat(et),this}setXY(o,et,tt){return o*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array)),this.array[o+0]=toHalfFloat(et),this.array[o+1]=toHalfFloat(tt),this}setXYZ(o,et,tt,nt){return o*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[o+0]=toHalfFloat(et),this.array[o+1]=toHalfFloat(tt),this.array[o+2]=toHalfFloat(nt),this}setXYZW(o,et,tt,nt,rt){return o*=this.itemSize,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[o+0]=toHalfFloat(et),this.array[o+1]=toHalfFloat(tt),this.array[o+2]=toHalfFloat(nt),this.array[o+3]=toHalfFloat(rt),this}}class Float32BufferAttribute extends BufferAttribute{constructor(o,et,tt){super(new Float32Array(o),et,tt)}}let _id$2=0;const _m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(o){return Array.isArray(o)?this.index=new(arrayNeedsUint32(o)?Uint32BufferAttribute:Uint16BufferAttribute)(o,1):this.index=o,this}getAttribute(o){return this.attributes[o]}setAttribute(o,et){return this.attributes[o]=et,this}deleteAttribute(o){return delete this.attributes[o],this}hasAttribute(o){return this.attributes[o]!==void 0}addGroup(o,et,tt=0){this.groups.push({start:o,count:et,materialIndex:tt})}clearGroups(){this.groups=[]}setDrawRange(o,et){this.drawRange.start=o,this.drawRange.count=et}applyMatrix4(o){const et=this.attributes.position;et!==void 0&&(et.applyMatrix4(o),et.needsUpdate=!0);const tt=this.attributes.normal;if(tt!==void 0){const rt=new Matrix3().getNormalMatrix(o);tt.applyNormalMatrix(rt),tt.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(o),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(o){return _m1$2.makeRotationFromQuaternion(o),this.applyMatrix4(_m1$2),this}rotateX(o){return _m1$2.makeRotationX(o),this.applyMatrix4(_m1$2),this}rotateY(o){return _m1$2.makeRotationY(o),this.applyMatrix4(_m1$2),this}rotateZ(o){return _m1$2.makeRotationZ(o),this.applyMatrix4(_m1$2),this}translate(o,et,tt){return _m1$2.makeTranslation(o,et,tt),this.applyMatrix4(_m1$2),this}scale(o,et,tt){return _m1$2.makeScale(o,et,tt),this.applyMatrix4(_m1$2),this}lookAt(o){return _obj.lookAt(o),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(o){const et=[];for(let tt=0,nt=o.length;tt<nt;tt++){const rt=o[tt];et.push(rt.x,rt.y,rt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(et,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const o=this.attributes.position,et=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(o!==void 0){if(this.boundingBox.setFromBufferAttribute(o),et)for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];_box$2.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const o=this.attributes.position,et=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(o){const tt=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(o),et)for(let rt=0,it=et.length;rt<it;rt++){const ot=et[rt];_boxMorphTargets.setFromBufferAttribute(ot),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(tt);let nt=0;for(let rt=0,it=o.count;rt<it;rt++)_vector$8.fromBufferAttribute(o,rt),nt=Math.max(nt,tt.distanceToSquared(_vector$8));if(et)for(let rt=0,it=et.length;rt<it;rt++){const ot=et[rt],st=this.morphTargetsRelative;for(let at=0,lt=ot.count;at<lt;at++)_vector$8.fromBufferAttribute(ot,at),st&&(_offset.fromBufferAttribute(o,at),_vector$8.add(_offset)),nt=Math.max(nt,tt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const o=this.index,et=this.attributes;if(o===null||et.position===void 0||et.normal===void 0||et.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const tt=et.position,nt=et.normal,rt=et.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*tt.count),4));const it=this.getAttribute("tangent"),ot=[],st=[];for(let It=0;It<tt.count;It++)ot[It]=new Vector3,st[It]=new Vector3;const at=new Vector3,lt=new Vector3,ct=new Vector3,ut=new Vector2,dt=new Vector2,ht=new Vector2,pt=new Vector3,gt=new Vector3;function ft(It,St,Rt){at.fromBufferAttribute(tt,It),lt.fromBufferAttribute(tt,St),ct.fromBufferAttribute(tt,Rt),ut.fromBufferAttribute(rt,It),dt.fromBufferAttribute(rt,St),ht.fromBufferAttribute(rt,Rt),lt.sub(at),ct.sub(at),dt.sub(ut),ht.sub(ut);const Tt=1/(dt.x*ht.y-ht.x*dt.y);isFinite(Tt)&&(pt.copy(lt).multiplyScalar(ht.y).addScaledVector(ct,-dt.y).multiplyScalar(Tt),gt.copy(ct).multiplyScalar(dt.x).addScaledVector(lt,-ht.x).multiplyScalar(Tt),ot[It].add(pt),ot[St].add(pt),ot[Rt].add(pt),st[It].add(gt),st[St].add(gt),st[Rt].add(gt))}let yt=this.groups;yt.length===0&&(yt=[{start:0,count:o.count}]);for(let It=0,St=yt.length;It<St;++It){const Rt=yt[It],Tt=Rt.start,bt=Rt.count;for(let xt=Tt,Bt=Tt+bt;xt<Bt;xt+=3)ft(o.getX(xt+0),o.getX(xt+1),o.getX(xt+2))}const mt=new Vector3,Ft=new Vector3,vt=new Vector3,Et=new Vector3;function wt(It){vt.fromBufferAttribute(nt,It),Et.copy(vt);const St=ot[It];mt.copy(St),mt.sub(vt.multiplyScalar(vt.dot(St))).normalize(),Ft.crossVectors(Et,St);const Tt=Ft.dot(st[It])<0?-1:1;it.setXYZW(It,mt.x,mt.y,mt.z,Tt)}for(let It=0,St=yt.length;It<St;++It){const Rt=yt[It],Tt=Rt.start,bt=Rt.count;for(let xt=Tt,Bt=Tt+bt;xt<Bt;xt+=3)wt(o.getX(xt+0)),wt(o.getX(xt+1)),wt(o.getX(xt+2))}}computeVertexNormals(){const o=this.index,et=this.getAttribute("position");if(et!==void 0){let tt=this.getAttribute("normal");if(tt===void 0)tt=new BufferAttribute(new Float32Array(et.count*3),3),this.setAttribute("normal",tt);else for(let ut=0,dt=tt.count;ut<dt;ut++)tt.setXYZ(ut,0,0,0);const nt=new Vector3,rt=new Vector3,it=new Vector3,ot=new Vector3,st=new Vector3,at=new Vector3,lt=new Vector3,ct=new Vector3;if(o)for(let ut=0,dt=o.count;ut<dt;ut+=3){const ht=o.getX(ut+0),pt=o.getX(ut+1),gt=o.getX(ut+2);nt.fromBufferAttribute(et,ht),rt.fromBufferAttribute(et,pt),it.fromBufferAttribute(et,gt),lt.subVectors(it,rt),ct.subVectors(nt,rt),lt.cross(ct),ot.fromBufferAttribute(tt,ht),st.fromBufferAttribute(tt,pt),at.fromBufferAttribute(tt,gt),ot.add(lt),st.add(lt),at.add(lt),tt.setXYZ(ht,ot.x,ot.y,ot.z),tt.setXYZ(pt,st.x,st.y,st.z),tt.setXYZ(gt,at.x,at.y,at.z)}else for(let ut=0,dt=et.count;ut<dt;ut+=3)nt.fromBufferAttribute(et,ut+0),rt.fromBufferAttribute(et,ut+1),it.fromBufferAttribute(et,ut+2),lt.subVectors(it,rt),ct.subVectors(nt,rt),lt.cross(ct),tt.setXYZ(ut+0,lt.x,lt.y,lt.z),tt.setXYZ(ut+1,lt.x,lt.y,lt.z),tt.setXYZ(ut+2,lt.x,lt.y,lt.z);this.normalizeNormals(),tt.needsUpdate=!0}}normalizeNormals(){const o=this.attributes.normal;for(let et=0,tt=o.count;et<tt;et++)_vector$8.fromBufferAttribute(o,et),_vector$8.normalize(),o.setXYZ(et,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function o(ot,st){const at=ot.array,lt=ot.itemSize,ct=ot.normalized,ut=new at.constructor(st.length*lt);let dt=0,ht=0;for(let pt=0,gt=st.length;pt<gt;pt++){ot.isInterleavedBufferAttribute?dt=st[pt]*ot.data.stride+ot.offset:dt=st[pt]*lt;for(let ft=0;ft<lt;ft++)ut[ht++]=at[dt++]}return new BufferAttribute(ut,lt,ct)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const et=new BufferGeometry,tt=this.index.array,nt=this.attributes;for(const ot in nt){const st=nt[ot],at=o(st,tt);et.setAttribute(ot,at)}const rt=this.morphAttributes;for(const ot in rt){const st=[],at=rt[ot];for(let lt=0,ct=at.length;lt<ct;lt++){const ut=at[lt],dt=o(ut,tt);st.push(dt)}et.morphAttributes[ot]=st}et.morphTargetsRelative=this.morphTargetsRelative;const it=this.groups;for(let ot=0,st=it.length;ot<st;ot++){const at=it[ot];et.addGroup(at.start,at.count,at.materialIndex)}return et}toJSON(){const o={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),Object.keys(this.userData).length>0&&(o.userData=this.userData),this.parameters!==void 0){const st=this.parameters;for(const at in st)st[at]!==void 0&&(o[at]=st[at]);return o}o.data={attributes:{}};const et=this.index;et!==null&&(o.data.index={type:et.array.constructor.name,array:Array.prototype.slice.call(et.array)});const tt=this.attributes;for(const st in tt){const at=tt[st];o.data.attributes[st]=at.toJSON(o.data)}const nt={};let rt=!1;for(const st in this.morphAttributes){const at=this.morphAttributes[st],lt=[];for(let ct=0,ut=at.length;ct<ut;ct++){const dt=at[ct];lt.push(dt.toJSON(o.data))}lt.length>0&&(nt[st]=lt,rt=!0)}rt&&(o.data.morphAttributes=nt,o.data.morphTargetsRelative=this.morphTargetsRelative);const it=this.groups;it.length>0&&(o.data.groups=JSON.parse(JSON.stringify(it)));const ot=this.boundingSphere;return ot!==null&&(o.data.boundingSphere={center:ot.center.toArray(),radius:ot.radius}),o}clone(){return new this.constructor().copy(this)}copy(o){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const et={};this.name=o.name;const tt=o.index;tt!==null&&this.setIndex(tt.clone(et));const nt=o.attributes;for(const at in nt){const lt=nt[at];this.setAttribute(at,lt.clone(et))}const rt=o.morphAttributes;for(const at in rt){const lt=[],ct=rt[at];for(let ut=0,dt=ct.length;ut<dt;ut++)lt.push(ct[ut].clone(et));this.morphAttributes[at]=lt}this.morphTargetsRelative=o.morphTargetsRelative;const it=o.groups;for(let at=0,lt=it.length;at<lt;at++){const ct=it[at];this.addGroup(ct.start,ct.count,ct.materialIndex)}const ot=o.boundingBox;ot!==null&&(this.boundingBox=ot.clone());const st=o.boundingSphere;return st!==null&&(this.boundingSphere=st.clone()),this.drawRange.start=o.drawRange.start,this.drawRange.count=o.drawRange.count,this.userData=o.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray$1,_sphere$6=new Sphere$1,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(o=new BufferGeometry,et=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=o,this.material=et,this.updateMorphTargets()}copy(o,et){return super.copy(o,et),o.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=o.morphTargetInfluences.slice()),o.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},o.morphTargetDictionary)),this.material=Array.isArray(o.material)?o.material.slice():o.material,this.geometry=o.geometry,this}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=rt}}}}getVertexPosition(o,et){const tt=this.geometry,nt=tt.attributes.position,rt=tt.morphAttributes.position,it=tt.morphTargetsRelative;et.fromBufferAttribute(nt,o);const ot=this.morphTargetInfluences;if(rt&&ot){_morphA.set(0,0,0);for(let st=0,at=rt.length;st<at;st++){const lt=ot[st],ct=rt[st];lt!==0&&(_tempA.fromBufferAttribute(ct,o),it?_morphA.addScaledVector(_tempA,lt):_morphA.addScaledVector(_tempA.sub(et),lt))}et.add(_morphA)}return et}raycast(o,et){const tt=this.geometry,nt=this.material,rt=this.matrixWorld;nt!==void 0&&(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$6.copy(tt.boundingSphere),_sphere$6.applyMatrix4(rt),_ray$3.copy(o.ray).recast(o.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(o.far-o.near)**2))&&(_inverseMatrix$3.copy(rt).invert(),_ray$3.copy(o.ray).applyMatrix4(_inverseMatrix$3),!(tt.boundingBox!==null&&_ray$3.intersectsBox(tt.boundingBox)===!1)&&this._computeIntersections(o,et,_ray$3)))}_computeIntersections(o,et,tt){let nt;const rt=this.geometry,it=this.material,ot=rt.index,st=rt.attributes.position,at=rt.attributes.uv,lt=rt.attributes.uv1,ct=rt.attributes.normal,ut=rt.groups,dt=rt.drawRange;if(ot!==null)if(Array.isArray(it))for(let ht=0,pt=ut.length;ht<pt;ht++){const gt=ut[ht],ft=it[gt.materialIndex],yt=Math.max(gt.start,dt.start),mt=Math.min(ot.count,Math.min(gt.start+gt.count,dt.start+dt.count));for(let Ft=yt,vt=mt;Ft<vt;Ft+=3){const Et=ot.getX(Ft),wt=ot.getX(Ft+1),It=ot.getX(Ft+2);nt=checkGeometryIntersection(this,ft,o,tt,at,lt,ct,Et,wt,It),nt&&(nt.faceIndex=Math.floor(Ft/3),nt.face.materialIndex=gt.materialIndex,et.push(nt))}}else{const ht=Math.max(0,dt.start),pt=Math.min(ot.count,dt.start+dt.count);for(let gt=ht,ft=pt;gt<ft;gt+=3){const yt=ot.getX(gt),mt=ot.getX(gt+1),Ft=ot.getX(gt+2);nt=checkGeometryIntersection(this,it,o,tt,at,lt,ct,yt,mt,Ft),nt&&(nt.faceIndex=Math.floor(gt/3),et.push(nt))}}else if(st!==void 0)if(Array.isArray(it))for(let ht=0,pt=ut.length;ht<pt;ht++){const gt=ut[ht],ft=it[gt.materialIndex],yt=Math.max(gt.start,dt.start),mt=Math.min(st.count,Math.min(gt.start+gt.count,dt.start+dt.count));for(let Ft=yt,vt=mt;Ft<vt;Ft+=3){const Et=Ft,wt=Ft+1,It=Ft+2;nt=checkGeometryIntersection(this,ft,o,tt,at,lt,ct,Et,wt,It),nt&&(nt.faceIndex=Math.floor(Ft/3),nt.face.materialIndex=gt.materialIndex,et.push(nt))}}else{const ht=Math.max(0,dt.start),pt=Math.min(st.count,dt.start+dt.count);for(let gt=ht,ft=pt;gt<ft;gt+=3){const yt=gt,mt=gt+1,Ft=gt+2;nt=checkGeometryIntersection(this,it,o,tt,at,lt,ct,yt,mt,Ft),nt&&(nt.faceIndex=Math.floor(gt/3),et.push(nt))}}}}function checkIntersection$1(s,o,et,tt,nt,rt,it,ot){let st;if(o.side===BackSide?st=tt.intersectTriangle(it,rt,nt,!0,ot):st=tt.intersectTriangle(nt,rt,it,o.side===FrontSide,ot),st===null)return null;_intersectionPointWorld.copy(ot),_intersectionPointWorld.applyMatrix4(s.matrixWorld);const at=et.ray.origin.distanceTo(_intersectionPointWorld);return at<et.near||at>et.far?null:{distance:at,point:_intersectionPointWorld.clone(),object:s}}function checkGeometryIntersection(s,o,et,tt,nt,rt,it,ot,st,at){s.getVertexPosition(ot,_vA$1),s.getVertexPosition(st,_vB$1),s.getVertexPosition(at,_vC$1);const lt=checkIntersection$1(s,o,et,tt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(lt){nt&&(_uvA$1.fromBufferAttribute(nt,ot),_uvB$1.fromBufferAttribute(nt,st),_uvC$1.fromBufferAttribute(nt,at),lt.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),rt&&(_uvA$1.fromBufferAttribute(rt,ot),_uvB$1.fromBufferAttribute(rt,st),_uvC$1.fromBufferAttribute(rt,at),lt.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),it&&(_normalA.fromBufferAttribute(it,ot),_normalB.fromBufferAttribute(it,st),_normalC.fromBufferAttribute(it,at),lt.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),lt.normal.dot(tt.direction)>0&&lt.normal.multiplyScalar(-1));const ct={a:ot,b:st,c:at,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ct.normal),lt.face=ct}return lt}class BoxGeometry extends BufferGeometry{constructor(o=1,et=1,tt=1,nt=1,rt=1,it=1){super(),this.type="BoxGeometry",this.parameters={width:o,height:et,depth:tt,widthSegments:nt,heightSegments:rt,depthSegments:it};const ot=this;nt=Math.floor(nt),rt=Math.floor(rt),it=Math.floor(it);const st=[],at=[],lt=[],ct=[];let ut=0,dt=0;ht("z","y","x",-1,-1,tt,et,o,it,rt,0),ht("z","y","x",1,-1,tt,et,-o,it,rt,1),ht("x","z","y",1,1,o,tt,et,nt,it,2),ht("x","z","y",1,-1,o,tt,-et,nt,it,3),ht("x","y","z",1,-1,o,et,tt,nt,rt,4),ht("x","y","z",-1,-1,o,et,-tt,nt,rt,5),this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2));function ht(pt,gt,ft,yt,mt,Ft,vt,Et,wt,It,St){const Rt=Ft/wt,Tt=vt/It,bt=Ft/2,xt=vt/2,Bt=Et/2,Ct=wt+1,Mt=It+1;let Nt=0,At=0;const Ot=new Vector3;for(let Vt=0;Vt<Mt;Vt++){const Wt=Vt*Tt-xt;for(let Jt=0;Jt<Ct;Jt++){const qt=Jt*Rt-bt;Ot[pt]=qt*yt,Ot[gt]=Wt*mt,Ot[ft]=Bt,at.push(Ot.x,Ot.y,Ot.z),Ot[pt]=0,Ot[gt]=0,Ot[ft]=Et>0?1:-1,lt.push(Ot.x,Ot.y,Ot.z),ct.push(Jt/wt),ct.push(1-Vt/It),Nt+=1}}for(let Vt=0;Vt<It;Vt++)for(let Wt=0;Wt<wt;Wt++){const Jt=ut+Wt+Ct*Vt,qt=ut+Wt+Ct*(Vt+1),Ht=ut+(Wt+1)+Ct*(Vt+1),Xt=ut+(Wt+1)+Ct*Vt;st.push(Jt,qt,Xt),st.push(qt,Ht,Xt),At+=6}ot.addGroup(dt,At,St),dt+=At,ut+=Nt}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new BoxGeometry(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)}}function cloneUniforms(s){const o={};for(const et in s){o[et]={};for(const tt in s[et]){const nt=s[et][tt];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?nt.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),o[et][tt]=null):o[et][tt]=nt.clone():Array.isArray(nt)?o[et][tt]=nt.slice():o[et][tt]=nt}}return o}function mergeUniforms(s){const o={};for(let et=0;et<s.length;et++){const tt=cloneUniforms(s[et]);for(const nt in tt)o[nt]=tt[nt]}return o}function cloneUniformsGroups(s){const o=[];for(let et=0;et<s.length;et++)o.push(s[et].clone());return o}function getUnlitUniformColorSpace(s){const o=s.getRenderTarget();return o===null?s.outputColorSpace:o.isXRRenderTarget===!0?o.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(o){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,o!==void 0&&this.setValues(o)}copy(o){return super.copy(o),this.fragmentShader=o.fragmentShader,this.vertexShader=o.vertexShader,this.uniforms=cloneUniforms(o.uniforms),this.uniformsGroups=cloneUniformsGroups(o.uniformsGroups),this.defines=Object.assign({},o.defines),this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.fog=o.fog,this.lights=o.lights,this.clipping=o.clipping,this.extensions=Object.assign({},o.extensions),this.glslVersion=o.glslVersion,this}toJSON(o){const et=super.toJSON(o);et.glslVersion=this.glslVersion,et.uniforms={};for(const nt in this.uniforms){const it=this.uniforms[nt].value;it&&it.isTexture?et.uniforms[nt]={type:"t",value:it.toJSON(o).uuid}:it&&it.isColor?et.uniforms[nt]={type:"c",value:it.getHex()}:it&&it.isVector2?et.uniforms[nt]={type:"v2",value:it.toArray()}:it&&it.isVector3?et.uniforms[nt]={type:"v3",value:it.toArray()}:it&&it.isVector4?et.uniforms[nt]={type:"v4",value:it.toArray()}:it&&it.isMatrix3?et.uniforms[nt]={type:"m3",value:it.toArray()}:it&&it.isMatrix4?et.uniforms[nt]={type:"m4",value:it.toArray()}:et.uniforms[nt]={value:it}}Object.keys(this.defines).length>0&&(et.defines=this.defines),et.vertexShader=this.vertexShader,et.fragmentShader=this.fragmentShader,et.lights=this.lights,et.clipping=this.clipping;const tt={};for(const nt in this.extensions)this.extensions[nt]===!0&&(tt[nt]=!0);return Object.keys(tt).length>0&&(et.extensions=tt),et}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(o,et){return super.copy(o,et),this.matrixWorldInverse.copy(o.matrixWorldInverse),this.projectionMatrix.copy(o.projectionMatrix),this.projectionMatrixInverse.copy(o.projectionMatrixInverse),this.coordinateSystem=o.coordinateSystem,this}getWorldDirection(o){return super.getWorldDirection(o).negate()}updateMatrixWorld(o){super.updateMatrixWorld(o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(o,et){super.updateWorldMatrix(o,et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;let PerspectiveCamera$1=class extends Camera{constructor(o=50,et=1,tt=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=o,this.zoom=1,this.near=tt,this.far=nt,this.focus=10,this.aspect=et,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(o,et){return super.copy(o,et),this.fov=o.fov,this.zoom=o.zoom,this.near=o.near,this.far=o.far,this.focus=o.focus,this.aspect=o.aspect,this.view=o.view===null?null:Object.assign({},o.view),this.filmGauge=o.filmGauge,this.filmOffset=o.filmOffset,this}setFocalLength(o){const et=.5*this.getFilmHeight()/o;this.fov=RAD2DEG*2*Math.atan(et),this.updateProjectionMatrix()}getFocalLength(){const o=Math.tan(DEG2RAD$1*.5*this.fov);return .5*this.getFilmHeight()/o}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD$1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(o,et,tt){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),et.set(_v3$1.x,_v3$1.y).multiplyScalar(-o/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),tt.set(_v3$1.x,_v3$1.y).multiplyScalar(-o/_v3$1.z)}getViewSize(o,et){return this.getViewBounds(o,_minTarget,_maxTarget),et.subVectors(_maxTarget,_minTarget)}setViewOffset(o,et,tt,nt,rt,it){this.aspect=o/et,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=this.near;let et=o*Math.tan(DEG2RAD$1*.5*this.fov)/this.zoom,tt=2*et,nt=this.aspect*tt,rt=-.5*nt;const it=this.view;if(this.view!==null&&this.view.enabled){const st=it.fullWidth,at=it.fullHeight;rt+=it.offsetX*nt/st,et-=it.offsetY*tt/at,nt*=it.width/st,tt*=it.height/at}const ot=this.filmOffset;ot!==0&&(rt+=o*ot/this.getFilmWidth()),this.projectionMatrix.makePerspective(rt,rt+nt,et,et-tt,o,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const et=super.toJSON(o);return et.object.fov=this.fov,et.object.zoom=this.zoom,et.object.near=this.near,et.object.far=this.far,et.object.focus=this.focus,et.object.aspect=this.aspect,this.view!==null&&(et.object.view=Object.assign({},this.view)),et.object.filmGauge=this.filmGauge,et.object.filmOffset=this.filmOffset,et}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(o,et,tt){super(),this.type="CubeCamera",this.renderTarget=tt,this.coordinateSystem=null,this.activeMipmapLevel=0;const nt=new PerspectiveCamera$1(fov,aspect,o,et);nt.layers=this.layers,this.add(nt);const rt=new PerspectiveCamera$1(fov,aspect,o,et);rt.layers=this.layers,this.add(rt);const it=new PerspectiveCamera$1(fov,aspect,o,et);it.layers=this.layers,this.add(it);const ot=new PerspectiveCamera$1(fov,aspect,o,et);ot.layers=this.layers,this.add(ot);const st=new PerspectiveCamera$1(fov,aspect,o,et);st.layers=this.layers,this.add(st);const at=new PerspectiveCamera$1(fov,aspect,o,et);at.layers=this.layers,this.add(at)}updateCoordinateSystem(){const o=this.coordinateSystem,et=this.children.concat(),[tt,nt,rt,it,ot,st]=et;for(const at of et)this.remove(at);if(o===WebGLCoordinateSystem)tt.up.set(0,1,0),tt.lookAt(1,0,0),nt.up.set(0,1,0),nt.lookAt(-1,0,0),rt.up.set(0,0,-1),rt.lookAt(0,1,0),it.up.set(0,0,1),it.lookAt(0,-1,0),ot.up.set(0,1,0),ot.lookAt(0,0,1),st.up.set(0,1,0),st.lookAt(0,0,-1);else if(o===WebGPUCoordinateSystem)tt.up.set(0,-1,0),tt.lookAt(-1,0,0),nt.up.set(0,-1,0),nt.lookAt(1,0,0),rt.up.set(0,0,1),rt.lookAt(0,1,0),it.up.set(0,0,-1),it.lookAt(0,-1,0),ot.up.set(0,-1,0),ot.lookAt(0,0,1),st.up.set(0,-1,0),st.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+o);for(const at of et)this.add(at),at.updateMatrixWorld()}update(o,et){this.parent===null&&this.updateMatrixWorld();const{renderTarget:tt,activeMipmapLevel:nt}=this;this.coordinateSystem!==o.coordinateSystem&&(this.coordinateSystem=o.coordinateSystem,this.updateCoordinateSystem());const[rt,it,ot,st,at,lt]=this.children,ct=o.getRenderTarget(),ut=o.getActiveCubeFace(),dt=o.getActiveMipmapLevel(),ht=o.xr.enabled;o.xr.enabled=!1;const pt=tt.texture.generateMipmaps;tt.texture.generateMipmaps=!1,o.setRenderTarget(tt,0,nt),o.render(et,rt),o.setRenderTarget(tt,1,nt),o.render(et,it),o.setRenderTarget(tt,2,nt),o.render(et,ot),o.setRenderTarget(tt,3,nt),o.render(et,st),o.setRenderTarget(tt,4,nt),o.render(et,at),tt.texture.generateMipmaps=pt,o.setRenderTarget(tt,5,nt),o.render(et,lt),o.setRenderTarget(ct,ut,dt),o.xr.enabled=ht,tt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(o,et,tt,nt,rt,it,ot,st,at,lt){o=o!==void 0?o:[],et=et!==void 0?et:CubeReflectionMapping,super(o,et,tt,nt,rt,it,ot,st,at,lt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(o){this.image=o}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(o=1,et={}){super(o,o,et),this.isWebGLCubeRenderTarget=!0;const tt={width:o,height:o,depth:1},nt=[tt,tt,tt,tt,tt,tt];this.texture=new CubeTexture(nt,et.mapping,et.wrapS,et.wrapT,et.magFilter,et.minFilter,et.format,et.type,et.anisotropy,et.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=et.generateMipmaps!==void 0?et.generateMipmaps:!1,this.texture.minFilter=et.minFilter!==void 0?et.minFilter:LinearFilter}fromEquirectangularTexture(o,et){this.texture.type=et.type,this.texture.colorSpace=et.colorSpace,this.texture.generateMipmaps=et.generateMipmaps,this.texture.minFilter=et.minFilter,this.texture.magFilter=et.magFilter;const tt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),rt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(tt.uniforms),vertexShader:tt.vertexShader,fragmentShader:tt.fragmentShader,side:BackSide,blending:NoBlending});rt.uniforms.tEquirect.value=et;const it=new Mesh(nt,rt),ot=et.minFilter;return et.minFilter===LinearMipmapLinearFilter&&(et.minFilter=LinearFilter),new CubeCamera(1,10,this).update(o,it),et.minFilter=ot,it.geometry.dispose(),it.material.dispose(),this}clear(o,et,tt,nt){const rt=o.getRenderTarget();for(let it=0;it<6;it++)o.setRenderTarget(this,it),o.clear(et,tt,nt);o.setRenderTarget(rt)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(o=new Vector3(1,0,0),et=0){this.isPlane=!0,this.normal=o,this.constant=et}set(o,et){return this.normal.copy(o),this.constant=et,this}setComponents(o,et,tt,nt){return this.normal.set(o,et,tt),this.constant=nt,this}setFromNormalAndCoplanarPoint(o,et){return this.normal.copy(o),this.constant=-et.dot(this.normal),this}setFromCoplanarPoints(o,et,tt){const nt=_vector1.subVectors(tt,et).cross(_vector2.subVectors(o,et)).normalize();return this.setFromNormalAndCoplanarPoint(nt,o),this}copy(o){return this.normal.copy(o.normal),this.constant=o.constant,this}normalize(){const o=1/this.normal.length();return this.normal.multiplyScalar(o),this.constant*=o,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(o){return this.normal.dot(o)+this.constant}distanceToSphere(o){return this.distanceToPoint(o.center)-o.radius}projectPoint(o,et){return et.copy(o).addScaledVector(this.normal,-this.distanceToPoint(o))}intersectLine(o,et){const tt=o.delta(_vector1),nt=this.normal.dot(tt);if(nt===0)return this.distanceToPoint(o.start)===0?et.copy(o.start):null;const rt=-(o.start.dot(this.normal)+this.constant)/nt;return rt<0||rt>1?null:et.copy(o.start).addScaledVector(tt,rt)}intersectsLine(o){const et=this.distanceToPoint(o.start),tt=this.distanceToPoint(o.end);return et<0&&tt>0||tt<0&&et>0}intersectsBox(o){return o.intersectsPlane(this)}intersectsSphere(o){return o.intersectsPlane(this)}coplanarPoint(o){return o.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(o,et){const tt=et||_normalMatrix.getNormalMatrix(o),nt=this.coplanarPoint(_vector1).applyMatrix4(o),rt=this.normal.applyMatrix3(tt).normalize();return this.constant=-nt.dot(rt),this}translate(o){return this.constant-=o.dot(this.normal),this}equals(o){return o.normal.equals(this.normal)&&o.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere$1,_vector$7=new Vector3;class Frustum{constructor(o=new Plane,et=new Plane,tt=new Plane,nt=new Plane,rt=new Plane,it=new Plane){this.planes=[o,et,tt,nt,rt,it]}set(o,et,tt,nt,rt,it){const ot=this.planes;return ot[0].copy(o),ot[1].copy(et),ot[2].copy(tt),ot[3].copy(nt),ot[4].copy(rt),ot[5].copy(it),this}copy(o){const et=this.planes;for(let tt=0;tt<6;tt++)et[tt].copy(o.planes[tt]);return this}setFromProjectionMatrix(o,et=WebGLCoordinateSystem){const tt=this.planes,nt=o.elements,rt=nt[0],it=nt[1],ot=nt[2],st=nt[3],at=nt[4],lt=nt[5],ct=nt[6],ut=nt[7],dt=nt[8],ht=nt[9],pt=nt[10],gt=nt[11],ft=nt[12],yt=nt[13],mt=nt[14],Ft=nt[15];if(tt[0].setComponents(st-rt,ut-at,gt-dt,Ft-ft).normalize(),tt[1].setComponents(st+rt,ut+at,gt+dt,Ft+ft).normalize(),tt[2].setComponents(st+it,ut+lt,gt+ht,Ft+yt).normalize(),tt[3].setComponents(st-it,ut-lt,gt-ht,Ft-yt).normalize(),tt[4].setComponents(st-ot,ut-ct,gt-pt,Ft-mt).normalize(),et===WebGLCoordinateSystem)tt[5].setComponents(st+ot,ut+ct,gt+pt,Ft+mt).normalize();else if(et===WebGPUCoordinateSystem)tt[5].setComponents(ot,ct,pt,mt).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+et);return this}intersectsObject(o){if(o.boundingSphere!==void 0)o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$5.copy(o.boundingSphere).applyMatrix4(o.matrixWorld);else{const et=o.geometry;et.boundingSphere===null&&et.computeBoundingSphere(),_sphere$5.copy(et.boundingSphere).applyMatrix4(o.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(o){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(o.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(o){const et=this.planes,tt=o.center,nt=-o.radius;for(let rt=0;rt<6;rt++)if(et[rt].distanceToPoint(tt)<nt)return!1;return!0}intersectsBox(o){const et=this.planes;for(let tt=0;tt<6;tt++){const nt=et[tt];if(_vector$7.x=nt.normal.x>0?o.max.x:o.min.x,_vector$7.y=nt.normal.y>0?o.max.y:o.min.y,_vector$7.z=nt.normal.z>0?o.max.z:o.min.z,nt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(o){const et=this.planes;for(let tt=0;tt<6;tt++)if(et[tt].distanceToPoint(o)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let s=null,o=!1,et=null,tt=null;function nt(rt,it){et(rt,it),tt=s.requestAnimationFrame(nt)}return{start:function(){o!==!0&&et!==null&&(tt=s.requestAnimationFrame(nt),o=!0)},stop:function(){s.cancelAnimationFrame(tt),o=!1},setAnimationLoop:function(rt){et=rt},setContext:function(rt){s=rt}}}function WebGLAttributes(s){const o=new WeakMap;function et(ot,st){const at=ot.array,lt=ot.usage,ct=at.byteLength,ut=s.createBuffer();s.bindBuffer(st,ut),s.bufferData(st,at,lt),ot.onUploadCallback();let dt;if(at instanceof Float32Array)dt=s.FLOAT;else if(at instanceof Uint16Array)ot.isFloat16BufferAttribute?dt=s.HALF_FLOAT:dt=s.UNSIGNED_SHORT;else if(at instanceof Int16Array)dt=s.SHORT;else if(at instanceof Uint32Array)dt=s.UNSIGNED_INT;else if(at instanceof Int32Array)dt=s.INT;else if(at instanceof Int8Array)dt=s.BYTE;else if(at instanceof Uint8Array)dt=s.UNSIGNED_BYTE;else if(at instanceof Uint8ClampedArray)dt=s.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+at);return{buffer:ut,type:dt,bytesPerElement:at.BYTES_PER_ELEMENT,version:ot.version,size:ct}}function tt(ot,st,at){const lt=st.array,ct=st._updateRange,ut=st.updateRanges;if(s.bindBuffer(at,ot),ct.count===-1&&ut.length===0&&s.bufferSubData(at,0,lt),ut.length!==0){for(let dt=0,ht=ut.length;dt<ht;dt++){const pt=ut[dt];s.bufferSubData(at,pt.start*lt.BYTES_PER_ELEMENT,lt,pt.start,pt.count)}st.clearUpdateRanges()}ct.count!==-1&&(s.bufferSubData(at,ct.offset*lt.BYTES_PER_ELEMENT,lt,ct.offset,ct.count),ct.count=-1),st.onUploadCallback()}function nt(ot){return ot.isInterleavedBufferAttribute&&(ot=ot.data),o.get(ot)}function rt(ot){ot.isInterleavedBufferAttribute&&(ot=ot.data);const st=o.get(ot);st&&(s.deleteBuffer(st.buffer),o.delete(ot))}function it(ot,st){if(ot.isGLBufferAttribute){const lt=o.get(ot);(!lt||lt.version<ot.version)&&o.set(ot,{buffer:ot.buffer,type:ot.type,bytesPerElement:ot.elementSize,version:ot.version});return}ot.isInterleavedBufferAttribute&&(ot=ot.data);const at=o.get(ot);if(at===void 0)o.set(ot,et(ot,st));else if(at.version<ot.version){if(at.size!==ot.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");tt(at.buffer,ot,st),at.version=ot.version}}return{get:nt,remove:rt,update:it}}class PlaneGeometry extends BufferGeometry{constructor(o=1,et=1,tt=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:o,height:et,widthSegments:tt,heightSegments:nt};const rt=o/2,it=et/2,ot=Math.floor(tt),st=Math.floor(nt),at=ot+1,lt=st+1,ct=o/ot,ut=et/st,dt=[],ht=[],pt=[],gt=[];for(let ft=0;ft<lt;ft++){const yt=ft*ut-it;for(let mt=0;mt<at;mt++){const Ft=mt*ct-rt;ht.push(Ft,-yt,0),pt.push(0,0,1),gt.push(mt/ot),gt.push(1-ft/st)}}for(let ft=0;ft<st;ft++)for(let yt=0;yt<ot;yt++){const mt=yt+at*ft,Ft=yt+at*(ft+1),vt=yt+1+at*(ft+1),Et=yt+1+at*ft;dt.push(mt,Ft,Et),dt.push(Ft,vt,Et)}this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(pt,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new PlaneGeometry(o.width,o.height,o.widthSegments,o.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,common$1=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common:common$1,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(s,o,et,tt,nt,rt,it){const ot=new Color$1(0);let st=rt===!0?0:1,at,lt,ct=null,ut=0,dt=null;function ht(yt){let mt=yt.isScene===!0?yt.background:null;return mt&&mt.isTexture&&(mt=(yt.backgroundBlurriness>0?et:o).get(mt)),mt}function pt(yt){let mt=!1;const Ft=ht(yt);Ft===null?ft(ot,st):Ft&&Ft.isColor&&(ft(Ft,1),mt=!0);const vt=s.xr.getEnvironmentBlendMode();vt==="additive"?tt.buffers.color.setClear(0,0,0,1,it):vt==="alpha-blend"&&tt.buffers.color.setClear(0,0,0,0,it),(s.autoClear||mt)&&(tt.buffers.depth.setTest(!0),tt.buffers.depth.setMask(!0),tt.buffers.color.setMask(!0),s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil))}function gt(yt,mt){const Ft=ht(mt);Ft&&(Ft.isCubeTexture||Ft.mapping===CubeUVReflectionMapping)?(lt===void 0&&(lt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),lt.geometry.deleteAttribute("uv"),lt.onBeforeRender=function(vt,Et,wt){this.matrixWorld.copyPosition(wt.matrixWorld)},Object.defineProperty(lt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(lt)),_e1$1.copy(mt.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),lt.material.uniforms.envMap.value=Ft,lt.material.uniforms.flipEnvMap.value=Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1?-1:1,lt.material.uniforms.backgroundBlurriness.value=mt.backgroundBlurriness,lt.material.uniforms.backgroundIntensity.value=mt.backgroundIntensity,lt.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),lt.material.toneMapped=ColorManagement.getTransfer(Ft.colorSpace)!==SRGBTransfer,(ct!==Ft||ut!==Ft.version||dt!==s.toneMapping)&&(lt.material.needsUpdate=!0,ct=Ft,ut=Ft.version,dt=s.toneMapping),lt.layers.enableAll(),yt.unshift(lt,lt.geometry,lt.material,0,0,null)):Ft&&Ft.isTexture&&(at===void 0&&(at=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),at.geometry.deleteAttribute("normal"),Object.defineProperty(at.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(at)),at.material.uniforms.t2D.value=Ft,at.material.uniforms.backgroundIntensity.value=mt.backgroundIntensity,at.material.toneMapped=ColorManagement.getTransfer(Ft.colorSpace)!==SRGBTransfer,Ft.matrixAutoUpdate===!0&&Ft.updateMatrix(),at.material.uniforms.uvTransform.value.copy(Ft.matrix),(ct!==Ft||ut!==Ft.version||dt!==s.toneMapping)&&(at.material.needsUpdate=!0,ct=Ft,ut=Ft.version,dt=s.toneMapping),at.layers.enableAll(),yt.unshift(at,at.geometry,at.material,0,0,null))}function ft(yt,mt){yt.getRGB(_rgb,getUnlitUniformColorSpace(s)),tt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,mt,it)}return{getClearColor:function(){return ot},setClearColor:function(yt,mt=1){ot.set(yt),st=mt,ft(ot,st)},getClearAlpha:function(){return st},setClearAlpha:function(yt){st=yt,ft(ot,st)},render:pt,addToRenderList:gt}}function WebGLBindingStates(s,o){const et=s.getParameter(s.MAX_VERTEX_ATTRIBS),tt={},nt=ut(null);let rt=nt,it=!1;function ot(Rt,Tt,bt,xt,Bt){let Ct=!1;const Mt=ct(xt,bt,Tt);rt!==Mt&&(rt=Mt,at(rt.object)),Ct=dt(Rt,xt,bt,Bt),Ct&&ht(Rt,xt,bt,Bt),Bt!==null&&o.update(Bt,s.ELEMENT_ARRAY_BUFFER),(Ct||it)&&(it=!1,Ft(Rt,Tt,bt,xt),Bt!==null&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,o.get(Bt).buffer))}function st(){return s.createVertexArray()}function at(Rt){return s.bindVertexArray(Rt)}function lt(Rt){return s.deleteVertexArray(Rt)}function ct(Rt,Tt,bt){const xt=bt.wireframe===!0;let Bt=tt[Rt.id];Bt===void 0&&(Bt={},tt[Rt.id]=Bt);let Ct=Bt[Tt.id];Ct===void 0&&(Ct={},Bt[Tt.id]=Ct);let Mt=Ct[xt];return Mt===void 0&&(Mt=ut(st()),Ct[xt]=Mt),Mt}function ut(Rt){const Tt=[],bt=[],xt=[];for(let Bt=0;Bt<et;Bt++)Tt[Bt]=0,bt[Bt]=0,xt[Bt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Tt,enabledAttributes:bt,attributeDivisors:xt,object:Rt,attributes:{},index:null}}function dt(Rt,Tt,bt,xt){const Bt=rt.attributes,Ct=Tt.attributes;let Mt=0;const Nt=bt.getAttributes();for(const At in Nt)if(Nt[At].location>=0){const Vt=Bt[At];let Wt=Ct[At];if(Wt===void 0&&(At==="instanceMatrix"&&Rt.instanceMatrix&&(Wt=Rt.instanceMatrix),At==="instanceColor"&&Rt.instanceColor&&(Wt=Rt.instanceColor)),Vt===void 0||Vt.attribute!==Wt||Wt&&Vt.data!==Wt.data)return!0;Mt++}return rt.attributesNum!==Mt||rt.index!==xt}function ht(Rt,Tt,bt,xt){const Bt={},Ct=Tt.attributes;let Mt=0;const Nt=bt.getAttributes();for(const At in Nt)if(Nt[At].location>=0){let Vt=Ct[At];Vt===void 0&&(At==="instanceMatrix"&&Rt.instanceMatrix&&(Vt=Rt.instanceMatrix),At==="instanceColor"&&Rt.instanceColor&&(Vt=Rt.instanceColor));const Wt={};Wt.attribute=Vt,Vt&&Vt.data&&(Wt.data=Vt.data),Bt[At]=Wt,Mt++}rt.attributes=Bt,rt.attributesNum=Mt,rt.index=xt}function pt(){const Rt=rt.newAttributes;for(let Tt=0,bt=Rt.length;Tt<bt;Tt++)Rt[Tt]=0}function gt(Rt){ft(Rt,0)}function ft(Rt,Tt){const bt=rt.newAttributes,xt=rt.enabledAttributes,Bt=rt.attributeDivisors;bt[Rt]=1,xt[Rt]===0&&(s.enableVertexAttribArray(Rt),xt[Rt]=1),Bt[Rt]!==Tt&&(s.vertexAttribDivisor(Rt,Tt),Bt[Rt]=Tt)}function yt(){const Rt=rt.newAttributes,Tt=rt.enabledAttributes;for(let bt=0,xt=Tt.length;bt<xt;bt++)Tt[bt]!==Rt[bt]&&(s.disableVertexAttribArray(bt),Tt[bt]=0)}function mt(Rt,Tt,bt,xt,Bt,Ct,Mt){Mt===!0?s.vertexAttribIPointer(Rt,Tt,bt,Bt,Ct):s.vertexAttribPointer(Rt,Tt,bt,xt,Bt,Ct)}function Ft(Rt,Tt,bt,xt){pt();const Bt=xt.attributes,Ct=bt.getAttributes(),Mt=Tt.defaultAttributeValues;for(const Nt in Ct){const At=Ct[Nt];if(At.location>=0){let Ot=Bt[Nt];if(Ot===void 0&&(Nt==="instanceMatrix"&&Rt.instanceMatrix&&(Ot=Rt.instanceMatrix),Nt==="instanceColor"&&Rt.instanceColor&&(Ot=Rt.instanceColor)),Ot!==void 0){const Vt=Ot.normalized,Wt=Ot.itemSize,Jt=o.get(Ot);if(Jt===void 0)continue;const qt=Jt.buffer,Ht=Jt.type,Xt=Jt.bytesPerElement,Lt=Ht===s.INT||Ht===s.UNSIGNED_INT||Ot.gpuType===IntType;if(Ot.isInterleavedBufferAttribute){const Pt=Ot.data,kt=Pt.stride,zt=Ot.offset;if(Pt.isInstancedInterleavedBuffer){for(let tn=0;tn<At.locationSize;tn++)ft(At.location+tn,Pt.meshPerAttribute);Rt.isInstancedMesh!==!0&&xt._maxInstanceCount===void 0&&(xt._maxInstanceCount=Pt.meshPerAttribute*Pt.count)}else for(let tn=0;tn<At.locationSize;tn++)gt(At.location+tn);s.bindBuffer(s.ARRAY_BUFFER,qt);for(let tn=0;tn<At.locationSize;tn++)mt(At.location+tn,Wt/At.locationSize,Ht,Vt,kt*Xt,(zt+Wt/At.locationSize*tn)*Xt,Lt)}else{if(Ot.isInstancedBufferAttribute){for(let Pt=0;Pt<At.locationSize;Pt++)ft(At.location+Pt,Ot.meshPerAttribute);Rt.isInstancedMesh!==!0&&xt._maxInstanceCount===void 0&&(xt._maxInstanceCount=Ot.meshPerAttribute*Ot.count)}else for(let Pt=0;Pt<At.locationSize;Pt++)gt(At.location+Pt);s.bindBuffer(s.ARRAY_BUFFER,qt);for(let Pt=0;Pt<At.locationSize;Pt++)mt(At.location+Pt,Wt/At.locationSize,Ht,Vt,Wt*Xt,Wt/At.locationSize*Pt*Xt,Lt)}}else if(Mt!==void 0){const Vt=Mt[Nt];if(Vt!==void 0)switch(Vt.length){case 2:s.vertexAttrib2fv(At.location,Vt);break;case 3:s.vertexAttrib3fv(At.location,Vt);break;case 4:s.vertexAttrib4fv(At.location,Vt);break;default:s.vertexAttrib1fv(At.location,Vt)}}}}yt()}function vt(){It();for(const Rt in tt){const Tt=tt[Rt];for(const bt in Tt){const xt=Tt[bt];for(const Bt in xt)lt(xt[Bt].object),delete xt[Bt];delete Tt[bt]}delete tt[Rt]}}function Et(Rt){if(tt[Rt.id]===void 0)return;const Tt=tt[Rt.id];for(const bt in Tt){const xt=Tt[bt];for(const Bt in xt)lt(xt[Bt].object),delete xt[Bt];delete Tt[bt]}delete tt[Rt.id]}function wt(Rt){for(const Tt in tt){const bt=tt[Tt];if(bt[Rt.id]===void 0)continue;const xt=bt[Rt.id];for(const Bt in xt)lt(xt[Bt].object),delete xt[Bt];delete bt[Rt.id]}}function It(){St(),it=!0,rt!==nt&&(rt=nt,at(rt.object))}function St(){nt.geometry=null,nt.program=null,nt.wireframe=!1}return{setup:ot,reset:It,resetDefaultState:St,dispose:vt,releaseStatesOfGeometry:Et,releaseStatesOfProgram:wt,initAttributes:pt,enableAttribute:gt,disableUnusedAttributes:yt}}function WebGLBufferRenderer(s,o,et){let tt;function nt(at){tt=at}function rt(at,lt){s.drawArrays(tt,at,lt),et.update(lt,tt,1)}function it(at,lt,ct){ct!==0&&(s.drawArraysInstanced(tt,at,lt,ct),et.update(lt,tt,ct))}function ot(at,lt,ct){if(ct===0)return;const ut=o.get("WEBGL_multi_draw");if(ut===null)for(let dt=0;dt<ct;dt++)this.render(at[dt],lt[dt]);else{ut.multiDrawArraysWEBGL(tt,at,0,lt,0,ct);let dt=0;for(let ht=0;ht<ct;ht++)dt+=lt[ht];et.update(dt,tt,1)}}function st(at,lt,ct,ut){if(ct===0)return;const dt=o.get("WEBGL_multi_draw");if(dt===null)for(let ht=0;ht<at.length;ht++)it(at[ht],lt[ht],ut[ht]);else{dt.multiDrawArraysInstancedWEBGL(tt,at,0,lt,0,ut,0,ct);let ht=0;for(let pt=0;pt<ct;pt++)ht+=lt[pt];for(let pt=0;pt<ut.length;pt++)et.update(ht,tt,ut[pt])}}this.setMode=nt,this.render=rt,this.renderInstances=it,this.renderMultiDraw=ot,this.renderMultiDrawInstances=st}function WebGLCapabilities(s,o,et,tt){let nt;function rt(){if(nt!==void 0)return nt;if(o.has("EXT_texture_filter_anisotropic")===!0){const Et=o.get("EXT_texture_filter_anisotropic");nt=s.getParameter(Et.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else nt=0;return nt}function it(Et){return!(Et!==RGBAFormat&&tt.convert(Et)!==s.getParameter(s.IMPLEMENTATION_COLOR_READ_FORMAT))}function ot(Et){const wt=Et===HalfFloatType&&(o.has("EXT_color_buffer_half_float")||o.has("EXT_color_buffer_float"));return!(Et!==UnsignedByteType&&tt.convert(Et)!==s.getParameter(s.IMPLEMENTATION_COLOR_READ_TYPE)&&Et!==FloatType&&!wt)}function st(Et){if(Et==="highp"){if(s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision>0)return"highp";Et="mediump"}return Et==="mediump"&&s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let at=et.precision!==void 0?et.precision:"highp";const lt=st(at);lt!==at&&(console.warn("THREE.WebGLRenderer:",at,"not supported, using",lt,"instead."),at=lt);const ct=et.logarithmicDepthBuffer===!0,ut=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),dt=s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ht=s.getParameter(s.MAX_TEXTURE_SIZE),pt=s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE),gt=s.getParameter(s.MAX_VERTEX_ATTRIBS),ft=s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS),yt=s.getParameter(s.MAX_VARYING_VECTORS),mt=s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS),Ft=dt>0,vt=s.getParameter(s.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:rt,getMaxPrecision:st,textureFormatReadable:it,textureTypeReadable:ot,precision:at,logarithmicDepthBuffer:ct,maxTextures:ut,maxVertexTextures:dt,maxTextureSize:ht,maxCubemapSize:pt,maxAttributes:gt,maxVertexUniforms:ft,maxVaryings:yt,maxFragmentUniforms:mt,vertexTextures:Ft,maxSamples:vt}}function WebGLClipping(s){const o=this;let et=null,tt=0,nt=!1,rt=!1;const it=new Plane,ot=new Matrix3,st={value:null,needsUpdate:!1};this.uniform=st,this.numPlanes=0,this.numIntersection=0,this.init=function(ct,ut){const dt=ct.length!==0||ut||tt!==0||nt;return nt=ut,tt=ct.length,dt},this.beginShadows=function(){rt=!0,lt(null)},this.endShadows=function(){rt=!1},this.setGlobalState=function(ct,ut){et=lt(ct,ut,0)},this.setState=function(ct,ut,dt){const ht=ct.clippingPlanes,pt=ct.clipIntersection,gt=ct.clipShadows,ft=s.get(ct);if(!nt||ht===null||ht.length===0||rt&&!gt)rt?lt(null):at();else{const yt=rt?0:tt,mt=yt*4;let Ft=ft.clippingState||null;st.value=Ft,Ft=lt(ht,ut,mt,dt);for(let vt=0;vt!==mt;++vt)Ft[vt]=et[vt];ft.clippingState=Ft,this.numIntersection=pt?this.numPlanes:0,this.numPlanes+=yt}};function at(){st.value!==et&&(st.value=et,st.needsUpdate=tt>0),o.numPlanes=tt,o.numIntersection=0}function lt(ct,ut,dt,ht){const pt=ct!==null?ct.length:0;let gt=null;if(pt!==0){if(gt=st.value,ht!==!0||gt===null){const ft=dt+pt*4,yt=ut.matrixWorldInverse;ot.getNormalMatrix(yt),(gt===null||gt.length<ft)&&(gt=new Float32Array(ft));for(let mt=0,Ft=dt;mt!==pt;++mt,Ft+=4)it.copy(ct[mt]).applyMatrix4(yt,ot),it.normal.toArray(gt,Ft),gt[Ft+3]=it.constant}st.value=gt,st.needsUpdate=!0}return o.numPlanes=pt,o.numIntersection=0,gt}}function WebGLCubeMaps(s){let o=new WeakMap;function et(it,ot){return ot===EquirectangularReflectionMapping?it.mapping=CubeReflectionMapping:ot===EquirectangularRefractionMapping&&(it.mapping=CubeRefractionMapping),it}function tt(it){if(it&&it.isTexture){const ot=it.mapping;if(ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping)if(o.has(it)){const st=o.get(it).texture;return et(st,it.mapping)}else{const st=it.image;if(st&&st.height>0){const at=new WebGLCubeRenderTarget(st.height);return at.fromEquirectangularTexture(s,it),o.set(it,at),it.addEventListener("dispose",nt),et(at.texture,it.mapping)}else return null}}return it}function nt(it){const ot=it.target;ot.removeEventListener("dispose",nt);const st=o.get(ot);st!==void 0&&(o.delete(ot),st.dispose())}function rt(){o=new WeakMap}return{get:tt,dispose:rt}}class OrthographicCamera extends Camera{constructor(o=-1,et=1,tt=1,nt=-1,rt=.1,it=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=o,this.right=et,this.top=tt,this.bottom=nt,this.near=rt,this.far=it,this.updateProjectionMatrix()}copy(o,et){return super.copy(o,et),this.left=o.left,this.right=o.right,this.top=o.top,this.bottom=o.bottom,this.near=o.near,this.far=o.far,this.zoom=o.zoom,this.view=o.view===null?null:Object.assign({},o.view),this}setViewOffset(o,et,tt,nt,rt,it){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=(this.right-this.left)/(2*this.zoom),et=(this.top-this.bottom)/(2*this.zoom),tt=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let rt=tt-o,it=tt+o,ot=nt+et,st=nt-et;if(this.view!==null&&this.view.enabled){const at=(this.right-this.left)/this.view.fullWidth/this.zoom,lt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=at*this.view.offsetX,it=rt+at*this.view.width,ot-=lt*this.view.offsetY,st=ot-lt*this.view.height}this.projectionMatrix.makeOrthographic(rt,it,ot,st,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const et=super.toJSON(o);return et.object.zoom=this.zoom,et.object.left=this.left,et.object.right=this.right,et.object.top=this.top,et.object.bottom=this.bottom,et.object.near=this.near,et.object.far=this.far,this.view!==null&&(et.object.view=Object.assign({},this.view)),et}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(o){this._renderer=o,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(o,et=0,tt=.1,nt=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const rt=this._allocateTargets();return rt.depthBuffer=!0,this._sceneToCubeUV(o,tt,nt,rt),et>0&&this._blur(rt,0,0,et),this._applyPMREM(rt),this._cleanup(rt),rt}fromEquirectangular(o,et=null){return this._fromTexture(o,et)}fromCubemap(o,et=null){return this._fromTexture(o,et)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(o){this._lodMax=Math.floor(Math.log2(o)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let o=0;o<this._lodPlanes.length;o++)this._lodPlanes[o].dispose()}_cleanup(o){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,o.scissorTest=!1,_setViewport(o,0,0,o.width,o.height)}_fromTexture(o,et){o.mapping===CubeReflectionMapping||o.mapping===CubeRefractionMapping?this._setSize(o.image.length===0?16:o.image[0].width||o.image[0].image.width):this._setSize(o.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const tt=et||this._allocateTargets();return this._textureToCubeUV(o,tt),this._applyPMREM(tt),this._cleanup(tt),tt}_allocateTargets(){const o=3*Math.max(this._cubeSize,112),et=4*this._cubeSize,tt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace$1,depthBuffer:!1},nt=_createRenderTarget(o,et,tt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==o||this._pingPongRenderTarget.height!==et){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(o,et,tt);const{_lodMax:rt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(rt)),this._blurMaterial=_getBlurShader(rt,o,et)}return nt}_compileMaterial(o){const et=new Mesh(this._lodPlanes[0],o);this._renderer.compile(et,_flatCamera)}_sceneToCubeUV(o,et,tt,nt){const ot=new PerspectiveCamera$1(90,1,et,tt),st=[1,-1,1,1,1,1],at=[1,1,1,-1,-1,-1],lt=this._renderer,ct=lt.autoClear,ut=lt.toneMapping;lt.getClearColor(_clearColor),lt.toneMapping=NoToneMapping,lt.autoClear=!1;const dt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ht=new Mesh(new BoxGeometry,dt);let pt=!1;const gt=o.background;gt?gt.isColor&&(dt.color.copy(gt),o.background=null,pt=!0):(dt.color.copy(_clearColor),pt=!0);for(let ft=0;ft<6;ft++){const yt=ft%3;yt===0?(ot.up.set(0,st[ft],0),ot.lookAt(at[ft],0,0)):yt===1?(ot.up.set(0,0,st[ft]),ot.lookAt(0,at[ft],0)):(ot.up.set(0,st[ft],0),ot.lookAt(0,0,at[ft]));const mt=this._cubeSize;_setViewport(nt,yt*mt,ft>2?mt:0,mt,mt),lt.setRenderTarget(nt),pt&&lt.render(ht,ot),lt.render(o,ot)}ht.geometry.dispose(),ht.material.dispose(),lt.toneMapping=ut,lt.autoClear=ct,o.background=gt}_textureToCubeUV(o,et){const tt=this._renderer,nt=o.mapping===CubeReflectionMapping||o.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=o.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const rt=nt?this._cubemapMaterial:this._equirectMaterial,it=new Mesh(this._lodPlanes[0],rt),ot=rt.uniforms;ot.envMap.value=o;const st=this._cubeSize;_setViewport(et,0,0,3*st,2*st),tt.setRenderTarget(et),tt.render(it,_flatCamera)}_applyPMREM(o){const et=this._renderer,tt=et.autoClear;et.autoClear=!1;const nt=this._lodPlanes.length;for(let rt=1;rt<nt;rt++){const it=Math.sqrt(this._sigmas[rt]*this._sigmas[rt]-this._sigmas[rt-1]*this._sigmas[rt-1]),ot=_axisDirections[(nt-rt-1)%_axisDirections.length];this._blur(o,rt-1,rt,it,ot)}et.autoClear=tt}_blur(o,et,tt,nt,rt){const it=this._pingPongRenderTarget;this._halfBlur(o,it,et,tt,nt,"latitudinal",rt),this._halfBlur(it,o,tt,tt,nt,"longitudinal",rt)}_halfBlur(o,et,tt,nt,rt,it,ot){const st=this._renderer,at=this._blurMaterial;it!=="latitudinal"&&it!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const lt=3,ct=new Mesh(this._lodPlanes[nt],at),ut=at.uniforms,dt=this._sizeLods[tt]-1,ht=isFinite(rt)?Math.PI/(2*dt):2*Math.PI/(2*MAX_SAMPLES-1),pt=rt/ht,gt=isFinite(rt)?1+Math.floor(lt*pt):MAX_SAMPLES;gt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${rt}, is too large and will clip, as it requested ${gt} samples when the maximum is set to ${MAX_SAMPLES}`);const ft=[];let yt=0;for(let wt=0;wt<MAX_SAMPLES;++wt){const It=wt/pt,St=Math.exp(-It*It/2);ft.push(St),wt===0?yt+=St:wt<gt&&(yt+=2*St)}for(let wt=0;wt<ft.length;wt++)ft[wt]=ft[wt]/yt;ut.envMap.value=o.texture,ut.samples.value=gt,ut.weights.value=ft,ut.latitudinal.value=it==="latitudinal",ot&&(ut.poleAxis.value=ot);const{_lodMax:mt}=this;ut.dTheta.value=ht,ut.mipInt.value=mt-tt;const Ft=this._sizeLods[nt],vt=3*Ft*(nt>mt-LOD_MIN?nt-mt+LOD_MIN:0),Et=4*(this._cubeSize-Ft);_setViewport(et,vt,Et,3*Ft,2*Ft),st.setRenderTarget(et),st.render(ct,_flatCamera)}}function _createPlanes(s){const o=[],et=[],tt=[];let nt=s;const rt=s-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let it=0;it<rt;it++){const ot=Math.pow(2,nt);et.push(ot);let st=1/ot;it>s-LOD_MIN?st=EXTRA_LOD_SIGMA[it-s+LOD_MIN-1]:it===0&&(st=0),tt.push(st);const at=1/(ot-2),lt=-at,ct=1+at,ut=[lt,lt,ct,lt,ct,ct,lt,lt,ct,ct,lt,ct],dt=6,ht=6,pt=3,gt=2,ft=1,yt=new Float32Array(pt*ht*dt),mt=new Float32Array(gt*ht*dt),Ft=new Float32Array(ft*ht*dt);for(let Et=0;Et<dt;Et++){const wt=Et%3*2/3-1,It=Et>2?0:-1,St=[wt,It,0,wt+2/3,It,0,wt+2/3,It+1,0,wt,It,0,wt+2/3,It+1,0,wt,It+1,0];yt.set(St,pt*ht*Et),mt.set(ut,gt*ht*Et);const Rt=[Et,Et,Et,Et,Et,Et];Ft.set(Rt,ft*ht*Et)}const vt=new BufferGeometry;vt.setAttribute("position",new BufferAttribute(yt,pt)),vt.setAttribute("uv",new BufferAttribute(mt,gt)),vt.setAttribute("faceIndex",new BufferAttribute(Ft,ft)),o.push(vt),nt>LOD_MIN&&nt--}return{lodPlanes:o,sizeLods:et,sigmas:tt}}function _createRenderTarget(s,o,et){const tt=new WebGLRenderTarget(s,o,et);return tt.texture.mapping=CubeUVReflectionMapping,tt.texture.name="PMREM.cubeUv",tt.scissorTest=!0,tt}function _setViewport(s,o,et,tt,nt){s.viewport.set(o,et,tt,nt),s.scissor.set(o,et,tt,nt)}function _getBlurShader(s,o,et){const tt=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/o,CUBEUV_TEXEL_HEIGHT:1/et,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:tt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(s){let o=new WeakMap,et=null;function tt(ot){if(ot&&ot.isTexture){const st=ot.mapping,at=st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping,lt=st===CubeReflectionMapping||st===CubeRefractionMapping;if(at||lt){let ct=o.get(ot);const ut=ct!==void 0?ct.texture.pmremVersion:0;if(ot.isRenderTargetTexture&&ot.pmremVersion!==ut)return et===null&&(et=new PMREMGenerator(s)),ct=at?et.fromEquirectangular(ot,ct):et.fromCubemap(ot,ct),ct.texture.pmremVersion=ot.pmremVersion,o.set(ot,ct),ct.texture;if(ct!==void 0)return ct.texture;{const dt=ot.image;return at&&dt&&dt.height>0||lt&&dt&&nt(dt)?(et===null&&(et=new PMREMGenerator(s)),ct=at?et.fromEquirectangular(ot):et.fromCubemap(ot),ct.texture.pmremVersion=ot.pmremVersion,o.set(ot,ct),ot.addEventListener("dispose",rt),ct.texture):null}}}return ot}function nt(ot){let st=0;const at=6;for(let lt=0;lt<at;lt++)ot[lt]!==void 0&&st++;return st===at}function rt(ot){const st=ot.target;st.removeEventListener("dispose",rt);const at=o.get(st);at!==void 0&&(o.delete(st),at.dispose())}function it(){o=new WeakMap,et!==null&&(et.dispose(),et=null)}return{get:tt,dispose:it}}function WebGLExtensions(s){const o={};function et(tt){if(o[tt]!==void 0)return o[tt];let nt;switch(tt){case"WEBGL_depth_texture":nt=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=s.getExtension(tt)}return o[tt]=nt,nt}return{has:function(tt){return et(tt)!==null},init:function(){et("EXT_color_buffer_float"),et("WEBGL_clip_cull_distance"),et("OES_texture_float_linear"),et("EXT_color_buffer_half_float"),et("WEBGL_multisampled_render_to_texture"),et("WEBGL_render_shared_exponent")},get:function(tt){const nt=et(tt);return nt===null&&warnOnce("THREE.WebGLRenderer: "+tt+" extension not supported."),nt}}}function WebGLGeometries(s,o,et,tt){const nt={},rt=new WeakMap;function it(ct){const ut=ct.target;ut.index!==null&&o.remove(ut.index);for(const ht in ut.attributes)o.remove(ut.attributes[ht]);for(const ht in ut.morphAttributes){const pt=ut.morphAttributes[ht];for(let gt=0,ft=pt.length;gt<ft;gt++)o.remove(pt[gt])}ut.removeEventListener("dispose",it),delete nt[ut.id];const dt=rt.get(ut);dt&&(o.remove(dt),rt.delete(ut)),tt.releaseStatesOfGeometry(ut),ut.isInstancedBufferGeometry===!0&&delete ut._maxInstanceCount,et.memory.geometries--}function ot(ct,ut){return nt[ut.id]===!0||(ut.addEventListener("dispose",it),nt[ut.id]=!0,et.memory.geometries++),ut}function st(ct){const ut=ct.attributes;for(const ht in ut)o.update(ut[ht],s.ARRAY_BUFFER);const dt=ct.morphAttributes;for(const ht in dt){const pt=dt[ht];for(let gt=0,ft=pt.length;gt<ft;gt++)o.update(pt[gt],s.ARRAY_BUFFER)}}function at(ct){const ut=[],dt=ct.index,ht=ct.attributes.position;let pt=0;if(dt!==null){const yt=dt.array;pt=dt.version;for(let mt=0,Ft=yt.length;mt<Ft;mt+=3){const vt=yt[mt+0],Et=yt[mt+1],wt=yt[mt+2];ut.push(vt,Et,Et,wt,wt,vt)}}else if(ht!==void 0){const yt=ht.array;pt=ht.version;for(let mt=0,Ft=yt.length/3-1;mt<Ft;mt+=3){const vt=mt+0,Et=mt+1,wt=mt+2;ut.push(vt,Et,Et,wt,wt,vt)}}else return;const gt=new(arrayNeedsUint32(ut)?Uint32BufferAttribute:Uint16BufferAttribute)(ut,1);gt.version=pt;const ft=rt.get(ct);ft&&o.remove(ft),rt.set(ct,gt)}function lt(ct){const ut=rt.get(ct);if(ut){const dt=ct.index;dt!==null&&ut.version<dt.version&&at(ct)}else at(ct);return rt.get(ct)}return{get:ot,update:st,getWireframeAttribute:lt}}function WebGLIndexedBufferRenderer(s,o,et){let tt;function nt(ut){tt=ut}let rt,it;function ot(ut){rt=ut.type,it=ut.bytesPerElement}function st(ut,dt){s.drawElements(tt,dt,rt,ut*it),et.update(dt,tt,1)}function at(ut,dt,ht){ht!==0&&(s.drawElementsInstanced(tt,dt,rt,ut*it,ht),et.update(dt,tt,ht))}function lt(ut,dt,ht){if(ht===0)return;const pt=o.get("WEBGL_multi_draw");if(pt===null)for(let gt=0;gt<ht;gt++)this.render(ut[gt]/it,dt[gt]);else{pt.multiDrawElementsWEBGL(tt,dt,0,rt,ut,0,ht);let gt=0;for(let ft=0;ft<ht;ft++)gt+=dt[ft];et.update(gt,tt,1)}}function ct(ut,dt,ht,pt){if(ht===0)return;const gt=o.get("WEBGL_multi_draw");if(gt===null)for(let ft=0;ft<ut.length;ft++)at(ut[ft]/it,dt[ft],pt[ft]);else{gt.multiDrawElementsInstancedWEBGL(tt,dt,0,rt,ut,0,pt,0,ht);let ft=0;for(let yt=0;yt<ht;yt++)ft+=dt[yt];for(let yt=0;yt<pt.length;yt++)et.update(ft,tt,pt[yt])}}this.setMode=nt,this.setIndex=ot,this.render=st,this.renderInstances=at,this.renderMultiDraw=lt,this.renderMultiDrawInstances=ct}function WebGLInfo(s){const o={geometries:0,textures:0},et={frame:0,calls:0,triangles:0,points:0,lines:0};function tt(rt,it,ot){switch(et.calls++,it){case s.TRIANGLES:et.triangles+=ot*(rt/3);break;case s.LINES:et.lines+=ot*(rt/2);break;case s.LINE_STRIP:et.lines+=ot*(rt-1);break;case s.LINE_LOOP:et.lines+=ot*rt;break;case s.POINTS:et.points+=ot*rt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",it);break}}function nt(){et.calls=0,et.triangles=0,et.points=0,et.lines=0}return{memory:o,render:et,programs:null,autoReset:!0,reset:nt,update:tt}}function WebGLMorphtargets(s,o,et){const tt=new WeakMap,nt=new Vector4;function rt(it,ot,st){const at=it.morphTargetInfluences,lt=ot.morphAttributes.position||ot.morphAttributes.normal||ot.morphAttributes.color,ct=lt!==void 0?lt.length:0;let ut=tt.get(ot);if(ut===void 0||ut.count!==ct){let Rt=function(){It.dispose(),tt.delete(ot),ot.removeEventListener("dispose",Rt)};var dt=Rt;ut!==void 0&&ut.texture.dispose();const ht=ot.morphAttributes.position!==void 0,pt=ot.morphAttributes.normal!==void 0,gt=ot.morphAttributes.color!==void 0,ft=ot.morphAttributes.position||[],yt=ot.morphAttributes.normal||[],mt=ot.morphAttributes.color||[];let Ft=0;ht===!0&&(Ft=1),pt===!0&&(Ft=2),gt===!0&&(Ft=3);let vt=ot.attributes.position.count*Ft,Et=1;vt>o.maxTextureSize&&(Et=Math.ceil(vt/o.maxTextureSize),vt=o.maxTextureSize);const wt=new Float32Array(vt*Et*4*ct),It=new DataArrayTexture(wt,vt,Et,ct);It.type=FloatType,It.needsUpdate=!0;const St=Ft*4;for(let Tt=0;Tt<ct;Tt++){const bt=ft[Tt],xt=yt[Tt],Bt=mt[Tt],Ct=vt*Et*4*Tt;for(let Mt=0;Mt<bt.count;Mt++){const Nt=Mt*St;ht===!0&&(nt.fromBufferAttribute(bt,Mt),wt[Ct+Nt+0]=nt.x,wt[Ct+Nt+1]=nt.y,wt[Ct+Nt+2]=nt.z,wt[Ct+Nt+3]=0),pt===!0&&(nt.fromBufferAttribute(xt,Mt),wt[Ct+Nt+4]=nt.x,wt[Ct+Nt+5]=nt.y,wt[Ct+Nt+6]=nt.z,wt[Ct+Nt+7]=0),gt===!0&&(nt.fromBufferAttribute(Bt,Mt),wt[Ct+Nt+8]=nt.x,wt[Ct+Nt+9]=nt.y,wt[Ct+Nt+10]=nt.z,wt[Ct+Nt+11]=Bt.itemSize===4?nt.w:1)}}ut={count:ct,texture:It,size:new Vector2(vt,Et)},tt.set(ot,ut),ot.addEventListener("dispose",Rt)}if(it.isInstancedMesh===!0&&it.morphTexture!==null)st.getUniforms().setValue(s,"morphTexture",it.morphTexture,et);else{let ht=0;for(let gt=0;gt<at.length;gt++)ht+=at[gt];const pt=ot.morphTargetsRelative?1:1-ht;st.getUniforms().setValue(s,"morphTargetBaseInfluence",pt),st.getUniforms().setValue(s,"morphTargetInfluences",at)}st.getUniforms().setValue(s,"morphTargetsTexture",ut.texture,et),st.getUniforms().setValue(s,"morphTargetsTextureSize",ut.size)}return{update:rt}}function WebGLObjects(s,o,et,tt){let nt=new WeakMap;function rt(st){const at=tt.render.frame,lt=st.geometry,ct=o.get(st,lt);if(nt.get(ct)!==at&&(o.update(ct),nt.set(ct,at)),st.isInstancedMesh&&(st.hasEventListener("dispose",ot)===!1&&st.addEventListener("dispose",ot),nt.get(st)!==at&&(et.update(st.instanceMatrix,s.ARRAY_BUFFER),st.instanceColor!==null&&et.update(st.instanceColor,s.ARRAY_BUFFER),nt.set(st,at))),st.isSkinnedMesh){const ut=st.skeleton;nt.get(ut)!==at&&(ut.update(),nt.set(ut,at))}return ct}function it(){nt=new WeakMap}function ot(st){const at=st.target;at.removeEventListener("dispose",ot),et.remove(at.instanceMatrix),at.instanceColor!==null&&et.remove(at.instanceColor)}return{update:rt,dispose:it}}class DepthTexture extends Texture{constructor(o,et,tt,nt,rt,it,ot,st,at,lt=DepthFormat){if(lt!==DepthFormat&&lt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");tt===void 0&&lt===DepthFormat&&(tt=UnsignedIntType),tt===void 0&&lt===DepthStencilFormat&&(tt=UnsignedInt248Type),super(null,nt,rt,it,ot,st,lt,tt,at),this.isDepthTexture=!0,this.image={width:o,height:et},this.magFilter=ot!==void 0?ot:NearestFilter,this.minFilter=st!==void 0?st:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(o){return super.copy(o),this.compareFunction=o.compareFunction,this}toJSON(o){const et=super.toJSON(o);return this.compareFunction!==null&&(et.compareFunction=this.compareFunction),et}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1);emptyShadowTexture.compareFunction=LessEqualCompare;const emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(s,o,et){const tt=s[0];if(tt<=0||tt>0)return s;const nt=o*et;let rt=arrayCacheF32[nt];if(rt===void 0&&(rt=new Float32Array(nt),arrayCacheF32[nt]=rt),o!==0){tt.toArray(rt,0);for(let it=1,ot=0;it!==o;++it)ot+=et,s[it].toArray(rt,ot)}return rt}function arraysEqual(s,o){if(s.length!==o.length)return!1;for(let et=0,tt=s.length;et<tt;et++)if(s[et]!==o[et])return!1;return!0}function copyArray(s,o){for(let et=0,tt=o.length;et<tt;et++)s[et]=o[et]}function allocTexUnits(s,o){let et=arrayCacheI32[o];et===void 0&&(et=new Int32Array(o),arrayCacheI32[o]=et);for(let tt=0;tt!==o;++tt)et[tt]=s.allocateTextureUnit();return et}function setValueV1f(s,o){const et=this.cache;et[0]!==o&&(s.uniform1f(this.addr,o),et[0]=o)}function setValueV2f(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y)&&(s.uniform2f(this.addr,o.x,o.y),et[0]=o.x,et[1]=o.y);else{if(arraysEqual(et,o))return;s.uniform2fv(this.addr,o),copyArray(et,o)}}function setValueV3f(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y||et[2]!==o.z)&&(s.uniform3f(this.addr,o.x,o.y,o.z),et[0]=o.x,et[1]=o.y,et[2]=o.z);else if(o.r!==void 0)(et[0]!==o.r||et[1]!==o.g||et[2]!==o.b)&&(s.uniform3f(this.addr,o.r,o.g,o.b),et[0]=o.r,et[1]=o.g,et[2]=o.b);else{if(arraysEqual(et,o))return;s.uniform3fv(this.addr,o),copyArray(et,o)}}function setValueV4f(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y||et[2]!==o.z||et[3]!==o.w)&&(s.uniform4f(this.addr,o.x,o.y,o.z,o.w),et[0]=o.x,et[1]=o.y,et[2]=o.z,et[3]=o.w);else{if(arraysEqual(et,o))return;s.uniform4fv(this.addr,o),copyArray(et,o)}}function setValueM2(s,o){const et=this.cache,tt=o.elements;if(tt===void 0){if(arraysEqual(et,o))return;s.uniformMatrix2fv(this.addr,!1,o),copyArray(et,o)}else{if(arraysEqual(et,tt))return;mat2array.set(tt),s.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(et,tt)}}function setValueM3(s,o){const et=this.cache,tt=o.elements;if(tt===void 0){if(arraysEqual(et,o))return;s.uniformMatrix3fv(this.addr,!1,o),copyArray(et,o)}else{if(arraysEqual(et,tt))return;mat3array.set(tt),s.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(et,tt)}}function setValueM4(s,o){const et=this.cache,tt=o.elements;if(tt===void 0){if(arraysEqual(et,o))return;s.uniformMatrix4fv(this.addr,!1,o),copyArray(et,o)}else{if(arraysEqual(et,tt))return;mat4array.set(tt),s.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(et,tt)}}function setValueV1i(s,o){const et=this.cache;et[0]!==o&&(s.uniform1i(this.addr,o),et[0]=o)}function setValueV2i(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y)&&(s.uniform2i(this.addr,o.x,o.y),et[0]=o.x,et[1]=o.y);else{if(arraysEqual(et,o))return;s.uniform2iv(this.addr,o),copyArray(et,o)}}function setValueV3i(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y||et[2]!==o.z)&&(s.uniform3i(this.addr,o.x,o.y,o.z),et[0]=o.x,et[1]=o.y,et[2]=o.z);else{if(arraysEqual(et,o))return;s.uniform3iv(this.addr,o),copyArray(et,o)}}function setValueV4i(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y||et[2]!==o.z||et[3]!==o.w)&&(s.uniform4i(this.addr,o.x,o.y,o.z,o.w),et[0]=o.x,et[1]=o.y,et[2]=o.z,et[3]=o.w);else{if(arraysEqual(et,o))return;s.uniform4iv(this.addr,o),copyArray(et,o)}}function setValueV1ui(s,o){const et=this.cache;et[0]!==o&&(s.uniform1ui(this.addr,o),et[0]=o)}function setValueV2ui(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y)&&(s.uniform2ui(this.addr,o.x,o.y),et[0]=o.x,et[1]=o.y);else{if(arraysEqual(et,o))return;s.uniform2uiv(this.addr,o),copyArray(et,o)}}function setValueV3ui(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y||et[2]!==o.z)&&(s.uniform3ui(this.addr,o.x,o.y,o.z),et[0]=o.x,et[1]=o.y,et[2]=o.z);else{if(arraysEqual(et,o))return;s.uniform3uiv(this.addr,o),copyArray(et,o)}}function setValueV4ui(s,o){const et=this.cache;if(o.x!==void 0)(et[0]!==o.x||et[1]!==o.y||et[2]!==o.z||et[3]!==o.w)&&(s.uniform4ui(this.addr,o.x,o.y,o.z,o.w),et[0]=o.x,et[1]=o.y,et[2]=o.z,et[3]=o.w);else{if(arraysEqual(et,o))return;s.uniform4uiv(this.addr,o),copyArray(et,o)}}function setValueT1(s,o,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(s.uniform1i(this.addr,nt),tt[0]=nt);const rt=this.type===s.SAMPLER_2D_SHADOW?emptyShadowTexture:emptyTexture;et.setTexture2D(o||rt,nt)}function setValueT3D1(s,o,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(s.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture3D(o||empty3dTexture,nt)}function setValueT6(s,o,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(s.uniform1i(this.addr,nt),tt[0]=nt),et.setTextureCube(o||emptyCubeTexture,nt)}function setValueT2DArray1(s,o,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(s.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture2DArray(o||emptyArrayTexture,nt)}function getSingularSetter(s){switch(s){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(s,o){s.uniform1fv(this.addr,o)}function setValueV2fArray(s,o){const et=flatten(o,this.size,2);s.uniform2fv(this.addr,et)}function setValueV3fArray(s,o){const et=flatten(o,this.size,3);s.uniform3fv(this.addr,et)}function setValueV4fArray(s,o){const et=flatten(o,this.size,4);s.uniform4fv(this.addr,et)}function setValueM2Array(s,o){const et=flatten(o,this.size,4);s.uniformMatrix2fv(this.addr,!1,et)}function setValueM3Array(s,o){const et=flatten(o,this.size,9);s.uniformMatrix3fv(this.addr,!1,et)}function setValueM4Array(s,o){const et=flatten(o,this.size,16);s.uniformMatrix4fv(this.addr,!1,et)}function setValueV1iArray(s,o){s.uniform1iv(this.addr,o)}function setValueV2iArray(s,o){s.uniform2iv(this.addr,o)}function setValueV3iArray(s,o){s.uniform3iv(this.addr,o)}function setValueV4iArray(s,o){s.uniform4iv(this.addr,o)}function setValueV1uiArray(s,o){s.uniform1uiv(this.addr,o)}function setValueV2uiArray(s,o){s.uniform2uiv(this.addr,o)}function setValueV3uiArray(s,o){s.uniform3uiv(this.addr,o)}function setValueV4uiArray(s,o){s.uniform4uiv(this.addr,o)}function setValueT1Array(s,o,et){const tt=this.cache,nt=o.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(s.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTexture2D(o[it]||emptyTexture,rt[it])}function setValueT3DArray(s,o,et){const tt=this.cache,nt=o.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(s.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTexture3D(o[it]||empty3dTexture,rt[it])}function setValueT6Array(s,o,et){const tt=this.cache,nt=o.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(s.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTextureCube(o[it]||emptyCubeTexture,rt[it])}function setValueT2DArrayArray(s,o,et){const tt=this.cache,nt=o.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(s.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTexture2DArray(o[it]||emptyArrayTexture,rt[it])}function getPureArraySetter(s){switch(s){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(o,et,tt){this.id=o,this.addr=tt,this.cache=[],this.type=et.type,this.setValue=getSingularSetter(et.type)}}class PureArrayUniform{constructor(o,et,tt){this.id=o,this.addr=tt,this.cache=[],this.type=et.type,this.size=et.size,this.setValue=getPureArraySetter(et.type)}}class StructuredUniform{constructor(o){this.id=o,this.seq=[],this.map={}}setValue(o,et,tt){const nt=this.seq;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];ot.setValue(o,et[ot.id],tt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(s,o){s.seq.push(o),s.map[o.id]=o}function parseUniform(s,o,et){const tt=s.name,nt=tt.length;for(RePathPart.lastIndex=0;;){const rt=RePathPart.exec(tt),it=RePathPart.lastIndex;let ot=rt[1];const st=rt[2]==="]",at=rt[3];if(st&&(ot=ot|0),at===void 0||at==="["&&it+2===nt){addUniform(et,at===void 0?new SingleUniform(ot,s,o):new PureArrayUniform(ot,s,o));break}else{let ct=et.map[ot];ct===void 0&&(ct=new StructuredUniform(ot),addUniform(et,ct)),et=ct}}}class WebGLUniforms{constructor(o,et){this.seq=[],this.map={};const tt=o.getProgramParameter(et,o.ACTIVE_UNIFORMS);for(let nt=0;nt<tt;++nt){const rt=o.getActiveUniform(et,nt),it=o.getUniformLocation(et,rt.name);parseUniform(rt,it,this)}}setValue(o,et,tt,nt){const rt=this.map[et];rt!==void 0&&rt.setValue(o,tt,nt)}setOptional(o,et,tt){const nt=et[tt];nt!==void 0&&this.setValue(o,tt,nt)}static upload(o,et,tt,nt){for(let rt=0,it=et.length;rt!==it;++rt){const ot=et[rt],st=tt[ot.id];st.needsUpdate!==!1&&ot.setValue(o,st.value,nt)}}static seqWithValue(o,et){const tt=[];for(let nt=0,rt=o.length;nt!==rt;++nt){const it=o[nt];it.id in et&&tt.push(it)}return tt}}function WebGLShader(s,o,et){const tt=s.createShader(o);return s.shaderSource(tt,et),s.compileShader(tt),tt}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(s,o){const et=s.split(`
`),tt=[],nt=Math.max(o-6,0),rt=Math.min(o+6,et.length);for(let it=nt;it<rt;it++){const ot=it+1;tt.push(`${ot===o?">":" "} ${ot}: ${et[it]}`)}return tt.join(`
`)}function getEncodingComponents(s){const o=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),et=ColorManagement.getPrimaries(s);let tt;switch(o===et?tt="":o===P3Primaries&&et===Rec709Primaries?tt="LinearDisplayP3ToLinearSRGB":o===Rec709Primaries&&et===P3Primaries&&(tt="LinearSRGBToLinearDisplayP3"),s){case LinearSRGBColorSpace$1:case LinearDisplayP3ColorSpace:return[tt,"LinearTransferOETF"];case SRGBColorSpace$1:case DisplayP3ColorSpace:return[tt,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",s),[tt,"LinearTransferOETF"]}}function getShaderErrors(s,o,et){const tt=s.getShaderParameter(o,s.COMPILE_STATUS),nt=s.getShaderInfoLog(o).trim();if(tt&&nt==="")return"";const rt=/ERROR: 0:(\d+)/.exec(nt);if(rt){const it=parseInt(rt[1]);return et.toUpperCase()+`

`+nt+`

`+handleSource(s.getShaderSource(o),it)}else return nt}function getTexelEncodingFunction(s,o){const et=getEncodingComponents(o);return`vec4 ${s}( vec4 value ) { return ${et[0]}( ${et[1]}( value ) ); }`}function getToneMappingFunction(s,o){let et;switch(o){case LinearToneMapping:et="Linear";break;case ReinhardToneMapping:et="Reinhard";break;case CineonToneMapping:et="OptimizedCineon";break;case ACESFilmicToneMapping:et="ACESFilmic";break;case AgXToneMapping:et="AgX";break;case NeutralToneMapping:et="Neutral";break;case CustomToneMapping:et="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",o),et="Linear"}return"vec3 "+s+"( vec3 color ) { return "+et+"ToneMapping( color ); }"}function generateVertexExtensions(s){return[s.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",s.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(s){const o=[];for(const et in s){const tt=s[et];tt!==!1&&o.push("#define "+et+" "+tt)}return o.join(`
`)}function fetchAttributeLocations(s,o){const et={},tt=s.getProgramParameter(o,s.ACTIVE_ATTRIBUTES);for(let nt=0;nt<tt;nt++){const rt=s.getActiveAttrib(o,nt),it=rt.name;let ot=1;rt.type===s.FLOAT_MAT2&&(ot=2),rt.type===s.FLOAT_MAT3&&(ot=3),rt.type===s.FLOAT_MAT4&&(ot=4),et[it]={type:rt.type,location:s.getAttribLocation(o,it),locationSize:ot}}return et}function filterEmptyLine(s){return s!==""}function replaceLightNums(s,o){const et=o.numSpotLightShadows+o.numSpotLightMaps-o.numSpotLightShadowsWithMaps;return s.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,o.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,et).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,o.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function replaceClippingPlaneNums(s,o){return s.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(s){return s.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(s,o){let et=ShaderChunk[o];if(et===void 0){const tt=shaderChunkMap.get(o);if(tt!==void 0)et=ShaderChunk[tt],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',o,tt);else throw new Error("Can not resolve #include <"+o+">")}return resolveIncludes(et)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(s){return s.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(s,o,et,tt){let nt="";for(let rt=parseInt(o);rt<parseInt(et);rt++)nt+=tt.replace(/\[\s*i\s*\]/g,"[ "+rt+" ]").replace(/UNROLLED_LOOP_INDEX/g,rt);return nt}function generatePrecision(s){let o=`precision ${s.precision} float;
	precision ${s.precision} int;
	precision ${s.precision} sampler2D;
	precision ${s.precision} samplerCube;
	precision ${s.precision} sampler3D;
	precision ${s.precision} sampler2DArray;
	precision ${s.precision} sampler2DShadow;
	precision ${s.precision} samplerCubeShadow;
	precision ${s.precision} sampler2DArrayShadow;
	precision ${s.precision} isampler2D;
	precision ${s.precision} isampler3D;
	precision ${s.precision} isamplerCube;
	precision ${s.precision} isampler2DArray;
	precision ${s.precision} usampler2D;
	precision ${s.precision} usampler3D;
	precision ${s.precision} usamplerCube;
	precision ${s.precision} usampler2DArray;
	`;return s.precision==="highp"?o+=`
#define HIGH_PRECISION`:s.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function generateShadowMapTypeDefine(s){let o="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===PCFShadowMap?o="SHADOWMAP_TYPE_PCF":s.shadowMapType===PCFSoftShadowMap?o="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===VSMShadowMap&&(o="SHADOWMAP_TYPE_VSM"),o}function generateEnvMapTypeDefine(s){let o="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:o="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:o="ENVMAP_TYPE_CUBE_UV";break}return o}function generateEnvMapModeDefine(s){let o="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case CubeRefractionMapping:o="ENVMAP_MODE_REFRACTION";break}return o}function generateEnvMapBlendingDefine(s){let o="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case MultiplyOperation:o="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:o="ENVMAP_BLENDING_MIX";break;case AddOperation:o="ENVMAP_BLENDING_ADD";break}return o}function generateCubeUVSize(s){const o=s.envMapCubeUVHeight;if(o===null)return null;const et=Math.log2(o)-2,tt=1/o;return{texelWidth:1/(3*Math.max(Math.pow(2,et),7*16)),texelHeight:tt,maxMip:et}}function WebGLProgram(s,o,et,tt){const nt=s.getContext(),rt=et.defines;let it=et.vertexShader,ot=et.fragmentShader;const st=generateShadowMapTypeDefine(et),at=generateEnvMapTypeDefine(et),lt=generateEnvMapModeDefine(et),ct=generateEnvMapBlendingDefine(et),ut=generateCubeUVSize(et),dt=generateVertexExtensions(et),ht=generateDefines(rt),pt=nt.createProgram();let gt,ft,yt=et.glslVersion?"#version "+et.glslVersion+`
`:"";et.isRawShaderMaterial?(gt=["#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht].filter(filterEmptyLine).join(`
`),gt.length>0&&(gt+=`
`),ft=["#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht].filter(filterEmptyLine).join(`
`),ft.length>0&&(ft+=`
`)):(gt=[generatePrecision(et),"#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht,et.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",et.batching?"#define USE_BATCHING":"",et.batchingColor?"#define USE_BATCHING_COLOR":"",et.instancing?"#define USE_INSTANCING":"",et.instancingColor?"#define USE_INSTANCING_COLOR":"",et.instancingMorph?"#define USE_INSTANCING_MORPH":"",et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+lt:"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",et.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",et.displacementMap?"#define USE_DISPLACEMENTMAP":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.anisotropy?"#define USE_ANISOTROPY":"",et.anisotropyMap?"#define USE_ANISOTROPYMAP":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",et.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",et.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.alphaHash?"#define USE_ALPHAHASH":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",et.mapUv?"#define MAP_UV "+et.mapUv:"",et.alphaMapUv?"#define ALPHAMAP_UV "+et.alphaMapUv:"",et.lightMapUv?"#define LIGHTMAP_UV "+et.lightMapUv:"",et.aoMapUv?"#define AOMAP_UV "+et.aoMapUv:"",et.emissiveMapUv?"#define EMISSIVEMAP_UV "+et.emissiveMapUv:"",et.bumpMapUv?"#define BUMPMAP_UV "+et.bumpMapUv:"",et.normalMapUv?"#define NORMALMAP_UV "+et.normalMapUv:"",et.displacementMapUv?"#define DISPLACEMENTMAP_UV "+et.displacementMapUv:"",et.metalnessMapUv?"#define METALNESSMAP_UV "+et.metalnessMapUv:"",et.roughnessMapUv?"#define ROUGHNESSMAP_UV "+et.roughnessMapUv:"",et.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+et.anisotropyMapUv:"",et.clearcoatMapUv?"#define CLEARCOATMAP_UV "+et.clearcoatMapUv:"",et.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+et.clearcoatNormalMapUv:"",et.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+et.clearcoatRoughnessMapUv:"",et.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+et.iridescenceMapUv:"",et.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+et.iridescenceThicknessMapUv:"",et.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+et.sheenColorMapUv:"",et.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+et.sheenRoughnessMapUv:"",et.specularMapUv?"#define SPECULARMAP_UV "+et.specularMapUv:"",et.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+et.specularColorMapUv:"",et.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+et.specularIntensityMapUv:"",et.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+et.transmissionMapUv:"",et.thicknessMapUv?"#define THICKNESSMAP_UV "+et.thicknessMapUv:"",et.vertexTangents&&et.flatShading===!1?"#define USE_TANGENT":"",et.vertexColors?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUv1s?"#define USE_UV1":"",et.vertexUv2s?"#define USE_UV2":"",et.vertexUv3s?"#define USE_UV3":"",et.pointsUvs?"#define USE_POINTS_UV":"",et.flatShading?"#define FLAT_SHADED":"",et.skinning?"#define USE_SKINNING":"",et.morphTargets?"#define USE_MORPHTARGETS":"",et.morphNormals&&et.flatShading===!1?"#define USE_MORPHNORMALS":"",et.morphColors?"#define USE_MORPHCOLORS":"",et.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+et.morphTextureStride:"",et.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+et.morphTargetsCount:"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+st:"",et.sizeAttenuation?"#define USE_SIZEATTENUATION":"",et.numLightProbes>0?"#define USE_LIGHT_PROBES":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),ft=[generatePrecision(et),"#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht,et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",et.map?"#define USE_MAP":"",et.matcap?"#define USE_MATCAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+at:"",et.envMap?"#define "+lt:"",et.envMap?"#define "+ct:"",ut?"#define CUBEUV_TEXEL_WIDTH "+ut.texelWidth:"",ut?"#define CUBEUV_TEXEL_HEIGHT "+ut.texelHeight:"",ut?"#define CUBEUV_MAX_MIP "+ut.maxMip+".0":"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",et.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.anisotropy?"#define USE_ANISOTROPY":"",et.anisotropyMap?"#define USE_ANISOTROPYMAP":"",et.clearcoat?"#define USE_CLEARCOAT":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.dispersion?"#define USE_DISPERSION":"",et.iridescence?"#define USE_IRIDESCENCE":"",et.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",et.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",et.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.alphaTest?"#define USE_ALPHATEST":"",et.alphaHash?"#define USE_ALPHAHASH":"",et.sheen?"#define USE_SHEEN":"",et.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.vertexTangents&&et.flatShading===!1?"#define USE_TANGENT":"",et.vertexColors||et.instancingColor||et.batchingColor?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUv1s?"#define USE_UV1":"",et.vertexUv2s?"#define USE_UV2":"",et.vertexUv3s?"#define USE_UV3":"",et.pointsUvs?"#define USE_POINTS_UV":"",et.gradientMap?"#define USE_GRADIENTMAP":"",et.flatShading?"#define FLAT_SHADED":"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+st:"",et.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",et.numLightProbes>0?"#define USE_LIGHT_PROBES":"",et.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",et.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",et.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",et.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",et.toneMapping):"",et.dithering?"#define DITHERING":"",et.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",et.outputColorSpace),et.useDepthPacking?"#define DEPTH_PACKING "+et.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),it=resolveIncludes(it),it=replaceLightNums(it,et),it=replaceClippingPlaneNums(it,et),ot=resolveIncludes(ot),ot=replaceLightNums(ot,et),ot=replaceClippingPlaneNums(ot,et),it=unrollLoops(it),ot=unrollLoops(ot),et.isRawShaderMaterial!==!0&&(yt=`#version 300 es
`,gt=[dt,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+gt,ft=["#define varying in",et.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",et.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ft);const mt=yt+gt+it,Ft=yt+ft+ot,vt=WebGLShader(nt,nt.VERTEX_SHADER,mt),Et=WebGLShader(nt,nt.FRAGMENT_SHADER,Ft);nt.attachShader(pt,vt),nt.attachShader(pt,Et),et.index0AttributeName!==void 0?nt.bindAttribLocation(pt,0,et.index0AttributeName):et.morphTargets===!0&&nt.bindAttribLocation(pt,0,"position"),nt.linkProgram(pt);function wt(Tt){if(s.debug.checkShaderErrors){const bt=nt.getProgramInfoLog(pt).trim(),xt=nt.getShaderInfoLog(vt).trim(),Bt=nt.getShaderInfoLog(Et).trim();let Ct=!0,Mt=!0;if(nt.getProgramParameter(pt,nt.LINK_STATUS)===!1)if(Ct=!1,typeof s.debug.onShaderError=="function")s.debug.onShaderError(nt,pt,vt,Et);else{const Nt=getShaderErrors(nt,vt,"vertex"),At=getShaderErrors(nt,Et,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(pt,nt.VALIDATE_STATUS)+`

Material Name: `+Tt.name+`
Material Type: `+Tt.type+`

Program Info Log: `+bt+`
`+Nt+`
`+At)}else bt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",bt):(xt===""||Bt==="")&&(Mt=!1);Mt&&(Tt.diagnostics={runnable:Ct,programLog:bt,vertexShader:{log:xt,prefix:gt},fragmentShader:{log:Bt,prefix:ft}})}nt.deleteShader(vt),nt.deleteShader(Et),It=new WebGLUniforms(nt,pt),St=fetchAttributeLocations(nt,pt)}let It;this.getUniforms=function(){return It===void 0&&wt(this),It};let St;this.getAttributes=function(){return St===void 0&&wt(this),St};let Rt=et.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Rt===!1&&(Rt=nt.getProgramParameter(pt,COMPLETION_STATUS_KHR)),Rt},this.destroy=function(){tt.releaseStatesOfProgram(this),nt.deleteProgram(pt),this.program=void 0},this.type=et.shaderType,this.name=et.shaderName,this.id=programIdCount++,this.cacheKey=o,this.usedTimes=1,this.program=pt,this.vertexShader=vt,this.fragmentShader=Et,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(o){const et=o.vertexShader,tt=o.fragmentShader,nt=this._getShaderStage(et),rt=this._getShaderStage(tt),it=this._getShaderCacheForMaterial(o);return it.has(nt)===!1&&(it.add(nt),nt.usedTimes++),it.has(rt)===!1&&(it.add(rt),rt.usedTimes++),this}remove(o){const et=this.materialCache.get(o);for(const tt of et)tt.usedTimes--,tt.usedTimes===0&&this.shaderCache.delete(tt.code);return this.materialCache.delete(o),this}getVertexShaderID(o){return this._getShaderStage(o.vertexShader).id}getFragmentShaderID(o){return this._getShaderStage(o.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(o){const et=this.materialCache;let tt=et.get(o);return tt===void 0&&(tt=new Set,et.set(o,tt)),tt}_getShaderStage(o){const et=this.shaderCache;let tt=et.get(o);return tt===void 0&&(tt=new WebGLShaderStage(o),et.set(o,tt)),tt}}class WebGLShaderStage{constructor(o){this.id=_id$1++,this.code=o,this.usedTimes=0}}function WebGLPrograms(s,o,et,tt,nt,rt,it){const ot=new Layers,st=new WebGLShaderCache,at=new Set,lt=[],ct=nt.logarithmicDepthBuffer,ut=nt.vertexTextures;let dt=nt.precision;const ht={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function pt(St){return at.add(St),St===0?"uv":`uv${St}`}function gt(St,Rt,Tt,bt,xt){const Bt=bt.fog,Ct=xt.geometry,Mt=St.isMeshStandardMaterial?bt.environment:null,Nt=(St.isMeshStandardMaterial?et:o).get(St.envMap||Mt),At=Nt&&Nt.mapping===CubeUVReflectionMapping?Nt.image.height:null,Ot=ht[St.type];St.precision!==null&&(dt=nt.getMaxPrecision(St.precision),dt!==St.precision&&console.warn("THREE.WebGLProgram.getParameters:",St.precision,"not supported, using",dt,"instead."));const Vt=Ct.morphAttributes.position||Ct.morphAttributes.normal||Ct.morphAttributes.color,Wt=Vt!==void 0?Vt.length:0;let Jt=0;Ct.morphAttributes.position!==void 0&&(Jt=1),Ct.morphAttributes.normal!==void 0&&(Jt=2),Ct.morphAttributes.color!==void 0&&(Jt=3);let qt,Ht,Xt,Lt;if(Ot){const Ir=ShaderLib[Ot];qt=Ir.vertexShader,Ht=Ir.fragmentShader}else qt=St.vertexShader,Ht=St.fragmentShader,st.update(St),Xt=st.getVertexShaderID(St),Lt=st.getFragmentShaderID(St);const Pt=s.getRenderTarget(),kt=xt.isInstancedMesh===!0,zt=xt.isBatchedMesh===!0,tn=!!St.map,Gt=!!St.matcap,en=!!Nt,cn=!!St.aoMap,Zt=!!St.lightMap,dn=!!St.bumpMap,Fn=!!St.normalMap,pn=!!St.displacementMap,un=!!St.emissiveMap,bn=!!St.metalnessMap,an=!!St.roughnessMap,rn=St.anisotropy>0,mn=St.clearcoat>0,xn=St.dispersion>0,wn=St.iridescence>0,Mn=St.sheen>0,or=St.transmission>0,ir=rn&&!!St.anisotropyMap,nr=mn&&!!St.clearcoatMap,Ar=mn&&!!St.clearcoatNormalMap,ur=mn&&!!St.clearcoatRoughnessMap,Fr=wn&&!!St.iridescenceMap,$r=wn&&!!St.iridescenceThicknessMap,Sr=Mn&&!!St.sheenColorMap,Ur=Mn&&!!St.sheenRoughnessMap,Xr=!!St.specularMap,Wr=!!St.specularColorMap,Jr=!!St.specularIntensityMap,An=or&&!!St.transmissionMap,Br=or&&!!St.thicknessMap,er=!!St.gradientMap,ar=!!St.alphaMap,fr=St.alphaTest>0,Or=!!St.alphaHash,no=!!St.extensions;let co=NoToneMapping;St.toneMapped&&(Pt===null||Pt.isXRRenderTarget===!0)&&(co=s.toneMapping);const Eo={shaderID:Ot,shaderType:St.type,shaderName:St.name,vertexShader:qt,fragmentShader:Ht,defines:St.defines,customVertexShaderID:Xt,customFragmentShaderID:Lt,isRawShaderMaterial:St.isRawShaderMaterial===!0,glslVersion:St.glslVersion,precision:dt,batching:zt,batchingColor:zt&&xt._colorsTexture!==null,instancing:kt,instancingColor:kt&&xt.instanceColor!==null,instancingMorph:kt&&xt.morphTexture!==null,supportsVertexTextures:ut,outputColorSpace:Pt===null?s.outputColorSpace:Pt.isXRRenderTarget===!0?Pt.texture.colorSpace:LinearSRGBColorSpace$1,alphaToCoverage:!!St.alphaToCoverage,map:tn,matcap:Gt,envMap:en,envMapMode:en&&Nt.mapping,envMapCubeUVHeight:At,aoMap:cn,lightMap:Zt,bumpMap:dn,normalMap:Fn,displacementMap:ut&&pn,emissiveMap:un,normalMapObjectSpace:Fn&&St.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Fn&&St.normalMapType===TangentSpaceNormalMap,metalnessMap:bn,roughnessMap:an,anisotropy:rn,anisotropyMap:ir,clearcoat:mn,clearcoatMap:nr,clearcoatNormalMap:Ar,clearcoatRoughnessMap:ur,dispersion:xn,iridescence:wn,iridescenceMap:Fr,iridescenceThicknessMap:$r,sheen:Mn,sheenColorMap:Sr,sheenRoughnessMap:Ur,specularMap:Xr,specularColorMap:Wr,specularIntensityMap:Jr,transmission:or,transmissionMap:An,thicknessMap:Br,gradientMap:er,opaque:St.transparent===!1&&St.blending===NormalBlending&&St.alphaToCoverage===!1,alphaMap:ar,alphaTest:fr,alphaHash:Or,combine:St.combine,mapUv:tn&&pt(St.map.channel),aoMapUv:cn&&pt(St.aoMap.channel),lightMapUv:Zt&&pt(St.lightMap.channel),bumpMapUv:dn&&pt(St.bumpMap.channel),normalMapUv:Fn&&pt(St.normalMap.channel),displacementMapUv:pn&&pt(St.displacementMap.channel),emissiveMapUv:un&&pt(St.emissiveMap.channel),metalnessMapUv:bn&&pt(St.metalnessMap.channel),roughnessMapUv:an&&pt(St.roughnessMap.channel),anisotropyMapUv:ir&&pt(St.anisotropyMap.channel),clearcoatMapUv:nr&&pt(St.clearcoatMap.channel),clearcoatNormalMapUv:Ar&&pt(St.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ur&&pt(St.clearcoatRoughnessMap.channel),iridescenceMapUv:Fr&&pt(St.iridescenceMap.channel),iridescenceThicknessMapUv:$r&&pt(St.iridescenceThicknessMap.channel),sheenColorMapUv:Sr&&pt(St.sheenColorMap.channel),sheenRoughnessMapUv:Ur&&pt(St.sheenRoughnessMap.channel),specularMapUv:Xr&&pt(St.specularMap.channel),specularColorMapUv:Wr&&pt(St.specularColorMap.channel),specularIntensityMapUv:Jr&&pt(St.specularIntensityMap.channel),transmissionMapUv:An&&pt(St.transmissionMap.channel),thicknessMapUv:Br&&pt(St.thicknessMap.channel),alphaMapUv:ar&&pt(St.alphaMap.channel),vertexTangents:!!Ct.attributes.tangent&&(Fn||rn),vertexColors:St.vertexColors,vertexAlphas:St.vertexColors===!0&&!!Ct.attributes.color&&Ct.attributes.color.itemSize===4,pointsUvs:xt.isPoints===!0&&!!Ct.attributes.uv&&(tn||ar),fog:!!Bt,useFog:St.fog===!0,fogExp2:!!Bt&&Bt.isFogExp2,flatShading:St.flatShading===!0,sizeAttenuation:St.sizeAttenuation===!0,logarithmicDepthBuffer:ct,skinning:xt.isSkinnedMesh===!0,morphTargets:Ct.morphAttributes.position!==void 0,morphNormals:Ct.morphAttributes.normal!==void 0,morphColors:Ct.morphAttributes.color!==void 0,morphTargetsCount:Wt,morphTextureStride:Jt,numDirLights:Rt.directional.length,numPointLights:Rt.point.length,numSpotLights:Rt.spot.length,numSpotLightMaps:Rt.spotLightMap.length,numRectAreaLights:Rt.rectArea.length,numHemiLights:Rt.hemi.length,numDirLightShadows:Rt.directionalShadowMap.length,numPointLightShadows:Rt.pointShadowMap.length,numSpotLightShadows:Rt.spotShadowMap.length,numSpotLightShadowsWithMaps:Rt.numSpotLightShadowsWithMaps,numLightProbes:Rt.numLightProbes,numClippingPlanes:it.numPlanes,numClipIntersection:it.numIntersection,dithering:St.dithering,shadowMapEnabled:s.shadowMap.enabled&&Tt.length>0,shadowMapType:s.shadowMap.type,toneMapping:co,decodeVideoTexture:tn&&St.map.isVideoTexture===!0&&ColorManagement.getTransfer(St.map.colorSpace)===SRGBTransfer,premultipliedAlpha:St.premultipliedAlpha,doubleSided:St.side===DoubleSide,flipSided:St.side===BackSide,useDepthPacking:St.depthPacking>=0,depthPacking:St.depthPacking||0,index0AttributeName:St.index0AttributeName,extensionClipCullDistance:no&&St.extensions.clipCullDistance===!0&&tt.has("WEBGL_clip_cull_distance"),extensionMultiDraw:no&&St.extensions.multiDraw===!0&&tt.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:tt.has("KHR_parallel_shader_compile"),customProgramCacheKey:St.customProgramCacheKey()};return Eo.vertexUv1s=at.has(1),Eo.vertexUv2s=at.has(2),Eo.vertexUv3s=at.has(3),at.clear(),Eo}function ft(St){const Rt=[];if(St.shaderID?Rt.push(St.shaderID):(Rt.push(St.customVertexShaderID),Rt.push(St.customFragmentShaderID)),St.defines!==void 0)for(const Tt in St.defines)Rt.push(Tt),Rt.push(St.defines[Tt]);return St.isRawShaderMaterial===!1&&(yt(Rt,St),mt(Rt,St),Rt.push(s.outputColorSpace)),Rt.push(St.customProgramCacheKey),Rt.join()}function yt(St,Rt){St.push(Rt.precision),St.push(Rt.outputColorSpace),St.push(Rt.envMapMode),St.push(Rt.envMapCubeUVHeight),St.push(Rt.mapUv),St.push(Rt.alphaMapUv),St.push(Rt.lightMapUv),St.push(Rt.aoMapUv),St.push(Rt.bumpMapUv),St.push(Rt.normalMapUv),St.push(Rt.displacementMapUv),St.push(Rt.emissiveMapUv),St.push(Rt.metalnessMapUv),St.push(Rt.roughnessMapUv),St.push(Rt.anisotropyMapUv),St.push(Rt.clearcoatMapUv),St.push(Rt.clearcoatNormalMapUv),St.push(Rt.clearcoatRoughnessMapUv),St.push(Rt.iridescenceMapUv),St.push(Rt.iridescenceThicknessMapUv),St.push(Rt.sheenColorMapUv),St.push(Rt.sheenRoughnessMapUv),St.push(Rt.specularMapUv),St.push(Rt.specularColorMapUv),St.push(Rt.specularIntensityMapUv),St.push(Rt.transmissionMapUv),St.push(Rt.thicknessMapUv),St.push(Rt.combine),St.push(Rt.fogExp2),St.push(Rt.sizeAttenuation),St.push(Rt.morphTargetsCount),St.push(Rt.morphAttributeCount),St.push(Rt.numDirLights),St.push(Rt.numPointLights),St.push(Rt.numSpotLights),St.push(Rt.numSpotLightMaps),St.push(Rt.numHemiLights),St.push(Rt.numRectAreaLights),St.push(Rt.numDirLightShadows),St.push(Rt.numPointLightShadows),St.push(Rt.numSpotLightShadows),St.push(Rt.numSpotLightShadowsWithMaps),St.push(Rt.numLightProbes),St.push(Rt.shadowMapType),St.push(Rt.toneMapping),St.push(Rt.numClippingPlanes),St.push(Rt.numClipIntersection),St.push(Rt.depthPacking)}function mt(St,Rt){ot.disableAll(),Rt.supportsVertexTextures&&ot.enable(0),Rt.instancing&&ot.enable(1),Rt.instancingColor&&ot.enable(2),Rt.instancingMorph&&ot.enable(3),Rt.matcap&&ot.enable(4),Rt.envMap&&ot.enable(5),Rt.normalMapObjectSpace&&ot.enable(6),Rt.normalMapTangentSpace&&ot.enable(7),Rt.clearcoat&&ot.enable(8),Rt.iridescence&&ot.enable(9),Rt.alphaTest&&ot.enable(10),Rt.vertexColors&&ot.enable(11),Rt.vertexAlphas&&ot.enable(12),Rt.vertexUv1s&&ot.enable(13),Rt.vertexUv2s&&ot.enable(14),Rt.vertexUv3s&&ot.enable(15),Rt.vertexTangents&&ot.enable(16),Rt.anisotropy&&ot.enable(17),Rt.alphaHash&&ot.enable(18),Rt.batching&&ot.enable(19),Rt.dispersion&&ot.enable(20),Rt.batchingColor&&ot.enable(21),St.push(ot.mask),ot.disableAll(),Rt.fog&&ot.enable(0),Rt.useFog&&ot.enable(1),Rt.flatShading&&ot.enable(2),Rt.logarithmicDepthBuffer&&ot.enable(3),Rt.skinning&&ot.enable(4),Rt.morphTargets&&ot.enable(5),Rt.morphNormals&&ot.enable(6),Rt.morphColors&&ot.enable(7),Rt.premultipliedAlpha&&ot.enable(8),Rt.shadowMapEnabled&&ot.enable(9),Rt.doubleSided&&ot.enable(10),Rt.flipSided&&ot.enable(11),Rt.useDepthPacking&&ot.enable(12),Rt.dithering&&ot.enable(13),Rt.transmission&&ot.enable(14),Rt.sheen&&ot.enable(15),Rt.opaque&&ot.enable(16),Rt.pointsUvs&&ot.enable(17),Rt.decodeVideoTexture&&ot.enable(18),Rt.alphaToCoverage&&ot.enable(19),St.push(ot.mask)}function Ft(St){const Rt=ht[St.type];let Tt;if(Rt){const bt=ShaderLib[Rt];Tt=UniformsUtils.clone(bt.uniforms)}else Tt=St.uniforms;return Tt}function vt(St,Rt){let Tt;for(let bt=0,xt=lt.length;bt<xt;bt++){const Bt=lt[bt];if(Bt.cacheKey===Rt){Tt=Bt,++Tt.usedTimes;break}}return Tt===void 0&&(Tt=new WebGLProgram(s,Rt,St,rt),lt.push(Tt)),Tt}function Et(St){if(--St.usedTimes===0){const Rt=lt.indexOf(St);lt[Rt]=lt[lt.length-1],lt.pop(),St.destroy()}}function wt(St){st.remove(St)}function It(){st.dispose()}return{getParameters:gt,getProgramCacheKey:ft,getUniforms:Ft,acquireProgram:vt,releaseProgram:Et,releaseShaderCache:wt,programs:lt,dispose:It}}function WebGLProperties(){let s=new WeakMap;function o(rt){let it=s.get(rt);return it===void 0&&(it={},s.set(rt,it)),it}function et(rt){s.delete(rt)}function tt(rt,it,ot){s.get(rt)[it]=ot}function nt(){s=new WeakMap}return{get:o,remove:et,update:tt,dispose:nt}}function painterSortStable(s,o){return s.groupOrder!==o.groupOrder?s.groupOrder-o.groupOrder:s.renderOrder!==o.renderOrder?s.renderOrder-o.renderOrder:s.material.id!==o.material.id?s.material.id-o.material.id:s.z!==o.z?s.z-o.z:s.id-o.id}function reversePainterSortStable(s,o){return s.groupOrder!==o.groupOrder?s.groupOrder-o.groupOrder:s.renderOrder!==o.renderOrder?s.renderOrder-o.renderOrder:s.z!==o.z?o.z-s.z:s.id-o.id}function WebGLRenderList(){const s=[];let o=0;const et=[],tt=[],nt=[];function rt(){o=0,et.length=0,tt.length=0,nt.length=0}function it(ct,ut,dt,ht,pt,gt){let ft=s[o];return ft===void 0?(ft={id:ct.id,object:ct,geometry:ut,material:dt,groupOrder:ht,renderOrder:ct.renderOrder,z:pt,group:gt},s[o]=ft):(ft.id=ct.id,ft.object=ct,ft.geometry=ut,ft.material=dt,ft.groupOrder=ht,ft.renderOrder=ct.renderOrder,ft.z=pt,ft.group=gt),o++,ft}function ot(ct,ut,dt,ht,pt,gt){const ft=it(ct,ut,dt,ht,pt,gt);dt.transmission>0?tt.push(ft):dt.transparent===!0?nt.push(ft):et.push(ft)}function st(ct,ut,dt,ht,pt,gt){const ft=it(ct,ut,dt,ht,pt,gt);dt.transmission>0?tt.unshift(ft):dt.transparent===!0?nt.unshift(ft):et.unshift(ft)}function at(ct,ut){et.length>1&&et.sort(ct||painterSortStable),tt.length>1&&tt.sort(ut||reversePainterSortStable),nt.length>1&&nt.sort(ut||reversePainterSortStable)}function lt(){for(let ct=o,ut=s.length;ct<ut;ct++){const dt=s[ct];if(dt.id===null)break;dt.id=null,dt.object=null,dt.geometry=null,dt.material=null,dt.group=null}}return{opaque:et,transmissive:tt,transparent:nt,init:rt,push:ot,unshift:st,finish:lt,sort:at}}function WebGLRenderLists(){let s=new WeakMap;function o(tt,nt){const rt=s.get(tt);let it;return rt===void 0?(it=new WebGLRenderList,s.set(tt,[it])):nt>=rt.length?(it=new WebGLRenderList,rt.push(it)):it=rt[nt],it}function et(){s=new WeakMap}return{get:o,dispose:et}}function UniformsCache(){const s={};return{get:function(o){if(s[o.id]!==void 0)return s[o.id];let et;switch(o.type){case"DirectionalLight":et={direction:new Vector3,color:new Color$1};break;case"SpotLight":et={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":et={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":et={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":et={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return s[o.id]=et,et}}}function ShadowUniformsCache(){const s={};return{get:function(o){if(s[o.id]!==void 0)return s[o.id];let et;switch(o.type){case"DirectionalLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[o.id]=et,et}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(s,o){return(o.castShadow?2:0)-(s.castShadow?2:0)+(o.map?1:0)-(s.map?1:0)}function WebGLLights(s){const o=new UniformsCache,et=ShadowUniformsCache(),tt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let at=0;at<9;at++)tt.probe.push(new Vector3);const nt=new Vector3,rt=new Matrix4,it=new Matrix4;function ot(at){let lt=0,ct=0,ut=0;for(let St=0;St<9;St++)tt.probe[St].set(0,0,0);let dt=0,ht=0,pt=0,gt=0,ft=0,yt=0,mt=0,Ft=0,vt=0,Et=0,wt=0;at.sort(shadowCastingAndTexturingLightsFirst);for(let St=0,Rt=at.length;St<Rt;St++){const Tt=at[St],bt=Tt.color,xt=Tt.intensity,Bt=Tt.distance,Ct=Tt.shadow&&Tt.shadow.map?Tt.shadow.map.texture:null;if(Tt.isAmbientLight)lt+=bt.r*xt,ct+=bt.g*xt,ut+=bt.b*xt;else if(Tt.isLightProbe){for(let Mt=0;Mt<9;Mt++)tt.probe[Mt].addScaledVector(Tt.sh.coefficients[Mt],xt);wt++}else if(Tt.isDirectionalLight){const Mt=o.get(Tt);if(Mt.color.copy(Tt.color).multiplyScalar(Tt.intensity),Tt.castShadow){const Nt=Tt.shadow,At=et.get(Tt);At.shadowBias=Nt.bias,At.shadowNormalBias=Nt.normalBias,At.shadowRadius=Nt.radius,At.shadowMapSize=Nt.mapSize,tt.directionalShadow[dt]=At,tt.directionalShadowMap[dt]=Ct,tt.directionalShadowMatrix[dt]=Tt.shadow.matrix,yt++}tt.directional[dt]=Mt,dt++}else if(Tt.isSpotLight){const Mt=o.get(Tt);Mt.position.setFromMatrixPosition(Tt.matrixWorld),Mt.color.copy(bt).multiplyScalar(xt),Mt.distance=Bt,Mt.coneCos=Math.cos(Tt.angle),Mt.penumbraCos=Math.cos(Tt.angle*(1-Tt.penumbra)),Mt.decay=Tt.decay,tt.spot[pt]=Mt;const Nt=Tt.shadow;if(Tt.map&&(tt.spotLightMap[vt]=Tt.map,vt++,Nt.updateMatrices(Tt),Tt.castShadow&&Et++),tt.spotLightMatrix[pt]=Nt.matrix,Tt.castShadow){const At=et.get(Tt);At.shadowBias=Nt.bias,At.shadowNormalBias=Nt.normalBias,At.shadowRadius=Nt.radius,At.shadowMapSize=Nt.mapSize,tt.spotShadow[pt]=At,tt.spotShadowMap[pt]=Ct,Ft++}pt++}else if(Tt.isRectAreaLight){const Mt=o.get(Tt);Mt.color.copy(bt).multiplyScalar(xt),Mt.halfWidth.set(Tt.width*.5,0,0),Mt.halfHeight.set(0,Tt.height*.5,0),tt.rectArea[gt]=Mt,gt++}else if(Tt.isPointLight){const Mt=o.get(Tt);if(Mt.color.copy(Tt.color).multiplyScalar(Tt.intensity),Mt.distance=Tt.distance,Mt.decay=Tt.decay,Tt.castShadow){const Nt=Tt.shadow,At=et.get(Tt);At.shadowBias=Nt.bias,At.shadowNormalBias=Nt.normalBias,At.shadowRadius=Nt.radius,At.shadowMapSize=Nt.mapSize,At.shadowCameraNear=Nt.camera.near,At.shadowCameraFar=Nt.camera.far,tt.pointShadow[ht]=At,tt.pointShadowMap[ht]=Ct,tt.pointShadowMatrix[ht]=Tt.shadow.matrix,mt++}tt.point[ht]=Mt,ht++}else if(Tt.isHemisphereLight){const Mt=o.get(Tt);Mt.skyColor.copy(Tt.color).multiplyScalar(xt),Mt.groundColor.copy(Tt.groundColor).multiplyScalar(xt),tt.hemi[ft]=Mt,ft++}}gt>0&&(s.has("OES_texture_float_linear")===!0?(tt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,tt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(tt.rectAreaLTC1=UniformsLib.LTC_HALF_1,tt.rectAreaLTC2=UniformsLib.LTC_HALF_2)),tt.ambient[0]=lt,tt.ambient[1]=ct,tt.ambient[2]=ut;const It=tt.hash;(It.directionalLength!==dt||It.pointLength!==ht||It.spotLength!==pt||It.rectAreaLength!==gt||It.hemiLength!==ft||It.numDirectionalShadows!==yt||It.numPointShadows!==mt||It.numSpotShadows!==Ft||It.numSpotMaps!==vt||It.numLightProbes!==wt)&&(tt.directional.length=dt,tt.spot.length=pt,tt.rectArea.length=gt,tt.point.length=ht,tt.hemi.length=ft,tt.directionalShadow.length=yt,tt.directionalShadowMap.length=yt,tt.pointShadow.length=mt,tt.pointShadowMap.length=mt,tt.spotShadow.length=Ft,tt.spotShadowMap.length=Ft,tt.directionalShadowMatrix.length=yt,tt.pointShadowMatrix.length=mt,tt.spotLightMatrix.length=Ft+vt-Et,tt.spotLightMap.length=vt,tt.numSpotLightShadowsWithMaps=Et,tt.numLightProbes=wt,It.directionalLength=dt,It.pointLength=ht,It.spotLength=pt,It.rectAreaLength=gt,It.hemiLength=ft,It.numDirectionalShadows=yt,It.numPointShadows=mt,It.numSpotShadows=Ft,It.numSpotMaps=vt,It.numLightProbes=wt,tt.version=nextVersion++)}function st(at,lt){let ct=0,ut=0,dt=0,ht=0,pt=0;const gt=lt.matrixWorldInverse;for(let ft=0,yt=at.length;ft<yt;ft++){const mt=at[ft];if(mt.isDirectionalLight){const Ft=tt.directional[ct];Ft.direction.setFromMatrixPosition(mt.matrixWorld),nt.setFromMatrixPosition(mt.target.matrixWorld),Ft.direction.sub(nt),Ft.direction.transformDirection(gt),ct++}else if(mt.isSpotLight){const Ft=tt.spot[dt];Ft.position.setFromMatrixPosition(mt.matrixWorld),Ft.position.applyMatrix4(gt),Ft.direction.setFromMatrixPosition(mt.matrixWorld),nt.setFromMatrixPosition(mt.target.matrixWorld),Ft.direction.sub(nt),Ft.direction.transformDirection(gt),dt++}else if(mt.isRectAreaLight){const Ft=tt.rectArea[ht];Ft.position.setFromMatrixPosition(mt.matrixWorld),Ft.position.applyMatrix4(gt),it.identity(),rt.copy(mt.matrixWorld),rt.premultiply(gt),it.extractRotation(rt),Ft.halfWidth.set(mt.width*.5,0,0),Ft.halfHeight.set(0,mt.height*.5,0),Ft.halfWidth.applyMatrix4(it),Ft.halfHeight.applyMatrix4(it),ht++}else if(mt.isPointLight){const Ft=tt.point[ut];Ft.position.setFromMatrixPosition(mt.matrixWorld),Ft.position.applyMatrix4(gt),ut++}else if(mt.isHemisphereLight){const Ft=tt.hemi[pt];Ft.direction.setFromMatrixPosition(mt.matrixWorld),Ft.direction.transformDirection(gt),pt++}}}return{setup:ot,setupView:st,state:tt}}function WebGLRenderState(s){const o=new WebGLLights(s),et=[],tt=[];function nt(lt){at.camera=lt,et.length=0,tt.length=0}function rt(lt){et.push(lt)}function it(lt){tt.push(lt)}function ot(){o.setup(et)}function st(lt){o.setupView(et,lt)}const at={lightsArray:et,shadowsArray:tt,camera:null,lights:o,transmissionRenderTarget:{}};return{init:nt,state:at,setupLights:ot,setupLightsView:st,pushLight:rt,pushShadow:it}}function WebGLRenderStates(s){let o=new WeakMap;function et(nt,rt=0){const it=o.get(nt);let ot;return it===void 0?(ot=new WebGLRenderState(s),o.set(nt,[ot])):rt>=it.length?(ot=new WebGLRenderState(s),it.push(ot)):ot=it[rt],ot}function tt(){o=new WeakMap}return{get:et,dispose:tt}}class MeshDepthMaterial extends Material{constructor(o){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(o)}copy(o){return super.copy(o),this.depthPacking=o.depthPacking,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(o){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(o)}copy(o){return super.copy(o),this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(s,o,et){let tt=new Frustum;const nt=new Vector2,rt=new Vector2,it=new Vector4,ot=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),st=new MeshDistanceMaterial,at={},lt=et.maxTextureSize,ct={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ut=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),dt=ut.clone();dt.defines.HORIZONTAL_PASS=1;const ht=new BufferGeometry;ht.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const pt=new Mesh(ht,ut),gt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let ft=this.type;this.render=function(Et,wt,It){if(gt.enabled===!1||gt.autoUpdate===!1&&gt.needsUpdate===!1||Et.length===0)return;const St=s.getRenderTarget(),Rt=s.getActiveCubeFace(),Tt=s.getActiveMipmapLevel(),bt=s.state;bt.setBlending(NoBlending),bt.buffers.color.setClear(1,1,1,1),bt.buffers.depth.setTest(!0),bt.setScissorTest(!1);const xt=ft!==VSMShadowMap&&this.type===VSMShadowMap,Bt=ft===VSMShadowMap&&this.type!==VSMShadowMap;for(let Ct=0,Mt=Et.length;Ct<Mt;Ct++){const Nt=Et[Ct],At=Nt.shadow;if(At===void 0){console.warn("THREE.WebGLShadowMap:",Nt,"has no shadow.");continue}if(At.autoUpdate===!1&&At.needsUpdate===!1)continue;nt.copy(At.mapSize);const Ot=At.getFrameExtents();if(nt.multiply(Ot),rt.copy(At.mapSize),(nt.x>lt||nt.y>lt)&&(nt.x>lt&&(rt.x=Math.floor(lt/Ot.x),nt.x=rt.x*Ot.x,At.mapSize.x=rt.x),nt.y>lt&&(rt.y=Math.floor(lt/Ot.y),nt.y=rt.y*Ot.y,At.mapSize.y=rt.y)),At.map===null||xt===!0||Bt===!0){const Wt=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};At.map!==null&&At.map.dispose(),At.map=new WebGLRenderTarget(nt.x,nt.y,Wt),At.map.texture.name=Nt.name+".shadowMap",At.camera.updateProjectionMatrix()}s.setRenderTarget(At.map),s.clear();const Vt=At.getViewportCount();for(let Wt=0;Wt<Vt;Wt++){const Jt=At.getViewport(Wt);it.set(rt.x*Jt.x,rt.y*Jt.y,rt.x*Jt.z,rt.y*Jt.w),bt.viewport(it),At.updateMatrices(Nt,Wt),tt=At.getFrustum(),Ft(wt,It,At.camera,Nt,this.type)}At.isPointLightShadow!==!0&&this.type===VSMShadowMap&&yt(At,It),At.needsUpdate=!1}ft=this.type,gt.needsUpdate=!1,s.setRenderTarget(St,Rt,Tt)};function yt(Et,wt){const It=o.update(pt);ut.defines.VSM_SAMPLES!==Et.blurSamples&&(ut.defines.VSM_SAMPLES=Et.blurSamples,dt.defines.VSM_SAMPLES=Et.blurSamples,ut.needsUpdate=!0,dt.needsUpdate=!0),Et.mapPass===null&&(Et.mapPass=new WebGLRenderTarget(nt.x,nt.y)),ut.uniforms.shadow_pass.value=Et.map.texture,ut.uniforms.resolution.value=Et.mapSize,ut.uniforms.radius.value=Et.radius,s.setRenderTarget(Et.mapPass),s.clear(),s.renderBufferDirect(wt,null,It,ut,pt,null),dt.uniforms.shadow_pass.value=Et.mapPass.texture,dt.uniforms.resolution.value=Et.mapSize,dt.uniforms.radius.value=Et.radius,s.setRenderTarget(Et.map),s.clear(),s.renderBufferDirect(wt,null,It,dt,pt,null)}function mt(Et,wt,It,St){let Rt=null;const Tt=It.isPointLight===!0?Et.customDistanceMaterial:Et.customDepthMaterial;if(Tt!==void 0)Rt=Tt;else if(Rt=It.isPointLight===!0?st:ot,s.localClippingEnabled&&wt.clipShadows===!0&&Array.isArray(wt.clippingPlanes)&&wt.clippingPlanes.length!==0||wt.displacementMap&&wt.displacementScale!==0||wt.alphaMap&&wt.alphaTest>0||wt.map&&wt.alphaTest>0){const bt=Rt.uuid,xt=wt.uuid;let Bt=at[bt];Bt===void 0&&(Bt={},at[bt]=Bt);let Ct=Bt[xt];Ct===void 0&&(Ct=Rt.clone(),Bt[xt]=Ct,wt.addEventListener("dispose",vt)),Rt=Ct}if(Rt.visible=wt.visible,Rt.wireframe=wt.wireframe,St===VSMShadowMap?Rt.side=wt.shadowSide!==null?wt.shadowSide:wt.side:Rt.side=wt.shadowSide!==null?wt.shadowSide:ct[wt.side],Rt.alphaMap=wt.alphaMap,Rt.alphaTest=wt.alphaTest,Rt.map=wt.map,Rt.clipShadows=wt.clipShadows,Rt.clippingPlanes=wt.clippingPlanes,Rt.clipIntersection=wt.clipIntersection,Rt.displacementMap=wt.displacementMap,Rt.displacementScale=wt.displacementScale,Rt.displacementBias=wt.displacementBias,Rt.wireframeLinewidth=wt.wireframeLinewidth,Rt.linewidth=wt.linewidth,It.isPointLight===!0&&Rt.isMeshDistanceMaterial===!0){const bt=s.properties.get(Rt);bt.light=It}return Rt}function Ft(Et,wt,It,St,Rt){if(Et.visible===!1)return;if(Et.layers.test(wt.layers)&&(Et.isMesh||Et.isLine||Et.isPoints)&&(Et.castShadow||Et.receiveShadow&&Rt===VSMShadowMap)&&(!Et.frustumCulled||tt.intersectsObject(Et))){Et.modelViewMatrix.multiplyMatrices(It.matrixWorldInverse,Et.matrixWorld);const xt=o.update(Et),Bt=Et.material;if(Array.isArray(Bt)){const Ct=xt.groups;for(let Mt=0,Nt=Ct.length;Mt<Nt;Mt++){const At=Ct[Mt],Ot=Bt[At.materialIndex];if(Ot&&Ot.visible){const Vt=mt(Et,Ot,St,Rt);Et.onBeforeShadow(s,Et,wt,It,xt,Vt,At),s.renderBufferDirect(It,null,xt,Vt,Et,At),Et.onAfterShadow(s,Et,wt,It,xt,Vt,At)}}}else if(Bt.visible){const Ct=mt(Et,Bt,St,Rt);Et.onBeforeShadow(s,Et,wt,It,xt,Ct,null),s.renderBufferDirect(It,null,xt,Ct,Et,null),Et.onAfterShadow(s,Et,wt,It,xt,Ct,null)}}const bt=Et.children;for(let xt=0,Bt=bt.length;xt<Bt;xt++)Ft(bt[xt],wt,It,St,Rt)}function vt(Et){Et.target.removeEventListener("dispose",vt);for(const It in at){const St=at[It],Rt=Et.target.uuid;Rt in St&&(St[Rt].dispose(),delete St[Rt])}}}function WebGLState(s){function o(){let An=!1;const Br=new Vector4;let er=null;const ar=new Vector4(0,0,0,0);return{setMask:function(fr){er!==fr&&!An&&(s.colorMask(fr,fr,fr,fr),er=fr)},setLocked:function(fr){An=fr},setClear:function(fr,Or,no,co,Eo){Eo===!0&&(fr*=co,Or*=co,no*=co),Br.set(fr,Or,no,co),ar.equals(Br)===!1&&(s.clearColor(fr,Or,no,co),ar.copy(Br))},reset:function(){An=!1,er=null,ar.set(-1,0,0,0)}}}function et(){let An=!1,Br=null,er=null,ar=null;return{setTest:function(fr){fr?Lt(s.DEPTH_TEST):Pt(s.DEPTH_TEST)},setMask:function(fr){Br!==fr&&!An&&(s.depthMask(fr),Br=fr)},setFunc:function(fr){if(er!==fr){switch(fr){case NeverDepth:s.depthFunc(s.NEVER);break;case AlwaysDepth:s.depthFunc(s.ALWAYS);break;case LessDepth:s.depthFunc(s.LESS);break;case LessEqualDepth:s.depthFunc(s.LEQUAL);break;case EqualDepth:s.depthFunc(s.EQUAL);break;case GreaterEqualDepth:s.depthFunc(s.GEQUAL);break;case GreaterDepth:s.depthFunc(s.GREATER);break;case NotEqualDepth:s.depthFunc(s.NOTEQUAL);break;default:s.depthFunc(s.LEQUAL)}er=fr}},setLocked:function(fr){An=fr},setClear:function(fr){ar!==fr&&(s.clearDepth(fr),ar=fr)},reset:function(){An=!1,Br=null,er=null,ar=null}}}function tt(){let An=!1,Br=null,er=null,ar=null,fr=null,Or=null,no=null,co=null,Eo=null;return{setTest:function(Ir){An||(Ir?Lt(s.STENCIL_TEST):Pt(s.STENCIL_TEST))},setMask:function(Ir){Br!==Ir&&!An&&(s.stencilMask(Ir),Br=Ir)},setFunc:function(Ir,So,Kn){(er!==Ir||ar!==So||fr!==Kn)&&(s.stencilFunc(Ir,So,Kn),er=Ir,ar=So,fr=Kn)},setOp:function(Ir,So,Kn){(Or!==Ir||no!==So||co!==Kn)&&(s.stencilOp(Ir,So,Kn),Or=Ir,no=So,co=Kn)},setLocked:function(Ir){An=Ir},setClear:function(Ir){Eo!==Ir&&(s.clearStencil(Ir),Eo=Ir)},reset:function(){An=!1,Br=null,er=null,ar=null,fr=null,Or=null,no=null,co=null,Eo=null}}}const nt=new o,rt=new et,it=new tt,ot=new WeakMap,st=new WeakMap;let at={},lt={},ct=new WeakMap,ut=[],dt=null,ht=!1,pt=null,gt=null,ft=null,yt=null,mt=null,Ft=null,vt=null,Et=new Color$1(0,0,0),wt=0,It=!1,St=null,Rt=null,Tt=null,bt=null,xt=null;const Bt=s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ct=!1,Mt=0;const Nt=s.getParameter(s.VERSION);Nt.indexOf("WebGL")!==-1?(Mt=parseFloat(/^WebGL (\d)/.exec(Nt)[1]),Ct=Mt>=1):Nt.indexOf("OpenGL ES")!==-1&&(Mt=parseFloat(/^OpenGL ES (\d)/.exec(Nt)[1]),Ct=Mt>=2);let At=null,Ot={};const Vt=s.getParameter(s.SCISSOR_BOX),Wt=s.getParameter(s.VIEWPORT),Jt=new Vector4().fromArray(Vt),qt=new Vector4().fromArray(Wt);function Ht(An,Br,er,ar){const fr=new Uint8Array(4),Or=s.createTexture();s.bindTexture(An,Or),s.texParameteri(An,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(An,s.TEXTURE_MAG_FILTER,s.NEAREST);for(let no=0;no<er;no++)An===s.TEXTURE_3D||An===s.TEXTURE_2D_ARRAY?s.texImage3D(Br,0,s.RGBA,1,1,ar,0,s.RGBA,s.UNSIGNED_BYTE,fr):s.texImage2D(Br+no,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,fr);return Or}const Xt={};Xt[s.TEXTURE_2D]=Ht(s.TEXTURE_2D,s.TEXTURE_2D,1),Xt[s.TEXTURE_CUBE_MAP]=Ht(s.TEXTURE_CUBE_MAP,s.TEXTURE_CUBE_MAP_POSITIVE_X,6),Xt[s.TEXTURE_2D_ARRAY]=Ht(s.TEXTURE_2D_ARRAY,s.TEXTURE_2D_ARRAY,1,1),Xt[s.TEXTURE_3D]=Ht(s.TEXTURE_3D,s.TEXTURE_3D,1,1),nt.setClear(0,0,0,1),rt.setClear(1),it.setClear(0),Lt(s.DEPTH_TEST),rt.setFunc(LessEqualDepth),dn(!1),Fn(CullFaceBack),Lt(s.CULL_FACE),cn(NoBlending);function Lt(An){at[An]!==!0&&(s.enable(An),at[An]=!0)}function Pt(An){at[An]!==!1&&(s.disable(An),at[An]=!1)}function kt(An,Br){return lt[An]!==Br?(s.bindFramebuffer(An,Br),lt[An]=Br,An===s.DRAW_FRAMEBUFFER&&(lt[s.FRAMEBUFFER]=Br),An===s.FRAMEBUFFER&&(lt[s.DRAW_FRAMEBUFFER]=Br),!0):!1}function zt(An,Br){let er=ut,ar=!1;if(An){er=ct.get(Br),er===void 0&&(er=[],ct.set(Br,er));const fr=An.textures;if(er.length!==fr.length||er[0]!==s.COLOR_ATTACHMENT0){for(let Or=0,no=fr.length;Or<no;Or++)er[Or]=s.COLOR_ATTACHMENT0+Or;er.length=fr.length,ar=!0}}else er[0]!==s.BACK&&(er[0]=s.BACK,ar=!0);ar&&s.drawBuffers(er)}function tn(An){return dt!==An?(s.useProgram(An),dt=An,!0):!1}const Gt={[AddEquation]:s.FUNC_ADD,[SubtractEquation]:s.FUNC_SUBTRACT,[ReverseSubtractEquation]:s.FUNC_REVERSE_SUBTRACT};Gt[MinEquation]=s.MIN,Gt[MaxEquation]=s.MAX;const en={[ZeroFactor]:s.ZERO,[OneFactor]:s.ONE,[SrcColorFactor]:s.SRC_COLOR,[SrcAlphaFactor]:s.SRC_ALPHA,[SrcAlphaSaturateFactor]:s.SRC_ALPHA_SATURATE,[DstColorFactor]:s.DST_COLOR,[DstAlphaFactor]:s.DST_ALPHA,[OneMinusSrcColorFactor]:s.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:s.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:s.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:s.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:s.CONSTANT_COLOR,[OneMinusConstantColorFactor]:s.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:s.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:s.ONE_MINUS_CONSTANT_ALPHA};function cn(An,Br,er,ar,fr,Or,no,co,Eo,Ir){if(An===NoBlending){ht===!0&&(Pt(s.BLEND),ht=!1);return}if(ht===!1&&(Lt(s.BLEND),ht=!0),An!==CustomBlending){if(An!==pt||Ir!==It){if((gt!==AddEquation||mt!==AddEquation)&&(s.blendEquation(s.FUNC_ADD),gt=AddEquation,mt=AddEquation),Ir)switch(An){case NormalBlending:s.blendFuncSeparate(s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:s.blendFunc(s.ONE,s.ONE);break;case SubtractiveBlending:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case MultiplyBlending:s.blendFuncSeparate(s.ZERO,s.SRC_COLOR,s.ZERO,s.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",An);break}else switch(An){case NormalBlending:s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:s.blendFunc(s.SRC_ALPHA,s.ONE);break;case SubtractiveBlending:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case MultiplyBlending:s.blendFunc(s.ZERO,s.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",An);break}ft=null,yt=null,Ft=null,vt=null,Et.set(0,0,0),wt=0,pt=An,It=Ir}return}fr=fr||Br,Or=Or||er,no=no||ar,(Br!==gt||fr!==mt)&&(s.blendEquationSeparate(Gt[Br],Gt[fr]),gt=Br,mt=fr),(er!==ft||ar!==yt||Or!==Ft||no!==vt)&&(s.blendFuncSeparate(en[er],en[ar],en[Or],en[no]),ft=er,yt=ar,Ft=Or,vt=no),(co.equals(Et)===!1||Eo!==wt)&&(s.blendColor(co.r,co.g,co.b,Eo),Et.copy(co),wt=Eo),pt=An,It=!1}function Zt(An,Br){An.side===DoubleSide?Pt(s.CULL_FACE):Lt(s.CULL_FACE);let er=An.side===BackSide;Br&&(er=!er),dn(er),An.blending===NormalBlending&&An.transparent===!1?cn(NoBlending):cn(An.blending,An.blendEquation,An.blendSrc,An.blendDst,An.blendEquationAlpha,An.blendSrcAlpha,An.blendDstAlpha,An.blendColor,An.blendAlpha,An.premultipliedAlpha),rt.setFunc(An.depthFunc),rt.setTest(An.depthTest),rt.setMask(An.depthWrite),nt.setMask(An.colorWrite);const ar=An.stencilWrite;it.setTest(ar),ar&&(it.setMask(An.stencilWriteMask),it.setFunc(An.stencilFunc,An.stencilRef,An.stencilFuncMask),it.setOp(An.stencilFail,An.stencilZFail,An.stencilZPass)),un(An.polygonOffset,An.polygonOffsetFactor,An.polygonOffsetUnits),An.alphaToCoverage===!0?Lt(s.SAMPLE_ALPHA_TO_COVERAGE):Pt(s.SAMPLE_ALPHA_TO_COVERAGE)}function dn(An){St!==An&&(An?s.frontFace(s.CW):s.frontFace(s.CCW),St=An)}function Fn(An){An!==CullFaceNone?(Lt(s.CULL_FACE),An!==Rt&&(An===CullFaceBack?s.cullFace(s.BACK):An===CullFaceFront?s.cullFace(s.FRONT):s.cullFace(s.FRONT_AND_BACK))):Pt(s.CULL_FACE),Rt=An}function pn(An){An!==Tt&&(Ct&&s.lineWidth(An),Tt=An)}function un(An,Br,er){An?(Lt(s.POLYGON_OFFSET_FILL),(bt!==Br||xt!==er)&&(s.polygonOffset(Br,er),bt=Br,xt=er)):Pt(s.POLYGON_OFFSET_FILL)}function bn(An){An?Lt(s.SCISSOR_TEST):Pt(s.SCISSOR_TEST)}function an(An){An===void 0&&(An=s.TEXTURE0+Bt-1),At!==An&&(s.activeTexture(An),At=An)}function rn(An,Br,er){er===void 0&&(At===null?er=s.TEXTURE0+Bt-1:er=At);let ar=Ot[er];ar===void 0&&(ar={type:void 0,texture:void 0},Ot[er]=ar),(ar.type!==An||ar.texture!==Br)&&(At!==er&&(s.activeTexture(er),At=er),s.bindTexture(An,Br||Xt[An]),ar.type=An,ar.texture=Br)}function mn(){const An=Ot[At];An!==void 0&&An.type!==void 0&&(s.bindTexture(An.type,null),An.type=void 0,An.texture=void 0)}function xn(){try{s.compressedTexImage2D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function wn(){try{s.compressedTexImage3D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function Mn(){try{s.texSubImage2D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function or(){try{s.texSubImage3D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function ir(){try{s.compressedTexSubImage2D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function nr(){try{s.compressedTexSubImage3D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function Ar(){try{s.texStorage2D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function ur(){try{s.texStorage3D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function Fr(){try{s.texImage2D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function $r(){try{s.texImage3D.apply(s,arguments)}catch(An){console.error("THREE.WebGLState:",An)}}function Sr(An){Jt.equals(An)===!1&&(s.scissor(An.x,An.y,An.z,An.w),Jt.copy(An))}function Ur(An){qt.equals(An)===!1&&(s.viewport(An.x,An.y,An.z,An.w),qt.copy(An))}function Xr(An,Br){let er=st.get(Br);er===void 0&&(er=new WeakMap,st.set(Br,er));let ar=er.get(An);ar===void 0&&(ar=s.getUniformBlockIndex(Br,An.name),er.set(An,ar))}function Wr(An,Br){const ar=st.get(Br).get(An);ot.get(Br)!==ar&&(s.uniformBlockBinding(Br,ar,An.__bindingPointIndex),ot.set(Br,ar))}function Jr(){s.disable(s.BLEND),s.disable(s.CULL_FACE),s.disable(s.DEPTH_TEST),s.disable(s.POLYGON_OFFSET_FILL),s.disable(s.SCISSOR_TEST),s.disable(s.STENCIL_TEST),s.disable(s.SAMPLE_ALPHA_TO_COVERAGE),s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO),s.blendFuncSeparate(s.ONE,s.ZERO,s.ONE,s.ZERO),s.blendColor(0,0,0,0),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(s.LESS),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(s.ALWAYS,0,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.clearStencil(0),s.cullFace(s.BACK),s.frontFace(s.CCW),s.polygonOffset(0,0),s.activeTexture(s.TEXTURE0),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),at={},At=null,Ot={},lt={},ct=new WeakMap,ut=[],dt=null,ht=!1,pt=null,gt=null,ft=null,yt=null,mt=null,Ft=null,vt=null,Et=new Color$1(0,0,0),wt=0,It=!1,St=null,Rt=null,Tt=null,bt=null,xt=null,Jt.set(0,0,s.canvas.width,s.canvas.height),qt.set(0,0,s.canvas.width,s.canvas.height),nt.reset(),rt.reset(),it.reset()}return{buffers:{color:nt,depth:rt,stencil:it},enable:Lt,disable:Pt,bindFramebuffer:kt,drawBuffers:zt,useProgram:tn,setBlending:cn,setMaterial:Zt,setFlipSided:dn,setCullFace:Fn,setLineWidth:pn,setPolygonOffset:un,setScissorTest:bn,activeTexture:an,bindTexture:rn,unbindTexture:mn,compressedTexImage2D:xn,compressedTexImage3D:wn,texImage2D:Fr,texImage3D:$r,updateUBOMapping:Xr,uniformBlockBinding:Wr,texStorage2D:Ar,texStorage3D:ur,texSubImage2D:Mn,texSubImage3D:or,compressedTexSubImage2D:ir,compressedTexSubImage3D:nr,scissor:Sr,viewport:Ur,reset:Jr}}function WebGLTextures(s,o,et,tt,nt,rt,it){const ot=o.has("WEBGL_multisampled_render_to_texture")?o.get("WEBGL_multisampled_render_to_texture"):null,st=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),at=new Vector2,lt=new WeakMap;let ct;const ut=new WeakMap;let dt=!1;try{dt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ht(an,rn){return dt?new OffscreenCanvas(an,rn):createElementNS("canvas")}function pt(an,rn,mn){let xn=1;const wn=bn(an);if((wn.width>mn||wn.height>mn)&&(xn=mn/Math.max(wn.width,wn.height)),xn<1)if(typeof HTMLImageElement<"u"&&an instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&an instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&an instanceof ImageBitmap||typeof VideoFrame<"u"&&an instanceof VideoFrame){const Mn=Math.floor(xn*wn.width),or=Math.floor(xn*wn.height);ct===void 0&&(ct=ht(Mn,or));const ir=rn?ht(Mn,or):ct;return ir.width=Mn,ir.height=or,ir.getContext("2d").drawImage(an,0,0,Mn,or),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+wn.width+"x"+wn.height+") to ("+Mn+"x"+or+")."),ir}else return"data"in an&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+wn.width+"x"+wn.height+")."),an;return an}function gt(an){return an.generateMipmaps&&an.minFilter!==NearestFilter&&an.minFilter!==LinearFilter}function ft(an){s.generateMipmap(an)}function yt(an,rn,mn,xn,wn=!1){if(an!==null){if(s[an]!==void 0)return s[an];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+an+"'")}let Mn=rn;if(rn===s.RED&&(mn===s.FLOAT&&(Mn=s.R32F),mn===s.HALF_FLOAT&&(Mn=s.R16F),mn===s.UNSIGNED_BYTE&&(Mn=s.R8)),rn===s.RED_INTEGER&&(mn===s.UNSIGNED_BYTE&&(Mn=s.R8UI),mn===s.UNSIGNED_SHORT&&(Mn=s.R16UI),mn===s.UNSIGNED_INT&&(Mn=s.R32UI),mn===s.BYTE&&(Mn=s.R8I),mn===s.SHORT&&(Mn=s.R16I),mn===s.INT&&(Mn=s.R32I)),rn===s.RG&&(mn===s.FLOAT&&(Mn=s.RG32F),mn===s.HALF_FLOAT&&(Mn=s.RG16F),mn===s.UNSIGNED_BYTE&&(Mn=s.RG8)),rn===s.RG_INTEGER&&(mn===s.UNSIGNED_BYTE&&(Mn=s.RG8UI),mn===s.UNSIGNED_SHORT&&(Mn=s.RG16UI),mn===s.UNSIGNED_INT&&(Mn=s.RG32UI),mn===s.BYTE&&(Mn=s.RG8I),mn===s.SHORT&&(Mn=s.RG16I),mn===s.INT&&(Mn=s.RG32I)),rn===s.RGB&&mn===s.UNSIGNED_INT_5_9_9_9_REV&&(Mn=s.RGB9_E5),rn===s.RGBA){const or=wn?LinearTransfer:ColorManagement.getTransfer(xn);mn===s.FLOAT&&(Mn=s.RGBA32F),mn===s.HALF_FLOAT&&(Mn=s.RGBA16F),mn===s.UNSIGNED_BYTE&&(Mn=or===SRGBTransfer?s.SRGB8_ALPHA8:s.RGBA8),mn===s.UNSIGNED_SHORT_4_4_4_4&&(Mn=s.RGBA4),mn===s.UNSIGNED_SHORT_5_5_5_1&&(Mn=s.RGB5_A1)}return(Mn===s.R16F||Mn===s.R32F||Mn===s.RG16F||Mn===s.RG32F||Mn===s.RGBA16F||Mn===s.RGBA32F)&&o.get("EXT_color_buffer_float"),Mn}function mt(an,rn){let mn;return an?rn===null||rn===UnsignedIntType||rn===UnsignedInt248Type?mn=s.DEPTH24_STENCIL8:rn===FloatType?mn=s.DEPTH32F_STENCIL8:rn===UnsignedShortType&&(mn=s.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):rn===null||rn===UnsignedIntType||rn===UnsignedInt248Type?mn=s.DEPTH_COMPONENT24:rn===FloatType?mn=s.DEPTH_COMPONENT32F:rn===UnsignedShortType&&(mn=s.DEPTH_COMPONENT16),mn}function Ft(an,rn){return gt(an)===!0||an.isFramebufferTexture&&an.minFilter!==NearestFilter&&an.minFilter!==LinearFilter?Math.log2(Math.max(rn.width,rn.height))+1:an.mipmaps!==void 0&&an.mipmaps.length>0?an.mipmaps.length:an.isCompressedTexture&&Array.isArray(an.image)?rn.mipmaps.length:1}function vt(an){const rn=an.target;rn.removeEventListener("dispose",vt),wt(rn),rn.isVideoTexture&&lt.delete(rn)}function Et(an){const rn=an.target;rn.removeEventListener("dispose",Et),St(rn)}function wt(an){const rn=tt.get(an);if(rn.__webglInit===void 0)return;const mn=an.source,xn=ut.get(mn);if(xn){const wn=xn[rn.__cacheKey];wn.usedTimes--,wn.usedTimes===0&&It(an),Object.keys(xn).length===0&&ut.delete(mn)}tt.remove(an)}function It(an){const rn=tt.get(an);s.deleteTexture(rn.__webglTexture);const mn=an.source,xn=ut.get(mn);delete xn[rn.__cacheKey],it.memory.textures--}function St(an){const rn=tt.get(an);if(an.depthTexture&&an.depthTexture.dispose(),an.isWebGLCubeRenderTarget)for(let xn=0;xn<6;xn++){if(Array.isArray(rn.__webglFramebuffer[xn]))for(let wn=0;wn<rn.__webglFramebuffer[xn].length;wn++)s.deleteFramebuffer(rn.__webglFramebuffer[xn][wn]);else s.deleteFramebuffer(rn.__webglFramebuffer[xn]);rn.__webglDepthbuffer&&s.deleteRenderbuffer(rn.__webglDepthbuffer[xn])}else{if(Array.isArray(rn.__webglFramebuffer))for(let xn=0;xn<rn.__webglFramebuffer.length;xn++)s.deleteFramebuffer(rn.__webglFramebuffer[xn]);else s.deleteFramebuffer(rn.__webglFramebuffer);if(rn.__webglDepthbuffer&&s.deleteRenderbuffer(rn.__webglDepthbuffer),rn.__webglMultisampledFramebuffer&&s.deleteFramebuffer(rn.__webglMultisampledFramebuffer),rn.__webglColorRenderbuffer)for(let xn=0;xn<rn.__webglColorRenderbuffer.length;xn++)rn.__webglColorRenderbuffer[xn]&&s.deleteRenderbuffer(rn.__webglColorRenderbuffer[xn]);rn.__webglDepthRenderbuffer&&s.deleteRenderbuffer(rn.__webglDepthRenderbuffer)}const mn=an.textures;for(let xn=0,wn=mn.length;xn<wn;xn++){const Mn=tt.get(mn[xn]);Mn.__webglTexture&&(s.deleteTexture(Mn.__webglTexture),it.memory.textures--),tt.remove(mn[xn])}tt.remove(an)}let Rt=0;function Tt(){Rt=0}function bt(){const an=Rt;return an>=nt.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+an+" texture units while this GPU supports only "+nt.maxTextures),Rt+=1,an}function xt(an){const rn=[];return rn.push(an.wrapS),rn.push(an.wrapT),rn.push(an.wrapR||0),rn.push(an.magFilter),rn.push(an.minFilter),rn.push(an.anisotropy),rn.push(an.internalFormat),rn.push(an.format),rn.push(an.type),rn.push(an.generateMipmaps),rn.push(an.premultiplyAlpha),rn.push(an.flipY),rn.push(an.unpackAlignment),rn.push(an.colorSpace),rn.join()}function Bt(an,rn){const mn=tt.get(an);if(an.isVideoTexture&&pn(an),an.isRenderTargetTexture===!1&&an.version>0&&mn.__version!==an.version){const xn=an.image;if(xn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{qt(mn,an,rn);return}}et.bindTexture(s.TEXTURE_2D,mn.__webglTexture,s.TEXTURE0+rn)}function Ct(an,rn){const mn=tt.get(an);if(an.version>0&&mn.__version!==an.version){qt(mn,an,rn);return}et.bindTexture(s.TEXTURE_2D_ARRAY,mn.__webglTexture,s.TEXTURE0+rn)}function Mt(an,rn){const mn=tt.get(an);if(an.version>0&&mn.__version!==an.version){qt(mn,an,rn);return}et.bindTexture(s.TEXTURE_3D,mn.__webglTexture,s.TEXTURE0+rn)}function Nt(an,rn){const mn=tt.get(an);if(an.version>0&&mn.__version!==an.version){Ht(mn,an,rn);return}et.bindTexture(s.TEXTURE_CUBE_MAP,mn.__webglTexture,s.TEXTURE0+rn)}const At={[RepeatWrapping]:s.REPEAT,[ClampToEdgeWrapping]:s.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:s.MIRRORED_REPEAT},Ot={[NearestFilter]:s.NEAREST,[NearestMipmapNearestFilter]:s.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:s.NEAREST_MIPMAP_LINEAR,[LinearFilter]:s.LINEAR,[LinearMipmapNearestFilter]:s.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:s.LINEAR_MIPMAP_LINEAR},Vt={[NeverCompare]:s.NEVER,[AlwaysCompare]:s.ALWAYS,[LessCompare]:s.LESS,[LessEqualCompare]:s.LEQUAL,[EqualCompare]:s.EQUAL,[GreaterEqualCompare]:s.GEQUAL,[GreaterCompare]:s.GREATER,[NotEqualCompare]:s.NOTEQUAL};function Wt(an,rn){if(rn.type===FloatType&&o.has("OES_texture_float_linear")===!1&&(rn.magFilter===LinearFilter||rn.magFilter===LinearMipmapNearestFilter||rn.magFilter===NearestMipmapLinearFilter||rn.magFilter===LinearMipmapLinearFilter||rn.minFilter===LinearFilter||rn.minFilter===LinearMipmapNearestFilter||rn.minFilter===NearestMipmapLinearFilter||rn.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),s.texParameteri(an,s.TEXTURE_WRAP_S,At[rn.wrapS]),s.texParameteri(an,s.TEXTURE_WRAP_T,At[rn.wrapT]),(an===s.TEXTURE_3D||an===s.TEXTURE_2D_ARRAY)&&s.texParameteri(an,s.TEXTURE_WRAP_R,At[rn.wrapR]),s.texParameteri(an,s.TEXTURE_MAG_FILTER,Ot[rn.magFilter]),s.texParameteri(an,s.TEXTURE_MIN_FILTER,Ot[rn.minFilter]),rn.compareFunction&&(s.texParameteri(an,s.TEXTURE_COMPARE_MODE,s.COMPARE_REF_TO_TEXTURE),s.texParameteri(an,s.TEXTURE_COMPARE_FUNC,Vt[rn.compareFunction])),o.has("EXT_texture_filter_anisotropic")===!0){if(rn.magFilter===NearestFilter||rn.minFilter!==NearestMipmapLinearFilter&&rn.minFilter!==LinearMipmapLinearFilter||rn.type===FloatType&&o.has("OES_texture_float_linear")===!1)return;if(rn.anisotropy>1||tt.get(rn).__currentAnisotropy){const mn=o.get("EXT_texture_filter_anisotropic");s.texParameterf(an,mn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(rn.anisotropy,nt.getMaxAnisotropy())),tt.get(rn).__currentAnisotropy=rn.anisotropy}}}function Jt(an,rn){let mn=!1;an.__webglInit===void 0&&(an.__webglInit=!0,rn.addEventListener("dispose",vt));const xn=rn.source;let wn=ut.get(xn);wn===void 0&&(wn={},ut.set(xn,wn));const Mn=xt(rn);if(Mn!==an.__cacheKey){wn[Mn]===void 0&&(wn[Mn]={texture:s.createTexture(),usedTimes:0},it.memory.textures++,mn=!0),wn[Mn].usedTimes++;const or=wn[an.__cacheKey];or!==void 0&&(wn[an.__cacheKey].usedTimes--,or.usedTimes===0&&It(rn)),an.__cacheKey=Mn,an.__webglTexture=wn[Mn].texture}return mn}function qt(an,rn,mn){let xn=s.TEXTURE_2D;(rn.isDataArrayTexture||rn.isCompressedArrayTexture)&&(xn=s.TEXTURE_2D_ARRAY),rn.isData3DTexture&&(xn=s.TEXTURE_3D);const wn=Jt(an,rn),Mn=rn.source;et.bindTexture(xn,an.__webglTexture,s.TEXTURE0+mn);const or=tt.get(Mn);if(Mn.version!==or.__version||wn===!0){et.activeTexture(s.TEXTURE0+mn);const ir=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),nr=rn.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(rn.colorSpace),Ar=rn.colorSpace===NoColorSpace||ir===nr?s.NONE:s.BROWSER_DEFAULT_WEBGL;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,rn.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rn.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,rn.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ar);let ur=pt(rn.image,!1,nt.maxTextureSize);ur=un(rn,ur);const Fr=rt.convert(rn.format,rn.colorSpace),$r=rt.convert(rn.type);let Sr=yt(rn.internalFormat,Fr,$r,rn.colorSpace,rn.isVideoTexture);Wt(xn,rn);let Ur;const Xr=rn.mipmaps,Wr=rn.isVideoTexture!==!0,Jr=or.__version===void 0||wn===!0,An=Mn.dataReady,Br=Ft(rn,ur);if(rn.isDepthTexture)Sr=mt(rn.format===DepthStencilFormat,rn.type),Jr&&(Wr?et.texStorage2D(s.TEXTURE_2D,1,Sr,ur.width,ur.height):et.texImage2D(s.TEXTURE_2D,0,Sr,ur.width,ur.height,0,Fr,$r,null));else if(rn.isDataTexture)if(Xr.length>0){Wr&&Jr&&et.texStorage2D(s.TEXTURE_2D,Br,Sr,Xr[0].width,Xr[0].height);for(let er=0,ar=Xr.length;er<ar;er++)Ur=Xr[er],Wr?An&&et.texSubImage2D(s.TEXTURE_2D,er,0,0,Ur.width,Ur.height,Fr,$r,Ur.data):et.texImage2D(s.TEXTURE_2D,er,Sr,Ur.width,Ur.height,0,Fr,$r,Ur.data);rn.generateMipmaps=!1}else Wr?(Jr&&et.texStorage2D(s.TEXTURE_2D,Br,Sr,ur.width,ur.height),An&&et.texSubImage2D(s.TEXTURE_2D,0,0,0,ur.width,ur.height,Fr,$r,ur.data)):et.texImage2D(s.TEXTURE_2D,0,Sr,ur.width,ur.height,0,Fr,$r,ur.data);else if(rn.isCompressedTexture)if(rn.isCompressedArrayTexture){Wr&&Jr&&et.texStorage3D(s.TEXTURE_2D_ARRAY,Br,Sr,Xr[0].width,Xr[0].height,ur.depth);for(let er=0,ar=Xr.length;er<ar;er++)if(Ur=Xr[er],rn.format!==RGBAFormat)if(Fr!==null)if(Wr){if(An)if(rn.layerUpdates.size>0){for(const fr of rn.layerUpdates){const Or=Ur.width*Ur.height;et.compressedTexSubImage3D(s.TEXTURE_2D_ARRAY,er,0,0,fr,Ur.width,Ur.height,1,Fr,Ur.data.slice(Or*fr,Or*(fr+1)),0,0)}rn.clearLayerUpdates()}else et.compressedTexSubImage3D(s.TEXTURE_2D_ARRAY,er,0,0,0,Ur.width,Ur.height,ur.depth,Fr,Ur.data,0,0)}else et.compressedTexImage3D(s.TEXTURE_2D_ARRAY,er,Sr,Ur.width,Ur.height,ur.depth,0,Ur.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Wr?An&&et.texSubImage3D(s.TEXTURE_2D_ARRAY,er,0,0,0,Ur.width,Ur.height,ur.depth,Fr,$r,Ur.data):et.texImage3D(s.TEXTURE_2D_ARRAY,er,Sr,Ur.width,Ur.height,ur.depth,0,Fr,$r,Ur.data)}else{Wr&&Jr&&et.texStorage2D(s.TEXTURE_2D,Br,Sr,Xr[0].width,Xr[0].height);for(let er=0,ar=Xr.length;er<ar;er++)Ur=Xr[er],rn.format!==RGBAFormat?Fr!==null?Wr?An&&et.compressedTexSubImage2D(s.TEXTURE_2D,er,0,0,Ur.width,Ur.height,Fr,Ur.data):et.compressedTexImage2D(s.TEXTURE_2D,er,Sr,Ur.width,Ur.height,0,Ur.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wr?An&&et.texSubImage2D(s.TEXTURE_2D,er,0,0,Ur.width,Ur.height,Fr,$r,Ur.data):et.texImage2D(s.TEXTURE_2D,er,Sr,Ur.width,Ur.height,0,Fr,$r,Ur.data)}else if(rn.isDataArrayTexture)if(Wr){if(Jr&&et.texStorage3D(s.TEXTURE_2D_ARRAY,Br,Sr,ur.width,ur.height,ur.depth),An)if(rn.layerUpdates.size>0){let er;switch($r){case s.UNSIGNED_BYTE:switch(Fr){case s.ALPHA:er=1;break;case s.LUMINANCE:er=1;break;case s.LUMINANCE_ALPHA:er=2;break;case s.RGB:er=3;break;case s.RGBA:er=4;break;default:throw new Error(`Unknown texel size for format ${Fr}.`)}break;case s.UNSIGNED_SHORT_4_4_4_4:case s.UNSIGNED_SHORT_5_5_5_1:case s.UNSIGNED_SHORT_5_6_5:er=1;break;default:throw new Error(`Unknown texel size for type ${$r}.`)}const ar=ur.width*ur.height*er;for(const fr of rn.layerUpdates)et.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,fr,ur.width,ur.height,1,Fr,$r,ur.data.slice(ar*fr,ar*(fr+1)));rn.clearLayerUpdates()}else et.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,0,ur.width,ur.height,ur.depth,Fr,$r,ur.data)}else et.texImage3D(s.TEXTURE_2D_ARRAY,0,Sr,ur.width,ur.height,ur.depth,0,Fr,$r,ur.data);else if(rn.isData3DTexture)Wr?(Jr&&et.texStorage3D(s.TEXTURE_3D,Br,Sr,ur.width,ur.height,ur.depth),An&&et.texSubImage3D(s.TEXTURE_3D,0,0,0,0,ur.width,ur.height,ur.depth,Fr,$r,ur.data)):et.texImage3D(s.TEXTURE_3D,0,Sr,ur.width,ur.height,ur.depth,0,Fr,$r,ur.data);else if(rn.isFramebufferTexture){if(Jr)if(Wr)et.texStorage2D(s.TEXTURE_2D,Br,Sr,ur.width,ur.height);else{let er=ur.width,ar=ur.height;for(let fr=0;fr<Br;fr++)et.texImage2D(s.TEXTURE_2D,fr,Sr,er,ar,0,Fr,$r,null),er>>=1,ar>>=1}}else if(Xr.length>0){if(Wr&&Jr){const er=bn(Xr[0]);et.texStorage2D(s.TEXTURE_2D,Br,Sr,er.width,er.height)}for(let er=0,ar=Xr.length;er<ar;er++)Ur=Xr[er],Wr?An&&et.texSubImage2D(s.TEXTURE_2D,er,0,0,Fr,$r,Ur):et.texImage2D(s.TEXTURE_2D,er,Sr,Fr,$r,Ur);rn.generateMipmaps=!1}else if(Wr){if(Jr){const er=bn(ur);et.texStorage2D(s.TEXTURE_2D,Br,Sr,er.width,er.height)}An&&et.texSubImage2D(s.TEXTURE_2D,0,0,0,Fr,$r,ur)}else et.texImage2D(s.TEXTURE_2D,0,Sr,Fr,$r,ur);gt(rn)&&ft(xn),or.__version=Mn.version,rn.onUpdate&&rn.onUpdate(rn)}an.__version=rn.version}function Ht(an,rn,mn){if(rn.image.length!==6)return;const xn=Jt(an,rn),wn=rn.source;et.bindTexture(s.TEXTURE_CUBE_MAP,an.__webglTexture,s.TEXTURE0+mn);const Mn=tt.get(wn);if(wn.version!==Mn.__version||xn===!0){et.activeTexture(s.TEXTURE0+mn);const or=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),ir=rn.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(rn.colorSpace),nr=rn.colorSpace===NoColorSpace||or===ir?s.NONE:s.BROWSER_DEFAULT_WEBGL;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,rn.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rn.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,rn.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,nr);const Ar=rn.isCompressedTexture||rn.image[0].isCompressedTexture,ur=rn.image[0]&&rn.image[0].isDataTexture,Fr=[];for(let ar=0;ar<6;ar++)!Ar&&!ur?Fr[ar]=pt(rn.image[ar],!0,nt.maxCubemapSize):Fr[ar]=ur?rn.image[ar].image:rn.image[ar],Fr[ar]=un(rn,Fr[ar]);const $r=Fr[0],Sr=rt.convert(rn.format,rn.colorSpace),Ur=rt.convert(rn.type),Xr=yt(rn.internalFormat,Sr,Ur,rn.colorSpace),Wr=rn.isVideoTexture!==!0,Jr=Mn.__version===void 0||xn===!0,An=wn.dataReady;let Br=Ft(rn,$r);Wt(s.TEXTURE_CUBE_MAP,rn);let er;if(Ar){Wr&&Jr&&et.texStorage2D(s.TEXTURE_CUBE_MAP,Br,Xr,$r.width,$r.height);for(let ar=0;ar<6;ar++){er=Fr[ar].mipmaps;for(let fr=0;fr<er.length;fr++){const Or=er[fr];rn.format!==RGBAFormat?Sr!==null?Wr?An&&et.compressedTexSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr,0,0,Or.width,Or.height,Sr,Or.data):et.compressedTexImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr,Xr,Or.width,Or.height,0,Or.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Wr?An&&et.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr,0,0,Or.width,Or.height,Sr,Ur,Or.data):et.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr,Xr,Or.width,Or.height,0,Sr,Ur,Or.data)}}}else{if(er=rn.mipmaps,Wr&&Jr){er.length>0&&Br++;const ar=bn(Fr[0]);et.texStorage2D(s.TEXTURE_CUBE_MAP,Br,Xr,ar.width,ar.height)}for(let ar=0;ar<6;ar++)if(ur){Wr?An&&et.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,0,0,0,Fr[ar].width,Fr[ar].height,Sr,Ur,Fr[ar].data):et.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,0,Xr,Fr[ar].width,Fr[ar].height,0,Sr,Ur,Fr[ar].data);for(let fr=0;fr<er.length;fr++){const no=er[fr].image[ar].image;Wr?An&&et.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr+1,0,0,no.width,no.height,Sr,Ur,no.data):et.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr+1,Xr,no.width,no.height,0,Sr,Ur,no.data)}}else{Wr?An&&et.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,0,0,0,Sr,Ur,Fr[ar]):et.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,0,Xr,Sr,Ur,Fr[ar]);for(let fr=0;fr<er.length;fr++){const Or=er[fr];Wr?An&&et.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr+1,0,0,Sr,Ur,Or.image[ar]):et.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+ar,fr+1,Xr,Sr,Ur,Or.image[ar])}}}gt(rn)&&ft(s.TEXTURE_CUBE_MAP),Mn.__version=wn.version,rn.onUpdate&&rn.onUpdate(rn)}an.__version=rn.version}function Xt(an,rn,mn,xn,wn,Mn){const or=rt.convert(mn.format,mn.colorSpace),ir=rt.convert(mn.type),nr=yt(mn.internalFormat,or,ir,mn.colorSpace);if(!tt.get(rn).__hasExternalTextures){const ur=Math.max(1,rn.width>>Mn),Fr=Math.max(1,rn.height>>Mn);wn===s.TEXTURE_3D||wn===s.TEXTURE_2D_ARRAY?et.texImage3D(wn,Mn,nr,ur,Fr,rn.depth,0,or,ir,null):et.texImage2D(wn,Mn,nr,ur,Fr,0,or,ir,null)}et.bindFramebuffer(s.FRAMEBUFFER,an),Fn(rn)?ot.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,xn,wn,tt.get(mn).__webglTexture,0,dn(rn)):(wn===s.TEXTURE_2D||wn>=s.TEXTURE_CUBE_MAP_POSITIVE_X&&wn<=s.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&s.framebufferTexture2D(s.FRAMEBUFFER,xn,wn,tt.get(mn).__webglTexture,Mn),et.bindFramebuffer(s.FRAMEBUFFER,null)}function Lt(an,rn,mn){if(s.bindRenderbuffer(s.RENDERBUFFER,an),rn.depthBuffer){const xn=rn.depthTexture,wn=xn&&xn.isDepthTexture?xn.type:null,Mn=mt(rn.stencilBuffer,wn),or=rn.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,ir=dn(rn);Fn(rn)?ot.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,ir,Mn,rn.width,rn.height):mn?s.renderbufferStorageMultisample(s.RENDERBUFFER,ir,Mn,rn.width,rn.height):s.renderbufferStorage(s.RENDERBUFFER,Mn,rn.width,rn.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,or,s.RENDERBUFFER,an)}else{const xn=rn.textures;for(let wn=0;wn<xn.length;wn++){const Mn=xn[wn],or=rt.convert(Mn.format,Mn.colorSpace),ir=rt.convert(Mn.type),nr=yt(Mn.internalFormat,or,ir,Mn.colorSpace),Ar=dn(rn);mn&&Fn(rn)===!1?s.renderbufferStorageMultisample(s.RENDERBUFFER,Ar,nr,rn.width,rn.height):Fn(rn)?ot.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,Ar,nr,rn.width,rn.height):s.renderbufferStorage(s.RENDERBUFFER,nr,rn.width,rn.height)}}s.bindRenderbuffer(s.RENDERBUFFER,null)}function Pt(an,rn){if(rn&&rn.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(et.bindFramebuffer(s.FRAMEBUFFER,an),!(rn.depthTexture&&rn.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!tt.get(rn.depthTexture).__webglTexture||rn.depthTexture.image.width!==rn.width||rn.depthTexture.image.height!==rn.height)&&(rn.depthTexture.image.width=rn.width,rn.depthTexture.image.height=rn.height,rn.depthTexture.needsUpdate=!0),Bt(rn.depthTexture,0);const xn=tt.get(rn.depthTexture).__webglTexture,wn=dn(rn);if(rn.depthTexture.format===DepthFormat)Fn(rn)?ot.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,xn,0,wn):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,xn,0);else if(rn.depthTexture.format===DepthStencilFormat)Fn(rn)?ot.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,xn,0,wn):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,xn,0);else throw new Error("Unknown depthTexture format")}function kt(an){const rn=tt.get(an),mn=an.isWebGLCubeRenderTarget===!0;if(an.depthTexture&&!rn.__autoAllocateDepthBuffer){if(mn)throw new Error("target.depthTexture not supported in Cube render targets");Pt(rn.__webglFramebuffer,an)}else if(mn){rn.__webglDepthbuffer=[];for(let xn=0;xn<6;xn++)et.bindFramebuffer(s.FRAMEBUFFER,rn.__webglFramebuffer[xn]),rn.__webglDepthbuffer[xn]=s.createRenderbuffer(),Lt(rn.__webglDepthbuffer[xn],an,!1)}else et.bindFramebuffer(s.FRAMEBUFFER,rn.__webglFramebuffer),rn.__webglDepthbuffer=s.createRenderbuffer(),Lt(rn.__webglDepthbuffer,an,!1);et.bindFramebuffer(s.FRAMEBUFFER,null)}function zt(an,rn,mn){const xn=tt.get(an);rn!==void 0&&Xt(xn.__webglFramebuffer,an,an.texture,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,0),mn!==void 0&&kt(an)}function tn(an){const rn=an.texture,mn=tt.get(an),xn=tt.get(rn);an.addEventListener("dispose",Et);const wn=an.textures,Mn=an.isWebGLCubeRenderTarget===!0,or=wn.length>1;if(or||(xn.__webglTexture===void 0&&(xn.__webglTexture=s.createTexture()),xn.__version=rn.version,it.memory.textures++),Mn){mn.__webglFramebuffer=[];for(let ir=0;ir<6;ir++)if(rn.mipmaps&&rn.mipmaps.length>0){mn.__webglFramebuffer[ir]=[];for(let nr=0;nr<rn.mipmaps.length;nr++)mn.__webglFramebuffer[ir][nr]=s.createFramebuffer()}else mn.__webglFramebuffer[ir]=s.createFramebuffer()}else{if(rn.mipmaps&&rn.mipmaps.length>0){mn.__webglFramebuffer=[];for(let ir=0;ir<rn.mipmaps.length;ir++)mn.__webglFramebuffer[ir]=s.createFramebuffer()}else mn.__webglFramebuffer=s.createFramebuffer();if(or)for(let ir=0,nr=wn.length;ir<nr;ir++){const Ar=tt.get(wn[ir]);Ar.__webglTexture===void 0&&(Ar.__webglTexture=s.createTexture(),it.memory.textures++)}if(an.samples>0&&Fn(an)===!1){mn.__webglMultisampledFramebuffer=s.createFramebuffer(),mn.__webglColorRenderbuffer=[],et.bindFramebuffer(s.FRAMEBUFFER,mn.__webglMultisampledFramebuffer);for(let ir=0;ir<wn.length;ir++){const nr=wn[ir];mn.__webglColorRenderbuffer[ir]=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,mn.__webglColorRenderbuffer[ir]);const Ar=rt.convert(nr.format,nr.colorSpace),ur=rt.convert(nr.type),Fr=yt(nr.internalFormat,Ar,ur,nr.colorSpace,an.isXRRenderTarget===!0),$r=dn(an);s.renderbufferStorageMultisample(s.RENDERBUFFER,$r,Fr,an.width,an.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+ir,s.RENDERBUFFER,mn.__webglColorRenderbuffer[ir])}s.bindRenderbuffer(s.RENDERBUFFER,null),an.depthBuffer&&(mn.__webglDepthRenderbuffer=s.createRenderbuffer(),Lt(mn.__webglDepthRenderbuffer,an,!0)),et.bindFramebuffer(s.FRAMEBUFFER,null)}}if(Mn){et.bindTexture(s.TEXTURE_CUBE_MAP,xn.__webglTexture),Wt(s.TEXTURE_CUBE_MAP,rn);for(let ir=0;ir<6;ir++)if(rn.mipmaps&&rn.mipmaps.length>0)for(let nr=0;nr<rn.mipmaps.length;nr++)Xt(mn.__webglFramebuffer[ir][nr],an,rn,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+ir,nr);else Xt(mn.__webglFramebuffer[ir],an,rn,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+ir,0);gt(rn)&&ft(s.TEXTURE_CUBE_MAP),et.unbindTexture()}else if(or){for(let ir=0,nr=wn.length;ir<nr;ir++){const Ar=wn[ir],ur=tt.get(Ar);et.bindTexture(s.TEXTURE_2D,ur.__webglTexture),Wt(s.TEXTURE_2D,Ar),Xt(mn.__webglFramebuffer,an,Ar,s.COLOR_ATTACHMENT0+ir,s.TEXTURE_2D,0),gt(Ar)&&ft(s.TEXTURE_2D)}et.unbindTexture()}else{let ir=s.TEXTURE_2D;if((an.isWebGL3DRenderTarget||an.isWebGLArrayRenderTarget)&&(ir=an.isWebGL3DRenderTarget?s.TEXTURE_3D:s.TEXTURE_2D_ARRAY),et.bindTexture(ir,xn.__webglTexture),Wt(ir,rn),rn.mipmaps&&rn.mipmaps.length>0)for(let nr=0;nr<rn.mipmaps.length;nr++)Xt(mn.__webglFramebuffer[nr],an,rn,s.COLOR_ATTACHMENT0,ir,nr);else Xt(mn.__webglFramebuffer,an,rn,s.COLOR_ATTACHMENT0,ir,0);gt(rn)&&ft(ir),et.unbindTexture()}an.depthBuffer&&kt(an)}function Gt(an){const rn=an.textures;for(let mn=0,xn=rn.length;mn<xn;mn++){const wn=rn[mn];if(gt(wn)){const Mn=an.isWebGLCubeRenderTarget?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,or=tt.get(wn).__webglTexture;et.bindTexture(Mn,or),ft(Mn),et.unbindTexture()}}}const en=[],cn=[];function Zt(an){if(an.samples>0){if(Fn(an)===!1){const rn=an.textures,mn=an.width,xn=an.height;let wn=s.COLOR_BUFFER_BIT;const Mn=an.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,or=tt.get(an),ir=rn.length>1;if(ir)for(let nr=0;nr<rn.length;nr++)et.bindFramebuffer(s.FRAMEBUFFER,or.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+nr,s.RENDERBUFFER,null),et.bindFramebuffer(s.FRAMEBUFFER,or.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+nr,s.TEXTURE_2D,null,0);et.bindFramebuffer(s.READ_FRAMEBUFFER,or.__webglMultisampledFramebuffer),et.bindFramebuffer(s.DRAW_FRAMEBUFFER,or.__webglFramebuffer);for(let nr=0;nr<rn.length;nr++){if(an.resolveDepthBuffer&&(an.depthBuffer&&(wn|=s.DEPTH_BUFFER_BIT),an.stencilBuffer&&an.resolveStencilBuffer&&(wn|=s.STENCIL_BUFFER_BIT)),ir){s.framebufferRenderbuffer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,or.__webglColorRenderbuffer[nr]);const Ar=tt.get(rn[nr]).__webglTexture;s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Ar,0)}s.blitFramebuffer(0,0,mn,xn,0,0,mn,xn,wn,s.NEAREST),st===!0&&(en.length=0,cn.length=0,en.push(s.COLOR_ATTACHMENT0+nr),an.depthBuffer&&an.resolveDepthBuffer===!1&&(en.push(Mn),cn.push(Mn),s.invalidateFramebuffer(s.DRAW_FRAMEBUFFER,cn)),s.invalidateFramebuffer(s.READ_FRAMEBUFFER,en))}if(et.bindFramebuffer(s.READ_FRAMEBUFFER,null),et.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),ir)for(let nr=0;nr<rn.length;nr++){et.bindFramebuffer(s.FRAMEBUFFER,or.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+nr,s.RENDERBUFFER,or.__webglColorRenderbuffer[nr]);const Ar=tt.get(rn[nr]).__webglTexture;et.bindFramebuffer(s.FRAMEBUFFER,or.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+nr,s.TEXTURE_2D,Ar,0)}et.bindFramebuffer(s.DRAW_FRAMEBUFFER,or.__webglMultisampledFramebuffer)}else if(an.depthBuffer&&an.resolveDepthBuffer===!1&&st){const rn=an.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT;s.invalidateFramebuffer(s.DRAW_FRAMEBUFFER,[rn])}}}function dn(an){return Math.min(nt.maxSamples,an.samples)}function Fn(an){const rn=tt.get(an);return an.samples>0&&o.has("WEBGL_multisampled_render_to_texture")===!0&&rn.__useRenderToTexture!==!1}function pn(an){const rn=it.render.frame;lt.get(an)!==rn&&(lt.set(an,rn),an.update())}function un(an,rn){const mn=an.colorSpace,xn=an.format,wn=an.type;return an.isCompressedTexture===!0||an.isVideoTexture===!0||mn!==LinearSRGBColorSpace$1&&mn!==NoColorSpace&&(ColorManagement.getTransfer(mn)===SRGBTransfer?(xn!==RGBAFormat||wn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",mn)),rn}function bn(an){return typeof HTMLImageElement<"u"&&an instanceof HTMLImageElement?(at.width=an.naturalWidth||an.width,at.height=an.naturalHeight||an.height):typeof VideoFrame<"u"&&an instanceof VideoFrame?(at.width=an.displayWidth,at.height=an.displayHeight):(at.width=an.width,at.height=an.height),at}this.allocateTextureUnit=bt,this.resetTextureUnits=Tt,this.setTexture2D=Bt,this.setTexture2DArray=Ct,this.setTexture3D=Mt,this.setTextureCube=Nt,this.rebindTextures=zt,this.setupRenderTarget=tn,this.updateRenderTargetMipmap=Gt,this.updateMultisampleRenderTarget=Zt,this.setupDepthRenderbuffer=kt,this.setupFrameBufferTexture=Xt,this.useMultisampledRTT=Fn}function WebGLUtils(s,o){function et(tt,nt=NoColorSpace){let rt;const it=ColorManagement.getTransfer(nt);if(tt===UnsignedByteType)return s.UNSIGNED_BYTE;if(tt===UnsignedShort4444Type)return s.UNSIGNED_SHORT_4_4_4_4;if(tt===UnsignedShort5551Type)return s.UNSIGNED_SHORT_5_5_5_1;if(tt===UnsignedInt5999Type)return s.UNSIGNED_INT_5_9_9_9_REV;if(tt===ByteType)return s.BYTE;if(tt===ShortType)return s.SHORT;if(tt===UnsignedShortType)return s.UNSIGNED_SHORT;if(tt===IntType)return s.INT;if(tt===UnsignedIntType)return s.UNSIGNED_INT;if(tt===FloatType)return s.FLOAT;if(tt===HalfFloatType)return s.HALF_FLOAT;if(tt===AlphaFormat)return s.ALPHA;if(tt===RGBFormat)return s.RGB;if(tt===RGBAFormat)return s.RGBA;if(tt===LuminanceFormat)return s.LUMINANCE;if(tt===LuminanceAlphaFormat)return s.LUMINANCE_ALPHA;if(tt===DepthFormat)return s.DEPTH_COMPONENT;if(tt===DepthStencilFormat)return s.DEPTH_STENCIL;if(tt===RedFormat)return s.RED;if(tt===RedIntegerFormat)return s.RED_INTEGER;if(tt===RGFormat)return s.RG;if(tt===RGIntegerFormat)return s.RG_INTEGER;if(tt===RGBAIntegerFormat)return s.RGBA_INTEGER;if(tt===RGB_S3TC_DXT1_Format||tt===RGBA_S3TC_DXT1_Format||tt===RGBA_S3TC_DXT3_Format||tt===RGBA_S3TC_DXT5_Format)if(it===SRGBTransfer)if(rt=o.get("WEBGL_compressed_texture_s3tc_srgb"),rt!==null){if(tt===RGB_S3TC_DXT1_Format)return rt.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(tt===RGBA_S3TC_DXT1_Format)return rt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(tt===RGBA_S3TC_DXT3_Format)return rt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(tt===RGBA_S3TC_DXT5_Format)return rt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(rt=o.get("WEBGL_compressed_texture_s3tc"),rt!==null){if(tt===RGB_S3TC_DXT1_Format)return rt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(tt===RGBA_S3TC_DXT1_Format)return rt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(tt===RGBA_S3TC_DXT3_Format)return rt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(tt===RGBA_S3TC_DXT5_Format)return rt.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(tt===RGB_PVRTC_4BPPV1_Format||tt===RGB_PVRTC_2BPPV1_Format||tt===RGBA_PVRTC_4BPPV1_Format||tt===RGBA_PVRTC_2BPPV1_Format)if(rt=o.get("WEBGL_compressed_texture_pvrtc"),rt!==null){if(tt===RGB_PVRTC_4BPPV1_Format)return rt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(tt===RGB_PVRTC_2BPPV1_Format)return rt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(tt===RGBA_PVRTC_4BPPV1_Format)return rt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(tt===RGBA_PVRTC_2BPPV1_Format)return rt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(tt===RGB_ETC1_Format||tt===RGB_ETC2_Format||tt===RGBA_ETC2_EAC_Format)if(rt=o.get("WEBGL_compressed_texture_etc"),rt!==null){if(tt===RGB_ETC1_Format||tt===RGB_ETC2_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ETC2:rt.COMPRESSED_RGB8_ETC2;if(tt===RGBA_ETC2_EAC_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:rt.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(tt===RGBA_ASTC_4x4_Format||tt===RGBA_ASTC_5x4_Format||tt===RGBA_ASTC_5x5_Format||tt===RGBA_ASTC_6x5_Format||tt===RGBA_ASTC_6x6_Format||tt===RGBA_ASTC_8x5_Format||tt===RGBA_ASTC_8x6_Format||tt===RGBA_ASTC_8x8_Format||tt===RGBA_ASTC_10x5_Format||tt===RGBA_ASTC_10x6_Format||tt===RGBA_ASTC_10x8_Format||tt===RGBA_ASTC_10x10_Format||tt===RGBA_ASTC_12x10_Format||tt===RGBA_ASTC_12x12_Format)if(rt=o.get("WEBGL_compressed_texture_astc"),rt!==null){if(tt===RGBA_ASTC_4x4_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:rt.COMPRESSED_RGBA_ASTC_4x4_KHR;if(tt===RGBA_ASTC_5x4_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:rt.COMPRESSED_RGBA_ASTC_5x4_KHR;if(tt===RGBA_ASTC_5x5_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:rt.COMPRESSED_RGBA_ASTC_5x5_KHR;if(tt===RGBA_ASTC_6x5_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:rt.COMPRESSED_RGBA_ASTC_6x5_KHR;if(tt===RGBA_ASTC_6x6_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:rt.COMPRESSED_RGBA_ASTC_6x6_KHR;if(tt===RGBA_ASTC_8x5_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:rt.COMPRESSED_RGBA_ASTC_8x5_KHR;if(tt===RGBA_ASTC_8x6_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:rt.COMPRESSED_RGBA_ASTC_8x6_KHR;if(tt===RGBA_ASTC_8x8_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:rt.COMPRESSED_RGBA_ASTC_8x8_KHR;if(tt===RGBA_ASTC_10x5_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:rt.COMPRESSED_RGBA_ASTC_10x5_KHR;if(tt===RGBA_ASTC_10x6_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:rt.COMPRESSED_RGBA_ASTC_10x6_KHR;if(tt===RGBA_ASTC_10x8_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:rt.COMPRESSED_RGBA_ASTC_10x8_KHR;if(tt===RGBA_ASTC_10x10_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:rt.COMPRESSED_RGBA_ASTC_10x10_KHR;if(tt===RGBA_ASTC_12x10_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:rt.COMPRESSED_RGBA_ASTC_12x10_KHR;if(tt===RGBA_ASTC_12x12_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:rt.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(tt===RGBA_BPTC_Format||tt===RGB_BPTC_SIGNED_Format||tt===RGB_BPTC_UNSIGNED_Format)if(rt=o.get("EXT_texture_compression_bptc"),rt!==null){if(tt===RGBA_BPTC_Format)return it===SRGBTransfer?rt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:rt.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(tt===RGB_BPTC_SIGNED_Format)return rt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(tt===RGB_BPTC_UNSIGNED_Format)return rt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(tt===RED_RGTC1_Format||tt===SIGNED_RED_RGTC1_Format||tt===RED_GREEN_RGTC2_Format||tt===SIGNED_RED_GREEN_RGTC2_Format)if(rt=o.get("EXT_texture_compression_rgtc"),rt!==null){if(tt===RGBA_BPTC_Format)return rt.COMPRESSED_RED_RGTC1_EXT;if(tt===SIGNED_RED_RGTC1_Format)return rt.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(tt===RED_GREEN_RGTC2_Format)return rt.COMPRESSED_RED_GREEN_RGTC2_EXT;if(tt===SIGNED_RED_GREEN_RGTC2_Format)return rt.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return tt===UnsignedInt248Type?s.UNSIGNED_INT_24_8:s[tt]!==void 0?s[tt]:null}return{convert:et}}class ArrayCamera extends PerspectiveCamera$1{constructor(o=[]){super(),this.isArrayCamera=!0,this.cameras=o}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(o){return this._targetRay!==null&&this._targetRay.dispatchEvent(o),this._grip!==null&&this._grip.dispatchEvent(o),this._hand!==null&&this._hand.dispatchEvent(o),this}connect(o){if(o&&o.hand){const et=this._hand;if(et)for(const tt of o.hand.values())this._getHandJoint(et,tt)}return this.dispatchEvent({type:"connected",data:o}),this}disconnect(o){return this.dispatchEvent({type:"disconnected",data:o}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(o,et,tt){let nt=null,rt=null,it=null;const ot=this._targetRay,st=this._grip,at=this._hand;if(o&&et.session.visibilityState!=="visible-blurred"){if(at&&o.hand){it=!0;for(const pt of o.hand.values()){const gt=et.getJointPose(pt,tt),ft=this._getHandJoint(at,pt);gt!==null&&(ft.matrix.fromArray(gt.transform.matrix),ft.matrix.decompose(ft.position,ft.rotation,ft.scale),ft.matrixWorldNeedsUpdate=!0,ft.jointRadius=gt.radius),ft.visible=gt!==null}const lt=at.joints["index-finger-tip"],ct=at.joints["thumb-tip"],ut=lt.position.distanceTo(ct.position),dt=.02,ht=.005;at.inputState.pinching&&ut>dt+ht?(at.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:o.handedness,target:this})):!at.inputState.pinching&&ut<=dt-ht&&(at.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:o.handedness,target:this}))}else st!==null&&o.gripSpace&&(rt=et.getPose(o.gripSpace,tt),rt!==null&&(st.matrix.fromArray(rt.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),st.matrixWorldNeedsUpdate=!0,rt.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(rt.linearVelocity)):st.hasLinearVelocity=!1,rt.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(rt.angularVelocity)):st.hasAngularVelocity=!1));ot!==null&&(nt=et.getPose(o.targetRaySpace,tt),nt===null&&rt!==null&&(nt=rt),nt!==null&&(ot.matrix.fromArray(nt.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),ot.matrixWorldNeedsUpdate=!0,nt.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(nt.linearVelocity)):ot.hasLinearVelocity=!1,nt.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(nt.angularVelocity)):ot.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return ot!==null&&(ot.visible=nt!==null),st!==null&&(st.visible=rt!==null),at!==null&&(at.visible=it!==null),this}_getHandJoint(o,et){if(o.joints[et.jointName]===void 0){const tt=new Group;tt.matrixAutoUpdate=!1,tt.visible=!1,o.joints[et.jointName]=tt,o.add(tt)}return o.joints[et.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(o,et,tt){if(this.texture===null){const nt=new Texture,rt=o.properties.get(nt);rt.__webglTexture=et.texture,(et.depthNear!=tt.depthNear||et.depthFar!=tt.depthFar)&&(this.depthNear=et.depthNear,this.depthFar=et.depthFar),this.texture=nt}}getMesh(o){if(this.texture!==null&&this.mesh===null){const et=o.cameras[0].viewport,tt=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:et.z},depthHeight:{value:et.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),tt)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class WebXRManager extends EventDispatcher$1{constructor(o,et){super();const tt=this;let nt=null,rt=1,it=null,ot="local-floor",st=1,at=null,lt=null,ct=null,ut=null,dt=null,ht=null;const pt=new WebXRDepthSensing,gt=et.getContextAttributes();let ft=null,yt=null;const mt=[],Ft=[],vt=new Vector2;let Et=null;const wt=new PerspectiveCamera$1;wt.layers.enable(1),wt.viewport=new Vector4;const It=new PerspectiveCamera$1;It.layers.enable(2),It.viewport=new Vector4;const St=[wt,It],Rt=new ArrayCamera;Rt.layers.enable(1),Rt.layers.enable(2);let Tt=null,bt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ht){let Xt=mt[Ht];return Xt===void 0&&(Xt=new WebXRController,mt[Ht]=Xt),Xt.getTargetRaySpace()},this.getControllerGrip=function(Ht){let Xt=mt[Ht];return Xt===void 0&&(Xt=new WebXRController,mt[Ht]=Xt),Xt.getGripSpace()},this.getHand=function(Ht){let Xt=mt[Ht];return Xt===void 0&&(Xt=new WebXRController,mt[Ht]=Xt),Xt.getHandSpace()};function xt(Ht){const Xt=Ft.indexOf(Ht.inputSource);if(Xt===-1)return;const Lt=mt[Xt];Lt!==void 0&&(Lt.update(Ht.inputSource,Ht.frame,at||it),Lt.dispatchEvent({type:Ht.type,data:Ht.inputSource}))}function Bt(){nt.removeEventListener("select",xt),nt.removeEventListener("selectstart",xt),nt.removeEventListener("selectend",xt),nt.removeEventListener("squeeze",xt),nt.removeEventListener("squeezestart",xt),nt.removeEventListener("squeezeend",xt),nt.removeEventListener("end",Bt),nt.removeEventListener("inputsourceschange",Ct);for(let Ht=0;Ht<mt.length;Ht++){const Xt=Ft[Ht];Xt!==null&&(Ft[Ht]=null,mt[Ht].disconnect(Xt))}Tt=null,bt=null,pt.reset(),o.setRenderTarget(ft),dt=null,ut=null,ct=null,nt=null,yt=null,qt.stop(),tt.isPresenting=!1,o.setPixelRatio(Et),o.setSize(vt.width,vt.height,!1),tt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ht){rt=Ht,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ht){ot=Ht,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return at||it},this.setReferenceSpace=function(Ht){at=Ht},this.getBaseLayer=function(){return ut!==null?ut:dt},this.getBinding=function(){return ct},this.getFrame=function(){return ht},this.getSession=function(){return nt},this.setSession=async function(Ht){if(nt=Ht,nt!==null){if(ft=o.getRenderTarget(),nt.addEventListener("select",xt),nt.addEventListener("selectstart",xt),nt.addEventListener("selectend",xt),nt.addEventListener("squeeze",xt),nt.addEventListener("squeezestart",xt),nt.addEventListener("squeezeend",xt),nt.addEventListener("end",Bt),nt.addEventListener("inputsourceschange",Ct),gt.xrCompatible!==!0&&await et.makeXRCompatible(),Et=o.getPixelRatio(),o.getSize(vt),nt.renderState.layers===void 0){const Xt={antialias:gt.antialias,alpha:!0,depth:gt.depth,stencil:gt.stencil,framebufferScaleFactor:rt};dt=new XRWebGLLayer(nt,et,Xt),nt.updateRenderState({baseLayer:dt}),o.setPixelRatio(1),o.setSize(dt.framebufferWidth,dt.framebufferHeight,!1),yt=new WebGLRenderTarget(dt.framebufferWidth,dt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:o.outputColorSpace,stencilBuffer:gt.stencil})}else{let Xt=null,Lt=null,Pt=null;gt.depth&&(Pt=gt.stencil?et.DEPTH24_STENCIL8:et.DEPTH_COMPONENT24,Xt=gt.stencil?DepthStencilFormat:DepthFormat,Lt=gt.stencil?UnsignedInt248Type:UnsignedIntType);const kt={colorFormat:et.RGBA8,depthFormat:Pt,scaleFactor:rt};ct=new XRWebGLBinding(nt,et),ut=ct.createProjectionLayer(kt),nt.updateRenderState({layers:[ut]}),o.setPixelRatio(1),o.setSize(ut.textureWidth,ut.textureHeight,!1),yt=new WebGLRenderTarget(ut.textureWidth,ut.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ut.textureWidth,ut.textureHeight,Lt,void 0,void 0,void 0,void 0,void 0,void 0,Xt),stencilBuffer:gt.stencil,colorSpace:o.outputColorSpace,samples:gt.antialias?4:0,resolveDepthBuffer:ut.ignoreDepthValues===!1})}yt.isXRRenderTarget=!0,this.setFoveation(st),at=null,it=await nt.requestReferenceSpace(ot),qt.setContext(nt),qt.start(),tt.isPresenting=!0,tt.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(nt!==null)return nt.environmentBlendMode};function Ct(Ht){for(let Xt=0;Xt<Ht.removed.length;Xt++){const Lt=Ht.removed[Xt],Pt=Ft.indexOf(Lt);Pt>=0&&(Ft[Pt]=null,mt[Pt].disconnect(Lt))}for(let Xt=0;Xt<Ht.added.length;Xt++){const Lt=Ht.added[Xt];let Pt=Ft.indexOf(Lt);if(Pt===-1){for(let zt=0;zt<mt.length;zt++)if(zt>=Ft.length){Ft.push(Lt),Pt=zt;break}else if(Ft[zt]===null){Ft[zt]=Lt,Pt=zt;break}if(Pt===-1)break}const kt=mt[Pt];kt&&kt.connect(Lt)}}const Mt=new Vector3,Nt=new Vector3;function At(Ht,Xt,Lt){Mt.setFromMatrixPosition(Xt.matrixWorld),Nt.setFromMatrixPosition(Lt.matrixWorld);const Pt=Mt.distanceTo(Nt),kt=Xt.projectionMatrix.elements,zt=Lt.projectionMatrix.elements,tn=kt[14]/(kt[10]-1),Gt=kt[14]/(kt[10]+1),en=(kt[9]+1)/kt[5],cn=(kt[9]-1)/kt[5],Zt=(kt[8]-1)/kt[0],dn=(zt[8]+1)/zt[0],Fn=tn*Zt,pn=tn*dn,un=Pt/(-Zt+dn),bn=un*-Zt;Xt.matrixWorld.decompose(Ht.position,Ht.quaternion,Ht.scale),Ht.translateX(bn),Ht.translateZ(un),Ht.matrixWorld.compose(Ht.position,Ht.quaternion,Ht.scale),Ht.matrixWorldInverse.copy(Ht.matrixWorld).invert();const an=tn+un,rn=Gt+un,mn=Fn-bn,xn=pn+(Pt-bn),wn=en*Gt/rn*an,Mn=cn*Gt/rn*an;Ht.projectionMatrix.makePerspective(mn,xn,wn,Mn,an,rn),Ht.projectionMatrixInverse.copy(Ht.projectionMatrix).invert()}function Ot(Ht,Xt){Xt===null?Ht.matrixWorld.copy(Ht.matrix):Ht.matrixWorld.multiplyMatrices(Xt.matrixWorld,Ht.matrix),Ht.matrixWorldInverse.copy(Ht.matrixWorld).invert()}this.updateCamera=function(Ht){if(nt===null)return;pt.texture!==null&&(Ht.near=pt.depthNear,Ht.far=pt.depthFar),Rt.near=It.near=wt.near=Ht.near,Rt.far=It.far=wt.far=Ht.far,(Tt!==Rt.near||bt!==Rt.far)&&(nt.updateRenderState({depthNear:Rt.near,depthFar:Rt.far}),Tt=Rt.near,bt=Rt.far,wt.near=Tt,wt.far=bt,It.near=Tt,It.far=bt,wt.updateProjectionMatrix(),It.updateProjectionMatrix(),Ht.updateProjectionMatrix());const Xt=Ht.parent,Lt=Rt.cameras;Ot(Rt,Xt);for(let Pt=0;Pt<Lt.length;Pt++)Ot(Lt[Pt],Xt);Lt.length===2?At(Rt,wt,It):Rt.projectionMatrix.copy(wt.projectionMatrix),Vt(Ht,Rt,Xt)};function Vt(Ht,Xt,Lt){Lt===null?Ht.matrix.copy(Xt.matrixWorld):(Ht.matrix.copy(Lt.matrixWorld),Ht.matrix.invert(),Ht.matrix.multiply(Xt.matrixWorld)),Ht.matrix.decompose(Ht.position,Ht.quaternion,Ht.scale),Ht.updateMatrixWorld(!0),Ht.projectionMatrix.copy(Xt.projectionMatrix),Ht.projectionMatrixInverse.copy(Xt.projectionMatrixInverse),Ht.isPerspectiveCamera&&(Ht.fov=RAD2DEG*2*Math.atan(1/Ht.projectionMatrix.elements[5]),Ht.zoom=1)}this.getCamera=function(){return Rt},this.getFoveation=function(){if(!(ut===null&&dt===null))return st},this.setFoveation=function(Ht){st=Ht,ut!==null&&(ut.fixedFoveation=Ht),dt!==null&&dt.fixedFoveation!==void 0&&(dt.fixedFoveation=Ht)},this.hasDepthSensing=function(){return pt.texture!==null},this.getDepthSensingMesh=function(){return pt.getMesh(Rt)};let Wt=null;function Jt(Ht,Xt){if(lt=Xt.getViewerPose(at||it),ht=Xt,lt!==null){const Lt=lt.views;dt!==null&&(o.setRenderTargetFramebuffer(yt,dt.framebuffer),o.setRenderTarget(yt));let Pt=!1;Lt.length!==Rt.cameras.length&&(Rt.cameras.length=0,Pt=!0);for(let zt=0;zt<Lt.length;zt++){const tn=Lt[zt];let Gt=null;if(dt!==null)Gt=dt.getViewport(tn);else{const cn=ct.getViewSubImage(ut,tn);Gt=cn.viewport,zt===0&&(o.setRenderTargetTextures(yt,cn.colorTexture,ut.ignoreDepthValues?void 0:cn.depthStencilTexture),o.setRenderTarget(yt))}let en=St[zt];en===void 0&&(en=new PerspectiveCamera$1,en.layers.enable(zt),en.viewport=new Vector4,St[zt]=en),en.matrix.fromArray(tn.transform.matrix),en.matrix.decompose(en.position,en.quaternion,en.scale),en.projectionMatrix.fromArray(tn.projectionMatrix),en.projectionMatrixInverse.copy(en.projectionMatrix).invert(),en.viewport.set(Gt.x,Gt.y,Gt.width,Gt.height),zt===0&&(Rt.matrix.copy(en.matrix),Rt.matrix.decompose(Rt.position,Rt.quaternion,Rt.scale)),Pt===!0&&Rt.cameras.push(en)}const kt=nt.enabledFeatures;if(kt&&kt.includes("depth-sensing")){const zt=ct.getDepthInformation(Lt[0]);zt&&zt.isValid&&zt.texture&&pt.init(o,zt,nt.renderState)}}for(let Lt=0;Lt<mt.length;Lt++){const Pt=Ft[Lt],kt=mt[Lt];Pt!==null&&kt!==void 0&&kt.update(Pt,Xt,at||it)}Wt&&Wt(Ht,Xt),Xt.detectedPlanes&&tt.dispatchEvent({type:"planesdetected",data:Xt}),ht=null}const qt=new WebGLAnimation;qt.setAnimationLoop(Jt),this.setAnimationLoop=function(Ht){Wt=Ht},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(s,o){function et(gt,ft){gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ft.value.copy(gt.matrix)}function tt(gt,ft){ft.color.getRGB(gt.fogColor.value,getUnlitUniformColorSpace(s)),ft.isFog?(gt.fogNear.value=ft.near,gt.fogFar.value=ft.far):ft.isFogExp2&&(gt.fogDensity.value=ft.density)}function nt(gt,ft,yt,mt,Ft){ft.isMeshBasicMaterial||ft.isMeshLambertMaterial?rt(gt,ft):ft.isMeshToonMaterial?(rt(gt,ft),ct(gt,ft)):ft.isMeshPhongMaterial?(rt(gt,ft),lt(gt,ft)):ft.isMeshStandardMaterial?(rt(gt,ft),ut(gt,ft),ft.isMeshPhysicalMaterial&&dt(gt,ft,Ft)):ft.isMeshMatcapMaterial?(rt(gt,ft),ht(gt,ft)):ft.isMeshDepthMaterial?rt(gt,ft):ft.isMeshDistanceMaterial?(rt(gt,ft),pt(gt,ft)):ft.isMeshNormalMaterial?rt(gt,ft):ft.isLineBasicMaterial?(it(gt,ft),ft.isLineDashedMaterial&&ot(gt,ft)):ft.isPointsMaterial?st(gt,ft,yt,mt):ft.isSpriteMaterial?at(gt,ft):ft.isShadowMaterial?(gt.color.value.copy(ft.color),gt.opacity.value=ft.opacity):ft.isShaderMaterial&&(ft.uniformsNeedUpdate=!1)}function rt(gt,ft){gt.opacity.value=ft.opacity,ft.color&&gt.diffuse.value.copy(ft.color),ft.emissive&&gt.emissive.value.copy(ft.emissive).multiplyScalar(ft.emissiveIntensity),ft.map&&(gt.map.value=ft.map,et(ft.map,gt.mapTransform)),ft.alphaMap&&(gt.alphaMap.value=ft.alphaMap,et(ft.alphaMap,gt.alphaMapTransform)),ft.bumpMap&&(gt.bumpMap.value=ft.bumpMap,et(ft.bumpMap,gt.bumpMapTransform),gt.bumpScale.value=ft.bumpScale,ft.side===BackSide&&(gt.bumpScale.value*=-1)),ft.normalMap&&(gt.normalMap.value=ft.normalMap,et(ft.normalMap,gt.normalMapTransform),gt.normalScale.value.copy(ft.normalScale),ft.side===BackSide&&gt.normalScale.value.negate()),ft.displacementMap&&(gt.displacementMap.value=ft.displacementMap,et(ft.displacementMap,gt.displacementMapTransform),gt.displacementScale.value=ft.displacementScale,gt.displacementBias.value=ft.displacementBias),ft.emissiveMap&&(gt.emissiveMap.value=ft.emissiveMap,et(ft.emissiveMap,gt.emissiveMapTransform)),ft.specularMap&&(gt.specularMap.value=ft.specularMap,et(ft.specularMap,gt.specularMapTransform)),ft.alphaTest>0&&(gt.alphaTest.value=ft.alphaTest);const yt=o.get(ft),mt=yt.envMap,Ft=yt.envMapRotation;mt&&(gt.envMap.value=mt,_e1.copy(Ft),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,mt.isCubeTexture&&mt.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),gt.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),gt.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1,gt.reflectivity.value=ft.reflectivity,gt.ior.value=ft.ior,gt.refractionRatio.value=ft.refractionRatio),ft.lightMap&&(gt.lightMap.value=ft.lightMap,gt.lightMapIntensity.value=ft.lightMapIntensity,et(ft.lightMap,gt.lightMapTransform)),ft.aoMap&&(gt.aoMap.value=ft.aoMap,gt.aoMapIntensity.value=ft.aoMapIntensity,et(ft.aoMap,gt.aoMapTransform))}function it(gt,ft){gt.diffuse.value.copy(ft.color),gt.opacity.value=ft.opacity,ft.map&&(gt.map.value=ft.map,et(ft.map,gt.mapTransform))}function ot(gt,ft){gt.dashSize.value=ft.dashSize,gt.totalSize.value=ft.dashSize+ft.gapSize,gt.scale.value=ft.scale}function st(gt,ft,yt,mt){gt.diffuse.value.copy(ft.color),gt.opacity.value=ft.opacity,gt.size.value=ft.size*yt,gt.scale.value=mt*.5,ft.map&&(gt.map.value=ft.map,et(ft.map,gt.uvTransform)),ft.alphaMap&&(gt.alphaMap.value=ft.alphaMap,et(ft.alphaMap,gt.alphaMapTransform)),ft.alphaTest>0&&(gt.alphaTest.value=ft.alphaTest)}function at(gt,ft){gt.diffuse.value.copy(ft.color),gt.opacity.value=ft.opacity,gt.rotation.value=ft.rotation,ft.map&&(gt.map.value=ft.map,et(ft.map,gt.mapTransform)),ft.alphaMap&&(gt.alphaMap.value=ft.alphaMap,et(ft.alphaMap,gt.alphaMapTransform)),ft.alphaTest>0&&(gt.alphaTest.value=ft.alphaTest)}function lt(gt,ft){gt.specular.value.copy(ft.specular),gt.shininess.value=Math.max(ft.shininess,1e-4)}function ct(gt,ft){ft.gradientMap&&(gt.gradientMap.value=ft.gradientMap)}function ut(gt,ft){gt.metalness.value=ft.metalness,ft.metalnessMap&&(gt.metalnessMap.value=ft.metalnessMap,et(ft.metalnessMap,gt.metalnessMapTransform)),gt.roughness.value=ft.roughness,ft.roughnessMap&&(gt.roughnessMap.value=ft.roughnessMap,et(ft.roughnessMap,gt.roughnessMapTransform)),ft.envMap&&(gt.envMapIntensity.value=ft.envMapIntensity)}function dt(gt,ft,yt){gt.ior.value=ft.ior,ft.sheen>0&&(gt.sheenColor.value.copy(ft.sheenColor).multiplyScalar(ft.sheen),gt.sheenRoughness.value=ft.sheenRoughness,ft.sheenColorMap&&(gt.sheenColorMap.value=ft.sheenColorMap,et(ft.sheenColorMap,gt.sheenColorMapTransform)),ft.sheenRoughnessMap&&(gt.sheenRoughnessMap.value=ft.sheenRoughnessMap,et(ft.sheenRoughnessMap,gt.sheenRoughnessMapTransform))),ft.clearcoat>0&&(gt.clearcoat.value=ft.clearcoat,gt.clearcoatRoughness.value=ft.clearcoatRoughness,ft.clearcoatMap&&(gt.clearcoatMap.value=ft.clearcoatMap,et(ft.clearcoatMap,gt.clearcoatMapTransform)),ft.clearcoatRoughnessMap&&(gt.clearcoatRoughnessMap.value=ft.clearcoatRoughnessMap,et(ft.clearcoatRoughnessMap,gt.clearcoatRoughnessMapTransform)),ft.clearcoatNormalMap&&(gt.clearcoatNormalMap.value=ft.clearcoatNormalMap,et(ft.clearcoatNormalMap,gt.clearcoatNormalMapTransform),gt.clearcoatNormalScale.value.copy(ft.clearcoatNormalScale),ft.side===BackSide&&gt.clearcoatNormalScale.value.negate())),ft.dispersion>0&&(gt.dispersion.value=ft.dispersion),ft.iridescence>0&&(gt.iridescence.value=ft.iridescence,gt.iridescenceIOR.value=ft.iridescenceIOR,gt.iridescenceThicknessMinimum.value=ft.iridescenceThicknessRange[0],gt.iridescenceThicknessMaximum.value=ft.iridescenceThicknessRange[1],ft.iridescenceMap&&(gt.iridescenceMap.value=ft.iridescenceMap,et(ft.iridescenceMap,gt.iridescenceMapTransform)),ft.iridescenceThicknessMap&&(gt.iridescenceThicknessMap.value=ft.iridescenceThicknessMap,et(ft.iridescenceThicknessMap,gt.iridescenceThicknessMapTransform))),ft.transmission>0&&(gt.transmission.value=ft.transmission,gt.transmissionSamplerMap.value=yt.texture,gt.transmissionSamplerSize.value.set(yt.width,yt.height),ft.transmissionMap&&(gt.transmissionMap.value=ft.transmissionMap,et(ft.transmissionMap,gt.transmissionMapTransform)),gt.thickness.value=ft.thickness,ft.thicknessMap&&(gt.thicknessMap.value=ft.thicknessMap,et(ft.thicknessMap,gt.thicknessMapTransform)),gt.attenuationDistance.value=ft.attenuationDistance,gt.attenuationColor.value.copy(ft.attenuationColor)),ft.anisotropy>0&&(gt.anisotropyVector.value.set(ft.anisotropy*Math.cos(ft.anisotropyRotation),ft.anisotropy*Math.sin(ft.anisotropyRotation)),ft.anisotropyMap&&(gt.anisotropyMap.value=ft.anisotropyMap,et(ft.anisotropyMap,gt.anisotropyMapTransform))),gt.specularIntensity.value=ft.specularIntensity,gt.specularColor.value.copy(ft.specularColor),ft.specularColorMap&&(gt.specularColorMap.value=ft.specularColorMap,et(ft.specularColorMap,gt.specularColorMapTransform)),ft.specularIntensityMap&&(gt.specularIntensityMap.value=ft.specularIntensityMap,et(ft.specularIntensityMap,gt.specularIntensityMapTransform))}function ht(gt,ft){ft.matcap&&(gt.matcap.value=ft.matcap)}function pt(gt,ft){const yt=o.get(ft).light;gt.referencePosition.value.setFromMatrixPosition(yt.matrixWorld),gt.nearDistance.value=yt.shadow.camera.near,gt.farDistance.value=yt.shadow.camera.far}return{refreshFogUniforms:tt,refreshMaterialUniforms:nt}}function WebGLUniformsGroups(s,o,et,tt){let nt={},rt={},it=[];const ot=s.getParameter(s.MAX_UNIFORM_BUFFER_BINDINGS);function st(yt,mt){const Ft=mt.program;tt.uniformBlockBinding(yt,Ft)}function at(yt,mt){let Ft=nt[yt.id];Ft===void 0&&(ht(yt),Ft=lt(yt),nt[yt.id]=Ft,yt.addEventListener("dispose",gt));const vt=mt.program;tt.updateUBOMapping(yt,vt);const Et=o.render.frame;rt[yt.id]!==Et&&(ut(yt),rt[yt.id]=Et)}function lt(yt){const mt=ct();yt.__bindingPointIndex=mt;const Ft=s.createBuffer(),vt=yt.__size,Et=yt.usage;return s.bindBuffer(s.UNIFORM_BUFFER,Ft),s.bufferData(s.UNIFORM_BUFFER,vt,Et),s.bindBuffer(s.UNIFORM_BUFFER,null),s.bindBufferBase(s.UNIFORM_BUFFER,mt,Ft),Ft}function ct(){for(let yt=0;yt<ot;yt++)if(it.indexOf(yt)===-1)return it.push(yt),yt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ut(yt){const mt=nt[yt.id],Ft=yt.uniforms,vt=yt.__cache;s.bindBuffer(s.UNIFORM_BUFFER,mt);for(let Et=0,wt=Ft.length;Et<wt;Et++){const It=Array.isArray(Ft[Et])?Ft[Et]:[Ft[Et]];for(let St=0,Rt=It.length;St<Rt;St++){const Tt=It[St];if(dt(Tt,Et,St,vt)===!0){const bt=Tt.__offset,xt=Array.isArray(Tt.value)?Tt.value:[Tt.value];let Bt=0;for(let Ct=0;Ct<xt.length;Ct++){const Mt=xt[Ct],Nt=pt(Mt);typeof Mt=="number"||typeof Mt=="boolean"?(Tt.__data[0]=Mt,s.bufferSubData(s.UNIFORM_BUFFER,bt+Bt,Tt.__data)):Mt.isMatrix3?(Tt.__data[0]=Mt.elements[0],Tt.__data[1]=Mt.elements[1],Tt.__data[2]=Mt.elements[2],Tt.__data[3]=0,Tt.__data[4]=Mt.elements[3],Tt.__data[5]=Mt.elements[4],Tt.__data[6]=Mt.elements[5],Tt.__data[7]=0,Tt.__data[8]=Mt.elements[6],Tt.__data[9]=Mt.elements[7],Tt.__data[10]=Mt.elements[8],Tt.__data[11]=0):(Mt.toArray(Tt.__data,Bt),Bt+=Nt.storage/Float32Array.BYTES_PER_ELEMENT)}s.bufferSubData(s.UNIFORM_BUFFER,bt,Tt.__data)}}}s.bindBuffer(s.UNIFORM_BUFFER,null)}function dt(yt,mt,Ft,vt){const Et=yt.value,wt=mt+"_"+Ft;if(vt[wt]===void 0)return typeof Et=="number"||typeof Et=="boolean"?vt[wt]=Et:vt[wt]=Et.clone(),!0;{const It=vt[wt];if(typeof Et=="number"||typeof Et=="boolean"){if(It!==Et)return vt[wt]=Et,!0}else if(It.equals(Et)===!1)return It.copy(Et),!0}return!1}function ht(yt){const mt=yt.uniforms;let Ft=0;const vt=16;for(let wt=0,It=mt.length;wt<It;wt++){const St=Array.isArray(mt[wt])?mt[wt]:[mt[wt]];for(let Rt=0,Tt=St.length;Rt<Tt;Rt++){const bt=St[Rt],xt=Array.isArray(bt.value)?bt.value:[bt.value];for(let Bt=0,Ct=xt.length;Bt<Ct;Bt++){const Mt=xt[Bt],Nt=pt(Mt),At=Ft%vt;At!==0&&vt-At<Nt.boundary&&(Ft+=vt-At),bt.__data=new Float32Array(Nt.storage/Float32Array.BYTES_PER_ELEMENT),bt.__offset=Ft,Ft+=Nt.storage}}}const Et=Ft%vt;return Et>0&&(Ft+=vt-Et),yt.__size=Ft,yt.__cache={},this}function pt(yt){const mt={boundary:0,storage:0};return typeof yt=="number"||typeof yt=="boolean"?(mt.boundary=4,mt.storage=4):yt.isVector2?(mt.boundary=8,mt.storage=8):yt.isVector3||yt.isColor?(mt.boundary=16,mt.storage=12):yt.isVector4?(mt.boundary=16,mt.storage=16):yt.isMatrix3?(mt.boundary=48,mt.storage=48):yt.isMatrix4?(mt.boundary=64,mt.storage=64):yt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",yt),mt}function gt(yt){const mt=yt.target;mt.removeEventListener("dispose",gt);const Ft=it.indexOf(mt.__bindingPointIndex);it.splice(Ft,1),s.deleteBuffer(nt[mt.id]),delete nt[mt.id],delete rt[mt.id]}function ft(){for(const yt in nt)s.deleteBuffer(nt[yt]);it=[],nt={},rt={}}return{bind:st,update:at,dispose:ft}}class WebGLRenderer{constructor(o={}){const{canvas:et=createCanvasElement(),context:tt=null,depth:nt=!0,stencil:rt=!1,alpha:it=!1,antialias:ot=!1,premultipliedAlpha:st=!0,preserveDrawingBuffer:at=!1,powerPreference:lt="default",failIfMajorPerformanceCaveat:ct=!1}=o;this.isWebGLRenderer=!0;let ut;if(tt!==null){if(typeof WebGLRenderingContext<"u"&&tt instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");ut=tt.getContextAttributes().alpha}else ut=it;const dt=new Uint32Array(4),ht=new Int32Array(4);let pt=null,gt=null;const ft=[],yt=[];this.domElement=et,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace$1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const mt=this;let Ft=!1,vt=0,Et=0,wt=null,It=-1,St=null;const Rt=new Vector4,Tt=new Vector4;let bt=null;const xt=new Color$1(0);let Bt=0,Ct=et.width,Mt=et.height,Nt=1,At=null,Ot=null;const Vt=new Vector4(0,0,Ct,Mt),Wt=new Vector4(0,0,Ct,Mt);let Jt=!1;const qt=new Frustum;let Ht=!1,Xt=!1;const Lt=new Matrix4,Pt=new Vector3,kt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let zt=!1;function tn(){return wt===null?Nt:1}let Gt=tt;function en(Un,Vn){return et.getContext(Un,Vn)}try{const Un={alpha:!0,depth:nt,stencil:rt,antialias:ot,premultipliedAlpha:st,preserveDrawingBuffer:at,powerPreference:lt,failIfMajorPerformanceCaveat:ct};if("setAttribute"in et&&et.setAttribute("data-engine",`three.js r${REVISION}`),et.addEventListener("webglcontextlost",Br,!1),et.addEventListener("webglcontextrestored",er,!1),et.addEventListener("webglcontextcreationerror",ar,!1),Gt===null){const Vn="webgl2";if(Gt=en(Vn,Un),Gt===null)throw en(Vn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Un){throw console.error("THREE.WebGLRenderer: "+Un.message),Un}let cn,Zt,dn,Fn,pn,un,bn,an,rn,mn,xn,wn,Mn,or,ir,nr,Ar,ur,Fr,$r,Sr,Ur,Xr,Wr;function Jr(){cn=new WebGLExtensions(Gt),cn.init(),Ur=new WebGLUtils(Gt,cn),Zt=new WebGLCapabilities(Gt,cn,o,Ur),dn=new WebGLState(Gt),Fn=new WebGLInfo(Gt),pn=new WebGLProperties,un=new WebGLTextures(Gt,cn,dn,pn,Zt,Ur,Fn),bn=new WebGLCubeMaps(mt),an=new WebGLCubeUVMaps(mt),rn=new WebGLAttributes(Gt),Xr=new WebGLBindingStates(Gt,rn),mn=new WebGLGeometries(Gt,rn,Fn,Xr),xn=new WebGLObjects(Gt,mn,rn,Fn),Fr=new WebGLMorphtargets(Gt,Zt,un),nr=new WebGLClipping(pn),wn=new WebGLPrograms(mt,bn,an,cn,Zt,Xr,nr),Mn=new WebGLMaterials(mt,pn),or=new WebGLRenderLists,ir=new WebGLRenderStates(cn),ur=new WebGLBackground(mt,bn,an,dn,xn,ut,st),Ar=new WebGLShadowMap(mt,xn,Zt),Wr=new WebGLUniformsGroups(Gt,Fn,Zt,dn),$r=new WebGLBufferRenderer(Gt,cn,Fn),Sr=new WebGLIndexedBufferRenderer(Gt,cn,Fn),Fn.programs=wn.programs,mt.capabilities=Zt,mt.extensions=cn,mt.properties=pn,mt.renderLists=or,mt.shadowMap=Ar,mt.state=dn,mt.info=Fn}Jr();const An=new WebXRManager(mt,Gt);this.xr=An,this.getContext=function(){return Gt},this.getContextAttributes=function(){return Gt.getContextAttributes()},this.forceContextLoss=function(){const Un=cn.get("WEBGL_lose_context");Un&&Un.loseContext()},this.forceContextRestore=function(){const Un=cn.get("WEBGL_lose_context");Un&&Un.restoreContext()},this.getPixelRatio=function(){return Nt},this.setPixelRatio=function(Un){Un!==void 0&&(Nt=Un,this.setSize(Ct,Mt,!1))},this.getSize=function(Un){return Un.set(Ct,Mt)},this.setSize=function(Un,Vn,jn=!0){if(An.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ct=Un,Mt=Vn,et.width=Math.floor(Un*Nt),et.height=Math.floor(Vn*Nt),jn===!0&&(et.style.width=Un+"px",et.style.height=Vn+"px"),this.setViewport(0,0,Un,Vn)},this.getDrawingBufferSize=function(Un){return Un.set(Ct*Nt,Mt*Nt).floor()},this.setDrawingBufferSize=function(Un,Vn,jn){Ct=Un,Mt=Vn,Nt=jn,et.width=Math.floor(Un*jn),et.height=Math.floor(Vn*jn),this.setViewport(0,0,Un,Vn)},this.getCurrentViewport=function(Un){return Un.copy(Rt)},this.getViewport=function(Un){return Un.copy(Vt)},this.setViewport=function(Un,Vn,jn,Zn){Un.isVector4?Vt.set(Un.x,Un.y,Un.z,Un.w):Vt.set(Un,Vn,jn,Zn),dn.viewport(Rt.copy(Vt).multiplyScalar(Nt).round())},this.getScissor=function(Un){return Un.copy(Wt)},this.setScissor=function(Un,Vn,jn,Zn){Un.isVector4?Wt.set(Un.x,Un.y,Un.z,Un.w):Wt.set(Un,Vn,jn,Zn),dn.scissor(Tt.copy(Wt).multiplyScalar(Nt).round())},this.getScissorTest=function(){return Jt},this.setScissorTest=function(Un){dn.setScissorTest(Jt=Un)},this.setOpaqueSort=function(Un){At=Un},this.setTransparentSort=function(Un){Ot=Un},this.getClearColor=function(Un){return Un.copy(ur.getClearColor())},this.setClearColor=function(){ur.setClearColor.apply(ur,arguments)},this.getClearAlpha=function(){return ur.getClearAlpha()},this.setClearAlpha=function(){ur.setClearAlpha.apply(ur,arguments)},this.clear=function(Un=!0,Vn=!0,jn=!0){let Zn=0;if(Un){let Ln=!1;if(wt!==null){const cr=wt.texture.format;Ln=cr===RGBAIntegerFormat||cr===RGIntegerFormat||cr===RedIntegerFormat}if(Ln){const cr=wt.texture.type,dr=cr===UnsignedByteType||cr===UnsignedIntType||cr===UnsignedShortType||cr===UnsignedInt248Type||cr===UnsignedShort4444Type||cr===UnsignedShort5551Type,pr=ur.getClearColor(),mr=ur.getClearAlpha(),Cr=pr.r,Dr=pr.g,Qr=pr.b;dr?(dt[0]=Cr,dt[1]=Dr,dt[2]=Qr,dt[3]=mr,Gt.clearBufferuiv(Gt.COLOR,0,dt)):(ht[0]=Cr,ht[1]=Dr,ht[2]=Qr,ht[3]=mr,Gt.clearBufferiv(Gt.COLOR,0,ht))}else Zn|=Gt.COLOR_BUFFER_BIT}Vn&&(Zn|=Gt.DEPTH_BUFFER_BIT),jn&&(Zn|=Gt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Gt.clear(Zn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){et.removeEventListener("webglcontextlost",Br,!1),et.removeEventListener("webglcontextrestored",er,!1),et.removeEventListener("webglcontextcreationerror",ar,!1),or.dispose(),ir.dispose(),pn.dispose(),bn.dispose(),an.dispose(),xn.dispose(),Xr.dispose(),Wr.dispose(),wn.dispose(),An.dispose(),An.removeEventListener("sessionstart",So),An.removeEventListener("sessionend",Kn),nn.stop()};function Br(Un){Un.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Ft=!0}function er(){console.log("THREE.WebGLRenderer: Context Restored."),Ft=!1;const Un=Fn.autoReset,Vn=Ar.enabled,jn=Ar.autoUpdate,Zn=Ar.needsUpdate,Ln=Ar.type;Jr(),Fn.autoReset=Un,Ar.enabled=Vn,Ar.autoUpdate=jn,Ar.needsUpdate=Zn,Ar.type=Ln}function ar(Un){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Un.statusMessage)}function fr(Un){const Vn=Un.target;Vn.removeEventListener("dispose",fr),Or(Vn)}function Or(Un){no(Un),pn.remove(Un)}function no(Un){const Vn=pn.get(Un).programs;Vn!==void 0&&(Vn.forEach(function(jn){wn.releaseProgram(jn)}),Un.isShaderMaterial&&wn.releaseShaderCache(Un))}this.renderBufferDirect=function(Un,Vn,jn,Zn,Ln,cr){Vn===null&&(Vn=kt);const dr=Ln.isMesh&&Ln.matrixWorld.determinant()<0,pr=Dn(Un,Vn,jn,Zn,Ln);dn.setMaterial(Zn,dr);let mr=jn.index,Cr=1;if(Zn.wireframe===!0){if(mr=mn.getWireframeAttribute(jn),mr===void 0)return;Cr=2}const Dr=jn.drawRange,Qr=jn.attributes.position;let Yr=Dr.start*Cr,mo=(Dr.start+Dr.count)*Cr;cr!==null&&(Yr=Math.max(Yr,cr.start*Cr),mo=Math.min(mo,(cr.start+cr.count)*Cr)),mr!==null?(Yr=Math.max(Yr,0),mo=Math.min(mo,mr.count)):Qr!=null&&(Yr=Math.max(Yr,0),mo=Math.min(mo,Qr.count));const yo=mo-Yr;if(yo<0||yo===1/0)return;Xr.setup(Ln,Zn,pr,jn,mr);let bo,Hr=$r;if(mr!==null&&(bo=rn.get(mr),Hr=Sr,Hr.setIndex(bo)),Ln.isMesh)Zn.wireframe===!0?(dn.setLineWidth(Zn.wireframeLinewidth*tn()),Hr.setMode(Gt.LINES)):Hr.setMode(Gt.TRIANGLES);else if(Ln.isLine){let vr=Zn.linewidth;vr===void 0&&(vr=1),dn.setLineWidth(vr*tn()),Ln.isLineSegments?Hr.setMode(Gt.LINES):Ln.isLineLoop?Hr.setMode(Gt.LINE_LOOP):Hr.setMode(Gt.LINE_STRIP)}else Ln.isPoints?Hr.setMode(Gt.POINTS):Ln.isSprite&&Hr.setMode(Gt.TRIANGLES);if(Ln.isBatchedMesh)Ln._multiDrawInstances!==null?Hr.renderMultiDrawInstances(Ln._multiDrawStarts,Ln._multiDrawCounts,Ln._multiDrawCount,Ln._multiDrawInstances):Hr.renderMultiDraw(Ln._multiDrawStarts,Ln._multiDrawCounts,Ln._multiDrawCount);else if(Ln.isInstancedMesh)Hr.renderInstances(Yr,yo,Ln.count);else if(jn.isInstancedBufferGeometry){const vr=jn._maxInstanceCount!==void 0?jn._maxInstanceCount:1/0,Kr=Math.min(jn.instanceCount,vr);Hr.renderInstances(Yr,yo,Kr)}else Hr.render(Yr,yo)};function co(Un,Vn,jn){Un.transparent===!0&&Un.side===DoubleSide&&Un.forceSinglePass===!1?(Un.side=BackSide,Un.needsUpdate=!0,$n(Un,Vn,jn),Un.side=FrontSide,Un.needsUpdate=!0,$n(Un,Vn,jn),Un.side=DoubleSide):$n(Un,Vn,jn)}this.compile=function(Un,Vn,jn=null){jn===null&&(jn=Un),gt=ir.get(jn),gt.init(Vn),yt.push(gt),jn.traverseVisible(function(Ln){Ln.isLight&&Ln.layers.test(Vn.layers)&&(gt.pushLight(Ln),Ln.castShadow&&gt.pushShadow(Ln))}),Un!==jn&&Un.traverseVisible(function(Ln){Ln.isLight&&Ln.layers.test(Vn.layers)&&(gt.pushLight(Ln),Ln.castShadow&&gt.pushShadow(Ln))}),gt.setupLights();const Zn=new Set;return Un.traverse(function(Ln){const cr=Ln.material;if(cr)if(Array.isArray(cr))for(let dr=0;dr<cr.length;dr++){const pr=cr[dr];co(pr,jn,Ln),Zn.add(pr)}else co(cr,jn,Ln),Zn.add(cr)}),yt.pop(),gt=null,Zn},this.compileAsync=function(Un,Vn,jn=null){const Zn=this.compile(Un,Vn,jn);return new Promise(Ln=>{function cr(){if(Zn.forEach(function(dr){pn.get(dr).currentProgram.isReady()&&Zn.delete(dr)}),Zn.size===0){Ln(Un);return}setTimeout(cr,10)}cn.get("KHR_parallel_shader_compile")!==null?cr():setTimeout(cr,10)})};let Eo=null;function Ir(Un){Eo&&Eo(Un)}function So(){nn.stop()}function Kn(){nn.start()}const nn=new WebGLAnimation;nn.setAnimationLoop(Ir),typeof self<"u"&&nn.setContext(self),this.setAnimationLoop=function(Un){Eo=Un,An.setAnimationLoop(Un),Un===null?nn.stop():nn.start()},An.addEventListener("sessionstart",So),An.addEventListener("sessionend",Kn),this.render=function(Un,Vn){if(Vn!==void 0&&Vn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Ft===!0)return;if(Un.matrixWorldAutoUpdate===!0&&Un.updateMatrixWorld(),Vn.parent===null&&Vn.matrixWorldAutoUpdate===!0&&Vn.updateMatrixWorld(),An.enabled===!0&&An.isPresenting===!0&&(An.cameraAutoUpdate===!0&&An.updateCamera(Vn),Vn=An.getCamera()),Un.isScene===!0&&Un.onBeforeRender(mt,Un,Vn,wt),gt=ir.get(Un,yt.length),gt.init(Vn),yt.push(gt),Lt.multiplyMatrices(Vn.projectionMatrix,Vn.matrixWorldInverse),qt.setFromProjectionMatrix(Lt),Xt=this.localClippingEnabled,Ht=nr.init(this.clippingPlanes,Xt),pt=or.get(Un,ft.length),pt.init(),ft.push(pt),An.enabled===!0&&An.isPresenting===!0){const cr=mt.xr.getDepthSensingMesh();cr!==null&&on(cr,Vn,-1/0,mt.sortObjects)}on(Un,Vn,0,mt.sortObjects),pt.finish(),mt.sortObjects===!0&&pt.sort(At,Ot),zt=An.enabled===!1||An.isPresenting===!1||An.hasDepthSensing()===!1,zt&&ur.addToRenderList(pt,Un),this.info.render.frame++,Ht===!0&&nr.beginShadows();const jn=gt.state.shadowsArray;Ar.render(jn,Un,Vn),Ht===!0&&nr.endShadows(),this.info.autoReset===!0&&this.info.reset();const Zn=pt.opaque,Ln=pt.transmissive;if(gt.setupLights(),Vn.isArrayCamera){const cr=Vn.cameras;if(Ln.length>0)for(let dr=0,pr=cr.length;dr<pr;dr++){const mr=cr[dr];Qn(Zn,Ln,Un,mr)}zt&&ur.render(Un);for(let dr=0,pr=cr.length;dr<pr;dr++){const mr=cr[dr];gn(pt,Un,mr,mr.viewport)}}else Ln.length>0&&Qn(Zn,Ln,Un,Vn),zt&&ur.render(Un),gn(pt,Un,Vn);wt!==null&&(un.updateMultisampleRenderTarget(wt),un.updateRenderTargetMipmap(wt)),Un.isScene===!0&&Un.onAfterRender(mt,Un,Vn),Xr.resetDefaultState(),It=-1,St=null,yt.pop(),yt.length>0?(gt=yt[yt.length-1],Ht===!0&&nr.setGlobalState(mt.clippingPlanes,gt.state.camera)):gt=null,ft.pop(),ft.length>0?pt=ft[ft.length-1]:pt=null};function on(Un,Vn,jn,Zn){if(Un.visible===!1)return;if(Un.layers.test(Vn.layers)){if(Un.isGroup)jn=Un.renderOrder;else if(Un.isLOD)Un.autoUpdate===!0&&Un.update(Vn);else if(Un.isLight)gt.pushLight(Un),Un.castShadow&&gt.pushShadow(Un);else if(Un.isSprite){if(!Un.frustumCulled||qt.intersectsSprite(Un)){Zn&&Pt.setFromMatrixPosition(Un.matrixWorld).applyMatrix4(Lt);const dr=xn.update(Un),pr=Un.material;pr.visible&&pt.push(Un,dr,pr,jn,Pt.z,null)}}else if((Un.isMesh||Un.isLine||Un.isPoints)&&(!Un.frustumCulled||qt.intersectsObject(Un))){const dr=xn.update(Un),pr=Un.material;if(Zn&&(Un.boundingSphere!==void 0?(Un.boundingSphere===null&&Un.computeBoundingSphere(),Pt.copy(Un.boundingSphere.center)):(dr.boundingSphere===null&&dr.computeBoundingSphere(),Pt.copy(dr.boundingSphere.center)),Pt.applyMatrix4(Un.matrixWorld).applyMatrix4(Lt)),Array.isArray(pr)){const mr=dr.groups;for(let Cr=0,Dr=mr.length;Cr<Dr;Cr++){const Qr=mr[Cr],Yr=pr[Qr.materialIndex];Yr&&Yr.visible&&pt.push(Un,dr,Yr,jn,Pt.z,Qr)}}else pr.visible&&pt.push(Un,dr,pr,jn,Pt.z,null)}}const cr=Un.children;for(let dr=0,pr=cr.length;dr<pr;dr++)on(cr[dr],Vn,jn,Zn)}function gn(Un,Vn,jn,Zn){const Ln=Un.opaque,cr=Un.transmissive,dr=Un.transparent;gt.setupLightsView(jn),Ht===!0&&nr.setGlobalState(mt.clippingPlanes,jn),Zn&&dn.viewport(Rt.copy(Zn)),Ln.length>0&&Nn(Ln,Vn,jn),cr.length>0&&Nn(cr,Vn,jn),dr.length>0&&Nn(dr,Vn,jn),dn.buffers.depth.setTest(!0),dn.buffers.depth.setMask(!0),dn.buffers.color.setMask(!0),dn.setPolygonOffset(!1)}function Qn(Un,Vn,jn,Zn){if((jn.isScene===!0?jn.overrideMaterial:null)!==null)return;gt.state.transmissionRenderTarget[Zn.id]===void 0&&(gt.state.transmissionRenderTarget[Zn.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:cn.has("EXT_color_buffer_half_float")||cn.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:rt,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const cr=gt.state.transmissionRenderTarget[Zn.id],dr=Zn.viewport||Rt;cr.setSize(dr.z,dr.w);const pr=mt.getRenderTarget();mt.setRenderTarget(cr),mt.getClearColor(xt),Bt=mt.getClearAlpha(),Bt<1&&mt.setClearColor(16777215,.5),zt?ur.render(jn):mt.clear();const mr=mt.toneMapping;mt.toneMapping=NoToneMapping;const Cr=Zn.viewport;if(Zn.viewport!==void 0&&(Zn.viewport=void 0),gt.setupLightsView(Zn),Ht===!0&&nr.setGlobalState(mt.clippingPlanes,Zn),Nn(Un,jn,Zn),un.updateMultisampleRenderTarget(cr),un.updateRenderTargetMipmap(cr),cn.has("WEBGL_multisampled_render_to_texture")===!1){let Dr=!1;for(let Qr=0,Yr=Vn.length;Qr<Yr;Qr++){const mo=Vn[Qr],yo=mo.object,bo=mo.geometry,Hr=mo.material,vr=mo.group;if(Hr.side===DoubleSide&&yo.layers.test(Zn.layers)){const Kr=Hr.side;Hr.side=BackSide,Hr.needsUpdate=!0,In(yo,jn,Zn,bo,Hr,vr),Hr.side=Kr,Hr.needsUpdate=!0,Dr=!0}}Dr===!0&&(un.updateMultisampleRenderTarget(cr),un.updateRenderTargetMipmap(cr))}mt.setRenderTarget(pr),mt.setClearColor(xt,Bt),Cr!==void 0&&(Zn.viewport=Cr),mt.toneMapping=mr}function Nn(Un,Vn,jn){const Zn=Vn.isScene===!0?Vn.overrideMaterial:null;for(let Ln=0,cr=Un.length;Ln<cr;Ln++){const dr=Un[Ln],pr=dr.object,mr=dr.geometry,Cr=Zn===null?dr.material:Zn,Dr=dr.group;pr.layers.test(jn.layers)&&In(pr,Vn,jn,mr,Cr,Dr)}}function In(Un,Vn,jn,Zn,Ln,cr){Un.onBeforeRender(mt,Vn,jn,Zn,Ln,cr),Un.modelViewMatrix.multiplyMatrices(jn.matrixWorldInverse,Un.matrixWorld),Un.normalMatrix.getNormalMatrix(Un.modelViewMatrix),Ln.onBeforeRender(mt,Vn,jn,Zn,Un,cr),Ln.transparent===!0&&Ln.side===DoubleSide&&Ln.forceSinglePass===!1?(Ln.side=BackSide,Ln.needsUpdate=!0,mt.renderBufferDirect(jn,Vn,Zn,Ln,Un,cr),Ln.side=FrontSide,Ln.needsUpdate=!0,mt.renderBufferDirect(jn,Vn,Zn,Ln,Un,cr),Ln.side=DoubleSide):mt.renderBufferDirect(jn,Vn,Zn,Ln,Un,cr),Un.onAfterRender(mt,Vn,jn,Zn,Ln,cr)}function $n(Un,Vn,jn){Vn.isScene!==!0&&(Vn=kt);const Zn=pn.get(Un),Ln=gt.state.lights,cr=gt.state.shadowsArray,dr=Ln.state.version,pr=wn.getParameters(Un,Ln.state,cr,Vn,jn),mr=wn.getProgramCacheKey(pr);let Cr=Zn.programs;Zn.environment=Un.isMeshStandardMaterial?Vn.environment:null,Zn.fog=Vn.fog,Zn.envMap=(Un.isMeshStandardMaterial?an:bn).get(Un.envMap||Zn.environment),Zn.envMapRotation=Zn.environment!==null&&Un.envMap===null?Vn.environmentRotation:Un.envMapRotation,Cr===void 0&&(Un.addEventListener("dispose",fr),Cr=new Map,Zn.programs=Cr);let Dr=Cr.get(mr);if(Dr!==void 0){if(Zn.currentProgram===Dr&&Zn.lightsStateVersion===dr)return On(Un,pr),Dr}else pr.uniforms=wn.getUniforms(Un),Un.onBuild(jn,pr,mt),Un.onBeforeCompile(pr,mt),Dr=wn.acquireProgram(pr,mr),Cr.set(mr,Dr),Zn.uniforms=pr.uniforms;const Qr=Zn.uniforms;return(!Un.isShaderMaterial&&!Un.isRawShaderMaterial||Un.clipping===!0)&&(Qr.clippingPlanes=nr.uniform),On(Un,pr),Zn.needsLights=Gr(Un),Zn.lightsStateVersion=dr,Zn.needsLights&&(Qr.ambientLightColor.value=Ln.state.ambient,Qr.lightProbe.value=Ln.state.probe,Qr.directionalLights.value=Ln.state.directional,Qr.directionalLightShadows.value=Ln.state.directionalShadow,Qr.spotLights.value=Ln.state.spot,Qr.spotLightShadows.value=Ln.state.spotShadow,Qr.rectAreaLights.value=Ln.state.rectArea,Qr.ltc_1.value=Ln.state.rectAreaLTC1,Qr.ltc_2.value=Ln.state.rectAreaLTC2,Qr.pointLights.value=Ln.state.point,Qr.pointLightShadows.value=Ln.state.pointShadow,Qr.hemisphereLights.value=Ln.state.hemi,Qr.directionalShadowMap.value=Ln.state.directionalShadowMap,Qr.directionalShadowMatrix.value=Ln.state.directionalShadowMatrix,Qr.spotShadowMap.value=Ln.state.spotShadowMap,Qr.spotLightMatrix.value=Ln.state.spotLightMatrix,Qr.spotLightMap.value=Ln.state.spotLightMap,Qr.pointShadowMap.value=Ln.state.pointShadowMap,Qr.pointShadowMatrix.value=Ln.state.pointShadowMatrix),Zn.currentProgram=Dr,Zn.uniformsList=null,Dr}function Xn(Un){if(Un.uniformsList===null){const Vn=Un.currentProgram.getUniforms();Un.uniformsList=WebGLUniforms.seqWithValue(Vn.seq,Un.uniforms)}return Un.uniformsList}function On(Un,Vn){const jn=pn.get(Un);jn.outputColorSpace=Vn.outputColorSpace,jn.batching=Vn.batching,jn.batchingColor=Vn.batchingColor,jn.instancing=Vn.instancing,jn.instancingColor=Vn.instancingColor,jn.instancingMorph=Vn.instancingMorph,jn.skinning=Vn.skinning,jn.morphTargets=Vn.morphTargets,jn.morphNormals=Vn.morphNormals,jn.morphColors=Vn.morphColors,jn.morphTargetsCount=Vn.morphTargetsCount,jn.numClippingPlanes=Vn.numClippingPlanes,jn.numIntersection=Vn.numClipIntersection,jn.vertexAlphas=Vn.vertexAlphas,jn.vertexTangents=Vn.vertexTangents,jn.toneMapping=Vn.toneMapping}function Dn(Un,Vn,jn,Zn,Ln){Vn.isScene!==!0&&(Vn=kt),un.resetTextureUnits();const cr=Vn.fog,dr=Zn.isMeshStandardMaterial?Vn.environment:null,pr=wt===null?mt.outputColorSpace:wt.isXRRenderTarget===!0?wt.texture.colorSpace:LinearSRGBColorSpace$1,mr=(Zn.isMeshStandardMaterial?an:bn).get(Zn.envMap||dr),Cr=Zn.vertexColors===!0&&!!jn.attributes.color&&jn.attributes.color.itemSize===4,Dr=!!jn.attributes.tangent&&(!!Zn.normalMap||Zn.anisotropy>0),Qr=!!jn.morphAttributes.position,Yr=!!jn.morphAttributes.normal,mo=!!jn.morphAttributes.color;let yo=NoToneMapping;Zn.toneMapped&&(wt===null||wt.isXRRenderTarget===!0)&&(yo=mt.toneMapping);const bo=jn.morphAttributes.position||jn.morphAttributes.normal||jn.morphAttributes.color,Hr=bo!==void 0?bo.length:0,vr=pn.get(Zn),Kr=gt.state.lights;if(Ht===!0&&(Xt===!0||Un!==St)){const ro=Un===St&&Zn.id===It;nr.setState(Zn,Un,ro)}let ao=!1;Zn.version===vr.__version?(vr.needsLights&&vr.lightsStateVersion!==Kr.state.version||vr.outputColorSpace!==pr||Ln.isBatchedMesh&&vr.batching===!1||!Ln.isBatchedMesh&&vr.batching===!0||Ln.isBatchedMesh&&vr.batchingColor===!0&&Ln.colorTexture===null||Ln.isBatchedMesh&&vr.batchingColor===!1&&Ln.colorTexture!==null||Ln.isInstancedMesh&&vr.instancing===!1||!Ln.isInstancedMesh&&vr.instancing===!0||Ln.isSkinnedMesh&&vr.skinning===!1||!Ln.isSkinnedMesh&&vr.skinning===!0||Ln.isInstancedMesh&&vr.instancingColor===!0&&Ln.instanceColor===null||Ln.isInstancedMesh&&vr.instancingColor===!1&&Ln.instanceColor!==null||Ln.isInstancedMesh&&vr.instancingMorph===!0&&Ln.morphTexture===null||Ln.isInstancedMesh&&vr.instancingMorph===!1&&Ln.morphTexture!==null||vr.envMap!==mr||Zn.fog===!0&&vr.fog!==cr||vr.numClippingPlanes!==void 0&&(vr.numClippingPlanes!==nr.numPlanes||vr.numIntersection!==nr.numIntersection)||vr.vertexAlphas!==Cr||vr.vertexTangents!==Dr||vr.morphTargets!==Qr||vr.morphNormals!==Yr||vr.morphColors!==mo||vr.toneMapping!==yo||vr.morphTargetsCount!==Hr)&&(ao=!0):(ao=!0,vr.__version=Zn.version);let Fo=vr.currentProgram;ao===!0&&(Fo=$n(Zn,Vn,Ln));let To=!1,xo=!1,Wo=!1;const io=Fo.getUniforms(),Oo=vr.uniforms;if(dn.useProgram(Fo.program)&&(To=!0,xo=!0,Wo=!0),Zn.id!==It&&(It=Zn.id,xo=!0),To||St!==Un){io.setValue(Gt,"projectionMatrix",Un.projectionMatrix),io.setValue(Gt,"viewMatrix",Un.matrixWorldInverse);const ro=io.map.cameraPosition;ro!==void 0&&ro.setValue(Gt,Pt.setFromMatrixPosition(Un.matrixWorld)),Zt.logarithmicDepthBuffer&&io.setValue(Gt,"logDepthBufFC",2/(Math.log(Un.far+1)/Math.LN2)),(Zn.isMeshPhongMaterial||Zn.isMeshToonMaterial||Zn.isMeshLambertMaterial||Zn.isMeshBasicMaterial||Zn.isMeshStandardMaterial||Zn.isShaderMaterial)&&io.setValue(Gt,"isOrthographic",Un.isOrthographicCamera===!0),St!==Un&&(St=Un,xo=!0,Wo=!0)}if(Ln.isSkinnedMesh){io.setOptional(Gt,Ln,"bindMatrix"),io.setOptional(Gt,Ln,"bindMatrixInverse");const ro=Ln.skeleton;ro&&(ro.boneTexture===null&&ro.computeBoneTexture(),io.setValue(Gt,"boneTexture",ro.boneTexture,un))}Ln.isBatchedMesh&&(io.setOptional(Gt,Ln,"batchingTexture"),io.setValue(Gt,"batchingTexture",Ln._matricesTexture,un),io.setOptional(Gt,Ln,"batchingColorTexture"),Ln._colorsTexture!==null&&io.setValue(Gt,"batchingColorTexture",Ln._colorsTexture,un));const ls=jn.morphAttributes;if((ls.position!==void 0||ls.normal!==void 0||ls.color!==void 0)&&Fr.update(Ln,jn,Fo),(xo||vr.receiveShadow!==Ln.receiveShadow)&&(vr.receiveShadow=Ln.receiveShadow,io.setValue(Gt,"receiveShadow",Ln.receiveShadow)),Zn.isMeshGouraudMaterial&&Zn.envMap!==null&&(Oo.envMap.value=mr,Oo.flipEnvMap.value=mr.isCubeTexture&&mr.isRenderTargetTexture===!1?-1:1),Zn.isMeshStandardMaterial&&Zn.envMap===null&&Vn.environment!==null&&(Oo.envMapIntensity.value=Vn.environmentIntensity),xo&&(io.setValue(Gt,"toneMappingExposure",mt.toneMappingExposure),vr.needsLights&&_r(Oo,Wo),cr&&Zn.fog===!0&&Mn.refreshFogUniforms(Oo,cr),Mn.refreshMaterialUniforms(Oo,Zn,Nt,Mt,gt.state.transmissionRenderTarget[Un.id]),WebGLUniforms.upload(Gt,Xn(vr),Oo,un)),Zn.isShaderMaterial&&Zn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Gt,Xn(vr),Oo,un),Zn.uniformsNeedUpdate=!1),Zn.isSpriteMaterial&&io.setValue(Gt,"center",Ln.center),io.setValue(Gt,"modelViewMatrix",Ln.modelViewMatrix),io.setValue(Gt,"normalMatrix",Ln.normalMatrix),io.setValue(Gt,"modelMatrix",Ln.matrixWorld),Zn.isShaderMaterial||Zn.isRawShaderMaterial){const ro=Zn.uniformsGroups;for(let No=0,Yo=ro.length;No<Yo;No++){const Co=ro[No];Wr.update(Co,Fo),Wr.bind(Co,Fo)}}return Fo}function _r(Un,Vn){Un.ambientLightColor.needsUpdate=Vn,Un.lightProbe.needsUpdate=Vn,Un.directionalLights.needsUpdate=Vn,Un.directionalLightShadows.needsUpdate=Vn,Un.pointLights.needsUpdate=Vn,Un.pointLightShadows.needsUpdate=Vn,Un.spotLights.needsUpdate=Vn,Un.spotLightShadows.needsUpdate=Vn,Un.rectAreaLights.needsUpdate=Vn,Un.hemisphereLights.needsUpdate=Vn}function Gr(Un){return Un.isMeshLambertMaterial||Un.isMeshToonMaterial||Un.isMeshPhongMaterial||Un.isMeshStandardMaterial||Un.isShadowMaterial||Un.isShaderMaterial&&Un.lights===!0}this.getActiveCubeFace=function(){return vt},this.getActiveMipmapLevel=function(){return Et},this.getRenderTarget=function(){return wt},this.setRenderTargetTextures=function(Un,Vn,jn){pn.get(Un.texture).__webglTexture=Vn,pn.get(Un.depthTexture).__webglTexture=jn;const Zn=pn.get(Un);Zn.__hasExternalTextures=!0,Zn.__autoAllocateDepthBuffer=jn===void 0,Zn.__autoAllocateDepthBuffer||cn.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Zn.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Un,Vn){const jn=pn.get(Un);jn.__webglFramebuffer=Vn,jn.__useDefaultFramebuffer=Vn===void 0},this.setRenderTarget=function(Un,Vn=0,jn=0){wt=Un,vt=Vn,Et=jn;let Zn=!0,Ln=null,cr=!1,dr=!1;if(Un){const mr=pn.get(Un);mr.__useDefaultFramebuffer!==void 0?(dn.bindFramebuffer(Gt.FRAMEBUFFER,null),Zn=!1):mr.__webglFramebuffer===void 0?un.setupRenderTarget(Un):mr.__hasExternalTextures&&un.rebindTextures(Un,pn.get(Un.texture).__webglTexture,pn.get(Un.depthTexture).__webglTexture);const Cr=Un.texture;(Cr.isData3DTexture||Cr.isDataArrayTexture||Cr.isCompressedArrayTexture)&&(dr=!0);const Dr=pn.get(Un).__webglFramebuffer;Un.isWebGLCubeRenderTarget?(Array.isArray(Dr[Vn])?Ln=Dr[Vn][jn]:Ln=Dr[Vn],cr=!0):Un.samples>0&&un.useMultisampledRTT(Un)===!1?Ln=pn.get(Un).__webglMultisampledFramebuffer:Array.isArray(Dr)?Ln=Dr[jn]:Ln=Dr,Rt.copy(Un.viewport),Tt.copy(Un.scissor),bt=Un.scissorTest}else Rt.copy(Vt).multiplyScalar(Nt).floor(),Tt.copy(Wt).multiplyScalar(Nt).floor(),bt=Jt;if(dn.bindFramebuffer(Gt.FRAMEBUFFER,Ln)&&Zn&&dn.drawBuffers(Un,Ln),dn.viewport(Rt),dn.scissor(Tt),dn.setScissorTest(bt),cr){const mr=pn.get(Un.texture);Gt.framebufferTexture2D(Gt.FRAMEBUFFER,Gt.COLOR_ATTACHMENT0,Gt.TEXTURE_CUBE_MAP_POSITIVE_X+Vn,mr.__webglTexture,jn)}else if(dr){const mr=pn.get(Un.texture),Cr=Vn||0;Gt.framebufferTextureLayer(Gt.FRAMEBUFFER,Gt.COLOR_ATTACHMENT0,mr.__webglTexture,jn||0,Cr)}It=-1},this.readRenderTargetPixels=function(Un,Vn,jn,Zn,Ln,cr,dr){if(!(Un&&Un.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pr=pn.get(Un).__webglFramebuffer;if(Un.isWebGLCubeRenderTarget&&dr!==void 0&&(pr=pr[dr]),pr){dn.bindFramebuffer(Gt.FRAMEBUFFER,pr);try{const mr=Un.texture,Cr=mr.format,Dr=mr.type;if(!Zt.textureFormatReadable(Cr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Zt.textureTypeReadable(Dr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Vn>=0&&Vn<=Un.width-Zn&&jn>=0&&jn<=Un.height-Ln&&Gt.readPixels(Vn,jn,Zn,Ln,Ur.convert(Cr),Ur.convert(Dr),cr)}finally{const mr=wt!==null?pn.get(wt).__webglFramebuffer:null;dn.bindFramebuffer(Gt.FRAMEBUFFER,mr)}}},this.readRenderTargetPixelsAsync=async function(Un,Vn,jn,Zn,Ln,cr,dr){if(!(Un&&Un.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pr=pn.get(Un).__webglFramebuffer;if(Un.isWebGLCubeRenderTarget&&dr!==void 0&&(pr=pr[dr]),pr){dn.bindFramebuffer(Gt.FRAMEBUFFER,pr);try{const mr=Un.texture,Cr=mr.format,Dr=mr.type;if(!Zt.textureFormatReadable(Cr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Zt.textureTypeReadable(Dr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Vn>=0&&Vn<=Un.width-Zn&&jn>=0&&jn<=Un.height-Ln){const Qr=Gt.createBuffer();Gt.bindBuffer(Gt.PIXEL_PACK_BUFFER,Qr),Gt.bufferData(Gt.PIXEL_PACK_BUFFER,cr.byteLength,Gt.STREAM_READ),Gt.readPixels(Vn,jn,Zn,Ln,Ur.convert(Cr),Ur.convert(Dr),0),Gt.flush();const Yr=Gt.fenceSync(Gt.SYNC_GPU_COMMANDS_COMPLETE,0);await probeAsync(Gt,Yr,4);try{Gt.bindBuffer(Gt.PIXEL_PACK_BUFFER,Qr),Gt.getBufferSubData(Gt.PIXEL_PACK_BUFFER,0,cr)}finally{Gt.deleteBuffer(Qr),Gt.deleteSync(Yr)}return cr}}finally{const mr=wt!==null?pn.get(wt).__webglFramebuffer:null;dn.bindFramebuffer(Gt.FRAMEBUFFER,mr)}}},this.copyFramebufferToTexture=function(Un,Vn=null,jn=0){Un.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Vn=arguments[0]||null,Un=arguments[1]);const Zn=Math.pow(2,-jn),Ln=Math.floor(Un.image.width*Zn),cr=Math.floor(Un.image.height*Zn),dr=Vn!==null?Vn.x:0,pr=Vn!==null?Vn.y:0;un.setTexture2D(Un,0),Gt.copyTexSubImage2D(Gt.TEXTURE_2D,jn,0,0,dr,pr,Ln,cr),dn.unbindTexture()},this.copyTextureToTexture=function(Un,Vn,jn=null,Zn=null,Ln=0){Un.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),Zn=arguments[0]||null,Un=arguments[1],Vn=arguments[2],Ln=arguments[3]||0,jn=null);let cr,dr,pr,mr,Cr,Dr;jn!==null?(cr=jn.max.x-jn.min.x,dr=jn.max.y-jn.min.y,pr=jn.min.x,mr=jn.min.y):(cr=Un.image.width,dr=Un.image.height,pr=0,mr=0),Zn!==null?(Cr=Zn.x,Dr=Zn.y):(Cr=0,Dr=0);const Qr=Ur.convert(Vn.format),Yr=Ur.convert(Vn.type);un.setTexture2D(Vn,0),Gt.pixelStorei(Gt.UNPACK_FLIP_Y_WEBGL,Vn.flipY),Gt.pixelStorei(Gt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Vn.premultiplyAlpha),Gt.pixelStorei(Gt.UNPACK_ALIGNMENT,Vn.unpackAlignment);const mo=Gt.getParameter(Gt.UNPACK_ROW_LENGTH),yo=Gt.getParameter(Gt.UNPACK_IMAGE_HEIGHT),bo=Gt.getParameter(Gt.UNPACK_SKIP_PIXELS),Hr=Gt.getParameter(Gt.UNPACK_SKIP_ROWS),vr=Gt.getParameter(Gt.UNPACK_SKIP_IMAGES),Kr=Un.isCompressedTexture?Un.mipmaps[Ln]:Un.image;Gt.pixelStorei(Gt.UNPACK_ROW_LENGTH,Kr.width),Gt.pixelStorei(Gt.UNPACK_IMAGE_HEIGHT,Kr.height),Gt.pixelStorei(Gt.UNPACK_SKIP_PIXELS,pr),Gt.pixelStorei(Gt.UNPACK_SKIP_ROWS,mr),Un.isDataTexture?Gt.texSubImage2D(Gt.TEXTURE_2D,Ln,Cr,Dr,cr,dr,Qr,Yr,Kr.data):Un.isCompressedTexture?Gt.compressedTexSubImage2D(Gt.TEXTURE_2D,Ln,Cr,Dr,Kr.width,Kr.height,Qr,Kr.data):Gt.texSubImage2D(Gt.TEXTURE_2D,Ln,Cr,Dr,Qr,Yr,Kr),Gt.pixelStorei(Gt.UNPACK_ROW_LENGTH,mo),Gt.pixelStorei(Gt.UNPACK_IMAGE_HEIGHT,yo),Gt.pixelStorei(Gt.UNPACK_SKIP_PIXELS,bo),Gt.pixelStorei(Gt.UNPACK_SKIP_ROWS,Hr),Gt.pixelStorei(Gt.UNPACK_SKIP_IMAGES,vr),Ln===0&&Vn.generateMipmaps&&Gt.generateMipmap(Gt.TEXTURE_2D),dn.unbindTexture()},this.copyTextureToTexture3D=function(Un,Vn,jn=null,Zn=null,Ln=0){Un.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),jn=arguments[0]||null,Zn=arguments[1]||null,Un=arguments[2],Vn=arguments[3],Ln=arguments[4]||0);let cr,dr,pr,mr,Cr,Dr,Qr,Yr,mo;const yo=Un.isCompressedTexture?Un.mipmaps[Ln]:Un.image;jn!==null?(cr=jn.max.x-jn.min.x,dr=jn.max.y-jn.min.y,pr=jn.max.z-jn.min.z,mr=jn.min.x,Cr=jn.min.y,Dr=jn.min.z):(cr=yo.width,dr=yo.height,pr=yo.depth,mr=0,Cr=0,Dr=0),Zn!==null?(Qr=Zn.x,Yr=Zn.y,mo=Zn.z):(Qr=0,Yr=0,mo=0);const bo=Ur.convert(Vn.format),Hr=Ur.convert(Vn.type);let vr;if(Vn.isData3DTexture)un.setTexture3D(Vn,0),vr=Gt.TEXTURE_3D;else if(Vn.isDataArrayTexture||Vn.isCompressedArrayTexture)un.setTexture2DArray(Vn,0),vr=Gt.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Gt.pixelStorei(Gt.UNPACK_FLIP_Y_WEBGL,Vn.flipY),Gt.pixelStorei(Gt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Vn.premultiplyAlpha),Gt.pixelStorei(Gt.UNPACK_ALIGNMENT,Vn.unpackAlignment);const Kr=Gt.getParameter(Gt.UNPACK_ROW_LENGTH),ao=Gt.getParameter(Gt.UNPACK_IMAGE_HEIGHT),Fo=Gt.getParameter(Gt.UNPACK_SKIP_PIXELS),To=Gt.getParameter(Gt.UNPACK_SKIP_ROWS),xo=Gt.getParameter(Gt.UNPACK_SKIP_IMAGES);Gt.pixelStorei(Gt.UNPACK_ROW_LENGTH,yo.width),Gt.pixelStorei(Gt.UNPACK_IMAGE_HEIGHT,yo.height),Gt.pixelStorei(Gt.UNPACK_SKIP_PIXELS,mr),Gt.pixelStorei(Gt.UNPACK_SKIP_ROWS,Cr),Gt.pixelStorei(Gt.UNPACK_SKIP_IMAGES,Dr),Un.isDataTexture||Un.isData3DTexture?Gt.texSubImage3D(vr,Ln,Qr,Yr,mo,cr,dr,pr,bo,Hr,yo.data):Vn.isCompressedArrayTexture?Gt.compressedTexSubImage3D(vr,Ln,Qr,Yr,mo,cr,dr,pr,bo,yo.data):Gt.texSubImage3D(vr,Ln,Qr,Yr,mo,cr,dr,pr,bo,Hr,yo),Gt.pixelStorei(Gt.UNPACK_ROW_LENGTH,Kr),Gt.pixelStorei(Gt.UNPACK_IMAGE_HEIGHT,ao),Gt.pixelStorei(Gt.UNPACK_SKIP_PIXELS,Fo),Gt.pixelStorei(Gt.UNPACK_SKIP_ROWS,To),Gt.pixelStorei(Gt.UNPACK_SKIP_IMAGES,xo),Ln===0&&Vn.generateMipmaps&&Gt.generateMipmap(vr),dn.unbindTexture()},this.initRenderTarget=function(Un){pn.get(Un).__webglFramebuffer===void 0&&un.setupRenderTarget(Un)},this.initTexture=function(Un){Un.isCubeTexture?un.setTextureCube(Un,0):Un.isData3DTexture?un.setTexture3D(Un,0):Un.isDataArrayTexture||Un.isCompressedArrayTexture?un.setTexture2DArray(Un,0):un.setTexture2D(Un,0),dn.unbindTexture()},this.resetState=function(){vt=0,Et=0,wt=null,dn.reset(),Xr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(o){this._outputColorSpace=o;const et=this.getContext();et.drawingBufferColorSpace=o===DisplayP3ColorSpace?"display-p3":"srgb",et.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}}class FogExp2{constructor(o,et=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(o),this.density=et}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(o,et=1,tt=1e3){this.isFog=!0,this.name="",this.color=new Color$1(o),this.near=et,this.far=tt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(o,et){return super.copy(o,et),o.background!==null&&(this.background=o.background.clone()),o.environment!==null&&(this.environment=o.environment.clone()),o.fog!==null&&(this.fog=o.fog.clone()),this.backgroundBlurriness=o.backgroundBlurriness,this.backgroundIntensity=o.backgroundIntensity,this.backgroundRotation.copy(o.backgroundRotation),this.environmentIntensity=o.environmentIntensity,this.environmentRotation.copy(o.environmentRotation),o.overrideMaterial!==null&&(this.overrideMaterial=o.overrideMaterial.clone()),this.matrixAutoUpdate=o.matrixAutoUpdate,this}toJSON(o){const et=super.toJSON(o);return this.fog!==null&&(et.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(et.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(et.object.backgroundIntensity=this.backgroundIntensity),et.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(et.object.environmentIntensity=this.environmentIntensity),et.object.environmentRotation=this.environmentRotation.toArray(),et}}class InterleavedBuffer{constructor(o,et){this.isInterleavedBuffer=!0,this.array=o,this.stride=et,this.count=o!==void 0?o.length/et:0,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}get updateRange(){return warnOnce("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(o){return this.usage=o,this}addUpdateRange(o,et){this.updateRanges.push({start:o,count:et})}clearUpdateRanges(){this.updateRanges.length=0}copy(o){return this.array=new o.array.constructor(o.array),this.count=o.count,this.stride=o.stride,this.usage=o.usage,this}copyAt(o,et,tt){o*=this.stride,tt*=et.stride;for(let nt=0,rt=this.stride;nt<rt;nt++)this.array[o+nt]=et.array[tt+nt];return this}set(o,et=0){return this.array.set(o,et),this}clone(o){o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const et=new this.array.constructor(o.arrayBuffers[this.array.buffer._uuid]),tt=new this.constructor(et,this.stride);return tt.setUsage(this.usage),tt}onUpload(o){return this.onUploadCallback=o,this}toJSON(o){return o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(o,et,tt,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=o,this.itemSize=et,this.offset=tt,this.normalized=nt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(o){this.data.needsUpdate=o}applyMatrix4(o){for(let et=0,tt=this.data.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.applyMatrix4(o),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(o){for(let et=0,tt=this.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.applyNormalMatrix(o),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(o){for(let et=0,tt=this.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.transformDirection(o),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}getComponent(o,et){let tt=this.array[o*this.data.stride+this.offset+et];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setComponent(o,et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[o*this.data.stride+this.offset+et]=tt,this}setX(o,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[o*this.data.stride+this.offset]=et,this}setY(o,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[o*this.data.stride+this.offset+1]=et,this}setZ(o,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[o*this.data.stride+this.offset+2]=et,this}setW(o,et){return this.normalized&&(et=normalize(et,this.array)),this.data.array[o*this.data.stride+this.offset+3]=et,this}getX(o){let et=this.data.array[o*this.data.stride+this.offset];return this.normalized&&(et=denormalize(et,this.array)),et}getY(o){let et=this.data.array[o*this.data.stride+this.offset+1];return this.normalized&&(et=denormalize(et,this.array)),et}getZ(o){let et=this.data.array[o*this.data.stride+this.offset+2];return this.normalized&&(et=denormalize(et,this.array)),et}getW(o){let et=this.data.array[o*this.data.stride+this.offset+3];return this.normalized&&(et=denormalize(et,this.array)),et}setXY(o,et,tt){return o=o*this.data.stride+this.offset,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array)),this.data.array[o+0]=et,this.data.array[o+1]=tt,this}setXYZ(o,et,tt,nt){return o=o*this.data.stride+this.offset,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.data.array[o+0]=et,this.data.array[o+1]=tt,this.data.array[o+2]=nt,this}setXYZW(o,et,tt,nt,rt){return o=o*this.data.stride+this.offset,this.normalized&&(et=normalize(et,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.data.array[o+0]=et,this.data.array[o+1]=tt,this.data.array[o+2]=nt,this.data.array[o+3]=rt,this}clone(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return new BufferAttribute(new this.array.constructor(et),this.itemSize,this.normalized)}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.clone(o)),new InterleavedBufferAttribute(o.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:et,normalized:this.normalized}}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.toJSON(o)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(o){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.rotation=o.rotation,this.sizeAttenuation=o.sizeAttenuation,this.fog=o.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(o=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const et=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),tt=new InterleavedBuffer(et,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(tt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(tt,2,3,!1))}this.geometry=_geometry,this.material=o,this.center=new Vector2(.5,.5)}raycast(o,et){o.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(o.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(o.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),o.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const tt=this.material.rotation;let nt,rt;tt!==0&&(rt=Math.cos(tt),nt=Math.sin(tt));const it=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vC.set(.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let ot=o.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(ot===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvB.set(0,1),ot=o.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),ot===null))return;const st=o.ray.origin.distanceTo(_intersectPoint);st<o.near||st>o.far||et.push({distance:st,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(o,et){return super.copy(o,et),o.center!==void 0&&this.center.copy(o.center),this.material=o.material,this}}function transformVertex(s,o,et,tt,nt,rt){_alignedPosition.subVectors(s,et).addScalar(.5).multiply(tt),nt!==void 0?(_rotatedPosition.x=rt*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+rt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),s.copy(o),s.x+=_rotatedPosition.x,s.y+=_rotatedPosition.y,s.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(o){super.copy(o,!1);const et=o.levels;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];this.addLevel(rt.object.clone(),rt.distance,rt.hysteresis)}return this.autoUpdate=o.autoUpdate,this}addLevel(o,et=0,tt=0){et=Math.abs(et);const nt=this.levels;let rt;for(rt=0;rt<nt.length&&!(et<nt[rt].distance);rt++);return nt.splice(rt,0,{distance:et,hysteresis:tt,object:o}),this.add(o),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(o){const et=this.levels;if(et.length>0){let tt,nt;for(tt=1,nt=et.length;tt<nt;tt++){let rt=et[tt].distance;if(et[tt].object.visible&&(rt-=rt*et[tt].hysteresis),o<rt)break}return et[tt-1].object}return null}raycast(o,et){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=o.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast(o,et)}}update(o){const et=this.levels;if(et.length>1){_v1$2.setFromMatrixPosition(o.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const tt=_v1$2.distanceTo(_v2$1)/o.zoom;et[0].object.visible=!0;let nt,rt;for(nt=1,rt=et.length;nt<rt;nt++){let it=et[nt].distance;if(et[nt].object.visible&&(it-=it*et[nt].hysteresis),tt>=it)et[nt-1].object.visible=!1,et[nt].object.visible=!0;else break}for(this._currentLevel=nt-1;nt<rt;nt++)et[nt].object.visible=!1}}toJSON(o){const et=super.toJSON(o);this.autoUpdate===!1&&(et.object.autoUpdate=!1),et.object.levels=[];const tt=this.levels;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];et.object.levels.push({object:it.object.uuid,distance:it.distance,hysteresis:it.hysteresis})}return et}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere$1,_inverseMatrix$2=new Matrix4,_ray$2=new Ray$1;class SkinnedMesh extends Mesh{constructor(o,et){super(o,et),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const o=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const et=o.getAttribute("position");for(let tt=0;tt<et.count;tt++)this.getVertexPosition(tt,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const o=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingSphere.makeEmpty();const et=o.getAttribute("position");for(let tt=0;tt<et.count;tt++)this.getVertexPosition(tt,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(o,et){return super.copy(o,et),this.bindMode=o.bindMode,this.bindMatrix.copy(o.bindMatrix),this.bindMatrixInverse.copy(o.bindMatrixInverse),this.skeleton=o.skeleton,o.boundingBox!==null&&(this.boundingBox=o.boundingBox.clone()),o.boundingSphere!==null&&(this.boundingSphere=o.boundingSphere.clone()),this}raycast(o,et){const tt=this.material,nt=this.matrixWorld;tt!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(nt),o.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(nt).invert(),_ray$2.copy(o.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(o,et,_ray$2)))}getVertexPosition(o,et){return super.getVertexPosition(o,et),this.applyBoneTransform(o,et),et}bind(o,et){this.skeleton=o,et===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),et=this.matrixWorld),this.bindMatrix.copy(et),this.bindMatrixInverse.copy(et).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const o=new Vector4,et=this.geometry.attributes.skinWeight;for(let tt=0,nt=et.count;tt<nt;tt++){o.fromBufferAttribute(et,tt);const rt=1/o.manhattanLength();rt!==1/0?o.multiplyScalar(rt):o.set(1,0,0,0),et.setXYZW(tt,o.x,o.y,o.z,o.w)}}updateMatrixWorld(o){super.updateMatrixWorld(o),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(o,et){const tt=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,o),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,o),_basePosition.copy(et).applyMatrix4(this.bindMatrix),et.set(0,0,0);for(let rt=0;rt<4;rt++){const it=_skinWeight.getComponent(rt);if(it!==0){const ot=_skinIndex.getComponent(rt);_matrix4.multiplyMatrices(tt.bones[ot].matrixWorld,tt.boneInverses[ot]),et.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),it)}}return et.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(o=null,et=1,tt=1,nt,rt,it,ot,st,at=NearestFilter,lt=NearestFilter,ct,ut){super(null,it,ot,st,at,lt,nt,rt,ct,ut),this.isDataTexture=!0,this.image={data:o,width:et,height:tt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(o=[],et=[]){this.uuid=generateUUID(),this.bones=o.slice(0),this.boneInverses=et,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const o=this.bones,et=this.boneInverses;if(this.boneMatrices=new Float32Array(o.length*16),et.length===0)this.calculateInverses();else if(o.length!==et.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let tt=0,nt=this.bones.length;tt<nt;tt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let o=0,et=this.bones.length;o<et;o++){const tt=new Matrix4;this.bones[o]&&tt.copy(this.bones[o].matrixWorld).invert(),this.boneInverses.push(tt)}}pose(){for(let o=0,et=this.bones.length;o<et;o++){const tt=this.bones[o];tt&&tt.matrixWorld.copy(this.boneInverses[o]).invert()}for(let o=0,et=this.bones.length;o<et;o++){const tt=this.bones[o];tt&&(tt.parent&&tt.parent.isBone?(tt.matrix.copy(tt.parent.matrixWorld).invert(),tt.matrix.multiply(tt.matrixWorld)):tt.matrix.copy(tt.matrixWorld),tt.matrix.decompose(tt.position,tt.quaternion,tt.scale))}}update(){const o=this.bones,et=this.boneInverses,tt=this.boneMatrices,nt=this.boneTexture;for(let rt=0,it=o.length;rt<it;rt++){const ot=o[rt]?o[rt].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(ot,et[rt]),_offsetMatrix.toArray(tt,rt*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let o=Math.sqrt(this.bones.length*4);o=Math.ceil(o/4)*4,o=Math.max(o,4);const et=new Float32Array(o*o*4);et.set(this.boneMatrices);const tt=new DataTexture(et,o,o,RGBAFormat,FloatType);return tt.needsUpdate=!0,this.boneMatrices=et,this.boneTexture=tt,this}getBoneByName(o){for(let et=0,tt=this.bones.length;et<tt;et++){const nt=this.bones[et];if(nt.name===o)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(o,et){this.uuid=o.uuid;for(let tt=0,nt=o.bones.length;tt<nt;tt++){const rt=o.bones[tt];let it=et[rt];it===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",rt),it=new Bone),this.bones.push(it),this.boneInverses.push(new Matrix4().fromArray(o.boneInverses[tt]))}return this.init(),this}toJSON(){const o={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};o.uuid=this.uuid;const et=this.bones,tt=this.boneInverses;for(let nt=0,rt=et.length;nt<rt;nt++){const it=et[nt];o.bones.push(it.uuid);const ot=tt[nt];o.boneInverses.push(ot.toArray())}return o}}class InstancedBufferAttribute extends BufferAttribute{constructor(o,et,tt,nt=1){super(o,et,tt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}toJSON(){const o=super.toJSON();return o.meshPerAttribute=this.meshPerAttribute,o.isInstancedBufferAttribute=!0,o}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere$1;class InstancedMesh extends Mesh{constructor(o,et,tt){super(o,et),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(tt*16),16),this.instanceColor=null,this.morphTexture=null,this.count=tt,this.boundingBox=null,this.boundingSphere=null;for(let nt=0;nt<tt;nt++)this.setMatrixAt(nt,_identity)}computeBoundingBox(){const o=this.geometry,et=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),o.boundingBox===null&&o.computeBoundingBox(),this.boundingBox.makeEmpty();for(let tt=0;tt<et;tt++)this.getMatrixAt(tt,_instanceLocalMatrix),_box3.copy(o.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const o=this.geometry,et=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),o.boundingSphere===null&&o.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let tt=0;tt<et;tt++)this.getMatrixAt(tt,_instanceLocalMatrix),_sphere$3.copy(o.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(o,et){return super.copy(o,et),this.instanceMatrix.copy(o.instanceMatrix),o.morphTexture!==null&&(this.morphTexture=o.morphTexture.clone()),o.instanceColor!==null&&(this.instanceColor=o.instanceColor.clone()),this.count=o.count,o.boundingBox!==null&&(this.boundingBox=o.boundingBox.clone()),o.boundingSphere!==null&&(this.boundingSphere=o.boundingSphere.clone()),this}getColorAt(o,et){et.fromArray(this.instanceColor.array,o*3)}getMatrixAt(o,et){et.fromArray(this.instanceMatrix.array,o*16)}getMorphAt(o,et){const tt=et.morphTargetInfluences,nt=this.morphTexture.source.data.data,rt=tt.length+1,it=o*rt+1;for(let ot=0;ot<tt.length;ot++)tt[ot]=nt[it+ot]}raycast(o,et){const tt=this.matrixWorld,nt=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(tt),o.ray.intersectsSphere(_sphere$3)!==!1))for(let rt=0;rt<nt;rt++){this.getMatrixAt(rt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(tt,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(o,_instanceIntersects);for(let it=0,ot=_instanceIntersects.length;it<ot;it++){const st=_instanceIntersects[it];st.instanceId=rt,st.object=this,et.push(st)}_instanceIntersects.length=0}}setColorAt(o,et){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),et.toArray(this.instanceColor.array,o*3)}setMatrixAt(o,et){et.toArray(this.instanceMatrix.array,o*16)}setMorphAt(o,et){const tt=et.morphTargetInfluences,nt=tt.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(nt*this.count),nt,this.count,RedFormat,FloatType));const rt=this.morphTexture.source.data.data;let it=0;for(let at=0;at<tt.length;at++)it+=tt[at];const ot=this.geometry.morphTargetsRelative?1:1-it,st=nt*o;rt[st]=ot,rt.set(tt,st+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function sortOpaque(s,o){return s.z-o.z}function sortTransparent(s,o){return o.z-s.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(o,et){const tt=this.pool,nt=this.list;this.index>=tt.length&&tt.push({start:-1,count:-1,z:-1});const rt=tt[this.index];nt.push(rt),this.index++,rt.start=o.start,rt.count=o.count,rt.z=et}reset(){this.list.length=0,this.index=0}}const ID_ATTR_NAME="batchId",_matrix$1=new Matrix4,_invMatrixWorld=new Matrix4,_identityMatrix$2=new Matrix4,_whiteColor=new Color$1(1,1,1),_projScreenMatrix$2=new Matrix4,_frustum=new Frustum,_box$1$1=new Box3,_sphere$2=new Sphere$1,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(s,o,et=0){const tt=o.itemSize;if(s.isInterleavedBufferAttribute||s.array.constructor!==o.array.constructor){const nt=s.count;for(let rt=0;rt<nt;rt++)for(let it=0;it<tt;it++)o.setComponent(rt+et,it,s.getComponent(rt,it))}else o.array.set(s.array,et*tt);o.needsUpdate=!0}class BatchedMesh extends Mesh{get maxGeometryCount(){return this._maxGeometryCount}constructor(o,et,tt=et*2,nt){super(new BufferGeometry,nt),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=o,this._maxVertexCount=et,this._maxIndexCount=tt,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(o),this._multiDrawStarts=new Int32Array(o),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let o=Math.sqrt(this._maxGeometryCount*4);o=Math.ceil(o/4)*4,o=Math.max(o,4);const et=new Float32Array(o*o*4),tt=new DataTexture(et,o,o,RGBAFormat,FloatType);this._matricesTexture=tt}_initColorsTexture(){let o=Math.sqrt(this._maxGeometryCount);o=Math.ceil(o);const et=new Float32Array(o*o*4).fill(1),tt=new DataTexture(et,o,o,RGBAFormat,FloatType);tt.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=tt}_initializeGeometry(o){const et=this.geometry,tt=this._maxVertexCount,nt=this._maxGeometryCount,rt=this._maxIndexCount;if(this._geometryInitialized===!1){for(const ot in o.attributes){const st=o.getAttribute(ot),{array:at,itemSize:lt,normalized:ct}=st,ut=new at.constructor(tt*lt),dt=new BufferAttribute(ut,lt,ct);et.setAttribute(ot,dt)}if(o.getIndex()!==null){const ot=tt>65536?new Uint32Array(rt):new Uint16Array(rt);et.setIndex(new BufferAttribute(ot,1))}const it=nt>65536?new Uint32Array(tt):new Uint16Array(tt);et.setAttribute(ID_ATTR_NAME,new BufferAttribute(it,1)),this._geometryInitialized=!0}}_validateGeometry(o){if(o.getAttribute(ID_ATTR_NAME))throw new Error(`BatchedMesh: Geometry cannot use attribute "${ID_ATTR_NAME}"`);const et=this.geometry;if(!!o.getIndex()!=!!et.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const tt in et.attributes){if(tt===ID_ATTR_NAME)continue;if(!o.hasAttribute(tt))throw new Error(`BatchedMesh: Added geometry missing "${tt}". All geometries must have consistent attributes.`);const nt=o.getAttribute(tt),rt=et.getAttribute(tt);if(nt.itemSize!==rt.itemSize||nt.normalized!==rt.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(o){return this.customSort=o,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const o=this._geometryCount,et=this.boundingBox,tt=this._active;et.makeEmpty();for(let nt=0;nt<o;nt++)tt[nt]!==!1&&(this.getMatrixAt(nt,_matrix$1),this.getBoundingBoxAt(nt,_box$1$1).applyMatrix4(_matrix$1),et.union(_box$1$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const o=this._geometryCount,et=this.boundingSphere,tt=this._active;et.makeEmpty();for(let nt=0;nt<o;nt++)tt[nt]!==!1&&(this.getMatrixAt(nt,_matrix$1),this.getBoundingSphereAt(nt,_sphere$2).applyMatrix4(_matrix$1),et.union(_sphere$2))}addGeometry(o,et=-1,tt=-1){if(this._initializeGeometry(o),this._validateGeometry(o),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const nt={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let rt=null;const it=this._reservedRanges,ot=this._drawRanges,st=this._bounds;this._geometryCount!==0&&(rt=it[it.length-1]),et===-1?nt.vertexCount=o.getAttribute("position").count:nt.vertexCount=et,rt===null?nt.vertexStart=0:nt.vertexStart=rt.vertexStart+rt.vertexCount;const at=o.getIndex(),lt=at!==null;if(lt&&(tt===-1?nt.indexCount=at.count:nt.indexCount=tt,rt===null?nt.indexStart=0:nt.indexStart=rt.indexStart+rt.indexCount),nt.indexStart!==-1&&nt.indexStart+nt.indexCount>this._maxIndexCount||nt.vertexStart+nt.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const ct=this._visibility,ut=this._active,dt=this._matricesTexture,ht=this._matricesTexture.image.data,pt=this._colorsTexture;ct.push(!0),ut.push(!0);const gt=this._geometryCount;this._geometryCount++,_identityMatrix$2.toArray(ht,gt*16),dt.needsUpdate=!0,pt!==null&&(_whiteColor.toArray(pt.image.data,gt*4),pt.needsUpdate=!0),it.push(nt),ot.push({start:lt?nt.indexStart:nt.vertexStart,count:-1}),st.push({boxInitialized:!1,box:new Box3,sphereInitialized:!1,sphere:new Sphere$1});const ft=this.geometry.getAttribute(ID_ATTR_NAME);for(let yt=0;yt<nt.vertexCount;yt++)ft.setX(nt.vertexStart+yt,gt);return ft.needsUpdate=!0,this.setGeometryAt(gt,o),gt}setGeometryAt(o,et){if(o>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(et);const tt=this.geometry,nt=tt.getIndex()!==null,rt=tt.getIndex(),it=et.getIndex(),ot=this._reservedRanges[o];if(nt&&it.count>ot.indexCount||et.attributes.position.count>ot.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const st=ot.vertexStart,at=ot.vertexCount;for(const dt in tt.attributes){if(dt===ID_ATTR_NAME)continue;const ht=et.getAttribute(dt),pt=tt.getAttribute(dt);copyAttributeData(ht,pt,st);const gt=ht.itemSize;for(let ft=ht.count,yt=at;ft<yt;ft++){const mt=st+ft;for(let Ft=0;Ft<gt;Ft++)pt.setComponent(mt,Ft,0)}pt.needsUpdate=!0,pt.addUpdateRange(st*gt,at*gt)}if(nt){const dt=ot.indexStart;for(let ht=0;ht<it.count;ht++)rt.setX(dt+ht,st+it.getX(ht));for(let ht=it.count,pt=ot.indexCount;ht<pt;ht++)rt.setX(dt+ht,st);rt.needsUpdate=!0,rt.addUpdateRange(dt,ot.indexCount)}const lt=this._bounds[o];et.boundingBox!==null?(lt.box.copy(et.boundingBox),lt.boxInitialized=!0):lt.boxInitialized=!1,et.boundingSphere!==null?(lt.sphere.copy(et.boundingSphere),lt.sphereInitialized=!0):lt.sphereInitialized=!1;const ct=this._drawRanges[o],ut=et.getAttribute("position");return ct.count=nt?it.count:ut.count,this._visibilityChanged=!0,o}deleteGeometry(o){const et=this._active;return o>=et.length||et[o]===!1?this:(et[o]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(o){return this._multiDrawInstances===null?null:this._multiDrawInstances[o]}setInstanceCountAt(o,et){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[o]=et,o}getBoundingBoxAt(o,et){if(this._active[o]===!1)return null;const nt=this._bounds[o],rt=nt.box,it=this.geometry;if(nt.boxInitialized===!1){rt.makeEmpty();const ot=it.index,st=it.attributes.position,at=this._drawRanges[o];for(let lt=at.start,ct=at.start+at.count;lt<ct;lt++){let ut=lt;ot&&(ut=ot.getX(ut)),rt.expandByPoint(_vector$5.fromBufferAttribute(st,ut))}nt.boxInitialized=!0}return et.copy(rt),et}getBoundingSphereAt(o,et){if(this._active[o]===!1)return null;const nt=this._bounds[o],rt=nt.sphere,it=this.geometry;if(nt.sphereInitialized===!1){rt.makeEmpty(),this.getBoundingBoxAt(o,_box$1$1),_box$1$1.getCenter(rt.center);const ot=it.index,st=it.attributes.position,at=this._drawRanges[o];let lt=0;for(let ct=at.start,ut=at.start+at.count;ct<ut;ct++){let dt=ct;ot&&(dt=ot.getX(dt)),_vector$5.fromBufferAttribute(st,dt),lt=Math.max(lt,rt.center.distanceToSquared(_vector$5))}rt.radius=Math.sqrt(lt),nt.sphereInitialized=!0}return et.copy(rt),et}setMatrixAt(o,et){const tt=this._active,nt=this._matricesTexture,rt=this._matricesTexture.image.data,it=this._geometryCount;return o>=it||tt[o]===!1?this:(et.toArray(rt,o*16),nt.needsUpdate=!0,this)}getMatrixAt(o,et){const tt=this._active,nt=this._matricesTexture.image.data,rt=this._geometryCount;return o>=rt||tt[o]===!1?null:et.fromArray(nt,o*16)}setColorAt(o,et){this._colorsTexture===null&&this._initColorsTexture();const tt=this._active,nt=this._colorsTexture,rt=this._colorsTexture.image.data,it=this._geometryCount;return o>=it||tt[o]===!1?this:(et.toArray(rt,o*4),nt.needsUpdate=!0,this)}getColorAt(o,et){const tt=this._active,nt=this._colorsTexture.image.data,rt=this._geometryCount;return o>=rt||tt[o]===!1?null:et.fromArray(nt,o*4)}setVisibleAt(o,et){const tt=this._visibility,nt=this._active,rt=this._geometryCount;return o>=rt||nt[o]===!1||tt[o]===et?this:(tt[o]=et,this._visibilityChanged=!0,this)}getVisibleAt(o){const et=this._visibility,tt=this._active,nt=this._geometryCount;return o>=nt||tt[o]===!1?!1:et[o]}raycast(o,et){const tt=this._visibility,nt=this._active,rt=this._drawRanges,it=this._geometryCount,ot=this.matrixWorld,st=this.geometry;_mesh.material=this.material,_mesh.geometry.index=st.index,_mesh.geometry.attributes=st.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere$1);for(let at=0;at<it;at++){if(!tt[at]||!nt[at])continue;const lt=rt[at];_mesh.geometry.setDrawRange(lt.start,lt.count),this.getMatrixAt(at,_mesh.matrixWorld).premultiply(ot),this.getBoundingBoxAt(at,_mesh.geometry.boundingBox),this.getBoundingSphereAt(at,_mesh.geometry.boundingSphere),_mesh.raycast(o,_batchIntersects);for(let ct=0,ut=_batchIntersects.length;ct<ut;ct++){const dt=_batchIntersects[ct];dt.object=this,dt.batchId=at,et.push(dt)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(o){return super.copy(o),this.geometry=o.geometry.clone(),this.perObjectFrustumCulled=o.perObjectFrustumCulled,this.sortObjects=o.sortObjects,this.boundingBox=o.boundingBox!==null?o.boundingBox.clone():null,this.boundingSphere=o.boundingSphere!==null?o.boundingSphere.clone():null,this._drawRanges=o._drawRanges.map(et=>({...et})),this._reservedRanges=o._reservedRanges.map(et=>({...et})),this._visibility=o._visibility.slice(),this._active=o._active.slice(),this._bounds=o._bounds.map(et=>({boxInitialized:et.boxInitialized,box:et.box.clone(),sphereInitialized:et.sphereInitialized,sphere:et.sphere.clone()})),this._maxGeometryCount=o._maxGeometryCount,this._maxVertexCount=o._maxVertexCount,this._maxIndexCount=o._maxIndexCount,this._geometryInitialized=o._geometryInitialized,this._geometryCount=o._geometryCount,this._multiDrawCounts=o._multiDrawCounts.slice(),this._multiDrawStarts=o._multiDrawStarts.slice(),this._matricesTexture=o._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=o._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(o,et,tt,nt,rt){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const it=nt.getIndex(),ot=it===null?1:it.array.BYTES_PER_ELEMENT,st=this._active,at=this._visibility,lt=this._multiDrawStarts,ct=this._multiDrawCounts,ut=this._drawRanges,dt=this.perObjectFrustumCulled;dt&&(_projScreenMatrix$2.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_projScreenMatrix$2,o.coordinateSystem));let ht=0;if(this.sortObjects){_invMatrixWorld.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(tt.matrixWorld).applyMatrix4(_invMatrixWorld),_forward.set(0,0,-1).transformDirection(tt.matrixWorld).transformDirection(_invMatrixWorld);for(let ft=0,yt=at.length;ft<yt;ft++)if(at[ft]&&st[ft]){this.getMatrixAt(ft,_matrix$1),this.getBoundingSphereAt(ft,_sphere$2).applyMatrix4(_matrix$1);let mt=!1;if(dt&&(mt=!_frustum.intersectsSphere(_sphere$2)),!mt){const Ft=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(ut[ft],Ft)}}const pt=_renderList.list,gt=this.customSort;gt===null?pt.sort(rt.transparent?sortTransparent:sortOpaque):gt.call(this,pt,tt);for(let ft=0,yt=pt.length;ft<yt;ft++){const mt=pt[ft];lt[ht]=mt.start*ot,ct[ht]=mt.count,ht++}_renderList.reset()}else for(let pt=0,gt=at.length;pt<gt;pt++)if(at[pt]&&st[pt]){let ft=!1;if(dt&&(this.getMatrixAt(pt,_matrix$1),this.getBoundingSphereAt(pt,_sphere$2).applyMatrix4(_matrix$1),ft=!_frustum.intersectsSphere(_sphere$2)),!ft){const yt=ut[pt];lt[ht]=yt.start*ot,ct[ht]=yt.count,ht++}}this._multiDrawCount=ht,this._visibilityChanged=!1}onBeforeShadow(o,et,tt,nt,rt,it){this.onBeforeRender(o,null,nt,rt,it)}}class LineBasicMaterial extends Material{constructor(o){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.linewidth=o.linewidth,this.linecap=o.linecap,this.linejoin=o.linejoin,this.fog=o.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray$1,_sphere$1$1=new Sphere$1,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;let Line$1=class extends Object3D{constructor(o=new BufferGeometry,et=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=o,this.material=et,this.updateMorphTargets()}copy(o,et){return super.copy(o,et),this.material=Array.isArray(o.material)?o.material.slice():o.material,this.geometry=o.geometry,this}computeLineDistances(){const o=this.geometry;if(o.index===null){const et=o.attributes.position,tt=[0];for(let nt=1,rt=et.count;nt<rt;nt++)_vStart.fromBufferAttribute(et,nt-1),_vEnd.fromBufferAttribute(et,nt),tt[nt]=tt[nt-1],tt[nt]+=_vStart.distanceTo(_vEnd);o.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(o,et){const tt=this.geometry,nt=this.matrixWorld,rt=o.params.Line.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$1$1.copy(tt.boundingSphere),_sphere$1$1.applyMatrix4(nt),_sphere$1$1.radius+=rt,o.ray.intersectsSphere(_sphere$1$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(o.ray).applyMatrix4(_inverseMatrix$1);const ot=rt/((this.scale.x+this.scale.y+this.scale.z)/3),st=ot*ot,at=this.isLineSegments?2:1,lt=tt.index,ut=tt.attributes.position;if(lt!==null){const dt=Math.max(0,it.start),ht=Math.min(lt.count,it.start+it.count);for(let pt=dt,gt=ht-1;pt<gt;pt+=at){const ft=lt.getX(pt),yt=lt.getX(pt+1),mt=checkIntersection(this,o,_ray$1,st,ft,yt);mt&&et.push(mt)}if(this.isLineLoop){const pt=lt.getX(ht-1),gt=lt.getX(dt),ft=checkIntersection(this,o,_ray$1,st,pt,gt);ft&&et.push(ft)}}else{const dt=Math.max(0,it.start),ht=Math.min(ut.count,it.start+it.count);for(let pt=dt,gt=ht-1;pt<gt;pt+=at){const ft=checkIntersection(this,o,_ray$1,st,pt,pt+1);ft&&et.push(ft)}if(this.isLineLoop){const pt=checkIntersection(this,o,_ray$1,st,ht-1,dt);pt&&et.push(pt)}}}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=rt}}}}};function checkIntersection(s,o,et,tt,nt,rt){const it=s.geometry.attributes.position;if(_vStart.fromBufferAttribute(it,nt),_vEnd.fromBufferAttribute(it,rt),et.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>tt)return;_intersectPointOnRay.applyMatrix4(s.matrixWorld);const st=o.ray.origin.distanceTo(_intersectPointOnRay);if(!(st<o.near||st>o.far))return{distance:st,point:_intersectPointOnSegment.clone().applyMatrix4(s.matrixWorld),index:nt,face:null,faceIndex:null,object:s}}const _start$1=new Vector3,_end$1=new Vector3;class LineSegments extends Line$1{constructor(o,et){super(o,et),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const o=this.geometry;if(o.index===null){const et=o.attributes.position,tt=[];for(let nt=0,rt=et.count;nt<rt;nt+=2)_start$1.fromBufferAttribute(et,nt),_end$1.fromBufferAttribute(et,nt+1),tt[nt]=nt===0?0:tt[nt-1],tt[nt+1]=tt[nt]+_start$1.distanceTo(_end$1);o.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line$1{constructor(o,et){super(o,et),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(o){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.size=o.size,this.sizeAttenuation=o.sizeAttenuation,this.fog=o.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray$1,_sphere$7=new Sphere$1,_position$2=new Vector3;class Points extends Object3D{constructor(o=new BufferGeometry,et=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=o,this.material=et,this.updateMorphTargets()}copy(o,et){return super.copy(o,et),this.material=Array.isArray(o.material)?o.material.slice():o.material,this.geometry=o.geometry,this}raycast(o,et){const tt=this.geometry,nt=this.matrixWorld,rt=o.params.Points.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$7.copy(tt.boundingSphere),_sphere$7.applyMatrix4(nt),_sphere$7.radius+=rt,o.ray.intersectsSphere(_sphere$7)===!1)return;_inverseMatrix.copy(nt).invert(),_ray$4.copy(o.ray).applyMatrix4(_inverseMatrix);const ot=rt/((this.scale.x+this.scale.y+this.scale.z)/3),st=ot*ot,at=tt.index,ct=tt.attributes.position;if(at!==null){const ut=Math.max(0,it.start),dt=Math.min(at.count,it.start+it.count);for(let ht=ut,pt=dt;ht<pt;ht++){const gt=at.getX(ht);_position$2.fromBufferAttribute(ct,gt),testPoint(_position$2,gt,st,nt,o,et,this)}}else{const ut=Math.max(0,it.start),dt=Math.min(ct.count,it.start+it.count);for(let ht=ut,pt=dt;ht<pt;ht++)_position$2.fromBufferAttribute(ct,ht),testPoint(_position$2,ht,st,nt,o,et,this)}}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=rt}}}}}function testPoint(s,o,et,tt,nt,rt,it){const ot=_ray$4.distanceSqToPoint(s);if(ot<et){const st=new Vector3;_ray$4.closestPointToPoint(s,st),st.applyMatrix4(tt);const at=nt.ray.origin.distanceTo(st);if(at<nt.near||at>nt.far)return;rt.push({distance:at,distanceToRay:Math.sqrt(ot),point:st,index:o,face:null,object:it})}}class VideoTexture extends Texture{constructor(o,et,tt,nt,rt,it,ot,st,at){super(o,et,tt,nt,rt,it,ot,st,at),this.isVideoTexture=!0,this.minFilter=it!==void 0?it:LinearFilter,this.magFilter=rt!==void 0?rt:LinearFilter,this.generateMipmaps=!1;const lt=this;function ct(){lt.needsUpdate=!0,o.requestVideoFrameCallback(ct)}"requestVideoFrameCallback"in o&&o.requestVideoFrameCallback(ct)}clone(){return new this.constructor(this.image).copy(this)}update(){const o=this.image;"requestVideoFrameCallback"in o===!1&&o.readyState>=o.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(o,et){super({width:o,height:et}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(o,et,tt,nt,rt,it,ot,st,at,lt,ct,ut){super(null,it,ot,st,at,lt,nt,rt,ct,ut),this.isCompressedTexture=!0,this.image={width:et,height:tt},this.mipmaps=o,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(o,et,tt,nt,rt,it){super(o,et,tt,rt,it),this.isCompressedArrayTexture=!0,this.image.depth=nt,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdates(o){this.layerUpdates.add(o)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(o,et,tt){super(void 0,o[0].width,o[0].height,et,tt,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=o}}class CanvasTexture extends Texture{constructor(o,et,tt,nt,rt,it,ot,st,at){super(o,et,tt,nt,rt,it,ot,st,at),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(o,et){const tt=this.getUtoTmapping(o);return this.getPoint(tt,et)}getPoints(o=5){const et=[];for(let tt=0;tt<=o;tt++)et.push(this.getPoint(tt/o));return et}getSpacedPoints(o=5){const et=[];for(let tt=0;tt<=o;tt++)et.push(this.getPointAt(tt/o));return et}getLength(){const o=this.getLengths();return o[o.length-1]}getLengths(o=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const et=[];let tt,nt=this.getPoint(0),rt=0;et.push(0);for(let it=1;it<=o;it++)tt=this.getPoint(it/o),rt+=tt.distanceTo(nt),et.push(rt),nt=tt;return this.cacheArcLengths=et,et}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(o,et){const tt=this.getLengths();let nt=0;const rt=tt.length;let it;et?it=et:it=o*tt[rt-1];let ot=0,st=rt-1,at;for(;ot<=st;)if(nt=Math.floor(ot+(st-ot)/2),at=tt[nt]-it,at<0)ot=nt+1;else if(at>0)st=nt-1;else{st=nt;break}if(nt=st,tt[nt]===it)return nt/(rt-1);const lt=tt[nt],ut=tt[nt+1]-lt,dt=(it-lt)/ut;return(nt+dt)/(rt-1)}getTangent(o,et){let nt=o-1e-4,rt=o+1e-4;nt<0&&(nt=0),rt>1&&(rt=1);const it=this.getPoint(nt),ot=this.getPoint(rt),st=et||(it.isVector2?new Vector2:new Vector3);return st.copy(ot).sub(it).normalize(),st}getTangentAt(o,et){const tt=this.getUtoTmapping(o);return this.getTangent(tt,et)}computeFrenetFrames(o,et){const tt=new Vector3,nt=[],rt=[],it=[],ot=new Vector3,st=new Matrix4;for(let dt=0;dt<=o;dt++){const ht=dt/o;nt[dt]=this.getTangentAt(ht,new Vector3)}rt[0]=new Vector3,it[0]=new Vector3;let at=Number.MAX_VALUE;const lt=Math.abs(nt[0].x),ct=Math.abs(nt[0].y),ut=Math.abs(nt[0].z);lt<=at&&(at=lt,tt.set(1,0,0)),ct<=at&&(at=ct,tt.set(0,1,0)),ut<=at&&tt.set(0,0,1),ot.crossVectors(nt[0],tt).normalize(),rt[0].crossVectors(nt[0],ot),it[0].crossVectors(nt[0],rt[0]);for(let dt=1;dt<=o;dt++){if(rt[dt]=rt[dt-1].clone(),it[dt]=it[dt-1].clone(),ot.crossVectors(nt[dt-1],nt[dt]),ot.length()>Number.EPSILON){ot.normalize();const ht=Math.acos(clamp$3(nt[dt-1].dot(nt[dt]),-1,1));rt[dt].applyMatrix4(st.makeRotationAxis(ot,ht))}it[dt].crossVectors(nt[dt],rt[dt])}if(et===!0){let dt=Math.acos(clamp$3(rt[0].dot(rt[o]),-1,1));dt/=o,nt[0].dot(ot.crossVectors(rt[0],rt[o]))>0&&(dt=-dt);for(let ht=1;ht<=o;ht++)rt[ht].applyMatrix4(st.makeRotationAxis(nt[ht],dt*ht)),it[ht].crossVectors(nt[ht],rt[ht])}return{tangents:nt,normals:rt,binormals:it}}clone(){return new this.constructor().copy(this)}copy(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}toJSON(){const o={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return o.arcLengthDivisions=this.arcLengthDivisions,o.type=this.type,o}fromJSON(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(o=0,et=0,tt=1,nt=1,rt=0,it=Math.PI*2,ot=!1,st=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=o,this.aY=et,this.xRadius=tt,this.yRadius=nt,this.aStartAngle=rt,this.aEndAngle=it,this.aClockwise=ot,this.aRotation=st}getPoint(o,et=new Vector2){const tt=et,nt=Math.PI*2;let rt=this.aEndAngle-this.aStartAngle;const it=Math.abs(rt)<Number.EPSILON;for(;rt<0;)rt+=nt;for(;rt>nt;)rt-=nt;rt<Number.EPSILON&&(it?rt=0:rt=nt),this.aClockwise===!0&&!it&&(rt===nt?rt=-nt:rt=rt-nt);const ot=this.aStartAngle+o*rt;let st=this.aX+this.xRadius*Math.cos(ot),at=this.aY+this.yRadius*Math.sin(ot);if(this.aRotation!==0){const lt=Math.cos(this.aRotation),ct=Math.sin(this.aRotation),ut=st-this.aX,dt=at-this.aY;st=ut*lt-dt*ct+this.aX,at=ut*ct+dt*lt+this.aY}return tt.set(st,at)}copy(o){return super.copy(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}toJSON(){const o=super.toJSON();return o.aX=this.aX,o.aY=this.aY,o.xRadius=this.xRadius,o.yRadius=this.yRadius,o.aStartAngle=this.aStartAngle,o.aEndAngle=this.aEndAngle,o.aClockwise=this.aClockwise,o.aRotation=this.aRotation,o}fromJSON(o){return super.fromJSON(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(o,et,tt,nt,rt,it){super(o,et,tt,tt,nt,rt,it),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let s=0,o=0,et=0,tt=0;function nt(rt,it,ot,st){s=rt,o=ot,et=-3*rt+3*it-2*ot-st,tt=2*rt-2*it+ot+st}return{initCatmullRom:function(rt,it,ot,st,at){nt(it,ot,at*(ot-rt),at*(st-it))},initNonuniformCatmullRom:function(rt,it,ot,st,at,lt,ct){let ut=(it-rt)/at-(ot-rt)/(at+lt)+(ot-it)/lt,dt=(ot-it)/lt-(st-it)/(lt+ct)+(st-ot)/ct;ut*=lt,dt*=lt,nt(it,ot,ut,dt)},calc:function(rt){const it=rt*rt,ot=it*rt;return s+o*rt+et*it+tt*ot}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(o=[],et=!1,tt="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=o,this.closed=et,this.curveType=tt,this.tension=nt}getPoint(o,et=new Vector3){const tt=et,nt=this.points,rt=nt.length,it=(rt-(this.closed?0:1))*o;let ot=Math.floor(it),st=it-ot;this.closed?ot+=ot>0?0:(Math.floor(Math.abs(ot)/rt)+1)*rt:st===0&&ot===rt-1&&(ot=rt-2,st=1);let at,lt;this.closed||ot>0?at=nt[(ot-1)%rt]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),at=tmp);const ct=nt[ot%rt],ut=nt[(ot+1)%rt];if(this.closed||ot+2<rt?lt=nt[(ot+2)%rt]:(tmp.subVectors(nt[rt-1],nt[rt-2]).add(nt[rt-1]),lt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const dt=this.curveType==="chordal"?.5:.25;let ht=Math.pow(at.distanceToSquared(ct),dt),pt=Math.pow(ct.distanceToSquared(ut),dt),gt=Math.pow(ut.distanceToSquared(lt),dt);pt<1e-4&&(pt=1),ht<1e-4&&(ht=pt),gt<1e-4&&(gt=pt),px.initNonuniformCatmullRom(at.x,ct.x,ut.x,lt.x,ht,pt,gt),py.initNonuniformCatmullRom(at.y,ct.y,ut.y,lt.y,ht,pt,gt),pz.initNonuniformCatmullRom(at.z,ct.z,ut.z,lt.z,ht,pt,gt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(at.x,ct.x,ut.x,lt.x,this.tension),py.initCatmullRom(at.y,ct.y,ut.y,lt.y,this.tension),pz.initCatmullRom(at.z,ct.z,ut.z,lt.z,this.tension));return tt.set(px.calc(st),py.calc(st),pz.calc(st)),tt}copy(o){super.copy(o),this.points=[];for(let et=0,tt=o.points.length;et<tt;et++){const nt=o.points[et];this.points.push(nt.clone())}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}toJSON(){const o=super.toJSON();o.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];o.points.push(nt.toArray())}return o.closed=this.closed,o.curveType=this.curveType,o.tension=this.tension,o}fromJSON(o){super.fromJSON(o),this.points=[];for(let et=0,tt=o.points.length;et<tt;et++){const nt=o.points[et];this.points.push(new Vector3().fromArray(nt))}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}}function CatmullRom(s,o,et,tt,nt){const rt=(tt-o)*.5,it=(nt-et)*.5,ot=s*s,st=s*ot;return(2*et-2*tt+rt+it)*st+(-3*et+3*tt-2*rt-it)*ot+rt*s+et}function QuadraticBezierP0(s,o){const et=1-s;return et*et*o}function QuadraticBezierP1(s,o){return 2*(1-s)*s*o}function QuadraticBezierP2(s,o){return s*s*o}function QuadraticBezier(s,o,et,tt){return QuadraticBezierP0(s,o)+QuadraticBezierP1(s,et)+QuadraticBezierP2(s,tt)}function CubicBezierP0(s,o){const et=1-s;return et*et*et*o}function CubicBezierP1(s,o){const et=1-s;return 3*et*et*s*o}function CubicBezierP2(s,o){return 3*(1-s)*s*s*o}function CubicBezierP3(s,o){return s*s*s*o}function CubicBezier(s,o,et,tt,nt){return CubicBezierP0(s,o)+CubicBezierP1(s,et)+CubicBezierP2(s,tt)+CubicBezierP3(s,nt)}class CubicBezierCurve extends Curve{constructor(o=new Vector2,et=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=o,this.v1=et,this.v2=tt,this.v3=nt}getPoint(o,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,ot=this.v3;return tt.set(CubicBezier(o,nt.x,rt.x,it.x,ot.x),CubicBezier(o,nt.y,rt.y,it.y,ot.y)),tt}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}class CubicBezierCurve3 extends Curve{constructor(o=new Vector3,et=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=o,this.v1=et,this.v2=tt,this.v3=nt}getPoint(o,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,ot=this.v3;return tt.set(CubicBezier(o,nt.x,rt.x,it.x,ot.x),CubicBezier(o,nt.y,rt.y,it.y,ot.y),CubicBezier(o,nt.z,rt.z,it.z,ot.z)),tt}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}class LineCurve extends Curve{constructor(o=new Vector2,et=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=o,this.v2=et}getPoint(o,et=new Vector2){const tt=et;return o===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(o).add(this.v1)),tt}getPointAt(o,et){return this.getPoint(o,et)}getTangent(o,et=new Vector2){return et.subVectors(this.v2,this.v1).normalize()}getTangentAt(o,et){return this.getTangent(o,et)}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class LineCurve3 extends Curve{constructor(o=new Vector3,et=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=o,this.v2=et}getPoint(o,et=new Vector3){const tt=et;return o===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(o).add(this.v1)),tt}getPointAt(o,et){return this.getPoint(o,et)}getTangent(o,et=new Vector3){return et.subVectors(this.v2,this.v1).normalize()}getTangentAt(o,et){return this.getTangent(o,et)}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class QuadraticBezierCurve extends Curve{constructor(o=new Vector2,et=new Vector2,tt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=o,this.v1=et,this.v2=tt}getPoint(o,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(o,nt.x,rt.x,it.x),QuadraticBezier(o,nt.y,rt.y,it.y)),tt}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(o=new Vector3,et=new Vector3,tt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=o,this.v1=et,this.v2=tt}getPoint(o,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(o,nt.x,rt.x,it.x),QuadraticBezier(o,nt.y,rt.y,it.y),QuadraticBezier(o,nt.z,rt.z,it.z)),tt}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class SplineCurve extends Curve{constructor(o=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=o}getPoint(o,et=new Vector2){const tt=et,nt=this.points,rt=(nt.length-1)*o,it=Math.floor(rt),ot=rt-it,st=nt[it===0?it:it-1],at=nt[it],lt=nt[it>nt.length-2?nt.length-1:it+1],ct=nt[it>nt.length-3?nt.length-1:it+2];return tt.set(CatmullRom(ot,st.x,at.x,lt.x,ct.x),CatmullRom(ot,st.y,at.y,lt.y,ct.y)),tt}copy(o){super.copy(o),this.points=[];for(let et=0,tt=o.points.length;et<tt;et++){const nt=o.points[et];this.points.push(nt.clone())}return this}toJSON(){const o=super.toJSON();o.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];o.points.push(nt.toArray())}return o}fromJSON(o){super.fromJSON(o),this.points=[];for(let et=0,tt=o.points.length;et<tt;et++){const nt=o.points[et];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(o){this.curves.push(o)}closePath(){const o=this.curves[0].getPoint(0),et=this.curves[this.curves.length-1].getPoint(1);if(!o.equals(et)){const tt=o.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[tt](et,o))}return this}getPoint(o,et){const tt=o*this.getLength(),nt=this.getCurveLengths();let rt=0;for(;rt<nt.length;){if(nt[rt]>=tt){const it=nt[rt]-tt,ot=this.curves[rt],st=ot.getLength(),at=st===0?0:1-it/st;return ot.getPointAt(at,et)}rt++}return null}getLength(){const o=this.getCurveLengths();return o[o.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const o=[];let et=0;for(let tt=0,nt=this.curves.length;tt<nt;tt++)et+=this.curves[tt].getLength(),o.push(et);return this.cacheLengths=o,o}getSpacedPoints(o=40){const et=[];for(let tt=0;tt<=o;tt++)et.push(this.getPoint(tt/o));return this.autoClose&&et.push(et[0]),et}getPoints(o=12){const et=[];let tt;for(let nt=0,rt=this.curves;nt<rt.length;nt++){const it=rt[nt],ot=it.isEllipseCurve?o*2:it.isLineCurve||it.isLineCurve3?1:it.isSplineCurve?o*it.points.length:o,st=it.getPoints(ot);for(let at=0;at<st.length;at++){const lt=st[at];tt&&tt.equals(lt)||(et.push(lt),tt=lt)}}return this.autoClose&&et.length>1&&!et[et.length-1].equals(et[0])&&et.push(et[0]),et}copy(o){super.copy(o),this.curves=[];for(let et=0,tt=o.curves.length;et<tt;et++){const nt=o.curves[et];this.curves.push(nt.clone())}return this.autoClose=o.autoClose,this}toJSON(){const o=super.toJSON();o.autoClose=this.autoClose,o.curves=[];for(let et=0,tt=this.curves.length;et<tt;et++){const nt=this.curves[et];o.curves.push(nt.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.autoClose=o.autoClose,this.curves=[];for(let et=0,tt=o.curves.length;et<tt;et++){const nt=o.curves[et];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}let Path$1=class extends CurvePath{constructor(o){super(),this.type="Path",this.currentPoint=new Vector2,o&&this.setFromPoints(o)}setFromPoints(o){this.moveTo(o[0].x,o[0].y);for(let et=1,tt=o.length;et<tt;et++)this.lineTo(o[et].x,o[et].y);return this}moveTo(o,et){return this.currentPoint.set(o,et),this}lineTo(o,et){const tt=new LineCurve(this.currentPoint.clone(),new Vector2(o,et));return this.curves.push(tt),this.currentPoint.set(o,et),this}quadraticCurveTo(o,et,tt,nt){const rt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(o,et),new Vector2(tt,nt));return this.curves.push(rt),this.currentPoint.set(tt,nt),this}bezierCurveTo(o,et,tt,nt,rt,it){const ot=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(o,et),new Vector2(tt,nt),new Vector2(rt,it));return this.curves.push(ot),this.currentPoint.set(rt,it),this}splineThru(o){const et=[this.currentPoint.clone()].concat(o),tt=new SplineCurve(et);return this.curves.push(tt),this.currentPoint.copy(o[o.length-1]),this}arc(o,et,tt,nt,rt,it){const ot=this.currentPoint.x,st=this.currentPoint.y;return this.absarc(o+ot,et+st,tt,nt,rt,it),this}absarc(o,et,tt,nt,rt,it){return this.absellipse(o,et,tt,tt,nt,rt,it),this}ellipse(o,et,tt,nt,rt,it,ot,st){const at=this.currentPoint.x,lt=this.currentPoint.y;return this.absellipse(o+at,et+lt,tt,nt,rt,it,ot,st),this}absellipse(o,et,tt,nt,rt,it,ot,st){const at=new EllipseCurve(o,et,tt,nt,rt,it,ot,st);if(this.curves.length>0){const ct=at.getPoint(0);ct.equals(this.currentPoint)||this.lineTo(ct.x,ct.y)}this.curves.push(at);const lt=at.getPoint(1);return this.currentPoint.copy(lt),this}copy(o){return super.copy(o),this.currentPoint.copy(o.currentPoint),this}toJSON(){const o=super.toJSON();return o.currentPoint=this.currentPoint.toArray(),o}fromJSON(o){return super.fromJSON(o),this.currentPoint.fromArray(o.currentPoint),this}};class LatheGeometry extends BufferGeometry{constructor(o=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],et=12,tt=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:o,segments:et,phiStart:tt,phiLength:nt},et=Math.floor(et),nt=clamp$3(nt,0,Math.PI*2);const rt=[],it=[],ot=[],st=[],at=[],lt=1/et,ct=new Vector3,ut=new Vector2,dt=new Vector3,ht=new Vector3,pt=new Vector3;let gt=0,ft=0;for(let yt=0;yt<=o.length-1;yt++)switch(yt){case 0:gt=o[yt+1].x-o[yt].x,ft=o[yt+1].y-o[yt].y,dt.x=ft*1,dt.y=-gt,dt.z=ft*0,pt.copy(dt),dt.normalize(),st.push(dt.x,dt.y,dt.z);break;case o.length-1:st.push(pt.x,pt.y,pt.z);break;default:gt=o[yt+1].x-o[yt].x,ft=o[yt+1].y-o[yt].y,dt.x=ft*1,dt.y=-gt,dt.z=ft*0,ht.copy(dt),dt.x+=pt.x,dt.y+=pt.y,dt.z+=pt.z,dt.normalize(),st.push(dt.x,dt.y,dt.z),pt.copy(ht)}for(let yt=0;yt<=et;yt++){const mt=tt+yt*lt*nt,Ft=Math.sin(mt),vt=Math.cos(mt);for(let Et=0;Et<=o.length-1;Et++){ct.x=o[Et].x*Ft,ct.y=o[Et].y,ct.z=o[Et].x*vt,it.push(ct.x,ct.y,ct.z),ut.x=yt/et,ut.y=Et/(o.length-1),ot.push(ut.x,ut.y);const wt=st[3*Et+0]*Ft,It=st[3*Et+1],St=st[3*Et+0]*vt;at.push(wt,It,St)}}for(let yt=0;yt<et;yt++)for(let mt=0;mt<o.length-1;mt++){const Ft=mt+yt*o.length,vt=Ft,Et=Ft+o.length,wt=Ft+o.length+1,It=Ft+1;rt.push(vt,Et,It),rt.push(wt,It,Et)}this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2)),this.setAttribute("normal",new Float32BufferAttribute(at,3))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new LatheGeometry(o.points,o.segments,o.phiStart,o.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(o=1,et=1,tt=4,nt=8){const rt=new Path$1;rt.absarc(0,-et/2,o,Math.PI*1.5,0),rt.absarc(0,et/2,o,0,Math.PI*.5),super(rt.getPoints(tt),nt),this.type="CapsuleGeometry",this.parameters={radius:o,length:et,capSegments:tt,radialSegments:nt}}static fromJSON(o){return new CapsuleGeometry(o.radius,o.length,o.capSegments,o.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(o=1,et=32,tt=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:o,segments:et,thetaStart:tt,thetaLength:nt},et=Math.max(3,et);const rt=[],it=[],ot=[],st=[],at=new Vector3,lt=new Vector2;it.push(0,0,0),ot.push(0,0,1),st.push(.5,.5);for(let ct=0,ut=3;ct<=et;ct++,ut+=3){const dt=tt+ct/et*nt;at.x=o*Math.cos(dt),at.y=o*Math.sin(dt),it.push(at.x,at.y,at.z),ot.push(0,0,1),lt.x=(it[ut]/o+1)/2,lt.y=(it[ut+1]/o+1)/2,st.push(lt.x,lt.y)}for(let ct=1;ct<=et;ct++)rt.push(ct,ct+1,0);this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new CircleGeometry(o.radius,o.segments,o.thetaStart,o.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(o=1,et=1,tt=1,nt=32,rt=1,it=!1,ot=0,st=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:o,radiusBottom:et,height:tt,radialSegments:nt,heightSegments:rt,openEnded:it,thetaStart:ot,thetaLength:st};const at=this;nt=Math.floor(nt),rt=Math.floor(rt);const lt=[],ct=[],ut=[],dt=[];let ht=0;const pt=[],gt=tt/2;let ft=0;yt(),it===!1&&(o>0&&mt(!0),et>0&&mt(!1)),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function yt(){const Ft=new Vector3,vt=new Vector3;let Et=0;const wt=(et-o)/tt;for(let It=0;It<=rt;It++){const St=[],Rt=It/rt,Tt=Rt*(et-o)+o;for(let bt=0;bt<=nt;bt++){const xt=bt/nt,Bt=xt*st+ot,Ct=Math.sin(Bt),Mt=Math.cos(Bt);vt.x=Tt*Ct,vt.y=-Rt*tt+gt,vt.z=Tt*Mt,ct.push(vt.x,vt.y,vt.z),Ft.set(Ct,wt,Mt).normalize(),ut.push(Ft.x,Ft.y,Ft.z),dt.push(xt,1-Rt),St.push(ht++)}pt.push(St)}for(let It=0;It<nt;It++)for(let St=0;St<rt;St++){const Rt=pt[St][It],Tt=pt[St+1][It],bt=pt[St+1][It+1],xt=pt[St][It+1];lt.push(Rt,Tt,xt),lt.push(Tt,bt,xt),Et+=6}at.addGroup(ft,Et,0),ft+=Et}function mt(Ft){const vt=ht,Et=new Vector2,wt=new Vector3;let It=0;const St=Ft===!0?o:et,Rt=Ft===!0?1:-1;for(let bt=1;bt<=nt;bt++)ct.push(0,gt*Rt,0),ut.push(0,Rt,0),dt.push(.5,.5),ht++;const Tt=ht;for(let bt=0;bt<=nt;bt++){const Bt=bt/nt*st+ot,Ct=Math.cos(Bt),Mt=Math.sin(Bt);wt.x=St*Mt,wt.y=gt*Rt,wt.z=St*Ct,ct.push(wt.x,wt.y,wt.z),ut.push(0,Rt,0),Et.x=Ct*.5+.5,Et.y=Mt*.5*Rt+.5,dt.push(Et.x,Et.y),ht++}for(let bt=0;bt<nt;bt++){const xt=vt+bt,Bt=Tt+bt;Ft===!0?lt.push(Bt,Bt+1,xt):lt.push(Bt+1,Bt,xt),It+=3}at.addGroup(ft,It,Ft===!0?1:2),ft+=It}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new CylinderGeometry(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(o=1,et=1,tt=32,nt=1,rt=!1,it=0,ot=Math.PI*2){super(0,o,et,tt,nt,rt,it,ot),this.type="ConeGeometry",this.parameters={radius:o,height:et,radialSegments:tt,heightSegments:nt,openEnded:rt,thetaStart:it,thetaLength:ot}}static fromJSON(o){return new ConeGeometry(o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(o=[],et=[],tt=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:o,indices:et,radius:tt,detail:nt};const rt=[],it=[];ot(nt),at(tt),lt(),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function ot(yt){const mt=new Vector3,Ft=new Vector3,vt=new Vector3;for(let Et=0;Et<et.length;Et+=3)dt(et[Et+0],mt),dt(et[Et+1],Ft),dt(et[Et+2],vt),st(mt,Ft,vt,yt)}function st(yt,mt,Ft,vt){const Et=vt+1,wt=[];for(let It=0;It<=Et;It++){wt[It]=[];const St=yt.clone().lerp(Ft,It/Et),Rt=mt.clone().lerp(Ft,It/Et),Tt=Et-It;for(let bt=0;bt<=Tt;bt++)bt===0&&It===Et?wt[It][bt]=St:wt[It][bt]=St.clone().lerp(Rt,bt/Tt)}for(let It=0;It<Et;It++)for(let St=0;St<2*(Et-It)-1;St++){const Rt=Math.floor(St/2);St%2===0?(ut(wt[It][Rt+1]),ut(wt[It+1][Rt]),ut(wt[It][Rt])):(ut(wt[It][Rt+1]),ut(wt[It+1][Rt+1]),ut(wt[It+1][Rt]))}}function at(yt){const mt=new Vector3;for(let Ft=0;Ft<rt.length;Ft+=3)mt.x=rt[Ft+0],mt.y=rt[Ft+1],mt.z=rt[Ft+2],mt.normalize().multiplyScalar(yt),rt[Ft+0]=mt.x,rt[Ft+1]=mt.y,rt[Ft+2]=mt.z}function lt(){const yt=new Vector3;for(let mt=0;mt<rt.length;mt+=3){yt.x=rt[mt+0],yt.y=rt[mt+1],yt.z=rt[mt+2];const Ft=gt(yt)/2/Math.PI+.5,vt=ft(yt)/Math.PI+.5;it.push(Ft,1-vt)}ht(),ct()}function ct(){for(let yt=0;yt<it.length;yt+=6){const mt=it[yt+0],Ft=it[yt+2],vt=it[yt+4],Et=Math.max(mt,Ft,vt),wt=Math.min(mt,Ft,vt);Et>.9&&wt<.1&&(mt<.2&&(it[yt+0]+=1),Ft<.2&&(it[yt+2]+=1),vt<.2&&(it[yt+4]+=1))}}function ut(yt){rt.push(yt.x,yt.y,yt.z)}function dt(yt,mt){const Ft=yt*3;mt.x=o[Ft+0],mt.y=o[Ft+1],mt.z=o[Ft+2]}function ht(){const yt=new Vector3,mt=new Vector3,Ft=new Vector3,vt=new Vector3,Et=new Vector2,wt=new Vector2,It=new Vector2;for(let St=0,Rt=0;St<rt.length;St+=9,Rt+=6){yt.set(rt[St+0],rt[St+1],rt[St+2]),mt.set(rt[St+3],rt[St+4],rt[St+5]),Ft.set(rt[St+6],rt[St+7],rt[St+8]),Et.set(it[Rt+0],it[Rt+1]),wt.set(it[Rt+2],it[Rt+3]),It.set(it[Rt+4],it[Rt+5]),vt.copy(yt).add(mt).add(Ft).divideScalar(3);const Tt=gt(vt);pt(Et,Rt+0,yt,Tt),pt(wt,Rt+2,mt,Tt),pt(It,Rt+4,Ft,Tt)}}function pt(yt,mt,Ft,vt){vt<0&&yt.x===1&&(it[mt]=yt.x-1),Ft.x===0&&Ft.z===0&&(it[mt]=vt/2/Math.PI+.5)}function gt(yt){return Math.atan2(yt.z,-yt.x)}function ft(yt){return Math.atan2(-yt.y,Math.sqrt(yt.x*yt.x+yt.z*yt.z))}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new PolyhedronGeometry(o.vertices,o.indices,o.radius,o.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(o=1,et=0){const tt=(1+Math.sqrt(5))/2,nt=1/tt,rt=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,0,-tt,0,-nt,tt,0,-nt,-tt,0,nt,tt,0,nt],it=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(rt,it,o,et),this.type="DodecahedronGeometry",this.parameters={radius:o,detail:et}}static fromJSON(o){return new DodecahedronGeometry(o.radius,o.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(o=null,et=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:o,thresholdAngle:et},o!==null){const nt=Math.pow(10,4),rt=Math.cos(DEG2RAD$1*et),it=o.getIndex(),ot=o.getAttribute("position"),st=it?it.count:ot.count,at=[0,0,0],lt=["a","b","c"],ct=new Array(3),ut={},dt=[];for(let ht=0;ht<st;ht+=3){it?(at[0]=it.getX(ht),at[1]=it.getX(ht+1),at[2]=it.getX(ht+2)):(at[0]=ht,at[1]=ht+1,at[2]=ht+2);const{a:pt,b:gt,c:ft}=_triangle;if(pt.fromBufferAttribute(ot,at[0]),gt.fromBufferAttribute(ot,at[1]),ft.fromBufferAttribute(ot,at[2]),_triangle.getNormal(_normal),ct[0]=`${Math.round(pt.x*nt)},${Math.round(pt.y*nt)},${Math.round(pt.z*nt)}`,ct[1]=`${Math.round(gt.x*nt)},${Math.round(gt.y*nt)},${Math.round(gt.z*nt)}`,ct[2]=`${Math.round(ft.x*nt)},${Math.round(ft.y*nt)},${Math.round(ft.z*nt)}`,!(ct[0]===ct[1]||ct[1]===ct[2]||ct[2]===ct[0]))for(let yt=0;yt<3;yt++){const mt=(yt+1)%3,Ft=ct[yt],vt=ct[mt],Et=_triangle[lt[yt]],wt=_triangle[lt[mt]],It=`${Ft}_${vt}`,St=`${vt}_${Ft}`;St in ut&&ut[St]?(_normal.dot(ut[St].normal)<=rt&&(dt.push(Et.x,Et.y,Et.z),dt.push(wt.x,wt.y,wt.z)),ut[St]=null):It in ut||(ut[It]={index0:at[yt],index1:at[mt],normal:_normal.clone()})}}for(const ht in ut)if(ut[ht]){const{index0:pt,index1:gt}=ut[ht];_v0.fromBufferAttribute(ot,pt),_v1$1.fromBufferAttribute(ot,gt),dt.push(_v0.x,_v0.y,_v0.z),dt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(dt,3))}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}}class Shape extends Path$1{constructor(o){super(o),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(o){const et=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++)et[tt]=this.holes[tt].getPoints(o);return et}extractPoints(o){return{shape:this.getPoints(o),holes:this.getPointsHoles(o)}}copy(o){super.copy(o),this.holes=[];for(let et=0,tt=o.holes.length;et<tt;et++){const nt=o.holes[et];this.holes.push(nt.clone())}return this}toJSON(){const o=super.toJSON();o.uuid=this.uuid,o.holes=[];for(let et=0,tt=this.holes.length;et<tt;et++){const nt=this.holes[et];o.holes.push(nt.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.uuid=o.uuid,this.holes=[];for(let et=0,tt=o.holes.length;et<tt;et++){const nt=o.holes[et];this.holes.push(new Path$1().fromJSON(nt))}return this}}const Earcut={triangulate:function(s,o,et=2){const tt=o&&o.length,nt=tt?o[0]*et:s.length;let rt=linkedList(s,0,nt,et,!0);const it=[];if(!rt||rt.next===rt.prev)return it;let ot,st,at,lt,ct,ut,dt;if(tt&&(rt=eliminateHoles(s,o,rt,et)),s.length>80*et){ot=at=s[0],st=lt=s[1];for(let ht=et;ht<nt;ht+=et)ct=s[ht],ut=s[ht+1],ct<ot&&(ot=ct),ut<st&&(st=ut),ct>at&&(at=ct),ut>lt&&(lt=ut);dt=Math.max(at-ot,lt-st),dt=dt!==0?32767/dt:0}return earcutLinked(rt,it,et,ot,st,dt,0),it}};function linkedList(s,o,et,tt,nt){let rt,it;if(nt===signedArea(s,o,et,tt)>0)for(rt=o;rt<et;rt+=tt)it=insertNode(rt,s[rt],s[rt+1],it);else for(rt=et-tt;rt>=o;rt-=tt)it=insertNode(rt,s[rt],s[rt+1],it);return it&&equals(it,it.next)&&(removeNode(it),it=it.next),it}function filterPoints(s,o){if(!s)return s;o||(o=s);let et=s,tt;do if(tt=!1,!et.steiner&&(equals(et,et.next)||area(et.prev,et,et.next)===0)){if(removeNode(et),et=o=et.prev,et===et.next)break;tt=!0}else et=et.next;while(tt||et!==o);return o}function earcutLinked(s,o,et,tt,nt,rt,it){if(!s)return;!it&&rt&&indexCurve(s,tt,nt,rt);let ot=s,st,at;for(;s.prev!==s.next;){if(st=s.prev,at=s.next,rt?isEarHashed(s,tt,nt,rt):isEar(s)){o.push(st.i/et|0),o.push(s.i/et|0),o.push(at.i/et|0),removeNode(s),s=at.next,ot=at.next;continue}if(s=at,s===ot){it?it===1?(s=cureLocalIntersections(filterPoints(s),o,et),earcutLinked(s,o,et,tt,nt,rt,2)):it===2&&splitEarcut(s,o,et,tt,nt,rt):earcutLinked(filterPoints(s),o,et,tt,nt,rt,1);break}}}function isEar(s){const o=s.prev,et=s,tt=s.next;if(area(o,et,tt)>=0)return!1;const nt=o.x,rt=et.x,it=tt.x,ot=o.y,st=et.y,at=tt.y,lt=nt<rt?nt<it?nt:it:rt<it?rt:it,ct=ot<st?ot<at?ot:at:st<at?st:at,ut=nt>rt?nt>it?nt:it:rt>it?rt:it,dt=ot>st?ot>at?ot:at:st>at?st:at;let ht=tt.next;for(;ht!==o;){if(ht.x>=lt&&ht.x<=ut&&ht.y>=ct&&ht.y<=dt&&pointInTriangle(nt,ot,rt,st,it,at,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0)return!1;ht=ht.next}return!0}function isEarHashed(s,o,et,tt){const nt=s.prev,rt=s,it=s.next;if(area(nt,rt,it)>=0)return!1;const ot=nt.x,st=rt.x,at=it.x,lt=nt.y,ct=rt.y,ut=it.y,dt=ot<st?ot<at?ot:at:st<at?st:at,ht=lt<ct?lt<ut?lt:ut:ct<ut?ct:ut,pt=ot>st?ot>at?ot:at:st>at?st:at,gt=lt>ct?lt>ut?lt:ut:ct>ut?ct:ut,ft=zOrder(dt,ht,o,et,tt),yt=zOrder(pt,gt,o,et,tt);let mt=s.prevZ,Ft=s.nextZ;for(;mt&&mt.z>=ft&&Ft&&Ft.z<=yt;){if(mt.x>=dt&&mt.x<=pt&&mt.y>=ht&&mt.y<=gt&&mt!==nt&&mt!==it&&pointInTriangle(ot,lt,st,ct,at,ut,mt.x,mt.y)&&area(mt.prev,mt,mt.next)>=0||(mt=mt.prevZ,Ft.x>=dt&&Ft.x<=pt&&Ft.y>=ht&&Ft.y<=gt&&Ft!==nt&&Ft!==it&&pointInTriangle(ot,lt,st,ct,at,ut,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0))return!1;Ft=Ft.nextZ}for(;mt&&mt.z>=ft;){if(mt.x>=dt&&mt.x<=pt&&mt.y>=ht&&mt.y<=gt&&mt!==nt&&mt!==it&&pointInTriangle(ot,lt,st,ct,at,ut,mt.x,mt.y)&&area(mt.prev,mt,mt.next)>=0)return!1;mt=mt.prevZ}for(;Ft&&Ft.z<=yt;){if(Ft.x>=dt&&Ft.x<=pt&&Ft.y>=ht&&Ft.y<=gt&&Ft!==nt&&Ft!==it&&pointInTriangle(ot,lt,st,ct,at,ut,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.nextZ}return!0}function cureLocalIntersections(s,o,et){let tt=s;do{const nt=tt.prev,rt=tt.next.next;!equals(nt,rt)&&intersects(nt,tt,tt.next,rt)&&locallyInside(nt,rt)&&locallyInside(rt,nt)&&(o.push(nt.i/et|0),o.push(tt.i/et|0),o.push(rt.i/et|0),removeNode(tt),removeNode(tt.next),tt=s=rt),tt=tt.next}while(tt!==s);return filterPoints(tt)}function splitEarcut(s,o,et,tt,nt,rt){let it=s;do{let ot=it.next.next;for(;ot!==it.prev;){if(it.i!==ot.i&&isValidDiagonal(it,ot)){let st=splitPolygon(it,ot);it=filterPoints(it,it.next),st=filterPoints(st,st.next),earcutLinked(it,o,et,tt,nt,rt,0),earcutLinked(st,o,et,tt,nt,rt,0);return}ot=ot.next}it=it.next}while(it!==s)}function eliminateHoles(s,o,et,tt){const nt=[];let rt,it,ot,st,at;for(rt=0,it=o.length;rt<it;rt++)ot=o[rt]*tt,st=rt<it-1?o[rt+1]*tt:s.length,at=linkedList(s,ot,st,tt,!1),at===at.next&&(at.steiner=!0),nt.push(getLeftmost(at));for(nt.sort(compareX),rt=0;rt<nt.length;rt++)et=eliminateHole(nt[rt],et);return et}function compareX(s,o){return s.x-o.x}function eliminateHole(s,o){const et=findHoleBridge(s,o);if(!et)return o;const tt=splitPolygon(et,s);return filterPoints(tt,tt.next),filterPoints(et,et.next)}function findHoleBridge(s,o){let et=o,tt=-1/0,nt;const rt=s.x,it=s.y;do{if(it<=et.y&&it>=et.next.y&&et.next.y!==et.y){const ut=et.x+(it-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(ut<=rt&&ut>tt&&(tt=ut,nt=et.x<et.next.x?et:et.next,ut===rt))return nt}et=et.next}while(et!==o);if(!nt)return null;const ot=nt,st=nt.x,at=nt.y;let lt=1/0,ct;et=nt;do rt>=et.x&&et.x>=st&&rt!==et.x&&pointInTriangle(it<at?rt:tt,it,st,at,it<at?tt:rt,it,et.x,et.y)&&(ct=Math.abs(it-et.y)/(rt-et.x),locallyInside(et,s)&&(ct<lt||ct===lt&&(et.x>nt.x||et.x===nt.x&&sectorContainsSector(nt,et)))&&(nt=et,lt=ct)),et=et.next;while(et!==ot);return nt}function sectorContainsSector(s,o){return area(s.prev,s,o.prev)<0&&area(o.next,s,s.next)<0}function indexCurve(s,o,et,tt){let nt=s;do nt.z===0&&(nt.z=zOrder(nt.x,nt.y,o,et,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==s);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(s){let o,et,tt,nt,rt,it,ot,st,at=1;do{for(et=s,s=null,rt=null,it=0;et;){for(it++,tt=et,ot=0,o=0;o<at&&(ot++,tt=tt.nextZ,!!tt);o++);for(st=at;ot>0||st>0&&tt;)ot!==0&&(st===0||!tt||et.z<=tt.z)?(nt=et,et=et.nextZ,ot--):(nt=tt,tt=tt.nextZ,st--),rt?rt.nextZ=nt:s=nt,nt.prevZ=rt,rt=nt;et=tt}rt.nextZ=null,at*=2}while(it>1);return s}function zOrder(s,o,et,tt,nt){return s=(s-et)*nt|0,o=(o-tt)*nt|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,s|o<<1}function getLeftmost(s){let o=s,et=s;do(o.x<et.x||o.x===et.x&&o.y<et.y)&&(et=o),o=o.next;while(o!==s);return et}function pointInTriangle(s,o,et,tt,nt,rt,it,ot){return(nt-it)*(o-ot)>=(s-it)*(rt-ot)&&(s-it)*(tt-ot)>=(et-it)*(o-ot)&&(et-it)*(rt-ot)>=(nt-it)*(tt-ot)}function isValidDiagonal(s,o){return s.next.i!==o.i&&s.prev.i!==o.i&&!intersectsPolygon(s,o)&&(locallyInside(s,o)&&locallyInside(o,s)&&middleInside(s,o)&&(area(s.prev,s,o.prev)||area(s,o.prev,o))||equals(s,o)&&area(s.prev,s,s.next)>0&&area(o.prev,o,o.next)>0)}function area(s,o,et){return(o.y-s.y)*(et.x-o.x)-(o.x-s.x)*(et.y-o.y)}function equals(s,o){return s.x===o.x&&s.y===o.y}function intersects(s,o,et,tt){const nt=sign(area(s,o,et)),rt=sign(area(s,o,tt)),it=sign(area(et,tt,s)),ot=sign(area(et,tt,o));return!!(nt!==rt&&it!==ot||nt===0&&onSegment(s,et,o)||rt===0&&onSegment(s,tt,o)||it===0&&onSegment(et,s,tt)||ot===0&&onSegment(et,o,tt))}function onSegment(s,o,et){return o.x<=Math.max(s.x,et.x)&&o.x>=Math.min(s.x,et.x)&&o.y<=Math.max(s.y,et.y)&&o.y>=Math.min(s.y,et.y)}function sign(s){return s>0?1:s<0?-1:0}function intersectsPolygon(s,o){let et=s;do{if(et.i!==s.i&&et.next.i!==s.i&&et.i!==o.i&&et.next.i!==o.i&&intersects(et,et.next,s,o))return!0;et=et.next}while(et!==s);return!1}function locallyInside(s,o){return area(s.prev,s,s.next)<0?area(s,o,s.next)>=0&&area(s,s.prev,o)>=0:area(s,o,s.prev)<0||area(s,s.next,o)<0}function middleInside(s,o){let et=s,tt=!1;const nt=(s.x+o.x)/2,rt=(s.y+o.y)/2;do et.y>rt!=et.next.y>rt&&et.next.y!==et.y&&nt<(et.next.x-et.x)*(rt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next;while(et!==s);return tt}function splitPolygon(s,o){const et=new Node$1(s.i,s.x,s.y),tt=new Node$1(o.i,o.x,o.y),nt=s.next,rt=o.prev;return s.next=o,o.prev=s,et.next=nt,nt.prev=et,tt.next=et,et.prev=tt,rt.next=tt,tt.prev=rt,tt}function insertNode(s,o,et,tt){const nt=new Node$1(s,o,et);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Node$1(s,o,et){this.i=s,this.x=o,this.y=et,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(s,o,et,tt){let nt=0;for(let rt=o,it=et-tt;rt<et;rt+=tt)nt+=(s[it]-s[rt])*(s[rt+1]+s[it+1]),it=rt;return nt}class ShapeUtils{static area(o){const et=o.length;let tt=0;for(let nt=et-1,rt=0;rt<et;nt=rt++)tt+=o[nt].x*o[rt].y-o[rt].x*o[nt].y;return tt*.5}static isClockWise(o){return ShapeUtils.area(o)<0}static triangulateShape(o,et){const tt=[],nt=[],rt=[];removeDupEndPts(o),addContour(tt,o);let it=o.length;et.forEach(removeDupEndPts);for(let st=0;st<et.length;st++)nt.push(it),it+=et[st].length,addContour(tt,et[st]);const ot=Earcut.triangulate(tt,nt);for(let st=0;st<ot.length;st+=3)rt.push(ot.slice(st,st+3));return rt}}function removeDupEndPts(s){const o=s.length;o>2&&s[o-1].equals(s[0])&&s.pop()}function addContour(s,o){for(let et=0;et<o.length;et++)s.push(o[et].x),s.push(o[et].y)}class ExtrudeGeometry extends BufferGeometry{constructor(o=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:o,options:et},o=Array.isArray(o)?o:[o];const tt=this,nt=[],rt=[];for(let ot=0,st=o.length;ot<st;ot++){const at=o[ot];it(at)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2)),this.computeVertexNormals();function it(ot){const st=[],at=et.curveSegments!==void 0?et.curveSegments:12,lt=et.steps!==void 0?et.steps:1,ct=et.depth!==void 0?et.depth:1;let ut=et.bevelEnabled!==void 0?et.bevelEnabled:!0,dt=et.bevelThickness!==void 0?et.bevelThickness:.2,ht=et.bevelSize!==void 0?et.bevelSize:dt-.1,pt=et.bevelOffset!==void 0?et.bevelOffset:0,gt=et.bevelSegments!==void 0?et.bevelSegments:3;const ft=et.extrudePath,yt=et.UVGenerator!==void 0?et.UVGenerator:WorldUVGenerator;let mt,Ft=!1,vt,Et,wt,It;ft&&(mt=ft.getSpacedPoints(lt),Ft=!0,ut=!1,vt=ft.computeFrenetFrames(lt,!1),Et=new Vector3,wt=new Vector3,It=new Vector3),ut||(gt=0,dt=0,ht=0,pt=0);const St=ot.extractPoints(at);let Rt=St.shape;const Tt=St.holes;if(!ShapeUtils.isClockWise(Rt)){Rt=Rt.reverse();for(let en=0,cn=Tt.length;en<cn;en++){const Zt=Tt[en];ShapeUtils.isClockWise(Zt)&&(Tt[en]=Zt.reverse())}}const xt=ShapeUtils.triangulateShape(Rt,Tt),Bt=Rt;for(let en=0,cn=Tt.length;en<cn;en++){const Zt=Tt[en];Rt=Rt.concat(Zt)}function Ct(en,cn,Zt){return cn||console.error("THREE.ExtrudeGeometry: vec does not exist"),en.clone().addScaledVector(cn,Zt)}const Mt=Rt.length,Nt=xt.length;function At(en,cn,Zt){let dn,Fn,pn;const un=en.x-cn.x,bn=en.y-cn.y,an=Zt.x-en.x,rn=Zt.y-en.y,mn=un*un+bn*bn,xn=un*rn-bn*an;if(Math.abs(xn)>Number.EPSILON){const wn=Math.sqrt(mn),Mn=Math.sqrt(an*an+rn*rn),or=cn.x-bn/wn,ir=cn.y+un/wn,nr=Zt.x-rn/Mn,Ar=Zt.y+an/Mn,ur=((nr-or)*rn-(Ar-ir)*an)/(un*rn-bn*an);dn=or+un*ur-en.x,Fn=ir+bn*ur-en.y;const Fr=dn*dn+Fn*Fn;if(Fr<=2)return new Vector2(dn,Fn);pn=Math.sqrt(Fr/2)}else{let wn=!1;un>Number.EPSILON?an>Number.EPSILON&&(wn=!0):un<-Number.EPSILON?an<-Number.EPSILON&&(wn=!0):Math.sign(bn)===Math.sign(rn)&&(wn=!0),wn?(dn=-bn,Fn=un,pn=Math.sqrt(mn)):(dn=un,Fn=bn,pn=Math.sqrt(mn/2))}return new Vector2(dn/pn,Fn/pn)}const Ot=[];for(let en=0,cn=Bt.length,Zt=cn-1,dn=en+1;en<cn;en++,Zt++,dn++)Zt===cn&&(Zt=0),dn===cn&&(dn=0),Ot[en]=At(Bt[en],Bt[Zt],Bt[dn]);const Vt=[];let Wt,Jt=Ot.concat();for(let en=0,cn=Tt.length;en<cn;en++){const Zt=Tt[en];Wt=[];for(let dn=0,Fn=Zt.length,pn=Fn-1,un=dn+1;dn<Fn;dn++,pn++,un++)pn===Fn&&(pn=0),un===Fn&&(un=0),Wt[dn]=At(Zt[dn],Zt[pn],Zt[un]);Vt.push(Wt),Jt=Jt.concat(Wt)}for(let en=0;en<gt;en++){const cn=en/gt,Zt=dt*Math.cos(cn*Math.PI/2),dn=ht*Math.sin(cn*Math.PI/2)+pt;for(let Fn=0,pn=Bt.length;Fn<pn;Fn++){const un=Ct(Bt[Fn],Ot[Fn],dn);Pt(un.x,un.y,-Zt)}for(let Fn=0,pn=Tt.length;Fn<pn;Fn++){const un=Tt[Fn];Wt=Vt[Fn];for(let bn=0,an=un.length;bn<an;bn++){const rn=Ct(un[bn],Wt[bn],dn);Pt(rn.x,rn.y,-Zt)}}}const qt=ht+pt;for(let en=0;en<Mt;en++){const cn=ut?Ct(Rt[en],Jt[en],qt):Rt[en];Ft?(wt.copy(vt.normals[0]).multiplyScalar(cn.x),Et.copy(vt.binormals[0]).multiplyScalar(cn.y),It.copy(mt[0]).add(wt).add(Et),Pt(It.x,It.y,It.z)):Pt(cn.x,cn.y,0)}for(let en=1;en<=lt;en++)for(let cn=0;cn<Mt;cn++){const Zt=ut?Ct(Rt[cn],Jt[cn],qt):Rt[cn];Ft?(wt.copy(vt.normals[en]).multiplyScalar(Zt.x),Et.copy(vt.binormals[en]).multiplyScalar(Zt.y),It.copy(mt[en]).add(wt).add(Et),Pt(It.x,It.y,It.z)):Pt(Zt.x,Zt.y,ct/lt*en)}for(let en=gt-1;en>=0;en--){const cn=en/gt,Zt=dt*Math.cos(cn*Math.PI/2),dn=ht*Math.sin(cn*Math.PI/2)+pt;for(let Fn=0,pn=Bt.length;Fn<pn;Fn++){const un=Ct(Bt[Fn],Ot[Fn],dn);Pt(un.x,un.y,ct+Zt)}for(let Fn=0,pn=Tt.length;Fn<pn;Fn++){const un=Tt[Fn];Wt=Vt[Fn];for(let bn=0,an=un.length;bn<an;bn++){const rn=Ct(un[bn],Wt[bn],dn);Ft?Pt(rn.x,rn.y+mt[lt-1].y,mt[lt-1].x+Zt):Pt(rn.x,rn.y,ct+Zt)}}}Ht(),Xt();function Ht(){const en=nt.length/3;if(ut){let cn=0,Zt=Mt*cn;for(let dn=0;dn<Nt;dn++){const Fn=xt[dn];kt(Fn[2]+Zt,Fn[1]+Zt,Fn[0]+Zt)}cn=lt+gt*2,Zt=Mt*cn;for(let dn=0;dn<Nt;dn++){const Fn=xt[dn];kt(Fn[0]+Zt,Fn[1]+Zt,Fn[2]+Zt)}}else{for(let cn=0;cn<Nt;cn++){const Zt=xt[cn];kt(Zt[2],Zt[1],Zt[0])}for(let cn=0;cn<Nt;cn++){const Zt=xt[cn];kt(Zt[0]+Mt*lt,Zt[1]+Mt*lt,Zt[2]+Mt*lt)}}tt.addGroup(en,nt.length/3-en,0)}function Xt(){const en=nt.length/3;let cn=0;Lt(Bt,cn),cn+=Bt.length;for(let Zt=0,dn=Tt.length;Zt<dn;Zt++){const Fn=Tt[Zt];Lt(Fn,cn),cn+=Fn.length}tt.addGroup(en,nt.length/3-en,1)}function Lt(en,cn){let Zt=en.length;for(;--Zt>=0;){const dn=Zt;let Fn=Zt-1;Fn<0&&(Fn=en.length-1);for(let pn=0,un=lt+gt*2;pn<un;pn++){const bn=Mt*pn,an=Mt*(pn+1),rn=cn+dn+bn,mn=cn+Fn+bn,xn=cn+Fn+an,wn=cn+dn+an;zt(rn,mn,xn,wn)}}}function Pt(en,cn,Zt){st.push(en),st.push(cn),st.push(Zt)}function kt(en,cn,Zt){tn(en),tn(cn),tn(Zt);const dn=nt.length/3,Fn=yt.generateTopUV(tt,nt,dn-3,dn-2,dn-1);Gt(Fn[0]),Gt(Fn[1]),Gt(Fn[2])}function zt(en,cn,Zt,dn){tn(en),tn(cn),tn(dn),tn(cn),tn(Zt),tn(dn);const Fn=nt.length/3,pn=yt.generateSideWallUV(tt,nt,Fn-6,Fn-3,Fn-2,Fn-1);Gt(pn[0]),Gt(pn[1]),Gt(pn[3]),Gt(pn[1]),Gt(pn[2]),Gt(pn[3])}function tn(en){nt.push(st[en*3+0]),nt.push(st[en*3+1]),nt.push(st[en*3+2])}function Gt(en){rt.push(en.x),rt.push(en.y)}}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}toJSON(){const o=super.toJSON(),et=this.parameters.shapes,tt=this.parameters.options;return toJSON$1(et,tt,o)}static fromJSON(o,et){const tt=[];for(let rt=0,it=o.shapes.length;rt<it;rt++){const ot=et[o.shapes[rt]];tt.push(ot)}const nt=o.options.extrudePath;return nt!==void 0&&(o.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(tt,o.options)}}const WorldUVGenerator={generateTopUV:function(s,o,et,tt,nt){const rt=o[et*3],it=o[et*3+1],ot=o[tt*3],st=o[tt*3+1],at=o[nt*3],lt=o[nt*3+1];return[new Vector2(rt,it),new Vector2(ot,st),new Vector2(at,lt)]},generateSideWallUV:function(s,o,et,tt,nt,rt){const it=o[et*3],ot=o[et*3+1],st=o[et*3+2],at=o[tt*3],lt=o[tt*3+1],ct=o[tt*3+2],ut=o[nt*3],dt=o[nt*3+1],ht=o[nt*3+2],pt=o[rt*3],gt=o[rt*3+1],ft=o[rt*3+2];return Math.abs(ot-lt)<Math.abs(it-at)?[new Vector2(it,1-st),new Vector2(at,1-ct),new Vector2(ut,1-ht),new Vector2(pt,1-ft)]:[new Vector2(ot,1-st),new Vector2(lt,1-ct),new Vector2(dt,1-ht),new Vector2(gt,1-ft)]}};function toJSON$1(s,o,et){if(et.shapes=[],Array.isArray(s))for(let tt=0,nt=s.length;tt<nt;tt++){const rt=s[tt];et.shapes.push(rt.uuid)}else et.shapes.push(s.uuid);return et.options=Object.assign({},o),o.extrudePath!==void 0&&(et.options.extrudePath=o.extrudePath.toJSON()),et}class IcosahedronGeometry extends PolyhedronGeometry{constructor(o=1,et=0){const tt=(1+Math.sqrt(5))/2,nt=[-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,0,0,-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,tt,0,-1,tt,0,1,-tt,0,-1,-tt,0,1],rt=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,rt,o,et),this.type="IcosahedronGeometry",this.parameters={radius:o,detail:et}}static fromJSON(o){return new IcosahedronGeometry(o.radius,o.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(o=1,et=0){const tt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(tt,nt,o,et),this.type="OctahedronGeometry",this.parameters={radius:o,detail:et}}static fromJSON(o){return new OctahedronGeometry(o.radius,o.detail)}}class RingGeometry extends BufferGeometry{constructor(o=.5,et=1,tt=32,nt=1,rt=0,it=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:o,outerRadius:et,thetaSegments:tt,phiSegments:nt,thetaStart:rt,thetaLength:it},tt=Math.max(3,tt),nt=Math.max(1,nt);const ot=[],st=[],at=[],lt=[];let ct=o;const ut=(et-o)/nt,dt=new Vector3,ht=new Vector2;for(let pt=0;pt<=nt;pt++){for(let gt=0;gt<=tt;gt++){const ft=rt+gt/tt*it;dt.x=ct*Math.cos(ft),dt.y=ct*Math.sin(ft),st.push(dt.x,dt.y,dt.z),at.push(0,0,1),ht.x=(dt.x/et+1)/2,ht.y=(dt.y/et+1)/2,lt.push(ht.x,ht.y)}ct+=ut}for(let pt=0;pt<nt;pt++){const gt=pt*(tt+1);for(let ft=0;ft<tt;ft++){const yt=ft+gt,mt=yt,Ft=yt+tt+1,vt=yt+tt+2,Et=yt+1;ot.push(mt,Ft,Et),ot.push(Ft,vt,Et)}}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new RingGeometry(o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(o=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et=12){super(),this.type="ShapeGeometry",this.parameters={shapes:o,curveSegments:et};const tt=[],nt=[],rt=[],it=[];let ot=0,st=0;if(Array.isArray(o)===!1)at(o);else for(let lt=0;lt<o.length;lt++)at(o[lt]),this.addGroup(ot,st,lt),ot+=st,st=0;this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2));function at(lt){const ct=nt.length/3,ut=lt.extractPoints(et);let dt=ut.shape;const ht=ut.holes;ShapeUtils.isClockWise(dt)===!1&&(dt=dt.reverse());for(let gt=0,ft=ht.length;gt<ft;gt++){const yt=ht[gt];ShapeUtils.isClockWise(yt)===!0&&(ht[gt]=yt.reverse())}const pt=ShapeUtils.triangulateShape(dt,ht);for(let gt=0,ft=ht.length;gt<ft;gt++){const yt=ht[gt];dt=dt.concat(yt)}for(let gt=0,ft=dt.length;gt<ft;gt++){const yt=dt[gt];nt.push(yt.x,yt.y,0),rt.push(0,0,1),it.push(yt.x,yt.y)}for(let gt=0,ft=pt.length;gt<ft;gt++){const yt=pt[gt],mt=yt[0]+ct,Ft=yt[1]+ct,vt=yt[2]+ct;tt.push(mt,Ft,vt),st+=3}}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}toJSON(){const o=super.toJSON(),et=this.parameters.shapes;return toJSON(et,o)}static fromJSON(o,et){const tt=[];for(let nt=0,rt=o.shapes.length;nt<rt;nt++){const it=et[o.shapes[nt]];tt.push(it)}return new ShapeGeometry(tt,o.curveSegments)}}function toJSON(s,o){if(o.shapes=[],Array.isArray(s))for(let et=0,tt=s.length;et<tt;et++){const nt=s[et];o.shapes.push(nt.uuid)}else o.shapes.push(s.uuid);return o}class SphereGeometry extends BufferGeometry{constructor(o=1,et=32,tt=16,nt=0,rt=Math.PI*2,it=0,ot=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:o,widthSegments:et,heightSegments:tt,phiStart:nt,phiLength:rt,thetaStart:it,thetaLength:ot},et=Math.max(3,Math.floor(et)),tt=Math.max(2,Math.floor(tt));const st=Math.min(it+ot,Math.PI);let at=0;const lt=[],ct=new Vector3,ut=new Vector3,dt=[],ht=[],pt=[],gt=[];for(let ft=0;ft<=tt;ft++){const yt=[],mt=ft/tt;let Ft=0;ft===0&&it===0?Ft=.5/et:ft===tt&&st===Math.PI&&(Ft=-.5/et);for(let vt=0;vt<=et;vt++){const Et=vt/et;ct.x=-o*Math.cos(nt+Et*rt)*Math.sin(it+mt*ot),ct.y=o*Math.cos(it+mt*ot),ct.z=o*Math.sin(nt+Et*rt)*Math.sin(it+mt*ot),ht.push(ct.x,ct.y,ct.z),ut.copy(ct).normalize(),pt.push(ut.x,ut.y,ut.z),gt.push(Et+Ft,1-mt),yt.push(at++)}lt.push(yt)}for(let ft=0;ft<tt;ft++)for(let yt=0;yt<et;yt++){const mt=lt[ft][yt+1],Ft=lt[ft][yt],vt=lt[ft+1][yt],Et=lt[ft+1][yt+1];(ft!==0||it>0)&&dt.push(mt,Ft,Et),(ft!==tt-1||st<Math.PI)&&dt.push(Ft,vt,Et)}this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(pt,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new SphereGeometry(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(o=1,et=0){const tt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(tt,nt,o,et),this.type="TetrahedronGeometry",this.parameters={radius:o,detail:et}}static fromJSON(o){return new TetrahedronGeometry(o.radius,o.detail)}}class TorusGeometry extends BufferGeometry{constructor(o=1,et=.4,tt=12,nt=48,rt=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:o,tube:et,radialSegments:tt,tubularSegments:nt,arc:rt},tt=Math.floor(tt),nt=Math.floor(nt);const it=[],ot=[],st=[],at=[],lt=new Vector3,ct=new Vector3,ut=new Vector3;for(let dt=0;dt<=tt;dt++)for(let ht=0;ht<=nt;ht++){const pt=ht/nt*rt,gt=dt/tt*Math.PI*2;ct.x=(o+et*Math.cos(gt))*Math.cos(pt),ct.y=(o+et*Math.cos(gt))*Math.sin(pt),ct.z=et*Math.sin(gt),ot.push(ct.x,ct.y,ct.z),lt.x=o*Math.cos(pt),lt.y=o*Math.sin(pt),ut.subVectors(ct,lt).normalize(),st.push(ut.x,ut.y,ut.z),at.push(ht/nt),at.push(dt/tt)}for(let dt=1;dt<=tt;dt++)for(let ht=1;ht<=nt;ht++){const pt=(nt+1)*dt+ht-1,gt=(nt+1)*(dt-1)+ht-1,ft=(nt+1)*(dt-1)+ht,yt=(nt+1)*dt+ht;it.push(pt,gt,yt),it.push(gt,ft,yt)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new TorusGeometry(o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(o=1,et=.4,tt=64,nt=8,rt=2,it=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:o,tube:et,tubularSegments:tt,radialSegments:nt,p:rt,q:it},tt=Math.floor(tt),nt=Math.floor(nt);const ot=[],st=[],at=[],lt=[],ct=new Vector3,ut=new Vector3,dt=new Vector3,ht=new Vector3,pt=new Vector3,gt=new Vector3,ft=new Vector3;for(let mt=0;mt<=tt;++mt){const Ft=mt/tt*rt*Math.PI*2;yt(Ft,rt,it,o,dt),yt(Ft+.01,rt,it,o,ht),gt.subVectors(ht,dt),ft.addVectors(ht,dt),pt.crossVectors(gt,ft),ft.crossVectors(pt,gt),pt.normalize(),ft.normalize();for(let vt=0;vt<=nt;++vt){const Et=vt/nt*Math.PI*2,wt=-et*Math.cos(Et),It=et*Math.sin(Et);ct.x=dt.x+(wt*ft.x+It*pt.x),ct.y=dt.y+(wt*ft.y+It*pt.y),ct.z=dt.z+(wt*ft.z+It*pt.z),st.push(ct.x,ct.y,ct.z),ut.subVectors(ct,dt).normalize(),at.push(ut.x,ut.y,ut.z),lt.push(mt/tt),lt.push(vt/nt)}}for(let mt=1;mt<=tt;mt++)for(let Ft=1;Ft<=nt;Ft++){const vt=(nt+1)*(mt-1)+(Ft-1),Et=(nt+1)*mt+(Ft-1),wt=(nt+1)*mt+Ft,It=(nt+1)*(mt-1)+Ft;ot.push(vt,Et,It),ot.push(Et,wt,It)}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2));function yt(mt,Ft,vt,Et,wt){const It=Math.cos(mt),St=Math.sin(mt),Rt=vt/Ft*mt,Tt=Math.cos(Rt);wt.x=Et*(2+Tt)*.5*It,wt.y=Et*(2+Tt)*St*.5,wt.z=Et*Math.sin(Rt)*.5}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new TorusKnotGeometry(o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q)}}class TubeGeometry extends BufferGeometry{constructor(o=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),et=64,tt=1,nt=8,rt=!1){super(),this.type="TubeGeometry",this.parameters={path:o,tubularSegments:et,radius:tt,radialSegments:nt,closed:rt};const it=o.computeFrenetFrames(et,rt);this.tangents=it.tangents,this.normals=it.normals,this.binormals=it.binormals;const ot=new Vector3,st=new Vector3,at=new Vector2;let lt=new Vector3;const ct=[],ut=[],dt=[],ht=[];pt(),this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function pt(){for(let mt=0;mt<et;mt++)gt(mt);gt(rt===!1?et:0),yt(),ft()}function gt(mt){lt=o.getPointAt(mt/et,lt);const Ft=it.normals[mt],vt=it.binormals[mt];for(let Et=0;Et<=nt;Et++){const wt=Et/nt*Math.PI*2,It=Math.sin(wt),St=-Math.cos(wt);st.x=St*Ft.x+It*vt.x,st.y=St*Ft.y+It*vt.y,st.z=St*Ft.z+It*vt.z,st.normalize(),ut.push(st.x,st.y,st.z),ot.x=lt.x+tt*st.x,ot.y=lt.y+tt*st.y,ot.z=lt.z+tt*st.z,ct.push(ot.x,ot.y,ot.z)}}function ft(){for(let mt=1;mt<=et;mt++)for(let Ft=1;Ft<=nt;Ft++){const vt=(nt+1)*(mt-1)+(Ft-1),Et=(nt+1)*mt+(Ft-1),wt=(nt+1)*mt+Ft,It=(nt+1)*(mt-1)+Ft;ht.push(vt,Et,It),ht.push(Et,wt,It)}}function yt(){for(let mt=0;mt<=et;mt++)for(let Ft=0;Ft<=nt;Ft++)at.x=mt/et,at.y=Ft/nt,dt.push(at.x,at.y)}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}toJSON(){const o=super.toJSON();return o.path=this.parameters.path.toJSON(),o}static fromJSON(o){return new TubeGeometry(new Curves[o.path.type]().fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed)}}class WireframeGeometry extends BufferGeometry{constructor(o=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:o},o!==null){const et=[],tt=new Set,nt=new Vector3,rt=new Vector3;if(o.index!==null){const it=o.attributes.position,ot=o.index;let st=o.groups;st.length===0&&(st=[{start:0,count:ot.count,materialIndex:0}]);for(let at=0,lt=st.length;at<lt;++at){const ct=st[at],ut=ct.start,dt=ct.count;for(let ht=ut,pt=ut+dt;ht<pt;ht+=3)for(let gt=0;gt<3;gt++){const ft=ot.getX(ht+gt),yt=ot.getX(ht+(gt+1)%3);nt.fromBufferAttribute(it,ft),rt.fromBufferAttribute(it,yt),isUniqueEdge(nt,rt,tt)===!0&&(et.push(nt.x,nt.y,nt.z),et.push(rt.x,rt.y,rt.z))}}}else{const it=o.attributes.position;for(let ot=0,st=it.count/3;ot<st;ot++)for(let at=0;at<3;at++){const lt=3*ot+at,ct=3*ot+(at+1)%3;nt.fromBufferAttribute(it,lt),rt.fromBufferAttribute(it,ct),isUniqueEdge(nt,rt,tt)===!0&&(et.push(nt.x,nt.y,nt.z),et.push(rt.x,rt.y,rt.z))}}this.setAttribute("position",new Float32BufferAttribute(et,3))}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}}function isUniqueEdge(s,o,et){const tt=`${s.x},${s.y},${s.z}-${o.x},${o.y},${o.z}`,nt=`${o.x},${o.y},${o.z}-${s.x},${s.y},${s.z}`;return et.has(tt)===!0||et.has(nt)===!0?!1:(et.add(tt),et.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(o){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.fog=o.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(o){super(o),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(o){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.defines={STANDARD:""},this.color.copy(o.color),this.roughness=o.roughness,this.metalness=o.metalness,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.roughnessMap=o.roughnessMap,this.metalnessMap=o.metalnessMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapRotation.copy(o.envMapRotation),this.envMapIntensity=o.envMapIntensity,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(o){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$3(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(et){this.ior=(1+.4*et)/(1-.4*et)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(o)}get anisotropy(){return this._anisotropy}set anisotropy(o){this._anisotropy>0!=o>0&&this.version++,this._anisotropy=o}get clearcoat(){return this._clearcoat}set clearcoat(o){this._clearcoat>0!=o>0&&this.version++,this._clearcoat=o}get iridescence(){return this._iridescence}set iridescence(o){this._iridescence>0!=o>0&&this.version++,this._iridescence=o}get dispersion(){return this._dispersion}set dispersion(o){this._dispersion>0!=o>0&&this.version++,this._dispersion=o}get sheen(){return this._sheen}set sheen(o){this._sheen>0!=o>0&&this.version++,this._sheen=o}get transmission(){return this._transmission}set transmission(o){this._transmission>0!=o>0&&this.version++,this._transmission=o}copy(o){return super.copy(o),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=o.anisotropy,this.anisotropyRotation=o.anisotropyRotation,this.anisotropyMap=o.anisotropyMap,this.clearcoat=o.clearcoat,this.clearcoatMap=o.clearcoatMap,this.clearcoatRoughness=o.clearcoatRoughness,this.clearcoatRoughnessMap=o.clearcoatRoughnessMap,this.clearcoatNormalMap=o.clearcoatNormalMap,this.clearcoatNormalScale.copy(o.clearcoatNormalScale),this.dispersion=o.dispersion,this.ior=o.ior,this.iridescence=o.iridescence,this.iridescenceMap=o.iridescenceMap,this.iridescenceIOR=o.iridescenceIOR,this.iridescenceThicknessRange=[...o.iridescenceThicknessRange],this.iridescenceThicknessMap=o.iridescenceThicknessMap,this.sheen=o.sheen,this.sheenColor.copy(o.sheenColor),this.sheenColorMap=o.sheenColorMap,this.sheenRoughness=o.sheenRoughness,this.sheenRoughnessMap=o.sheenRoughnessMap,this.transmission=o.transmission,this.transmissionMap=o.transmissionMap,this.thickness=o.thickness,this.thicknessMap=o.thicknessMap,this.attenuationDistance=o.attenuationDistance,this.attenuationColor.copy(o.attenuationColor),this.specularIntensity=o.specularIntensity,this.specularIntensityMap=o.specularIntensityMap,this.specularColor.copy(o.specularColor),this.specularColorMap=o.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(o){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.specular.copy(o.specular),this.shininess=o.shininess,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapRotation.copy(o.envMapRotation),this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshToonMaterial extends Material{constructor(o){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.gradientMap=o.gradientMap,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}}class MeshNormalMaterial extends Material{constructor(o){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.flatShading=o.flatShading,this}}class MeshLambertMaterial extends Material{constructor(o){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapRotation.copy(o.envMapRotation),this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshMatcapMaterial extends Material{constructor(o){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.defines={MATCAP:""},this.color.copy(o.color),this.matcap=o.matcap,this.map=o.map,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.flatShading=o.flatShading,this.fog=o.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(o){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(o)}copy(o){return super.copy(o),this.scale=o.scale,this.dashSize=o.dashSize,this.gapSize=o.gapSize,this}}function convertArray(s,o,et){return!s||!et&&s.constructor===o?s:typeof o.BYTES_PER_ELEMENT=="number"?new o(s):Array.prototype.slice.call(s)}function isTypedArray(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function getKeyframeOrder(s){function o(nt,rt){return s[nt]-s[rt]}const et=s.length,tt=new Array(et);for(let nt=0;nt!==et;++nt)tt[nt]=nt;return tt.sort(o),tt}function sortedArray(s,o,et){const tt=s.length,nt=new s.constructor(tt);for(let rt=0,it=0;it!==tt;++rt){const ot=et[rt]*o;for(let st=0;st!==o;++st)nt[it++]=s[ot+st]}return nt}function flattenJSON(s,o,et,tt){let nt=1,rt=s[0];for(;rt!==void 0&&rt[tt]===void 0;)rt=s[nt++];if(rt===void 0)return;let it=rt[tt];if(it!==void 0)if(Array.isArray(it))do it=rt[tt],it!==void 0&&(o.push(rt.time),et.push.apply(et,it)),rt=s[nt++];while(rt!==void 0);else if(it.toArray!==void 0)do it=rt[tt],it!==void 0&&(o.push(rt.time),it.toArray(et,et.length)),rt=s[nt++];while(rt!==void 0);else do it=rt[tt],it!==void 0&&(o.push(rt.time),et.push(it)),rt=s[nt++];while(rt!==void 0)}function subclip(s,o,et,tt,nt=30){const rt=s.clone();rt.name=o;const it=[];for(let st=0;st<rt.tracks.length;++st){const at=rt.tracks[st],lt=at.getValueSize(),ct=[],ut=[];for(let dt=0;dt<at.times.length;++dt){const ht=at.times[dt]*nt;if(!(ht<et||ht>=tt)){ct.push(at.times[dt]);for(let pt=0;pt<lt;++pt)ut.push(at.values[dt*lt+pt])}}ct.length!==0&&(at.times=convertArray(ct,at.times.constructor),at.values=convertArray(ut,at.values.constructor),it.push(at))}rt.tracks=it;let ot=1/0;for(let st=0;st<rt.tracks.length;++st)ot>rt.tracks[st].times[0]&&(ot=rt.tracks[st].times[0]);for(let st=0;st<rt.tracks.length;++st)rt.tracks[st].shift(-1*ot);return rt.resetDuration(),rt}function makeClipAdditive(s,o=0,et=s,tt=30){tt<=0&&(tt=30);const nt=et.tracks.length,rt=o/tt;for(let it=0;it<nt;++it){const ot=et.tracks[it],st=ot.ValueTypeName;if(st==="bool"||st==="string")continue;const at=s.tracks.find(function(ft){return ft.name===ot.name&&ft.ValueTypeName===st});if(at===void 0)continue;let lt=0;const ct=ot.getValueSize();ot.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(lt=ct/3);let ut=0;const dt=at.getValueSize();at.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ut=dt/3);const ht=ot.times.length-1;let pt;if(rt<=ot.times[0]){const ft=lt,yt=ct-lt;pt=ot.values.slice(ft,yt)}else if(rt>=ot.times[ht]){const ft=ht*ct+lt,yt=ft+ct-lt;pt=ot.values.slice(ft,yt)}else{const ft=ot.createInterpolant(),yt=lt,mt=ct-lt;ft.evaluate(rt),pt=ft.resultBuffer.slice(yt,mt)}st==="quaternion"&&new Quaternion().fromArray(pt).normalize().conjugate().toArray(pt);const gt=at.times.length;for(let ft=0;ft<gt;++ft){const yt=ft*dt+ut;if(st==="quaternion")Quaternion.multiplyQuaternionsFlat(at.values,yt,pt,0,at.values,yt);else{const mt=dt-ut*2;for(let Ft=0;Ft<mt;++Ft)at.values[yt+Ft]-=pt[Ft]}}}return s.blendMode=AdditiveAnimationBlendMode,s}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(o,et,tt,nt){this.parameterPositions=o,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new et.constructor(tt),this.sampleValues=et,this.valueSize=tt,this.settings=null,this.DefaultSettings_={}}evaluate(o){const et=this.parameterPositions;let tt=this._cachedIndex,nt=et[tt],rt=et[tt-1];e:{t:{let it;n:{r:if(!(o<nt)){for(let ot=tt+2;;){if(nt===void 0){if(o<rt)break r;return tt=et.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}if(tt===ot)break;if(rt=nt,nt=et[++tt],o<nt)break t}it=et.length;break n}if(!(o>=rt)){const ot=et[1];o<ot&&(tt=2,rt=ot);for(let st=tt-2;;){if(rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(tt===st)break;if(nt=rt,rt=et[--tt-1],o>=rt)break t}it=tt,tt=0;break n}break e}for(;tt<it;){const ot=tt+it>>>1;o<et[ot]?it=ot:tt=ot+1}if(nt=et[tt],rt=et[tt-1],rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return tt=et.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}this._cachedIndex=tt,this.intervalChanged_(tt,rt,nt)}return this.interpolate_(tt,rt,o,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(o){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=o*nt;for(let it=0;it!==nt;++it)et[it]=tt[rt+it];return et}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(o,et,tt,nt){super(o,et,tt,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(o,et,tt){const nt=this.parameterPositions;let rt=o-2,it=o+1,ot=nt[rt],st=nt[it];if(ot===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:rt=o,ot=2*et-tt;break;case WrapAroundEnding:rt=nt.length-2,ot=et+nt[rt]-nt[rt+1];break;default:rt=o,ot=tt}if(st===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:it=o,st=2*tt-et;break;case WrapAroundEnding:it=1,st=tt+nt[1]-nt[0];break;default:it=o-1,st=et}const at=(tt-et)*.5,lt=this.valueSize;this._weightPrev=at/(et-ot),this._weightNext=at/(st-tt),this._offsetPrev=rt*lt,this._offsetNext=it*lt}interpolate_(o,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,ot=this.valueSize,st=o*ot,at=st-ot,lt=this._offsetPrev,ct=this._offsetNext,ut=this._weightPrev,dt=this._weightNext,ht=(tt-et)/(nt-et),pt=ht*ht,gt=pt*ht,ft=-ut*gt+2*ut*pt-ut*ht,yt=(1+ut)*gt+(-1.5-2*ut)*pt+(-.5+ut)*ht+1,mt=(-1-dt)*gt+(1.5+dt)*pt+.5*ht,Ft=dt*gt-dt*pt;for(let vt=0;vt!==ot;++vt)rt[vt]=ft*it[lt+vt]+yt*it[at+vt]+mt*it[st+vt]+Ft*it[ct+vt];return rt}}class LinearInterpolant extends Interpolant{constructor(o,et,tt,nt){super(o,et,tt,nt)}interpolate_(o,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,ot=this.valueSize,st=o*ot,at=st-ot,lt=(tt-et)/(nt-et),ct=1-lt;for(let ut=0;ut!==ot;++ut)rt[ut]=it[at+ut]*ct+it[st+ut]*lt;return rt}}class DiscreteInterpolant extends Interpolant{constructor(o,et,tt,nt){super(o,et,tt,nt)}interpolate_(o){return this.copySampleValue_(o-1)}}class KeyframeTrack{constructor(o,et,tt,nt){if(o===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(et===void 0||et.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+o);this.name=o,this.times=convertArray(et,this.TimeBufferType),this.values=convertArray(tt,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(o){const et=o.constructor;let tt;if(et.toJSON!==this.toJSON)tt=et.toJSON(o);else{tt={name:o.name,times:convertArray(o.times,Array),values:convertArray(o.values,Array)};const nt=o.getInterpolation();nt!==o.DefaultInterpolation&&(tt.interpolation=nt)}return tt.type=o.ValueTypeName,tt}InterpolantFactoryMethodDiscrete(o){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodLinear(o){return new LinearInterpolant(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodSmooth(o){return new CubicInterpolant(this.times,this.values,this.getValueSize(),o)}setInterpolation(o){let et;switch(o){case InterpolateDiscrete:et=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:et=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:et=this.InterpolantFactoryMethodSmooth;break}if(et===void 0){const tt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(o!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(tt);return console.warn("THREE.KeyframeTrack:",tt),this}return this.createInterpolant=et,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(o){if(o!==0){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]+=o}return this}scale(o){if(o!==1){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]*=o}return this}trim(o,et){const tt=this.times,nt=tt.length;let rt=0,it=nt-1;for(;rt!==nt&&tt[rt]<o;)++rt;for(;it!==-1&&tt[it]>et;)--it;if(++it,rt!==0||it!==nt){rt>=it&&(it=Math.max(it,1),rt=it-1);const ot=this.getValueSize();this.times=tt.slice(rt,it),this.values=this.values.slice(rt*ot,it*ot)}return this}validate(){let o=!0;const et=this.getValueSize();et-Math.floor(et)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),o=!1);const tt=this.times,nt=this.values,rt=tt.length;rt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),o=!1);let it=null;for(let ot=0;ot!==rt;ot++){const st=tt[ot];if(typeof st=="number"&&isNaN(st)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,ot,st),o=!1;break}if(it!==null&&it>st){console.error("THREE.KeyframeTrack: Out of order keys.",this,ot,st,it),o=!1;break}it=st}if(nt!==void 0&&isTypedArray(nt))for(let ot=0,st=nt.length;ot!==st;++ot){const at=nt[ot];if(isNaN(at)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,ot,at),o=!1;break}}return o}optimize(){const o=this.times.slice(),et=this.values.slice(),tt=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,rt=o.length-1;let it=1;for(let ot=1;ot<rt;++ot){let st=!1;const at=o[ot],lt=o[ot+1];if(at!==lt&&(ot!==1||at!==o[0]))if(nt)st=!0;else{const ct=ot*tt,ut=ct-tt,dt=ct+tt;for(let ht=0;ht!==tt;++ht){const pt=et[ct+ht];if(pt!==et[ut+ht]||pt!==et[dt+ht]){st=!0;break}}}if(st){if(ot!==it){o[it]=o[ot];const ct=ot*tt,ut=it*tt;for(let dt=0;dt!==tt;++dt)et[ut+dt]=et[ct+dt]}++it}}if(rt>0){o[it]=o[rt];for(let ot=rt*tt,st=it*tt,at=0;at!==tt;++at)et[st+at]=et[ot+at];++it}return it!==o.length?(this.times=o.slice(0,it),this.values=et.slice(0,it*tt)):(this.times=o,this.values=et),this}clone(){const o=this.times.slice(),et=this.values.slice(),tt=this.constructor,nt=new tt(this.name,o,et);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(o,et,tt){super(o,et,tt)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(o,et,tt,nt){super(o,et,tt,nt)}interpolate_(o,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,ot=this.valueSize,st=(tt-et)/(nt-et);let at=o*ot;for(let lt=at+ot;at!==lt;at+=4)Quaternion.slerpFlat(rt,0,it,at-ot,it,at,st);return rt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(o){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),o)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(o,et,tt){super(o,et,tt)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(o="",et=-1,tt=[],nt=NormalAnimationBlendMode){this.name=o,this.tracks=tt,this.duration=et,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(o){const et=[],tt=o.tracks,nt=1/(o.fps||1);for(let it=0,ot=tt.length;it!==ot;++it)et.push(parseKeyframeTrack(tt[it]).scale(nt));const rt=new this(o.name,o.duration,et,o.blendMode);return rt.uuid=o.uuid,rt}static toJSON(o){const et=[],tt=o.tracks,nt={name:o.name,duration:o.duration,tracks:et,uuid:o.uuid,blendMode:o.blendMode};for(let rt=0,it=tt.length;rt!==it;++rt)et.push(KeyframeTrack.toJSON(tt[rt]));return nt}static CreateFromMorphTargetSequence(o,et,tt,nt){const rt=et.length,it=[];for(let ot=0;ot<rt;ot++){let st=[],at=[];st.push((ot+rt-1)%rt,ot,(ot+1)%rt),at.push(0,1,0);const lt=getKeyframeOrder(st);st=sortedArray(st,1,lt),at=sortedArray(at,1,lt),!nt&&st[0]===0&&(st.push(rt),at.push(at[0])),it.push(new NumberKeyframeTrack(".morphTargetInfluences["+et[ot].name+"]",st,at).scale(1/tt))}return new this(o,-1,it)}static findByName(o,et){let tt=o;if(!Array.isArray(o)){const nt=o;tt=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<tt.length;nt++)if(tt[nt].name===et)return tt[nt];return null}static CreateClipsFromMorphTargetSequences(o,et,tt){const nt={},rt=/^([\w-]*?)([\d]+)$/;for(let ot=0,st=o.length;ot<st;ot++){const at=o[ot],lt=at.name.match(rt);if(lt&&lt.length>1){const ct=lt[1];let ut=nt[ct];ut||(nt[ct]=ut=[]),ut.push(at)}}const it=[];for(const ot in nt)it.push(this.CreateFromMorphTargetSequence(ot,nt[ot],et,tt));return it}static parseAnimation(o,et){if(!o)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const tt=function(ct,ut,dt,ht,pt){if(dt.length!==0){const gt=[],ft=[];flattenJSON(dt,gt,ft,ht),gt.length!==0&&pt.push(new ct(ut,gt,ft))}},nt=[],rt=o.name||"default",it=o.fps||30,ot=o.blendMode;let st=o.length||-1;const at=o.hierarchy||[];for(let ct=0;ct<at.length;ct++){const ut=at[ct].keys;if(!(!ut||ut.length===0))if(ut[0].morphTargets){const dt={};let ht;for(ht=0;ht<ut.length;ht++)if(ut[ht].morphTargets)for(let pt=0;pt<ut[ht].morphTargets.length;pt++)dt[ut[ht].morphTargets[pt]]=-1;for(const pt in dt){const gt=[],ft=[];for(let yt=0;yt!==ut[ht].morphTargets.length;++yt){const mt=ut[ht];gt.push(mt.time),ft.push(mt.morphTarget===pt?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+pt+"]",gt,ft))}st=dt.length*it}else{const dt=".bones["+et[ct].name+"]";tt(VectorKeyframeTrack,dt+".position",ut,"pos",nt),tt(QuaternionKeyframeTrack,dt+".quaternion",ut,"rot",nt),tt(VectorKeyframeTrack,dt+".scale",ut,"scl",nt)}}return nt.length===0?null:new this(rt,st,nt,ot)}resetDuration(){const o=this.tracks;let et=0;for(let tt=0,nt=o.length;tt!==nt;++tt){const rt=this.tracks[tt];et=Math.max(et,rt.times[rt.times.length-1])}return this.duration=et,this}trim(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].trim(0,this.duration);return this}validate(){let o=!0;for(let et=0;et<this.tracks.length;et++)o=o&&this.tracks[et].validate();return o}optimize(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].optimize();return this}clone(){const o=[];for(let et=0;et<this.tracks.length;et++)o.push(this.tracks[et].clone());return new this.constructor(this.name,this.duration,o,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}function parseKeyframeTrack(s){if(s.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const o=getTrackTypeForValueTypeName(s.type);if(s.times===void 0){const et=[],tt=[];flattenJSON(s.keys,et,tt,"value"),s.times=et,s.values=tt}return o.parse!==void 0?o.parse(s):new o(s.name,s.times,s.values,s.interpolation)}const Cache={enabled:!1,files:{},add:function(s,o){this.enabled!==!1&&(this.files[s]=o)},get:function(s){if(this.enabled!==!1)return this.files[s]},remove:function(s){delete this.files[s]},clear:function(){this.files={}}};class LoadingManager{constructor(o,et,tt){const nt=this;let rt=!1,it=0,ot=0,st;const at=[];this.onStart=void 0,this.onLoad=o,this.onProgress=et,this.onError=tt,this.itemStart=function(lt){ot++,rt===!1&&nt.onStart!==void 0&&nt.onStart(lt,it,ot),rt=!0},this.itemEnd=function(lt){it++,nt.onProgress!==void 0&&nt.onProgress(lt,it,ot),it===ot&&(rt=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(lt){nt.onError!==void 0&&nt.onError(lt)},this.resolveURL=function(lt){return st?st(lt):lt},this.setURLModifier=function(lt){return st=lt,this},this.addHandler=function(lt,ct){return at.push(lt,ct),this},this.removeHandler=function(lt){const ct=at.indexOf(lt);return ct!==-1&&at.splice(ct,2),this},this.getHandler=function(lt){for(let ct=0,ut=at.length;ct<ut;ct+=2){const dt=at[ct],ht=at[ct+1];if(dt.global&&(dt.lastIndex=0),dt.test(lt))return ht}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(o){this.manager=o!==void 0?o:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(o,et){const tt=this;return new Promise(function(nt,rt){tt.load(o,nt,et,rt)})}parse(){}setCrossOrigin(o){return this.crossOrigin=o,this}setWithCredentials(o){return this.withCredentials=o,this}setPath(o){return this.path=o,this}setResourcePath(o){return this.resourcePath=o,this}setRequestHeader(o){return this.requestHeader=o,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(o,et){super(o),this.response=et}}class FileLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const rt=Cache.get(o);if(rt!==void 0)return this.manager.itemStart(o),setTimeout(()=>{et&&et(rt),this.manager.itemEnd(o)},0),rt;if(loading[o]!==void 0){loading[o].push({onLoad:et,onProgress:tt,onError:nt});return}loading[o]=[],loading[o].push({onLoad:et,onProgress:tt,onError:nt});const it=new Request(o,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),ot=this.mimeType,st=this.responseType;fetch(it).then(at=>{if(at.status===200||at.status===0){if(at.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||at.body===void 0||at.body.getReader===void 0)return at;const lt=loading[o],ct=at.body.getReader(),ut=at.headers.get("X-File-Size")||at.headers.get("Content-Length"),dt=ut?parseInt(ut):0,ht=dt!==0;let pt=0;const gt=new ReadableStream({start(ft){yt();function yt(){ct.read().then(({done:mt,value:Ft})=>{if(mt)ft.close();else{pt+=Ft.byteLength;const vt=new ProgressEvent("progress",{lengthComputable:ht,loaded:pt,total:dt});for(let Et=0,wt=lt.length;Et<wt;Et++){const It=lt[Et];It.onProgress&&It.onProgress(vt)}ft.enqueue(Ft),yt()}},mt=>{ft.error(mt)})}}});return new Response(gt)}else throw new HttpError(`fetch for "${at.url}" responded with ${at.status}: ${at.statusText}`,at)}).then(at=>{switch(st){case"arraybuffer":return at.arrayBuffer();case"blob":return at.blob();case"document":return at.text().then(lt=>new DOMParser().parseFromString(lt,ot));case"json":return at.json();default:if(ot===void 0)return at.text();{const ct=/charset="?([^;"\s]*)"?/i.exec(ot),ut=ct&&ct[1]?ct[1].toLowerCase():void 0,dt=new TextDecoder(ut);return at.arrayBuffer().then(ht=>dt.decode(ht))}}}).then(at=>{Cache.add(o,at);const lt=loading[o];delete loading[o];for(let ct=0,ut=lt.length;ct<ut;ct++){const dt=lt[ct];dt.onLoad&&dt.onLoad(at)}}).catch(at=>{const lt=loading[o];if(lt===void 0)throw this.manager.itemError(o),at;delete loading[o];for(let ct=0,ut=lt.length;ct<ut;ct++){const dt=lt[ct];dt.onError&&dt.onError(at)}this.manager.itemError(o)}).finally(()=>{this.manager.itemEnd(o)}),this.manager.itemStart(o)}setResponseType(o){return this.responseType=o,this}setMimeType(o){return this.mimeType=o,this}}class AnimationLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(o,function(ot){try{et(rt.parse(JSON.parse(ot)))}catch(st){nt?nt(st):console.error(st),rt.manager.itemError(o)}},tt,nt)}parse(o){const et=[];for(let tt=0;tt<o.length;tt++){const nt=AnimationClip.parse(o[tt]);et.push(nt)}return et}}class CompressedTextureLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=[],ot=new CompressedTexture,st=new FileLoader(this.manager);st.setPath(this.path),st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setWithCredentials(rt.withCredentials);let at=0;function lt(ct){st.load(o[ct],function(ut){const dt=rt.parse(ut,!0);it[ct]={width:dt.width,height:dt.height,format:dt.format,mipmaps:dt.mipmaps},at+=1,at===6&&(dt.mipmapCount===1&&(ot.minFilter=LinearFilter),ot.image=it,ot.format=dt.format,ot.needsUpdate=!0,et&&et(ot))},tt,nt)}if(Array.isArray(o))for(let ct=0,ut=o.length;ct<ut;++ct)lt(ct);else st.load(o,function(ct){const ut=rt.parse(ct,!0);if(ut.isCubemap){const dt=ut.mipmaps.length/ut.mipmapCount;for(let ht=0;ht<dt;ht++){it[ht]={mipmaps:[]};for(let pt=0;pt<ut.mipmapCount;pt++)it[ht].mipmaps.push(ut.mipmaps[ht*ut.mipmapCount+pt]),it[ht].format=ut.format,it[ht].width=ut.width,it[ht].height=ut.height}ot.image=it}else ot.image.width=ut.width,ot.image.height=ut.height,ot.mipmaps=ut.mipmaps;ut.mipmapCount===1&&(ot.minFilter=LinearFilter),ot.format=ut.format,ot.needsUpdate=!0,et&&et(ot)},tt,nt);return ot}}class ImageLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const rt=this,it=Cache.get(o);if(it!==void 0)return rt.manager.itemStart(o),setTimeout(function(){et&&et(it),rt.manager.itemEnd(o)},0),it;const ot=createElementNS("img");function st(){lt(),Cache.add(o,this),et&&et(this),rt.manager.itemEnd(o)}function at(ct){lt(),nt&&nt(ct),rt.manager.itemError(o),rt.manager.itemEnd(o)}function lt(){ot.removeEventListener("load",st,!1),ot.removeEventListener("error",at,!1)}return ot.addEventListener("load",st,!1),ot.addEventListener("error",at,!1),o.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(ot.crossOrigin=this.crossOrigin),rt.manager.itemStart(o),ot.src=o,ot}}class CubeTextureLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=new CubeTexture;rt.colorSpace=SRGBColorSpace$1;const it=new ImageLoader(this.manager);it.setCrossOrigin(this.crossOrigin),it.setPath(this.path);let ot=0;function st(at){it.load(o[at],function(lt){rt.images[at]=lt,ot++,ot===6&&(rt.needsUpdate=!0,et&&et(rt))},void 0,nt)}for(let at=0;at<o.length;++at)st(at);return rt}}class DataTextureLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=new DataTexture,ot=new FileLoader(this.manager);return ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setPath(this.path),ot.setWithCredentials(rt.withCredentials),ot.load(o,function(st){let at;try{at=rt.parse(st)}catch(lt){if(nt!==void 0)nt(lt);else{console.error(lt);return}}at.image!==void 0?it.image=at.image:at.data!==void 0&&(it.image.width=at.width,it.image.height=at.height,it.image.data=at.data),it.wrapS=at.wrapS!==void 0?at.wrapS:ClampToEdgeWrapping,it.wrapT=at.wrapT!==void 0?at.wrapT:ClampToEdgeWrapping,it.magFilter=at.magFilter!==void 0?at.magFilter:LinearFilter,it.minFilter=at.minFilter!==void 0?at.minFilter:LinearFilter,it.anisotropy=at.anisotropy!==void 0?at.anisotropy:1,at.colorSpace!==void 0&&(it.colorSpace=at.colorSpace),at.flipY!==void 0&&(it.flipY=at.flipY),at.format!==void 0&&(it.format=at.format),at.type!==void 0&&(it.type=at.type),at.mipmaps!==void 0&&(it.mipmaps=at.mipmaps,it.minFilter=LinearMipmapLinearFilter),at.mipmapCount===1&&(it.minFilter=LinearFilter),at.generateMipmaps!==void 0&&(it.generateMipmaps=at.generateMipmaps),it.needsUpdate=!0,et&&et(it,at)},tt,nt),it}}class TextureLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=new Texture,it=new ImageLoader(this.manager);return it.setCrossOrigin(this.crossOrigin),it.setPath(this.path),it.load(o,function(ot){rt.image=ot,rt.needsUpdate=!0,et!==void 0&&et(rt)},tt,nt),rt}}class Light extends Object3D{constructor(o,et=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(o),this.intensity=et}dispose(){}copy(o,et){return super.copy(o,et),this.color.copy(o.color),this.intensity=o.intensity,this}toJSON(o){const et=super.toJSON(o);return et.object.color=this.color.getHex(),et.object.intensity=this.intensity,this.groundColor!==void 0&&(et.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(et.object.distance=this.distance),this.angle!==void 0&&(et.object.angle=this.angle),this.decay!==void 0&&(et.object.decay=this.decay),this.penumbra!==void 0&&(et.object.penumbra=this.penumbra),this.shadow!==void 0&&(et.object.shadow=this.shadow.toJSON()),et}}class HemisphereLight extends Light{constructor(o,et,tt){super(o,tt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(et)}copy(o,et){return super.copy(o,et),this.groundColor.copy(o.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(o){this.camera=o,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(o){const et=this.camera,tt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(o.matrixWorld),et.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(o.target.matrixWorld),et.lookAt(_lookTarget$1),et.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),tt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),tt.multiply(_projScreenMatrix$1)}getViewport(o){return this._viewports[o]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(o){return this.camera=o.camera.clone(),this.bias=o.bias,this.radius=o.radius,this.mapSize.copy(o.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const o={};return this.bias!==0&&(o.bias=this.bias),this.normalBias!==0&&(o.normalBias=this.normalBias),this.radius!==1&&(o.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(o.mapSize=this.mapSize.toArray()),o.camera=this.camera.toJSON(!1).object,delete o.camera.matrix,o}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(o){const et=this.camera,tt=RAD2DEG*2*o.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,rt=o.distance||et.far;(tt!==et.fov||nt!==et.aspect||rt!==et.far)&&(et.fov=tt,et.aspect=nt,et.far=rt,et.updateProjectionMatrix()),super.updateMatrices(o)}copy(o){return super.copy(o),this.focus=o.focus,this}}class SpotLight extends Light{constructor(o,et,tt=0,nt=Math.PI/3,rt=0,it=2){super(o,et),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=tt,this.angle=nt,this.penumbra=rt,this.decay=it,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(o){this.intensity=o/Math.PI}dispose(){this.shadow.dispose()}copy(o,et){return super.copy(o,et),this.distance=o.distance,this.angle=o.angle,this.penumbra=o.penumbra,this.decay=o.decay,this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(o,et=0){const tt=this.camera,nt=this.matrix,rt=o.distance||tt.far;rt!==tt.far&&(tt.far=rt,tt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(o.matrixWorld),tt.position.copy(_lightPositionWorld),_lookTarget.copy(tt.position),_lookTarget.add(this._cubeDirections[et]),tt.up.copy(this._cubeUps[et]),tt.lookAt(_lookTarget),tt.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(o,et,tt=0,nt=2){super(o,et),this.isPointLight=!0,this.type="PointLight",this.distance=tt,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(o){this.intensity=o/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(o,et){return super.copy(o,et),this.distance=o.distance,this.decay=o.decay,this.shadow=o.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(o,et){super(o,et),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(o){return super.copy(o),this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}class AmbientLight extends Light{constructor(o,et){super(o,et),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(o,et,tt=10,nt=10){super(o,et),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=tt,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(o){this.intensity=o/(this.width*this.height*Math.PI)}copy(o){return super.copy(o),this.width=o.width,this.height=o.height,this}toJSON(o){const et=super.toJSON(o);return et.object.width=this.width,et.object.height=this.height,et}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let o=0;o<9;o++)this.coefficients.push(new Vector3)}set(o){for(let et=0;et<9;et++)this.coefficients[et].copy(o[et]);return this}zero(){for(let o=0;o<9;o++)this.coefficients[o].set(0,0,0);return this}getAt(o,et){const tt=o.x,nt=o.y,rt=o.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.282095),et.addScaledVector(it[1],.488603*nt),et.addScaledVector(it[2],.488603*rt),et.addScaledVector(it[3],.488603*tt),et.addScaledVector(it[4],1.092548*(tt*nt)),et.addScaledVector(it[5],1.092548*(nt*rt)),et.addScaledVector(it[6],.315392*(3*rt*rt-1)),et.addScaledVector(it[7],1.092548*(tt*rt)),et.addScaledVector(it[8],.546274*(tt*tt-nt*nt)),et}getIrradianceAt(o,et){const tt=o.x,nt=o.y,rt=o.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.886227),et.addScaledVector(it[1],2*.511664*nt),et.addScaledVector(it[2],2*.511664*rt),et.addScaledVector(it[3],2*.511664*tt),et.addScaledVector(it[4],2*.429043*tt*nt),et.addScaledVector(it[5],2*.429043*nt*rt),et.addScaledVector(it[6],.743125*rt*rt-.247708),et.addScaledVector(it[7],2*.429043*tt*rt),et.addScaledVector(it[8],.429043*(tt*tt-nt*nt)),et}add(o){for(let et=0;et<9;et++)this.coefficients[et].add(o.coefficients[et]);return this}addScaledSH(o,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].addScaledVector(o.coefficients[tt],et);return this}scale(o){for(let et=0;et<9;et++)this.coefficients[et].multiplyScalar(o);return this}lerp(o,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].lerp(o.coefficients[tt],et);return this}equals(o){for(let et=0;et<9;et++)if(!this.coefficients[et].equals(o.coefficients[et]))return!1;return!0}copy(o){return this.set(o.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(o,et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].fromArray(o,et+nt*3);return this}toArray(o=[],et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].toArray(o,et+nt*3);return o}static getBasisAt(o,et){const tt=o.x,nt=o.y,rt=o.z;et[0]=.282095,et[1]=.488603*nt,et[2]=.488603*rt,et[3]=.488603*tt,et[4]=1.092548*tt*nt,et[5]=1.092548*nt*rt,et[6]=.315392*(3*rt*rt-1),et[7]=1.092548*tt*rt,et[8]=.546274*(tt*tt-nt*nt)}}class LightProbe extends Light{constructor(o=new SphericalHarmonics3,et=1){super(void 0,et),this.isLightProbe=!0,this.sh=o}copy(o){return super.copy(o),this.sh.copy(o.sh),this}fromJSON(o){return this.intensity=o.intensity,this.sh.fromArray(o.sh),this}toJSON(o){const et=super.toJSON(o);return et.object.sh=this.sh.toArray(),et}}class MaterialLoader extends Loader{constructor(o){super(o),this.textures={}}load(o,et,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load(o,function(ot){try{et(rt.parse(JSON.parse(ot)))}catch(st){nt?nt(st):console.error(st),rt.manager.itemError(o)}},tt,nt)}parse(o){const et=this.textures;function tt(rt){return et[rt]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",rt),et[rt]}const nt=MaterialLoader.createMaterialFromType(o.type);if(o.uuid!==void 0&&(nt.uuid=o.uuid),o.name!==void 0&&(nt.name=o.name),o.color!==void 0&&nt.color!==void 0&&nt.color.setHex(o.color),o.roughness!==void 0&&(nt.roughness=o.roughness),o.metalness!==void 0&&(nt.metalness=o.metalness),o.sheen!==void 0&&(nt.sheen=o.sheen),o.sheenColor!==void 0&&(nt.sheenColor=new Color$1().setHex(o.sheenColor)),o.sheenRoughness!==void 0&&(nt.sheenRoughness=o.sheenRoughness),o.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex(o.emissive),o.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex(o.specular),o.specularIntensity!==void 0&&(nt.specularIntensity=o.specularIntensity),o.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex(o.specularColor),o.shininess!==void 0&&(nt.shininess=o.shininess),o.clearcoat!==void 0&&(nt.clearcoat=o.clearcoat),o.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=o.clearcoatRoughness),o.dispersion!==void 0&&(nt.dispersion=o.dispersion),o.iridescence!==void 0&&(nt.iridescence=o.iridescence),o.iridescenceIOR!==void 0&&(nt.iridescenceIOR=o.iridescenceIOR),o.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=o.iridescenceThicknessRange),o.transmission!==void 0&&(nt.transmission=o.transmission),o.thickness!==void 0&&(nt.thickness=o.thickness),o.attenuationDistance!==void 0&&(nt.attenuationDistance=o.attenuationDistance),o.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex(o.attenuationColor),o.anisotropy!==void 0&&(nt.anisotropy=o.anisotropy),o.anisotropyRotation!==void 0&&(nt.anisotropyRotation=o.anisotropyRotation),o.fog!==void 0&&(nt.fog=o.fog),o.flatShading!==void 0&&(nt.flatShading=o.flatShading),o.blending!==void 0&&(nt.blending=o.blending),o.combine!==void 0&&(nt.combine=o.combine),o.side!==void 0&&(nt.side=o.side),o.shadowSide!==void 0&&(nt.shadowSide=o.shadowSide),o.opacity!==void 0&&(nt.opacity=o.opacity),o.transparent!==void 0&&(nt.transparent=o.transparent),o.alphaTest!==void 0&&(nt.alphaTest=o.alphaTest),o.alphaHash!==void 0&&(nt.alphaHash=o.alphaHash),o.depthFunc!==void 0&&(nt.depthFunc=o.depthFunc),o.depthTest!==void 0&&(nt.depthTest=o.depthTest),o.depthWrite!==void 0&&(nt.depthWrite=o.depthWrite),o.colorWrite!==void 0&&(nt.colorWrite=o.colorWrite),o.blendSrc!==void 0&&(nt.blendSrc=o.blendSrc),o.blendDst!==void 0&&(nt.blendDst=o.blendDst),o.blendEquation!==void 0&&(nt.blendEquation=o.blendEquation),o.blendSrcAlpha!==void 0&&(nt.blendSrcAlpha=o.blendSrcAlpha),o.blendDstAlpha!==void 0&&(nt.blendDstAlpha=o.blendDstAlpha),o.blendEquationAlpha!==void 0&&(nt.blendEquationAlpha=o.blendEquationAlpha),o.blendColor!==void 0&&nt.blendColor!==void 0&&nt.blendColor.setHex(o.blendColor),o.blendAlpha!==void 0&&(nt.blendAlpha=o.blendAlpha),o.stencilWriteMask!==void 0&&(nt.stencilWriteMask=o.stencilWriteMask),o.stencilFunc!==void 0&&(nt.stencilFunc=o.stencilFunc),o.stencilRef!==void 0&&(nt.stencilRef=o.stencilRef),o.stencilFuncMask!==void 0&&(nt.stencilFuncMask=o.stencilFuncMask),o.stencilFail!==void 0&&(nt.stencilFail=o.stencilFail),o.stencilZFail!==void 0&&(nt.stencilZFail=o.stencilZFail),o.stencilZPass!==void 0&&(nt.stencilZPass=o.stencilZPass),o.stencilWrite!==void 0&&(nt.stencilWrite=o.stencilWrite),o.wireframe!==void 0&&(nt.wireframe=o.wireframe),o.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=o.wireframeLinewidth),o.wireframeLinecap!==void 0&&(nt.wireframeLinecap=o.wireframeLinecap),o.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=o.wireframeLinejoin),o.rotation!==void 0&&(nt.rotation=o.rotation),o.linewidth!==void 0&&(nt.linewidth=o.linewidth),o.dashSize!==void 0&&(nt.dashSize=o.dashSize),o.gapSize!==void 0&&(nt.gapSize=o.gapSize),o.scale!==void 0&&(nt.scale=o.scale),o.polygonOffset!==void 0&&(nt.polygonOffset=o.polygonOffset),o.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=o.polygonOffsetFactor),o.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=o.polygonOffsetUnits),o.dithering!==void 0&&(nt.dithering=o.dithering),o.alphaToCoverage!==void 0&&(nt.alphaToCoverage=o.alphaToCoverage),o.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=o.premultipliedAlpha),o.forceSinglePass!==void 0&&(nt.forceSinglePass=o.forceSinglePass),o.visible!==void 0&&(nt.visible=o.visible),o.toneMapped!==void 0&&(nt.toneMapped=o.toneMapped),o.userData!==void 0&&(nt.userData=o.userData),o.vertexColors!==void 0&&(typeof o.vertexColors=="number"?nt.vertexColors=o.vertexColors>0:nt.vertexColors=o.vertexColors),o.uniforms!==void 0)for(const rt in o.uniforms){const it=o.uniforms[rt];switch(nt.uniforms[rt]={},it.type){case"t":nt.uniforms[rt].value=tt(it.value);break;case"c":nt.uniforms[rt].value=new Color$1().setHex(it.value);break;case"v2":nt.uniforms[rt].value=new Vector2().fromArray(it.value);break;case"v3":nt.uniforms[rt].value=new Vector3().fromArray(it.value);break;case"v4":nt.uniforms[rt].value=new Vector4().fromArray(it.value);break;case"m3":nt.uniforms[rt].value=new Matrix3().fromArray(it.value);break;case"m4":nt.uniforms[rt].value=new Matrix4().fromArray(it.value);break;default:nt.uniforms[rt].value=it.value}}if(o.defines!==void 0&&(nt.defines=o.defines),o.vertexShader!==void 0&&(nt.vertexShader=o.vertexShader),o.fragmentShader!==void 0&&(nt.fragmentShader=o.fragmentShader),o.glslVersion!==void 0&&(nt.glslVersion=o.glslVersion),o.extensions!==void 0)for(const rt in o.extensions)nt.extensions[rt]=o.extensions[rt];if(o.lights!==void 0&&(nt.lights=o.lights),o.clipping!==void 0&&(nt.clipping=o.clipping),o.size!==void 0&&(nt.size=o.size),o.sizeAttenuation!==void 0&&(nt.sizeAttenuation=o.sizeAttenuation),o.map!==void 0&&(nt.map=tt(o.map)),o.matcap!==void 0&&(nt.matcap=tt(o.matcap)),o.alphaMap!==void 0&&(nt.alphaMap=tt(o.alphaMap)),o.bumpMap!==void 0&&(nt.bumpMap=tt(o.bumpMap)),o.bumpScale!==void 0&&(nt.bumpScale=o.bumpScale),o.normalMap!==void 0&&(nt.normalMap=tt(o.normalMap)),o.normalMapType!==void 0&&(nt.normalMapType=o.normalMapType),o.normalScale!==void 0){let rt=o.normalScale;Array.isArray(rt)===!1&&(rt=[rt,rt]),nt.normalScale=new Vector2().fromArray(rt)}return o.displacementMap!==void 0&&(nt.displacementMap=tt(o.displacementMap)),o.displacementScale!==void 0&&(nt.displacementScale=o.displacementScale),o.displacementBias!==void 0&&(nt.displacementBias=o.displacementBias),o.roughnessMap!==void 0&&(nt.roughnessMap=tt(o.roughnessMap)),o.metalnessMap!==void 0&&(nt.metalnessMap=tt(o.metalnessMap)),o.emissiveMap!==void 0&&(nt.emissiveMap=tt(o.emissiveMap)),o.emissiveIntensity!==void 0&&(nt.emissiveIntensity=o.emissiveIntensity),o.specularMap!==void 0&&(nt.specularMap=tt(o.specularMap)),o.specularIntensityMap!==void 0&&(nt.specularIntensityMap=tt(o.specularIntensityMap)),o.specularColorMap!==void 0&&(nt.specularColorMap=tt(o.specularColorMap)),o.envMap!==void 0&&(nt.envMap=tt(o.envMap)),o.envMapRotation!==void 0&&nt.envMapRotation.fromArray(o.envMapRotation),o.envMapIntensity!==void 0&&(nt.envMapIntensity=o.envMapIntensity),o.reflectivity!==void 0&&(nt.reflectivity=o.reflectivity),o.refractionRatio!==void 0&&(nt.refractionRatio=o.refractionRatio),o.lightMap!==void 0&&(nt.lightMap=tt(o.lightMap)),o.lightMapIntensity!==void 0&&(nt.lightMapIntensity=o.lightMapIntensity),o.aoMap!==void 0&&(nt.aoMap=tt(o.aoMap)),o.aoMapIntensity!==void 0&&(nt.aoMapIntensity=o.aoMapIntensity),o.gradientMap!==void 0&&(nt.gradientMap=tt(o.gradientMap)),o.clearcoatMap!==void 0&&(nt.clearcoatMap=tt(o.clearcoatMap)),o.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=tt(o.clearcoatRoughnessMap)),o.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=tt(o.clearcoatNormalMap)),o.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray(o.clearcoatNormalScale)),o.iridescenceMap!==void 0&&(nt.iridescenceMap=tt(o.iridescenceMap)),o.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=tt(o.iridescenceThicknessMap)),o.transmissionMap!==void 0&&(nt.transmissionMap=tt(o.transmissionMap)),o.thicknessMap!==void 0&&(nt.thicknessMap=tt(o.thicknessMap)),o.anisotropyMap!==void 0&&(nt.anisotropyMap=tt(o.anisotropyMap)),o.sheenColorMap!==void 0&&(nt.sheenColorMap=tt(o.sheenColorMap)),o.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=tt(o.sheenRoughnessMap)),nt}setTextures(o){return this.textures=o,this}static createMaterialFromType(o){const et={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new et[o]}}class LoaderUtils{static decodeText(o){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(o);let et="";for(let tt=0,nt=o.length;tt<nt;tt++)et+=String.fromCharCode(o[tt]);try{return decodeURIComponent(escape(et))}catch{return et}}static extractUrlBase(o){const et=o.lastIndexOf("/");return et===-1?"./":o.slice(0,et+1)}static resolveURL(o,et){return typeof o!="string"||o===""?"":(/^https?:\/\//i.test(et)&&/^\//.test(o)&&(et=et.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(o)||/^data:.*,.*$/i.test(o)||/^blob:.*$/i.test(o)?o:et+o)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(o){return super.copy(o),this.instanceCount=o.instanceCount,this}toJSON(){const o=super.toJSON();return o.instanceCount=this.instanceCount,o.isInstancedBufferGeometry=!0,o}}class BufferGeometryLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load(o,function(ot){try{et(rt.parse(JSON.parse(ot)))}catch(st){nt?nt(st):console.error(st),rt.manager.itemError(o)}},tt,nt)}parse(o){const et={},tt={};function nt(dt,ht){if(et[ht]!==void 0)return et[ht];const gt=dt.interleavedBuffers[ht],ft=rt(dt,gt.buffer),yt=getTypedArray(gt.type,ft),mt=new InterleavedBuffer(yt,gt.stride);return mt.uuid=gt.uuid,et[ht]=mt,mt}function rt(dt,ht){if(tt[ht]!==void 0)return tt[ht];const gt=dt.arrayBuffers[ht],ft=new Uint32Array(gt).buffer;return tt[ht]=ft,ft}const it=o.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,ot=o.data.index;if(ot!==void 0){const dt=getTypedArray(ot.type,ot.array);it.setIndex(new BufferAttribute(dt,1))}const st=o.data.attributes;for(const dt in st){const ht=st[dt];let pt;if(ht.isInterleavedBufferAttribute){const gt=nt(o.data,ht.data);pt=new InterleavedBufferAttribute(gt,ht.itemSize,ht.offset,ht.normalized)}else{const gt=getTypedArray(ht.type,ht.array),ft=ht.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;pt=new ft(gt,ht.itemSize,ht.normalized)}ht.name!==void 0&&(pt.name=ht.name),ht.usage!==void 0&&pt.setUsage(ht.usage),it.setAttribute(dt,pt)}const at=o.data.morphAttributes;if(at)for(const dt in at){const ht=at[dt],pt=[];for(let gt=0,ft=ht.length;gt<ft;gt++){const yt=ht[gt];let mt;if(yt.isInterleavedBufferAttribute){const Ft=nt(o.data,yt.data);mt=new InterleavedBufferAttribute(Ft,yt.itemSize,yt.offset,yt.normalized)}else{const Ft=getTypedArray(yt.type,yt.array);mt=new BufferAttribute(Ft,yt.itemSize,yt.normalized)}yt.name!==void 0&&(mt.name=yt.name),pt.push(mt)}it.morphAttributes[dt]=pt}o.data.morphTargetsRelative&&(it.morphTargetsRelative=!0);const ct=o.data.groups||o.data.drawcalls||o.data.offsets;if(ct!==void 0)for(let dt=0,ht=ct.length;dt!==ht;++dt){const pt=ct[dt];it.addGroup(pt.start,pt.count,pt.materialIndex)}const ut=o.data.boundingSphere;if(ut!==void 0){const dt=new Vector3;ut.center!==void 0&&dt.fromArray(ut.center),it.boundingSphere=new Sphere$1(dt,ut.radius)}return o.name&&(it.name=o.name),o.userData&&(it.userData=o.userData),it}}class ObjectLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=this.path===""?LoaderUtils.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||it;const ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(o,function(st){let at=null;try{at=JSON.parse(st)}catch(ct){nt!==void 0&&nt(ct),console.error("THREE:ObjectLoader: Can't parse "+o+".",ct.message);return}const lt=at.metadata;if(lt===void 0||lt.type===void 0||lt.type.toLowerCase()==="geometry"){nt!==void 0&&nt(new Error("THREE.ObjectLoader: Can't load "+o)),console.error("THREE.ObjectLoader: Can't load "+o);return}rt.parse(at,et)},tt,nt)}async loadAsync(o,et){const tt=this,nt=this.path===""?LoaderUtils.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||nt;const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials);const it=await rt.loadAsync(o,et),ot=JSON.parse(it),st=ot.metadata;if(st===void 0||st.type===void 0||st.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+o);return await tt.parseAsync(ot)}parse(o,et){const tt=this.parseAnimations(o.animations),nt=this.parseShapes(o.shapes),rt=this.parseGeometries(o.geometries,nt),it=this.parseImages(o.images,function(){et!==void 0&&et(at)}),ot=this.parseTextures(o.textures,it),st=this.parseMaterials(o.materials,ot),at=this.parseObject(o.object,rt,st,ot,tt),lt=this.parseSkeletons(o.skeletons,at);if(this.bindSkeletons(at,lt),et!==void 0){let ct=!1;for(const ut in it)if(it[ut].data instanceof HTMLImageElement){ct=!0;break}ct===!1&&et(at)}return at}async parseAsync(o){const et=this.parseAnimations(o.animations),tt=this.parseShapes(o.shapes),nt=this.parseGeometries(o.geometries,tt),rt=await this.parseImagesAsync(o.images),it=this.parseTextures(o.textures,rt),ot=this.parseMaterials(o.materials,it),st=this.parseObject(o.object,nt,ot,it,et),at=this.parseSkeletons(o.skeletons,st);return this.bindSkeletons(st,at),st}parseShapes(o){const et={};if(o!==void 0)for(let tt=0,nt=o.length;tt<nt;tt++){const rt=new Shape().fromJSON(o[tt]);et[rt.uuid]=rt}return et}parseSkeletons(o,et){const tt={},nt={};if(et.traverse(function(rt){rt.isBone&&(nt[rt.uuid]=rt)}),o!==void 0)for(let rt=0,it=o.length;rt<it;rt++){const ot=new Skeleton().fromJSON(o[rt],nt);tt[ot.uuid]=ot}return tt}parseGeometries(o,et){const tt={};if(o!==void 0){const nt=new BufferGeometryLoader;for(let rt=0,it=o.length;rt<it;rt++){let ot;const st=o[rt];switch(st.type){case"BufferGeometry":case"InstancedBufferGeometry":ot=nt.parse(st);break;default:st.type in Geometries?ot=Geometries[st.type].fromJSON(st,et):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${st.type}"`)}ot.uuid=st.uuid,st.name!==void 0&&(ot.name=st.name),st.userData!==void 0&&(ot.userData=st.userData),tt[st.uuid]=ot}}return tt}parseMaterials(o,et){const tt={},nt={};if(o!==void 0){const rt=new MaterialLoader;rt.setTextures(et);for(let it=0,ot=o.length;it<ot;it++){const st=o[it];tt[st.uuid]===void 0&&(tt[st.uuid]=rt.parse(st)),nt[st.uuid]=tt[st.uuid]}}return nt}parseAnimations(o){const et={};if(o!==void 0)for(let tt=0;tt<o.length;tt++){const nt=o[tt],rt=AnimationClip.parse(nt);et[rt.uuid]=rt}return et}parseImages(o,et){const tt=this,nt={};let rt;function it(st){return tt.manager.itemStart(st),rt.load(st,function(){tt.manager.itemEnd(st)},void 0,function(){tt.manager.itemError(st),tt.manager.itemEnd(st)})}function ot(st){if(typeof st=="string"){const at=st,lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(at)?at:tt.resourcePath+at;return it(lt)}else return st.data?{data:getTypedArray(st.type,st.data),width:st.width,height:st.height}:null}if(o!==void 0&&o.length>0){const st=new LoadingManager(et);rt=new ImageLoader(st),rt.setCrossOrigin(this.crossOrigin);for(let at=0,lt=o.length;at<lt;at++){const ct=o[at],ut=ct.url;if(Array.isArray(ut)){const dt=[];for(let ht=0,pt=ut.length;ht<pt;ht++){const gt=ut[ht],ft=ot(gt);ft!==null&&(ft instanceof HTMLImageElement?dt.push(ft):dt.push(new DataTexture(ft.data,ft.width,ft.height)))}nt[ct.uuid]=new Source(dt)}else{const dt=ot(ct.url);nt[ct.uuid]=new Source(dt)}}}return nt}async parseImagesAsync(o){const et=this,tt={};let nt;async function rt(it){if(typeof it=="string"){const ot=it,st=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ot)?ot:et.resourcePath+ot;return await nt.loadAsync(st)}else return it.data?{data:getTypedArray(it.type,it.data),width:it.width,height:it.height}:null}if(o!==void 0&&o.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let it=0,ot=o.length;it<ot;it++){const st=o[it],at=st.url;if(Array.isArray(at)){const lt=[];for(let ct=0,ut=at.length;ct<ut;ct++){const dt=at[ct],ht=await rt(dt);ht!==null&&(ht instanceof HTMLImageElement?lt.push(ht):lt.push(new DataTexture(ht.data,ht.width,ht.height)))}tt[st.uuid]=new Source(lt)}else{const lt=await rt(st.url);tt[st.uuid]=new Source(lt)}}}return tt}parseTextures(o,et){function tt(rt,it){return typeof rt=="number"?rt:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",rt),it[rt])}const nt={};if(o!==void 0)for(let rt=0,it=o.length;rt<it;rt++){const ot=o[rt];ot.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',ot.uuid),et[ot.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",ot.image);const st=et[ot.image],at=st.data;let lt;Array.isArray(at)?(lt=new CubeTexture,at.length===6&&(lt.needsUpdate=!0)):(at&&at.data?lt=new DataTexture:lt=new Texture,at&&(lt.needsUpdate=!0)),lt.source=st,lt.uuid=ot.uuid,ot.name!==void 0&&(lt.name=ot.name),ot.mapping!==void 0&&(lt.mapping=tt(ot.mapping,TEXTURE_MAPPING)),ot.channel!==void 0&&(lt.channel=ot.channel),ot.offset!==void 0&&lt.offset.fromArray(ot.offset),ot.repeat!==void 0&&lt.repeat.fromArray(ot.repeat),ot.center!==void 0&&lt.center.fromArray(ot.center),ot.rotation!==void 0&&(lt.rotation=ot.rotation),ot.wrap!==void 0&&(lt.wrapS=tt(ot.wrap[0],TEXTURE_WRAPPING),lt.wrapT=tt(ot.wrap[1],TEXTURE_WRAPPING)),ot.format!==void 0&&(lt.format=ot.format),ot.internalFormat!==void 0&&(lt.internalFormat=ot.internalFormat),ot.type!==void 0&&(lt.type=ot.type),ot.colorSpace!==void 0&&(lt.colorSpace=ot.colorSpace),ot.minFilter!==void 0&&(lt.minFilter=tt(ot.minFilter,TEXTURE_FILTER)),ot.magFilter!==void 0&&(lt.magFilter=tt(ot.magFilter,TEXTURE_FILTER)),ot.anisotropy!==void 0&&(lt.anisotropy=ot.anisotropy),ot.flipY!==void 0&&(lt.flipY=ot.flipY),ot.generateMipmaps!==void 0&&(lt.generateMipmaps=ot.generateMipmaps),ot.premultiplyAlpha!==void 0&&(lt.premultiplyAlpha=ot.premultiplyAlpha),ot.unpackAlignment!==void 0&&(lt.unpackAlignment=ot.unpackAlignment),ot.compareFunction!==void 0&&(lt.compareFunction=ot.compareFunction),ot.userData!==void 0&&(lt.userData=ot.userData),nt[ot.uuid]=lt}return nt}parseObject(o,et,tt,nt,rt){let it;function ot(ut){return et[ut]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ut),et[ut]}function st(ut){if(ut!==void 0){if(Array.isArray(ut)){const dt=[];for(let ht=0,pt=ut.length;ht<pt;ht++){const gt=ut[ht];tt[gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",gt),dt.push(tt[gt])}return dt}return tt[ut]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ut),tt[ut]}}function at(ut){return nt[ut]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ut),nt[ut]}let lt,ct;switch(o.type){case"Scene":it=new Scene,o.background!==void 0&&(Number.isInteger(o.background)?it.background=new Color$1(o.background):it.background=at(o.background)),o.environment!==void 0&&(it.environment=at(o.environment)),o.fog!==void 0&&(o.fog.type==="Fog"?it.fog=new Fog(o.fog.color,o.fog.near,o.fog.far):o.fog.type==="FogExp2"&&(it.fog=new FogExp2(o.fog.color,o.fog.density)),o.fog.name!==""&&(it.fog.name=o.fog.name)),o.backgroundBlurriness!==void 0&&(it.backgroundBlurriness=o.backgroundBlurriness),o.backgroundIntensity!==void 0&&(it.backgroundIntensity=o.backgroundIntensity),o.backgroundRotation!==void 0&&it.backgroundRotation.fromArray(o.backgroundRotation),o.environmentIntensity!==void 0&&(it.environmentIntensity=o.environmentIntensity),o.environmentRotation!==void 0&&it.environmentRotation.fromArray(o.environmentRotation);break;case"PerspectiveCamera":it=new PerspectiveCamera$1(o.fov,o.aspect,o.near,o.far),o.focus!==void 0&&(it.focus=o.focus),o.zoom!==void 0&&(it.zoom=o.zoom),o.filmGauge!==void 0&&(it.filmGauge=o.filmGauge),o.filmOffset!==void 0&&(it.filmOffset=o.filmOffset),o.view!==void 0&&(it.view=Object.assign({},o.view));break;case"OrthographicCamera":it=new OrthographicCamera(o.left,o.right,o.top,o.bottom,o.near,o.far),o.zoom!==void 0&&(it.zoom=o.zoom),o.view!==void 0&&(it.view=Object.assign({},o.view));break;case"AmbientLight":it=new AmbientLight(o.color,o.intensity);break;case"DirectionalLight":it=new DirectionalLight(o.color,o.intensity);break;case"PointLight":it=new PointLight(o.color,o.intensity,o.distance,o.decay);break;case"RectAreaLight":it=new RectAreaLight(o.color,o.intensity,o.width,o.height);break;case"SpotLight":it=new SpotLight(o.color,o.intensity,o.distance,o.angle,o.penumbra,o.decay);break;case"HemisphereLight":it=new HemisphereLight(o.color,o.groundColor,o.intensity);break;case"LightProbe":it=new LightProbe().fromJSON(o);break;case"SkinnedMesh":lt=ot(o.geometry),ct=st(o.material),it=new SkinnedMesh(lt,ct),o.bindMode!==void 0&&(it.bindMode=o.bindMode),o.bindMatrix!==void 0&&it.bindMatrix.fromArray(o.bindMatrix),o.skeleton!==void 0&&(it.skeleton=o.skeleton);break;case"Mesh":lt=ot(o.geometry),ct=st(o.material),it=new Mesh(lt,ct);break;case"InstancedMesh":lt=ot(o.geometry),ct=st(o.material);const ut=o.count,dt=o.instanceMatrix,ht=o.instanceColor;it=new InstancedMesh(lt,ct,ut),it.instanceMatrix=new InstancedBufferAttribute(new Float32Array(dt.array),16),ht!==void 0&&(it.instanceColor=new InstancedBufferAttribute(new Float32Array(ht.array),ht.itemSize));break;case"BatchedMesh":lt=ot(o.geometry),ct=st(o.material),it=new BatchedMesh(o.maxGeometryCount,o.maxVertexCount,o.maxIndexCount,ct),it.geometry=lt,it.perObjectFrustumCulled=o.perObjectFrustumCulled,it.sortObjects=o.sortObjects,it._drawRanges=o.drawRanges,it._reservedRanges=o.reservedRanges,it._visibility=o.visibility,it._active=o.active,it._bounds=o.bounds.map(pt=>{const gt=new Box3;gt.min.fromArray(pt.boxMin),gt.max.fromArray(pt.boxMax);const ft=new Sphere$1;return ft.radius=pt.sphereRadius,ft.center.fromArray(pt.sphereCenter),{boxInitialized:pt.boxInitialized,box:gt,sphereInitialized:pt.sphereInitialized,sphere:ft}}),it._maxGeometryCount=o.maxGeometryCount,it._maxVertexCount=o.maxVertexCount,it._maxIndexCount=o.maxIndexCount,it._geometryInitialized=o.geometryInitialized,it._geometryCount=o.geometryCount,it._matricesTexture=at(o.matricesTexture.uuid),o.colorsTexture!==void 0&&(it._colorsTexture=at(o.colorsTexture.uuid));break;case"LOD":it=new LOD;break;case"Line":it=new Line$1(ot(o.geometry),st(o.material));break;case"LineLoop":it=new LineLoop(ot(o.geometry),st(o.material));break;case"LineSegments":it=new LineSegments(ot(o.geometry),st(o.material));break;case"PointCloud":case"Points":it=new Points(ot(o.geometry),st(o.material));break;case"Sprite":it=new Sprite(st(o.material));break;case"Group":it=new Group;break;case"Bone":it=new Bone;break;default:it=new Object3D}if(it.uuid=o.uuid,o.name!==void 0&&(it.name=o.name),o.matrix!==void 0?(it.matrix.fromArray(o.matrix),o.matrixAutoUpdate!==void 0&&(it.matrixAutoUpdate=o.matrixAutoUpdate),it.matrixAutoUpdate&&it.matrix.decompose(it.position,it.quaternion,it.scale)):(o.position!==void 0&&it.position.fromArray(o.position),o.rotation!==void 0&&it.rotation.fromArray(o.rotation),o.quaternion!==void 0&&it.quaternion.fromArray(o.quaternion),o.scale!==void 0&&it.scale.fromArray(o.scale)),o.up!==void 0&&it.up.fromArray(o.up),o.castShadow!==void 0&&(it.castShadow=o.castShadow),o.receiveShadow!==void 0&&(it.receiveShadow=o.receiveShadow),o.shadow&&(o.shadow.bias!==void 0&&(it.shadow.bias=o.shadow.bias),o.shadow.normalBias!==void 0&&(it.shadow.normalBias=o.shadow.normalBias),o.shadow.radius!==void 0&&(it.shadow.radius=o.shadow.radius),o.shadow.mapSize!==void 0&&it.shadow.mapSize.fromArray(o.shadow.mapSize),o.shadow.camera!==void 0&&(it.shadow.camera=this.parseObject(o.shadow.camera))),o.visible!==void 0&&(it.visible=o.visible),o.frustumCulled!==void 0&&(it.frustumCulled=o.frustumCulled),o.renderOrder!==void 0&&(it.renderOrder=o.renderOrder),o.userData!==void 0&&(it.userData=o.userData),o.layers!==void 0&&(it.layers.mask=o.layers),o.children!==void 0){const ut=o.children;for(let dt=0;dt<ut.length;dt++)it.add(this.parseObject(ut[dt],et,tt,nt,rt))}if(o.animations!==void 0){const ut=o.animations;for(let dt=0;dt<ut.length;dt++){const ht=ut[dt];it.animations.push(rt[ht])}}if(o.type==="LOD"){o.autoUpdate!==void 0&&(it.autoUpdate=o.autoUpdate);const ut=o.levels;for(let dt=0;dt<ut.length;dt++){const ht=ut[dt],pt=it.getObjectByProperty("uuid",ht.object);pt!==void 0&&it.addLevel(pt,ht.distance,ht.hysteresis)}}return it}bindSkeletons(o,et){Object.keys(et).length!==0&&o.traverse(function(tt){if(tt.isSkinnedMesh===!0&&tt.skeleton!==void 0){const nt=et[tt.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",tt.skeleton):tt.bind(nt,tt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(o){super(o),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(o){return this.options=o,this}load(o,et,tt,nt){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const rt=this,it=Cache.get(o);if(it!==void 0){if(rt.manager.itemStart(o),it.then){it.then(at=>{et&&et(at),rt.manager.itemEnd(o)}).catch(at=>{nt&&nt(at)});return}return setTimeout(function(){et&&et(it),rt.manager.itemEnd(o)},0),it}const ot={};ot.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",ot.headers=this.requestHeader;const st=fetch(o,ot).then(function(at){return at.blob()}).then(function(at){return createImageBitmap(at,Object.assign(rt.options,{colorSpaceConversion:"none"}))}).then(function(at){return Cache.add(o,at),et&&et(at),rt.manager.itemEnd(o),at}).catch(function(at){nt&&nt(at),Cache.remove(o),rt.manager.itemError(o),rt.manager.itemEnd(o)});Cache.add(o,st),rt.manager.itemStart(o)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(o){_context=o}}class AudioLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setResponseType("arraybuffer"),it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(o,function(st){try{const at=st.slice(0);AudioContext.getContext().decodeAudioData(at,function(ct){et(ct)}).catch(ot)}catch(at){ot(at)}},tt,nt);function ot(st){nt?nt(st):console.error(st),rt.manager.itemError(o)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(o){const et=this._cache;if(et.focus!==o.focus||et.fov!==o.fov||et.aspect!==o.aspect*this.aspect||et.near!==o.near||et.far!==o.far||et.zoom!==o.zoom||et.eyeSep!==this.eyeSep){et.focus=o.focus,et.fov=o.fov,et.aspect=o.aspect*this.aspect,et.near=o.near,et.far=o.far,et.zoom=o.zoom,et.eyeSep=this.eyeSep,_projectionMatrix.copy(o.projectionMatrix);const nt=et.eyeSep/2,rt=nt*et.near/et.focus,it=et.near*Math.tan(DEG2RAD$1*et.fov*.5)/et.zoom;let ot,st;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,ot=-it*et.aspect+rt,st=it*et.aspect+rt,_projectionMatrix.elements[0]=2*et.near/(st-ot),_projectionMatrix.elements[8]=(st+ot)/(st-ot),this.cameraL.projectionMatrix.copy(_projectionMatrix),ot=-it*et.aspect-rt,st=it*et.aspect-rt,_projectionMatrix.elements[0]=2*et.near/(st-ot),_projectionMatrix.elements[8]=(st+ot)/(st-ot),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(o=!0){this.autoStart=o,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let o=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const et=now();o=(et-this.oldTime)/1e3,this.oldTime=et,this.elapsedTime+=o}return o}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(o){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=o,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}updateMatrixWorld(o){super.updateMatrixWorld(o);const et=this.context.listener,tt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),et.positionX){const nt=this.context.currentTime+this.timeDelta;et.positionX.linearRampToValueAtTime(_position$1.x,nt),et.positionY.linearRampToValueAtTime(_position$1.y,nt),et.positionZ.linearRampToValueAtTime(_position$1.z,nt),et.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),et.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),et.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),et.upX.linearRampToValueAtTime(tt.x,nt),et.upY.linearRampToValueAtTime(tt.y,nt),et.upZ.linearRampToValueAtTime(tt.z,nt)}else et.setPosition(_position$1.x,_position$1.y,_position$1.z),et.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,tt.x,tt.y,tt.z)}}class Audio extends Object3D{constructor(o){super(),this.type="Audio",this.listener=o,this.context=o.context,this.gain=this.context.createGain(),this.gain.connect(o.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(o){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=o,this.connect(),this}setMediaElementSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(o),this.connect(),this}setMediaStreamSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(o),this.connect(),this}setBuffer(o){return this.buffer=o,this.sourceType="buffer",this.autoplay&&this.play(),this}play(o=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+o;const et=this.context.createBufferSource();return et.buffer=this.buffer,et.loop=this.loop,et.loopStart=this.loopStart,et.loopEnd=this.loopEnd,et.onended=this.onEnded.bind(this),et.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=et,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let o=1,et=this.filters.length;o<et;o++)this.filters[o-1].connect(this.filters[o]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let o=1,et=this.filters.length;o<et;o++)this.filters[o-1].disconnect(this.filters[o]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(o){return o||(o=[]),this._connected===!0?(this.disconnect(),this.filters=o.slice(),this.connect()):this.filters=o.slice(),this}setDetune(o){return this.detune=o,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(o){return this.setFilters(o?[o]:[])}setPlaybackRate(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=o,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=o,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(o){return this.loopStart=o,this}setLoopEnd(o){return this.loopEnd=o,this}getVolume(){return this.gain.gain.value}setVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(o){super(o),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(o){return this.panner.refDistance=o,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(o){return this.panner.rolloffFactor=o,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(o){return this.panner.distanceModel=o,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(o){return this.panner.maxDistance=o,this}setDirectionalCone(o,et,tt){return this.panner.coneInnerAngle=o,this.panner.coneOuterAngle=et,this.panner.coneOuterGain=tt,this}updateMatrixWorld(o){if(super.updateMatrixWorld(o),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const et=this.panner;if(et.positionX){const tt=this.context.currentTime+this.listener.timeDelta;et.positionX.linearRampToValueAtTime(_position.x,tt),et.positionY.linearRampToValueAtTime(_position.y,tt),et.positionZ.linearRampToValueAtTime(_position.z,tt),et.orientationX.linearRampToValueAtTime(_orientation.x,tt),et.orientationY.linearRampToValueAtTime(_orientation.y,tt),et.orientationZ.linearRampToValueAtTime(_orientation.z,tt)}else et.setPosition(_position.x,_position.y,_position.z),et.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(o,et=2048){this.analyser=o.context.createAnalyser(),this.analyser.fftSize=et,this.data=new Uint8Array(this.analyser.frequencyBinCount),o.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let o=0;const et=this.getFrequencyData();for(let tt=0;tt<et.length;tt++)o+=et[tt];return o/et.length}}class PropertyMixer{constructor(o,et,tt){this.binding=o,this.valueSize=tt;let nt,rt,it;switch(et){case"quaternion":nt=this._slerp,rt=this._slerpAdditive,it=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(tt*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,rt=this._select,it=this._setAdditiveIdentityOther,this.buffer=new Array(tt*5);break;default:nt=this._lerp,rt=this._lerpAdditive,it=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(tt*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=rt,this._setIdentity=it,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(o,et){const tt=this.buffer,nt=this.valueSize,rt=o*nt+nt;let it=this.cumulativeWeight;if(it===0){for(let ot=0;ot!==nt;++ot)tt[rt+ot]=tt[ot];it=et}else{it+=et;const ot=et/it;this._mixBufferRegion(tt,rt,0,ot,nt)}this.cumulativeWeight=it}accumulateAdditive(o){const et=this.buffer,tt=this.valueSize,nt=tt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(et,nt,0,o,tt),this.cumulativeWeightAdditive+=o}apply(o){const et=this.valueSize,tt=this.buffer,nt=o*et+et,rt=this.cumulativeWeight,it=this.cumulativeWeightAdditive,ot=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,rt<1){const st=et*this._origIndex;this._mixBufferRegion(tt,nt,st,1-rt,et)}it>0&&this._mixBufferRegionAdditive(tt,nt,this._addIndex*et,1,et);for(let st=et,at=et+et;st!==at;++st)if(tt[st]!==tt[st+et]){ot.setValue(tt,nt);break}}saveOriginalState(){const o=this.binding,et=this.buffer,tt=this.valueSize,nt=tt*this._origIndex;o.getValue(et,nt);for(let rt=tt,it=nt;rt!==it;++rt)et[rt]=et[nt+rt%tt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const o=this.valueSize*3;this.binding.setValue(this.buffer,o)}_setAdditiveIdentityNumeric(){const o=this._addIndex*this.valueSize,et=o+this.valueSize;for(let tt=o;tt<et;tt++)this.buffer[tt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const o=this._origIndex*this.valueSize,et=this._addIndex*this.valueSize;for(let tt=0;tt<this.valueSize;tt++)this.buffer[et+tt]=this.buffer[o+tt]}_select(o,et,tt,nt,rt){if(nt>=.5)for(let it=0;it!==rt;++it)o[et+it]=o[tt+it]}_slerp(o,et,tt,nt){Quaternion.slerpFlat(o,et,o,et,o,tt,nt)}_slerpAdditive(o,et,tt,nt,rt){const it=this._workIndex*rt;Quaternion.multiplyQuaternionsFlat(o,it,o,et,o,tt),Quaternion.slerpFlat(o,et,o,et,o,it,nt)}_lerp(o,et,tt,nt,rt){const it=1-nt;for(let ot=0;ot!==rt;++ot){const st=et+ot;o[st]=o[st]*it+o[tt+ot]*nt}}_lerpAdditive(o,et,tt,nt,rt){for(let it=0;it!==rt;++it){const ot=et+it;o[ot]=o[ot]+o[tt+it]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(o,et,tt){const nt=tt||PropertyBinding.parseTrackName(et);this._targetGroup=o,this._bindings=o.subscribe_(et,nt)}getValue(o,et){this.bind();const tt=this._targetGroup.nCachedObjects_,nt=this._bindings[tt];nt!==void 0&&nt.getValue(o,et)}setValue(o,et){const tt=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=tt.length;nt!==rt;++nt)tt[nt].setValue(o,et)}bind(){const o=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=o.length;et!==tt;++et)o[et].bind()}unbind(){const o=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=o.length;et!==tt;++et)o[et].unbind()}}class PropertyBinding{constructor(o,et,tt){this.path=et,this.parsedPath=tt||PropertyBinding.parseTrackName(et),this.node=PropertyBinding.findNode(o,this.parsedPath.nodeName),this.rootNode=o,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(o,et,tt){return o&&o.isAnimationObjectGroup?new PropertyBinding.Composite(o,et,tt):new PropertyBinding(o,et,tt)}static sanitizeNodeName(o){return o.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(o){const et=_trackRe.exec(o);if(et===null)throw new Error("PropertyBinding: Cannot parse trackName: "+o);const tt={nodeName:et[2],objectName:et[3],objectIndex:et[4],propertyName:et[5],propertyIndex:et[6]},nt=tt.nodeName&&tt.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const rt=tt.nodeName.substring(nt+1);_supportedObjectNames.indexOf(rt)!==-1&&(tt.nodeName=tt.nodeName.substring(0,nt),tt.objectName=rt)}if(tt.propertyName===null||tt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+o);return tt}static findNode(o,et){if(et===void 0||et===""||et==="."||et===-1||et===o.name||et===o.uuid)return o;if(o.skeleton){const tt=o.skeleton.getBoneByName(et);if(tt!==void 0)return tt}if(o.children){const tt=function(rt){for(let it=0;it<rt.length;it++){const ot=rt[it];if(ot.name===et||ot.uuid===et)return ot;const st=tt(ot.children);if(st)return st}return null},nt=tt(o.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(o,et){o[et]=this.targetObject[this.propertyName]}_getValue_array(o,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)o[et++]=tt[nt]}_getValue_arrayElement(o,et){o[et]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(o,et){this.resolvedProperty.toArray(o,et)}_setValue_direct(o,et){this.targetObject[this.propertyName]=o[et]}_setValue_direct_setNeedsUpdate(o,et){this.targetObject[this.propertyName]=o[et],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(o,et){this.targetObject[this.propertyName]=o[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(o,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=o[et++]}_setValue_array_setNeedsUpdate(o,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=o[et++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(o,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=o[et++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(o,et){this.resolvedProperty[this.propertyIndex]=o[et]}_setValue_arrayElement_setNeedsUpdate(o,et){this.resolvedProperty[this.propertyIndex]=o[et],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(o,et){this.resolvedProperty[this.propertyIndex]=o[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(o,et){this.resolvedProperty.fromArray(o,et)}_setValue_fromArray_setNeedsUpdate(o,et){this.resolvedProperty.fromArray(o,et),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(o,et){this.resolvedProperty.fromArray(o,et),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(o,et){this.bind(),this.getValue(o,et)}_setValue_unbound(o,et){this.bind(),this.setValue(o,et)}bind(){let o=this.node;const et=this.parsedPath,tt=et.objectName,nt=et.propertyName;let rt=et.propertyIndex;if(o||(o=PropertyBinding.findNode(this.rootNode,et.nodeName),this.node=o),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!o){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(tt){let at=et.objectIndex;switch(tt){case"materials":if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}o=o.material.materials;break;case"bones":if(!o.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}o=o.skeleton.bones;for(let lt=0;lt<o.length;lt++)if(o[lt].name===at){at=lt;break}break;case"map":if("map"in o){o=o.map;break}if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}o=o.material.map;break;default:if(o[tt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}o=o[tt]}if(at!==void 0){if(o[at]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,o);return}o=o[at]}}const it=o[nt];if(it===void 0){const at=et.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+at+"."+nt+" but it wasn't found.",o);return}let ot=this.Versioning.None;this.targetObject=o,o.needsUpdate!==void 0?ot=this.Versioning.NeedsUpdate:o.matrixWorldNeedsUpdate!==void 0&&(ot=this.Versioning.MatrixWorldNeedsUpdate);let st=this.BindingType.Direct;if(rt!==void 0){if(nt==="morphTargetInfluences"){if(!o.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!o.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}o.morphTargetDictionary[rt]!==void 0&&(rt=o.morphTargetDictionary[rt])}st=this.BindingType.ArrayElement,this.resolvedProperty=it,this.propertyIndex=rt}else it.fromArray!==void 0&&it.toArray!==void 0?(st=this.BindingType.HasFromToArray,this.resolvedProperty=it):Array.isArray(it)?(st=this.BindingType.EntireArray,this.resolvedProperty=it):this.propertyName=nt;this.getValue=this.GetterByBindingType[st],this.setValue=this.SetterByBindingTypeAndVersioning[st][ot]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const o={};this._indicesByUUID=o;for(let tt=0,nt=arguments.length;tt!==nt;++tt)o[arguments[tt].uuid]=tt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const et=this;this.stats={objects:{get total(){return et._objects.length},get inUse(){return this.total-et.nCachedObjects_}},get bindingsPerObject(){return et._bindings.length}}}add(){const o=this._objects,et=this._indicesByUUID,tt=this._paths,nt=this._parsedPaths,rt=this._bindings,it=rt.length;let ot,st=o.length,at=this.nCachedObjects_;for(let lt=0,ct=arguments.length;lt!==ct;++lt){const ut=arguments[lt],dt=ut.uuid;let ht=et[dt];if(ht===void 0){ht=st++,et[dt]=ht,o.push(ut);for(let pt=0,gt=it;pt!==gt;++pt)rt[pt].push(new PropertyBinding(ut,tt[pt],nt[pt]))}else if(ht<at){ot=o[ht];const pt=--at,gt=o[pt];et[gt.uuid]=ht,o[ht]=gt,et[dt]=pt,o[pt]=ut;for(let ft=0,yt=it;ft!==yt;++ft){const mt=rt[ft],Ft=mt[pt];let vt=mt[ht];mt[ht]=Ft,vt===void 0&&(vt=new PropertyBinding(ut,tt[ft],nt[ft])),mt[pt]=vt}}else o[ht]!==ot&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=at}remove(){const o=this._objects,et=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_;for(let it=0,ot=arguments.length;it!==ot;++it){const st=arguments[it],at=st.uuid,lt=et[at];if(lt!==void 0&&lt>=rt){const ct=rt++,ut=o[ct];et[ut.uuid]=lt,o[lt]=ut,et[at]=ct,o[ct]=st;for(let dt=0,ht=nt;dt!==ht;++dt){const pt=tt[dt],gt=pt[ct],ft=pt[lt];pt[lt]=gt,pt[ct]=ft}}}this.nCachedObjects_=rt}uncache(){const o=this._objects,et=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_,it=o.length;for(let ot=0,st=arguments.length;ot!==st;++ot){const at=arguments[ot],lt=at.uuid,ct=et[lt];if(ct!==void 0)if(delete et[lt],ct<rt){const ut=--rt,dt=o[ut],ht=--it,pt=o[ht];et[dt.uuid]=ct,o[ct]=dt,et[pt.uuid]=ut,o[ut]=pt,o.pop();for(let gt=0,ft=nt;gt!==ft;++gt){const yt=tt[gt],mt=yt[ut],Ft=yt[ht];yt[ct]=mt,yt[ut]=Ft,yt.pop()}}else{const ut=--it,dt=o[ut];ut>0&&(et[dt.uuid]=ct),o[ct]=dt,o.pop();for(let ht=0,pt=nt;ht!==pt;++ht){const gt=tt[ht];gt[ct]=gt[ut],gt.pop()}}}this.nCachedObjects_=rt}subscribe_(o,et){const tt=this._bindingsIndicesByPath;let nt=tt[o];const rt=this._bindings;if(nt!==void 0)return rt[nt];const it=this._paths,ot=this._parsedPaths,st=this._objects,at=st.length,lt=this.nCachedObjects_,ct=new Array(at);nt=rt.length,tt[o]=nt,it.push(o),ot.push(et),rt.push(ct);for(let ut=lt,dt=st.length;ut!==dt;++ut){const ht=st[ut];ct[ut]=new PropertyBinding(ht,o,et)}return ct}unsubscribe_(o){const et=this._bindingsIndicesByPath,tt=et[o];if(tt!==void 0){const nt=this._paths,rt=this._parsedPaths,it=this._bindings,ot=it.length-1,st=it[ot],at=o[ot];et[at]=tt,it[tt]=st,it.pop(),rt[tt]=rt[ot],rt.pop(),nt[tt]=nt[ot],nt.pop()}}}class AnimationAction{constructor(o,et,tt=null,nt=et.blendMode){this._mixer=o,this._clip=et,this._localRoot=tt,this.blendMode=nt;const rt=et.tracks,it=rt.length,ot=new Array(it),st={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let at=0;at!==it;++at){const lt=rt[at].createInterpolant(null);ot[at]=lt,lt.settings=st}this._interpolantSettings=st,this._interpolants=ot,this._propertyBindings=new Array(it),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(o){return this._startTime=o,this}setLoop(o,et){return this.loop=o,this.repetitions=et,this}setEffectiveWeight(o){return this.weight=o,this._effectiveWeight=this.enabled?o:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(o){return this._scheduleFading(o,0,1)}fadeOut(o){return this._scheduleFading(o,1,0)}crossFadeFrom(o,et,tt){if(o.fadeOut(et),this.fadeIn(et),tt){const nt=this._clip.duration,rt=o._clip.duration,it=rt/nt,ot=nt/rt;o.warp(1,it,et),this.warp(ot,1,et)}return this}crossFadeTo(o,et,tt){return o.crossFadeFrom(this,et,tt)}stopFading(){const o=this._weightInterpolant;return o!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}setEffectiveTimeScale(o){return this.timeScale=o,this._effectiveTimeScale=this.paused?0:o,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(o){return this.timeScale=this._clip.duration/o,this.stopWarping()}syncWith(o){return this.time=o.time,this.timeScale=o.timeScale,this.stopWarping()}halt(o){return this.warp(this._effectiveTimeScale,0,o)}warp(o,et,tt){const nt=this._mixer,rt=nt.time,it=this.timeScale;let ot=this._timeScaleInterpolant;ot===null&&(ot=nt._lendControlInterpolant(),this._timeScaleInterpolant=ot);const st=ot.parameterPositions,at=ot.sampleValues;return st[0]=rt,st[1]=rt+tt,at[0]=o/it,at[1]=et/it,this}stopWarping(){const o=this._timeScaleInterpolant;return o!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(o,et,tt,nt){if(!this.enabled){this._updateWeight(o);return}const rt=this._startTime;if(rt!==null){const st=(o-rt)*tt;st<0||tt===0?et=0:(this._startTime=null,et=tt*st)}et*=this._updateTimeScale(o);const it=this._updateTime(et),ot=this._updateWeight(o);if(ot>0){const st=this._interpolants,at=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let lt=0,ct=st.length;lt!==ct;++lt)st[lt].evaluate(it),at[lt].accumulateAdditive(ot);break;case NormalAnimationBlendMode:default:for(let lt=0,ct=st.length;lt!==ct;++lt)st[lt].evaluate(it),at[lt].accumulate(nt,ot)}}}_updateWeight(o){let et=0;if(this.enabled){et=this.weight;const tt=this._weightInterpolant;if(tt!==null){const nt=tt.evaluate(o)[0];et*=nt,o>tt.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=et,et}_updateTimeScale(o){let et=0;if(!this.paused){et=this.timeScale;const tt=this._timeScaleInterpolant;if(tt!==null){const nt=tt.evaluate(o)[0];et*=nt,o>tt.parameterPositions[1]&&(this.stopWarping(),et===0?this.paused=!0:this.timeScale=et)}}return this._effectiveTimeScale=et,et}_updateTime(o){const et=this._clip.duration,tt=this.loop;let nt=this.time+o,rt=this._loopCount;const it=tt===LoopPingPong;if(o===0)return rt===-1?nt:it&&(rt&1)===1?et-nt:nt;if(tt===LoopOnce){rt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=et)nt=et;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:o<0?-1:1})}}else{if(rt===-1&&(o>=0?(rt=0,this._setEndings(!0,this.repetitions===0,it)):this._setEndings(this.repetitions===0,!0,it)),nt>=et||nt<0){const ot=Math.floor(nt/et);nt-=et*ot,rt+=Math.abs(ot);const st=this.repetitions-rt;if(st<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=o>0?et:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:o>0?1:-1});else{if(st===1){const at=o<0;this._setEndings(at,!at,it)}else this._setEndings(!1,!1,it);this._loopCount=rt,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:ot})}}else this.time=nt;if(it&&(rt&1)===1)return et-nt}return nt}_setEndings(o,et,tt){const nt=this._interpolantSettings;tt?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(o?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,et?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(o,et,tt){const nt=this._mixer,rt=nt.time;let it=this._weightInterpolant;it===null&&(it=nt._lendControlInterpolant(),this._weightInterpolant=it);const ot=it.parameterPositions,st=it.sampleValues;return ot[0]=rt,st[0]=et,ot[1]=rt+o,st[1]=tt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(o){super(),this._root=o,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(o,et){const tt=o._localRoot||this._root,nt=o._clip.tracks,rt=nt.length,it=o._propertyBindings,ot=o._interpolants,st=tt.uuid,at=this._bindingsByRootAndName;let lt=at[st];lt===void 0&&(lt={},at[st]=lt);for(let ct=0;ct!==rt;++ct){const ut=nt[ct],dt=ut.name;let ht=lt[dt];if(ht!==void 0)++ht.referenceCount,it[ct]=ht;else{if(ht=it[ct],ht!==void 0){ht._cacheIndex===null&&(++ht.referenceCount,this._addInactiveBinding(ht,st,dt));continue}const pt=et&&et._propertyBindings[ct].binding.parsedPath;ht=new PropertyMixer(PropertyBinding.create(tt,dt,pt),ut.ValueTypeName,ut.getValueSize()),++ht.referenceCount,this._addInactiveBinding(ht,st,dt),it[ct]=ht}ot[ct].resultBuffer=ht.buffer}}_activateAction(o){if(!this._isActiveAction(o)){if(o._cacheIndex===null){const tt=(o._localRoot||this._root).uuid,nt=o._clip.uuid,rt=this._actionsByClip[nt];this._bindAction(o,rt&&rt.knownActions[0]),this._addInactiveAction(o,nt,tt)}const et=o._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];rt.useCount++===0&&(this._lendBinding(rt),rt.saveOriginalState())}this._lendAction(o)}}_deactivateAction(o){if(this._isActiveAction(o)){const et=o._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.useCount===0&&(rt.restoreOriginalState(),this._takeBackBinding(rt))}this._takeBackAction(o)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const o=this;this.stats={actions:{get total(){return o._actions.length},get inUse(){return o._nActiveActions}},bindings:{get total(){return o._bindings.length},get inUse(){return o._nActiveBindings}},controlInterpolants:{get total(){return o._controlInterpolants.length},get inUse(){return o._nActiveControlInterpolants}}}}_isActiveAction(o){const et=o._cacheIndex;return et!==null&&et<this._nActiveActions}_addInactiveAction(o,et,tt){const nt=this._actions,rt=this._actionsByClip;let it=rt[et];if(it===void 0)it={knownActions:[o],actionByRoot:{}},o._byClipCacheIndex=0,rt[et]=it;else{const ot=it.knownActions;o._byClipCacheIndex=ot.length,ot.push(o)}o._cacheIndex=nt.length,nt.push(o),it.actionByRoot[tt]=o}_removeInactiveAction(o){const et=this._actions,tt=et[et.length-1],nt=o._cacheIndex;tt._cacheIndex=nt,et[nt]=tt,et.pop(),o._cacheIndex=null;const rt=o._clip.uuid,it=this._actionsByClip,ot=it[rt],st=ot.knownActions,at=st[st.length-1],lt=o._byClipCacheIndex;at._byClipCacheIndex=lt,st[lt]=at,st.pop(),o._byClipCacheIndex=null;const ct=ot.actionByRoot,ut=(o._localRoot||this._root).uuid;delete ct[ut],st.length===0&&delete it[rt],this._removeInactiveBindingsForAction(o)}_removeInactiveBindingsForAction(o){const et=o._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.referenceCount===0&&this._removeInactiveBinding(rt)}}_lendAction(o){const et=this._actions,tt=o._cacheIndex,nt=this._nActiveActions++,rt=et[nt];o._cacheIndex=nt,et[nt]=o,rt._cacheIndex=tt,et[tt]=rt}_takeBackAction(o){const et=this._actions,tt=o._cacheIndex,nt=--this._nActiveActions,rt=et[nt];o._cacheIndex=nt,et[nt]=o,rt._cacheIndex=tt,et[tt]=rt}_addInactiveBinding(o,et,tt){const nt=this._bindingsByRootAndName,rt=this._bindings;let it=nt[et];it===void 0&&(it={},nt[et]=it),it[tt]=o,o._cacheIndex=rt.length,rt.push(o)}_removeInactiveBinding(o){const et=this._bindings,tt=o.binding,nt=tt.rootNode.uuid,rt=tt.path,it=this._bindingsByRootAndName,ot=it[nt],st=et[et.length-1],at=o._cacheIndex;st._cacheIndex=at,et[at]=st,et.pop(),delete ot[rt],Object.keys(ot).length===0&&delete it[nt]}_lendBinding(o){const et=this._bindings,tt=o._cacheIndex,nt=this._nActiveBindings++,rt=et[nt];o._cacheIndex=nt,et[nt]=o,rt._cacheIndex=tt,et[tt]=rt}_takeBackBinding(o){const et=this._bindings,tt=o._cacheIndex,nt=--this._nActiveBindings,rt=et[nt];o._cacheIndex=nt,et[nt]=o,rt._cacheIndex=tt,et[tt]=rt}_lendControlInterpolant(){const o=this._controlInterpolants,et=this._nActiveControlInterpolants++;let tt=o[et];return tt===void 0&&(tt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),tt.__cacheIndex=et,o[et]=tt),tt}_takeBackControlInterpolant(o){const et=this._controlInterpolants,tt=o.__cacheIndex,nt=--this._nActiveControlInterpolants,rt=et[nt];o.__cacheIndex=nt,et[nt]=o,rt.__cacheIndex=tt,et[tt]=rt}clipAction(o,et,tt){const nt=et||this._root,rt=nt.uuid;let it=typeof o=="string"?AnimationClip.findByName(nt,o):o;const ot=it!==null?it.uuid:o,st=this._actionsByClip[ot];let at=null;if(tt===void 0&&(it!==null?tt=it.blendMode:tt=NormalAnimationBlendMode),st!==void 0){const ct=st.actionByRoot[rt];if(ct!==void 0&&ct.blendMode===tt)return ct;at=st.knownActions[0],it===null&&(it=at._clip)}if(it===null)return null;const lt=new AnimationAction(this,it,et,tt);return this._bindAction(lt,at),this._addInactiveAction(lt,ot,rt),lt}existingAction(o,et){const tt=et||this._root,nt=tt.uuid,rt=typeof o=="string"?AnimationClip.findByName(tt,o):o,it=rt?rt.uuid:o,ot=this._actionsByClip[it];return ot!==void 0&&ot.actionByRoot[nt]||null}stopAllAction(){const o=this._actions,et=this._nActiveActions;for(let tt=et-1;tt>=0;--tt)o[tt].stop();return this}update(o){o*=this.timeScale;const et=this._actions,tt=this._nActiveActions,nt=this.time+=o,rt=Math.sign(o),it=this._accuIndex^=1;for(let at=0;at!==tt;++at)et[at]._update(nt,o,rt,it);const ot=this._bindings,st=this._nActiveBindings;for(let at=0;at!==st;++at)ot[at].apply(it);return this}setTime(o){this.time=0;for(let et=0;et<this._actions.length;et++)this._actions[et].time=0;return this.update(o)}getRoot(){return this._root}uncacheClip(o){const et=this._actions,tt=o.uuid,nt=this._actionsByClip,rt=nt[tt];if(rt!==void 0){const it=rt.knownActions;for(let ot=0,st=it.length;ot!==st;++ot){const at=it[ot];this._deactivateAction(at);const lt=at._cacheIndex,ct=et[et.length-1];at._cacheIndex=null,at._byClipCacheIndex=null,ct._cacheIndex=lt,et[lt]=ct,et.pop(),this._removeInactiveBindingsForAction(at)}delete nt[tt]}}uncacheRoot(o){const et=o.uuid,tt=this._actionsByClip;for(const it in tt){const ot=tt[it].actionByRoot,st=ot[et];st!==void 0&&(this._deactivateAction(st),this._removeInactiveAction(st))}const nt=this._bindingsByRootAndName,rt=nt[et];if(rt!==void 0)for(const it in rt){const ot=rt[it];ot.restoreOriginalState(),this._removeInactiveBinding(ot)}}uncacheAction(o,et){const tt=this.existingAction(o,et);tt!==null&&(this._deactivateAction(tt),this._removeInactiveAction(tt))}}class Uniform{constructor(o){this.value=o}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(o){return this.uniforms.push(o),this}remove(o){const et=this.uniforms.indexOf(o);return et!==-1&&this.uniforms.splice(et,1),this}setName(o){return this.name=o,this}setUsage(o){return this.usage=o,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(o){this.name=o.name,this.usage=o.usage;const et=o.uniforms;this.uniforms.length=0;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=Array.isArray(et[tt])?et[tt]:[et[tt]];for(let it=0;it<rt.length;it++)this.uniforms.push(rt[it].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(o,et,tt=1){super(o,et),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=tt}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}clone(o){const et=super.clone(o);return et.meshPerAttribute=this.meshPerAttribute,et}toJSON(o){const et=super.toJSON(o);return et.isInstancedInterleavedBuffer=!0,et.meshPerAttribute=this.meshPerAttribute,et}}class GLBufferAttribute{constructor(o,et,tt,nt,rt){this.isGLBufferAttribute=!0,this.name="",this.buffer=o,this.type=et,this.itemSize=tt,this.elementSize=nt,this.count=rt,this.version=0}set needsUpdate(o){o===!0&&this.version++}setBuffer(o){return this.buffer=o,this}setType(o,et){return this.type=o,this.elementSize=et,this}setItemSize(o){return this.itemSize=o,this}setCount(o){return this.count=o,this}}const _matrix=new Matrix4;class Raycaster{constructor(o,et,tt=0,nt=1/0){this.ray=new Ray$1(o,et),this.near=tt,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(o,et){this.ray.set(o,et)}setFromCamera(o,et){et.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(et.matrixWorld),this.ray.direction.set(o.x,o.y,.5).unproject(et).sub(this.ray.origin).normalize(),this.camera=et):et.isOrthographicCamera?(this.ray.origin.set(o.x,o.y,(et.near+et.far)/(et.near-et.far)).unproject(et),this.ray.direction.set(0,0,-1).transformDirection(et.matrixWorld),this.camera=et):console.error("THREE.Raycaster: Unsupported camera type: "+et.type)}setFromXRController(o){return _matrix.identity().extractRotation(o.matrixWorld),this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(o,et=!0,tt=[]){return intersect(o,this,tt,et),tt.sort(ascSort),tt}intersectObjects(o,et=!0,tt=[]){for(let nt=0,rt=o.length;nt<rt;nt++)intersect(o[nt],this,tt,et);return tt.sort(ascSort),tt}}function ascSort(s,o){return s.distance-o.distance}function intersect(s,o,et,tt){let nt=!0;if(s.layers.test(o.layers)&&s.raycast(o,et)===!1&&(nt=!1),nt===!0&&tt===!0){const rt=s.children;for(let it=0,ot=rt.length;it<ot;it++)intersect(rt[it],o,et,!0)}}class Spherical{constructor(o=1,et=0,tt=0){return this.radius=o,this.phi=et,this.theta=tt,this}set(o,et,tt){return this.radius=o,this.phi=et,this.theta=tt,this}copy(o){return this.radius=o.radius,this.phi=o.phi,this.theta=o.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,et,tt){return this.radius=Math.sqrt(o*o+et*et+tt*tt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(o,tt),this.phi=Math.acos(clamp$3(et/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(o=1,et=0,tt=0){return this.radius=o,this.theta=et,this.y=tt,this}set(o,et,tt){return this.radius=o,this.theta=et,this.y=tt,this}copy(o){return this.radius=o.radius,this.theta=o.theta,this.y=o.y,this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,et,tt){return this.radius=Math.sqrt(o*o+tt*tt),this.theta=Math.atan2(o,tt),this.y=et,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(o=new Vector2(1/0,1/0),et=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=o,this.max=et}set(o,et){return this.min.copy(o),this.max.copy(et),this}setFromPoints(o){this.makeEmpty();for(let et=0,tt=o.length;et<tt;et++)this.expandByPoint(o[et]);return this}setFromCenterAndSize(o,et){const tt=_vector$4.copy(et).multiplyScalar(.5);return this.min.copy(o).sub(tt),this.max.copy(o).add(tt),this}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(o){return this.isEmpty()?o.set(0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y}getParameter(o,et){return et.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y)}clampPoint(o,et){return et.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return this.clampPoint(o,_vector$4).distanceTo(o)}intersect(o){return this.min.max(o.min),this.max.min(o.max),this.isEmpty()&&this.makeEmpty(),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(o=new Vector3,et=new Vector3){this.start=o,this.end=et}set(o,et){return this.start.copy(o),this.end.copy(et),this}copy(o){return this.start.copy(o.start),this.end.copy(o.end),this}getCenter(o){return o.addVectors(this.start,this.end).multiplyScalar(.5)}delta(o){return o.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(o,et){return this.delta(et).multiplyScalar(o).add(this.start)}closestPointToPointParameter(o,et){_startP.subVectors(o,this.start),_startEnd.subVectors(this.end,this.start);const tt=_startEnd.dot(_startEnd);let rt=_startEnd.dot(_startP)/tt;return et&&(rt=clamp$3(rt,0,1)),rt}closestPointToPoint(o,et,tt){const nt=this.closestPointToPointParameter(o,et);return this.delta(tt).multiplyScalar(nt).add(this.start)}applyMatrix4(o){return this.start.applyMatrix4(o),this.end.applyMatrix4(o),this}equals(o){return o.start.equals(this.start)&&o.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(o,et){super(),this.light=o,this.matrixAutoUpdate=!1,this.color=et,this.type="SpotLightHelper";const tt=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let it=0,ot=1,st=32;it<st;it++,ot++){const at=it/st*Math.PI*2,lt=ot/st*Math.PI*2;nt.push(Math.cos(at),Math.sin(at),1,Math.cos(lt),Math.sin(lt),1)}tt.setAttribute("position",new Float32BufferAttribute(nt,3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(tt,rt),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const o=this.light.distance?this.light.distance:1e3,et=o*Math.tan(this.light.angle);this.cone.scale.set(et,et,o),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(o){const et=getBoneList(o),tt=new BufferGeometry,nt=[],rt=[],it=new Color$1(0,0,1),ot=new Color$1(0,1,0);for(let at=0;at<et.length;at++){const lt=et[at];lt.parent&&lt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),rt.push(it.r,it.g,it.b),rt.push(ot.r,ot.g,ot.b))}tt.setAttribute("position",new Float32BufferAttribute(nt,3)),tt.setAttribute("color",new Float32BufferAttribute(rt,3));const st=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(tt,st),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=o,this.bones=et,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(o){const et=this.bones,tt=this.geometry,nt=tt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let rt=0,it=0;rt<et.length;rt++){const ot=et[rt];ot.parent&&ot.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,ot.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,ot.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it+1,_vector$2.x,_vector$2.y,_vector$2.z),it+=2)}tt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(o)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(s){const o=[];s.isBone===!0&&o.push(s);for(let et=0;et<s.children.length;et++)o.push.apply(o,getBoneList(s.children[et]));return o}class PointLightHelper extends Mesh{constructor(o,et,tt){const nt=new SphereGeometry(et,4,2),rt=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,rt),this.light=o,this.color=tt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(o,et,tt){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="HemisphereLightHelper";const nt=new OctahedronGeometry(et);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const rt=nt.getAttribute("position"),it=new Float32Array(rt.count*3);nt.setAttribute("color",new BufferAttribute(it,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const o=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const et=o.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let tt=0,nt=et.count;tt<nt;tt++){const rt=tt<nt/2?_color1:_color2;et.setXYZ(tt,rt.r,rt.g,rt.b)}et.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),o.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(o=10,et=10,tt=4473924,nt=8947848){tt=new Color$1(tt),nt=new Color$1(nt);const rt=et/2,it=o/et,ot=o/2,st=[],at=[];for(let ut=0,dt=0,ht=-ot;ut<=et;ut++,ht+=it){st.push(-ot,0,ht,ot,0,ht),st.push(ht,0,-ot,ht,0,ot);const pt=ut===rt?tt:nt;pt.toArray(at,dt),dt+=3,pt.toArray(at,dt),dt+=3,pt.toArray(at,dt),dt+=3,pt.toArray(at,dt),dt+=3}const lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(st,3)),lt.setAttribute("color",new Float32BufferAttribute(at,3));const ct=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(lt,ct),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(o=10,et=16,tt=8,nt=64,rt=4473924,it=8947848){rt=new Color$1(rt),it=new Color$1(it);const ot=[],st=[];if(et>1)for(let ct=0;ct<et;ct++){const ut=ct/et*(Math.PI*2),dt=Math.sin(ut)*o,ht=Math.cos(ut)*o;ot.push(0,0,0),ot.push(dt,0,ht);const pt=ct&1?rt:it;st.push(pt.r,pt.g,pt.b),st.push(pt.r,pt.g,pt.b)}for(let ct=0;ct<tt;ct++){const ut=ct&1?rt:it,dt=o-o/tt*ct;for(let ht=0;ht<nt;ht++){let pt=ht/nt*(Math.PI*2),gt=Math.sin(pt)*dt,ft=Math.cos(pt)*dt;ot.push(gt,0,ft),st.push(ut.r,ut.g,ut.b),pt=(ht+1)/nt*(Math.PI*2),gt=Math.sin(pt)*dt,ft=Math.cos(pt)*dt,ot.push(gt,0,ft),st.push(ut.r,ut.g,ut.b)}}const at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(ot,3)),at.setAttribute("color",new Float32BufferAttribute(st,3));const lt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(at,lt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2$5=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(o,et,tt){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="DirectionalLightHelper",et===void 0&&(et=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-et,et,0,et,et,0,et,-et,0,-et,-et,0,-et,et,0],3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line$1(nt,rt),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line$1(nt,rt),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2$5.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2$5,_v1),this.lightPlane.lookAt(_v2$5),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2$5),this.targetLine.scale.z=_v3.length()}}const _vector$d=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(o){const et=new BufferGeometry,tt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],rt=[],it={};ot("n1","n2"),ot("n2","n4"),ot("n4","n3"),ot("n3","n1"),ot("f1","f2"),ot("f2","f4"),ot("f4","f3"),ot("f3","f1"),ot("n1","f1"),ot("n2","f2"),ot("n3","f3"),ot("n4","f4"),ot("p","n1"),ot("p","n2"),ot("p","n3"),ot("p","n4"),ot("u1","u2"),ot("u2","u3"),ot("u3","u1"),ot("c","t"),ot("p","c"),ot("cn1","cn2"),ot("cn3","cn4"),ot("cf1","cf2"),ot("cf3","cf4");function ot(ht,pt){st(ht),st(pt)}function st(ht){nt.push(0,0,0),rt.push(0,0,0),it[ht]===void 0&&(it[ht]=[]),it[ht].push(nt.length/3-1)}et.setAttribute("position",new Float32BufferAttribute(nt,3)),et.setAttribute("color",new Float32BufferAttribute(rt,3)),super(et,tt),this.type="CameraHelper",this.camera=o,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=it,this.update();const at=new Color$1(16755200),lt=new Color$1(16711680),ct=new Color$1(43775),ut=new Color$1(16777215),dt=new Color$1(3355443);this.setColors(at,lt,ct,ut,dt)}setColors(o,et,tt,nt,rt){const ot=this.geometry.getAttribute("color");ot.setXYZ(0,o.r,o.g,o.b),ot.setXYZ(1,o.r,o.g,o.b),ot.setXYZ(2,o.r,o.g,o.b),ot.setXYZ(3,o.r,o.g,o.b),ot.setXYZ(4,o.r,o.g,o.b),ot.setXYZ(5,o.r,o.g,o.b),ot.setXYZ(6,o.r,o.g,o.b),ot.setXYZ(7,o.r,o.g,o.b),ot.setXYZ(8,o.r,o.g,o.b),ot.setXYZ(9,o.r,o.g,o.b),ot.setXYZ(10,o.r,o.g,o.b),ot.setXYZ(11,o.r,o.g,o.b),ot.setXYZ(12,o.r,o.g,o.b),ot.setXYZ(13,o.r,o.g,o.b),ot.setXYZ(14,o.r,o.g,o.b),ot.setXYZ(15,o.r,o.g,o.b),ot.setXYZ(16,o.r,o.g,o.b),ot.setXYZ(17,o.r,o.g,o.b),ot.setXYZ(18,o.r,o.g,o.b),ot.setXYZ(19,o.r,o.g,o.b),ot.setXYZ(20,o.r,o.g,o.b),ot.setXYZ(21,o.r,o.g,o.b),ot.setXYZ(22,o.r,o.g,o.b),ot.setXYZ(23,o.r,o.g,o.b),ot.setXYZ(24,et.r,et.g,et.b),ot.setXYZ(25,et.r,et.g,et.b),ot.setXYZ(26,et.r,et.g,et.b),ot.setXYZ(27,et.r,et.g,et.b),ot.setXYZ(28,et.r,et.g,et.b),ot.setXYZ(29,et.r,et.g,et.b),ot.setXYZ(30,et.r,et.g,et.b),ot.setXYZ(31,et.r,et.g,et.b),ot.setXYZ(32,tt.r,tt.g,tt.b),ot.setXYZ(33,tt.r,tt.g,tt.b),ot.setXYZ(34,tt.r,tt.g,tt.b),ot.setXYZ(35,tt.r,tt.g,tt.b),ot.setXYZ(36,tt.r,tt.g,tt.b),ot.setXYZ(37,tt.r,tt.g,tt.b),ot.setXYZ(38,nt.r,nt.g,nt.b),ot.setXYZ(39,nt.r,nt.g,nt.b),ot.setXYZ(40,rt.r,rt.g,rt.b),ot.setXYZ(41,rt.r,rt.g,rt.b),ot.setXYZ(42,rt.r,rt.g,rt.b),ot.setXYZ(43,rt.r,rt.g,rt.b),ot.setXYZ(44,rt.r,rt.g,rt.b),ot.setXYZ(45,rt.r,rt.g,rt.b),ot.setXYZ(46,rt.r,rt.g,rt.b),ot.setXYZ(47,rt.r,rt.g,rt.b),ot.setXYZ(48,rt.r,rt.g,rt.b),ot.setXYZ(49,rt.r,rt.g,rt.b),ot.needsUpdate=!0}update(){const o=this.geometry,et=this.pointMap,tt=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",et,o,_camera,0,0,-1),setPoint("t",et,o,_camera,0,0,1),setPoint("n1",et,o,_camera,-tt,-nt,-1),setPoint("n2",et,o,_camera,tt,-nt,-1),setPoint("n3",et,o,_camera,-tt,nt,-1),setPoint("n4",et,o,_camera,tt,nt,-1),setPoint("f1",et,o,_camera,-tt,-nt,1),setPoint("f2",et,o,_camera,tt,-nt,1),setPoint("f3",et,o,_camera,-tt,nt,1),setPoint("f4",et,o,_camera,tt,nt,1),setPoint("u1",et,o,_camera,tt*.7,nt*1.1,-1),setPoint("u2",et,o,_camera,-tt*.7,nt*1.1,-1),setPoint("u3",et,o,_camera,0,nt*2,-1),setPoint("cf1",et,o,_camera,-tt,0,1),setPoint("cf2",et,o,_camera,tt,0,1),setPoint("cf3",et,o,_camera,0,-nt,1),setPoint("cf4",et,o,_camera,0,nt,1),setPoint("cn1",et,o,_camera,-tt,0,-1),setPoint("cn2",et,o,_camera,tt,0,-1),setPoint("cn3",et,o,_camera,0,-nt,-1),setPoint("cn4",et,o,_camera,0,nt,-1),o.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(s,o,et,tt,nt,rt,it){_vector$d.set(nt,rt,it).unproject(tt);const ot=o[s];if(ot!==void 0){const st=et.getAttribute("position");for(let at=0,lt=ot.length;at<lt;at++)st.setXYZ(ot[at],_vector$d.x,_vector$d.y,_vector$d.z)}}const _box$5=new Box3;class BoxHelper extends LineSegments{constructor(o,et=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:et,toneMapped:!1})),this.object=o,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(o){if(o!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box$5.setFromObject(this.object),_box$5.isEmpty())return;const et=_box$5.min,tt=_box$5.max,nt=this.geometry.attributes.position,rt=nt.array;rt[0]=tt.x,rt[1]=tt.y,rt[2]=tt.z,rt[3]=et.x,rt[4]=tt.y,rt[5]=tt.z,rt[6]=et.x,rt[7]=et.y,rt[8]=tt.z,rt[9]=tt.x,rt[10]=et.y,rt[11]=tt.z,rt[12]=tt.x,rt[13]=tt.y,rt[14]=et.z,rt[15]=et.x,rt[16]=tt.y,rt[17]=et.z,rt[18]=et.x,rt[19]=et.y,rt[20]=et.z,rt[21]=tt.x,rt[22]=et.y,rt[23]=et.z,nt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(o){return this.object=o,this.update(),this}copy(o,et){return super.copy(o,et),this.object=o.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(o,et=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new Float32BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:et,toneMapped:!1})),this.box=o,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(o){const et=this.box;et.isEmpty()||(et.getCenter(this.position),et.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(o))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line$1{constructor(o,et=1,tt=16776960){const nt=tt,rt=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(rt,3)),it.computeBoundingSphere(),super(it,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=o,this.size=et;const ot=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],st=new BufferGeometry;st.setAttribute("position",new Float32BufferAttribute(ot,3)),st.computeBoundingSphere(),this.add(new Mesh(st,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(o){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(o)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(o=new Vector3(0,0,1),et=new Vector3(0,0,0),tt=1,nt=16776960,rt=tt*.2,it=rt*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(et),this.line=new Line$1(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(o),this.setLength(tt,rt,it)}setDirection(o){if(o.y>.99999)this.quaternion.set(0,0,0,1);else if(o.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(o.z,0,-o.x).normalize();const et=Math.acos(o.y);this.quaternion.setFromAxisAngle(_axis,et)}}setLength(o,et=o*.2,tt=et*.2){this.line.scale.set(1,Math.max(1e-4,o-et),1),this.line.updateMatrix(),this.cone.scale.set(tt,et,tt),this.cone.position.y=o,this.cone.updateMatrix()}setColor(o){this.line.material.color.set(o),this.cone.material.color.set(o)}copy(o){return super.copy(o,!1),this.line.copy(o.line),this.cone.copy(o.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(o=1){const et=[0,0,0,o,0,0,0,0,0,0,o,0,0,0,0,0,0,o],tt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(et,3)),nt.setAttribute("color",new Float32BufferAttribute(tt,3));const rt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,rt),this.type="AxesHelper"}setColors(o,et,tt){const nt=new Color$1,rt=this.geometry.attributes.color.array;return nt.set(o),nt.toArray(rt,0),nt.toArray(rt,3),nt.set(et),nt.toArray(rt,6),nt.toArray(rt,9),nt.set(tt),nt.toArray(rt,12),nt.toArray(rt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(o,et){return this.currentPath=new Path$1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(o,et),this}lineTo(o,et){return this.currentPath.lineTo(o,et),this}quadraticCurveTo(o,et,tt,nt){return this.currentPath.quadraticCurveTo(o,et,tt,nt),this}bezierCurveTo(o,et,tt,nt,rt,it){return this.currentPath.bezierCurveTo(o,et,tt,nt,rt,it),this}splineThru(o){return this.currentPath.splineThru(o),this}toShapes(o){function et(ft){const yt=[];for(let mt=0,Ft=ft.length;mt<Ft;mt++){const vt=ft[mt],Et=new Shape;Et.curves=vt.curves,yt.push(Et)}return yt}function tt(ft,yt){const mt=yt.length;let Ft=!1;for(let vt=mt-1,Et=0;Et<mt;vt=Et++){let wt=yt[vt],It=yt[Et],St=It.x-wt.x,Rt=It.y-wt.y;if(Math.abs(Rt)>Number.EPSILON){if(Rt<0&&(wt=yt[Et],St=-St,It=yt[vt],Rt=-Rt),ft.y<wt.y||ft.y>It.y)continue;if(ft.y===wt.y){if(ft.x===wt.x)return!0}else{const Tt=Rt*(ft.x-wt.x)-St*(ft.y-wt.y);if(Tt===0)return!0;if(Tt<0)continue;Ft=!Ft}}else{if(ft.y!==wt.y)continue;if(It.x<=ft.x&&ft.x<=wt.x||wt.x<=ft.x&&ft.x<=It.x)return!0}}return Ft}const nt=ShapeUtils.isClockWise,rt=this.subPaths;if(rt.length===0)return[];let it,ot,st;const at=[];if(rt.length===1)return ot=rt[0],st=new Shape,st.curves=ot.curves,at.push(st),at;let lt=!nt(rt[0].getPoints());lt=o?!lt:lt;const ct=[],ut=[];let dt=[],ht=0,pt;ut[ht]=void 0,dt[ht]=[];for(let ft=0,yt=rt.length;ft<yt;ft++)ot=rt[ft],pt=ot.getPoints(),it=nt(pt),it=o?!it:it,it?(!lt&&ut[ht]&&ht++,ut[ht]={s:new Shape,p:pt},ut[ht].s.curves=ot.curves,lt&&ht++,dt[ht]=[]):dt[ht].push({h:ot,p:pt[0]});if(!ut[0])return et(rt);if(ut.length>1){let ft=!1,yt=0;for(let mt=0,Ft=ut.length;mt<Ft;mt++)ct[mt]=[];for(let mt=0,Ft=ut.length;mt<Ft;mt++){const vt=dt[mt];for(let Et=0;Et<vt.length;Et++){const wt=vt[Et];let It=!0;for(let St=0;St<ut.length;St++)tt(wt.p,ut[St].p)&&(mt!==St&&yt++,It?(It=!1,ct[St].push(wt)):ft=!0);It&&ct[mt].push(wt)}}yt>0&&ft===!1&&(dt=ct)}let gt;for(let ft=0,yt=ut.length;ft<yt;ft++){st=ut[ft].s,at.push(st),gt=dt[ft];for(let mt=0,Ft=gt.length;mt<Ft;mt++)st.holes.push(gt[mt].h)}return at}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(o=1,et=1,tt=1,nt={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(o,et,{...nt,count:tt}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE$1=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line:Line$1,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace:LinearSRGBColorSpace$1,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path:Path$1,PerspectiveCamera:PerspectiveCamera$1,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray:Ray$1,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace:SRGBColorSpace$1,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere:Sphere$1,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants$3={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants$3.exports=reactReconcilerConstants_production_min;var constantsExports=constants$3.exports;function createStore$1(s){let o;const et=new Set,tt=(at,lt)=>{const ct=typeof at=="function"?at(o):at;if(ct!==o){const ut=o;o=lt?ct:Object.assign({},o,ct),et.forEach(dt=>dt(o,ut))}},nt=()=>o,rt=(at,lt=nt,ct=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ut=lt(o);function dt(){const ht=lt(o);if(!ct(ut,ht)){const pt=ut;at(ut=ht,pt)}}return et.add(dt),()=>et.delete(dt)},st={setState:tt,getState:nt,subscribe:(at,lt,ct)=>lt||ct?rt(at,lt,ct):(et.add(at),()=>et.delete(at)),destroy:()=>et.clear()};return o=s(tt,nt,st),st}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(s){const o=typeof s=="function"?createStore$1(s):s,et=(tt=o.getState,nt=Object.is)=>{const[,rt]=reactExports.useReducer(gt=>gt+1,0),it=o.getState(),ot=reactExports.useRef(it),st=reactExports.useRef(tt),at=reactExports.useRef(nt),lt=reactExports.useRef(!1),ct=reactExports.useRef();ct.current===void 0&&(ct.current=tt(it));let ut,dt=!1;(ot.current!==it||st.current!==tt||at.current!==nt||lt.current)&&(ut=tt(it),dt=!nt(ct.current,ut)),useIsomorphicLayoutEffect$2(()=>{dt&&(ct.current=ut),ot.current=it,st.current=tt,at.current=nt,lt.current=!1});const ht=reactExports.useRef(it);useIsomorphicLayoutEffect$2(()=>{const gt=()=>{try{const yt=o.getState(),mt=st.current(yt);at.current(ct.current,mt)||(ot.current=yt,ct.current=mt,rt())}catch{lt.current=!0,rt()}},ft=o.subscribe(gt);return o.getState()!==ht.current&&gt(),ft},[]);const pt=dt?ut:ct.current;return reactExports.useDebugValue(pt),pt};return Object.assign(et,o),et[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const tt=[et,o];return{next(){const nt=tt.length<=0;return{value:tt.shift(),done:nt}}}},et}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function o(At,Ot){var Vt=At.length;At.push(Ot);e:for(;0<Vt;){var Wt=Vt-1>>>1,Jt=At[Wt];if(0<nt(Jt,Ot))At[Wt]=Ot,At[Vt]=Jt,Vt=Wt;else break e}}function et(At){return At.length===0?null:At[0]}function tt(At){if(At.length===0)return null;var Ot=At[0],Vt=At.pop();if(Vt!==Ot){At[0]=Vt;e:for(var Wt=0,Jt=At.length,qt=Jt>>>1;Wt<qt;){var Ht=2*(Wt+1)-1,Xt=At[Ht],Lt=Ht+1,Pt=At[Lt];if(0>nt(Xt,Vt))Lt<Jt&&0>nt(Pt,Xt)?(At[Wt]=Pt,At[Lt]=Vt,Wt=Lt):(At[Wt]=Xt,At[Ht]=Vt,Wt=Ht);else if(Lt<Jt&&0>nt(Pt,Vt))At[Wt]=Pt,At[Lt]=Vt,Wt=Lt;else break e}}return Ot}function nt(At,Ot){var Vt=At.sortIndex-Ot.sortIndex;return Vt!==0?Vt:At.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;s.unstable_now=function(){return rt.now()}}else{var it=Date,ot=it.now();s.unstable_now=function(){return it.now()-ot}}var st=[],at=[],lt=1,ct=null,ut=3,dt=!1,ht=!1,pt=!1,gt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(At){for(var Ot=et(at);Ot!==null;){if(Ot.callback===null)tt(at);else if(Ot.startTime<=At)tt(at),Ot.sortIndex=Ot.expirationTime,o(st,Ot);else break;Ot=et(at)}}function Ft(At){if(pt=!1,mt(At),!ht)if(et(st)!==null)ht=!0,Mt(vt);else{var Ot=et(at);Ot!==null&&Nt(Ft,Ot.startTime-At)}}function vt(At,Ot){ht=!1,pt&&(pt=!1,ft(It),It=-1),dt=!0;var Vt=ut;try{for(mt(Ot),ct=et(st);ct!==null&&(!(ct.expirationTime>Ot)||At&&!Tt());){var Wt=ct.callback;if(typeof Wt=="function"){ct.callback=null,ut=ct.priorityLevel;var Jt=Wt(ct.expirationTime<=Ot);Ot=s.unstable_now(),typeof Jt=="function"?ct.callback=Jt:ct===et(st)&&tt(st),mt(Ot)}else tt(st);ct=et(st)}if(ct!==null)var qt=!0;else{var Ht=et(at);Ht!==null&&Nt(Ft,Ht.startTime-Ot),qt=!1}return qt}finally{ct=null,ut=Vt,dt=!1}}var Et=!1,wt=null,It=-1,St=5,Rt=-1;function Tt(){return!(s.unstable_now()-Rt<St)}function bt(){if(wt!==null){var At=s.unstable_now();Rt=At;var Ot=!0;try{Ot=wt(!0,At)}finally{Ot?xt():(Et=!1,wt=null)}}else Et=!1}var xt;if(typeof yt=="function")xt=function(){yt(bt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Ct=Bt.port2;Bt.port1.onmessage=bt,xt=function(){Ct.postMessage(null)}}else xt=function(){gt(bt,0)};function Mt(At){wt=At,Et||(Et=!0,xt())}function Nt(At,Ot){It=gt(function(){At(s.unstable_now())},Ot)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(At){At.callback=null},s.unstable_continueExecution=function(){ht||dt||(ht=!0,Mt(vt))},s.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<At?Math.floor(1e3/At):5},s.unstable_getCurrentPriorityLevel=function(){return ut},s.unstable_getFirstCallbackNode=function(){return et(st)},s.unstable_next=function(At){switch(ut){case 1:case 2:case 3:var Ot=3;break;default:Ot=ut}var Vt=ut;ut=Ot;try{return At()}finally{ut=Vt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(At,Ot){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var Vt=ut;ut=At;try{return Ot()}finally{ut=Vt}},s.unstable_scheduleCallback=function(At,Ot,Vt){var Wt=s.unstable_now();switch(typeof Vt=="object"&&Vt!==null?(Vt=Vt.delay,Vt=typeof Vt=="number"&&0<Vt?Wt+Vt:Wt):Vt=Wt,At){case 1:var Jt=-1;break;case 2:Jt=250;break;case 5:Jt=1073741823;break;case 4:Jt=1e4;break;default:Jt=5e3}return Jt=Vt+Jt,At={id:lt++,callback:Ot,priorityLevel:At,startTime:Vt,expirationTime:Jt,sortIndex:-1},Vt>Wt?(At.sortIndex=Vt,o(at,At),et(st)===null&&At===et(at)&&(pt?(ft(It),It=-1):pt=!0,Nt(Ft,Vt-Wt))):(At.sortIndex=Jt,o(st,At),ht||dt||(ht=!0,Mt(vt))),At},s.unstable_shouldYield=Tt,s.unstable_wrapCallback=function(At){var Ot=ut;return function(){var Vt=ut;ut=Ot;try{return At.apply(this,arguments)}finally{ut=Vt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(o){var et={},tt=reactExports,nt=schedulerExports,rt=Object.assign;function it(Ut){for(var _t="https://reactjs.org/docs/error-decoder.html?invariant="+Ut,Dt=1;Dt<arguments.length;Dt++)_t+="&args[]="+encodeURIComponent(arguments[Dt]);return"Minified React error #"+Ut+"; visit "+_t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ot=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,st=Symbol.for("react.element"),at=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),ct=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),ht=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),Ft=Symbol.for("react.offscreen"),vt=Symbol.iterator;function Et(Ut){return Ut===null||typeof Ut!="object"?null:(Ut=vt&&Ut[vt]||Ut["@@iterator"],typeof Ut=="function"?Ut:null)}function wt(Ut){if(Ut==null)return null;if(typeof Ut=="function")return Ut.displayName||Ut.name||null;if(typeof Ut=="string")return Ut;switch(Ut){case lt:return"Fragment";case at:return"Portal";case ut:return"Profiler";case ct:return"StrictMode";case gt:return"Suspense";case ft:return"SuspenseList"}if(typeof Ut=="object")switch(Ut.$$typeof){case ht:return(Ut.displayName||"Context")+".Consumer";case dt:return(Ut._context.displayName||"Context")+".Provider";case pt:var _t=Ut.render;return Ut=Ut.displayName,Ut||(Ut=_t.displayName||_t.name||"",Ut=Ut!==""?"ForwardRef("+Ut+")":"ForwardRef"),Ut;case yt:return _t=Ut.displayName||null,_t!==null?_t:wt(Ut.type)||"Memo";case mt:_t=Ut._payload,Ut=Ut._init;try{return wt(Ut(_t))}catch{}}return null}function It(Ut){var _t=Ut.type;switch(Ut.tag){case 24:return"Cache";case 9:return(_t.displayName||"Context")+".Consumer";case 10:return(_t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Ut=_t.render,Ut=Ut.displayName||Ut.name||"",_t.displayName||(Ut!==""?"ForwardRef("+Ut+")":"ForwardRef");case 7:return"Fragment";case 5:return _t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wt(_t);case 8:return _t===ct?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _t=="function")return _t.displayName||_t.name||null;if(typeof _t=="string")return _t}return null}function St(Ut){var _t=Ut,Dt=Ut;if(Ut.alternate)for(;_t.return;)_t=_t.return;else{Ut=_t;do _t=Ut,_t.flags&4098&&(Dt=_t.return),Ut=_t.return;while(Ut)}return _t.tag===3?Dt:null}function Rt(Ut){if(St(Ut)!==Ut)throw Error(it(188))}function Tt(Ut){var _t=Ut.alternate;if(!_t){if(_t=St(Ut),_t===null)throw Error(it(188));return _t!==Ut?null:Ut}for(var Dt=Ut,jt=_t;;){var Kt=Dt.return;if(Kt===null)break;var sn=Kt.alternate;if(sn===null){if(jt=Kt.return,jt!==null){Dt=jt;continue}break}if(Kt.child===sn.child){for(sn=Kt.child;sn;){if(sn===Dt)return Rt(Kt),Ut;if(sn===jt)return Rt(Kt),_t;sn=sn.sibling}throw Error(it(188))}if(Dt.return!==jt.return)Dt=Kt,jt=sn;else{for(var Tn=!1,kn=Kt.child;kn;){if(kn===Dt){Tn=!0,Dt=Kt,jt=sn;break}if(kn===jt){Tn=!0,jt=Kt,Dt=sn;break}kn=kn.sibling}if(!Tn){for(kn=sn.child;kn;){if(kn===Dt){Tn=!0,Dt=sn,jt=Kt;break}if(kn===jt){Tn=!0,jt=sn,Dt=Kt;break}kn=kn.sibling}if(!Tn)throw Error(it(189))}}if(Dt.alternate!==jt)throw Error(it(190))}if(Dt.tag!==3)throw Error(it(188));return Dt.stateNode.current===Dt?Ut:_t}function bt(Ut){return Ut=Tt(Ut),Ut!==null?xt(Ut):null}function xt(Ut){if(Ut.tag===5||Ut.tag===6)return Ut;for(Ut=Ut.child;Ut!==null;){var _t=xt(Ut);if(_t!==null)return _t;Ut=Ut.sibling}return null}function Bt(Ut){if(Ut.tag===5||Ut.tag===6)return Ut;for(Ut=Ut.child;Ut!==null;){if(Ut.tag!==4){var _t=Bt(Ut);if(_t!==null)return _t}Ut=Ut.sibling}return null}var Ct=Array.isArray,Mt=o.getPublicInstance,Nt=o.getRootHostContext,At=o.getChildHostContext,Ot=o.prepareForCommit,Vt=o.resetAfterCommit,Wt=o.createInstance,Jt=o.appendInitialChild,qt=o.finalizeInitialChildren,Ht=o.prepareUpdate,Xt=o.shouldSetTextContent,Lt=o.createTextInstance,Pt=o.scheduleTimeout,kt=o.cancelTimeout,zt=o.noTimeout,tn=o.isPrimaryRenderer,Gt=o.supportsMutation,en=o.supportsPersistence,cn=o.supportsHydration,Zt=o.getInstanceFromNode,dn=o.preparePortalMount,Fn=o.getCurrentEventPriority,pn=o.detachDeletedInstance,un=o.supportsMicrotasks,bn=o.scheduleMicrotask,an=o.supportsTestSelectors,rn=o.findFiberRoot,mn=o.getBoundingRect,xn=o.getTextContent,wn=o.isHiddenSubtree,Mn=o.matchAccessibilityRole,or=o.setFocusIfFocusable,ir=o.setupIntersectionObserver,nr=o.appendChild,Ar=o.appendChildToContainer,ur=o.commitTextUpdate,Fr=o.commitMount,$r=o.commitUpdate,Sr=o.insertBefore,Ur=o.insertInContainerBefore,Xr=o.removeChild,Wr=o.removeChildFromContainer,Jr=o.resetTextContent,An=o.hideInstance,Br=o.hideTextInstance,er=o.unhideInstance,ar=o.unhideTextInstance,fr=o.clearContainer,Or=o.cloneInstance,no=o.createContainerChildSet,co=o.appendChildToContainerChildSet,Eo=o.finalizeContainerChildren,Ir=o.replaceContainerChildren,So=o.cloneHiddenInstance,Kn=o.cloneHiddenTextInstance,nn=o.canHydrateInstance,on=o.canHydrateTextInstance,gn=o.canHydrateSuspenseInstance,Qn=o.isSuspenseInstancePending,Nn=o.isSuspenseInstanceFallback,In=o.registerSuspenseInstanceRetry,$n=o.getNextHydratableSibling,Xn=o.getFirstHydratableChild,On=o.getFirstHydratableChildWithinContainer,Dn=o.getFirstHydratableChildWithinSuspenseInstance,_r=o.hydrateInstance,Gr=o.hydrateTextInstance,Un=o.hydrateSuspenseInstance,Vn=o.getNextHydratableInstanceAfterSuspenseInstance,jn=o.commitHydratedContainer,Zn=o.commitHydratedSuspenseInstance,Ln=o.clearSuspenseBoundary,cr=o.clearSuspenseBoundaryFromContainer,dr=o.shouldDeleteUnhydratedTailInstances,pr=o.didNotMatchHydratedContainerTextInstance,mr=o.didNotMatchHydratedTextInstance,Cr;function Dr(Ut){if(Cr===void 0)try{throw Error()}catch(Dt){var _t=Dt.stack.trim().match(/\n( *(at )?)/);Cr=_t&&_t[1]||""}return`
`+Cr+Ut}var Qr=!1;function Yr(Ut,_t){if(!Ut||Qr)return"";Qr=!0;var Dt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_t)if(_t=function(){throw Error()},Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(gr){var jt=gr}Reflect.construct(Ut,[],_t)}else{try{_t.call()}catch(gr){jt=gr}Ut.call(_t.prototype)}else{try{throw Error()}catch(gr){jt=gr}Ut()}}catch(gr){if(gr&&jt&&typeof gr.stack=="string"){for(var Kt=gr.stack.split(`
`),sn=jt.stack.split(`
`),Tn=Kt.length-1,kn=sn.length-1;1<=Tn&&0<=kn&&Kt[Tn]!==sn[kn];)kn--;for(;1<=Tn&&0<=kn;Tn--,kn--)if(Kt[Tn]!==sn[kn]){if(Tn!==1||kn!==1)do if(Tn--,kn--,0>kn||Kt[Tn]!==sn[kn]){var rr=`
`+Kt[Tn].replace(" at new "," at ");return Ut.displayName&&rr.includes("<anonymous>")&&(rr=rr.replace("<anonymous>",Ut.displayName)),rr}while(1<=Tn&&0<=kn);break}}}finally{Qr=!1,Error.prepareStackTrace=Dt}return(Ut=Ut?Ut.displayName||Ut.name:"")?Dr(Ut):""}var mo=Object.prototype.hasOwnProperty,yo=[],bo=-1;function Hr(Ut){return{current:Ut}}function vr(Ut){0>bo||(Ut.current=yo[bo],yo[bo]=null,bo--)}function Kr(Ut,_t){bo++,yo[bo]=Ut.current,Ut.current=_t}var ao={},Fo=Hr(ao),To=Hr(!1),xo=ao;function Wo(Ut,_t){var Dt=Ut.type.contextTypes;if(!Dt)return ao;var jt=Ut.stateNode;if(jt&&jt.__reactInternalMemoizedUnmaskedChildContext===_t)return jt.__reactInternalMemoizedMaskedChildContext;var Kt={},sn;for(sn in Dt)Kt[sn]=_t[sn];return jt&&(Ut=Ut.stateNode,Ut.__reactInternalMemoizedUnmaskedChildContext=_t,Ut.__reactInternalMemoizedMaskedChildContext=Kt),Kt}function io(Ut){return Ut=Ut.childContextTypes,Ut!=null}function Oo(){vr(To),vr(Fo)}function ls(Ut,_t,Dt){if(Fo.current!==ao)throw Error(it(168));Kr(Fo,_t),Kr(To,Dt)}function ro(Ut,_t,Dt){var jt=Ut.stateNode;if(_t=_t.childContextTypes,typeof jt.getChildContext!="function")return Dt;jt=jt.getChildContext();for(var Kt in jt)if(!(Kt in _t))throw Error(it(108,It(Ut)||"Unknown",Kt));return rt({},Dt,jt)}function No(Ut){return Ut=(Ut=Ut.stateNode)&&Ut.__reactInternalMemoizedMergedChildContext||ao,xo=Fo.current,Kr(Fo,Ut),Kr(To,To.current),!0}function Yo(Ut,_t,Dt){var jt=Ut.stateNode;if(!jt)throw Error(it(169));Dt?(Ut=ro(Ut,_t,xo),jt.__reactInternalMemoizedMergedChildContext=Ut,vr(To),vr(Fo),Kr(Fo,Ut)):vr(To),Kr(To,Dt)}var Co=Math.clz32?Math.clz32:Cs,xs=Math.log,cs=Math.LN2;function Cs(Ut){return Ut>>>=0,Ut===0?32:31-(xs(Ut)/cs|0)|0}var Ko=64,Fs=4194304;function Es(Ut){switch(Ut&-Ut){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ut&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Ut&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Ut}}function zr(Ut,_t){var Dt=Ut.pendingLanes;if(Dt===0)return 0;var jt=0,Kt=Ut.suspendedLanes,sn=Ut.pingedLanes,Tn=Dt&268435455;if(Tn!==0){var kn=Tn&~Kt;kn!==0?jt=Es(kn):(sn&=Tn,sn!==0&&(jt=Es(sn)))}else Tn=Dt&~Kt,Tn!==0?jt=Es(Tn):sn!==0&&(jt=Es(sn));if(jt===0)return 0;if(_t!==0&&_t!==jt&&!(_t&Kt)&&(Kt=jt&-jt,sn=_t&-_t,Kt>=sn||Kt===16&&(sn&4194240)!==0))return _t;if(jt&4&&(jt|=Dt&16),_t=Ut.entangledLanes,_t!==0)for(Ut=Ut.entanglements,_t&=jt;0<_t;)Dt=31-Co(_t),Kt=1<<Dt,jt|=Ut[Dt],_t&=~Kt;return jt}function Ms(Ut,_t){switch(Ut){case 1:case 2:case 4:return _t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(Ut,_t){for(var Dt=Ut.suspendedLanes,jt=Ut.pingedLanes,Kt=Ut.expirationTimes,sn=Ut.pendingLanes;0<sn;){var Tn=31-Co(sn),kn=1<<Tn,rr=Kt[Tn];rr===-1?(!(kn&Dt)||kn&jt)&&(Kt[Tn]=Ms(kn,_t)):rr<=_t&&(Ut.expiredLanes|=kn),sn&=~kn}}function hn(Ut){return Ut=Ut.pendingLanes&-1073741825,Ut!==0?Ut:Ut&1073741824?1073741824:0}function vn(Ut){for(var _t=[],Dt=0;31>Dt;Dt++)_t.push(Ut);return _t}function yn(Ut,_t,Dt){Ut.pendingLanes|=_t,_t!==536870912&&(Ut.suspendedLanes=0,Ut.pingedLanes=0),Ut=Ut.eventTimes,_t=31-Co(_t),Ut[_t]=Dt}function _n(Ut,_t){var Dt=Ut.pendingLanes&~_t;Ut.pendingLanes=_t,Ut.suspendedLanes=0,Ut.pingedLanes=0,Ut.expiredLanes&=_t,Ut.mutableReadLanes&=_t,Ut.entangledLanes&=_t,_t=Ut.entanglements;var jt=Ut.eventTimes;for(Ut=Ut.expirationTimes;0<Dt;){var Kt=31-Co(Dt),sn=1<<Kt;_t[Kt]=0,jt[Kt]=-1,Ut[Kt]=-1,Dt&=~sn}}function Gn(Ut,_t){var Dt=Ut.entangledLanes|=_t;for(Ut=Ut.entanglements;Dt;){var jt=31-Co(Dt),Kt=1<<jt;Kt&_t|Ut[jt]&_t&&(Ut[jt]|=_t),Dt&=~Kt}}var zn=0;function Er(Ut){return Ut&=-Ut,1<Ut?4<Ut?Ut&268435455?16:536870912:4:1}var yr=nt.unstable_scheduleCallback,Rr=nt.unstable_cancelCallback,kr=nt.unstable_shouldYield,hr=nt.unstable_requestPaint,br=nt.unstable_now,Tr=nt.unstable_ImmediatePriority,Lr=nt.unstable_UserBlockingPriority,Nr=nt.unstable_NormalPriority,uo=nt.unstable_IdlePriority,po=null,to=null;function fo(Ut){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(po,Ut,void 0,(Ut.current.flags&128)===128)}catch{}}function $t(Ut,_t){return Ut===_t&&(Ut!==0||1/Ut===1/_t)||Ut!==Ut&&_t!==_t}var ln=typeof Object.is=="function"?Object.is:$t,En=null,Cn=!1,Jn=!1;function tr(Ut){En===null?En=[Ut]:En.push(Ut)}function Pn(Ut){Cn=!0,tr(Ut)}function Yn(){if(!Jn&&En!==null){Jn=!0;var Ut=0,_t=zn;try{var Dt=En;for(zn=1;Ut<Dt.length;Ut++){var jt=Dt[Ut];do jt=jt(!0);while(jt!==null)}En=null,Cn=!1}catch(Kt){throw En!==null&&(En=En.slice(Ut+1)),yr(Tr,Yn),Kt}finally{zn=_t,Jn=!1}}return null}var lr=ot.ReactCurrentBatchConfig;function wr(Ut,_t){if(ln(Ut,_t))return!0;if(typeof Ut!="object"||Ut===null||typeof _t!="object"||_t===null)return!1;var Dt=Object.keys(Ut),jt=Object.keys(_t);if(Dt.length!==jt.length)return!1;for(jt=0;jt<Dt.length;jt++){var Kt=Dt[jt];if(!mo.call(_t,Kt)||!ln(Ut[Kt],_t[Kt]))return!1}return!0}function Pr(Ut){switch(Ut.tag){case 5:return Dr(Ut.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return Ut=Yr(Ut.type,!1),Ut;case 11:return Ut=Yr(Ut.type.render,!1),Ut;case 1:return Ut=Yr(Ut.type,!0),Ut;default:return""}}function eo(Ut,_t){if(Ut&&Ut.defaultProps){_t=rt({},_t),Ut=Ut.defaultProps;for(var Dt in Ut)_t[Dt]===void 0&&(_t[Dt]=Ut[Dt]);return _t}return _t}var go=Hr(null),Ro=null,Uo=null,qr=null;function Mo(){qr=Uo=Ro=null}function Ho(Ut,_t,Dt){tn?(Kr(go,_t._currentValue),_t._currentValue=Dt):(Kr(go,_t._currentValue2),_t._currentValue2=Dt)}function bu(Ut){var _t=go.current;vr(go),tn?Ut._currentValue=_t:Ut._currentValue2=_t}function Bu(Ut,_t,Dt){for(;Ut!==null;){var jt=Ut.alternate;if((Ut.childLanes&_t)!==_t?(Ut.childLanes|=_t,jt!==null&&(jt.childLanes|=_t)):jt!==null&&(jt.childLanes&_t)!==_t&&(jt.childLanes|=_t),Ut===Dt)break;Ut=Ut.return}}function Xs(Ut,_t){Ro=Ut,qr=Uo=null,Ut=Ut.dependencies,Ut!==null&&Ut.firstContext!==null&&(Ut.lanes&_t&&(ss=!0),Ut.firstContext=null)}function us(Ut){var _t=tn?Ut._currentValue:Ut._currentValue2;if(qr!==Ut)if(Ut={context:Ut,memoizedValue:_t,next:null},Uo===null){if(Ro===null)throw Error(it(308));Uo=Ut,Ro.dependencies={lanes:0,firstContext:Ut}}else Uo=Uo.next=Ut;return _t}var vs=null,As=!1;function Tu(Ut){Ut.updateQueue={baseState:Ut.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(Ut,_t){Ut=Ut.updateQueue,_t.updateQueue===Ut&&(_t.updateQueue={baseState:Ut.baseState,firstBaseUpdate:Ut.firstBaseUpdate,lastBaseUpdate:Ut.lastBaseUpdate,shared:Ut.shared,effects:Ut.effects})}function bs(Ut,_t){return{eventTime:Ut,lane:_t,tag:0,payload:null,callback:null,next:null}}function Ns(Ut,_t){var Dt=Ut.updateQueue;Dt!==null&&(Dt=Dt.shared,Do!==null&&Ut.mode&1&&!(ho&2)?(Ut=Dt.interleaved,Ut===null?(_t.next=_t,vs===null?vs=[Dt]:vs.push(Dt)):(_t.next=Ut.next,Ut.next=_t),Dt.interleaved=_t):(Ut=Dt.pending,Ut===null?_t.next=_t:(_t.next=Ut.next,Ut.next=_t),Dt.pending=_t))}function Ll(Ut,_t,Dt){if(_t=_t.updateQueue,_t!==null&&(_t=_t.shared,(Dt&4194240)!==0)){var jt=_t.lanes;jt&=Ut.pendingLanes,Dt|=jt,_t.lanes=Dt,Gn(Ut,Dt)}}function vp(Ut,_t){var Dt=Ut.updateQueue,jt=Ut.alternate;if(jt!==null&&(jt=jt.updateQueue,Dt===jt)){var Kt=null,sn=null;if(Dt=Dt.firstBaseUpdate,Dt!==null){do{var Tn={eventTime:Dt.eventTime,lane:Dt.lane,tag:Dt.tag,payload:Dt.payload,callback:Dt.callback,next:null};sn===null?Kt=sn=Tn:sn=sn.next=Tn,Dt=Dt.next}while(Dt!==null);sn===null?Kt=sn=_t:sn=sn.next=_t}else Kt=sn=_t;Dt={baseState:jt.baseState,firstBaseUpdate:Kt,lastBaseUpdate:sn,shared:jt.shared,effects:jt.effects},Ut.updateQueue=Dt;return}Ut=Dt.lastBaseUpdate,Ut===null?Dt.firstBaseUpdate=_t:Ut.next=_t,Dt.lastBaseUpdate=_t}function Pl(Ut,_t,Dt,jt){var Kt=Ut.updateQueue;As=!1;var sn=Kt.firstBaseUpdate,Tn=Kt.lastBaseUpdate,kn=Kt.shared.pending;if(kn!==null){Kt.shared.pending=null;var rr=kn,gr=rr.next;rr.next=null,Tn===null?sn=gr:Tn.next=gr,Tn=rr;var Vr=Ut.alternate;Vr!==null&&(Vr=Vr.updateQueue,kn=Vr.lastBaseUpdate,kn!==Tn&&(kn===null?Vr.firstBaseUpdate=gr:kn.next=gr,Vr.lastBaseUpdate=rr))}if(sn!==null){var oo=Kt.baseState;Tn=0,Vr=gr=rr=null,kn=sn;do{var _i=kn.lane,Bo=kn.eventTime;if((jt&_i)===_i){Vr!==null&&(Vr=Vr.next={eventTime:Bo,lane:0,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null});e:{var Zr=Ut,Go=kn;switch(_i=_t,Bo=Dt,Go.tag){case 1:if(Zr=Go.payload,typeof Zr=="function"){oo=Zr.call(Bo,oo,_i);break e}oo=Zr;break e;case 3:Zr.flags=Zr.flags&-65537|128;case 0:if(Zr=Go.payload,_i=typeof Zr=="function"?Zr.call(Bo,oo,_i):Zr,_i==null)break e;oo=rt({},oo,_i);break e;case 2:As=!0}}kn.callback!==null&&kn.lane!==0&&(Ut.flags|=64,_i=Kt.effects,_i===null?Kt.effects=[kn]:_i.push(kn))}else Bo={eventTime:Bo,lane:_i,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null},Vr===null?(gr=Vr=Bo,rr=oo):Vr=Vr.next=Bo,Tn|=_i;if(kn=kn.next,kn===null){if(kn=Kt.shared.pending,kn===null)break;_i=kn,kn=_i.next,_i.next=null,Kt.lastBaseUpdate=_i,Kt.shared.pending=null}}while(1);if(Vr===null&&(rr=oo),Kt.baseState=rr,Kt.firstBaseUpdate=gr,Kt.lastBaseUpdate=Vr,_t=Kt.shared.interleaved,_t!==null){Kt=_t;do Tn|=Kt.lane,Kt=Kt.next;while(Kt!==_t)}else sn===null&&(Kt.shared.lanes=0);yl|=Tn,Ut.lanes=Tn,Ut.memoizedState=oo}}function _p(Ut,_t,Dt){if(Ut=_t.effects,_t.effects=null,Ut!==null)for(_t=0;_t<Ut.length;_t++){var jt=Ut[_t],Kt=jt.callback;if(Kt!==null){if(jt.callback=null,jt=Dt,typeof Kt!="function")throw Error(it(191,Kt));Kt.call(jt)}}}var Sp=new tt.Component().refs;function wu(Ut,_t,Dt,jt){_t=Ut.memoizedState,Dt=Dt(jt,_t),Dt=Dt==null?_t:rt({},_t,Dt),Ut.memoizedState=Dt,Ut.lanes===0&&(Ut.updateQueue.baseState=Dt)}var Wl={isMounted:function(Ut){return(Ut=Ut._reactInternals)?St(Ut)===Ut:!1},enqueueSetState:function(Ut,_t,Dt){Ut=Ut._reactInternals;var jt=Xo(),Kt=ks(Ut),sn=bs(jt,Kt);sn.payload=_t,Dt!=null&&(sn.callback=Dt),Ns(Ut,sn),_t=gs(Ut,Kt,jt),_t!==null&&Ll(_t,Ut,Kt)},enqueueReplaceState:function(Ut,_t,Dt){Ut=Ut._reactInternals;var jt=Xo(),Kt=ks(Ut),sn=bs(jt,Kt);sn.tag=1,sn.payload=_t,Dt!=null&&(sn.callback=Dt),Ns(Ut,sn),_t=gs(Ut,Kt,jt),_t!==null&&Ll(_t,Ut,Kt)},enqueueForceUpdate:function(Ut,_t){Ut=Ut._reactInternals;var Dt=Xo(),jt=ks(Ut),Kt=bs(Dt,jt);Kt.tag=2,_t!=null&&(Kt.callback=_t),Ns(Ut,Kt),_t=gs(Ut,jt,Dt),_t!==null&&Ll(_t,Ut,jt)}};function Rp(Ut,_t,Dt,jt,Kt,sn,Tn){return Ut=Ut.stateNode,typeof Ut.shouldComponentUpdate=="function"?Ut.shouldComponentUpdate(jt,sn,Tn):_t.prototype&&_t.prototype.isPureReactComponent?!wr(Dt,jt)||!wr(Kt,sn):!0}function Ep(Ut,_t,Dt){var jt=!1,Kt=ao,sn=_t.contextType;return typeof sn=="object"&&sn!==null?sn=us(sn):(Kt=io(_t)?xo:Fo.current,jt=_t.contextTypes,sn=(jt=jt!=null)?Wo(Ut,Kt):ao),_t=new _t(Dt,sn),Ut.memoizedState=_t.state!==null&&_t.state!==void 0?_t.state:null,_t.updater=Wl,Ut.stateNode=_t,_t._reactInternals=Ut,jt&&(Ut=Ut.stateNode,Ut.__reactInternalMemoizedUnmaskedChildContext=Kt,Ut.__reactInternalMemoizedMaskedChildContext=sn),_t}function bp(Ut,_t,Dt,jt){Ut=_t.state,typeof _t.componentWillReceiveProps=="function"&&_t.componentWillReceiveProps(Dt,jt),typeof _t.UNSAFE_componentWillReceiveProps=="function"&&_t.UNSAFE_componentWillReceiveProps(Dt,jt),_t.state!==Ut&&Wl.enqueueReplaceState(_t,_t.state,null)}function Qu(Ut,_t,Dt,jt){var Kt=Ut.stateNode;Kt.props=Dt,Kt.state=Ut.memoizedState,Kt.refs=Sp,Tu(Ut);var sn=_t.contextType;typeof sn=="object"&&sn!==null?Kt.context=us(sn):(sn=io(_t)?xo:Fo.current,Kt.context=Wo(Ut,sn)),Kt.state=Ut.memoizedState,sn=_t.getDerivedStateFromProps,typeof sn=="function"&&(wu(Ut,_t,sn,Dt),Kt.state=Ut.memoizedState),typeof _t.getDerivedStateFromProps=="function"||typeof Kt.getSnapshotBeforeUpdate=="function"||typeof Kt.UNSAFE_componentWillMount!="function"&&typeof Kt.componentWillMount!="function"||(_t=Kt.state,typeof Kt.componentWillMount=="function"&&Kt.componentWillMount(),typeof Kt.UNSAFE_componentWillMount=="function"&&Kt.UNSAFE_componentWillMount(),_t!==Kt.state&&Wl.enqueueReplaceState(Kt,Kt.state,null),Pl(Ut,Dt,Kt,jt),Kt.state=Ut.memoizedState),typeof Kt.componentDidMount=="function"&&(Ut.flags|=4194308)}var Ys=[],Ks=0,Jl=null,Zl=0,ds=[],hs=0,Ps=null,Bs=1,Ts="";function Ws(Ut,_t){Ys[Ks++]=Zl,Ys[Ks++]=Jl,Jl=Ut,Zl=_t}function Bp(Ut,_t,Dt){ds[hs++]=Bs,ds[hs++]=Ts,ds[hs++]=Ps,Ps=Ut;var jt=Bs;Ut=Ts;var Kt=32-Co(jt)-1;jt&=~(1<<Kt),Dt+=1;var sn=32-Co(_t)+Kt;if(30<sn){var Tn=Kt-Kt%5;sn=(jt&(1<<Tn)-1).toString(32),jt>>=Tn,Kt-=Tn,Bs=1<<32-Co(_t)+Kt|Dt<<Kt|jt,Ts=sn+Ut}else Bs=1<<sn|Dt<<Kt|jt,Ts=Ut}function xu(Ut){Ut.return!==null&&(Ws(Ut,1),Bp(Ut,1,0))}function Cu(Ut){for(;Ut===Jl;)Jl=Ys[--Ks],Ys[Ks]=null,Zl=Ys[--Ks],Ys[Ks]=null;for(;Ut===Ps;)Ps=ds[--hs],ds[hs]=null,Ts=ds[--hs],ds[hs]=null,Bs=ds[--hs],ds[hs]=null}var rs=null,os=null,wo=!1,Fl=!1,Us=null;function Tp(Ut,_t){var Dt=ms(5,null,null,0);Dt.elementType="DELETED",Dt.stateNode=_t,Dt.return=Ut,_t=Ut.deletions,_t===null?(Ut.deletions=[Dt],Ut.flags|=16):_t.push(Dt)}function wp(Ut,_t){switch(Ut.tag){case 5:return _t=nn(_t,Ut.type,Ut.pendingProps),_t!==null?(Ut.stateNode=_t,rs=Ut,os=Xn(_t),!0):!1;case 6:return _t=on(_t,Ut.pendingProps),_t!==null?(Ut.stateNode=_t,rs=Ut,os=null,!0):!1;case 13:if(_t=gn(_t),_t!==null){var Dt=Ps!==null?{id:Bs,overflow:Ts}:null;return Ut.memoizedState={dehydrated:_t,treeContext:Dt,retryLane:1073741824},Dt=ms(18,null,null,0),Dt.stateNode=_t,Dt.return=Ut,Ut.child=Dt,rs=Ut,os=null,!0}return!1;default:return!1}}function Mu(Ut){return(Ut.mode&1)!==0&&(Ut.flags&128)===0}function Au(Ut){if(wo){var _t=os;if(_t){var Dt=_t;if(!wp(Ut,_t)){if(Mu(Ut))throw Error(it(418));_t=$n(Dt);var jt=rs;_t&&wp(Ut,_t)?Tp(jt,Dt):(Ut.flags=Ut.flags&-4097|2,wo=!1,rs=Ut)}}else{if(Mu(Ut))throw Error(it(418));Ut.flags=Ut.flags&-4097|2,wo=!1,rs=Ut}}}function Qp(Ut){for(Ut=Ut.return;Ut!==null&&Ut.tag!==5&&Ut.tag!==3&&Ut.tag!==13;)Ut=Ut.return;rs=Ut}function _l(Ut){if(!cn||Ut!==rs)return!1;if(!wo)return Qp(Ut),wo=!0,!1;if(Ut.tag!==3&&(Ut.tag!==5||dr(Ut.type)&&!Xt(Ut.type,Ut.memoizedProps))){var _t=os;if(_t){if(Mu(Ut)){for(Ut=os;Ut;)Ut=$n(Ut);throw Error(it(418))}for(;_t;)Tp(Ut,_t),_t=$n(_t)}}if(Qp(Ut),Ut.tag===13){if(!cn)throw Error(it(316));if(Ut=Ut.memoizedState,Ut=Ut!==null?Ut.dehydrated:null,!Ut)throw Error(it(317));os=Vn(Ut)}else os=rs?$n(Ut.stateNode):null;return!0}function qs(){cn&&(os=rs=null,Fl=wo=!1)}function Nu(Ut){Us===null?Us=[Ut]:Us.push(Ut)}function Sl(Ut,_t,Dt){if(Ut=Dt.ref,Ut!==null&&typeof Ut!="function"&&typeof Ut!="object"){if(Dt._owner){if(Dt=Dt._owner,Dt){if(Dt.tag!==1)throw Error(it(309));var jt=Dt.stateNode}if(!jt)throw Error(it(147,Ut));var Kt=jt,sn=""+Ut;return _t!==null&&_t.ref!==null&&typeof _t.ref=="function"&&_t.ref._stringRef===sn?_t.ref:(_t=function(Tn){var kn=Kt.refs;kn===Sp&&(kn=Kt.refs={}),Tn===null?delete kn[sn]:kn[sn]=Tn},_t._stringRef=sn,_t)}if(typeof Ut!="string")throw Error(it(284));if(!Dt._owner)throw Error(it(290,Ut))}return Ut}function zl(Ut,_t){throw Ut=Object.prototype.toString.call(_t),Error(it(31,Ut==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":Ut))}function xp(Ut){var _t=Ut._init;return _t(Ut._payload)}function Cp(Ut){function _t(Hn,Wn){if(Ut){var qn=Hn.deletions;qn===null?(Hn.deletions=[Wn],Hn.flags|=16):qn.push(Wn)}}function Dt(Hn,Wn){if(!Ut)return null;for(;Wn!==null;)_t(Hn,Wn),Wn=Wn.sibling;return null}function jt(Hn,Wn){for(Hn=new Map;Wn!==null;)Wn.key!==null?Hn.set(Wn.key,Wn):Hn.set(Wn.index,Wn),Wn=Wn.sibling;return Hn}function Kt(Hn,Wn){return Hn=Os(Hn,Wn),Hn.index=0,Hn.sibling=null,Hn}function sn(Hn,Wn,qn){return Hn.index=qn,Ut?(qn=Hn.alternate,qn!==null?(qn=qn.index,qn<Wn?(Hn.flags|=2,Wn):qn):(Hn.flags|=2,Wn)):(Hn.flags|=1048576,Wn)}function Tn(Hn){return Ut&&Hn.alternate===null&&(Hn.flags|=2),Hn}function kn(Hn,Wn,qn,Mr){return Wn===null||Wn.tag!==6?(Wn=gp(qn,Hn.mode,Mr),Wn.return=Hn,Wn):(Wn=Kt(Wn,qn),Wn.return=Hn,Wn)}function rr(Hn,Wn,qn,Mr){var jr=qn.type;return jr===lt?Vr(Hn,Wn,qn.props.children,Mr,qn.key):Wn!==null&&(Wn.elementType===jr||typeof jr=="object"&&jr!==null&&jr.$$typeof===mt&&xp(jr)===Wn.type)?(Mr=Kt(Wn,qn.props),Mr.ref=Sl(Hn,Wn,qn),Mr.return=Hn,Mr):(Mr=Ru(qn.type,qn.key,qn.props,null,Hn.mode,Mr),Mr.ref=Sl(Hn,Wn,qn),Mr.return=Hn,Mr)}function gr(Hn,Wn,qn,Mr){return Wn===null||Wn.tag!==4||Wn.stateNode.containerInfo!==qn.containerInfo||Wn.stateNode.implementation!==qn.implementation?(Wn=mp(qn,Hn.mode,Mr),Wn.return=Hn,Wn):(Wn=Kt(Wn,qn.children||[]),Wn.return=Hn,Wn)}function Vr(Hn,Wn,qn,Mr,jr){return Wn===null||Wn.tag!==7?(Wn=$s(qn,Hn.mode,Mr,jr),Wn.return=Hn,Wn):(Wn=Kt(Wn,qn),Wn.return=Hn,Wn)}function oo(Hn,Wn,qn){if(typeof Wn=="string"&&Wn!==""||typeof Wn=="number")return Wn=gp(""+Wn,Hn.mode,qn),Wn.return=Hn,Wn;if(typeof Wn=="object"&&Wn!==null){switch(Wn.$$typeof){case st:return qn=Ru(Wn.type,Wn.key,Wn.props,null,Hn.mode,qn),qn.ref=Sl(Hn,null,Wn),qn.return=Hn,qn;case at:return Wn=mp(Wn,Hn.mode,qn),Wn.return=Hn,Wn;case mt:var Mr=Wn._init;return oo(Hn,Mr(Wn._payload),qn)}if(Ct(Wn)||Et(Wn))return Wn=$s(Wn,Hn.mode,qn,null),Wn.return=Hn,Wn;zl(Hn,Wn)}return null}function _i(Hn,Wn,qn,Mr){var jr=Wn!==null?Wn.key:null;if(typeof qn=="string"&&qn!==""||typeof qn=="number")return jr!==null?null:kn(Hn,Wn,""+qn,Mr);if(typeof qn=="object"&&qn!==null){switch(qn.$$typeof){case st:return qn.key===jr?rr(Hn,Wn,qn,Mr):null;case at:return qn.key===jr?gr(Hn,Wn,qn,Mr):null;case mt:return jr=qn._init,_i(Hn,Wn,jr(qn._payload),Mr)}if(Ct(qn)||Et(qn))return jr!==null?null:Vr(Hn,Wn,qn,Mr,null);zl(Hn,qn)}return null}function Bo(Hn,Wn,qn,Mr,jr){if(typeof Mr=="string"&&Mr!==""||typeof Mr=="number")return Hn=Hn.get(qn)||null,kn(Wn,Hn,""+Mr,jr);if(typeof Mr=="object"&&Mr!==null){switch(Mr.$$typeof){case st:return Hn=Hn.get(Mr.key===null?qn:Mr.key)||null,rr(Wn,Hn,Mr,jr);case at:return Hn=Hn.get(Mr.key===null?qn:Mr.key)||null,gr(Wn,Hn,Mr,jr);case mt:var lo=Mr._init;return Bo(Hn,Wn,qn,lo(Mr._payload),jr)}if(Ct(Mr)||Et(Mr))return Hn=Hn.get(qn)||null,Vr(Wn,Hn,Mr,jr,null);zl(Wn,Mr)}return null}function Zr(Hn,Wn,qn,Mr){for(var jr=null,lo=null,so=Wn,vo=Wn=0,Po=null;so!==null&&vo<qn.length;vo++){so.index>vo?(Po=so,so=null):Po=so.sibling;var _o=_i(Hn,so,qn[vo],Mr);if(_o===null){so===null&&(so=Po);break}Ut&&so&&_o.alternate===null&&_t(Hn,so),Wn=sn(_o,Wn,vo),lo===null?jr=_o:lo.sibling=_o,lo=_o,so=Po}if(vo===qn.length)return Dt(Hn,so),wo&&Ws(Hn,vo),jr;if(so===null){for(;vo<qn.length;vo++)so=oo(Hn,qn[vo],Mr),so!==null&&(Wn=sn(so,Wn,vo),lo===null?jr=so:lo.sibling=so,lo=so);return wo&&Ws(Hn,vo),jr}for(so=jt(Hn,so);vo<qn.length;vo++)Po=Bo(so,Hn,vo,qn[vo],Mr),Po!==null&&(Ut&&Po.alternate!==null&&so.delete(Po.key===null?vo:Po.key),Wn=sn(Po,Wn,vo),lo===null?jr=Po:lo.sibling=Po,lo=Po);return Ut&&so.forEach(function(Ls){return _t(Hn,Ls)}),wo&&Ws(Hn,vo),jr}function Go(Hn,Wn,qn,Mr){var jr=Et(qn);if(typeof jr!="function")throw Error(it(150));if(qn=jr.call(qn),qn==null)throw Error(it(151));for(var lo=jr=null,so=Wn,vo=Wn=0,Po=null,_o=qn.next();so!==null&&!_o.done;vo++,_o=qn.next()){so.index>vo?(Po=so,so=null):Po=so.sibling;var Ls=_i(Hn,so,_o.value,Mr);if(Ls===null){so===null&&(so=Po);break}Ut&&so&&Ls.alternate===null&&_t(Hn,so),Wn=sn(Ls,Wn,vo),lo===null?jr=Ls:lo.sibling=Ls,lo=Ls,so=Po}if(_o.done)return Dt(Hn,so),wo&&Ws(Hn,vo),jr;if(so===null){for(;!_o.done;vo++,_o=qn.next())_o=oo(Hn,_o.value,Mr),_o!==null&&(Wn=sn(_o,Wn,vo),lo===null?jr=_o:lo.sibling=_o,lo=_o);return wo&&Ws(Hn,vo),jr}for(so=jt(Hn,so);!_o.done;vo++,_o=qn.next())_o=Bo(so,Hn,vo,_o.value,Mr),_o!==null&&(Ut&&_o.alternate!==null&&so.delete(_o.key===null?vo:_o.key),Wn=sn(_o,Wn,vo),lo===null?jr=_o:lo.sibling=_o,lo=_o);return Ut&&so.forEach(function(v0){return _t(Hn,v0)}),wo&&Ws(Hn,vo),jr}function ys(Hn,Wn,qn,Mr){if(typeof qn=="object"&&qn!==null&&qn.type===lt&&qn.key===null&&(qn=qn.props.children),typeof qn=="object"&&qn!==null){switch(qn.$$typeof){case st:e:{for(var jr=qn.key,lo=Wn;lo!==null;){if(lo.key===jr){if(jr=qn.type,jr===lt){if(lo.tag===7){Dt(Hn,lo.sibling),Wn=Kt(lo,qn.props.children),Wn.return=Hn,Hn=Wn;break e}}else if(lo.elementType===jr||typeof jr=="object"&&jr!==null&&jr.$$typeof===mt&&xp(jr)===lo.type){Dt(Hn,lo.sibling),Wn=Kt(lo,qn.props),Wn.ref=Sl(Hn,lo,qn),Wn.return=Hn,Hn=Wn;break e}Dt(Hn,lo);break}else _t(Hn,lo);lo=lo.sibling}qn.type===lt?(Wn=$s(qn.props.children,Hn.mode,Mr,qn.key),Wn.return=Hn,Hn=Wn):(Mr=Ru(qn.type,qn.key,qn.props,null,Hn.mode,Mr),Mr.ref=Sl(Hn,Wn,qn),Mr.return=Hn,Hn=Mr)}return Tn(Hn);case at:e:{for(lo=qn.key;Wn!==null;){if(Wn.key===lo)if(Wn.tag===4&&Wn.stateNode.containerInfo===qn.containerInfo&&Wn.stateNode.implementation===qn.implementation){Dt(Hn,Wn.sibling),Wn=Kt(Wn,qn.children||[]),Wn.return=Hn,Hn=Wn;break e}else{Dt(Hn,Wn);break}else _t(Hn,Wn);Wn=Wn.sibling}Wn=mp(qn,Hn.mode,Mr),Wn.return=Hn,Hn=Wn}return Tn(Hn);case mt:return lo=qn._init,ys(Hn,Wn,lo(qn._payload),Mr)}if(Ct(qn))return Zr(Hn,Wn,qn,Mr);if(Et(qn))return Go(Hn,Wn,qn,Mr);zl(Hn,qn)}return typeof qn=="string"&&qn!==""||typeof qn=="number"?(qn=""+qn,Wn!==null&&Wn.tag===6?(Dt(Hn,Wn.sibling),Wn=Kt(Wn,qn),Wn.return=Hn,Hn=Wn):(Dt(Hn,Wn),Wn=gp(qn,Hn.mode,Mr),Wn.return=Hn,Hn=Wn),Tn(Hn)):Dt(Hn,Wn)}return ys}var na=Cp(!0),Mp=Cp(!1),Rl={},ps=Hr(Rl),El=Hr(Rl),ga=Hr(Rl);function _s(Ut){if(Ut===Rl)throw Error(it(174));return Ut}function Vu(Ut,_t){Kr(ga,_t),Kr(El,Ut),Kr(ps,Rl),Ut=Nt(_t),vr(ps),Kr(ps,Ut)}function ba(){vr(ps),vr(El),vr(ga)}function Ap(Ut){var _t=_s(ga.current),Dt=_s(ps.current);_t=At(Dt,Ut.type,_t),Dt!==_t&&(Kr(El,Ut),Kr(ps,_t))}function Du(Ut){El.current===Ut&&(vr(ps),vr(El))}var Qo=Hr(0);function Gl(Ut){for(var _t=Ut;_t!==null;){if(_t.tag===13){var Dt=_t.memoizedState;if(Dt!==null&&(Dt=Dt.dehydrated,Dt===null||Qn(Dt)||Nn(Dt)))return _t}else if(_t.tag===19&&_t.memoizedProps.revealOrder!==void 0){if(_t.flags&128)return _t}else if(_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===Ut)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===Ut)return null;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}return null}var ku=[];function Iu(){for(var Ut=0;Ut<ku.length;Ut++){var _t=ku[Ut];tn?_t._workInProgressVersionPrimary=null:_t._workInProgressVersionSecondary=null}ku.length=0}var Hl=ot.ReactCurrentDispatcher,fs=ot.ReactCurrentBatchConfig,xa=0,Ao=null,jo=null,Lo=null,$l=!1,Bl=!1,Tl=0,Zm=0;function Zo(){throw Error(it(321))}function Ou(Ut,_t){if(_t===null)return!1;for(var Dt=0;Dt<_t.length&&Dt<Ut.length;Dt++)if(!ln(Ut[Dt],_t[Dt]))return!1;return!0}function Lu(Ut,_t,Dt,jt,Kt,sn){if(xa=sn,Ao=_t,_t.memoizedState=null,_t.updateQueue=null,_t.lanes=0,Hl.current=Ut===null||Ut.memoizedState===null?$m:Xm,Ut=Dt(jt,Kt),Bl){sn=0;do{if(Bl=!1,Tl=0,25<=sn)throw Error(it(301));sn+=1,Lo=jo=null,_t.updateQueue=null,Hl.current=Ym,Ut=Dt(jt,Kt)}while(Bl)}if(Hl.current=eu,_t=jo!==null&&jo.next!==null,xa=0,Lo=jo=Ao=null,$l=!1,_t)throw Error(it(300));return Ut}function Pu(){var Ut=Tl!==0;return Tl=0,Ut}function ws(){var Ut={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lo===null?Ao.memoizedState=Lo=Ut:Lo=Lo.next=Ut,Lo}function Ss(){if(jo===null){var Ut=Ao.alternate;Ut=Ut!==null?Ut.memoizedState:null}else Ut=jo.next;var _t=Lo===null?Ao.memoizedState:Lo.next;if(_t!==null)Lo=_t,jo=Ut;else{if(Ut===null)throw Error(it(310));jo=Ut,Ut={memoizedState:jo.memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},Lo===null?Ao.memoizedState=Lo=Ut:Lo=Lo.next=Ut}return Lo}function Js(Ut,_t){return typeof _t=="function"?_t(Ut):_t}function Xl(Ut){var _t=Ss(),Dt=_t.queue;if(Dt===null)throw Error(it(311));Dt.lastRenderedReducer=Ut;var jt=jo,Kt=jt.baseQueue,sn=Dt.pending;if(sn!==null){if(Kt!==null){var Tn=Kt.next;Kt.next=sn.next,sn.next=Tn}jt.baseQueue=Kt=sn,Dt.pending=null}if(Kt!==null){sn=Kt.next,jt=jt.baseState;var kn=Tn=null,rr=null,gr=sn;do{var Vr=gr.lane;if((xa&Vr)===Vr)rr!==null&&(rr=rr.next={lane:0,action:gr.action,hasEagerState:gr.hasEagerState,eagerState:gr.eagerState,next:null}),jt=gr.hasEagerState?gr.eagerState:Ut(jt,gr.action);else{var oo={lane:Vr,action:gr.action,hasEagerState:gr.hasEagerState,eagerState:gr.eagerState,next:null};rr===null?(kn=rr=oo,Tn=jt):rr=rr.next=oo,Ao.lanes|=Vr,yl|=Vr}gr=gr.next}while(gr!==null&&gr!==sn);rr===null?Tn=jt:rr.next=kn,ln(jt,_t.memoizedState)||(ss=!0),_t.memoizedState=jt,_t.baseState=Tn,_t.baseQueue=rr,Dt.lastRenderedState=jt}if(Ut=Dt.interleaved,Ut!==null){Kt=Ut;do sn=Kt.lane,Ao.lanes|=sn,yl|=sn,Kt=Kt.next;while(Kt!==Ut)}else Kt===null&&(Dt.lanes=0);return[_t.memoizedState,Dt.dispatch]}function Yl(Ut){var _t=Ss(),Dt=_t.queue;if(Dt===null)throw Error(it(311));Dt.lastRenderedReducer=Ut;var jt=Dt.dispatch,Kt=Dt.pending,sn=_t.memoizedState;if(Kt!==null){Dt.pending=null;var Tn=Kt=Kt.next;do sn=Ut(sn,Tn.action),Tn=Tn.next;while(Tn!==Kt);ln(sn,_t.memoizedState)||(ss=!0),_t.memoizedState=sn,_t.baseQueue===null&&(_t.baseState=sn),Dt.lastRenderedState=sn}return[sn,jt]}function Np(){}function Vp(Ut,_t){var Dt=Ao,jt=Ss(),Kt=_t(),sn=!ln(jt.memoizedState,Kt);if(sn&&(jt.memoizedState=Kt,ss=!0),jt=jt.queue,xl(Ip.bind(null,Dt,jt,Ut),[Ut]),jt.getSnapshot!==_t||sn||Lo!==null&&Lo.memoizedState.tag&1){if(Dt.flags|=2048,Ql(9,kp.bind(null,Dt,jt,Kt,_t),void 0,null),Do===null)throw Error(it(349));xa&30||Dp(Dt,_t,Kt)}return Kt}function Dp(Ut,_t,Dt){Ut.flags|=16384,Ut={getSnapshot:_t,value:Dt},_t=Ao.updateQueue,_t===null?(_t={lastEffect:null,stores:null},Ao.updateQueue=_t,_t.stores=[Ut]):(Dt=_t.stores,Dt===null?_t.stores=[Ut]:Dt.push(Ut))}function kp(Ut,_t,Dt,jt){_t.value=Dt,_t.getSnapshot=jt,Op(_t)&&gs(Ut,1,-1)}function Ip(Ut,_t,Dt){return Dt(function(){Op(_t)&&gs(Ut,1,-1)})}function Op(Ut){var _t=Ut.getSnapshot;Ut=Ut.value;try{var Dt=_t();return!ln(Ut,Dt)}catch{return!0}}function Wu(Ut){var _t=ws();return typeof Ut=="function"&&(Ut=Ut()),_t.memoizedState=_t.baseState=Ut,Ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:Ut},_t.queue=Ut,Ut=Ut.dispatch=Hm.bind(null,Ao,Ut),[_t.memoizedState,Ut]}function Ql(Ut,_t,Dt,jt){return Ut={tag:Ut,create:_t,destroy:Dt,deps:jt,next:null},_t=Ao.updateQueue,_t===null?(_t={lastEffect:null,stores:null},Ao.updateQueue=_t,_t.lastEffect=Ut.next=Ut):(Dt=_t.lastEffect,Dt===null?_t.lastEffect=Ut.next=Ut:(jt=Dt.next,Dt.next=Ut,Ut.next=jt,_t.lastEffect=Ut)),Ut}function Lp(){return Ss().memoizedState}function Kl(Ut,_t,Dt,jt){var Kt=ws();Ao.flags|=Ut,Kt.memoizedState=Ql(1|_t,Dt,void 0,jt===void 0?null:jt)}function _c(Ut,_t,Dt,jt){var Kt=Ss();jt=jt===void 0?null:jt;var sn=void 0;if(jo!==null){var Tn=jo.memoizedState;if(sn=Tn.destroy,jt!==null&&Ou(jt,Tn.deps)){Kt.memoizedState=Ql(_t,Dt,sn,jt);return}}Ao.flags|=Ut,Kt.memoizedState=Ql(1|_t,Dt,sn,jt)}function Ju(Ut,_t){return Kl(8390656,8,Ut,_t)}function xl(Ut,_t){return _c(2048,8,Ut,_t)}function Pp(Ut,_t){return _c(4,2,Ut,_t)}function Wp(Ut,_t){return _c(4,4,Ut,_t)}function Jp(Ut,_t){if(typeof _t=="function")return Ut=Ut(),_t(Ut),function(){_t(null)};if(_t!=null)return Ut=Ut(),_t.current=Ut,function(){_t.current=null}}function jp(Ut,_t,Dt){return Dt=Dt!=null?Dt.concat([Ut]):null,_c(4,4,Jp.bind(null,_t,Ut),Dt)}function ju(){}function Zp(Ut,_t){var Dt=Ss();_t=_t===void 0?null:_t;var jt=Dt.memoizedState;return jt!==null&&_t!==null&&Ou(_t,jt[1])?jt[0]:(Dt.memoizedState=[Ut,_t],Ut)}function zp(Ut,_t){var Dt=Ss();_t=_t===void 0?null:_t;var jt=Dt.memoizedState;return jt!==null&&_t!==null&&Ou(_t,jt[1])?jt[0]:(Ut=Ut(),Dt.memoizedState=[Ut,_t],Ut)}function zm(Ut,_t){var Dt=zn;zn=Dt!==0&&4>Dt?Dt:4,Ut(!0);var jt=fs.transition;fs.transition={};try{Ut(!1),_t()}finally{zn=Dt,fs.transition=jt}}function Gp(){return Ss().memoizedState}function Gm(Ut,_t,Dt){var jt=ks(Ut);Dt={lane:jt,action:Dt,hasEagerState:!1,eagerState:null,next:null},Hp(Ut)?$p(_t,Dt):(Xp(Ut,_t,Dt),Dt=Xo(),Ut=gs(Ut,jt,Dt),Ut!==null&&Yp(Ut,_t,jt))}function Hm(Ut,_t,Dt){var jt=ks(Ut),Kt={lane:jt,action:Dt,hasEagerState:!1,eagerState:null,next:null};if(Hp(Ut))$p(_t,Kt);else{Xp(Ut,_t,Kt);var sn=Ut.alternate;if(Ut.lanes===0&&(sn===null||sn.lanes===0)&&(sn=_t.lastRenderedReducer,sn!==null))try{var Tn=_t.lastRenderedState,kn=sn(Tn,Dt);if(Kt.hasEagerState=!0,Kt.eagerState=kn,ln(kn,Tn))return}catch{}finally{}Dt=Xo(),Ut=gs(Ut,jt,Dt),Ut!==null&&Yp(Ut,_t,jt)}}function Hp(Ut){var _t=Ut.alternate;return Ut===Ao||_t!==null&&_t===Ao}function $p(Ut,_t){Bl=$l=!0;var Dt=Ut.pending;Dt===null?_t.next=_t:(_t.next=Dt.next,Dt.next=_t),Ut.pending=_t}function Xp(Ut,_t,Dt){Do!==null&&Ut.mode&1&&!(ho&2)?(Ut=_t.interleaved,Ut===null?(Dt.next=Dt,vs===null?vs=[_t]:vs.push(_t)):(Dt.next=Ut.next,Ut.next=Dt),_t.interleaved=Dt):(Ut=_t.pending,Ut===null?Dt.next=Dt:(Dt.next=Ut.next,Ut.next=Dt),_t.pending=Dt)}function Yp(Ut,_t,Dt){if(Dt&4194240){var jt=_t.lanes;jt&=Ut.pendingLanes,Dt|=jt,_t.lanes=Dt,Gn(Ut,Dt)}}var eu={readContext:us,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useInsertionEffect:Zo,useLayoutEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useMutableSource:Zo,useSyncExternalStore:Zo,useId:Zo,unstable_isNewReconciler:!1},$m={readContext:us,useCallback:function(Ut,_t){return ws().memoizedState=[Ut,_t===void 0?null:_t],Ut},useContext:us,useEffect:Ju,useImperativeHandle:function(Ut,_t,Dt){return Dt=Dt!=null?Dt.concat([Ut]):null,Kl(4194308,4,Jp.bind(null,_t,Ut),Dt)},useLayoutEffect:function(Ut,_t){return Kl(4194308,4,Ut,_t)},useInsertionEffect:function(Ut,_t){return Kl(4,2,Ut,_t)},useMemo:function(Ut,_t){var Dt=ws();return _t=_t===void 0?null:_t,Ut=Ut(),Dt.memoizedState=[Ut,_t],Ut},useReducer:function(Ut,_t,Dt){var jt=ws();return _t=Dt!==void 0?Dt(_t):_t,jt.memoizedState=jt.baseState=_t,Ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ut,lastRenderedState:_t},jt.queue=Ut,Ut=Ut.dispatch=Gm.bind(null,Ao,Ut),[jt.memoizedState,Ut]},useRef:function(Ut){var _t=ws();return Ut={current:Ut},_t.memoizedState=Ut},useState:Wu,useDebugValue:ju,useDeferredValue:function(Ut){var _t=Wu(Ut),Dt=_t[0],jt=_t[1];return Ju(function(){var Kt=fs.transition;fs.transition={};try{jt(Ut)}finally{fs.transition=Kt}},[Ut]),Dt},useTransition:function(){var Ut=Wu(!1),_t=Ut[0];return Ut=zm.bind(null,Ut[1]),ws().memoizedState=Ut,[_t,Ut]},useMutableSource:function(){},useSyncExternalStore:function(Ut,_t,Dt){var jt=Ao,Kt=ws();if(wo){if(Dt===void 0)throw Error(it(407));Dt=Dt()}else{if(Dt=_t(),Do===null)throw Error(it(349));xa&30||Dp(jt,_t,Dt)}Kt.memoizedState=Dt;var sn={value:Dt,getSnapshot:_t};return Kt.queue=sn,Ju(Ip.bind(null,jt,sn,Ut),[Ut]),jt.flags|=2048,Ql(9,kp.bind(null,jt,sn,Dt,_t),void 0,null),Dt},useId:function(){var Ut=ws(),_t=Do.identifierPrefix;if(wo){var Dt=Ts,jt=Bs;Dt=(jt&~(1<<32-Co(jt)-1)).toString(32)+Dt,_t=":"+_t+"R"+Dt,Dt=Tl++,0<Dt&&(_t+="H"+Dt.toString(32)),_t+=":"}else Dt=Zm++,_t=":"+_t+"r"+Dt.toString(32)+":";return Ut.memoizedState=_t},unstable_isNewReconciler:!1},Xm={readContext:us,useCallback:Zp,useContext:us,useEffect:xl,useImperativeHandle:jp,useInsertionEffect:Pp,useLayoutEffect:Wp,useMemo:zp,useReducer:Xl,useRef:Lp,useState:function(){return Xl(Js)},useDebugValue:ju,useDeferredValue:function(Ut){var _t=Xl(Js),Dt=_t[0],jt=_t[1];return xl(function(){var Kt=fs.transition;fs.transition={};try{jt(Ut)}finally{fs.transition=Kt}},[Ut]),Dt},useTransition:function(){var Ut=Xl(Js)[0],_t=Ss().memoizedState;return[Ut,_t]},useMutableSource:Np,useSyncExternalStore:Vp,useId:Gp,unstable_isNewReconciler:!1},Ym={readContext:us,useCallback:Zp,useContext:us,useEffect:xl,useImperativeHandle:jp,useInsertionEffect:Pp,useLayoutEffect:Wp,useMemo:zp,useReducer:Yl,useRef:Lp,useState:function(){return Yl(Js)},useDebugValue:ju,useDeferredValue:function(Ut){var _t=Yl(Js),Dt=_t[0],jt=_t[1];return xl(function(){var Kt=fs.transition;fs.transition={};try{jt(Ut)}finally{fs.transition=Kt}},[Ut]),Dt},useTransition:function(){var Ut=Yl(Js)[0],_t=Ss().memoizedState;return[Ut,_t]},useMutableSource:Np,useSyncExternalStore:Vp,useId:Gp,unstable_isNewReconciler:!1};function Zu(Ut,_t){try{var Dt="",jt=_t;do Dt+=Pr(jt),jt=jt.return;while(jt);var Kt=Dt}catch(sn){Kt=`
Error generating stack: `+sn.message+`
`+sn.stack}return{value:Ut,source:_t,stack:Kt}}function zu(Ut,_t){try{console.error(_t.value)}catch(Dt){setTimeout(function(){throw Dt})}}var Km=typeof WeakMap=="function"?WeakMap:Map;function Kp(Ut,_t,Dt){Dt=bs(-1,Dt),Dt.tag=3,Dt.payload={element:null};var jt=_t.value;return Dt.callback=function(){mu||(mu=!0,lp=jt),zu(Ut,_t)},Dt}function qp(Ut,_t,Dt){Dt=bs(-1,Dt),Dt.tag=3;var jt=Ut.type.getDerivedStateFromError;if(typeof jt=="function"){var Kt=_t.value;Dt.payload=function(){return jt(Kt)},Dt.callback=function(){zu(Ut,_t)}}var sn=Ut.stateNode;return sn!==null&&typeof sn.componentDidCatch=="function"&&(Dt.callback=function(){zu(Ut,_t),typeof jt!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var Tn=_t.stack;this.componentDidCatch(_t.value,{componentStack:Tn!==null?Tn:""})}),Dt}function _f(Ut,_t,Dt){var jt=Ut.pingCache;if(jt===null){jt=Ut.pingCache=new Km;var Kt=new Set;jt.set(_t,Kt)}else Kt=jt.get(_t),Kt===void 0&&(Kt=new Set,jt.set(_t,Kt));Kt.has(Dt)||(Kt.add(Dt),Ut=h0.bind(null,Ut,_t,Dt),_t.then(Ut,Ut))}function _g(Ut){do{var _t;if((_t=Ut.tag===13)&&(_t=Ut.memoizedState,_t=_t!==null?_t.dehydrated!==null:!0),_t)return Ut;Ut=Ut.return}while(Ut!==null);return null}function em(Ut,_t,Dt,jt,Kt){return Ut.mode&1?(Ut.flags|=65536,Ut.lanes=Kt,Ut):(Ut===_t?Ut.flags|=65536:(Ut.flags|=128,Dt.flags|=131072,Dt.flags&=-52805,Dt.tag===1&&(Dt.alternate===null?Dt.tag=17:(_t=bs(-1,1),_t.tag=2,Ns(Dt,_t))),Dt.lanes|=1),Ut)}function Rs(Ut){Ut.flags|=4}function tm(Ut,_t){if(Ut!==null&&Ut.child===_t.child)return!0;if(_t.flags&16)return!1;for(Ut=_t.child;Ut!==null;){if(Ut.flags&12854||Ut.subtreeFlags&12854)return!1;Ut=Ut.sibling}return!0}var Cl,Ml,tu,nu;if(Gt)Cl=function(Ut,_t){for(var Dt=_t.child;Dt!==null;){if(Dt.tag===5||Dt.tag===6)Jt(Ut,Dt.stateNode);else if(Dt.tag!==4&&Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}if(Dt===_t)break;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===_t)return;Dt=Dt.return}Dt.sibling.return=Dt.return,Dt=Dt.sibling}},Ml=function(){},tu=function(Ut,_t,Dt,jt,Kt){if(Ut=Ut.memoizedProps,Ut!==jt){var sn=_t.stateNode,Tn=_s(ps.current);Dt=Ht(sn,Dt,Ut,jt,Kt,Tn),(_t.updateQueue=Dt)&&Rs(_t)}},nu=function(Ut,_t,Dt,jt){Dt!==jt&&Rs(_t)};else if(en){Cl=function(Ut,_t,Dt,jt){for(var Kt=_t.child;Kt!==null;){if(Kt.tag===5){var sn=Kt.stateNode;Dt&&jt&&(sn=So(sn,Kt.type,Kt.memoizedProps,Kt)),Jt(Ut,sn)}else if(Kt.tag===6)sn=Kt.stateNode,Dt&&jt&&(sn=Kn(sn,Kt.memoizedProps,Kt)),Jt(Ut,sn);else if(Kt.tag!==4){if(Kt.tag===22&&Kt.memoizedState!==null)sn=Kt.child,sn!==null&&(sn.return=Kt),Cl(Ut,Kt,!0,!0);else if(Kt.child!==null){Kt.child.return=Kt,Kt=Kt.child;continue}}if(Kt===_t)break;for(;Kt.sibling===null;){if(Kt.return===null||Kt.return===_t)return;Kt=Kt.return}Kt.sibling.return=Kt.return,Kt=Kt.sibling}};var nm=function(Ut,_t,Dt,jt){for(var Kt=_t.child;Kt!==null;){if(Kt.tag===5){var sn=Kt.stateNode;Dt&&jt&&(sn=So(sn,Kt.type,Kt.memoizedProps,Kt)),co(Ut,sn)}else if(Kt.tag===6)sn=Kt.stateNode,Dt&&jt&&(sn=Kn(sn,Kt.memoizedProps,Kt)),co(Ut,sn);else if(Kt.tag!==4){if(Kt.tag===22&&Kt.memoizedState!==null)sn=Kt.child,sn!==null&&(sn.return=Kt),nm(Ut,Kt,!0,!0);else if(Kt.child!==null){Kt.child.return=Kt,Kt=Kt.child;continue}}if(Kt===_t)break;for(;Kt.sibling===null;){if(Kt.return===null||Kt.return===_t)return;Kt=Kt.return}Kt.sibling.return=Kt.return,Kt=Kt.sibling}};Ml=function(Ut,_t){var Dt=_t.stateNode;if(!tm(Ut,_t)){Ut=Dt.containerInfo;var jt=no(Ut);nm(jt,_t,!1,!1),Dt.pendingChildren=jt,Rs(_t),Eo(Ut,jt)}},tu=function(Ut,_t,Dt,jt,Kt){var sn=Ut.stateNode,Tn=Ut.memoizedProps;if((Ut=tm(Ut,_t))&&Tn===jt)_t.stateNode=sn;else{var kn=_t.stateNode,rr=_s(ps.current),gr=null;Tn!==jt&&(gr=Ht(kn,Dt,Tn,jt,Kt,rr)),Ut&&gr===null?_t.stateNode=sn:(sn=Or(sn,gr,Dt,Tn,jt,_t,Ut,kn),qt(sn,Dt,jt,Kt,rr)&&Rs(_t),_t.stateNode=sn,Ut?Rs(_t):Cl(sn,_t,!1,!1))}},nu=function(Ut,_t,Dt,jt){Dt!==jt?(Ut=_s(ga.current),Dt=_s(ps.current),_t.stateNode=Lt(jt,Ut,Dt,_t),Rs(_t)):_t.stateNode=Ut.stateNode}}else Ml=function(){},tu=function(){},nu=function(){};function Al(Ut,_t){if(!wo)switch(Ut.tailMode){case"hidden":_t=Ut.tail;for(var Dt=null;_t!==null;)_t.alternate!==null&&(Dt=_t),_t=_t.sibling;Dt===null?Ut.tail=null:Dt.sibling=null;break;case"collapsed":Dt=Ut.tail;for(var jt=null;Dt!==null;)Dt.alternate!==null&&(jt=Dt),Dt=Dt.sibling;jt===null?_t||Ut.tail===null?Ut.tail=null:Ut.tail.sibling=null:jt.sibling=null}}function zo(Ut){var _t=Ut.alternate!==null&&Ut.alternate.child===Ut.child,Dt=0,jt=0;if(_t)for(var Kt=Ut.child;Kt!==null;)Dt|=Kt.lanes|Kt.childLanes,jt|=Kt.subtreeFlags&14680064,jt|=Kt.flags&14680064,Kt.return=Ut,Kt=Kt.sibling;else for(Kt=Ut.child;Kt!==null;)Dt|=Kt.lanes|Kt.childLanes,jt|=Kt.subtreeFlags,jt|=Kt.flags,Kt.return=Ut,Kt=Kt.sibling;return Ut.subtreeFlags|=jt,Ut.childLanes=Dt,_t}function qm(Ut,_t,Dt){var jt=_t.pendingProps;switch(Cu(_t),_t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zo(_t),null;case 1:return io(_t.type)&&Oo(),zo(_t),null;case 3:return jt=_t.stateNode,ba(),vr(To),vr(Fo),Iu(),jt.pendingContext&&(jt.context=jt.pendingContext,jt.pendingContext=null),(Ut===null||Ut.child===null)&&(_l(_t)?Rs(_t):Ut===null||Ut.memoizedState.isDehydrated&&!(_t.flags&256)||(_t.flags|=1024,Us!==null&&(dp(Us),Us=null))),Ml(Ut,_t),zo(_t),null;case 5:Du(_t),Dt=_s(ga.current);var Kt=_t.type;if(Ut!==null&&_t.stateNode!=null)tu(Ut,_t,Kt,jt,Dt),Ut.ref!==_t.ref&&(_t.flags|=512,_t.flags|=2097152);else{if(!jt){if(_t.stateNode===null)throw Error(it(166));return zo(_t),null}if(Ut=_s(ps.current),_l(_t)){if(!cn)throw Error(it(175));Ut=_r(_t.stateNode,_t.type,_t.memoizedProps,Dt,Ut,_t,!Fl),_t.updateQueue=Ut,Ut!==null&&Rs(_t)}else{var sn=Wt(Kt,jt,Dt,Ut,_t);Cl(sn,_t,!1,!1),_t.stateNode=sn,qt(sn,Kt,jt,Dt,Ut)&&Rs(_t)}_t.ref!==null&&(_t.flags|=512,_t.flags|=2097152)}return zo(_t),null;case 6:if(Ut&&_t.stateNode!=null)nu(Ut,_t,Ut.memoizedProps,jt);else{if(typeof jt!="string"&&_t.stateNode===null)throw Error(it(166));if(Ut=_s(ga.current),Dt=_s(ps.current),_l(_t)){if(!cn)throw Error(it(176));if(Ut=_t.stateNode,jt=_t.memoizedProps,(Dt=Gr(Ut,jt,_t,!Fl))&&(Kt=rs,Kt!==null))switch(sn=(Kt.mode&1)!==0,Kt.tag){case 3:pr(Kt.stateNode.containerInfo,Ut,jt,sn);break;case 5:mr(Kt.type,Kt.memoizedProps,Kt.stateNode,Ut,jt,sn)}Dt&&Rs(_t)}else _t.stateNode=Lt(jt,Ut,Dt,_t)}return zo(_t),null;case 13:if(vr(Qo),jt=_t.memoizedState,wo&&os!==null&&_t.mode&1&&!(_t.flags&128)){for(Ut=os;Ut;)Ut=$n(Ut);return qs(),_t.flags|=98560,_t}if(jt!==null&&jt.dehydrated!==null){if(jt=_l(_t),Ut===null){if(!jt)throw Error(it(318));if(!cn)throw Error(it(344));if(Ut=_t.memoizedState,Ut=Ut!==null?Ut.dehydrated:null,!Ut)throw Error(it(317));Un(Ut,_t)}else qs(),!(_t.flags&128)&&(_t.memoizedState=null),_t.flags|=4;return zo(_t),null}return Us!==null&&(dp(Us),Us=null),_t.flags&128?(_t.lanes=Dt,_t):(jt=jt!==null,Dt=!1,Ut===null?_l(_t):Dt=Ut.memoizedState!==null,jt&&!Dt&&(_t.child.flags|=8192,_t.mode&1&&(Ut===null||Qo.current&1?Io===0&&(Io=3):pp())),_t.updateQueue!==null&&(_t.flags|=4),zo(_t),null);case 4:return ba(),Ml(Ut,_t),Ut===null&&dn(_t.stateNode.containerInfo),zo(_t),null;case 10:return bu(_t.type._context),zo(_t),null;case 17:return io(_t.type)&&Oo(),zo(_t),null;case 19:if(vr(Qo),Kt=_t.memoizedState,Kt===null)return zo(_t),null;if(jt=(_t.flags&128)!==0,sn=Kt.rendering,sn===null)if(jt)Al(Kt,!1);else{if(Io!==0||Ut!==null&&Ut.flags&128)for(Ut=_t.child;Ut!==null;){if(sn=Gl(Ut),sn!==null){for(_t.flags|=128,Al(Kt,!1),Ut=sn.updateQueue,Ut!==null&&(_t.updateQueue=Ut,_t.flags|=4),_t.subtreeFlags=0,Ut=Dt,jt=_t.child;jt!==null;)Dt=jt,Kt=Ut,Dt.flags&=14680066,sn=Dt.alternate,sn===null?(Dt.childLanes=0,Dt.lanes=Kt,Dt.child=null,Dt.subtreeFlags=0,Dt.memoizedProps=null,Dt.memoizedState=null,Dt.updateQueue=null,Dt.dependencies=null,Dt.stateNode=null):(Dt.childLanes=sn.childLanes,Dt.lanes=sn.lanes,Dt.child=sn.child,Dt.subtreeFlags=0,Dt.deletions=null,Dt.memoizedProps=sn.memoizedProps,Dt.memoizedState=sn.memoizedState,Dt.updateQueue=sn.updateQueue,Dt.type=sn.type,Kt=sn.dependencies,Dt.dependencies=Kt===null?null:{lanes:Kt.lanes,firstContext:Kt.firstContext}),jt=jt.sibling;return Kr(Qo,Qo.current&1|2),_t.child}Ut=Ut.sibling}Kt.tail!==null&&br()>ap&&(_t.flags|=128,jt=!0,Al(Kt,!1),_t.lanes=4194304)}else{if(!jt)if(Ut=Gl(sn),Ut!==null){if(_t.flags|=128,jt=!0,Ut=Ut.updateQueue,Ut!==null&&(_t.updateQueue=Ut,_t.flags|=4),Al(Kt,!0),Kt.tail===null&&Kt.tailMode==="hidden"&&!sn.alternate&&!wo)return zo(_t),null}else 2*br()-Kt.renderingStartTime>ap&&Dt!==1073741824&&(_t.flags|=128,jt=!0,Al(Kt,!1),_t.lanes=4194304);Kt.isBackwards?(sn.sibling=_t.child,_t.child=sn):(Ut=Kt.last,Ut!==null?Ut.sibling=sn:_t.child=sn,Kt.last=sn)}return Kt.tail!==null?(_t=Kt.tail,Kt.rendering=_t,Kt.tail=_t.sibling,Kt.renderingStartTime=br(),_t.sibling=null,Ut=Qo.current,Kr(Qo,jt?Ut&1|2:Ut&1),_t):(zo(_t),null);case 22:case 23:return hp(),jt=_t.memoizedState!==null,Ut!==null&&Ut.memoizedState!==null!==jt&&(_t.flags|=8192),jt&&_t.mode&1?as&1073741824&&(zo(_t),Gt&&_t.subtreeFlags&6&&(_t.flags|=8192)):zo(_t),null;case 24:return null;case 25:return null}throw Error(it(156,_t.tag))}var e0=ot.ReactCurrentOwner,ss=!1;function $o(Ut,_t,Dt,jt){_t.child=Ut===null?Mp(_t,null,Dt,jt):na(_t,Ut.child,Dt,jt)}function rm(Ut,_t,Dt,jt,Kt){Dt=Dt.render;var sn=_t.ref;return Xs(_t,Kt),jt=Lu(Ut,_t,Dt,jt,sn,Kt),Dt=Pu(),Ut!==null&&!ss?(_t.updateQueue=Ut.updateQueue,_t.flags&=-2053,Ut.lanes&=~Kt,Qs(Ut,_t,Kt)):(wo&&Dt&&xu(_t),_t.flags|=1,$o(Ut,_t,jt,Kt),_t.child)}function im(Ut,_t,Dt,jt,Kt){if(Ut===null){var sn=Dt.type;return typeof sn=="function"&&!fp(sn)&&sn.defaultProps===void 0&&Dt.compare===null&&Dt.defaultProps===void 0?(_t.tag=15,_t.type=sn,om(Ut,_t,sn,jt,Kt)):(Ut=Ru(Dt.type,null,jt,_t,_t.mode,Kt),Ut.ref=_t.ref,Ut.return=_t,_t.child=Ut)}if(sn=Ut.child,!(Ut.lanes&Kt)){var Tn=sn.memoizedProps;if(Dt=Dt.compare,Dt=Dt!==null?Dt:wr,Dt(Tn,jt)&&Ut.ref===_t.ref)return Qs(Ut,_t,Kt)}return _t.flags|=1,Ut=Os(sn,jt),Ut.ref=_t.ref,Ut.return=_t,_t.child=Ut}function om(Ut,_t,Dt,jt,Kt){if(Ut!==null&&wr(Ut.memoizedProps,jt)&&Ut.ref===_t.ref)if(ss=!1,(Ut.lanes&Kt)!==0)Ut.flags&131072&&(ss=!0);else return _t.lanes=Ut.lanes,Qs(Ut,_t,Kt);return Gu(Ut,_t,Dt,jt,Kt)}function sm(Ut,_t,Dt){var jt=_t.pendingProps,Kt=jt.children,sn=Ut!==null?Ut.memoizedState:null;if(jt.mode==="hidden")if(!(_t.mode&1))_t.memoizedState={baseLanes:0,cachePool:null},Kr($a,as),as|=Dt;else if(Dt&1073741824)_t.memoizedState={baseLanes:0,cachePool:null},jt=sn!==null?sn.baseLanes:Dt,Kr($a,as),as|=jt;else return Ut=sn!==null?sn.baseLanes|Dt:Dt,_t.lanes=_t.childLanes=1073741824,_t.memoizedState={baseLanes:Ut,cachePool:null},_t.updateQueue=null,Kr($a,as),as|=Ut,null;else sn!==null?(jt=sn.baseLanes|Dt,_t.memoizedState=null):jt=Dt,Kr($a,as),as|=jt;return $o(Ut,_t,Kt,Dt),_t.child}function am(Ut,_t){var Dt=_t.ref;(Ut===null&&Dt!==null||Ut!==null&&Ut.ref!==Dt)&&(_t.flags|=512,_t.flags|=2097152)}function Gu(Ut,_t,Dt,jt,Kt){var sn=io(Dt)?xo:Fo.current;return sn=Wo(_t,sn),Xs(_t,Kt),Dt=Lu(Ut,_t,Dt,jt,sn,Kt),jt=Pu(),Ut!==null&&!ss?(_t.updateQueue=Ut.updateQueue,_t.flags&=-2053,Ut.lanes&=~Kt,Qs(Ut,_t,Kt)):(wo&&jt&&xu(_t),_t.flags|=1,$o(Ut,_t,Dt,Kt),_t.child)}function lm(Ut,_t,Dt,jt,Kt){if(io(Dt)){var sn=!0;No(_t)}else sn=!1;if(Xs(_t,Kt),_t.stateNode===null)Ut!==null&&(Ut.alternate=null,_t.alternate=null,_t.flags|=2),Ep(_t,Dt,jt),Qu(_t,Dt,jt,Kt),jt=!0;else if(Ut===null){var Tn=_t.stateNode,kn=_t.memoizedProps;Tn.props=kn;var rr=Tn.context,gr=Dt.contextType;typeof gr=="object"&&gr!==null?gr=us(gr):(gr=io(Dt)?xo:Fo.current,gr=Wo(_t,gr));var Vr=Dt.getDerivedStateFromProps,oo=typeof Vr=="function"||typeof Tn.getSnapshotBeforeUpdate=="function";oo||typeof Tn.UNSAFE_componentWillReceiveProps!="function"&&typeof Tn.componentWillReceiveProps!="function"||(kn!==jt||rr!==gr)&&bp(_t,Tn,jt,gr),As=!1;var _i=_t.memoizedState;Tn.state=_i,Pl(_t,jt,Tn,Kt),rr=_t.memoizedState,kn!==jt||_i!==rr||To.current||As?(typeof Vr=="function"&&(wu(_t,Dt,Vr,jt),rr=_t.memoizedState),(kn=As||Rp(_t,Dt,kn,jt,_i,rr,gr))?(oo||typeof Tn.UNSAFE_componentWillMount!="function"&&typeof Tn.componentWillMount!="function"||(typeof Tn.componentWillMount=="function"&&Tn.componentWillMount(),typeof Tn.UNSAFE_componentWillMount=="function"&&Tn.UNSAFE_componentWillMount()),typeof Tn.componentDidMount=="function"&&(_t.flags|=4194308)):(typeof Tn.componentDidMount=="function"&&(_t.flags|=4194308),_t.memoizedProps=jt,_t.memoizedState=rr),Tn.props=jt,Tn.state=rr,Tn.context=gr,jt=kn):(typeof Tn.componentDidMount=="function"&&(_t.flags|=4194308),jt=!1)}else{Tn=_t.stateNode,Fp(Ut,_t),kn=_t.memoizedProps,gr=_t.type===_t.elementType?kn:eo(_t.type,kn),Tn.props=gr,oo=_t.pendingProps,_i=Tn.context,rr=Dt.contextType,typeof rr=="object"&&rr!==null?rr=us(rr):(rr=io(Dt)?xo:Fo.current,rr=Wo(_t,rr));var Bo=Dt.getDerivedStateFromProps;(Vr=typeof Bo=="function"||typeof Tn.getSnapshotBeforeUpdate=="function")||typeof Tn.UNSAFE_componentWillReceiveProps!="function"&&typeof Tn.componentWillReceiveProps!="function"||(kn!==oo||_i!==rr)&&bp(_t,Tn,jt,rr),As=!1,_i=_t.memoizedState,Tn.state=_i,Pl(_t,jt,Tn,Kt);var Zr=_t.memoizedState;kn!==oo||_i!==Zr||To.current||As?(typeof Bo=="function"&&(wu(_t,Dt,Bo,jt),Zr=_t.memoizedState),(gr=As||Rp(_t,Dt,gr,jt,_i,Zr,rr)||!1)?(Vr||typeof Tn.UNSAFE_componentWillUpdate!="function"&&typeof Tn.componentWillUpdate!="function"||(typeof Tn.componentWillUpdate=="function"&&Tn.componentWillUpdate(jt,Zr,rr),typeof Tn.UNSAFE_componentWillUpdate=="function"&&Tn.UNSAFE_componentWillUpdate(jt,Zr,rr)),typeof Tn.componentDidUpdate=="function"&&(_t.flags|=4),typeof Tn.getSnapshotBeforeUpdate=="function"&&(_t.flags|=1024)):(typeof Tn.componentDidUpdate!="function"||kn===Ut.memoizedProps&&_i===Ut.memoizedState||(_t.flags|=4),typeof Tn.getSnapshotBeforeUpdate!="function"||kn===Ut.memoizedProps&&_i===Ut.memoizedState||(_t.flags|=1024),_t.memoizedProps=jt,_t.memoizedState=Zr),Tn.props=jt,Tn.state=Zr,Tn.context=rr,jt=gr):(typeof Tn.componentDidUpdate!="function"||kn===Ut.memoizedProps&&_i===Ut.memoizedState||(_t.flags|=4),typeof Tn.getSnapshotBeforeUpdate!="function"||kn===Ut.memoizedProps&&_i===Ut.memoizedState||(_t.flags|=1024),jt=!1)}return Hu(Ut,_t,Dt,jt,sn,Kt)}function Hu(Ut,_t,Dt,jt,Kt,sn){am(Ut,_t);var Tn=(_t.flags&128)!==0;if(!jt&&!Tn)return Kt&&Yo(_t,Dt,!1),Qs(Ut,_t,sn);jt=_t.stateNode,e0.current=_t;var kn=Tn&&typeof Dt.getDerivedStateFromError!="function"?null:jt.render();return _t.flags|=1,Ut!==null&&Tn?(_t.child=na(_t,Ut.child,null,sn),_t.child=na(_t,null,kn,sn)):$o(Ut,_t,kn,sn),_t.memoizedState=jt.state,Kt&&Yo(_t,Dt,!0),_t.child}function cm(Ut){var _t=Ut.stateNode;_t.pendingContext?ls(Ut,_t.pendingContext,_t.pendingContext!==_t.context):_t.context&&ls(Ut,_t.context,!1),Vu(Ut,_t.containerInfo)}function um(Ut,_t,Dt,jt,Kt){return qs(),Nu(Kt),_t.flags|=256,$o(Ut,_t,Dt,jt),_t.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function iu(Ut){return{baseLanes:Ut,cachePool:null}}function dm(Ut,_t,Dt){var jt=_t.pendingProps,Kt=Qo.current,sn=!1,Tn=(_t.flags&128)!==0,kn;if((kn=Tn)||(kn=Ut!==null&&Ut.memoizedState===null?!1:(Kt&2)!==0),kn?(sn=!0,_t.flags&=-129):(Ut===null||Ut.memoizedState!==null)&&(Kt|=1),Kr(Qo,Kt&1),Ut===null)return Au(_t),Ut=_t.memoizedState,Ut!==null&&(Ut=Ut.dehydrated,Ut!==null)?(_t.mode&1?Nn(Ut)?_t.lanes=8:_t.lanes=1073741824:_t.lanes=1,null):(Kt=jt.children,Ut=jt.fallback,sn?(jt=_t.mode,sn=_t.child,Kt={mode:"hidden",children:Kt},!(jt&1)&&sn!==null?(sn.childLanes=0,sn.pendingProps=Kt):sn=Eu(Kt,jt,0,null),Ut=$s(Ut,jt,Dt,null),sn.return=_t,Ut.return=_t,sn.sibling=Ut,_t.child=sn,_t.child.memoizedState=iu(Dt),_t.memoizedState=ru,Ut):$u(_t,Kt));if(Kt=Ut.memoizedState,Kt!==null){if(kn=Kt.dehydrated,kn!==null){if(Tn)return _t.flags&256?(_t.flags&=-257,ou(Ut,_t,Dt,Error(it(422)))):_t.memoizedState!==null?(_t.child=Ut.child,_t.flags|=128,null):(sn=jt.fallback,Kt=_t.mode,jt=Eu({mode:"visible",children:jt.children},Kt,0,null),sn=$s(sn,Kt,Dt,null),sn.flags|=2,jt.return=_t,sn.return=_t,jt.sibling=sn,_t.child=jt,_t.mode&1&&na(_t,Ut.child,null,Dt),_t.child.memoizedState=iu(Dt),_t.memoizedState=ru,sn);if(!(_t.mode&1))_t=ou(Ut,_t,Dt,null);else if(Nn(kn))_t=ou(Ut,_t,Dt,Error(it(419)));else if(jt=(Dt&Ut.childLanes)!==0,ss||jt){if(jt=Do,jt!==null){switch(Dt&-Dt){case 4:sn=2;break;case 16:sn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:sn=32;break;case 536870912:sn=268435456;break;default:sn=0}jt=sn&(jt.suspendedLanes|Dt)?0:sn,jt!==0&&jt!==Kt.retryLane&&(Kt.retryLane=jt,gs(Ut,jt,-1))}pp(),_t=ou(Ut,_t,Dt,Error(it(421)))}else Qn(kn)?(_t.flags|=128,_t.child=Ut.child,_t=p0.bind(null,Ut),In(kn,_t),_t=null):(Dt=Kt.treeContext,cn&&(os=Dn(kn),rs=_t,wo=!0,Us=null,Fl=!1,Dt!==null&&(ds[hs++]=Bs,ds[hs++]=Ts,ds[hs++]=Ps,Bs=Dt.id,Ts=Dt.overflow,Ps=_t)),_t=$u(_t,_t.pendingProps.children),_t.flags|=4096);return _t}return sn?(jt=pm(Ut,_t,jt.children,jt.fallback,Dt),sn=_t.child,Kt=Ut.child.memoizedState,sn.memoizedState=Kt===null?iu(Dt):{baseLanes:Kt.baseLanes|Dt,cachePool:null},sn.childLanes=Ut.childLanes&~Dt,_t.memoizedState=ru,jt):(Dt=hm(Ut,_t,jt.children,Dt),_t.memoizedState=null,Dt)}return sn?(jt=pm(Ut,_t,jt.children,jt.fallback,Dt),sn=_t.child,Kt=Ut.child.memoizedState,sn.memoizedState=Kt===null?iu(Dt):{baseLanes:Kt.baseLanes|Dt,cachePool:null},sn.childLanes=Ut.childLanes&~Dt,_t.memoizedState=ru,jt):(Dt=hm(Ut,_t,jt.children,Dt),_t.memoizedState=null,Dt)}function $u(Ut,_t){return _t=Eu({mode:"visible",children:_t},Ut.mode,0,null),_t.return=Ut,Ut.child=_t}function hm(Ut,_t,Dt,jt){var Kt=Ut.child;return Ut=Kt.sibling,Dt=Os(Kt,{mode:"visible",children:Dt}),!(_t.mode&1)&&(Dt.lanes=jt),Dt.return=_t,Dt.sibling=null,Ut!==null&&(jt=_t.deletions,jt===null?(_t.deletions=[Ut],_t.flags|=16):jt.push(Ut)),_t.child=Dt}function pm(Ut,_t,Dt,jt,Kt){var sn=_t.mode;Ut=Ut.child;var Tn=Ut.sibling,kn={mode:"hidden",children:Dt};return!(sn&1)&&_t.child!==Ut?(Dt=_t.child,Dt.childLanes=0,Dt.pendingProps=kn,_t.deletions=null):(Dt=Os(Ut,kn),Dt.subtreeFlags=Ut.subtreeFlags&14680064),Tn!==null?jt=Os(Tn,jt):(jt=$s(jt,sn,Kt,null),jt.flags|=2),jt.return=_t,Dt.return=_t,Dt.sibling=jt,_t.child=Dt,jt}function ou(Ut,_t,Dt,jt){return jt!==null&&Nu(jt),na(_t,Ut.child,null,Dt),Ut=$u(_t,_t.pendingProps.children),Ut.flags|=2,_t.memoizedState=null,Ut}function fm(Ut,_t,Dt){Ut.lanes|=_t;var jt=Ut.alternate;jt!==null&&(jt.lanes|=_t),Bu(Ut.return,_t,Dt)}function Xu(Ut,_t,Dt,jt,Kt){var sn=Ut.memoizedState;sn===null?Ut.memoizedState={isBackwards:_t,rendering:null,renderingStartTime:0,last:jt,tail:Dt,tailMode:Kt}:(sn.isBackwards=_t,sn.rendering=null,sn.renderingStartTime=0,sn.last=jt,sn.tail=Dt,sn.tailMode=Kt)}function gm(Ut,_t,Dt){var jt=_t.pendingProps,Kt=jt.revealOrder,sn=jt.tail;if($o(Ut,_t,jt.children,Dt),jt=Qo.current,jt&2)jt=jt&1|2,_t.flags|=128;else{if(Ut!==null&&Ut.flags&128)e:for(Ut=_t.child;Ut!==null;){if(Ut.tag===13)Ut.memoizedState!==null&&fm(Ut,Dt,_t);else if(Ut.tag===19)fm(Ut,Dt,_t);else if(Ut.child!==null){Ut.child.return=Ut,Ut=Ut.child;continue}if(Ut===_t)break e;for(;Ut.sibling===null;){if(Ut.return===null||Ut.return===_t)break e;Ut=Ut.return}Ut.sibling.return=Ut.return,Ut=Ut.sibling}jt&=1}if(Kr(Qo,jt),!(_t.mode&1))_t.memoizedState=null;else switch(Kt){case"forwards":for(Dt=_t.child,Kt=null;Dt!==null;)Ut=Dt.alternate,Ut!==null&&Gl(Ut)===null&&(Kt=Dt),Dt=Dt.sibling;Dt=Kt,Dt===null?(Kt=_t.child,_t.child=null):(Kt=Dt.sibling,Dt.sibling=null),Xu(_t,!1,Kt,Dt,sn);break;case"backwards":for(Dt=null,Kt=_t.child,_t.child=null;Kt!==null;){if(Ut=Kt.alternate,Ut!==null&&Gl(Ut)===null){_t.child=Kt;break}Ut=Kt.sibling,Kt.sibling=Dt,Dt=Kt,Kt=Ut}Xu(_t,!0,Dt,null,sn);break;case"together":Xu(_t,!1,null,null,void 0);break;default:_t.memoizedState=null}return _t.child}function Qs(Ut,_t,Dt){if(Ut!==null&&(_t.dependencies=Ut.dependencies),yl|=_t.lanes,!(Dt&_t.childLanes))return null;if(Ut!==null&&_t.child!==Ut.child)throw Error(it(153));if(_t.child!==null){for(Ut=_t.child,Dt=Os(Ut,Ut.pendingProps),_t.child=Dt,Dt.return=_t;Ut.sibling!==null;)Ut=Ut.sibling,Dt=Dt.sibling=Os(Ut,Ut.pendingProps),Dt.return=_t;Dt.sibling=null}return _t.child}function t0(Ut,_t,Dt){switch(_t.tag){case 3:cm(_t),qs();break;case 5:Ap(_t);break;case 1:io(_t.type)&&No(_t);break;case 4:Vu(_t,_t.stateNode.containerInfo);break;case 10:Ho(_t,_t.type._context,_t.memoizedProps.value);break;case 13:var jt=_t.memoizedState;if(jt!==null)return jt.dehydrated!==null?(Kr(Qo,Qo.current&1),_t.flags|=128,null):Dt&_t.child.childLanes?dm(Ut,_t,Dt):(Kr(Qo,Qo.current&1),Ut=Qs(Ut,_t,Dt),Ut!==null?Ut.sibling:null);Kr(Qo,Qo.current&1);break;case 19:if(jt=(Dt&_t.childLanes)!==0,Ut.flags&128){if(jt)return gm(Ut,_t,Dt);_t.flags|=128}var Kt=_t.memoizedState;if(Kt!==null&&(Kt.rendering=null,Kt.tail=null,Kt.lastEffect=null),Kr(Qo,Qo.current),jt)break;return null;case 22:case 23:return _t.lanes=0,sm(Ut,_t,Dt)}return Qs(Ut,_t,Dt)}function n0(Ut,_t){switch(Cu(_t),_t.tag){case 1:return io(_t.type)&&Oo(),Ut=_t.flags,Ut&65536?(_t.flags=Ut&-65537|128,_t):null;case 3:return ba(),vr(To),vr(Fo),Iu(),Ut=_t.flags,Ut&65536&&!(Ut&128)?(_t.flags=Ut&-65537|128,_t):null;case 5:return Du(_t),null;case 13:if(vr(Qo),Ut=_t.memoizedState,Ut!==null&&Ut.dehydrated!==null){if(_t.alternate===null)throw Error(it(340));qs()}return Ut=_t.flags,Ut&65536?(_t.flags=Ut&-65537|128,_t):null;case 19:return vr(Qo),null;case 4:return ba(),null;case 10:return bu(_t.type._context),null;case 22:case 23:return hp(),null;case 24:return null;default:return null}}var su=!1,js=!1,r0=typeof WeakSet=="function"?WeakSet:Set,xr=null;function au(Ut,_t){var Dt=Ut.ref;if(Dt!==null)if(typeof Dt=="function")try{Dt(null)}catch(jt){ns(Ut,_t,jt)}else Dt.current=null}function Yu(Ut,_t,Dt){try{Dt()}catch(jt){ns(Ut,_t,jt)}}var mm=!1;function i0(Ut,_t){for(Ot(Ut.containerInfo),xr=_t;xr!==null;)if(Ut=xr,_t=Ut.child,(Ut.subtreeFlags&1028)!==0&&_t!==null)_t.return=Ut,xr=_t;else for(;xr!==null;){Ut=xr;try{var Dt=Ut.alternate;if(Ut.flags&1024)switch(Ut.tag){case 0:case 11:case 15:break;case 1:if(Dt!==null){var jt=Dt.memoizedProps,Kt=Dt.memoizedState,sn=Ut.stateNode,Tn=sn.getSnapshotBeforeUpdate(Ut.elementType===Ut.type?jt:eo(Ut.type,jt),Kt);sn.__reactInternalSnapshotBeforeUpdate=Tn}break;case 3:Gt&&fr(Ut.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(kn){ns(Ut,Ut.return,kn)}if(_t=Ut.sibling,_t!==null){_t.return=Ut.return,xr=_t;break}xr=Ut.return}return Dt=mm,mm=!1,Dt}function Zs(Ut,_t,Dt){var jt=_t.updateQueue;if(jt=jt!==null?jt.lastEffect:null,jt!==null){var Kt=jt=jt.next;do{if((Kt.tag&Ut)===Ut){var sn=Kt.destroy;Kt.destroy=void 0,sn!==void 0&&Yu(_t,Dt,sn)}Kt=Kt.next}while(Kt!==jt)}}function Nl(Ut,_t){if(_t=_t.updateQueue,_t=_t!==null?_t.lastEffect:null,_t!==null){var Dt=_t=_t.next;do{if((Dt.tag&Ut)===Ut){var jt=Dt.create;Dt.destroy=jt()}Dt=Dt.next}while(Dt!==_t)}}function Ku(Ut){var _t=Ut.ref;if(_t!==null){var Dt=Ut.stateNode;switch(Ut.tag){case 5:Ut=Mt(Dt);break;default:Ut=Dt}typeof _t=="function"?_t(Ut):_t.current=Ut}}function ym(Ut,_t,Dt){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(po,_t)}catch{}switch(_t.tag){case 0:case 11:case 14:case 15:if(Ut=_t.updateQueue,Ut!==null&&(Ut=Ut.lastEffect,Ut!==null)){var jt=Ut=Ut.next;do{var Kt=jt,sn=Kt.destroy;Kt=Kt.tag,sn!==void 0&&(Kt&2||Kt&4)&&Yu(_t,Dt,sn),jt=jt.next}while(jt!==Ut)}break;case 1:if(au(_t,Dt),Ut=_t.stateNode,typeof Ut.componentWillUnmount=="function")try{Ut.props=_t.memoizedProps,Ut.state=_t.memoizedState,Ut.componentWillUnmount()}catch(Tn){ns(_t,Dt,Tn)}break;case 5:au(_t,Dt);break;case 4:Gt?Rm(Ut,_t,Dt):en&&en&&(_t=_t.stateNode.containerInfo,Dt=no(_t),Ir(_t,Dt))}}function Um(Ut,_t,Dt){for(var jt=_t;;)if(ym(Ut,jt,Dt),jt.child===null||Gt&&jt.tag===4){if(jt===_t)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===_t)return;jt=jt.return}jt.sibling.return=jt.return,jt=jt.sibling}else jt.child.return=jt,jt=jt.child}function Fm(Ut){var _t=Ut.alternate;_t!==null&&(Ut.alternate=null,Fm(_t)),Ut.child=null,Ut.deletions=null,Ut.sibling=null,Ut.tag===5&&(_t=Ut.stateNode,_t!==null&&pn(_t)),Ut.stateNode=null,Ut.return=null,Ut.dependencies=null,Ut.memoizedProps=null,Ut.memoizedState=null,Ut.pendingProps=null,Ut.stateNode=null,Ut.updateQueue=null}function vm(Ut){return Ut.tag===5||Ut.tag===3||Ut.tag===4}function _m(Ut){e:for(;;){for(;Ut.sibling===null;){if(Ut.return===null||vm(Ut.return))return null;Ut=Ut.return}for(Ut.sibling.return=Ut.return,Ut=Ut.sibling;Ut.tag!==5&&Ut.tag!==6&&Ut.tag!==18;){if(Ut.flags&2||Ut.child===null||Ut.tag===4)continue e;Ut.child.return=Ut,Ut=Ut.child}if(!(Ut.flags&2))return Ut.stateNode}}function Sm(Ut){if(Gt){e:{for(var _t=Ut.return;_t!==null;){if(vm(_t))break e;_t=_t.return}throw Error(it(160))}var Dt=_t;switch(Dt.tag){case 5:_t=Dt.stateNode,Dt.flags&32&&(Jr(_t),Dt.flags&=-33),Dt=_m(Ut),_d(Ut,Dt,_t);break;case 3:case 4:_t=Dt.stateNode.containerInfo,Dt=_m(Ut),qu(Ut,Dt,_t);break;default:throw Error(it(161))}}}function qu(Ut,_t,Dt){var jt=Ut.tag;if(jt===5||jt===6)Ut=Ut.stateNode,_t?Ur(Dt,Ut,_t):Ar(Dt,Ut);else if(jt!==4&&(Ut=Ut.child,Ut!==null))for(qu(Ut,_t,Dt),Ut=Ut.sibling;Ut!==null;)qu(Ut,_t,Dt),Ut=Ut.sibling}function _d(Ut,_t,Dt){var jt=Ut.tag;if(jt===5||jt===6)Ut=Ut.stateNode,_t?Sr(Dt,Ut,_t):nr(Dt,Ut);else if(jt!==4&&(Ut=Ut.child,Ut!==null))for(_d(Ut,_t,Dt),Ut=Ut.sibling;Ut!==null;)_d(Ut,_t,Dt),Ut=Ut.sibling}function Rm(Ut,_t,Dt){for(var jt=_t,Kt=!1,sn,Tn;;){if(!Kt){Kt=jt.return;e:for(;;){if(Kt===null)throw Error(it(160));switch(sn=Kt.stateNode,Kt.tag){case 5:Tn=!1;break e;case 3:sn=sn.containerInfo,Tn=!0;break e;case 4:sn=sn.containerInfo,Tn=!0;break e}Kt=Kt.return}Kt=!0}if(jt.tag===5||jt.tag===6)Um(Ut,jt,Dt),Tn?Wr(sn,jt.stateNode):Xr(sn,jt.stateNode);else if(jt.tag===18)Tn?cr(sn,jt.stateNode):Ln(sn,jt.stateNode);else if(jt.tag===4){if(jt.child!==null){sn=jt.stateNode.containerInfo,Tn=!0,jt.child.return=jt,jt=jt.child;continue}}else if(ym(Ut,jt,Dt),jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===_t)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===_t)return;jt=jt.return,jt.tag===4&&(Kt=!1)}jt.sibling.return=jt.return,jt=jt.sibling}}function _h(Ut,_t){if(Gt){switch(_t.tag){case 0:case 11:case 14:case 15:Zs(3,_t,_t.return),Nl(3,_t),Zs(5,_t,_t.return);return;case 1:return;case 5:var Dt=_t.stateNode;if(Dt!=null){var jt=_t.memoizedProps;Ut=Ut!==null?Ut.memoizedProps:jt;var Kt=_t.type,sn=_t.updateQueue;_t.updateQueue=null,sn!==null&&$r(Dt,sn,Kt,Ut,jt,_t)}return;case 6:if(_t.stateNode===null)throw Error(it(162));Dt=_t.memoizedProps,ur(_t.stateNode,Ut!==null?Ut.memoizedProps:Dt,Dt);return;case 3:cn&&Ut!==null&&Ut.memoizedState.isDehydrated&&jn(_t.stateNode.containerInfo);return;case 12:return;case 13:lu(_t);return;case 19:lu(_t);return;case 17:return}throw Error(it(163))}switch(_t.tag){case 0:case 11:case 14:case 15:Zs(3,_t,_t.return),Nl(3,_t),Zs(5,_t,_t.return);return;case 12:return;case 13:lu(_t);return;case 19:lu(_t);return;case 3:cn&&Ut!==null&&Ut.memoizedState.isDehydrated&&jn(_t.stateNode.containerInfo);break;case 22:case 23:return}e:if(en){switch(_t.tag){case 1:case 5:case 6:break e;case 3:case 4:_t=_t.stateNode,Ir(_t.containerInfo,_t.pendingChildren);break e}throw Error(it(163))}}function lu(Ut){var _t=Ut.updateQueue;if(_t!==null){Ut.updateQueue=null;var Dt=Ut.stateNode;Dt===null&&(Dt=Ut.stateNode=new r0),_t.forEach(function(jt){var Kt=f0.bind(null,Ut,jt);Dt.has(jt)||(Dt.add(jt),jt.then(Kt,Kt))})}}function o0(Ut,_t){for(xr=_t;xr!==null;){_t=xr;var Dt=_t.deletions;if(Dt!==null)for(var jt=0;jt<Dt.length;jt++){var Kt=Dt[jt];try{var sn=Ut;Gt?Rm(sn,Kt,_t):Um(sn,Kt,_t);var Tn=Kt.alternate;Tn!==null&&(Tn.return=null),Kt.return=null}catch(jr){ns(Kt,_t,jr)}}if(Dt=_t.child,_t.subtreeFlags&12854&&Dt!==null)Dt.return=_t,xr=Dt;else for(;xr!==null;){_t=xr;try{var kn=_t.flags;if(kn&32&&Gt&&Jr(_t.stateNode),kn&512){var rr=_t.alternate;if(rr!==null){var gr=rr.ref;gr!==null&&(typeof gr=="function"?gr(null):gr.current=null)}}if(kn&8192)switch(_t.tag){case 13:if(_t.memoizedState!==null){var Vr=_t.alternate;(Vr===null||Vr.memoizedState===null)&&(sp=br())}break;case 22:var oo=_t.memoizedState!==null,_i=_t.alternate,Bo=_i!==null&&_i.memoizedState!==null;if(Dt=_t,Gt){e:if(jt=Dt,Kt=oo,sn=null,Gt)for(var Zr=jt;;){if(Zr.tag===5){if(sn===null){sn=Zr;var Go=Zr.stateNode;Kt?An(Go):er(Zr.stateNode,Zr.memoizedProps)}}else if(Zr.tag===6){if(sn===null){var ys=Zr.stateNode;Kt?Br(ys):ar(ys,Zr.memoizedProps)}}else if((Zr.tag!==22&&Zr.tag!==23||Zr.memoizedState===null||Zr===jt)&&Zr.child!==null){Zr.child.return=Zr,Zr=Zr.child;continue}if(Zr===jt)break;for(;Zr.sibling===null;){if(Zr.return===null||Zr.return===jt)break e;sn===Zr&&(sn=null),Zr=Zr.return}sn===Zr&&(sn=null),Zr.sibling.return=Zr.return,Zr=Zr.sibling}}if(oo&&!Bo&&Dt.mode&1){xr=Dt;for(var Hn=Dt.child;Hn!==null;){for(Dt=xr=Hn;xr!==null;){jt=xr;var Wn=jt.child;switch(jt.tag){case 0:case 11:case 14:case 15:Zs(4,jt,jt.return);break;case 1:au(jt,jt.return);var qn=jt.stateNode;if(typeof qn.componentWillUnmount=="function"){var Mr=jt.return;try{qn.props=jt.memoizedProps,qn.state=jt.memoizedState,qn.componentWillUnmount()}catch(jr){ns(jt,Mr,jr)}}break;case 5:au(jt,jt.return);break;case 22:if(jt.memoizedState!==null){Bm(Dt);continue}}Wn!==null?(Wn.return=jt,xr=Wn):Bm(Dt)}Hn=Hn.sibling}}}switch(kn&4102){case 2:Sm(_t),_t.flags&=-3;break;case 6:Sm(_t),_t.flags&=-3,_h(_t.alternate,_t);break;case 4096:_t.flags&=-4097;break;case 4100:_t.flags&=-4097,_h(_t.alternate,_t);break;case 4:_h(_t.alternate,_t)}}catch(jr){ns(_t,_t.return,jr)}if(Dt=_t.sibling,Dt!==null){Dt.return=_t.return,xr=Dt;break}xr=_t.return}}}function s0(Ut,_t,Dt){xr=Ut,Em(Ut)}function Em(Ut,_t,Dt){for(var jt=(Ut.mode&1)!==0;xr!==null;){var Kt=xr,sn=Kt.child;if(Kt.tag===22&&jt){var Tn=Kt.memoizedState!==null||su;if(!Tn){var kn=Kt.alternate,rr=kn!==null&&kn.memoizedState!==null||js;kn=su;var gr=js;if(su=Tn,(js=rr)&&!gr)for(xr=Kt;xr!==null;)Tn=xr,rr=Tn.child,Tn.tag===22&&Tn.memoizedState!==null?Tm(Kt):rr!==null?(rr.return=Tn,xr=rr):Tm(Kt);for(;sn!==null;)xr=sn,Em(sn),sn=sn.sibling;xr=Kt,su=kn,js=gr}bm(Ut)}else Kt.subtreeFlags&8772&&sn!==null?(sn.return=Kt,xr=sn):bm(Ut)}}function bm(Ut){for(;xr!==null;){var _t=xr;if(_t.flags&8772){var Dt=_t.alternate;try{if(_t.flags&8772)switch(_t.tag){case 0:case 11:case 15:js||Nl(5,_t);break;case 1:var jt=_t.stateNode;if(_t.flags&4&&!js)if(Dt===null)jt.componentDidMount();else{var Kt=_t.elementType===_t.type?Dt.memoizedProps:eo(_t.type,Dt.memoizedProps);jt.componentDidUpdate(Kt,Dt.memoizedState,jt.__reactInternalSnapshotBeforeUpdate)}var sn=_t.updateQueue;sn!==null&&_p(_t,sn,jt);break;case 3:var Tn=_t.updateQueue;if(Tn!==null){if(Dt=null,_t.child!==null)switch(_t.child.tag){case 5:Dt=Mt(_t.child.stateNode);break;case 1:Dt=_t.child.stateNode}_p(_t,Tn,Dt)}break;case 5:var kn=_t.stateNode;Dt===null&&_t.flags&4&&Fr(kn,_t.type,_t.memoizedProps,_t);break;case 6:break;case 4:break;case 12:break;case 13:if(cn&&_t.memoizedState===null){var rr=_t.alternate;if(rr!==null){var gr=rr.memoizedState;if(gr!==null){var Vr=gr.dehydrated;Vr!==null&&Zn(Vr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(it(163))}js||_t.flags&512&&Ku(_t)}catch(oo){ns(_t,_t.return,oo)}}if(_t===Ut){xr=null;break}if(Dt=_t.sibling,Dt!==null){Dt.return=_t.return,xr=Dt;break}xr=_t.return}}function Bm(Ut){for(;xr!==null;){var _t=xr;if(_t===Ut){xr=null;break}var Dt=_t.sibling;if(Dt!==null){Dt.return=_t.return,xr=Dt;break}xr=_t.return}}function Tm(Ut){for(;xr!==null;){var _t=xr;try{switch(_t.tag){case 0:case 11:case 15:var Dt=_t.return;try{Nl(4,_t)}catch(rr){ns(_t,Dt,rr)}break;case 1:var jt=_t.stateNode;if(typeof jt.componentDidMount=="function"){var Kt=_t.return;try{jt.componentDidMount()}catch(rr){ns(_t,Kt,rr)}}var sn=_t.return;try{Ku(_t)}catch(rr){ns(_t,sn,rr)}break;case 5:var Tn=_t.return;try{Ku(_t)}catch(rr){ns(_t,Tn,rr)}}}catch(rr){ns(_t,_t.return,rr)}if(_t===Ut){xr=null;break}var kn=_t.sibling;if(kn!==null){kn.return=_t.return,xr=kn;break}xr=_t.return}}var cu=0,uu=1,du=2,hu=3,pu=4;if(typeof Symbol=="function"&&Symbol.for){var Vl=Symbol.for;cu=Vl("selector.component"),uu=Vl("selector.has_pseudo_class"),du=Vl("selector.role"),hu=Vl("selector.test_id"),pu=Vl("selector.text")}function ep(Ut){var _t=Zt(Ut);if(_t!=null){if(typeof _t.memoizedProps["data-testname"]!="string")throw Error(it(364));return _t}if(Ut=rn(Ut),Ut===null)throw Error(it(362));return Ut.stateNode.current}function tp(Ut,_t){switch(_t.$$typeof){case cu:if(Ut.type===_t.value)return!0;break;case uu:e:{_t=_t.value,Ut=[Ut,0];for(var Dt=0;Dt<Ut.length;){var jt=Ut[Dt++],Kt=Ut[Dt++],sn=_t[Kt];if(jt.tag!==5||!wn(jt)){for(;sn!=null&&tp(jt,sn);)Kt++,sn=_t[Kt];if(Kt===_t.length){_t=!0;break e}else for(jt=jt.child;jt!==null;)Ut.push(jt,Kt),jt=jt.sibling}}_t=!1}return _t;case du:if(Ut.tag===5&&Mn(Ut.stateNode,_t.value))return!0;break;case pu:if((Ut.tag===5||Ut.tag===6)&&(Ut=xn(Ut),Ut!==null&&0<=Ut.indexOf(_t.value)))return!0;break;case hu:if(Ut.tag===5&&(Ut=Ut.memoizedProps["data-testname"],typeof Ut=="string"&&Ut.toLowerCase()===_t.value.toLowerCase()))return!0;break;default:throw Error(it(365))}return!1}function np(Ut){switch(Ut.$$typeof){case cu:return"<"+(wt(Ut.value)||"Unknown")+">";case uu:return":has("+(np(Ut)||"")+")";case du:return'[role="'+Ut.value+'"]';case pu:return'"'+Ut.value+'"';case hu:return'[data-testname="'+Ut.value+'"]';default:throw Error(it(365))}}function wm(Ut,_t){var Dt=[];Ut=[Ut,0];for(var jt=0;jt<Ut.length;){var Kt=Ut[jt++],sn=Ut[jt++],Tn=_t[sn];if(Kt.tag!==5||!wn(Kt)){for(;Tn!=null&&tp(Kt,Tn);)sn++,Tn=_t[sn];if(sn===_t.length)Dt.push(Kt);else for(Kt=Kt.child;Kt!==null;)Ut.push(Kt,sn),Kt=Kt.sibling}}return Dt}function rp(Ut,_t){if(!an)throw Error(it(363));Ut=ep(Ut),Ut=wm(Ut,_t),_t=[],Ut=Array.from(Ut);for(var Dt=0;Dt<Ut.length;){var jt=Ut[Dt++];if(jt.tag===5)wn(jt)||_t.push(jt.stateNode);else for(jt=jt.child;jt!==null;)Ut.push(jt),jt=jt.sibling}return _t}var a0=Math.ceil,fu=ot.ReactCurrentDispatcher,ip=ot.ReactCurrentOwner,Vo=ot.ReactCurrentBatchConfig,ho=0,Do=null,ko=null,Jo=0,as=0,$a=Hr(0),Io=0,Dl=null,yl=0,gu=0,op=0,Il=null,qo=null,sp=0,ap=1/0;function Ul(){ap=br()+500}var mu=!1,lp=null,Vs=null,yu=!1,Ds=null,Uu=0,Ol=0,cp=null,Fu=-1,vu=0;function Xo(){return ho&6?br():Fu!==-1?Fu:Fu=br()}function ks(Ut){return Ut.mode&1?ho&2&&Jo!==0?Jo&-Jo:lr.transition!==null?(vu===0&&(Ut=Ko,Ko<<=1,!(Ko&4194240)&&(Ko=64),vu=Ut),vu):(Ut=zn,Ut!==0?Ut:Fn()):1}function gs(Ut,_t,Dt){if(50<Ol)throw Ol=0,cp=null,Error(it(185));var jt=_u(Ut,_t);return jt===null?null:(yn(jt,_t,Dt),(!(ho&2)||jt!==Do)&&(jt===Do&&(!(ho&2)&&(gu|=_t),Io===4&&Is(jt,Jo)),ts(jt,Dt),_t===1&&ho===0&&!(Ut.mode&1)&&(Ul(),Cn&&Yn())),jt)}function _u(Ut,_t){Ut.lanes|=_t;var Dt=Ut.alternate;for(Dt!==null&&(Dt.lanes|=_t),Dt=Ut,Ut=Ut.return;Ut!==null;)Ut.childLanes|=_t,Dt=Ut.alternate,Dt!==null&&(Dt.childLanes|=_t),Dt=Ut,Ut=Ut.return;return Dt.tag===3?Dt.stateNode:null}function ts(Ut,_t){var Dt=Ut.callbackNode;fn(Ut,_t);var jt=zr(Ut,Ut===Do?Jo:0);if(jt===0)Dt!==null&&Rr(Dt),Ut.callbackNode=null,Ut.callbackPriority=0;else if(_t=jt&-jt,Ut.callbackPriority!==_t){if(Dt!=null&&Rr(Dt),_t===1)Ut.tag===0?Pn(xm.bind(null,Ut)):tr(xm.bind(null,Ut)),un?bn(function(){ho===0&&Yn()}):yr(Tr,Yn),Dt=null;else{switch(Er(jt)){case 1:Dt=Tr;break;case 4:Dt=Lr;break;case 16:Dt=Nr;break;case 536870912:Dt=uo;break;default:Dt=Nr}Dt=Om(Dt,Qm.bind(null,Ut))}Ut.callbackPriority=_t,Ut.callbackNode=Dt}}function Qm(Ut,_t){if(Fu=-1,vu=0,ho&6)throw Error(it(327));var Dt=Ut.callbackNode;if(Hs()&&Ut.callbackNode!==Dt)return null;var jt=zr(Ut,Ut===Do?Jo:0);if(jt===0)return null;if(jt&30||jt&Ut.expiredLanes||_t)_t=Su(Ut,jt);else{_t=jt;var Kt=ho;ho|=2;var sn=Am();(Do!==Ut||Jo!==_t)&&(Ul(),zs(Ut,_t));do try{u0();break}catch(kn){Mm(Ut,kn)}while(1);Mo(),fu.current=sn,ho=Kt,ko!==null?_t=0:(Do=null,Jo=0,_t=Io)}if(_t!==0){if(_t===2&&(Kt=hn(Ut),Kt!==0&&(jt=Kt,_t=up(Ut,Kt))),_t===1)throw Dt=Dl,zs(Ut,0),Is(Ut,jt),ts(Ut,br()),Dt;if(_t===6)Is(Ut,jt);else{if(Kt=Ut.current.alternate,!(jt&30)&&!l0(Kt)&&(_t=Su(Ut,jt),_t===2&&(sn=hn(Ut),sn!==0&&(jt=sn,_t=up(Ut,sn))),_t===1))throw Dt=Dl,zs(Ut,0),Is(Ut,jt),ts(Ut,br()),Dt;switch(Ut.finishedWork=Kt,Ut.finishedLanes=jt,_t){case 0:case 1:throw Error(it(345));case 2:Gs(Ut,qo);break;case 3:if(Is(Ut,jt),(jt&130023424)===jt&&(_t=sp+500-br(),10<_t)){if(zr(Ut,0)!==0)break;if(Kt=Ut.suspendedLanes,(Kt&jt)!==jt){Xo(),Ut.pingedLanes|=Ut.suspendedLanes&Kt;break}Ut.timeoutHandle=Pt(Gs.bind(null,Ut,qo),_t);break}Gs(Ut,qo);break;case 4:if(Is(Ut,jt),(jt&4194240)===jt)break;for(_t=Ut.eventTimes,Kt=-1;0<jt;){var Tn=31-Co(jt);sn=1<<Tn,Tn=_t[Tn],Tn>Kt&&(Kt=Tn),jt&=~sn}if(jt=Kt,jt=br()-jt,jt=(120>jt?120:480>jt?480:1080>jt?1080:1920>jt?1920:3e3>jt?3e3:4320>jt?4320:1960*a0(jt/1960))-jt,10<jt){Ut.timeoutHandle=Pt(Gs.bind(null,Ut,qo),jt);break}Gs(Ut,qo);break;case 5:Gs(Ut,qo);break;default:throw Error(it(329))}}}return ts(Ut,br()),Ut.callbackNode===Dt?Qm.bind(null,Ut):null}function up(Ut,_t){var Dt=Il;return Ut.current.memoizedState.isDehydrated&&(zs(Ut,_t).flags|=256),Ut=Su(Ut,_t),Ut!==2&&(_t=qo,qo=Dt,_t!==null&&dp(_t)),Ut}function dp(Ut){qo===null?qo=Ut:qo.push.apply(qo,Ut)}function l0(Ut){for(var _t=Ut;;){if(_t.flags&16384){var Dt=_t.updateQueue;if(Dt!==null&&(Dt=Dt.stores,Dt!==null))for(var jt=0;jt<Dt.length;jt++){var Kt=Dt[jt],sn=Kt.getSnapshot;Kt=Kt.value;try{if(!ln(sn(),Kt))return!1}catch{return!1}}}if(Dt=_t.child,_t.subtreeFlags&16384&&Dt!==null)Dt.return=_t,_t=Dt;else{if(_t===Ut)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===Ut)return!0;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}}return!0}function Is(Ut,_t){for(_t&=~op,_t&=~gu,Ut.suspendedLanes|=_t,Ut.pingedLanes&=~_t,Ut=Ut.expirationTimes;0<_t;){var Dt=31-Co(_t),jt=1<<Dt;Ut[Dt]=-1,_t&=~jt}}function xm(Ut){if(ho&6)throw Error(it(327));Hs();var _t=zr(Ut,0);if(!(_t&1))return ts(Ut,br()),null;var Dt=Su(Ut,_t);if(Ut.tag!==0&&Dt===2){var jt=hn(Ut);jt!==0&&(_t=jt,Dt=up(Ut,jt))}if(Dt===1)throw Dt=Dl,zs(Ut,0),Is(Ut,_t),ts(Ut,br()),Dt;if(Dt===6)throw Error(it(345));return Ut.finishedWork=Ut.current.alternate,Ut.finishedLanes=_t,Gs(Ut,qo),ts(Ut,br()),null}function Cm(Ut){Ds!==null&&Ds.tag===0&&!(ho&6)&&Hs();var _t=ho;ho|=1;var Dt=Vo.transition,jt=zn;try{if(Vo.transition=null,zn=1,Ut)return Ut()}finally{zn=jt,Vo.transition=Dt,ho=_t,!(ho&6)&&Yn()}}function hp(){as=$a.current,vr($a)}function zs(Ut,_t){Ut.finishedWork=null,Ut.finishedLanes=0;var Dt=Ut.timeoutHandle;if(Dt!==zt&&(Ut.timeoutHandle=zt,kt(Dt)),ko!==null)for(Dt=ko.return;Dt!==null;){var jt=Dt;switch(Cu(jt),jt.tag){case 1:jt=jt.type.childContextTypes,jt!=null&&Oo();break;case 3:ba(),vr(To),vr(Fo),Iu();break;case 5:Du(jt);break;case 4:ba();break;case 13:vr(Qo);break;case 19:vr(Qo);break;case 10:bu(jt.type._context);break;case 22:case 23:hp()}Dt=Dt.return}if(Do=Ut,ko=Ut=Os(Ut.current,null),Jo=as=_t,Io=0,Dl=null,op=gu=yl=0,qo=Il=null,vs!==null){for(_t=0;_t<vs.length;_t++)if(Dt=vs[_t],jt=Dt.interleaved,jt!==null){Dt.interleaved=null;var Kt=jt.next,sn=Dt.pending;if(sn!==null){var Tn=sn.next;sn.next=Kt,jt.next=Tn}Dt.pending=jt}vs=null}return Ut}function Mm(Ut,_t){do{var Dt=ko;try{if(Mo(),Hl.current=eu,$l){for(var jt=Ao.memoizedState;jt!==null;){var Kt=jt.queue;Kt!==null&&(Kt.pending=null),jt=jt.next}$l=!1}if(xa=0,Lo=jo=Ao=null,Bl=!1,Tl=0,ip.current=null,Dt===null||Dt.return===null){Io=1,Dl=_t,ko=null;break}e:{var sn=Ut,Tn=Dt.return,kn=Dt,rr=_t;if(_t=Jo,kn.flags|=32768,rr!==null&&typeof rr=="object"&&typeof rr.then=="function"){var gr=rr,Vr=kn,oo=Vr.tag;if(!(Vr.mode&1)&&(oo===0||oo===11||oo===15)){var _i=Vr.alternate;_i?(Vr.updateQueue=_i.updateQueue,Vr.memoizedState=_i.memoizedState,Vr.lanes=_i.lanes):(Vr.updateQueue=null,Vr.memoizedState=null)}var Bo=_g(Tn);if(Bo!==null){Bo.flags&=-257,em(Bo,Tn,kn,sn,_t),Bo.mode&1&&_f(sn,gr,_t),_t=Bo,rr=gr;var Zr=_t.updateQueue;if(Zr===null){var Go=new Set;Go.add(rr),_t.updateQueue=Go}else Zr.add(rr);break e}else{if(!(_t&1)){_f(sn,gr,_t),pp();break e}rr=Error(it(426))}}else if(wo&&kn.mode&1){var ys=_g(Tn);if(ys!==null){!(ys.flags&65536)&&(ys.flags|=256),em(ys,Tn,kn,sn,_t),Nu(rr);break e}}sn=rr,Io!==4&&(Io=2),Il===null?Il=[sn]:Il.push(sn),rr=Zu(rr,kn),kn=Tn;do{switch(kn.tag){case 3:kn.flags|=65536,_t&=-_t,kn.lanes|=_t;var Hn=Kp(kn,rr,_t);vp(kn,Hn);break e;case 1:sn=rr;var Wn=kn.type,qn=kn.stateNode;if(!(kn.flags&128)&&(typeof Wn.getDerivedStateFromError=="function"||qn!==null&&typeof qn.componentDidCatch=="function"&&(Vs===null||!Vs.has(qn)))){kn.flags|=65536,_t&=-_t,kn.lanes|=_t;var Mr=qp(kn,sn,_t);vp(kn,Mr);break e}}kn=kn.return}while(kn!==null)}Vm(Dt)}catch(jr){_t=jr,ko===Dt&&Dt!==null&&(ko=Dt=Dt.return);continue}break}while(1)}function Am(){var Ut=fu.current;return fu.current=eu,Ut===null?eu:Ut}function pp(){(Io===0||Io===3||Io===2)&&(Io=4),Do===null||!(yl&268435455)&&!(gu&268435455)||Is(Do,Jo)}function Su(Ut,_t){var Dt=ho;ho|=2;var jt=Am();Do===Ut&&Jo===_t||zs(Ut,_t);do try{c0();break}catch(Kt){Mm(Ut,Kt)}while(1);if(Mo(),ho=Dt,fu.current=jt,ko!==null)throw Error(it(261));return Do=null,Jo=0,Io}function c0(){for(;ko!==null;)Nm(ko)}function u0(){for(;ko!==null&&!kr();)Nm(ko)}function Nm(Ut){var _t=Im(Ut.alternate,Ut,as);Ut.memoizedProps=Ut.pendingProps,_t===null?Vm(Ut):ko=_t,ip.current=null}function Vm(Ut){var _t=Ut;do{var Dt=_t.alternate;if(Ut=_t.return,_t.flags&32768){if(Dt=n0(Dt,_t),Dt!==null){Dt.flags&=32767,ko=Dt;return}if(Ut!==null)Ut.flags|=32768,Ut.subtreeFlags=0,Ut.deletions=null;else{Io=6,ko=null;return}}else if(Dt=qm(Dt,_t,as),Dt!==null){ko=Dt;return}if(_t=_t.sibling,_t!==null){ko=_t;return}ko=_t=Ut}while(_t!==null);Io===0&&(Io=5)}function Gs(Ut,_t){var Dt=zn,jt=Vo.transition;try{Vo.transition=null,zn=1,d0(Ut,_t,Dt)}finally{Vo.transition=jt,zn=Dt}return null}function d0(Ut,_t,Dt){do Hs();while(Ds!==null);if(ho&6)throw Error(it(327));var jt=Ut.finishedWork,Kt=Ut.finishedLanes;if(jt===null)return null;if(Ut.finishedWork=null,Ut.finishedLanes=0,jt===Ut.current)throw Error(it(177));Ut.callbackNode=null,Ut.callbackPriority=0;var sn=jt.lanes|jt.childLanes;if(_n(Ut,sn),Ut===Do&&(ko=Do=null,Jo=0),!(jt.subtreeFlags&2064)&&!(jt.flags&2064)||yu||(yu=!0,Om(Nr,function(){return Hs(),null})),sn=(jt.flags&15990)!==0,jt.subtreeFlags&15990||sn){sn=Vo.transition,Vo.transition=null;var Tn=zn;zn=1;var kn=ho;ho|=4,ip.current=null,i0(Ut,jt),o0(Ut,jt),Vt(Ut.containerInfo),Ut.current=jt,s0(jt),hr(),ho=kn,zn=Tn,Vo.transition=sn}else Ut.current=jt;if(yu&&(yu=!1,Ds=Ut,Uu=Kt),sn=Ut.pendingLanes,sn===0&&(Vs=null),fo(jt.stateNode),ts(Ut,br()),_t!==null)for(Dt=Ut.onRecoverableError,jt=0;jt<_t.length;jt++)Dt(_t[jt]);if(mu)throw mu=!1,Ut=lp,lp=null,Ut;return Uu&1&&Ut.tag!==0&&Hs(),sn=Ut.pendingLanes,sn&1?Ut===cp?Ol++:(Ol=0,cp=Ut):Ol=0,Yn(),null}function Hs(){if(Ds!==null){var Ut=Er(Uu),_t=Vo.transition,Dt=zn;try{if(Vo.transition=null,zn=16>Ut?16:Ut,Ds===null)var jt=!1;else{if(Ut=Ds,Ds=null,Uu=0,ho&6)throw Error(it(331));var Kt=ho;for(ho|=4,xr=Ut.current;xr!==null;){var sn=xr,Tn=sn.child;if(xr.flags&16){var kn=sn.deletions;if(kn!==null){for(var rr=0;rr<kn.length;rr++){var gr=kn[rr];for(xr=gr;xr!==null;){var Vr=xr;switch(Vr.tag){case 0:case 11:case 15:Zs(8,Vr,sn)}var oo=Vr.child;if(oo!==null)oo.return=Vr,xr=oo;else for(;xr!==null;){Vr=xr;var _i=Vr.sibling,Bo=Vr.return;if(Fm(Vr),Vr===gr){xr=null;break}if(_i!==null){_i.return=Bo,xr=_i;break}xr=Bo}}}var Zr=sn.alternate;if(Zr!==null){var Go=Zr.child;if(Go!==null){Zr.child=null;do{var ys=Go.sibling;Go.sibling=null,Go=ys}while(Go!==null)}}xr=sn}}if(sn.subtreeFlags&2064&&Tn!==null)Tn.return=sn,xr=Tn;else e:for(;xr!==null;){if(sn=xr,sn.flags&2048)switch(sn.tag){case 0:case 11:case 15:Zs(9,sn,sn.return)}var Hn=sn.sibling;if(Hn!==null){Hn.return=sn.return,xr=Hn;break e}xr=sn.return}}var Wn=Ut.current;for(xr=Wn;xr!==null;){Tn=xr;var qn=Tn.child;if(Tn.subtreeFlags&2064&&qn!==null)qn.return=Tn,xr=qn;else e:for(Tn=Wn;xr!==null;){if(kn=xr,kn.flags&2048)try{switch(kn.tag){case 0:case 11:case 15:Nl(9,kn)}}catch(jr){ns(kn,kn.return,jr)}if(kn===Tn){xr=null;break e}var Mr=kn.sibling;if(Mr!==null){Mr.return=kn.return,xr=Mr;break e}xr=kn.return}}if(ho=Kt,Yn(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(po,Ut)}catch{}jt=!0}return jt}finally{zn=Dt,Vo.transition=_t}}return!1}function Dm(Ut,_t,Dt){_t=Zu(Dt,_t),_t=Kp(Ut,_t,1),Ns(Ut,_t),_t=Xo(),Ut=_u(Ut,1),Ut!==null&&(yn(Ut,1,_t),ts(Ut,_t))}function ns(Ut,_t,Dt){if(Ut.tag===3)Dm(Ut,Ut,Dt);else for(;_t!==null;){if(_t.tag===3){Dm(_t,Ut,Dt);break}else if(_t.tag===1){var jt=_t.stateNode;if(typeof _t.type.getDerivedStateFromError=="function"||typeof jt.componentDidCatch=="function"&&(Vs===null||!Vs.has(jt))){Ut=Zu(Dt,Ut),Ut=qp(_t,Ut,1),Ns(_t,Ut),Ut=Xo(),_t=_u(_t,1),_t!==null&&(yn(_t,1,Ut),ts(_t,Ut));break}}_t=_t.return}}function h0(Ut,_t,Dt){var jt=Ut.pingCache;jt!==null&&jt.delete(_t),_t=Xo(),Ut.pingedLanes|=Ut.suspendedLanes&Dt,Do===Ut&&(Jo&Dt)===Dt&&(Io===4||Io===3&&(Jo&130023424)===Jo&&500>br()-sp?zs(Ut,0):op|=Dt),ts(Ut,_t)}function km(Ut,_t){_t===0&&(Ut.mode&1?(_t=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):_t=1);var Dt=Xo();Ut=_u(Ut,_t),Ut!==null&&(yn(Ut,_t,Dt),ts(Ut,Dt))}function p0(Ut){var _t=Ut.memoizedState,Dt=0;_t!==null&&(Dt=_t.retryLane),km(Ut,Dt)}function f0(Ut,_t){var Dt=0;switch(Ut.tag){case 13:var jt=Ut.stateNode,Kt=Ut.memoizedState;Kt!==null&&(Dt=Kt.retryLane);break;case 19:jt=Ut.stateNode;break;default:throw Error(it(314))}jt!==null&&jt.delete(_t),km(Ut,Dt)}var Im;Im=function(Ut,_t,Dt){if(Ut!==null)if(Ut.memoizedProps!==_t.pendingProps||To.current)ss=!0;else{if(!(Ut.lanes&Dt)&&!(_t.flags&128))return ss=!1,t0(Ut,_t,Dt);ss=!!(Ut.flags&131072)}else ss=!1,wo&&_t.flags&1048576&&Bp(_t,Zl,_t.index);switch(_t.lanes=0,_t.tag){case 2:var jt=_t.type;Ut!==null&&(Ut.alternate=null,_t.alternate=null,_t.flags|=2),Ut=_t.pendingProps;var Kt=Wo(_t,Fo.current);Xs(_t,Dt),Kt=Lu(null,_t,jt,Ut,Kt,Dt);var sn=Pu();return _t.flags|=1,typeof Kt=="object"&&Kt!==null&&typeof Kt.render=="function"&&Kt.$$typeof===void 0?(_t.tag=1,_t.memoizedState=null,_t.updateQueue=null,io(jt)?(sn=!0,No(_t)):sn=!1,_t.memoizedState=Kt.state!==null&&Kt.state!==void 0?Kt.state:null,Tu(_t),Kt.updater=Wl,_t.stateNode=Kt,Kt._reactInternals=_t,Qu(_t,jt,Ut,Dt),_t=Hu(null,_t,jt,!0,sn,Dt)):(_t.tag=0,wo&&sn&&xu(_t),$o(null,_t,Kt,Dt),_t=_t.child),_t;case 16:jt=_t.elementType;e:{switch(Ut!==null&&(Ut.alternate=null,_t.alternate=null,_t.flags|=2),Ut=_t.pendingProps,Kt=jt._init,jt=Kt(jt._payload),_t.type=jt,Kt=_t.tag=m0(jt),Ut=eo(jt,Ut),Kt){case 0:_t=Gu(null,_t,jt,Ut,Dt);break e;case 1:_t=lm(null,_t,jt,Ut,Dt);break e;case 11:_t=rm(null,_t,jt,Ut,Dt);break e;case 14:_t=im(null,_t,jt,eo(jt.type,Ut),Dt);break e}throw Error(it(306,jt,""))}return _t;case 0:return jt=_t.type,Kt=_t.pendingProps,Kt=_t.elementType===jt?Kt:eo(jt,Kt),Gu(Ut,_t,jt,Kt,Dt);case 1:return jt=_t.type,Kt=_t.pendingProps,Kt=_t.elementType===jt?Kt:eo(jt,Kt),lm(Ut,_t,jt,Kt,Dt);case 3:e:{if(cm(_t),Ut===null)throw Error(it(387));jt=_t.pendingProps,sn=_t.memoizedState,Kt=sn.element,Fp(Ut,_t),Pl(_t,jt,null,Dt);var Tn=_t.memoizedState;if(jt=Tn.element,cn&&sn.isDehydrated)if(sn={element:jt,isDehydrated:!1,cache:Tn.cache,transitions:Tn.transitions},_t.updateQueue.baseState=sn,_t.memoizedState=sn,_t.flags&256){Kt=Error(it(423)),_t=um(Ut,_t,jt,Dt,Kt);break e}else if(jt!==Kt){Kt=Error(it(424)),_t=um(Ut,_t,jt,Dt,Kt);break e}else for(cn&&(os=On(_t.stateNode.containerInfo),rs=_t,wo=!0,Us=null,Fl=!1),Dt=Mp(_t,null,jt,Dt),_t.child=Dt;Dt;)Dt.flags=Dt.flags&-3|4096,Dt=Dt.sibling;else{if(qs(),jt===Kt){_t=Qs(Ut,_t,Dt);break e}$o(Ut,_t,jt,Dt)}_t=_t.child}return _t;case 5:return Ap(_t),Ut===null&&Au(_t),jt=_t.type,Kt=_t.pendingProps,sn=Ut!==null?Ut.memoizedProps:null,Tn=Kt.children,Xt(jt,Kt)?Tn=null:sn!==null&&Xt(jt,sn)&&(_t.flags|=32),am(Ut,_t),$o(Ut,_t,Tn,Dt),_t.child;case 6:return Ut===null&&Au(_t),null;case 13:return dm(Ut,_t,Dt);case 4:return Vu(_t,_t.stateNode.containerInfo),jt=_t.pendingProps,Ut===null?_t.child=na(_t,null,jt,Dt):$o(Ut,_t,jt,Dt),_t.child;case 11:return jt=_t.type,Kt=_t.pendingProps,Kt=_t.elementType===jt?Kt:eo(jt,Kt),rm(Ut,_t,jt,Kt,Dt);case 7:return $o(Ut,_t,_t.pendingProps,Dt),_t.child;case 8:return $o(Ut,_t,_t.pendingProps.children,Dt),_t.child;case 12:return $o(Ut,_t,_t.pendingProps.children,Dt),_t.child;case 10:e:{if(jt=_t.type._context,Kt=_t.pendingProps,sn=_t.memoizedProps,Tn=Kt.value,Ho(_t,jt,Tn),sn!==null)if(ln(sn.value,Tn)){if(sn.children===Kt.children&&!To.current){_t=Qs(Ut,_t,Dt);break e}}else for(sn=_t.child,sn!==null&&(sn.return=_t);sn!==null;){var kn=sn.dependencies;if(kn!==null){Tn=sn.child;for(var rr=kn.firstContext;rr!==null;){if(rr.context===jt){if(sn.tag===1){rr=bs(-1,Dt&-Dt),rr.tag=2;var gr=sn.updateQueue;if(gr!==null){gr=gr.shared;var Vr=gr.pending;Vr===null?rr.next=rr:(rr.next=Vr.next,Vr.next=rr),gr.pending=rr}}sn.lanes|=Dt,rr=sn.alternate,rr!==null&&(rr.lanes|=Dt),Bu(sn.return,Dt,_t),kn.lanes|=Dt;break}rr=rr.next}}else if(sn.tag===10)Tn=sn.type===_t.type?null:sn.child;else if(sn.tag===18){if(Tn=sn.return,Tn===null)throw Error(it(341));Tn.lanes|=Dt,kn=Tn.alternate,kn!==null&&(kn.lanes|=Dt),Bu(Tn,Dt,_t),Tn=sn.sibling}else Tn=sn.child;if(Tn!==null)Tn.return=sn;else for(Tn=sn;Tn!==null;){if(Tn===_t){Tn=null;break}if(sn=Tn.sibling,sn!==null){sn.return=Tn.return,Tn=sn;break}Tn=Tn.return}sn=Tn}$o(Ut,_t,Kt.children,Dt),_t=_t.child}return _t;case 9:return Kt=_t.type,jt=_t.pendingProps.children,Xs(_t,Dt),Kt=us(Kt),jt=jt(Kt),_t.flags|=1,$o(Ut,_t,jt,Dt),_t.child;case 14:return jt=_t.type,Kt=eo(jt,_t.pendingProps),Kt=eo(jt.type,Kt),im(Ut,_t,jt,Kt,Dt);case 15:return om(Ut,_t,_t.type,_t.pendingProps,Dt);case 17:return jt=_t.type,Kt=_t.pendingProps,Kt=_t.elementType===jt?Kt:eo(jt,Kt),Ut!==null&&(Ut.alternate=null,_t.alternate=null,_t.flags|=2),_t.tag=1,io(jt)?(Ut=!0,No(_t)):Ut=!1,Xs(_t,Dt),Ep(_t,jt,Kt),Qu(_t,jt,Kt,Dt),Hu(null,_t,jt,!0,Ut,Dt);case 19:return gm(Ut,_t,Dt);case 22:return sm(Ut,_t,Dt)}throw Error(it(156,_t.tag))};function Om(Ut,_t){return yr(Ut,_t)}function g0(Ut,_t,Dt,jt){this.tag=Ut,this.key=Dt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=jt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(Ut,_t,Dt,jt){return new g0(Ut,_t,Dt,jt)}function fp(Ut){return Ut=Ut.prototype,!(!Ut||!Ut.isReactComponent)}function m0(Ut){if(typeof Ut=="function")return fp(Ut)?1:0;if(Ut!=null){if(Ut=Ut.$$typeof,Ut===pt)return 11;if(Ut===yt)return 14}return 2}function Os(Ut,_t){var Dt=Ut.alternate;return Dt===null?(Dt=ms(Ut.tag,_t,Ut.key,Ut.mode),Dt.elementType=Ut.elementType,Dt.type=Ut.type,Dt.stateNode=Ut.stateNode,Dt.alternate=Ut,Ut.alternate=Dt):(Dt.pendingProps=_t,Dt.type=Ut.type,Dt.flags=0,Dt.subtreeFlags=0,Dt.deletions=null),Dt.flags=Ut.flags&14680064,Dt.childLanes=Ut.childLanes,Dt.lanes=Ut.lanes,Dt.child=Ut.child,Dt.memoizedProps=Ut.memoizedProps,Dt.memoizedState=Ut.memoizedState,Dt.updateQueue=Ut.updateQueue,_t=Ut.dependencies,Dt.dependencies=_t===null?null:{lanes:_t.lanes,firstContext:_t.firstContext},Dt.sibling=Ut.sibling,Dt.index=Ut.index,Dt.ref=Ut.ref,Dt}function Ru(Ut,_t,Dt,jt,Kt,sn){var Tn=2;if(jt=Ut,typeof Ut=="function")fp(Ut)&&(Tn=1);else if(typeof Ut=="string")Tn=5;else e:switch(Ut){case lt:return $s(Dt.children,Kt,sn,_t);case ct:Tn=8,Kt|=8;break;case ut:return Ut=ms(12,Dt,_t,Kt|2),Ut.elementType=ut,Ut.lanes=sn,Ut;case gt:return Ut=ms(13,Dt,_t,Kt),Ut.elementType=gt,Ut.lanes=sn,Ut;case ft:return Ut=ms(19,Dt,_t,Kt),Ut.elementType=ft,Ut.lanes=sn,Ut;case Ft:return Eu(Dt,Kt,sn,_t);default:if(typeof Ut=="object"&&Ut!==null)switch(Ut.$$typeof){case dt:Tn=10;break e;case ht:Tn=9;break e;case pt:Tn=11;break e;case yt:Tn=14;break e;case mt:Tn=16,jt=null;break e}throw Error(it(130,Ut==null?Ut:typeof Ut,""))}return _t=ms(Tn,Dt,_t,Kt),_t.elementType=Ut,_t.type=jt,_t.lanes=sn,_t}function $s(Ut,_t,Dt,jt){return Ut=ms(7,Ut,jt,_t),Ut.lanes=Dt,Ut}function Eu(Ut,_t,Dt,jt){return Ut=ms(22,Ut,jt,_t),Ut.elementType=Ft,Ut.lanes=Dt,Ut.stateNode={},Ut}function gp(Ut,_t,Dt){return Ut=ms(6,Ut,null,_t),Ut.lanes=Dt,Ut}function mp(Ut,_t,Dt){return _t=ms(4,Ut.children!==null?Ut.children:[],Ut.key,_t),_t.lanes=Dt,_t.stateNode={containerInfo:Ut.containerInfo,pendingChildren:null,implementation:Ut.implementation},_t}function y0(Ut,_t,Dt,jt,Kt){this.tag=_t,this.containerInfo=Ut,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=zt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=jt,this.onRecoverableError=Kt,cn&&(this.mutableSourceEagerHydrationData=null)}function Lm(Ut,_t,Dt,jt,Kt,sn,Tn,kn,rr){return Ut=new y0(Ut,_t,Dt,kn,rr),_t===1?(_t=1,sn===!0&&(_t|=8)):_t=0,sn=ms(3,null,null,_t),Ut.current=sn,sn.stateNode=Ut,sn.memoizedState={element:jt,isDehydrated:Dt,cache:null,transitions:null},Tu(sn),Ut}function Pm(Ut){if(!Ut)return ao;Ut=Ut._reactInternals;e:{if(St(Ut)!==Ut||Ut.tag!==1)throw Error(it(170));var _t=Ut;do{switch(_t.tag){case 3:_t=_t.stateNode.context;break e;case 1:if(io(_t.type)){_t=_t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_t=_t.return}while(_t!==null);throw Error(it(171))}if(Ut.tag===1){var Dt=Ut.type;if(io(Dt))return ro(Ut,Dt,_t)}return _t}function Wm(Ut){var _t=Ut._reactInternals;if(_t===void 0)throw typeof Ut.render=="function"?Error(it(188)):(Ut=Object.keys(Ut).join(","),Error(it(268,Ut)));return Ut=bt(_t),Ut===null?null:Ut.stateNode}function Jm(Ut,_t){if(Ut=Ut.memoizedState,Ut!==null&&Ut.dehydrated!==null){var Dt=Ut.retryLane;Ut.retryLane=Dt!==0&&Dt<_t?Dt:_t}}function yp(Ut,_t){Jm(Ut,_t),(Ut=Ut.alternate)&&Jm(Ut,_t)}function U0(Ut){return Ut=bt(Ut),Ut===null?null:Ut.stateNode}function F0(){return null}return et.attemptContinuousHydration=function(Ut){if(Ut.tag===13){var _t=Xo();gs(Ut,134217728,_t),yp(Ut,134217728)}},et.attemptHydrationAtCurrentPriority=function(Ut){if(Ut.tag===13){var _t=Xo(),Dt=ks(Ut);gs(Ut,Dt,_t),yp(Ut,Dt)}},et.attemptSynchronousHydration=function(Ut){switch(Ut.tag){case 3:var _t=Ut.stateNode;if(_t.current.memoizedState.isDehydrated){var Dt=Es(_t.pendingLanes);Dt!==0&&(Gn(_t,Dt|1),ts(_t,br()),!(ho&6)&&(Ul(),Yn()))}break;case 13:var jt=Xo();Cm(function(){return gs(Ut,1,jt)}),yp(Ut,1)}},et.batchedUpdates=function(Ut,_t){var Dt=ho;ho|=1;try{return Ut(_t)}finally{ho=Dt,ho===0&&(Ul(),Cn&&Yn())}},et.createComponentSelector=function(Ut){return{$$typeof:cu,value:Ut}},et.createContainer=function(Ut,_t,Dt,jt,Kt,sn,Tn){return Lm(Ut,_t,!1,null,Dt,jt,Kt,sn,Tn)},et.createHasPseudoClassSelector=function(Ut){return{$$typeof:uu,value:Ut}},et.createHydrationContainer=function(Ut,_t,Dt,jt,Kt,sn,Tn,kn,rr){return Ut=Lm(Dt,jt,!0,Ut,Kt,sn,Tn,kn,rr),Ut.context=Pm(null),Dt=Ut.current,jt=Xo(),Kt=ks(Dt),sn=bs(jt,Kt),sn.callback=_t??null,Ns(Dt,sn),Ut.current.lanes=Kt,yn(Ut,Kt,jt),ts(Ut,jt),Ut},et.createPortal=function(Ut,_t,Dt){var jt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:at,key:jt==null?null:""+jt,children:Ut,containerInfo:_t,implementation:Dt}},et.createRoleSelector=function(Ut){return{$$typeof:du,value:Ut}},et.createTestNameSelector=function(Ut){return{$$typeof:hu,value:Ut}},et.createTextSelector=function(Ut){return{$$typeof:pu,value:Ut}},et.deferredUpdates=function(Ut){var _t=zn,Dt=Vo.transition;try{return Vo.transition=null,zn=16,Ut()}finally{zn=_t,Vo.transition=Dt}},et.discreteUpdates=function(Ut,_t,Dt,jt,Kt){var sn=zn,Tn=Vo.transition;try{return Vo.transition=null,zn=1,Ut(_t,Dt,jt,Kt)}finally{zn=sn,Vo.transition=Tn,ho===0&&Ul()}},et.findAllNodes=rp,et.findBoundingRects=function(Ut,_t){if(!an)throw Error(it(363));_t=rp(Ut,_t),Ut=[];for(var Dt=0;Dt<_t.length;Dt++)Ut.push(mn(_t[Dt]));for(_t=Ut.length-1;0<_t;_t--){Dt=Ut[_t];for(var jt=Dt.x,Kt=jt+Dt.width,sn=Dt.y,Tn=sn+Dt.height,kn=_t-1;0<=kn;kn--)if(_t!==kn){var rr=Ut[kn],gr=rr.x,Vr=gr+rr.width,oo=rr.y,_i=oo+rr.height;if(jt>=gr&&sn>=oo&&Kt<=Vr&&Tn<=_i){Ut.splice(_t,1);break}else if(jt!==gr||Dt.width!==rr.width||_i<sn||oo>Tn){if(!(sn!==oo||Dt.height!==rr.height||Vr<jt||gr>Kt)){gr>jt&&(rr.width+=gr-jt,rr.x=jt),Vr<Kt&&(rr.width=Kt-gr),Ut.splice(_t,1);break}}else{oo>sn&&(rr.height+=oo-sn,rr.y=sn),_i<Tn&&(rr.height=Tn-oo),Ut.splice(_t,1);break}}}return Ut},et.findHostInstance=Wm,et.findHostInstanceWithNoPortals=function(Ut){return Ut=Tt(Ut),Ut=Ut!==null?Bt(Ut):null,Ut===null?null:Ut.stateNode},et.findHostInstanceWithWarning=function(Ut){return Wm(Ut)},et.flushControlled=function(Ut){var _t=ho;ho|=1;var Dt=Vo.transition,jt=zn;try{Vo.transition=null,zn=1,Ut()}finally{zn=jt,Vo.transition=Dt,ho=_t,ho===0&&(Ul(),Yn())}},et.flushPassiveEffects=Hs,et.flushSync=Cm,et.focusWithin=function(Ut,_t){if(!an)throw Error(it(363));for(Ut=ep(Ut),_t=wm(Ut,_t),_t=Array.from(_t),Ut=0;Ut<_t.length;){var Dt=_t[Ut++];if(!wn(Dt)){if(Dt.tag===5&&or(Dt.stateNode))return!0;for(Dt=Dt.child;Dt!==null;)_t.push(Dt),Dt=Dt.sibling}}return!1},et.getCurrentUpdatePriority=function(){return zn},et.getFindAllNodesFailureDescription=function(Ut,_t){if(!an)throw Error(it(363));var Dt=0,jt=[];Ut=[ep(Ut),0];for(var Kt=0;Kt<Ut.length;){var sn=Ut[Kt++],Tn=Ut[Kt++],kn=_t[Tn];if((sn.tag!==5||!wn(sn))&&(tp(sn,kn)&&(jt.push(np(kn)),Tn++,Tn>Dt&&(Dt=Tn)),Tn<_t.length))for(sn=sn.child;sn!==null;)Ut.push(sn,Tn),sn=sn.sibling}if(Dt<_t.length){for(Ut=[];Dt<_t.length;Dt++)Ut.push(np(_t[Dt]));return`findAllNodes was able to match part of the selector:
  `+(jt.join(" > ")+`

No matching component was found for:
  `)+Ut.join(" > ")}return null},et.getPublicRootInstance=function(Ut){if(Ut=Ut.current,!Ut.child)return null;switch(Ut.child.tag){case 5:return Mt(Ut.child.stateNode);default:return Ut.child.stateNode}},et.injectIntoDevTools=function(Ut){if(Ut={bundleType:Ut.bundleType,version:Ut.version,rendererPackageName:Ut.rendererPackageName,rendererConfig:Ut.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ot.ReactCurrentDispatcher,findHostInstanceByFiber:U0,findFiberByHostInstance:Ut.findFiberByHostInstance||F0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Ut=!1;else{var _t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_t.isDisabled||!_t.supportsFiber)Ut=!0;else{try{po=_t.inject(Ut),to=_t}catch{}Ut=!!_t.checkDCE}}return Ut},et.isAlreadyRendering=function(){return!1},et.observeVisibleRects=function(Ut,_t,Dt,jt){if(!an)throw Error(it(363));Ut=rp(Ut,_t);var Kt=ir(Ut,Dt,jt).disconnect;return{disconnect:function(){Kt()}}},et.registerMutableSourceForHydration=function(Ut,_t){var Dt=_t._getVersion;Dt=Dt(_t._source),Ut.mutableSourceEagerHydrationData==null?Ut.mutableSourceEagerHydrationData=[_t,Dt]:Ut.mutableSourceEagerHydrationData.push(_t,Dt)},et.runWithPriority=function(Ut,_t){var Dt=zn;try{return zn=Ut,_t()}finally{zn=Dt}},et.shouldError=function(){return null},et.shouldSuspend=function(){return!1},et.updateContainer=function(Ut,_t,Dt,jt){var Kt=_t.current,sn=Xo(),Tn=ks(Kt);return Dt=Pm(Dt),_t.context===null?_t.context=Dt:_t.pendingContext=Dt,_t=bs(sn,Tn),_t.payload={element:Ut},jt=jt===void 0?null:jt,jt!==null&&(_t.callback=jt),Ns(Kt,_t),Ut=gs(Kt,Tn,sn),Ut!==null&&Ll(Ut,Kt,Tn),Tn},et};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs$1(reactReconcilerExports),isPromise=s=>typeof s=="object"&&typeof s.then=="function",globalCache=[];function shallowEqualArrays(s,o,et=(tt,nt)=>tt===nt){if(s===o)return!0;if(!s||!o)return!1;const tt=s.length;if(o.length!==tt)return!1;for(let nt=0;nt<tt;nt++)if(!et(s[nt],o[nt]))return!1;return!0}function query$4(s,o=null,et=!1,tt={}){o===null&&(o=[s]);for(const rt of globalCache)if(shallowEqualArrays(o,rt.keys,rt.equal)){if(et)return;if(Object.prototype.hasOwnProperty.call(rt,"error"))throw rt.error;if(Object.prototype.hasOwnProperty.call(rt,"response"))return tt.lifespan&&tt.lifespan>0&&(rt.timeout&&clearTimeout(rt.timeout),rt.timeout=setTimeout(rt.remove,tt.lifespan)),rt.response;if(!et)throw rt.promise}const nt={keys:o,equal:tt.equal,remove:()=>{const rt=globalCache.indexOf(nt);rt!==-1&&globalCache.splice(rt,1)},promise:(isPromise(s)?s:s(...o)).then(rt=>{nt.response=rt,tt.lifespan&&tt.lifespan>0&&(nt.timeout=setTimeout(nt.remove,tt.lifespan))}).catch(rt=>nt.error=rt)};if(globalCache.push(nt),!et)throw nt.promise}const suspend=(s,o,et)=>query$4(s,o,!1,et),preload=(s,o,et)=>void query$4(s,o,!0,et),clear=s=>{if(s===void 0||s.length===0)globalCache.splice(0,globalCache.length);else{const o=globalCache.find(et=>shallowEqualArrays(s,et.keys,et.equal));o&&o.remove()}},catalogue={},extend=s=>void Object.assign(catalogue,s);function createRenderer(s,o){function et(lt,{args:ct=[],attach:ut,...dt},ht){let pt=`${lt[0].toUpperCase()}${lt.slice(1)}`,gt;if(lt==="primitive"){if(dt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const ft=dt.object;gt=prepare(ft,{type:lt,root:ht,attach:ut,primitive:!0})}else{const ft=catalogue[pt];if(!ft)throw new Error(`R3F: ${pt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ct))throw new Error("R3F: The args prop must be an array!");gt=prepare(new ft(...ct),{type:lt,root:ht,attach:ut,memoizedProps:{args:ct}})}return gt.__r3f.attach===void 0&&(gt instanceof BufferGeometry?gt.__r3f.attach="geometry":gt instanceof Material&&(gt.__r3f.attach="material")),pt!=="inject"&&applyProps$1(gt,dt),gt}function tt(lt,ct){let ut=!1;if(ct){var dt,ht;(dt=ct.__r3f)!=null&&dt.attach?attach(lt,ct,ct.__r3f.attach):ct.isObject3D&&lt.isObject3D&&(lt.add(ct),ut=!0),ut||(ht=lt.__r3f)==null||ht.objects.push(ct),ct.__r3f||prepare(ct,{}),ct.__r3f.parent=lt,updateInstance(ct),invalidateInstance(ct)}}function nt(lt,ct,ut){let dt=!1;if(ct){var ht,pt;if((ht=ct.__r3f)!=null&&ht.attach)attach(lt,ct,ct.__r3f.attach);else if(ct.isObject3D&&lt.isObject3D){ct.parent=lt,ct.dispatchEvent({type:"added"}),lt.dispatchEvent({type:"childadded",child:ct});const gt=lt.children.filter(yt=>yt!==ct),ft=gt.indexOf(ut);lt.children=[...gt.slice(0,ft),ct,...gt.slice(ft)],dt=!0}dt||(pt=lt.__r3f)==null||pt.objects.push(ct),ct.__r3f||prepare(ct,{}),ct.__r3f.parent=lt,updateInstance(ct),invalidateInstance(ct)}}function rt(lt,ct,ut=!1){lt&&[...lt].forEach(dt=>it(ct,dt,ut))}function it(lt,ct,ut){if(ct){var dt,ht,pt;if(ct.__r3f&&(ct.__r3f.parent=null),(dt=lt.__r3f)!=null&&dt.objects&&(lt.__r3f.objects=lt.__r3f.objects.filter(Ft=>Ft!==ct)),(ht=ct.__r3f)!=null&&ht.attach)detach(lt,ct,ct.__r3f.attach);else if(ct.isObject3D&&lt.isObject3D){var gt;lt.remove(ct),(gt=ct.__r3f)!=null&&gt.root&&removeInteractivity(findInitialRoot(ct),ct)}const yt=(pt=ct.__r3f)==null?void 0:pt.primitive,mt=!yt&&(ut===void 0?ct.dispose!==null:ut);if(!yt){var ft;rt((ft=ct.__r3f)==null?void 0:ft.objects,ct,mt),rt(ct.children,ct,mt)}if(delete ct.__r3f,mt&&ct.dispose&&ct.type!=="Scene"){const Ft=()=>{try{ct.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Ft):Ft()}invalidateInstance(lt)}}function ot(lt,ct,ut,dt){var ht;const pt=(ht=lt.__r3f)==null?void 0:ht.parent;if(!pt)return;const gt=et(ct,ut,lt.__r3f.root);if(lt.children){for(const ft of lt.children)ft.__r3f&&tt(gt,ft);lt.children=lt.children.filter(ft=>!ft.__r3f)}lt.__r3f.objects.forEach(ft=>tt(gt,ft)),lt.__r3f.objects=[],lt.__r3f.autoRemovedBeforeAppend||it(pt,lt),gt.parent&&(gt.__r3f.autoRemovedBeforeAppend=!0),tt(pt,gt),gt.raycast&&gt.__r3f.eventCount&&findInitialRoot(gt).getState().internal.interaction.push(gt),[dt,dt.alternate].forEach(ft=>{ft!==null&&(ft.stateNode=gt,ft.ref&&(typeof ft.ref=="function"?ft.ref(gt):ft.ref.current=gt))})}const st=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:et,removeChild:it,appendChild:tt,appendInitialChild:tt,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(lt,ct)=>{if(!ct)return;const ut=lt.getState().scene;ut.__r3f&&(ut.__r3f.root=lt,tt(ut,ct))},removeChildFromContainer:(lt,ct)=>{ct&&it(lt.getState().scene,ct)},insertInContainerBefore:(lt,ct,ut)=>{if(!ct||!ut)return;const dt=lt.getState().scene;dt.__r3f&&nt(dt,ct,ut)},getRootHostContext:()=>null,getChildHostContext:lt=>lt,finalizeInitialChildren(lt){var ct;return!!((ct=lt?.__r3f)!=null?ct:{}).handlers},prepareUpdate(lt,ct,ut,dt){var ht;if(((ht=lt?.__r3f)!=null?ht:{}).primitive&&dt.object&&dt.object!==lt)return[!0];{const{args:gt=[],children:ft,...yt}=dt,{args:mt=[],children:Ft,...vt}=ut;if(!Array.isArray(gt))throw new Error("R3F: the args prop must be an array!");if(gt.some((wt,It)=>wt!==mt[It]))return[!0];const Et=diffProps(lt,yt,vt,!0);return Et.changes.length?[!1,Et]:null}},commitUpdate(lt,[ct,ut],dt,ht,pt,gt){ct?ot(lt,dt,pt,gt):applyProps$1(lt,ut)},commitMount(lt,ct,ut,dt){var ht;const pt=(ht=lt.__r3f)!=null?ht:{};lt.raycast&&pt.handlers&&pt.eventCount&&findInitialRoot(lt).getState().internal.interaction.push(lt)},getPublicInstance:lt=>lt,prepareForCommit:()=>null,preparePortalMount:lt=>prepare(lt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(lt){var ct;const{attach:ut,parent:dt}=(ct=lt.__r3f)!=null?ct:{};ut&&dt&&detach(dt,lt,ut),lt.isObject3D&&(lt.visible=!1),invalidateInstance(lt)},unhideInstance(lt,ct){var ut;const{attach:dt,parent:ht}=(ut=lt.__r3f)!=null?ut:{};dt&&ht&&attach(ht,lt,dt),(lt.isObject3D&&ct.visible==null||ct.visible)&&(lt.visible=!0),invalidateInstance(lt)},createTextInstance:st,hideTextInstance:st,unhideTextInstance:st,getCurrentEventPriority:()=>o?o():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=s=>"colorSpace"in s||"outputColorSpace"in s,getColorManagement=()=>{var s;return(s=catalogue.ColorManagement)!=null?s:null},isOrthographicCamera$1=s=>s&&s.isOrthographicCamera,isRef=s=>s&&s.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(s){const o=reactExports.useRef(s);return useIsomorphicLayoutEffect$1(()=>void(o.current=s),[s]),o}function Block({set:s}){return useIsomorphicLayoutEffect$1(()=>(s(new Promise(()=>null)),()=>s(!1)),[s]),null}class ErrorBoundary extends reactExports.Component{constructor(...o){super(...o),this.state={error:!1}}componentDidCatch(o){this.props.set(o)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=s=>s&&!!s.memoized&&!!s.changes;function calculateDpr(s){var o;const et=typeof window<"u"?(o=window.devicePixelRatio)!=null?o:2:1;return Array.isArray(s)?Math.min(Math.max(s[0],et),s[1]):s}const getRootState=s=>{var o;return(o=s.__r3f)==null?void 0:o.root.getState()};function findInitialRoot(s){let o=s.__r3f.root;for(;o.getState().previousRoot;)o=o.getState().previousRoot;return o}const is={obj:s=>s===Object(s)&&!is.arr(s)&&typeof s!="function",fun:s=>typeof s=="function",str:s=>typeof s=="string",num:s=>typeof s=="number",boo:s=>typeof s=="boolean",und:s=>s===void 0,arr:s=>Array.isArray(s),equ(s,o,{arrays:et="shallow",objects:tt="reference",strict:nt=!0}={}){if(typeof s!=typeof o||!!s!=!!o)return!1;if(is.str(s)||is.num(s)||is.boo(s))return s===o;const rt=is.obj(s);if(rt&&tt==="reference")return s===o;const it=is.arr(s);if(it&&et==="reference")return s===o;if((it||rt)&&s===o)return!0;let ot;for(ot in s)if(!(ot in o))return!1;if(rt&&et==="shallow"&&tt==="shallow"){for(ot in nt?o:s)if(!is.equ(s[ot],o[ot],{strict:nt,objects:"reference"}))return!1}else for(ot in nt?o:s)if(s[ot]!==o[ot])return!1;if(is.und(ot)){if(it&&s.length===0&&o.length===0||rt&&Object.keys(s).length===0&&Object.keys(o).length===0)return!0;if(s!==o)return!1}return!0}};function buildGraph(s){const o={nodes:{},materials:{}};return s&&s.traverse(et=>{et.name&&(o.nodes[et.name]=et),et.material&&!o.materials[et.material.name]&&(o.materials[et.material.name]=et.material)}),o}function dispose(s){s.dispose&&s.type!=="Scene"&&s.dispose();for(const o in s)o.dispose==null||o.dispose(),delete s[o]}function prepare(s,o){const et=s;return et.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...o},s}function resolve(s,o){let et=s;if(o.includes("-")){const tt=o.split("-"),nt=tt.pop();return et=tt.reduce((rt,it)=>rt[it],s),{target:et,key:nt}}else return{target:et,key:o}}const INDEX_REGEX=/-\d+$/;function attach(s,o,et){if(is.str(et)){if(INDEX_REGEX.test(et)){const rt=et.replace(INDEX_REGEX,""),{target:it,key:ot}=resolve(s,rt);Array.isArray(it[ot])||(it[ot]=[])}const{target:tt,key:nt}=resolve(s,et);o.__r3f.previousAttach=tt[nt],tt[nt]=o}else o.__r3f.previousAttach=et(s,o)}function detach(s,o,et){var tt,nt;if(is.str(et)){const{target:rt,key:it}=resolve(s,et),ot=o.__r3f.previousAttach;ot===void 0?delete rt[it]:rt[it]=ot}else(tt=o.__r3f)==null||tt.previousAttach==null||tt.previousAttach(s,o);(nt=o.__r3f)==null||delete nt.previousAttach}function diffProps(s,{children:o,key:et,ref:tt,...nt},{children:rt,key:it,ref:ot,...st}={},at=!1){const lt=s.__r3f,ct=Object.entries(nt),ut=[];if(at){const ht=Object.keys(st);for(let pt=0;pt<ht.length;pt++)nt.hasOwnProperty(ht[pt])||ct.unshift([ht[pt],DEFAULT+"remove"])}ct.forEach(([ht,pt])=>{var gt;if((gt=s.__r3f)!=null&&gt.primitive&&ht==="object"||is.equ(pt,st[ht]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ht))return ut.push([ht,pt,!0,[]]);let ft=[];ht.includes("-")&&(ft=ht.split("-")),ut.push([ht,pt,!1,ft]);for(const yt in nt){const mt=nt[yt];yt.startsWith(`${ht}-`)&&ut.push([yt,mt,!1,yt.split("-")])}});const dt={...nt};return lt!=null&&lt.memoizedProps&&lt!=null&&lt.memoizedProps.args&&(dt.args=lt.memoizedProps.args),lt!=null&&lt.memoizedProps&&lt!=null&&lt.memoizedProps.attach&&(dt.attach=lt.memoizedProps.attach),{memoized:dt,changes:ut}}const __DEV__=typeof process<"u"&&!1;function applyProps$1(s,o){var et;const tt=s.__r3f,nt=tt?.root,rt=nt==null||nt.getState==null?void 0:nt.getState(),{memoized:it,changes:ot}=isDiffSet(o)?o:diffProps(s,o),st=tt?.eventCount;s.__r3f&&(s.__r3f.memoizedProps=it);for(let lt=0;lt<ot.length;lt++){let[ct,ut,dt,ht]=ot[lt];if(hasColorSpace(s)){const yt="srgb",mt="srgb-linear";ct==="encoding"?(ct="colorSpace",ut=ut===3001?yt:mt):ct==="outputEncoding"&&(ct="outputColorSpace",ut=ut===3001?yt:mt)}let pt=s,gt=pt[ct];if(ht.length&&(gt=ht.reduce((ft,yt)=>ft[yt],s),!(gt&&gt.set))){const[ft,...yt]=ht.reverse();pt=yt.reverse().reduce((mt,Ft)=>mt[Ft],s),ct=ft}if(ut===DEFAULT+"remove")if(pt.constructor){let ft=DEFAULTS.get(pt.constructor);ft||(ft=new pt.constructor,DEFAULTS.set(pt.constructor,ft)),ut=ft[ct]}else ut=0;if(dt&&tt)ut?tt.handlers[ct]=ut:delete tt.handlers[ct],tt.eventCount=Object.keys(tt.handlers).length;else if(gt&&gt.set&&(gt.copy||gt instanceof Layers)){if(Array.isArray(ut))gt.fromArray?gt.fromArray(ut):gt.set(...ut);else if(gt.copy&&ut&&ut.constructor&&(__DEV__?gt.constructor.name===ut.constructor.name:gt.constructor===ut.constructor))gt.copy(ut);else if(ut!==void 0){const ft=gt instanceof Color$1;!ft&&gt.setScalar?gt.setScalar(ut):gt instanceof Layers&&ut instanceof Layers?gt.mask=ut.mask:gt.set(ut),!getColorManagement()&&rt&&!rt.linear&&ft&&gt.convertSRGBToLinear()}}else if(pt[ct]=ut,pt[ct]instanceof Texture&&pt[ct].format===RGBAFormat&&pt[ct].type===UnsignedByteType&&rt){const ft=pt[ct];hasColorSpace(ft)&&hasColorSpace(rt.gl)?ft.colorSpace=rt.gl.outputColorSpace:ft.encoding=rt.gl.outputEncoding}invalidateInstance(s)}if(tt&&tt.parent&&s.raycast&&st!==tt.eventCount){const lt=findInitialRoot(s).getState().internal,ct=lt.interaction.indexOf(s);ct>-1&&lt.interaction.splice(ct,1),tt.eventCount&&lt.interaction.push(s)}return!(ot.length===1&&ot[0][0]==="onUpdate")&&ot.length&&(et=s.__r3f)!=null&&et.parent&&updateInstance(s),s}function invalidateInstance(s){var o,et;const tt=(o=s.__r3f)==null||(et=o.root)==null||et.getState==null?void 0:et.getState();tt&&tt.internal.frames===0&&tt.invalidate()}function updateInstance(s){s.onUpdate==null||s.onUpdate(s)}function updateCamera(s,o){s.manual||(isOrthographicCamera$1(s)?(s.left=o.width/-2,s.right=o.width/2,s.top=o.height/2,s.bottom=o.height/-2):s.aspect=o.width/o.height,s.updateProjectionMatrix(),s.updateMatrixWorld())}function makeId(s){return(s.eventObject||s.object).uuid+"/"+s.index+s.instanceId}function getEventPriority(){var s;const o=typeof self<"u"&&self||typeof window<"u"&&window;if(!o)return constantsExports.DefaultEventPriority;switch((s=o.event)==null?void 0:s.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(s,o,et,tt){const nt=et.get(o);nt&&(et.delete(o),et.size===0&&(s.delete(tt),nt.target.releasePointerCapture(tt)))}function removeInteractivity(s,o){const{internal:et}=s.getState();et.interaction=et.interaction.filter(tt=>tt!==o),et.initialHits=et.initialHits.filter(tt=>tt!==o),et.hovered.forEach((tt,nt)=>{(tt.eventObject===o||tt.object===o)&&et.hovered.delete(nt)}),et.capturedMap.forEach((tt,nt)=>{releaseInternalPointerCapture(et.capturedMap,o,tt,nt)})}function createEvents(s){function o(st){const{internal:at}=s.getState(),lt=st.offsetX-at.initialClick[0],ct=st.offsetY-at.initialClick[1];return Math.round(Math.sqrt(lt*lt+ct*ct))}function et(st){return st.filter(at=>["Move","Over","Enter","Out","Leave"].some(lt=>{var ct;return(ct=at.__r3f)==null?void 0:ct.handlers["onPointer"+lt]}))}function tt(st,at){const lt=s.getState(),ct=new Set,ut=[],dt=at?at(lt.internal.interaction):lt.internal.interaction;for(let ft=0;ft<dt.length;ft++){const yt=getRootState(dt[ft]);yt&&(yt.raycaster.camera=void 0)}lt.previousRoot||lt.events.compute==null||lt.events.compute(st,lt);function ht(ft){const yt=getRootState(ft);if(!yt||!yt.events.enabled||yt.raycaster.camera===null)return[];if(yt.raycaster.camera===void 0){var mt;yt.events.compute==null||yt.events.compute(st,yt,(mt=yt.previousRoot)==null?void 0:mt.getState()),yt.raycaster.camera===void 0&&(yt.raycaster.camera=null)}return yt.raycaster.camera?yt.raycaster.intersectObject(ft,!0):[]}let pt=dt.flatMap(ht).sort((ft,yt)=>{const mt=getRootState(ft.object),Ft=getRootState(yt.object);return!mt||!Ft?ft.distance-yt.distance:Ft.events.priority-mt.events.priority||ft.distance-yt.distance}).filter(ft=>{const yt=makeId(ft);return ct.has(yt)?!1:(ct.add(yt),!0)});lt.events.filter&&(pt=lt.events.filter(pt,lt));for(const ft of pt){let yt=ft.object;for(;yt;){var gt;(gt=yt.__r3f)!=null&&gt.eventCount&&ut.push({...ft,eventObject:yt}),yt=yt.parent}}if("pointerId"in st&&lt.internal.capturedMap.has(st.pointerId))for(let ft of lt.internal.capturedMap.get(st.pointerId).values())ct.has(makeId(ft.intersection))||ut.push(ft.intersection);return ut}function nt(st,at,lt,ct){const ut=s.getState();if(st.length){const dt={stopped:!1};for(const ht of st){const pt=getRootState(ht.object)||ut,{raycaster:gt,pointer:ft,camera:yt,internal:mt}=pt,Ft=new Vector3(ft.x,ft.y,0).unproject(yt),vt=Rt=>{var Tt,bt;return(Tt=(bt=mt.capturedMap.get(Rt))==null?void 0:bt.has(ht.eventObject))!=null?Tt:!1},Et=Rt=>{const Tt={intersection:ht,target:at.target};mt.capturedMap.has(Rt)?mt.capturedMap.get(Rt).set(ht.eventObject,Tt):mt.capturedMap.set(Rt,new Map([[ht.eventObject,Tt]])),at.target.setPointerCapture(Rt)},wt=Rt=>{const Tt=mt.capturedMap.get(Rt);Tt&&releaseInternalPointerCapture(mt.capturedMap,ht.eventObject,Tt,Rt)};let It={};for(let Rt in at){let Tt=at[Rt];typeof Tt!="function"&&(It[Rt]=Tt)}let St={...ht,...It,pointer:ft,intersections:st,stopped:dt.stopped,delta:lt,unprojectedPoint:Ft,ray:gt.ray,camera:yt,stopPropagation(){const Rt="pointerId"in at&&mt.capturedMap.get(at.pointerId);if((!Rt||Rt.has(ht.eventObject))&&(St.stopped=dt.stopped=!0,mt.hovered.size&&Array.from(mt.hovered.values()).find(Tt=>Tt.eventObject===ht.eventObject))){const Tt=st.slice(0,st.indexOf(ht));rt([...Tt,ht])}},target:{hasPointerCapture:vt,setPointerCapture:Et,releasePointerCapture:wt},currentTarget:{hasPointerCapture:vt,setPointerCapture:Et,releasePointerCapture:wt},nativeEvent:at};if(ct(St),dt.stopped===!0)break}}return st}function rt(st){const{internal:at}=s.getState();for(const lt of at.hovered.values())if(!st.length||!st.find(ct=>ct.object===lt.object&&ct.index===lt.index&&ct.instanceId===lt.instanceId)){const ut=lt.eventObject.__r3f,dt=ut?.handlers;if(at.hovered.delete(makeId(lt)),ut!=null&&ut.eventCount){const ht={...lt,intersections:st};dt.onPointerOut==null||dt.onPointerOut(ht),dt.onPointerLeave==null||dt.onPointerLeave(ht)}}}function it(st,at){for(let lt=0;lt<at.length;lt++){const ct=at[lt].__r3f;ct==null||ct.handlers.onPointerMissed==null||ct.handlers.onPointerMissed(st)}}function ot(st){switch(st){case"onPointerLeave":case"onPointerCancel":return()=>rt([]);case"onLostPointerCapture":return at=>{const{internal:lt}=s.getState();"pointerId"in at&&lt.capturedMap.has(at.pointerId)&&requestAnimationFrame(()=>{lt.capturedMap.has(at.pointerId)&&(lt.capturedMap.delete(at.pointerId),rt([]))})}}return function(lt){const{onPointerMissed:ct,internal:ut}=s.getState();ut.lastEvent.current=lt;const dt=st==="onPointerMove",ht=st==="onClick"||st==="onContextMenu"||st==="onDoubleClick",gt=tt(lt,dt?et:void 0),ft=ht?o(lt):0;st==="onPointerDown"&&(ut.initialClick=[lt.offsetX,lt.offsetY],ut.initialHits=gt.map(mt=>mt.eventObject)),ht&&!gt.length&&ft<=2&&(it(lt,ut.interaction),ct&&ct(lt)),dt&&rt(gt);function yt(mt){const Ft=mt.eventObject,vt=Ft.__r3f,Et=vt?.handlers;if(vt!=null&&vt.eventCount)if(dt){if(Et.onPointerOver||Et.onPointerEnter||Et.onPointerOut||Et.onPointerLeave){const wt=makeId(mt),It=ut.hovered.get(wt);It?It.stopped&&mt.stopPropagation():(ut.hovered.set(wt,mt),Et.onPointerOver==null||Et.onPointerOver(mt),Et.onPointerEnter==null||Et.onPointerEnter(mt))}Et.onPointerMove==null||Et.onPointerMove(mt)}else{const wt=Et[st];wt?(!ht||ut.initialHits.includes(Ft))&&(it(lt,ut.interaction.filter(It=>!ut.initialHits.includes(It))),wt(mt)):ht&&ut.initialHits.includes(Ft)&&it(lt,ut.interaction.filter(It=>!ut.initialHits.includes(It)))}}nt(gt,lt,ft,yt)}}return{handlePointer:ot}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=s=>!!(s!=null&&s.render),context$3=reactExports.createContext(null),createStore=(s,o)=>{const et=create$1((ot,st)=>{const at=new Vector3,lt=new Vector3,ct=new Vector3;function ut(ft=st().camera,yt=lt,mt=st().size){const{width:Ft,height:vt,top:Et,left:wt}=mt,It=Ft/vt;yt instanceof Vector3?ct.copy(yt):ct.set(...yt);const St=ft.getWorldPosition(at).distanceTo(ct);if(isOrthographicCamera$1(ft))return{width:Ft/ft.zoom,height:vt/ft.zoom,top:Et,left:wt,factor:1,distance:St,aspect:It};{const Rt=ft.fov*Math.PI/180,Tt=2*Math.tan(Rt/2)*St,bt=Tt*(Ft/vt);return{width:bt,height:Tt,top:Et,left:wt,factor:Ft/bt,distance:St,aspect:It}}}let dt;const ht=ft=>ot(yt=>({performance:{...yt.performance,current:ft}})),pt=new Vector2;return{set:ot,get:st,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(ft=1)=>s(st(),ft),advance:(ft,yt)=>o(ft,yt,st()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:pt,mouse:pt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const ft=st();dt&&clearTimeout(dt),ft.performance.current!==ft.performance.min&&ht(ft.performance.min),dt=setTimeout(()=>ht(st().performance.max),ft.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ut},setEvents:ft=>ot(yt=>({...yt,events:{...yt.events,...ft}})),setSize:(ft,yt,mt,Ft,vt)=>{const Et=st().camera,wt={width:ft,height:yt,top:Ft||0,left:vt||0,updateStyle:mt};ot(It=>({size:wt,viewport:{...It.viewport,...ut(Et,lt,wt)}}))},setDpr:ft=>ot(yt=>{const mt=calculateDpr(ft);return{viewport:{...yt.viewport,dpr:mt,initialDpr:yt.viewport.initialDpr||mt}}}),setFrameloop:(ft="always")=>{const yt=st().clock;yt.stop(),yt.elapsedTime=0,ft!=="never"&&(yt.start(),yt.elapsedTime=0),ot(()=>({frameloop:ft}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(ft,yt,mt)=>{const Ft=st().internal;return Ft.priority=Ft.priority+(yt>0?1:0),Ft.subscribers.push({ref:ft,priority:yt,store:mt}),Ft.subscribers=Ft.subscribers.sort((vt,Et)=>vt.priority-Et.priority),()=>{const vt=st().internal;vt!=null&&vt.subscribers&&(vt.priority=vt.priority-(yt>0?1:0),vt.subscribers=vt.subscribers.filter(Et=>Et.ref!==ft))}}}}}),tt=et.getState();let nt=tt.size,rt=tt.viewport.dpr,it=tt.camera;return et.subscribe(()=>{const{camera:ot,size:st,viewport:at,gl:lt,set:ct}=et.getState();if(st.width!==nt.width||st.height!==nt.height||at.dpr!==rt){var ut;nt=st,rt=at.dpr,updateCamera(ot,st),lt.setPixelRatio(at.dpr);const dt=(ut=st.updateStyle)!=null?ut:typeof HTMLCanvasElement<"u"&&lt.domElement instanceof HTMLCanvasElement;lt.setSize(st.width,st.height,dt)}ot!==it&&(it=ot,ct(dt=>({viewport:{...dt.viewport,...dt.viewport.getCurrentViewport(ot)}})))}),et.subscribe(ot=>s(ot)),et};function createSubs(s,o){const et={callback:s};return o.add(et),()=>void o.delete(et)}let i$2,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=s=>createSubs(s,globalEffects),addAfterEffect=s=>createSubs(s,globalAfterEffects);function run(s,o){if(s.size)for(const{callback:et}of s.values())et(o)}function flushGlobalEffects(s,o){switch(s){case"before":return run(globalEffects,o);case"after":return run(globalAfterEffects,o);case"tail":return run(globalTailEffects,o)}}let subscribers,subscription;function render$1(s,o,et){let tt=o.clock.getDelta();for(o.frameloop==="never"&&typeof s=="number"&&(tt=s-o.clock.elapsedTime,o.clock.oldTime=o.clock.elapsedTime,o.clock.elapsedTime=s),subscribers=o.internal.subscribers,i$2=0;i$2<subscribers.length;i$2++)subscription=subscribers[i$2],subscription.ref.current(subscription.store.getState(),tt,et);return!o.internal.priority&&o.gl.render&&o.gl.render(o.scene,o.camera),o.internal.frames=Math.max(0,o.internal.frames-1),o.frameloop==="always"?1:o.internal.frames}function createLoop(s){let o=!1,et=!1,tt,nt,rt;function it(at){nt=requestAnimationFrame(it),o=!0,tt=0,flushGlobalEffects("before",at),et=!0;for(const ct of s.values()){var lt;rt=ct.store.getState(),rt.internal.active&&(rt.frameloop==="always"||rt.internal.frames>0)&&!((lt=rt.gl.xr)!=null&&lt.isPresenting)&&(tt+=render$1(at,rt))}if(et=!1,flushGlobalEffects("after",at),tt===0)return flushGlobalEffects("tail",at),o=!1,cancelAnimationFrame(nt)}function ot(at,lt=1){var ct;if(!at)return s.forEach(ut=>ot(ut.store.getState(),lt));(ct=at.gl.xr)!=null&&ct.isPresenting||!at.internal.active||at.frameloop==="never"||(lt>1?at.internal.frames=Math.min(60,at.internal.frames+lt):et?at.internal.frames=2:at.internal.frames=1,o||(o=!0,requestAnimationFrame(it)))}function st(at,lt=!0,ct,ut){if(lt&&flushGlobalEffects("before",at),ct)render$1(at,ct,ut);else for(const dt of s.values())render$1(at,dt.store.getState());lt&&flushGlobalEffects("after",at)}return{loop:it,invalidate:ot,advance:st}}function useInstanceHandle(s){const o=reactExports.useRef(null);return useIsomorphicLayoutEffect$1(()=>void(o.current=s.current.__r3f),[s]),o}function useStore(){const s=reactExports.useContext(context$3);if(!s)throw new Error("R3F: Hooks can only be used within the Canvas component!");return s}function useThree(s=et=>et,o){return useStore()(s,o)}function useFrame(s,o=0){const et=useStore(),tt=et.getState().internal.subscribe,nt=useMutableCallback(s);return useIsomorphicLayoutEffect$1(()=>tt(nt,o,et),[o,tt,et]),null}const memoizedLoaders=new WeakMap;function loadingFn(s,o){return function(et,...tt){let nt=memoizedLoaders.get(et);return nt||(nt=new et,memoizedLoaders.set(et,nt)),s&&s(nt),Promise.all(tt.map(rt=>new Promise((it,ot)=>nt.load(rt,st=>{st.scene&&Object.assign(st,buildGraph(st.scene)),it(st)},o,st=>ot(new Error(`Could not load ${rt}: ${st?.message}`))))))}}function useLoader(s,o,et,tt){const nt=Array.isArray(o)?o:[o],rt=suspend(loadingFn(et,tt),[s,...nt],{equal:is.equ});return Array.isArray(o)?rt:rt[0]}useLoader.preload=function(s,o,et){const tt=Array.isArray(o)?o:[o];return preload(loadingFn(et),[s,...tt])};useLoader.clear=function(s,o){const et=Array.isArray(o)?o:[o];return clear([s,...et])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(s,o)=>{const et=typeof s=="function"?s(o):s;return isRenderer(et)?et:new WebGLRenderer({powerPreference:"high-performance",canvas:o,antialias:!0,alpha:!0,...s})};function computeInitialSize(s,o){const et=typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement;if(o){const{width:tt,height:nt,top:rt,left:it,updateStyle:ot=et}=o;return{width:tt,height:nt,top:rt,left:it,updateStyle:ot}}else if(typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&s.parentElement){const{width:tt,height:nt,top:rt,left:it}=s.parentElement.getBoundingClientRect();return{width:tt,height:nt,top:rt,left:it,updateStyle:et}}else if(typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas)return{width:s.width,height:s.height,top:0,left:0,updateStyle:et};return{width:0,height:0,top:0,left:0}}function createRoot(s){const o=roots.get(s),et=o?.fiber,tt=o?.store;o&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,rt=tt||createStore(invalidate,advance),it=et||reconciler.createContainer(rt,constantsExports.ConcurrentRoot,null,!1,null,"",nt,null);o||roots.set(s,{fiber:it,store:rt});let ot,st=!1,at;return{configure(lt={}){let{gl:ct,size:ut,scene:dt,events:ht,onCreated:pt,shadows:gt=!1,linear:ft=!1,flat:yt=!1,legacy:mt=!1,orthographic:Ft=!1,frameloop:vt="always",dpr:Et=[1,2],performance:wt,raycaster:It,camera:St,onPointerMissed:Rt}=lt,Tt=rt.getState(),bt=Tt.gl;Tt.gl||Tt.set({gl:bt=createRendererInstance(ct,s)});let xt=Tt.raycaster;xt||Tt.set({raycaster:xt=new Raycaster});const{params:Bt,...Ct}=It||{};if(is.equ(Ct,xt,shallowLoose)||applyProps(xt,{...Ct}),is.equ(Bt,xt.params,shallowLoose)||applyProps(xt,{params:{...xt.params,...Bt}}),!Tt.camera||Tt.camera===at&&!is.equ(at,St,shallowLoose)){at=St;const Vt=St instanceof Camera,Wt=Vt?St:Ft?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);Vt||(Wt.position.z=5,St&&(applyProps(Wt,St),("aspect"in St||"left"in St||"right"in St||"bottom"in St||"top"in St)&&(Wt.manual=!0,Wt.updateProjectionMatrix())),!Tt.camera&&!(St!=null&&St.rotation)&&Wt.lookAt(0,0,0)),Tt.set({camera:Wt}),xt.camera=Wt}if(!Tt.scene){let Vt;dt instanceof Scene?Vt=dt:(Vt=new Scene,dt&&applyProps(Vt,dt)),Tt.set({scene:prepare(Vt)})}if(!Tt.xr){var Mt;const Vt=(qt,Ht)=>{const Xt=rt.getState();Xt.frameloop!=="never"&&advance(qt,!0,Xt,Ht)},Wt=()=>{const qt=rt.getState();qt.gl.xr.enabled=qt.gl.xr.isPresenting,qt.gl.xr.setAnimationLoop(qt.gl.xr.isPresenting?Vt:null),qt.gl.xr.isPresenting||invalidate(qt)},Jt={connect(){const qt=rt.getState().gl;qt.xr.addEventListener("sessionstart",Wt),qt.xr.addEventListener("sessionend",Wt)},disconnect(){const qt=rt.getState().gl;qt.xr.removeEventListener("sessionstart",Wt),qt.xr.removeEventListener("sessionend",Wt)}};typeof((Mt=bt.xr)==null?void 0:Mt.addEventListener)=="function"&&Jt.connect(),Tt.set({xr:Jt})}if(bt.shadowMap){const Vt=bt.shadowMap.enabled,Wt=bt.shadowMap.type;if(bt.shadowMap.enabled=!!gt,is.boo(gt))bt.shadowMap.type=PCFSoftShadowMap;else if(is.str(gt)){var Nt;const Jt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};bt.shadowMap.type=(Nt=Jt[gt])!=null?Nt:PCFSoftShadowMap}else is.obj(gt)&&Object.assign(bt.shadowMap,gt);(Vt!==bt.shadowMap.enabled||Wt!==bt.shadowMap.type)&&(bt.shadowMap.needsUpdate=!0)}const At=getColorManagement();At&&("enabled"in At?At.enabled=!mt:"legacyMode"in At&&(At.legacyMode=mt)),st||applyProps(bt,{outputEncoding:ft?3e3:3001,toneMapping:yt?NoToneMapping:ACESFilmicToneMapping}),Tt.legacy!==mt&&Tt.set(()=>({legacy:mt})),Tt.linear!==ft&&Tt.set(()=>({linear:ft})),Tt.flat!==yt&&Tt.set(()=>({flat:yt})),ct&&!is.fun(ct)&&!isRenderer(ct)&&!is.equ(ct,bt,shallowLoose)&&applyProps(bt,ct),ht&&!Tt.events.handlers&&Tt.set({events:ht(rt)});const Ot=computeInitialSize(s,ut);return is.equ(Ot,Tt.size,shallowLoose)||Tt.setSize(Ot.width,Ot.height,Ot.updateStyle,Ot.top,Ot.left),Et&&Tt.viewport.dpr!==calculateDpr(Et)&&Tt.setDpr(Et),Tt.frameloop!==vt&&Tt.setFrameloop(vt),Tt.onPointerMissed||Tt.set({onPointerMissed:Rt}),wt&&!is.equ(wt,Tt.performance,shallowLoose)&&Tt.set(Vt=>({performance:{...Vt.performance,...wt}})),ot=pt,st=!0,this},render(lt){return st||this.configure(),reconciler.updateContainer(jsx(Provider,{store:rt,children:lt,onCreated:ot,rootElement:s}),it,null,()=>{}),rt},unmount(){unmountComponentAtNode(s)}}}function Provider({store:s,children:o,onCreated:et,rootElement:tt}){return useIsomorphicLayoutEffect$1(()=>{const nt=s.getState();nt.set(rt=>({internal:{...rt.internal,active:!0}})),et&&et(nt),s.getState().events.connected||nt.events.connect==null||nt.events.connect(tt)},[]),jsx(context$3.Provider,{value:s,children:o})}function unmountComponentAtNode(s,o){const et=roots.get(s),tt=et?.fiber;if(tt){const nt=et?.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,tt,null,()=>{nt&&setTimeout(()=>{try{var rt,it,ot,st;nt.events.disconnect==null||nt.events.disconnect(),(rt=nt.gl)==null||(it=rt.renderLists)==null||it.dispose==null||it.dispose(),(ot=nt.gl)==null||ot.forceContextLoss==null||ot.forceContextLoss(),(st=nt.gl)!=null&&st.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(s),o&&o(s)}catch{}},500)})}}function createPortal(s,o,et){return jsx(Portal,{children:s,container:o,state:et},o.uuid)}function Portal({state:s={},children:o,container:et}){const{events:tt,size:nt,...rt}=s,it=useStore(),[ot]=reactExports.useState(()=>new Raycaster),[st]=reactExports.useState(()=>new Vector2),at=reactExports.useCallback((ct,ut)=>{const dt={...ct};Object.keys(ct).forEach(pt=>{(privateKeys.includes(pt)||ct[pt]!==ut[pt]&&ut[pt])&&delete dt[pt]});let ht;if(ut&&nt){const pt=ut.camera;ht=ct.viewport.getCurrentViewport(pt,new Vector3,nt),pt!==ct.camera&&updateCamera(pt,nt)}return{...dt,scene:et,raycaster:ot,pointer:st,mouse:st,previousRoot:it,events:{...ct.events,...ut?.events,...tt},size:{...ct.size,...nt},viewport:{...ct.viewport,...ht},...rt}},[s]),[lt]=reactExports.useState(()=>{const ct=it.getState();return create$1((dt,ht)=>({...ct,scene:et,raycaster:ot,pointer:st,mouse:st,previousRoot:it,events:{...ct.events,...tt},size:{...ct.size,...nt},...rt,set:dt,get:ht,setEvents:pt=>dt(gt=>({...gt,events:{...gt.events,...pt}}))}))});return reactExports.useEffect(()=>{const ct=it.subscribe(ut=>lt.setState(dt=>at(ut,dt)));return()=>{ct()}},[at]),reactExports.useEffect(()=>{lt.setState(ct=>at(it.getState(),ct))},[at]),reactExports.useEffect(()=>()=>{lt.destroy()},[]),jsx(Fragment,{children:reconciler.createPortal(jsx(context$3.Provider,{value:lt,children:o}),lt,null)})}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce(s,o,et){var tt,nt,rt,it,ot;o==null&&(o=100);function st(){var lt=Date.now()-it;lt<o&&lt>=0?tt=setTimeout(st,o-lt):(tt=null,et||(ot=s.apply(rt,nt),rt=nt=null))}var at=function(){rt=this,nt=arguments,it=Date.now();var lt=et&&!tt;return tt||(tt=setTimeout(st,o)),lt&&(ot=s.apply(rt,nt),rt=nt=null),ot};return at.clear=function(){tt&&(clearTimeout(tt),tt=null)},at.flush=function(){tt&&(ot=s.apply(rt,nt),rt=nt=null,clearTimeout(tt),tt=null)},at}debounce.debounce=debounce;var debounce_1=debounce;const createDebounce=getDefaultExportFromCjs$1(debounce_1);function useMeasure(s){let{debounce:o,scroll:et,polyfill:tt,offsetSize:nt}=s===void 0?{debounce:0,scroll:!1,offsetSize:!1}:s;const rt=tt||(typeof window>"u"?class{}:window.ResizeObserver);if(!rt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[it,ot]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),st=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:it}),at=o?typeof o=="number"?o:o.scroll:null,lt=o?typeof o=="number"?o:o.resize:null,ct=reactExports.useRef(!1);reactExports.useEffect(()=>(ct.current=!0,()=>void(ct.current=!1)));const[ut,dt,ht]=reactExports.useMemo(()=>{const yt=()=>{if(!st.current.element)return;const{left:mt,top:Ft,width:vt,height:Et,bottom:wt,right:It,x:St,y:Rt}=st.current.element.getBoundingClientRect(),Tt={left:mt,top:Ft,width:vt,height:Et,bottom:wt,right:It,x:St,y:Rt};st.current.element instanceof HTMLElement&&nt&&(Tt.height=st.current.element.offsetHeight,Tt.width=st.current.element.offsetWidth),Object.freeze(Tt),ct.current&&!areBoundsEqual(st.current.lastBounds,Tt)&&ot(st.current.lastBounds=Tt)};return[yt,lt?createDebounce(yt,lt):yt,at?createDebounce(yt,at):yt]},[ot,nt,at,lt]);function pt(){st.current.scrollContainers&&(st.current.scrollContainers.forEach(yt=>yt.removeEventListener("scroll",ht,!0)),st.current.scrollContainers=null),st.current.resizeObserver&&(st.current.resizeObserver.disconnect(),st.current.resizeObserver=null)}function gt(){st.current.element&&(st.current.resizeObserver=new rt(ht),st.current.resizeObserver.observe(st.current.element),et&&st.current.scrollContainers&&st.current.scrollContainers.forEach(yt=>yt.addEventListener("scroll",ht,{capture:!0,passive:!0})))}const ft=yt=>{!yt||yt===st.current.element||(pt(),st.current.element=yt,st.current.scrollContainers=findScrollContainers(yt),gt())};return useOnWindowScroll(ht,!!et),useOnWindowResize(dt),reactExports.useEffect(()=>{pt(),gt()},[et,ht,dt]),reactExports.useEffect(()=>pt,[]),[ft,it,ut]}function useOnWindowResize(s){reactExports.useEffect(()=>{const o=s;return window.addEventListener("resize",o),()=>void window.removeEventListener("resize",o)},[s])}function useOnWindowScroll(s,o){reactExports.useEffect(()=>{if(o){const et=s;return window.addEventListener("scroll",et,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",et,!0)}},[s,o])}function findScrollContainers(s){const o=[];if(!s||s===document.body)return o;const{overflow:et,overflowX:tt,overflowY:nt}=window.getComputedStyle(s);return[et,tt,nt].some(rt=>rt==="auto"||rt==="scroll")&&o.push(s),[...o,...findScrollContainers(s.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(s,o)=>keys.every(et=>s[et]===o[et]);var __defProp$2=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(s,o,et)=>o in s?__defProp$2(s,o,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[o]=et,__spreadValues$1=(s,o)=>{for(var et in o||(o={}))__hasOwnProp$1.call(o,et)&&__defNormalProp$2(s,et,o[et]);if(__getOwnPropSymbols$1)for(var et of __getOwnPropSymbols$1(o))__propIsEnum$1.call(o,et)&&__defNormalProp$2(s,et,o[et]);return s},__spreadProps$1=(s,o)=>__defProps$1(s,__getOwnPropDescs$1(o));function traverseFiber(s,o,et){if(!s)return;if(et(s)===!0)return s;let tt=o?s.return:s.child;for(;tt;){const nt=traverseFiber(tt,o,et);if(nt)return nt;tt=o?null:tt.sibling}}function wrapContext(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const s=reactExports.useContext(FiberContext);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const o=reactExports.useId();return reactExports.useMemo(()=>{for(const tt of[ReactCurrentOwner?.current,s,s?.alternate]){if(!tt)continue;const nt=traverseFiber(tt,!1,rt=>{let it=rt.memoizedState;for(;it;){if(it.memoizedState===o)return!0;it=it.next}});if(nt)return nt}},[s,o])}function useContextMap(){var s,o;const et=useFiber(),[tt]=reactExports.useState(()=>new Map);tt.clear();let nt=et;for(;nt;){const rt=(s=nt.type)==null?void 0:s._context;rt&&rt!==FiberContext&&!tt.has(rt)&&tt.set(rt,(o=ReactCurrentDispatcher?.current)==null?void 0:o.readContext(wrapContext(rt))),nt=nt.return}return tt}function useContextBridge(){const s=useContextMap();return reactExports.useMemo(()=>Array.from(s.keys()).reduce((o,et)=>tt=>reactExports.createElement(o,null,reactExports.createElement(et.Provider,__spreadProps$1(__spreadValues$1({},tt),{value:s.get(et)}))),o=>reactExports.createElement(FiberProvider,__spreadValues$1({},o))),[s])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(s){const{handlePointer:o}=createEvents(s);return{priority:1,enabled:!0,compute(et,tt,nt){tt.pointer.set(et.offsetX/tt.size.width*2-1,-(et.offsetY/tt.size.height)*2+1),tt.raycaster.setFromCamera(tt.pointer,tt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((et,tt)=>({...et,[tt]:o(tt)}),{}),update:()=>{var et;const{events:tt,internal:nt}=s.getState();(et=nt.lastEvent)!=null&&et.current&&tt.handlers&&tt.handlers.onPointerMove(nt.lastEvent.current)},connect:et=>{var tt;const{set:nt,events:rt}=s.getState();rt.disconnect==null||rt.disconnect(),nt(it=>({events:{...it.events,connected:et}})),Object.entries((tt=rt.handlers)!=null?tt:[]).forEach(([it,ot])=>{const[st,at]=DOM_EVENTS[it];et.addEventListener(st,ot,{passive:at})})},disconnect:()=>{const{set:et,events:tt}=s.getState();if(tt.connected){var nt;Object.entries((nt=tt.handlers)!=null?nt:[]).forEach(([rt,it])=>{if(tt&&tt.connected instanceof HTMLElement){const[ot]=DOM_EVENTS[rt];tt.connected.removeEventListener(ot,it)}}),et(rt=>({events:{...rt.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:o,fallback:et,resize:tt,style:nt,gl:rt,events:it=createPointerEvents,eventSource:ot,eventPrefix:st,shadows:at,linear:lt,flat:ct,legacy:ut,orthographic:dt,frameloop:ht,dpr:pt,performance:gt,raycaster:ft,camera:yt,scene:mt,onPointerMissed:Ft,onCreated:vt,...Et},wt){reactExports.useMemo(()=>extend(THREE$1),[]);const It=useContextBridge(),[St,Rt]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...tt}),Tt=reactExports.useRef(null),bt=reactExports.useRef(null);reactExports.useImperativeHandle(wt,()=>Tt.current);const xt=useMutableCallback(Ft),[Bt,Ct]=reactExports.useState(!1),[Mt,Nt]=reactExports.useState(!1);if(Bt)throw Bt;if(Mt)throw Mt;const At=reactExports.useRef(null);return useIsomorphicLayoutEffect$1(()=>{const Vt=Tt.current;Rt.width>0&&Rt.height>0&&Vt&&(At.current||(At.current=createRoot(Vt)),At.current.configure({gl:rt,events:it,shadows:at,linear:lt,flat:ct,legacy:ut,orthographic:dt,frameloop:ht,dpr:pt,performance:gt,raycaster:ft,camera:yt,scene:mt,size:Rt,onPointerMissed:(...Wt)=>xt.current==null?void 0:xt.current(...Wt),onCreated:Wt=>{Wt.events.connect==null||Wt.events.connect(ot?isRef(ot)?ot.current:ot:bt.current),st&&Wt.setEvents({compute:(Jt,qt)=>{const Ht=Jt[st+"X"],Xt=Jt[st+"Y"];qt.pointer.set(Ht/qt.size.width*2-1,-(Xt/qt.size.height)*2+1),qt.raycaster.setFromCamera(qt.pointer,qt.camera)}}),vt?.(Wt)}}),At.current.render(jsx(It,{children:jsx(ErrorBoundary,{set:Nt,children:jsx(reactExports.Suspense,{fallback:jsx(Block,{set:Ct}),children:o})})})))}),reactExports.useEffect(()=>{const Vt=Tt.current;if(Vt)return()=>unmountComponentAtNode(Vt)},[]),jsx("div",{ref:bt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ot?"none":"auto",...nt},...Et,children:jsx("div",{ref:St,style:{width:"100%",height:"100%"},children:jsx("canvas",{ref:Tt,style:{display:"block"},children:et})})})}),Canvas=reactExports.forwardRef(function(o,et){return jsx(FiberProvider,{children:jsx(CanvasImpl,{...o,ref:et})})});function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var et=arguments[o];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(s[tt]=et[tt])}return s},_extends.apply(this,arguments)}const v1$1=new Vector3,v2=new Vector3,v3=new Vector3,v4$1=new Vector2;function defaultCalculatePosition(s,o,et){const tt=v1$1.setFromMatrixPosition(s.matrixWorld);tt.project(o);const nt=et.width/2,rt=et.height/2;return[tt.x*nt+nt,-(tt.y*rt)+rt]}function isObjectBehindCamera(s,o){const et=v1$1.setFromMatrixPosition(s.matrixWorld),tt=v2.setFromMatrixPosition(o.matrixWorld),nt=et.sub(tt),rt=o.getWorldDirection(v3);return nt.angleTo(rt)>Math.PI/2}function isObjectVisible(s,o,et,tt){const nt=v1$1.setFromMatrixPosition(s.matrixWorld),rt=nt.clone();rt.project(o),v4$1.set(rt.x,rt.y),et.setFromCamera(v4$1,o);const it=et.intersectObjects(tt,!0);if(it.length){const ot=it[0].distance;return nt.distanceTo(et.ray.origin)<ot}return!0}function objectScale(s,o){if(o instanceof OrthographicCamera)return o.zoom;if(o instanceof PerspectiveCamera$1){const et=v1$1.setFromMatrixPosition(s.matrixWorld),tt=v2.setFromMatrixPosition(o.matrixWorld),nt=o.fov*Math.PI/180,rt=et.distanceTo(tt);return 1/(2*Math.tan(nt/2)*rt)}else return 1}function objectZIndex(s,o,et){if(o instanceof PerspectiveCamera$1||o instanceof OrthographicCamera){const tt=v1$1.setFromMatrixPosition(s.matrixWorld),nt=v2.setFromMatrixPosition(o.matrixWorld),rt=tt.distanceTo(nt),it=(et[1]-et[0])/(o.far-o.near),ot=et[1]-it*o.far;return Math.round(it*rt+ot)}}const epsilon=s=>Math.abs(s)<1e-10?0:s;function getCSSMatrix(s,o,et=""){let tt="matrix3d(";for(let nt=0;nt!==16;nt++)tt+=epsilon(o[nt]*s.elements[nt])+(nt!==15?",":")");return et+tt}const getCameraCSSMatrix=(s=>o=>getCSSMatrix(o,s))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(s=>(o,et)=>getCSSMatrix(o,s(et),"translate(-50%,-50%)"))(s=>[1/s,1/s,1/s,1,-1/s,-1/s,-1/s,-1,1/s,1/s,1/s,1,1,1,1,1]);function isRefObject(s){return s&&typeof s=="object"&&"current"in s}const Html=reactExports.forwardRef(({children:s,eps:o=.001,style:et,className:tt,prepend:nt,center:rt,fullscreen:it,portal:ot,distanceFactor:st,sprite:at=!1,transform:lt=!1,occlude:ct,onOcclude:ut,castShadow:dt,receiveShadow:ht,material:pt,geometry:gt,zIndexRange:ft=[16777271,0],calculatePosition:yt=defaultCalculatePosition,as:mt="div",wrapperClass:Ft,pointerEvents:vt="auto",...Et},wt)=>{const{gl:It,camera:St,scene:Rt,size:Tt,raycaster:bt,events:xt,viewport:Bt}=useThree(),[Ct]=reactExports.useState(()=>document.createElement(mt)),Mt=reactExports.useRef(),Nt=reactExports.useRef(null),At=reactExports.useRef(0),Ot=reactExports.useRef([0,0]),Vt=reactExports.useRef(null),Wt=reactExports.useRef(null),Jt=ot?.current||xt.connected||It.domElement.parentNode,qt=reactExports.useRef(null),Ht=reactExports.useRef(!1),Xt=reactExports.useMemo(()=>ct&&ct!=="blending"||Array.isArray(ct)&&ct.length&&isRefObject(ct[0]),[ct]);reactExports.useLayoutEffect(()=>{const tn=It.domElement;ct&&ct==="blending"?(tn.style.zIndex=`${Math.floor(ft[0]/2)}`,tn.style.position="absolute",tn.style.pointerEvents="none"):(tn.style.zIndex=null,tn.style.position=null,tn.style.pointerEvents=null)},[ct]),reactExports.useLayoutEffect(()=>{if(Nt.current){const tn=Mt.current=createRoot$1(Ct);if(Rt.updateMatrixWorld(),lt)Ct.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Gt=yt(Nt.current,St,Tt);Ct.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Gt[0]}px,${Gt[1]}px,0);transform-origin:0 0;`}return Jt&&(nt?Jt.prepend(Ct):Jt.appendChild(Ct)),()=>{Jt&&Jt.removeChild(Ct),tn.unmount()}}},[Jt,lt]),reactExports.useLayoutEffect(()=>{Ft&&(Ct.className=Ft)},[Ft]);const Lt=reactExports.useMemo(()=>lt?{position:"absolute",top:0,left:0,width:Tt.width,height:Tt.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:rt?"translate3d(-50%,-50%,0)":"none",...it&&{top:-Tt.height/2,left:-Tt.width/2,width:Tt.width,height:Tt.height},...et},[et,rt,it,Tt,lt]),Pt=reactExports.useMemo(()=>({position:"absolute",pointerEvents:vt}),[vt]);reactExports.useLayoutEffect(()=>{if(Ht.current=!1,lt){var tn;(tn=Mt.current)==null||tn.render(reactExports.createElement("div",{ref:Vt,style:Lt},reactExports.createElement("div",{ref:Wt,style:Pt},reactExports.createElement("div",{ref:wt,className:tt,style:et,children:s}))))}else{var Gt;(Gt=Mt.current)==null||Gt.render(reactExports.createElement("div",{ref:wt,style:Lt,className:tt,children:s}))}});const kt=reactExports.useRef(!0);useFrame(tn=>{if(Nt.current){St.updateMatrixWorld(),Nt.current.updateWorldMatrix(!0,!1);const Gt=lt?Ot.current:yt(Nt.current,St,Tt);if(lt||Math.abs(At.current-St.zoom)>o||Math.abs(Ot.current[0]-Gt[0])>o||Math.abs(Ot.current[1]-Gt[1])>o){const en=isObjectBehindCamera(Nt.current,St);let cn=!1;Xt&&(Array.isArray(ct)?cn=ct.map(pn=>pn.current):ct!=="blending"&&(cn=[Rt]));const Zt=kt.current;if(cn){const pn=isObjectVisible(Nt.current,St,bt,cn);kt.current=pn&&!en}else kt.current=!en;Zt!==kt.current&&(ut?ut(!kt.current):Ct.style.display=kt.current?"block":"none");const dn=Math.floor(ft[0]/2),Fn=ct?Xt?[ft[0],dn]:[dn-1,0]:ft;if(Ct.style.zIndex=`${objectZIndex(Nt.current,St,Fn)}`,lt){const[pn,un]=[Tt.width/2,Tt.height/2],bn=St.projectionMatrix.elements[5]*un,{isOrthographicCamera:an,top:rn,left:mn,bottom:xn,right:wn}=St,Mn=getCameraCSSMatrix(St.matrixWorldInverse),or=an?`scale(${bn})translate(${epsilon(-(wn+mn)/2)}px,${epsilon((rn+xn)/2)}px)`:`translateZ(${bn}px)`;let ir=Nt.current.matrixWorld;at&&(ir=St.matrixWorldInverse.clone().transpose().copyPosition(ir).scale(Nt.current.scale),ir.elements[3]=ir.elements[7]=ir.elements[11]=0,ir.elements[15]=1),Ct.style.width=Tt.width+"px",Ct.style.height=Tt.height+"px",Ct.style.perspective=an?"":`${bn}px`,Vt.current&&Wt.current&&(Vt.current.style.transform=`${or}${Mn}translate(${pn}px,${un}px)`,Wt.current.style.transform=getObjectCSSMatrix(ir,1/((st||10)/400)))}else{const pn=st===void 0?1:objectScale(Nt.current,St)*st;Ct.style.transform=`translate3d(${Gt[0]}px,${Gt[1]}px,0) scale(${pn})`}Ot.current=Gt,At.current=St.zoom}}if(!Xt&&qt.current&&!Ht.current)if(lt){if(Vt.current){const Gt=Vt.current.children[0];if(Gt!=null&&Gt.clientWidth&&Gt!=null&&Gt.clientHeight){const{isOrthographicCamera:en}=St;if(en||gt)Et.scale&&(Array.isArray(Et.scale)?Et.scale instanceof Vector3?qt.current.scale.copy(Et.scale.clone().divideScalar(1)):qt.current.scale.set(1/Et.scale[0],1/Et.scale[1],1/Et.scale[2]):qt.current.scale.setScalar(1/Et.scale));else{const cn=(st||10)/400,Zt=Gt.clientWidth*cn,dn=Gt.clientHeight*cn;qt.current.scale.set(Zt,dn,1)}Ht.current=!0}}}else{const Gt=Ct.children[0];if(Gt!=null&&Gt.clientWidth&&Gt!=null&&Gt.clientHeight){const en=1/Bt.factor,cn=Gt.clientWidth*en,Zt=Gt.clientHeight*en;qt.current.scale.set(cn,Zt,1),Ht.current=!0}qt.current.lookAt(tn.camera.position)}});const zt=reactExports.useMemo(()=>({vertexShader:lt?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[lt]);return reactExports.createElement("group",_extends({},Et,{ref:Nt}),ct&&!Xt&&reactExports.createElement("mesh",{castShadow:dt,receiveShadow:ht,ref:qt},gt||reactExports.createElement("planeGeometry",null),pt||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:zt.vertexShader,fragmentShader:zt.fragmentShader})))});let webGL2Available;function isWebGL2Available(){var s;if(webGL2Available!==void 0)return webGL2Available;try{let o;const et=document.createElement("canvas");return webGL2Available=!!(window.WebGL2RenderingContext&&(o=et.getContext("webgl2"))),o&&((s=o.getExtension("WEBGL_lose_context"))==null||s.loseContext()),webGL2Available}catch{return webGL2Available=!1}}function toTrianglesDrawMode(s,o){if(o===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),s;if(o===TriangleFanDrawMode||o===TriangleStripDrawMode){let et=s.getIndex();if(et===null){const it=[],ot=s.getAttribute("position");if(ot!==void 0){for(let st=0;st<ot.count;st++)it.push(st);s.setIndex(it),et=s.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),s}const tt=et.count-2,nt=[];if(et)if(o===TriangleFanDrawMode)for(let it=1;it<=tt;it++)nt.push(et.getX(0)),nt.push(et.getX(it)),nt.push(et.getX(it+1));else for(let it=0;it<tt;it++)it%2===0?(nt.push(et.getX(it)),nt.push(et.getX(it+1)),nt.push(et.getX(it+2))):(nt.push(et.getX(it+2)),nt.push(et.getX(it+1)),nt.push(et.getX(it)));nt.length/3!==tt&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const rt=s.clone();return rt.setIndex(nt),rt.clearGroups(),rt}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",o),s}const version=parseInt(REVISION.replace(/\D+/g,""));function decodeText(s){if(typeof TextDecoder<"u")return new TextDecoder().decode(s);let o="";for(let et=0,tt=s.length;et<tt;et++)o+=String.fromCharCode(s[et]);try{return decodeURIComponent(escape(o))}catch{return o}}const SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",sRGBEncoding=3001,LinearEncoding=3e3;class GLTFLoader extends Loader{constructor(o){super(o),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(et){return new GLTFMaterialsClearcoatExtension(et)}),this.register(function(et){return new GLTFMaterialsDispersionExtension(et)}),this.register(function(et){return new GLTFTextureBasisUExtension(et)}),this.register(function(et){return new GLTFTextureWebPExtension(et)}),this.register(function(et){return new GLTFTextureAVIFExtension(et)}),this.register(function(et){return new GLTFMaterialsSheenExtension(et)}),this.register(function(et){return new GLTFMaterialsTransmissionExtension(et)}),this.register(function(et){return new GLTFMaterialsVolumeExtension(et)}),this.register(function(et){return new GLTFMaterialsIorExtension(et)}),this.register(function(et){return new GLTFMaterialsEmissiveStrengthExtension(et)}),this.register(function(et){return new GLTFMaterialsSpecularExtension(et)}),this.register(function(et){return new GLTFMaterialsIridescenceExtension(et)}),this.register(function(et){return new GLTFMaterialsAnisotropyExtension(et)}),this.register(function(et){return new GLTFMaterialsBumpExtension(et)}),this.register(function(et){return new GLTFLightsExtension(et)}),this.register(function(et){return new GLTFMeshoptCompression(et)}),this.register(function(et){return new GLTFMeshGpuInstancing(et)})}load(o,et,tt,nt){const rt=this;let it;if(this.resourcePath!=="")it=this.resourcePath;else if(this.path!==""){const at=LoaderUtils.extractUrlBase(o);it=LoaderUtils.resolveURL(at,this.path)}else it=LoaderUtils.extractUrlBase(o);this.manager.itemStart(o);const ot=function(at){nt?nt(at):console.error(at),rt.manager.itemError(o),rt.manager.itemEnd(o)},st=new FileLoader(this.manager);st.setPath(this.path),st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(o,function(at){try{rt.parse(at,it,function(lt){et(lt),rt.manager.itemEnd(o)},ot)}catch(lt){ot(lt)}},tt,ot)}setDRACOLoader(o){return this.dracoLoader=o,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(o){return this.ktx2Loader=o,this}setMeshoptDecoder(o){return this.meshoptDecoder=o,this}register(o){return this.pluginCallbacks.indexOf(o)===-1&&this.pluginCallbacks.push(o),this}unregister(o){return this.pluginCallbacks.indexOf(o)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(o),1),this}parse(o,et,tt,nt){let rt;const it={},ot={};if(typeof o=="string")rt=JSON.parse(o);else if(o instanceof ArrayBuffer)if(decodeText(new Uint8Array(o.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{it[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(o)}catch(lt){nt&&nt(lt);return}rt=JSON.parse(it[EXTENSIONS.KHR_BINARY_GLTF].content)}else rt=JSON.parse(decodeText(new Uint8Array(o)));else rt=o;if(rt.asset===void 0||rt.asset.version[0]<2){nt&&nt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const st=new GLTFParser(rt,{path:et||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});st.fileLoader.setRequestHeader(this.requestHeader);for(let at=0;at<this.pluginCallbacks.length;at++){const lt=this.pluginCallbacks[at](st);lt.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),ot[lt.name]=lt,it[lt.name]=!0}if(rt.extensionsUsed)for(let at=0;at<rt.extensionsUsed.length;++at){const lt=rt.extensionsUsed[at],ct=rt.extensionsRequired||[];switch(lt){case EXTENSIONS.KHR_MATERIALS_UNLIT:it[lt]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:it[lt]=new GLTFDracoMeshCompressionExtension(rt,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:it[lt]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:it[lt]=new GLTFMeshQuantizationExtension;break;default:ct.indexOf(lt)>=0&&ot[lt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+lt+'".')}}st.setExtensions(it),st.setPlugins(ot),st.parse(tt,nt)}parseAsync(o,et){const tt=this;return new Promise(function(nt,rt){tt.parse(o,et,nt,rt)})}}function GLTFRegistry(){let s={};return{get:function(o){return s[o]},add:function(o,et){s[o]=et},remove:function(o){delete s[o]},removeAll:function(){s={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const o=this.parser,et=this.parser.json.nodes||[];for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];rt.extensions&&rt.extensions[this.name]&&rt.extensions[this.name].light!==void 0&&o._addNodeRef(this.cache,rt.extensions[this.name].light)}}_loadLight(o){const et=this.parser,tt="light:"+o;let nt=et.cache.get(tt);if(nt)return nt;const rt=et.json,st=((rt.extensions&&rt.extensions[this.name]||{}).lights||[])[o];let at;const lt=new Color$1(16777215);st.color!==void 0&&lt.setRGB(st.color[0],st.color[1],st.color[2],LinearSRGBColorSpace);const ct=st.range!==void 0?st.range:0;switch(st.type){case"directional":at=new DirectionalLight(lt),at.target.position.set(0,0,-1),at.add(at.target);break;case"point":at=new PointLight(lt),at.distance=ct;break;case"spot":at=new SpotLight(lt),at.distance=ct,st.spot=st.spot||{},st.spot.innerConeAngle=st.spot.innerConeAngle!==void 0?st.spot.innerConeAngle:0,st.spot.outerConeAngle=st.spot.outerConeAngle!==void 0?st.spot.outerConeAngle:Math.PI/4,at.angle=st.spot.outerConeAngle,at.penumbra=1-st.spot.innerConeAngle/st.spot.outerConeAngle,at.target.position.set(0,0,-1),at.add(at.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+st.type)}return at.position.set(0,0,0),at.decay=2,assignExtrasToUserData(at,st),st.intensity!==void 0&&(at.intensity=st.intensity),at.name=et.createUniqueName(st.name||"light_"+o),nt=Promise.resolve(at),et.cache.add(tt,nt),nt}getDependency(o,et){if(o==="light")return this._loadLight(et)}createNodeAttachment(o){const et=this,tt=this.parser,rt=tt.json.nodes[o],ot=(rt.extensions&&rt.extensions[this.name]||{}).light;return ot===void 0?null:this._loadLight(ot).then(function(st){return tt._getNodeRef(et.cache,ot,st)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(o,et,tt){const nt=[];o.color=new Color$1(1,1,1),o.opacity=1;const rt=et.pbrMetallicRoughness;if(rt){if(Array.isArray(rt.baseColorFactor)){const it=rt.baseColorFactor;o.color.setRGB(it[0],it[1],it[2],LinearSRGBColorSpace),o.opacity=it[3]}rt.baseColorTexture!==void 0&&nt.push(tt.assignTexture(o,"map",rt.baseColorTexture,SRGBColorSpace))}return Promise.all(nt)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(o,et){const nt=this.parser.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=nt.extensions[this.name].emissiveStrength;return rt!==void 0&&(et.emissiveIntensity=rt),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];if(it.clearcoatFactor!==void 0&&(et.clearcoat=it.clearcoatFactor),it.clearcoatTexture!==void 0&&rt.push(tt.assignTexture(et,"clearcoatMap",it.clearcoatTexture)),it.clearcoatRoughnessFactor!==void 0&&(et.clearcoatRoughness=it.clearcoatRoughnessFactor),it.clearcoatRoughnessTexture!==void 0&&rt.push(tt.assignTexture(et,"clearcoatRoughnessMap",it.clearcoatRoughnessTexture)),it.clearcoatNormalTexture!==void 0&&(rt.push(tt.assignTexture(et,"clearcoatNormalMap",it.clearcoatNormalTexture)),it.clearcoatNormalTexture.scale!==void 0)){const ot=it.clearcoatNormalTexture.scale;et.clearcoatNormalScale=new Vector2(ot,ot)}return Promise.all(rt)}}class GLTFMaterialsDispersionExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const nt=this.parser.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=nt.extensions[this.name];return et.dispersion=rt.dispersion!==void 0?rt.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];return it.iridescenceFactor!==void 0&&(et.iridescence=it.iridescenceFactor),it.iridescenceTexture!==void 0&&rt.push(tt.assignTexture(et,"iridescenceMap",it.iridescenceTexture)),it.iridescenceIor!==void 0&&(et.iridescenceIOR=it.iridescenceIor),et.iridescenceThicknessRange===void 0&&(et.iridescenceThicknessRange=[100,400]),it.iridescenceThicknessMinimum!==void 0&&(et.iridescenceThicknessRange[0]=it.iridescenceThicknessMinimum),it.iridescenceThicknessMaximum!==void 0&&(et.iridescenceThicknessRange[1]=it.iridescenceThicknessMaximum),it.iridescenceThicknessTexture!==void 0&&rt.push(tt.assignTexture(et,"iridescenceThicknessMap",it.iridescenceThicknessTexture)),Promise.all(rt)}}class GLTFMaterialsSheenExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[];et.sheenColor=new Color$1(0,0,0),et.sheenRoughness=0,et.sheen=1;const it=nt.extensions[this.name];if(it.sheenColorFactor!==void 0){const ot=it.sheenColorFactor;et.sheenColor.setRGB(ot[0],ot[1],ot[2],LinearSRGBColorSpace)}return it.sheenRoughnessFactor!==void 0&&(et.sheenRoughness=it.sheenRoughnessFactor),it.sheenColorTexture!==void 0&&rt.push(tt.assignTexture(et,"sheenColorMap",it.sheenColorTexture,SRGBColorSpace)),it.sheenRoughnessTexture!==void 0&&rt.push(tt.assignTexture(et,"sheenRoughnessMap",it.sheenRoughnessTexture)),Promise.all(rt)}}class GLTFMaterialsTransmissionExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];return it.transmissionFactor!==void 0&&(et.transmission=it.transmissionFactor),it.transmissionTexture!==void 0&&rt.push(tt.assignTexture(et,"transmissionMap",it.transmissionTexture)),Promise.all(rt)}}class GLTFMaterialsVolumeExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];et.thickness=it.thicknessFactor!==void 0?it.thicknessFactor:0,it.thicknessTexture!==void 0&&rt.push(tt.assignTexture(et,"thicknessMap",it.thicknessTexture)),et.attenuationDistance=it.attenuationDistance||1/0;const ot=it.attenuationColor||[1,1,1];return et.attenuationColor=new Color$1().setRGB(ot[0],ot[1],ot[2],LinearSRGBColorSpace),Promise.all(rt)}}class GLTFMaterialsIorExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const nt=this.parser.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=nt.extensions[this.name];return et.ior=rt.ior!==void 0?rt.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];et.specularIntensity=it.specularFactor!==void 0?it.specularFactor:1,it.specularTexture!==void 0&&rt.push(tt.assignTexture(et,"specularIntensityMap",it.specularTexture));const ot=it.specularColorFactor||[1,1,1];return et.specularColor=new Color$1().setRGB(ot[0],ot[1],ot[2],LinearSRGBColorSpace),it.specularColorTexture!==void 0&&rt.push(tt.assignTexture(et,"specularColorMap",it.specularColorTexture,SRGBColorSpace)),Promise.all(rt)}}class GLTFMaterialsBumpExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];return et.bumpScale=it.bumpFactor!==void 0?it.bumpFactor:1,it.bumpTexture!==void 0&&rt.push(tt.assignTexture(et,"bumpMap",it.bumpTexture)),Promise.all(rt)}}class GLTFMaterialsAnisotropyExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(o){const tt=this.parser.json.materials[o];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,et){const tt=this.parser,nt=tt.json.materials[o];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];return it.anisotropyStrength!==void 0&&(et.anisotropy=it.anisotropyStrength),it.anisotropyRotation!==void 0&&(et.anisotropyRotation=it.anisotropyRotation),it.anisotropyTexture!==void 0&&rt.push(tt.assignTexture(et,"anisotropyMap",it.anisotropyTexture)),Promise.all(rt)}}class GLTFTextureBasisUExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(o){const et=this.parser,tt=et.json,nt=tt.textures[o];if(!nt.extensions||!nt.extensions[this.name])return null;const rt=nt.extensions[this.name],it=et.options.ktx2Loader;if(!it){if(tt.extensionsRequired&&tt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return et.loadTextureImage(o,rt.source,it)}}class GLTFTextureWebPExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(o){const et=this.name,tt=this.parser,nt=tt.json,rt=nt.textures[o];if(!rt.extensions||!rt.extensions[et])return null;const it=rt.extensions[et],ot=nt.images[it.source];let st=tt.textureLoader;if(ot.uri){const at=tt.options.manager.getHandler(ot.uri);at!==null&&(st=at)}return this.detectSupport().then(function(at){if(at)return tt.loadTextureImage(o,it.source,st);if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(et)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return tt.loadTexture(o)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(o){const et=new Image;et.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",et.onload=et.onerror=function(){o(et.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(o){const et=this.name,tt=this.parser,nt=tt.json,rt=nt.textures[o];if(!rt.extensions||!rt.extensions[et])return null;const it=rt.extensions[et],ot=nt.images[it.source];let st=tt.textureLoader;if(ot.uri){const at=tt.options.manager.getHandler(ot.uri);at!==null&&(st=at)}return this.detectSupport().then(function(at){if(at)return tt.loadTextureImage(o,it.source,st);if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(et)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return tt.loadTexture(o)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(o){const et=new Image;et.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",et.onload=et.onerror=function(){o(et.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(o){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=o}loadBufferView(o){const et=this.parser.json,tt=et.bufferViews[o];if(tt.extensions&&tt.extensions[this.name]){const nt=tt.extensions[this.name],rt=this.parser.getDependency("buffer",nt.buffer),it=this.parser.options.meshoptDecoder;if(!it||!it.supported){if(et.extensionsRequired&&et.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return rt.then(function(ot){const st=nt.byteOffset||0,at=nt.byteLength||0,lt=nt.count,ct=nt.byteStride,ut=new Uint8Array(ot,st,at);return it.decodeGltfBufferAsync?it.decodeGltfBufferAsync(lt,ct,ut,nt.mode,nt.filter).then(function(dt){return dt.buffer}):it.ready.then(function(){const dt=new ArrayBuffer(lt*ct);return it.decodeGltfBuffer(new Uint8Array(dt),lt,ct,ut,nt.mode,nt.filter),dt})})}else return null}}class GLTFMeshGpuInstancing{constructor(o){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=o}createNodeMesh(o){const et=this.parser.json,tt=et.nodes[o];if(!tt.extensions||!tt.extensions[this.name]||tt.mesh===void 0)return null;const nt=et.meshes[tt.mesh];for(const at of nt.primitives)if(at.mode!==WEBGL_CONSTANTS.TRIANGLES&&at.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&at.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&at.mode!==void 0)return null;const it=tt.extensions[this.name].attributes,ot=[],st={};for(const at in it)ot.push(this.parser.getDependency("accessor",it[at]).then(lt=>(st[at]=lt,st[at])));return ot.length<1?null:(ot.push(this.parser.createNodeMesh(o)),Promise.all(ot).then(at=>{const lt=at.pop(),ct=lt.isGroup?lt.children:[lt],ut=at[0].count,dt=[];for(const ht of ct){const pt=new Matrix4,gt=new Vector3,ft=new Quaternion,yt=new Vector3(1,1,1),mt=new InstancedMesh(ht.geometry,ht.material,ut);for(let Ft=0;Ft<ut;Ft++)st.TRANSLATION&&gt.fromBufferAttribute(st.TRANSLATION,Ft),st.ROTATION&&ft.fromBufferAttribute(st.ROTATION,Ft),st.SCALE&&yt.fromBufferAttribute(st.SCALE,Ft),mt.setMatrixAt(Ft,pt.compose(gt,ft,yt));for(const Ft in st)if(Ft==="_COLOR_0"){const vt=st[Ft];mt.instanceColor=new InstancedBufferAttribute(vt.array,vt.itemSize,vt.normalized)}else Ft!=="TRANSLATION"&&Ft!=="ROTATION"&&Ft!=="SCALE"&&ht.geometry.setAttribute(Ft,st[Ft]);Object3D.prototype.copy.call(mt,ht),this.parser.assignFinalMaterial(mt),dt.push(mt)}return lt.isGroup?(lt.clear(),lt.add(...dt),lt):dt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(o){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const et=new DataView(o,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:decodeText(new Uint8Array(o.slice(0,4))),version:et.getUint32(4,!0),length:et.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const tt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,nt=new DataView(o,BINARY_EXTENSION_HEADER_LENGTH);let rt=0;for(;rt<tt;){const it=nt.getUint32(rt,!0);rt+=4;const ot=nt.getUint32(rt,!0);if(rt+=4,ot===BINARY_EXTENSION_CHUNK_TYPES.JSON){const st=new Uint8Array(o,BINARY_EXTENSION_HEADER_LENGTH+rt,it);this.content=decodeText(st)}else if(ot===BINARY_EXTENSION_CHUNK_TYPES.BIN){const st=BINARY_EXTENSION_HEADER_LENGTH+rt;this.body=o.slice(st,st+it)}rt+=it}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(o,et){if(!et)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=o,this.dracoLoader=et,this.dracoLoader.preload()}decodePrimitive(o,et){const tt=this.json,nt=this.dracoLoader,rt=o.extensions[this.name].bufferView,it=o.extensions[this.name].attributes,ot={},st={},at={};for(const lt in it){const ct=ATTRIBUTES[lt]||lt.toLowerCase();ot[ct]=it[lt]}for(const lt in o.attributes){const ct=ATTRIBUTES[lt]||lt.toLowerCase();if(it[lt]!==void 0){const ut=tt.accessors[o.attributes[lt]],dt=WEBGL_COMPONENT_TYPES[ut.componentType];at[ct]=dt.name,st[ct]=ut.normalized===!0}}return et.getDependency("bufferView",rt).then(function(lt){return new Promise(function(ct,ut){nt.decodeDracoFile(lt,function(dt){for(const ht in dt.attributes){const pt=dt.attributes[ht],gt=st[ht];gt!==void 0&&(pt.normalized=gt)}ct(dt)},ot,at,LinearSRGBColorSpace,ut)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(o,et){return(et.texCoord===void 0||et.texCoord===o.channel)&&et.offset===void 0&&et.rotation===void 0&&et.scale===void 0||(o=o.clone(),et.texCoord!==void 0&&(o.channel=et.texCoord),et.offset!==void 0&&o.offset.fromArray(et.offset),et.rotation!==void 0&&(o.rotation=et.rotation),et.scale!==void 0&&o.repeat.fromArray(et.scale),o.needsUpdate=!0),o}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(o,et,tt,nt){super(o,et,tt,nt)}copySampleValue_(o){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=o*nt*3+nt;for(let it=0;it!==nt;it++)et[it]=tt[rt+it];return et}interpolate_(o,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,ot=this.valueSize,st=ot*2,at=ot*3,lt=nt-et,ct=(tt-et)/lt,ut=ct*ct,dt=ut*ct,ht=o*at,pt=ht-at,gt=-2*dt+3*ut,ft=dt-ut,yt=1-gt,mt=ft-ut+ct;for(let Ft=0;Ft!==ot;Ft++){const vt=it[pt+Ft+ot],Et=it[pt+Ft+st]*lt,wt=it[ht+Ft+ot],It=it[ht+Ft]*lt;rt[Ft]=yt*vt+mt*Et+gt*wt+ft*It}return rt}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(o,et,tt,nt){const rt=super.interpolate_(o,et,tt,nt);return _q.fromArray(rt).normalize().toArray(rt),rt}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...version>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(s){return s.DefaultMaterial===void 0&&(s.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),s.DefaultMaterial}function addUnknownExtensionsToUserData(s,o,et){for(const tt in et.extensions)s[tt]===void 0&&(o.userData.gltfExtensions=o.userData.gltfExtensions||{},o.userData.gltfExtensions[tt]=et.extensions[tt])}function assignExtrasToUserData(s,o){o.extras!==void 0&&(typeof o.extras=="object"?Object.assign(s.userData,o.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+o.extras))}function addMorphTargets(s,o,et){let tt=!1,nt=!1,rt=!1;for(let at=0,lt=o.length;at<lt;at++){const ct=o[at];if(ct.POSITION!==void 0&&(tt=!0),ct.NORMAL!==void 0&&(nt=!0),ct.COLOR_0!==void 0&&(rt=!0),tt&&nt&&rt)break}if(!tt&&!nt&&!rt)return Promise.resolve(s);const it=[],ot=[],st=[];for(let at=0,lt=o.length;at<lt;at++){const ct=o[at];if(tt){const ut=ct.POSITION!==void 0?et.getDependency("accessor",ct.POSITION):s.attributes.position;it.push(ut)}if(nt){const ut=ct.NORMAL!==void 0?et.getDependency("accessor",ct.NORMAL):s.attributes.normal;ot.push(ut)}if(rt){const ut=ct.COLOR_0!==void 0?et.getDependency("accessor",ct.COLOR_0):s.attributes.color;st.push(ut)}}return Promise.all([Promise.all(it),Promise.all(ot),Promise.all(st)]).then(function(at){const lt=at[0],ct=at[1],ut=at[2];return tt&&(s.morphAttributes.position=lt),nt&&(s.morphAttributes.normal=ct),rt&&(s.morphAttributes.color=ut),s.morphTargetsRelative=!0,s})}function updateMorphTargets(s,o){if(s.updateMorphTargets(),o.weights!==void 0)for(let et=0,tt=o.weights.length;et<tt;et++)s.morphTargetInfluences[et]=o.weights[et];if(o.extras&&Array.isArray(o.extras.targetNames)){const et=o.extras.targetNames;if(s.morphTargetInfluences.length===et.length){s.morphTargetDictionary={};for(let tt=0,nt=et.length;tt<nt;tt++)s.morphTargetDictionary[et[tt]]=tt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(s){let o;const et=s.extensions&&s.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(et?o="draco:"+et.bufferView+":"+et.indices+":"+createAttributesKey(et.attributes):o=s.indices+":"+createAttributesKey(s.attributes)+":"+s.mode,s.targets!==void 0)for(let tt=0,nt=s.targets.length;tt<nt;tt++)o+=":"+createAttributesKey(s.targets[tt]);return o}function createAttributesKey(s){let o="";const et=Object.keys(s).sort();for(let tt=0,nt=et.length;tt<nt;tt++)o+=et[tt]+":"+s[et[tt]]+";";return o}function getNormalizedComponentScale(s){switch(s){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(s){return s.search(/\.jpe?g($|\?)/i)>0||s.search(/^data\:image\/jpeg/)===0?"image/jpeg":s.search(/\.webp($|\?)/i)>0||s.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(o={},et={}){this.json=o,this.extensions={},this.plugins={},this.options=et,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let tt=!1,nt=!1,rt=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(tt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,nt=navigator.userAgent.indexOf("Firefox")>-1,rt=nt?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||tt||nt&&rt<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(o){this.extensions=o}setPlugins(o){this.plugins=o}parse(o,et){const tt=this,nt=this.json,rt=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(it){return it._markDefs&&it._markDefs()}),Promise.all(this._invokeAll(function(it){return it.beforeRoot&&it.beforeRoot()})).then(function(){return Promise.all([tt.getDependencies("scene"),tt.getDependencies("animation"),tt.getDependencies("camera")])}).then(function(it){const ot={scene:it[0][nt.scene||0],scenes:it[0],animations:it[1],cameras:it[2],asset:nt.asset,parser:tt,userData:{}};return addUnknownExtensionsToUserData(rt,ot,nt),assignExtrasToUserData(ot,nt),Promise.all(tt._invokeAll(function(st){return st.afterRoot&&st.afterRoot(ot)})).then(function(){for(const st of ot.scenes)st.updateMatrixWorld();o(ot)})}).catch(et)}_markDefs(){const o=this.json.nodes||[],et=this.json.skins||[],tt=this.json.meshes||[];for(let nt=0,rt=et.length;nt<rt;nt++){const it=et[nt].joints;for(let ot=0,st=it.length;ot<st;ot++)o[it[ot]].isBone=!0}for(let nt=0,rt=o.length;nt<rt;nt++){const it=o[nt];it.mesh!==void 0&&(this._addNodeRef(this.meshCache,it.mesh),it.skin!==void 0&&(tt[it.mesh].isSkinnedMesh=!0)),it.camera!==void 0&&this._addNodeRef(this.cameraCache,it.camera)}}_addNodeRef(o,et){et!==void 0&&(o.refs[et]===void 0&&(o.refs[et]=o.uses[et]=0),o.refs[et]++)}_getNodeRef(o,et,tt){if(o.refs[et]<=1)return tt;const nt=tt.clone(),rt=(it,ot)=>{const st=this.associations.get(it);st!=null&&this.associations.set(ot,st);for(const[at,lt]of it.children.entries())rt(lt,ot.children[at])};return rt(tt,nt),nt.name+="_instance_"+o.uses[et]++,nt}_invokeOne(o){const et=Object.values(this.plugins);et.push(this);for(let tt=0;tt<et.length;tt++){const nt=o(et[tt]);if(nt)return nt}return null}_invokeAll(o){const et=Object.values(this.plugins);et.unshift(this);const tt=[];for(let nt=0;nt<et.length;nt++){const rt=o(et[nt]);rt&&tt.push(rt)}return tt}getDependency(o,et){const tt=o+":"+et;let nt=this.cache.get(tt);if(!nt){switch(o){case"scene":nt=this.loadScene(et);break;case"node":nt=this._invokeOne(function(rt){return rt.loadNode&&rt.loadNode(et)});break;case"mesh":nt=this._invokeOne(function(rt){return rt.loadMesh&&rt.loadMesh(et)});break;case"accessor":nt=this.loadAccessor(et);break;case"bufferView":nt=this._invokeOne(function(rt){return rt.loadBufferView&&rt.loadBufferView(et)});break;case"buffer":nt=this.loadBuffer(et);break;case"material":nt=this._invokeOne(function(rt){return rt.loadMaterial&&rt.loadMaterial(et)});break;case"texture":nt=this._invokeOne(function(rt){return rt.loadTexture&&rt.loadTexture(et)});break;case"skin":nt=this.loadSkin(et);break;case"animation":nt=this._invokeOne(function(rt){return rt.loadAnimation&&rt.loadAnimation(et)});break;case"camera":nt=this.loadCamera(et);break;default:if(nt=this._invokeOne(function(rt){return rt!=this&&rt.getDependency&&rt.getDependency(o,et)}),!nt)throw new Error("Unknown type: "+o);break}this.cache.add(tt,nt)}return nt}getDependencies(o){let et=this.cache.get(o);if(!et){const tt=this,nt=this.json[o+(o==="mesh"?"es":"s")]||[];et=Promise.all(nt.map(function(rt,it){return tt.getDependency(o,it)})),this.cache.add(o,et)}return et}loadBuffer(o){const et=this.json.buffers[o],tt=this.fileLoader;if(et.type&&et.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+et.type+" buffer type is not supported.");if(et.uri===void 0&&o===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const nt=this.options;return new Promise(function(rt,it){tt.load(LoaderUtils.resolveURL(et.uri,nt.path),rt,void 0,function(){it(new Error('THREE.GLTFLoader: Failed to load buffer "'+et.uri+'".'))})})}loadBufferView(o){const et=this.json.bufferViews[o];return this.getDependency("buffer",et.buffer).then(function(tt){const nt=et.byteLength||0,rt=et.byteOffset||0;return tt.slice(rt,rt+nt)})}loadAccessor(o){const et=this,tt=this.json,nt=this.json.accessors[o];if(nt.bufferView===void 0&&nt.sparse===void 0){const it=WEBGL_TYPE_SIZES[nt.type],ot=WEBGL_COMPONENT_TYPES[nt.componentType],st=nt.normalized===!0,at=new ot(nt.count*it);return Promise.resolve(new BufferAttribute(at,it,st))}const rt=[];return nt.bufferView!==void 0?rt.push(this.getDependency("bufferView",nt.bufferView)):rt.push(null),nt.sparse!==void 0&&(rt.push(this.getDependency("bufferView",nt.sparse.indices.bufferView)),rt.push(this.getDependency("bufferView",nt.sparse.values.bufferView))),Promise.all(rt).then(function(it){const ot=it[0],st=WEBGL_TYPE_SIZES[nt.type],at=WEBGL_COMPONENT_TYPES[nt.componentType],lt=at.BYTES_PER_ELEMENT,ct=lt*st,ut=nt.byteOffset||0,dt=nt.bufferView!==void 0?tt.bufferViews[nt.bufferView].byteStride:void 0,ht=nt.normalized===!0;let pt,gt;if(dt&&dt!==ct){const ft=Math.floor(ut/dt),yt="InterleavedBuffer:"+nt.bufferView+":"+nt.componentType+":"+ft+":"+nt.count;let mt=et.cache.get(yt);mt||(pt=new at(ot,ft*dt,nt.count*dt/lt),mt=new InterleavedBuffer(pt,dt/lt),et.cache.add(yt,mt)),gt=new InterleavedBufferAttribute(mt,st,ut%dt/lt,ht)}else ot===null?pt=new at(nt.count*st):pt=new at(ot,ut,nt.count*st),gt=new BufferAttribute(pt,st,ht);if(nt.sparse!==void 0){const ft=WEBGL_TYPE_SIZES.SCALAR,yt=WEBGL_COMPONENT_TYPES[nt.sparse.indices.componentType],mt=nt.sparse.indices.byteOffset||0,Ft=nt.sparse.values.byteOffset||0,vt=new yt(it[1],mt,nt.sparse.count*ft),Et=new at(it[2],Ft,nt.sparse.count*st);ot!==null&&(gt=new BufferAttribute(gt.array.slice(),gt.itemSize,gt.normalized));for(let wt=0,It=vt.length;wt<It;wt++){const St=vt[wt];if(gt.setX(St,Et[wt*st]),st>=2&&gt.setY(St,Et[wt*st+1]),st>=3&&gt.setZ(St,Et[wt*st+2]),st>=4&&gt.setW(St,Et[wt*st+3]),st>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return gt})}loadTexture(o){const et=this.json,tt=this.options,rt=et.textures[o].source,it=et.images[rt];let ot=this.textureLoader;if(it.uri){const st=tt.manager.getHandler(it.uri);st!==null&&(ot=st)}return this.loadTextureImage(o,rt,ot)}loadTextureImage(o,et,tt){const nt=this,rt=this.json,it=rt.textures[o],ot=rt.images[et],st=(ot.uri||ot.bufferView)+":"+it.sampler;if(this.textureCache[st])return this.textureCache[st];const at=this.loadImageSource(et,tt).then(function(lt){lt.flipY=!1,lt.name=it.name||ot.name||"",lt.name===""&&typeof ot.uri=="string"&&ot.uri.startsWith("data:image/")===!1&&(lt.name=ot.uri);const ut=(rt.samplers||{})[it.sampler]||{};return lt.magFilter=WEBGL_FILTERS[ut.magFilter]||LinearFilter,lt.minFilter=WEBGL_FILTERS[ut.minFilter]||LinearMipmapLinearFilter,lt.wrapS=WEBGL_WRAPPINGS[ut.wrapS]||RepeatWrapping,lt.wrapT=WEBGL_WRAPPINGS[ut.wrapT]||RepeatWrapping,nt.associations.set(lt,{textures:o}),lt}).catch(function(){return null});return this.textureCache[st]=at,at}loadImageSource(o,et){const tt=this,nt=this.json,rt=this.options;if(this.sourceCache[o]!==void 0)return this.sourceCache[o].then(ct=>ct.clone());const it=nt.images[o],ot=self.URL||self.webkitURL;let st=it.uri||"",at=!1;if(it.bufferView!==void 0)st=tt.getDependency("bufferView",it.bufferView).then(function(ct){at=!0;const ut=new Blob([ct],{type:it.mimeType});return st=ot.createObjectURL(ut),st});else if(it.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+o+" is missing URI and bufferView");const lt=Promise.resolve(st).then(function(ct){return new Promise(function(ut,dt){let ht=ut;et.isImageBitmapLoader===!0&&(ht=function(pt){const gt=new Texture(pt);gt.needsUpdate=!0,ut(gt)}),et.load(LoaderUtils.resolveURL(ct,rt.path),ht,void 0,dt)})}).then(function(ct){return at===!0&&ot.revokeObjectURL(st),assignExtrasToUserData(ct,it),ct.userData.mimeType=it.mimeType||getImageURIMimeType(it.uri),ct}).catch(function(ct){throw console.error("THREE.GLTFLoader: Couldn't load texture",st),ct});return this.sourceCache[o]=lt,lt}assignTexture(o,et,tt,nt){const rt=this;return this.getDependency("texture",tt.index).then(function(it){if(!it)return null;if(tt.texCoord!==void 0&&tt.texCoord>0&&(it=it.clone(),it.channel=tt.texCoord),rt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const ot=tt.extensions!==void 0?tt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(ot){const st=rt.associations.get(it);it=rt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(it,ot),rt.associations.set(it,st)}}return nt!==void 0&&(typeof nt=="number"&&(nt=nt===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace),"colorSpace"in it?it.colorSpace=nt:it.encoding=nt===SRGBColorSpace?sRGBEncoding:LinearEncoding),o[et]=it,it})}assignFinalMaterial(o){const et=o.geometry;let tt=o.material;const nt=et.attributes.tangent===void 0,rt=et.attributes.color!==void 0,it=et.attributes.normal===void 0;if(o.isPoints){const ot="PointsMaterial:"+tt.uuid;let st=this.cache.get(ot);st||(st=new PointsMaterial,Material.prototype.copy.call(st,tt),st.color.copy(tt.color),st.map=tt.map,st.sizeAttenuation=!1,this.cache.add(ot,st)),tt=st}else if(o.isLine){const ot="LineBasicMaterial:"+tt.uuid;let st=this.cache.get(ot);st||(st=new LineBasicMaterial,Material.prototype.copy.call(st,tt),st.color.copy(tt.color),st.map=tt.map,this.cache.add(ot,st)),tt=st}if(nt||rt||it){let ot="ClonedMaterial:"+tt.uuid+":";nt&&(ot+="derivative-tangents:"),rt&&(ot+="vertex-colors:"),it&&(ot+="flat-shading:");let st=this.cache.get(ot);st||(st=tt.clone(),rt&&(st.vertexColors=!0),it&&(st.flatShading=!0),nt&&(st.normalScale&&(st.normalScale.y*=-1),st.clearcoatNormalScale&&(st.clearcoatNormalScale.y*=-1)),this.cache.add(ot,st),this.associations.set(st,this.associations.get(tt))),tt=st}o.material=tt}getMaterialType(){return MeshStandardMaterial}loadMaterial(o){const et=this,tt=this.json,nt=this.extensions,rt=tt.materials[o];let it;const ot={},st=rt.extensions||{},at=[];if(st[EXTENSIONS.KHR_MATERIALS_UNLIT]){const ct=nt[EXTENSIONS.KHR_MATERIALS_UNLIT];it=ct.getMaterialType(),at.push(ct.extendParams(ot,rt,et))}else{const ct=rt.pbrMetallicRoughness||{};if(ot.color=new Color$1(1,1,1),ot.opacity=1,Array.isArray(ct.baseColorFactor)){const ut=ct.baseColorFactor;ot.color.setRGB(ut[0],ut[1],ut[2],LinearSRGBColorSpace),ot.opacity=ut[3]}ct.baseColorTexture!==void 0&&at.push(et.assignTexture(ot,"map",ct.baseColorTexture,SRGBColorSpace)),ot.metalness=ct.metallicFactor!==void 0?ct.metallicFactor:1,ot.roughness=ct.roughnessFactor!==void 0?ct.roughnessFactor:1,ct.metallicRoughnessTexture!==void 0&&(at.push(et.assignTexture(ot,"metalnessMap",ct.metallicRoughnessTexture)),at.push(et.assignTexture(ot,"roughnessMap",ct.metallicRoughnessTexture))),it=this._invokeOne(function(ut){return ut.getMaterialType&&ut.getMaterialType(o)}),at.push(Promise.all(this._invokeAll(function(ut){return ut.extendMaterialParams&&ut.extendMaterialParams(o,ot)})))}rt.doubleSided===!0&&(ot.side=DoubleSide);const lt=rt.alphaMode||ALPHA_MODES.OPAQUE;if(lt===ALPHA_MODES.BLEND?(ot.transparent=!0,ot.depthWrite=!1):(ot.transparent=!1,lt===ALPHA_MODES.MASK&&(ot.alphaTest=rt.alphaCutoff!==void 0?rt.alphaCutoff:.5)),rt.normalTexture!==void 0&&it!==MeshBasicMaterial&&(at.push(et.assignTexture(ot,"normalMap",rt.normalTexture)),ot.normalScale=new Vector2(1,1),rt.normalTexture.scale!==void 0)){const ct=rt.normalTexture.scale;ot.normalScale.set(ct,ct)}if(rt.occlusionTexture!==void 0&&it!==MeshBasicMaterial&&(at.push(et.assignTexture(ot,"aoMap",rt.occlusionTexture)),rt.occlusionTexture.strength!==void 0&&(ot.aoMapIntensity=rt.occlusionTexture.strength)),rt.emissiveFactor!==void 0&&it!==MeshBasicMaterial){const ct=rt.emissiveFactor;ot.emissive=new Color$1().setRGB(ct[0],ct[1],ct[2],LinearSRGBColorSpace)}return rt.emissiveTexture!==void 0&&it!==MeshBasicMaterial&&at.push(et.assignTexture(ot,"emissiveMap",rt.emissiveTexture,SRGBColorSpace)),Promise.all(at).then(function(){const ct=new it(ot);return rt.name&&(ct.name=rt.name),assignExtrasToUserData(ct,rt),et.associations.set(ct,{materials:o}),rt.extensions&&addUnknownExtensionsToUserData(nt,ct,rt),ct})}createUniqueName(o){const et=PropertyBinding.sanitizeNodeName(o||"");return et in this.nodeNamesUsed?et+"_"+ ++this.nodeNamesUsed[et]:(this.nodeNamesUsed[et]=0,et)}loadGeometries(o){const et=this,tt=this.extensions,nt=this.primitiveCache;function rt(ot){return tt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(ot,et).then(function(st){return addPrimitiveAttributes(st,ot,et)})}const it=[];for(let ot=0,st=o.length;ot<st;ot++){const at=o[ot],lt=createPrimitiveKey(at),ct=nt[lt];if(ct)it.push(ct.promise);else{let ut;at.extensions&&at.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ut=rt(at):ut=addPrimitiveAttributes(new BufferGeometry,at,et),nt[lt]={primitive:at,promise:ut},it.push(ut)}}return Promise.all(it)}loadMesh(o){const et=this,tt=this.json,nt=this.extensions,rt=tt.meshes[o],it=rt.primitives,ot=[];for(let st=0,at=it.length;st<at;st++){const lt=it[st].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",it[st].material);ot.push(lt)}return ot.push(et.loadGeometries(it)),Promise.all(ot).then(function(st){const at=st.slice(0,st.length-1),lt=st[st.length-1],ct=[];for(let dt=0,ht=lt.length;dt<ht;dt++){const pt=lt[dt],gt=it[dt];let ft;const yt=at[dt];if(gt.mode===WEBGL_CONSTANTS.TRIANGLES||gt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||gt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||gt.mode===void 0)ft=rt.isSkinnedMesh===!0?new SkinnedMesh(pt,yt):new Mesh(pt,yt),ft.isSkinnedMesh===!0&&ft.normalizeSkinWeights(),gt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?ft.geometry=toTrianglesDrawMode(ft.geometry,TriangleStripDrawMode):gt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(ft.geometry=toTrianglesDrawMode(ft.geometry,TriangleFanDrawMode));else if(gt.mode===WEBGL_CONSTANTS.LINES)ft=new LineSegments(pt,yt);else if(gt.mode===WEBGL_CONSTANTS.LINE_STRIP)ft=new Line$1(pt,yt);else if(gt.mode===WEBGL_CONSTANTS.LINE_LOOP)ft=new LineLoop(pt,yt);else if(gt.mode===WEBGL_CONSTANTS.POINTS)ft=new Points(pt,yt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+gt.mode);Object.keys(ft.geometry.morphAttributes).length>0&&updateMorphTargets(ft,rt),ft.name=et.createUniqueName(rt.name||"mesh_"+o),assignExtrasToUserData(ft,rt),gt.extensions&&addUnknownExtensionsToUserData(nt,ft,gt),et.assignFinalMaterial(ft),ct.push(ft)}for(let dt=0,ht=ct.length;dt<ht;dt++)et.associations.set(ct[dt],{meshes:o,primitives:dt});if(ct.length===1)return rt.extensions&&addUnknownExtensionsToUserData(nt,ct[0],rt),ct[0];const ut=new Group;rt.extensions&&addUnknownExtensionsToUserData(nt,ut,rt),et.associations.set(ut,{meshes:o});for(let dt=0,ht=ct.length;dt<ht;dt++)ut.add(ct[dt]);return ut})}loadCamera(o){let et;const tt=this.json.cameras[o],nt=tt[tt.type];if(!nt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return tt.type==="perspective"?et=new PerspectiveCamera$1(MathUtils.radToDeg(nt.yfov),nt.aspectRatio||1,nt.znear||1,nt.zfar||2e6):tt.type==="orthographic"&&(et=new OrthographicCamera(-nt.xmag,nt.xmag,nt.ymag,-nt.ymag,nt.znear,nt.zfar)),tt.name&&(et.name=this.createUniqueName(tt.name)),assignExtrasToUserData(et,tt),Promise.resolve(et)}loadSkin(o){const et=this.json.skins[o],tt=[];for(let nt=0,rt=et.joints.length;nt<rt;nt++)tt.push(this._loadNodeShallow(et.joints[nt]));return et.inverseBindMatrices!==void 0?tt.push(this.getDependency("accessor",et.inverseBindMatrices)):tt.push(null),Promise.all(tt).then(function(nt){const rt=nt.pop(),it=nt,ot=[],st=[];for(let at=0,lt=it.length;at<lt;at++){const ct=it[at];if(ct){ot.push(ct);const ut=new Matrix4;rt!==null&&ut.fromArray(rt.array,at*16),st.push(ut)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',et.joints[at])}return new Skeleton(ot,st)})}loadAnimation(o){const et=this.json,tt=this,nt=et.animations[o],rt=nt.name?nt.name:"animation_"+o,it=[],ot=[],st=[],at=[],lt=[];for(let ct=0,ut=nt.channels.length;ct<ut;ct++){const dt=nt.channels[ct],ht=nt.samplers[dt.sampler],pt=dt.target,gt=pt.node,ft=nt.parameters!==void 0?nt.parameters[ht.input]:ht.input,yt=nt.parameters!==void 0?nt.parameters[ht.output]:ht.output;pt.node!==void 0&&(it.push(this.getDependency("node",gt)),ot.push(this.getDependency("accessor",ft)),st.push(this.getDependency("accessor",yt)),at.push(ht),lt.push(pt))}return Promise.all([Promise.all(it),Promise.all(ot),Promise.all(st),Promise.all(at),Promise.all(lt)]).then(function(ct){const ut=ct[0],dt=ct[1],ht=ct[2],pt=ct[3],gt=ct[4],ft=[];for(let yt=0,mt=ut.length;yt<mt;yt++){const Ft=ut[yt],vt=dt[yt],Et=ht[yt],wt=pt[yt],It=gt[yt];if(Ft===void 0)continue;Ft.updateMatrix&&Ft.updateMatrix();const St=tt._createAnimationTracks(Ft,vt,Et,wt,It);if(St)for(let Rt=0;Rt<St.length;Rt++)ft.push(St[Rt])}return new AnimationClip(rt,void 0,ft)})}createNodeMesh(o){const et=this.json,tt=this,nt=et.nodes[o];return nt.mesh===void 0?null:tt.getDependency("mesh",nt.mesh).then(function(rt){const it=tt._getNodeRef(tt.meshCache,nt.mesh,rt);return nt.weights!==void 0&&it.traverse(function(ot){if(ot.isMesh)for(let st=0,at=nt.weights.length;st<at;st++)ot.morphTargetInfluences[st]=nt.weights[st]}),it})}loadNode(o){const et=this.json,tt=this,nt=et.nodes[o],rt=tt._loadNodeShallow(o),it=[],ot=nt.children||[];for(let at=0,lt=ot.length;at<lt;at++)it.push(tt.getDependency("node",ot[at]));const st=nt.skin===void 0?Promise.resolve(null):tt.getDependency("skin",nt.skin);return Promise.all([rt,Promise.all(it),st]).then(function(at){const lt=at[0],ct=at[1],ut=at[2];ut!==null&&lt.traverse(function(dt){dt.isSkinnedMesh&&dt.bind(ut,_identityMatrix)});for(let dt=0,ht=ct.length;dt<ht;dt++)lt.add(ct[dt]);return lt})}_loadNodeShallow(o){const et=this.json,tt=this.extensions,nt=this;if(this.nodeCache[o]!==void 0)return this.nodeCache[o];const rt=et.nodes[o],it=rt.name?nt.createUniqueName(rt.name):"",ot=[],st=nt._invokeOne(function(at){return at.createNodeMesh&&at.createNodeMesh(o)});return st&&ot.push(st),rt.camera!==void 0&&ot.push(nt.getDependency("camera",rt.camera).then(function(at){return nt._getNodeRef(nt.cameraCache,rt.camera,at)})),nt._invokeAll(function(at){return at.createNodeAttachment&&at.createNodeAttachment(o)}).forEach(function(at){ot.push(at)}),this.nodeCache[o]=Promise.all(ot).then(function(at){let lt;if(rt.isBone===!0?lt=new Bone:at.length>1?lt=new Group:at.length===1?lt=at[0]:lt=new Object3D,lt!==at[0])for(let ct=0,ut=at.length;ct<ut;ct++)lt.add(at[ct]);if(rt.name&&(lt.userData.name=rt.name,lt.name=it),assignExtrasToUserData(lt,rt),rt.extensions&&addUnknownExtensionsToUserData(tt,lt,rt),rt.matrix!==void 0){const ct=new Matrix4;ct.fromArray(rt.matrix),lt.applyMatrix4(ct)}else rt.translation!==void 0&&lt.position.fromArray(rt.translation),rt.rotation!==void 0&&lt.quaternion.fromArray(rt.rotation),rt.scale!==void 0&&lt.scale.fromArray(rt.scale);return nt.associations.has(lt)||nt.associations.set(lt,{}),nt.associations.get(lt).nodes=o,lt}),this.nodeCache[o]}loadScene(o){const et=this.extensions,tt=this.json.scenes[o],nt=this,rt=new Group;tt.name&&(rt.name=nt.createUniqueName(tt.name)),assignExtrasToUserData(rt,tt),tt.extensions&&addUnknownExtensionsToUserData(et,rt,tt);const it=tt.nodes||[],ot=[];for(let st=0,at=it.length;st<at;st++)ot.push(nt.getDependency("node",it[st]));return Promise.all(ot).then(function(st){for(let lt=0,ct=st.length;lt<ct;lt++)rt.add(st[lt]);const at=lt=>{const ct=new Map;for(const[ut,dt]of nt.associations)(ut instanceof Material||ut instanceof Texture)&&ct.set(ut,dt);return lt.traverse(ut=>{const dt=nt.associations.get(ut);dt!=null&&ct.set(ut,dt)}),ct};return nt.associations=at(rt),rt})}_createAnimationTracks(o,et,tt,nt,rt){const it=[],ot=o.name?o.name:o.uuid,st=[];PATH_PROPERTIES[rt.path]===PATH_PROPERTIES.weights?o.traverse(function(ut){ut.morphTargetInfluences&&st.push(ut.name?ut.name:ut.uuid)}):st.push(ot);let at;switch(PATH_PROPERTIES[rt.path]){case PATH_PROPERTIES.weights:at=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:at=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:at=VectorKeyframeTrack;break;default:switch(tt.itemSize){case 1:at=NumberKeyframeTrack;break;case 2:case 3:default:at=VectorKeyframeTrack;break}break}const lt=nt.interpolation!==void 0?INTERPOLATION[nt.interpolation]:InterpolateLinear,ct=this._getArrayFromAccessor(tt);for(let ut=0,dt=st.length;ut<dt;ut++){const ht=new at(st[ut]+"."+PATH_PROPERTIES[rt.path],et.array,ct,lt);nt.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(ht),it.push(ht)}return it}_getArrayFromAccessor(o){let et=o.array;if(o.normalized){const tt=getNormalizedComponentScale(et.constructor),nt=new Float32Array(et.length);for(let rt=0,it=et.length;rt<it;rt++)nt[rt]=et[rt]*tt;et=nt}return et}_createCubicSplineTrackInterpolant(o){o.createInterpolant=function(tt){const nt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new nt(this.times,this.values,this.getValueSize()/3,tt)},o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(s,o,et){const tt=o.attributes,nt=new Box3;if(tt.POSITION!==void 0){const ot=et.json.accessors[tt.POSITION],st=ot.min,at=ot.max;if(st!==void 0&&at!==void 0){if(nt.set(new Vector3(st[0],st[1],st[2]),new Vector3(at[0],at[1],at[2])),ot.normalized){const lt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ot.componentType]);nt.min.multiplyScalar(lt),nt.max.multiplyScalar(lt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const rt=o.targets;if(rt!==void 0){const ot=new Vector3,st=new Vector3;for(let at=0,lt=rt.length;at<lt;at++){const ct=rt[at];if(ct.POSITION!==void 0){const ut=et.json.accessors[ct.POSITION],dt=ut.min,ht=ut.max;if(dt!==void 0&&ht!==void 0){if(st.setX(Math.max(Math.abs(dt[0]),Math.abs(ht[0]))),st.setY(Math.max(Math.abs(dt[1]),Math.abs(ht[1]))),st.setZ(Math.max(Math.abs(dt[2]),Math.abs(ht[2]))),ut.normalized){const pt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ut.componentType]);st.multiplyScalar(pt)}ot.max(st)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}nt.expandByVector(ot)}s.boundingBox=nt;const it=new Sphere$1;nt.getCenter(it.center),it.radius=nt.min.distanceTo(nt.max)/2,s.boundingSphere=it}function addPrimitiveAttributes(s,o,et){const tt=o.attributes,nt=[];function rt(it,ot){return et.getDependency("accessor",it).then(function(st){s.setAttribute(ot,st)})}for(const it in tt){const ot=ATTRIBUTES[it]||it.toLowerCase();ot in s.attributes||nt.push(rt(tt[it],ot))}if(o.indices!==void 0&&!s.index){const it=et.getDependency("accessor",o.indices).then(function(ot){s.setIndex(ot)});nt.push(it)}return assignExtrasToUserData(s,o),computeBounds(s,o,et),Promise.all(nt).then(function(){return o.targets!==void 0?addMorphTargets(s,o.targets,et):s})}var __defProp$1=Object.defineProperty,__defNormalProp$1=(s,o,et)=>o in s?__defProp$1(s,o,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[o]=et,__publicField$1=(s,o,et)=>(__defNormalProp$1(s,typeof o!="symbol"?o+"":o,et),et);const MotionControllerConstants={Handedness:{NONE:"none",LEFT:"left",RIGHT:"right"},ComponentState:{DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"},ComponentProperty:{BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"},ComponentType:{TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"},ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:{TRANSFORM:"transform",VISIBILITY:"visibility"}};async function fetchJsonFile(s){const o=await fetch(s);if(o.ok)return o.json();throw new Error(o.statusText)}async function fetchProfilesList(s){if(!s)throw new Error("No basePath supplied");return await fetchJsonFile(`${s}/profilesList.json`)}async function fetchProfile(s,o,et=null,tt=!0){if(!s)throw new Error("No xrInputSource supplied");if(!o)throw new Error("No basePath supplied");const nt=await fetchProfilesList(o);let rt;if(s.profiles.some(st=>{const at=nt[st];return at&&(rt={profileId:st,profilePath:`${o}/${at.path}`,deprecated:!!at.deprecated}),!!rt}),!rt){if(!et)throw new Error("No matching profile name found");const st=nt[et];if(!st)throw new Error(`No matching profile name found and default profile "${et}" missing.`);rt={profileId:et,profilePath:`${o}/${st.path}`,deprecated:!!st.deprecated}}const it=await fetchJsonFile(rt.profilePath);let ot;if(tt){let st;if(s.handedness==="any"?st=it.layouts[Object.keys(it.layouts)[0]]:st=it.layouts[s.handedness],!st)throw new Error(`No matching handedness, ${s.handedness}, in profile ${rt.profileId}`);st.assetPath&&(ot=rt.profilePath.replace("profile.json",st.assetPath))}return{profile:it,assetPath:ot}}const defaultComponentValues={xAxis:0,yAxis:0,button:0,state:MotionControllerConstants.ComponentState.DEFAULT};function normalizeAxes(s=0,o=0){let et=s,tt=o;if(Math.sqrt(s*s+o*o)>1){const it=Math.atan2(o,s);et=Math.cos(it),tt=Math.sin(it)}return{normalizedXAxis:et*.5+.5,normalizedYAxis:tt*.5+.5}}class VisualResponse{constructor(o){__publicField$1(this,"value"),__publicField$1(this,"componentProperty"),__publicField$1(this,"states"),__publicField$1(this,"valueNodeName"),__publicField$1(this,"valueNodeProperty"),__publicField$1(this,"minNodeName"),__publicField$1(this,"maxNodeName"),__publicField$1(this,"valueNode"),__publicField$1(this,"minNode"),__publicField$1(this,"maxNode"),this.componentProperty=o.componentProperty,this.states=o.states,this.valueNodeName=o.valueNodeName,this.valueNodeProperty=o.valueNodeProperty,this.valueNodeProperty===MotionControllerConstants.VisualResponseProperty.TRANSFORM&&(this.minNodeName=o.minNodeName,this.maxNodeName=o.maxNodeName),this.value=0,this.updateFromComponent(defaultComponentValues)}updateFromComponent({xAxis:o,yAxis:et,button:tt,state:nt}){const{normalizedXAxis:rt,normalizedYAxis:it}=normalizeAxes(o,et);switch(this.componentProperty){case MotionControllerConstants.ComponentProperty.X_AXIS:this.value=this.states.includes(nt)?rt:.5;break;case MotionControllerConstants.ComponentProperty.Y_AXIS:this.value=this.states.includes(nt)?it:.5;break;case MotionControllerConstants.ComponentProperty.BUTTON:this.value=this.states.includes(nt)&&tt?tt:0;break;case MotionControllerConstants.ComponentProperty.STATE:this.valueNodeProperty===MotionControllerConstants.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(nt):this.value=this.states.includes(nt)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class Component{constructor(o,et){if(__publicField$1(this,"id"),__publicField$1(this,"values"),__publicField$1(this,"type"),__publicField$1(this,"gamepadIndices"),__publicField$1(this,"rootNodeName"),__publicField$1(this,"visualResponses"),__publicField$1(this,"touchPointNodeName"),__publicField$1(this,"touchPointNode"),!o||!et||!et.visualResponses||!et.gamepadIndices||Object.keys(et.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=o,this.type=et.type,this.rootNodeName=et.rootNodeName,this.touchPointNodeName=et.touchPointNodeName,this.visualResponses={},Object.keys(et.visualResponses).forEach(tt=>{const nt=new VisualResponse(et.visualResponses[tt]);this.visualResponses[tt]=nt}),this.gamepadIndices=Object.assign({},et.gamepadIndices),this.values={state:MotionControllerConstants.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(o){if(this.values.state=MotionControllerConstants.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&o.buttons.length>this.gamepadIndices.button){const et=o.buttons[this.gamepadIndices.button];this.values.button=et.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,et.pressed||this.values.button===1?this.values.state=MotionControllerConstants.ComponentState.PRESSED:(et.touched||this.values.button>MotionControllerConstants.ButtonTouchThreshold)&&(this.values.state=MotionControllerConstants.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&o.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=o.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===MotionControllerConstants.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>MotionControllerConstants.AxisTouchThreshold&&(this.values.state=MotionControllerConstants.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&o.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=o.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===MotionControllerConstants.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>MotionControllerConstants.AxisTouchThreshold&&(this.values.state=MotionControllerConstants.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(et=>{et.updateFromComponent(this.values)})}}class MotionController{constructor(o,et,tt){if(__publicField$1(this,"xrInputSource"),__publicField$1(this,"assetUrl"),__publicField$1(this,"layoutDescription"),__publicField$1(this,"id"),__publicField$1(this,"components"),!o)throw new Error("No xrInputSource supplied");if(!et)throw new Error("No profile supplied");if(!et.layouts[o.handedness])throw new Error("No layout for "+o.handedness+" handedness");this.xrInputSource=o,this.assetUrl=tt,this.id=et.profileId,this.layoutDescription=et.layouts[o.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(nt=>{const rt=this.layoutDescription.components[nt];this.components[nt]=new Component(nt,rt)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const o=[];return Object.values(this.components).forEach(et=>{o.push(et.data)}),o}updateFromGamepad(){Object.values(this.components).forEach(o=>{o.updateFromGamepad(this.xrInputSource.gamepad)})}}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(o){super(o),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(o){return this.decoderPath=o,this}setDecoderConfig(o){return this.decoderConfig=o,this}setWorkerLimit(o){return this.workerLimit=o,this}load(o,et,tt,nt){const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setResponseType("arraybuffer"),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials),rt.load(o,it=>{const ot={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(it,ot).then(et).catch(nt)},tt,nt)}decodeDracoFile(o,et,tt,nt){const rt={attributeIDs:tt||this.defaultAttributeIDs,attributeTypes:nt||this.defaultAttributeTypes,useUniqueIDs:!!tt};this.decodeGeometry(o,rt).then(et)}decodeGeometry(o,et){for(const st in et.attributeTypes){const at=et.attributeTypes[st];at.BYTES_PER_ELEMENT!==void 0&&(et.attributeTypes[st]=at.name)}const tt=JSON.stringify(et);if(_taskCache.has(o)){const st=_taskCache.get(o);if(st.key===tt)return st.promise;if(o.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let nt;const rt=this.workerNextTaskID++,it=o.byteLength,ot=this._getWorker(rt,it).then(st=>(nt=st,new Promise((at,lt)=>{nt._callbacks[rt]={resolve:at,reject:lt},nt.postMessage({type:"decode",id:rt,taskConfig:et,buffer:o},[o])}))).then(st=>this._createGeometry(st.geometry));return ot.catch(()=>!0).then(()=>{nt&&rt&&this._releaseTask(nt,rt)}),_taskCache.set(o,{key:tt,promise:ot}),ot}_createGeometry(o){const et=new BufferGeometry;o.index&&et.setIndex(new BufferAttribute(o.index.array,1));for(let tt=0;tt<o.attributes.length;tt++){const nt=o.attributes[tt],rt=nt.name,it=nt.array,ot=nt.itemSize;et.setAttribute(rt,new BufferAttribute(it,ot))}return et}_loadLibrary(o,et){const tt=new FileLoader(this.manager);return tt.setPath(this.decoderPath),tt.setResponseType(et),tt.setWithCredentials(this.withCredentials),new Promise((nt,rt)=>{tt.load(o,nt,void 0,rt)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const o=typeof WebAssembly!="object"||this.decoderConfig.type==="js",et=[];return o?et.push(this._loadLibrary("draco_decoder.js","text")):(et.push(this._loadLibrary("draco_wasm_wrapper.js","text")),et.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(et).then(tt=>{const nt=tt[0];o||(this.decoderConfig.wasmBinary=tt[1]);const rt=DRACOWorker.toString(),it=["/* draco decoder */",nt,"","/* worker */",rt.substring(rt.indexOf("{")+1,rt.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([it]))}),this.decoderPending}_getWorker(o,et){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const nt=new Worker(this.workerSourceURL);nt._callbacks={},nt._taskCosts={},nt._taskLoad=0,nt.postMessage({type:"init",decoderConfig:this.decoderConfig}),nt.onmessage=function(rt){const it=rt.data;switch(it.type){case"decode":nt._callbacks[it.id].resolve(it);break;case"error":nt._callbacks[it.id].reject(it);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+it.type+'"')}},this.workerPool.push(nt)}else this.workerPool.sort(function(nt,rt){return nt._taskLoad>rt._taskLoad?-1:1});const tt=this.workerPool[this.workerPool.length-1];return tt._taskCosts[o]=et,tt._taskLoad+=et,tt})}_releaseTask(o,et){o._taskLoad-=o._taskCosts[et],delete o._callbacks[et],delete o._taskCosts[et]}debug(){console.log("Task load: ",this.workerPool.map(o=>o._taskLoad))}dispose(){for(let o=0;o<this.workerPool.length;++o)this.workerPool[o].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let s,o;onmessage=function(it){const ot=it.data;switch(ot.type){case"init":s=ot.decoderConfig,o=new Promise(function(lt){s.onModuleLoaded=function(ct){lt({draco:ct})},DracoDecoderModule(s)});break;case"decode":const st=ot.buffer,at=ot.taskConfig;o.then(lt=>{const ct=lt.draco,ut=new ct.Decoder,dt=new ct.DecoderBuffer;dt.Init(new Int8Array(st),st.byteLength);try{const ht=et(ct,ut,dt,at),pt=ht.attributes.map(gt=>gt.array.buffer);ht.index&&pt.push(ht.index.array.buffer),self.postMessage({type:"decode",id:ot.id,geometry:ht},pt)}catch(ht){console.error(ht),self.postMessage({type:"error",id:ot.id,error:ht.message})}finally{ct.destroy(dt),ct.destroy(ut)}});break}};function et(it,ot,st,at){const lt=at.attributeIDs,ct=at.attributeTypes;let ut,dt;const ht=ot.GetEncodedGeometryType(st);if(ht===it.TRIANGULAR_MESH)ut=new it.Mesh,dt=ot.DecodeBufferToMesh(st,ut);else if(ht===it.POINT_CLOUD)ut=new it.PointCloud,dt=ot.DecodeBufferToPointCloud(st,ut);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!dt.ok()||ut.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+dt.error_msg());const pt={index:null,attributes:[]};for(const gt in lt){const ft=self[ct[gt]];let yt,mt;if(at.useUniqueIDs)mt=lt[gt],yt=ot.GetAttributeByUniqueId(ut,mt);else{if(mt=ot.GetAttributeId(ut,it[lt[gt]]),mt===-1)continue;yt=ot.GetAttribute(ut,mt)}pt.attributes.push(nt(it,ot,ut,gt,ft,yt))}return ht===it.TRIANGULAR_MESH&&(pt.index=tt(it,ot,ut)),it.destroy(ut),pt}function tt(it,ot,st){const lt=st.num_faces()*3,ct=lt*4,ut=it._malloc(ct);ot.GetTrianglesUInt32Array(st,ct,ut);const dt=new Uint32Array(it.HEAPF32.buffer,ut,lt).slice();return it._free(ut),{array:dt,itemSize:1}}function nt(it,ot,st,at,lt,ct){const ut=ct.num_components(),ht=st.num_points()*ut,pt=ht*lt.BYTES_PER_ELEMENT,gt=rt(it,lt),ft=it._malloc(pt);ot.GetAttributeDataArrayForAllPoints(st,ct,gt,pt,ft);const yt=new lt(it.HEAPF32.buffer,ft,ht).slice();return it._free(ft),{name:at,array:yt,itemSize:ut}}function rt(it,ot){switch(ot){case Float32Array:return it.DT_FLOAT32;case Int8Array:return it.DT_INT8;case Int16Array:return it.DT_INT16;case Int32Array:return it.DT_INT32;case Uint8Array:return it.DT_UINT8;case Uint16Array:return it.DT_UINT16;case Uint32Array:return it.DT_UINT32}}}const _box$1=new Box3,_vector=new Vector3;class LineSegmentsGeometry extends InstancedBufferGeometry{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const o=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],et=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],tt=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(o,3)),this.setAttribute("uv",new Float32BufferAttribute(et,2))}applyMatrix4(o){const et=this.attributes.instanceStart,tt=this.attributes.instanceEnd;return et!==void 0&&(et.applyMatrix4(o),tt.applyMatrix4(o),et.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(o){let et;o instanceof Float32Array?et=o:Array.isArray(o)&&(et=new Float32Array(o));const tt=new InstancedInterleavedBuffer(et,6,1);return this.setAttribute("instanceStart",new InterleavedBufferAttribute(tt,3,0)),this.setAttribute("instanceEnd",new InterleavedBufferAttribute(tt,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(o,et=3){let tt;o instanceof Float32Array?tt=o:Array.isArray(o)&&(tt=new Float32Array(o));const nt=new InstancedInterleavedBuffer(tt,et*2,1);return this.setAttribute("instanceColorStart",new InterleavedBufferAttribute(nt,et,0)),this.setAttribute("instanceColorEnd",new InterleavedBufferAttribute(nt,et,et)),this}fromWireframeGeometry(o){return this.setPositions(o.attributes.position.array),this}fromEdgesGeometry(o){return this.setPositions(o.attributes.position.array),this}fromMesh(o){return this.fromWireframeGeometry(new WireframeGeometry(o.geometry)),this}fromLineSegments(o){const et=o.geometry;return this.setPositions(et.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const o=this.attributes.instanceStart,et=this.attributes.instanceEnd;o!==void 0&&et!==void 0&&(this.boundingBox.setFromBufferAttribute(o),_box$1.setFromBufferAttribute(et),this.boundingBox.union(_box$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingBox===null&&this.computeBoundingBox();const o=this.attributes.instanceStart,et=this.attributes.instanceEnd;if(o!==void 0&&et!==void 0){const tt=this.boundingSphere.center;this.boundingBox.getCenter(tt);let nt=0;for(let rt=0,it=o.count;rt<it;rt++)_vector.fromBufferAttribute(o,rt),nt=Math.max(nt,tt.distanceToSquared(_vector)),_vector.fromBufferAttribute(et,rt),nt=Math.max(nt,tt.distanceToSquared(_vector));this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(o){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(o)}}class LineGeometry extends LineSegmentsGeometry{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(o){const et=o.length-3,tt=new Float32Array(2*et);for(let nt=0;nt<et;nt+=3)tt[2*nt]=o[nt],tt[2*nt+1]=o[nt+1],tt[2*nt+2]=o[nt+2],tt[2*nt+3]=o[nt+3],tt[2*nt+4]=o[nt+4],tt[2*nt+5]=o[nt+5];return super.setPositions(tt),this}setColors(o,et=3){const tt=o.length-et,nt=new Float32Array(2*tt);if(et===3)for(let rt=0;rt<tt;rt+=et)nt[2*rt]=o[rt],nt[2*rt+1]=o[rt+1],nt[2*rt+2]=o[rt+2],nt[2*rt+3]=o[rt+3],nt[2*rt+4]=o[rt+4],nt[2*rt+5]=o[rt+5];else for(let rt=0;rt<tt;rt+=et)nt[2*rt]=o[rt],nt[2*rt+1]=o[rt+1],nt[2*rt+2]=o[rt+2],nt[2*rt+3]=o[rt+3],nt[2*rt+4]=o[rt+4],nt[2*rt+5]=o[rt+5],nt[2*rt+6]=o[rt+6],nt[2*rt+7]=o[rt+7];return super.setColors(nt,et),this}fromLine(o){const et=o.geometry;return this.setPositions(et.attributes.position.array),this}}class LineMaterial extends ShaderMaterial{constructor(o){super({type:"LineMaterial",uniforms:UniformsUtils.clone(UniformsUtils.merge([UniformsLib.common,UniformsLib.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Vector2(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${parseInt(REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(et){this.uniforms.diffuse.value=et}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(et){et===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(et){this.uniforms.linewidth.value=et}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(et){!!et!="USE_DASH"in this.defines&&(this.needsUpdate=!0),et===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(et){this.uniforms.dashScale.value=et}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(et){this.uniforms.dashSize.value=et}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(et){this.uniforms.dashOffset.value=et}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(et){this.uniforms.gapSize.value=et}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(et){this.uniforms.opacity.value=et}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(et){this.uniforms.resolution.value.copy(et)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(et){!!et!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),et===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(o)}}const _start=new Vector3,_end=new Vector3,_start4=new Vector4,_end4=new Vector4,_ssOrigin=new Vector4,_ssOrigin3=new Vector3,_mvMatrix=new Matrix4,_line=new Line3,_closestPoint=new Vector3,_box=new Box3,_sphere$1=new Sphere$1,_clipToWorldVector=new Vector4;let _ray,_instanceStart,_instanceEnd,_lineWidth;function getWorldSpaceHalfWidth(s,o,et){return _clipToWorldVector.set(0,0,-o,1).applyMatrix4(s.projectionMatrix),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),_clipToWorldVector.x=_lineWidth/et.width,_clipToWorldVector.y=_lineWidth/et.height,_clipToWorldVector.applyMatrix4(s.projectionMatrixInverse),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),Math.abs(Math.max(_clipToWorldVector.x,_clipToWorldVector.y))}function raycastWorldUnits(s,o){for(let et=0,tt=_instanceStart.count;et<tt;et++){_line.start.fromBufferAttribute(_instanceStart,et),_line.end.fromBufferAttribute(_instanceEnd,et);const nt=new Vector3,rt=new Vector3;_ray.distanceSqToSegment(_line.start,_line.end,rt,nt),rt.distanceTo(nt)<_lineWidth*.5&&o.push({point:rt,pointOnLine:nt,distance:_ray.origin.distanceTo(rt),object:s,face:null,faceIndex:et,uv:null,uv2:null})}}function raycastScreenSpace(s,o,et){const tt=o.projectionMatrix,rt=s.material.resolution,it=s.matrixWorld,ot=s.geometry,st=ot.attributes.instanceStart,at=ot.attributes.instanceEnd,lt=-o.near;_ray.at(1,_ssOrigin),_ssOrigin.w=1,_ssOrigin.applyMatrix4(o.matrixWorldInverse),_ssOrigin.applyMatrix4(tt),_ssOrigin.multiplyScalar(1/_ssOrigin.w),_ssOrigin.x*=rt.x/2,_ssOrigin.y*=rt.y/2,_ssOrigin.z=0,_ssOrigin3.copy(_ssOrigin),_mvMatrix.multiplyMatrices(o.matrixWorldInverse,it);for(let ct=0,ut=st.count;ct<ut;ct++){if(_start4.fromBufferAttribute(st,ct),_end4.fromBufferAttribute(at,ct),_start4.w=1,_end4.w=1,_start4.applyMatrix4(_mvMatrix),_end4.applyMatrix4(_mvMatrix),_start4.z>lt&&_end4.z>lt)continue;if(_start4.z>lt){const yt=_start4.z-_end4.z,mt=(_start4.z-lt)/yt;_start4.lerp(_end4,mt)}else if(_end4.z>lt){const yt=_end4.z-_start4.z,mt=(_end4.z-lt)/yt;_end4.lerp(_start4,mt)}_start4.applyMatrix4(tt),_end4.applyMatrix4(tt),_start4.multiplyScalar(1/_start4.w),_end4.multiplyScalar(1/_end4.w),_start4.x*=rt.x/2,_start4.y*=rt.y/2,_end4.x*=rt.x/2,_end4.y*=rt.y/2,_line.start.copy(_start4),_line.start.z=0,_line.end.copy(_end4),_line.end.z=0;const ht=_line.closestPointToPointParameter(_ssOrigin3,!0);_line.at(ht,_closestPoint);const pt=MathUtils.lerp(_start4.z,_end4.z,ht),gt=pt>=-1&&pt<=1,ft=_ssOrigin3.distanceTo(_closestPoint)<_lineWidth*.5;if(gt&&ft){_line.start.fromBufferAttribute(st,ct),_line.end.fromBufferAttribute(at,ct),_line.start.applyMatrix4(it),_line.end.applyMatrix4(it);const yt=new Vector3,mt=new Vector3;_ray.distanceSqToSegment(_line.start,_line.end,mt,yt),et.push({point:mt,pointOnLine:yt,distance:_ray.origin.distanceTo(mt),object:s,face:null,faceIndex:ct,uv:null,uv2:null})}}}class LineSegments2 extends Mesh{constructor(o=new LineSegmentsGeometry,et=new LineMaterial({color:Math.random()*16777215})){super(o,et),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const o=this.geometry,et=o.attributes.instanceStart,tt=o.attributes.instanceEnd,nt=new Float32Array(2*et.count);for(let it=0,ot=0,st=et.count;it<st;it++,ot+=2)_start.fromBufferAttribute(et,it),_end.fromBufferAttribute(tt,it),nt[ot]=ot===0?0:nt[ot-1],nt[ot+1]=nt[ot]+_start.distanceTo(_end);const rt=new InstancedInterleavedBuffer(nt,2,1);return o.setAttribute("instanceDistanceStart",new InterleavedBufferAttribute(rt,1,0)),o.setAttribute("instanceDistanceEnd",new InterleavedBufferAttribute(rt,1,1)),this}raycast(o,et){const tt=this.material.worldUnits,nt=o.camera;nt===null&&!tt&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const rt=o.params.Line2!==void 0&&o.params.Line2.threshold||0;_ray=o.ray;const it=this.matrixWorld,ot=this.geometry,st=this.material;_lineWidth=st.linewidth+rt,_instanceStart=ot.attributes.instanceStart,_instanceEnd=ot.attributes.instanceEnd,ot.boundingSphere===null&&ot.computeBoundingSphere(),_sphere$1.copy(ot.boundingSphere).applyMatrix4(it);let at;if(tt)at=_lineWidth*.5;else{const ct=Math.max(nt.near,_sphere$1.distanceToPoint(_ray.origin));at=getWorldSpaceHalfWidth(nt,ct,st.resolution)}if(_sphere$1.radius+=at,_ray.intersectsSphere(_sphere$1)===!1)return;ot.boundingBox===null&&ot.computeBoundingBox(),_box.copy(ot.boundingBox).applyMatrix4(it);let lt;if(tt)lt=_lineWidth*.5;else{const ct=Math.max(nt.near,_box.distanceToPoint(_ray.origin));lt=getWorldSpaceHalfWidth(nt,ct,st.resolution)}_box.expandByScalar(lt),_ray.intersectsBox(_box)!==!1&&(tt?raycastWorldUnits(this,et):raycastScreenSpace(this,nt,et))}}class Line2 extends LineSegments2{constructor(o=new LineGeometry,et=new LineMaterial({color:Math.random()*16777215})){super(o,et),this.isLine2=!0,this.type="Line2"}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const s="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",o="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",et=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),tt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let nt=s;WebAssembly.validate(et)&&(nt=o);let rt;const it=WebAssembly.instantiate(ot(nt),{}).then(ct=>{rt=ct.instance,rt.exports.__wasm_call_ctors()});function ot(ct){const ut=new Uint8Array(ct.length);for(let ht=0;ht<ct.length;++ht){const pt=ct.charCodeAt(ht);ut[ht]=pt>96?pt-71:pt>64?pt-65:pt>47?pt+4:pt>46?63:62}let dt=0;for(let ht=0;ht<ct.length;++ht)ut[dt++]=ut[ht]<60?tt[ut[ht]]:(ut[ht]-60)*64+ut[++ht];return ut.buffer.slice(0,dt)}function st(ct,ut,dt,ht,pt,gt){const ft=rt.exports.sbrk,yt=dt+3&-4,mt=ft(yt*ht),Ft=ft(pt.length),vt=new Uint8Array(rt.exports.memory.buffer);vt.set(pt,Ft);const Et=ct(mt,dt,ht,Ft,pt.length);if(Et===0&&gt&&gt(mt,yt,ht),ut.set(vt.subarray(mt,mt+dt*ht)),ft(mt-ft(0)),Et!==0)throw new Error(`Malformed buffer data: ${Et}`)}const at={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},lt={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:it,supported:!0,decodeVertexBuffer(ct,ut,dt,ht,pt){st(rt.exports.meshopt_decodeVertexBuffer,ct,ut,dt,ht,rt.exports[at[pt]])},decodeIndexBuffer(ct,ut,dt,ht){st(rt.exports.meshopt_decodeIndexBuffer,ct,ut,dt,ht)},decodeIndexSequence(ct,ut,dt,ht){st(rt.exports.meshopt_decodeIndexSequence,ct,ut,dt,ht)},decodeGltfBuffer(ct,ut,dt,ht,pt,gt){st(rt.exports[lt[pt]],ct,ut,dt,ht,rt.exports[at[gt]])}},generated},tV0$1=new Vector3,tV1$1=new Vector3,tV2$1=new Vector3,getPoint2$1=(s,o,et)=>{const tt=et.width/2,nt=et.height/2;o.updateMatrixWorld(!1);const rt=s.project(o);return rt.x=rt.x*tt+tt,rt.y=-(rt.y*nt)+nt,rt},getPoint3$1=(s,o,et,tt=1)=>{const nt=tV0$1.set(s.x/et.width*2-1,-(s.y/et.height)*2+1,tt);return nt.unproject(o),nt},calculateScaleFactor$1=(s,o,et,tt)=>{const nt=getPoint2$1(tV2$1.copy(s),et,tt);let rt=0;for(let it=0;it<2;++it){const ot=tV1$1.copy(nt).setComponent(it,nt.getComponent(it)+o),st=getPoint3$1(ot,et,tt,ot.z);rt=Math.max(rt,s.distanceTo(st))}return rt},Line=reactExports.forwardRef(function({points:o,color:et=16777215,vertexColors:tt,linewidth:nt,lineWidth:rt,segments:it,dashed:ot,...st},at){var lt,ct;const ut=useThree(ft=>ft.size),dt=reactExports.useMemo(()=>it?new LineSegments2:new Line2,[it]),[ht]=reactExports.useState(()=>new LineMaterial),pt=(tt==null||(lt=tt[0])==null?void 0:lt.length)===4?4:3,gt=reactExports.useMemo(()=>{const ft=it?new LineSegmentsGeometry:new LineGeometry,yt=o.map(mt=>{const Ft=Array.isArray(mt);return mt instanceof Vector3||mt instanceof Vector4?[mt.x,mt.y,mt.z]:mt instanceof Vector2?[mt.x,mt.y,0]:Ft&&mt.length===3?[mt[0],mt[1],mt[2]]:Ft&&mt.length===2?[mt[0],mt[1],0]:mt});if(ft.setPositions(yt.flat()),tt){et=16777215;const mt=tt.map(Ft=>Ft instanceof Color$1?Ft.toArray():Ft);ft.setColors(mt.flat(),pt)}return ft},[o,it,tt,pt]);return reactExports.useLayoutEffect(()=>{dt.computeLineDistances()},[o,dt]),reactExports.useLayoutEffect(()=>{ot?ht.defines.USE_DASH="":delete ht.defines.USE_DASH,ht.needsUpdate=!0},[ot,ht]),reactExports.useEffect(()=>()=>gt.dispose(),[gt]),reactExports.createElement("primitive",_extends({object:dt,ref:at},st),reactExports.createElement("primitive",{object:gt,attach:"geometry"}),reactExports.createElement("primitive",_extends({object:ht,attach:"material",color:et,vertexColors:!!tt,resolution:[ut.width,ut.height],linewidth:(ct=nt??rt)!==null&&ct!==void 0?ct:1,dashed:ot,transparent:pt===4},st)))});function shaderMaterial(s,o,et,tt){const nt=class extends ShaderMaterial{constructor(it={}){const ot=Object.entries(s);super({uniforms:ot.reduce((st,[at,lt])=>{const ct=UniformsUtils.clone({[at]:{value:lt}});return{...st,...ct}},{}),vertexShader:o,fragmentShader:et}),this.key="",ot.forEach(([st])=>Object.defineProperty(this,st,{get:()=>this.uniforms[st].value,set:at=>this.uniforms[st].value=at})),Object.assign(this,it),tt&&tt(this)}};return nt.key=MathUtils.generateUUID(),nt}const IsObject=s=>s===Object(s)&&!Array.isArray(s)&&typeof s!="function";function useTexture(s,o){const et=useThree(rt=>rt.gl),tt=useLoader(TextureLoader,IsObject(s)?Object.values(s):s);return reactExports.useLayoutEffect(()=>{o?.(tt)},[o]),reactExports.useEffect(()=>{if("initTexture"in et){let rt=[];Array.isArray(tt)?rt=tt:tt instanceof Texture?rt=[tt]:IsObject(tt)&&(rt=Object.values(tt)),rt.forEach(it=>{it instanceof Texture&&et.initTexture(it)})}},[et,tt]),reactExports.useMemo(()=>{if(IsObject(s)){const rt={};let it=0;for(const ot in s)rt[ot]=tt[it++];return console.log("keyed",rt),rt}else return tt},[s,tt])}useTexture.preload=s=>useLoader.preload(TextureLoader,s);useTexture.clear=s=>useLoader.clear(TextureLoader,s);let dracoLoader=null,decoderPath="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function extensions(s,o,et){return tt=>{et&&et(tt),s&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof s=="string"?s:decoderPath),tt.setDRACOLoader(dracoLoader)),o&&tt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(s,o=!0,et=!0,tt){return useLoader(GLTFLoader,s,extensions(o,et,tt))}useGLTF.preload=(s,o=!0,et=!0,tt)=>useLoader.preload(GLTFLoader,s,extensions(o,et,tt));useGLTF.clear=s=>useLoader.clear(GLTFLoader,s);useGLTF.setDecoderPath=s=>{decoderPath=s};function useFBO(s,o,et){const tt=useThree(ut=>ut.size),nt=useThree(ut=>ut.viewport),rt=typeof s=="number"?s:tt.width*nt.dpr,it=typeof o=="number"?o:tt.height*nt.dpr,ot=(typeof s=="number"?et:s)||{},{samples:st=0,depth:at,...lt}=ot,ct=reactExports.useMemo(()=>{const ut=new WebGLRenderTarget(rt,it,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...lt});return at&&(ut.depthTexture=new DepthTexture(rt,it,FloatType)),ut.samples=st,ut},[]);return reactExports.useLayoutEffect(()=>{ct.setSize(rt,it),st&&(ct.samples=st)},[st,ct,rt,it]),reactExports.useEffect(()=>()=>ct.dispose(),[]),ct}const isFunction=s=>typeof s=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:s,resolution:o=256,frames:et=1/0,makeDefault:tt,children:nt,...rt},it)=>{const ot=useThree(({set:gt})=>gt),st=useThree(({camera:gt})=>gt),at=useThree(({size:gt})=>gt),lt=reactExports.useRef(null);reactExports.useImperativeHandle(it,()=>lt.current,[]);const ct=reactExports.useRef(null),ut=useFBO(o);reactExports.useLayoutEffect(()=>{rt.manual||(lt.current.aspect=at.width/at.height)},[at,rt]),reactExports.useLayoutEffect(()=>{lt.current.updateProjectionMatrix()});let dt=0,ht=null;const pt=isFunction(nt);return useFrame(gt=>{pt&&(et===1/0||dt<et)&&(ct.current.visible=!1,gt.gl.setRenderTarget(ut),ht=gt.scene.background,s&&(gt.scene.background=s),gt.gl.render(gt.scene,lt.current),gt.scene.background=ht,gt.gl.setRenderTarget(null),ct.current.visible=!0,dt++)}),reactExports.useLayoutEffect(()=>{if(tt){const gt=st;return ot(()=>({camera:lt.current})),()=>ot(()=>({camera:gt}))}},[lt,tt,ot]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends({ref:lt},rt),!pt&&nt),reactExports.createElement("group",{ref:ct},pt&&nt(ut.texture)))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const MOUSE_BUTTON={LEFT:1,RIGHT:2,MIDDLE:4},ACTION=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),DOLLY_DIRECTION={NONE:0,IN:1,OUT:-1};function isPerspectiveCamera(s){return s.isPerspectiveCamera}function isOrthographicCamera(s){return s.isOrthographicCamera}const PI_2=Math.PI*2,PI_HALF=Math.PI/2,EPSILON=1e-5,DEG2RAD=Math.PI/180;function clamp$2(s,o,et){return Math.max(o,Math.min(et,s))}function approxZero(s,o=EPSILON){return Math.abs(s)<o}function approxEquals(s,o,et=EPSILON){return approxZero(s-o,et)}function roundToStep(s,o){return Math.round(s/o)*o}function infinityToMaxNumber(s){return isFinite(s)?s:s<0?-Number.MAX_VALUE:Number.MAX_VALUE}function maxNumberToInfinity(s){return Math.abs(s)<Number.MAX_VALUE?s:s*(1/0)}function smoothDamp(s,o,et,tt,nt=1/0,rt){tt=Math.max(1e-4,tt);const it=2/tt,ot=it*rt,st=1/(1+ot+.48*ot*ot+.235*ot*ot*ot);let at=s-o;const lt=o,ct=nt*tt;at=clamp$2(at,-ct,ct),o=s-at;const ut=(et.value+it*at)*rt;et.value=(et.value-it*ut)*st;let dt=o+(at+ut)*st;return lt-s>0==dt>lt&&(dt=lt,et.value=(dt-lt)/rt),dt}function smoothDampVec3(s,o,et,tt,nt=1/0,rt,it){tt=Math.max(1e-4,tt);const ot=2/tt,st=ot*rt,at=1/(1+st+.48*st*st+.235*st*st*st);let lt=o.x,ct=o.y,ut=o.z,dt=s.x-lt,ht=s.y-ct,pt=s.z-ut;const gt=lt,ft=ct,yt=ut,mt=nt*tt,Ft=mt*mt,vt=dt*dt+ht*ht+pt*pt;if(vt>Ft){const Ct=Math.sqrt(vt);dt=dt/Ct*mt,ht=ht/Ct*mt,pt=pt/Ct*mt}lt=s.x-dt,ct=s.y-ht,ut=s.z-pt;const Et=(et.x+ot*dt)*rt,wt=(et.y+ot*ht)*rt,It=(et.z+ot*pt)*rt;et.x=(et.x-ot*Et)*at,et.y=(et.y-ot*wt)*at,et.z=(et.z-ot*It)*at,it.x=lt+(dt+Et)*at,it.y=ct+(ht+wt)*at,it.z=ut+(pt+It)*at;const St=gt-s.x,Rt=ft-s.y,Tt=yt-s.z,bt=it.x-gt,xt=it.y-ft,Bt=it.z-yt;return St*bt+Rt*xt+Tt*Bt>0&&(it.x=gt,it.y=ft,it.z=yt,et.x=(it.x-gt)/rt,et.y=(it.y-ft)/rt,et.z=(it.z-yt)/rt),it}function extractClientCoordFromEvent(s,o){o.set(0,0),s.forEach(et=>{o.x+=et.clientX,o.y+=et.clientY}),o.x/=s.length,o.y/=s.length}function notSupportedInOrthographicCamera(s,o){return isOrthographicCamera(s)?(console.warn(`${o} is not supported in OrthographicCamera`),!0):!1}class EventDispatcher{constructor(){this._listeners={}}addEventListener(o,et){const tt=this._listeners;tt[o]===void 0&&(tt[o]=[]),tt[o].indexOf(et)===-1&&tt[o].push(et)}hasEventListener(o,et){const tt=this._listeners;return tt[o]!==void 0&&tt[o].indexOf(et)!==-1}removeEventListener(o,et){const nt=this._listeners[o];if(nt!==void 0){const rt=nt.indexOf(et);rt!==-1&&nt.splice(rt,1)}}removeAllEventListeners(o){if(!o){this._listeners={};return}Array.isArray(this._listeners[o])&&(this._listeners[o].length=0)}dispatchEvent(o){const tt=this._listeners[o.type];if(tt!==void 0){o.target=this;const nt=tt.slice(0);for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].call(this,o)}}}const VERSION="2.7.3",TOUCH_DOLLY_FACTOR=1/8,isBrowser=typeof window<"u",isMac=isBrowser&&/Mac/.test(navigator.platform),isPointerEventsNotSupported=!(isBrowser&&"PointerEvent"in window);let THREE,_ORIGIN,_AXIS_Y,_AXIS_Z,_v2,_v3A,_v3B,_v3C,_cameraDirection,_xColumn,_yColumn,_zColumn,_deltaTarget,_deltaOffset,_sphericalA,_sphericalB,_box3A,_box3B,_sphere,_quaternionA,_quaternionB,_rotationMatrix,_raycaster,CameraControls$1=class Up extends EventDispatcher{static install(o){THREE=o.THREE,_ORIGIN=Object.freeze(new THREE.Vector3(0,0,0)),_AXIS_Y=Object.freeze(new THREE.Vector3(0,1,0)),_AXIS_Z=Object.freeze(new THREE.Vector3(0,0,1)),_v2=new THREE.Vector2,_v3A=new THREE.Vector3,_v3B=new THREE.Vector3,_v3C=new THREE.Vector3,_cameraDirection=new THREE.Vector3,_xColumn=new THREE.Vector3,_yColumn=new THREE.Vector3,_zColumn=new THREE.Vector3,_deltaTarget=new THREE.Vector3,_deltaOffset=new THREE.Vector3,_sphericalA=new THREE.Spherical,_sphericalB=new THREE.Spherical,_box3A=new THREE.Box3,_box3B=new THREE.Box3,_sphere=new THREE.Sphere,_quaternionA=new THREE.Quaternion,_quaternionB=new THREE.Quaternion,_rotationMatrix=new THREE.Matrix4,_raycaster=new THREE.Raycaster}static get ACTION(){return ACTION}constructor(o,et){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=ACTION.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new THREE.Vector3,this._focalOffsetVelocity=new THREE.Vector3,this._zoomVelocity={value:0},this._truckInternal=(Ft,vt,Et)=>{let wt,It;if(isPerspectiveCamera(this._camera)){const St=_v3A.copy(this._camera.position).sub(this._target),Rt=this._camera.getEffectiveFOV()*DEG2RAD,Tt=St.length()*Math.tan(Rt*.5);wt=this.truckSpeed*Ft*Tt/this._elementRect.height,It=this.truckSpeed*vt*Tt/this._elementRect.height}else if(isOrthographicCamera(this._camera)){const St=this._camera;wt=Ft*(St.right-St.left)/St.zoom/this._elementRect.width,It=vt*(St.top-St.bottom)/St.zoom/this._elementRect.height}else return;this.verticalDragToForward?(Et?this.setFocalOffset(this._focalOffsetEnd.x+wt,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(wt,0,!0),this.forward(-It,!0)):Et?this.setFocalOffset(this._focalOffsetEnd.x+wt,this._focalOffsetEnd.y+It,this._focalOffsetEnd.z,!0):this.truck(wt,It,!0)},this._rotateInternal=(Ft,vt)=>{const Et=PI_2*this.azimuthRotateSpeed*Ft/this._elementRect.height,wt=PI_2*this.polarRotateSpeed*vt/this._elementRect.height;this.rotate(Et,wt,!0)},this._dollyInternal=(Ft,vt,Et)=>{const wt=Math.pow(.95,-Ft*this.dollySpeed),It=this._sphericalEnd.radius,St=this._sphericalEnd.radius*wt,Rt=clamp$2(St,this.minDistance,this.maxDistance),Tt=Rt-St;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(St,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(Tt,!0),this._dollyToNoClamp(Rt,!0)):this._dollyToNoClamp(Rt,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?St:Rt)-It,this._dollyControlCoord.set(vt,Et)),this._lastDollyDirection=Math.sign(-Ft)},this._zoomInternal=(Ft,vt,Et)=>{const wt=Math.pow(.95,Ft*this.dollySpeed),It=this._zoom,St=this._zoom*wt;this.zoomTo(St,!0),this.dollyToCursor&&(this._changedZoom+=St-It,this._dollyControlCoord.set(vt,Et))},typeof THREE>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=o,this._yAxisUpSpace=new THREE.Quaternion().setFromUnitVectors(this._camera.up,_AXIS_Y),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=ACTION.NONE,this._target=new THREE.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new THREE.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new THREE.Spherical().setFromVector3(_v3A.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this._updateNearPlaneCorners(),this._boundary=new THREE.Box3(new THREE.Vector3(-1/0,-1/0,-1/0),new THREE.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new THREE.Vector2,this.mouseButtons={left:ACTION.ROTATE,middle:ACTION.DOLLY,right:ACTION.TRUCK,wheel:isPerspectiveCamera(this._camera)?ACTION.DOLLY:isOrthographicCamera(this._camera)?ACTION.ZOOM:ACTION.NONE},this.touches={one:ACTION.TOUCH_ROTATE,two:isPerspectiveCamera(this._camera)?ACTION.TOUCH_DOLLY_TRUCK:isOrthographicCamera(this._camera)?ACTION.TOUCH_ZOOM_TRUCK:ACTION.NONE,three:ACTION.TOUCH_TRUCK};const tt=new THREE.Vector2,nt=new THREE.Vector2,rt=new THREE.Vector2,it=Ft=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const wt=this._domElement.getBoundingClientRect(),It=Ft.clientX/wt.width,St=Ft.clientY/wt.height;if(It<this._interactiveArea.left||It>this._interactiveArea.right||St<this._interactiveArea.top||St>this._interactiveArea.bottom)return}const vt=Ft.pointerType!=="mouse"?null:(Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.LEFT:(Ft.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE?MOUSE_BUTTON.MIDDLE:(Ft.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT?MOUSE_BUTTON.RIGHT:null;if(vt!==null){const wt=this._findPointerByMouseButton(vt);wt&&this._disposePointer(wt)}if((Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT&&this._lockedPointer)return;const Et={pointerId:Ft.pointerId,clientX:Ft.clientX,clientY:Ft.clientY,deltaX:0,deltaY:0,mouseButton:vt};this._activePointers.push(Et),this._domElement.ownerDocument.removeEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",lt),this._domElement.ownerDocument.addEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",lt),this._isDragging=!0,pt(Ft)},ot=Ft=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const wt=this._domElement.getBoundingClientRect(),It=Ft.clientX/wt.width,St=Ft.clientY/wt.height;if(It<this._interactiveArea.left||It>this._interactiveArea.right||St<this._interactiveArea.top||St>this._interactiveArea.bottom)return}const vt=(Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.LEFT:(Ft.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE?MOUSE_BUTTON.MIDDLE:(Ft.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT?MOUSE_BUTTON.RIGHT:null;if(vt!==null){const wt=this._findPointerByMouseButton(vt);wt&&this._disposePointer(wt)}const Et={pointerId:1,clientX:Ft.clientX,clientY:Ft.clientY,deltaX:0,deltaY:0,mouseButton:(Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.LEFT:(Ft.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.MIDDLE:(Ft.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.RIGHT:null};this._activePointers.push(Et),this._domElement.ownerDocument.removeEventListener("mousemove",at),this._domElement.ownerDocument.removeEventListener("mouseup",ct),this._domElement.ownerDocument.addEventListener("mousemove",at),this._domElement.ownerDocument.addEventListener("mouseup",ct),this._isDragging=!0,pt(Ft)},st=Ft=>{Ft.cancelable&&Ft.preventDefault();const vt=Ft.pointerId,Et=this._lockedPointer||this._findPointerById(vt);if(Et){if(Et.clientX=Ft.clientX,Et.clientY=Ft.clientY,Et.deltaX=Ft.movementX,Et.deltaY=Ft.movementY,this._state=0,Ft.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(Ft.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(Ft.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT&&(this._state=this._state|this.mouseButtons.right);gt()}},at=Ft=>{const vt=this._lockedPointer||this._findPointerById(1);vt&&(vt.clientX=Ft.clientX,vt.clientY=Ft.clientY,vt.deltaX=Ft.movementX,vt.deltaY=Ft.movementY,this._state=0,(this._lockedPointer||(Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT)&&(this._state=this._state|this.mouseButtons.left),(Ft.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(Ft.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT&&(this._state=this._state|this.mouseButtons.right),gt())},lt=Ft=>{const vt=this._findPointerById(Ft.pointerId);if(!(vt&&vt===this._lockedPointer)){if(vt&&this._disposePointer(vt),Ft.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ACTION.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ACTION.NONE;ft()}},ct=()=>{const Ft=this._findPointerById(1);Ft&&Ft===this._lockedPointer||(Ft&&this._disposePointer(Ft),this._state=ACTION.NONE,ft())};let ut=-1;const dt=Ft=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===ACTION.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const St=this._domElement.getBoundingClientRect(),Rt=Ft.clientX/St.width,Tt=Ft.clientY/St.height;if(Rt<this._interactiveArea.left||Rt>this._interactiveArea.right||Tt<this._interactiveArea.top||Tt>this._interactiveArea.bottom)return}if(Ft.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ACTION.ROTATE||this.mouseButtons.wheel===ACTION.TRUCK){const St=performance.now();ut-St<1e3&&this._getClientRect(this._elementRect),ut=St}const vt=isMac?-1:-3,Et=Ft.deltaMode===1?Ft.deltaY/vt:Ft.deltaY/(vt*10),wt=this.dollyToCursor?(Ft.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,It=this.dollyToCursor?(Ft.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case ACTION.ROTATE:{this._rotateInternal(Ft.deltaX,Ft.deltaY),this._isUserControllingRotate=!0;break}case ACTION.TRUCK:{this._truckInternal(Ft.deltaX,Ft.deltaY,!1),this._isUserControllingTruck=!0;break}case ACTION.OFFSET:{this._truckInternal(Ft.deltaX,Ft.deltaY,!0),this._isUserControllingOffset=!0;break}case ACTION.DOLLY:{this._dollyInternal(-Et,wt,It),this._isUserControllingDolly=!0;break}case ACTION.ZOOM:{this._zoomInternal(-Et,wt,It),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},ht=Ft=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===Up.ACTION.NONE){const vt=Ft instanceof PointerEvent?Ft.pointerId:(Ft instanceof MouseEvent,0),Et=this._findPointerById(vt);Et&&this._disposePointer(Et),this._domElement.ownerDocument.removeEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",lt),this._domElement.ownerDocument.removeEventListener("mousemove",at),this._domElement.ownerDocument.removeEventListener("mouseup",ct);return}Ft.preventDefault()}},pt=Ft=>{if(!this._enabled)return;if(extractClientCoordFromEvent(this._activePointers,_v2),this._getClientRect(this._elementRect),tt.copy(_v2),nt.copy(_v2),this._activePointers.length>=2){const Et=_v2.x-this._activePointers[1].clientX,wt=_v2.y-this._activePointers[1].clientY,It=Math.sqrt(Et*Et+wt*wt);rt.set(0,It);const St=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,Rt=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;nt.set(St,Rt)}if(this._state=0,!Ft)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in Ft&&Ft.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(Ft.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT&&(this._state=this._state|this.mouseButtons.left),(Ft.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(Ft.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&ACTION.ROTATE)===ACTION.ROTATE||(this._state&ACTION.TOUCH_ROTATE)===ACTION.TOUCH_ROTATE||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&ACTION.TRUCK)===ACTION.TRUCK||(this._state&ACTION.TOUCH_TRUCK)===ACTION.TOUCH_TRUCK||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&ACTION.DOLLY)===ACTION.DOLLY||(this._state&ACTION.TOUCH_DOLLY)===ACTION.TOUCH_DOLLY||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&ACTION.ZOOM)===ACTION.ZOOM||(this._state&ACTION.TOUCH_ZOOM)===ACTION.TOUCH_ZOOM||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&ACTION.OFFSET)===ACTION.OFFSET||(this._state&ACTION.TOUCH_OFFSET)===ACTION.TOUCH_OFFSET||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},gt=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,extractClientCoordFromEvent(this._activePointers,_v2);const vt=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,Et=vt?-vt.deltaX:nt.x-_v2.x,wt=vt?-vt.deltaY:nt.y-_v2.y;if(nt.copy(_v2),((this._state&ACTION.ROTATE)===ACTION.ROTATE||(this._state&ACTION.TOUCH_ROTATE)===ACTION.TOUCH_ROTATE||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(Et,wt),this._isUserControllingRotate=!0),(this._state&ACTION.DOLLY)===ACTION.DOLLY||(this._state&ACTION.ZOOM)===ACTION.ZOOM){const It=this.dollyToCursor?(tt.x-this._elementRect.x)/this._elementRect.width*2-1:0,St=this.dollyToCursor?(tt.y-this._elementRect.y)/this._elementRect.height*-2+1:0,Rt=this.dollyDragInverted?-1:1;(this._state&ACTION.DOLLY)===ACTION.DOLLY?(this._dollyInternal(Rt*wt*TOUCH_DOLLY_FACTOR,It,St),this._isUserControllingDolly=!0):(this._zoomInternal(Rt*wt*TOUCH_DOLLY_FACTOR,It,St),this._isUserControllingZoom=!0)}if((this._state&ACTION.TOUCH_DOLLY)===ACTION.TOUCH_DOLLY||(this._state&ACTION.TOUCH_ZOOM)===ACTION.TOUCH_ZOOM||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE){const It=_v2.x-this._activePointers[1].clientX,St=_v2.y-this._activePointers[1].clientY,Rt=Math.sqrt(It*It+St*St),Tt=rt.y-Rt;rt.set(0,Rt);const bt=this.dollyToCursor?(nt.x-this._elementRect.x)/this._elementRect.width*2-1:0,xt=this.dollyToCursor?(nt.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&ACTION.TOUCH_DOLLY)===ACTION.TOUCH_DOLLY||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET?(this._dollyInternal(Tt*TOUCH_DOLLY_FACTOR,bt,xt),this._isUserControllingDolly=!0):(this._zoomInternal(Tt*TOUCH_DOLLY_FACTOR,bt,xt),this._isUserControllingZoom=!0)}((this._state&ACTION.TRUCK)===ACTION.TRUCK||(this._state&ACTION.TOUCH_TRUCK)===ACTION.TOUCH_TRUCK||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(Et,wt,!1),this._isUserControllingTruck=!0),((this._state&ACTION.OFFSET)===ACTION.OFFSET||(this._state&ACTION.TOUCH_OFFSET)===ACTION.TOUCH_OFFSET||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(Et,wt,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},ft=()=>{extractClientCoordFromEvent(this._activePointers,_v2),nt.copy(_v2),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",at),this._domElement.ownerDocument.removeEventListener("pointerup",lt),this._domElement.ownerDocument.removeEventListener("mouseup",ct),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",lt),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",yt),this._domElement.ownerDocument.addEventListener("pointerlockerror",mt),this._domElement.ownerDocument.addEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",lt),pt())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",yt),this._domElement.ownerDocument.removeEventListener("pointerlockerror",mt))};const yt=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},mt=()=>{this.unlockPointer()};this._addAllEventListeners=Ft=>{this._domElement=Ft,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",it),isPointerEventsNotSupported&&this._domElement.addEventListener("mousedown",ot),this._domElement.addEventListener("pointercancel",lt),this._domElement.addEventListener("wheel",dt,{passive:!1}),this._domElement.addEventListener("contextmenu",ht)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",it),this._domElement.removeEventListener("mousedown",ot),this._domElement.removeEventListener("pointercancel",lt),this._domElement.removeEventListener("wheel",dt,{passive:!1}),this._domElement.removeEventListener("contextmenu",ht),this._domElement.ownerDocument.removeEventListener("pointermove",st,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",at),this._domElement.ownerDocument.removeEventListener("pointerup",lt),this._domElement.ownerDocument.removeEventListener("mouseup",ct),this._domElement.ownerDocument.removeEventListener("pointerlockchange",yt),this._domElement.ownerDocument.removeEventListener("pointerlockerror",mt))},this.cancel=()=>{this._state!==ACTION.NONE&&(this._state=ACTION.NONE,this._activePointers.length=0,ft())},et&&this.connect(et),this.update(0)}get camera(){return this._camera}set camera(o){this._camera=o,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(o){this._enabled=o,this._domElement&&(o?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(o){this._spherical.radius===o&&this._sphericalEnd.radius===o||(this._spherical.radius=o,this._sphericalEnd.radius=o,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(o){this._spherical.theta===o&&this._sphericalEnd.theta===o||(this._spherical.theta=o,this._sphericalEnd.theta=o,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(o){this._spherical.phi===o&&this._sphericalEnd.phi===o||(this._spherical.phi=o,this._sphericalEnd.phi=o,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(o){this._boundaryEnclosesCamera=o,this._needsUpdate=!0}set interactiveArea(o){this._interactiveArea.width=clamp$2(o.width,0,1),this._interactiveArea.height=clamp$2(o.height,0,1),this._interactiveArea.x=clamp$2(o.x,0,1-this._interactiveArea.width),this._interactiveArea.y=clamp$2(o.y,0,1-this._interactiveArea.height)}addEventListener(o,et){super.addEventListener(o,et)}removeEventListener(o,et){super.removeEventListener(o,et)}rotate(o,et,tt=!1){return this.rotateTo(this._sphericalEnd.theta+o,this._sphericalEnd.phi+et,tt)}rotateAzimuthTo(o,et=!1){return this.rotateTo(o,this._sphericalEnd.phi,et)}rotatePolarTo(o,et=!1){return this.rotateTo(this._sphericalEnd.theta,o,et)}rotateTo(o,et,tt=!1){this._isUserControllingRotate=!1;const nt=clamp$2(o,this.minAzimuthAngle,this.maxAzimuthAngle),rt=clamp$2(et,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=nt,this._sphericalEnd.phi=rt,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,tt||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const it=!tt||approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(it)}dolly(o,et=!1){return this.dollyTo(this._sphericalEnd.radius-o,et)}dollyTo(o,et=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._changedDolly=0,this._dollyToNoClamp(clamp$2(o,this.minDistance,this.maxDistance),et)}_dollyToNoClamp(o,et=!1){const tt=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const it=this._collisionTest(),ot=approxEquals(it,this._spherical.radius);if(!(tt>o)&&ot)return Promise.resolve();this._sphericalEnd.radius=Math.min(o,it)}else this._sphericalEnd.radius=o;this._needsUpdate=!0,et||(this._spherical.radius=this._sphericalEnd.radius);const rt=!et||approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(rt)}dollyInFixed(o,et=!1){this._targetEnd.add(this._getCameraDirection(_cameraDirection).multiplyScalar(o)),et||this._target.copy(this._targetEnd);const tt=!et||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(tt)}zoom(o,et=!1){return this.zoomTo(this._zoomEnd+o,et)}zoomTo(o,et=!1){this._isUserControllingZoom=!1,this._zoomEnd=clamp$2(o,this.minZoom,this.maxZoom),this._needsUpdate=!0,et||(this._zoom=this._zoomEnd);const tt=!et||approxEquals(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(tt)}pan(o,et,tt=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(o,et,tt)}truck(o,et,tt=!1){this._camera.updateMatrix(),_xColumn.setFromMatrixColumn(this._camera.matrix,0),_yColumn.setFromMatrixColumn(this._camera.matrix,1),_xColumn.multiplyScalar(o),_yColumn.multiplyScalar(-et);const nt=_v3A.copy(_xColumn).add(_yColumn),rt=_v3B.copy(this._targetEnd).add(nt);return this.moveTo(rt.x,rt.y,rt.z,tt)}forward(o,et=!1){_v3A.setFromMatrixColumn(this._camera.matrix,0),_v3A.crossVectors(this._camera.up,_v3A),_v3A.multiplyScalar(o);const tt=_v3B.copy(this._targetEnd).add(_v3A);return this.moveTo(tt.x,tt.y,tt.z,et)}elevate(o,et=!1){return _v3A.copy(this._camera.up).multiplyScalar(o),this.moveTo(this._targetEnd.x+_v3A.x,this._targetEnd.y+_v3A.y,this._targetEnd.z+_v3A.z,et)}moveTo(o,et,tt,nt=!1){this._isUserControllingTruck=!1;const rt=_v3A.set(o,et,tt).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,rt,this.boundaryFriction),this._needsUpdate=!0,nt||this._target.copy(this._targetEnd);const it=!nt||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(it)}lookInDirectionOf(o,et,tt,nt=!1){const ot=_v3A.set(o,et,tt).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(ot.x,ot.y,ot.z,nt)}fitToBox(o,et,{cover:tt=!1,paddingLeft:nt=0,paddingRight:rt=0,paddingBottom:it=0,paddingTop:ot=0}={}){const st=[],at=o.isBox3?_box3A.copy(o):_box3A.setFromObject(o);at.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const lt=roundToStep(this._sphericalEnd.theta,PI_HALF),ct=roundToStep(this._sphericalEnd.phi,PI_HALF);st.push(this.rotateTo(lt,ct,et));const ut=_v3A.setFromSpherical(this._sphericalEnd).normalize(),dt=_quaternionA.setFromUnitVectors(ut,_AXIS_Z),ht=approxEquals(Math.abs(ut.y),1);ht&&dt.multiply(_quaternionB.setFromAxisAngle(_AXIS_Y,lt)),dt.multiply(this._yAxisUpSpaceInverse);const pt=_box3B.makeEmpty();_v3B.copy(at.min).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.min).setX(at.max.x).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.min).setY(at.max.y).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.max).setZ(at.min.z).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.min).setZ(at.max.z).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.max).setY(at.min.y).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.max).setX(at.min.x).applyQuaternion(dt),pt.expandByPoint(_v3B),_v3B.copy(at.max).applyQuaternion(dt),pt.expandByPoint(_v3B),pt.min.x-=nt,pt.min.y-=it,pt.max.x+=rt,pt.max.y+=ot,dt.setFromUnitVectors(_AXIS_Z,ut),ht&&dt.premultiply(_quaternionB.invert()),dt.premultiply(this._yAxisUpSpace);const gt=pt.getSize(_v3A),ft=pt.getCenter(_v3B).applyQuaternion(dt);if(isPerspectiveCamera(this._camera)){const yt=this.getDistanceToFitBox(gt.x,gt.y,gt.z,tt);st.push(this.moveTo(ft.x,ft.y,ft.z,et)),st.push(this.dollyTo(yt,et)),st.push(this.setFocalOffset(0,0,0,et))}else if(isOrthographicCamera(this._camera)){const yt=this._camera,mt=yt.right-yt.left,Ft=yt.top-yt.bottom,vt=tt?Math.max(mt/gt.x,Ft/gt.y):Math.min(mt/gt.x,Ft/gt.y);st.push(this.moveTo(ft.x,ft.y,ft.z,et)),st.push(this.zoomTo(vt,et)),st.push(this.setFocalOffset(0,0,0,et))}return Promise.all(st)}fitToSphere(o,et){const tt=[],rt=o instanceof THREE.Sphere?_sphere.copy(o):Up.createBoundingSphere(o,_sphere);if(tt.push(this.moveTo(rt.center.x,rt.center.y,rt.center.z,et)),isPerspectiveCamera(this._camera)){const it=this.getDistanceToFitSphere(rt.radius);tt.push(this.dollyTo(it,et))}else if(isOrthographicCamera(this._camera)){const it=this._camera.right-this._camera.left,ot=this._camera.top-this._camera.bottom,st=2*rt.radius,at=Math.min(it/st,ot/st);tt.push(this.zoomTo(at,et))}return tt.push(this.setFocalOffset(0,0,0,et)),Promise.all(tt)}setLookAt(o,et,tt,nt,rt,it,ot=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._changedDolly=0;const st=_v3B.set(nt,rt,it),at=_v3A.set(o,et,tt);this._targetEnd.copy(st),this._sphericalEnd.setFromVector3(at.sub(st).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,ot||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const lt=!ot||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold)&&approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(lt)}lerpLookAt(o,et,tt,nt,rt,it,ot,st,at,lt,ct,ut,dt,ht=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._changedDolly=0;const pt=_v3A.set(nt,rt,it),gt=_v3B.set(o,et,tt);_sphericalA.setFromVector3(gt.sub(pt).applyQuaternion(this._yAxisUpSpace));const ft=_v3C.set(lt,ct,ut),yt=_v3B.set(ot,st,at);_sphericalB.setFromVector3(yt.sub(ft).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(pt.lerp(ft,dt));const mt=_sphericalB.theta-_sphericalA.theta,Ft=_sphericalB.phi-_sphericalA.phi,vt=_sphericalB.radius-_sphericalA.radius;this._sphericalEnd.set(_sphericalA.radius+vt*dt,_sphericalA.phi+Ft*dt,_sphericalA.theta+mt*dt),this.normalizeRotations(),this._needsUpdate=!0,ht||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const Et=!ht||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold)&&approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(Et)}setPosition(o,et,tt,nt=!1){return this.setLookAt(o,et,tt,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,nt)}setTarget(o,et,tt,nt=!1){const rt=this.getPosition(_v3A),it=this.setLookAt(rt.x,rt.y,rt.z,o,et,tt,nt);return this._sphericalEnd.phi=clamp$2(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),it}setFocalOffset(o,et,tt,nt=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(o,et,tt),this._needsUpdate=!0,nt||this._focalOffset.copy(this._focalOffsetEnd);const rt=!nt||approxEquals(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&approxEquals(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&approxEquals(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(rt)}setOrbitPoint(o,et,tt){this._camera.updateMatrixWorld(),_xColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),_yColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),_zColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const nt=_v3A.set(o,et,tt),rt=nt.distanceTo(this._camera.position),it=nt.sub(this._camera.position);_xColumn.multiplyScalar(it.x),_yColumn.multiplyScalar(it.y),_zColumn.multiplyScalar(it.z),_v3A.copy(_xColumn).add(_yColumn).add(_zColumn),_v3A.z=_v3A.z+rt,this.dollyTo(rt,!1),this.setFocalOffset(-_v3A.x,_v3A.y,-_v3A.z,!1),this.moveTo(o,et,tt,!1)}setBoundary(o){if(!o){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(o),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(o,et,tt,nt){if(o===null){this._viewport=null;return}this._viewport=this._viewport||new THREE.Vector4,typeof o=="number"?this._viewport.set(o,et,tt,nt):this._viewport.copy(o)}getDistanceToFitBox(o,et,tt,nt=!1){if(notSupportedInOrthographicCamera(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const rt=o/et,it=this._camera.getEffectiveFOV()*DEG2RAD,ot=this._camera.aspect;return((nt?rt>ot:rt<ot)?et:o/ot)*.5/Math.tan(it*.5)+tt*.5}getDistanceToFitSphere(o){if(notSupportedInOrthographicCamera(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const et=this._camera.getEffectiveFOV()*DEG2RAD,tt=Math.atan(Math.tan(et*.5)*this._camera.aspect)*2,nt=1<this._camera.aspect?et:tt;return o/Math.sin(nt*.5)}getTarget(o,et=!0){return(o&&o.isVector3?o:new THREE.Vector3).copy(et?this._targetEnd:this._target)}getPosition(o,et=!0){return(o&&o.isVector3?o:new THREE.Vector3).setFromSpherical(et?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(et?this._targetEnd:this._target)}getSpherical(o,et=!0){return(o&&o instanceof THREE.Spherical?o:new THREE.Spherical).copy(et?this._sphericalEnd:this._spherical)}getFocalOffset(o,et=!0){return(o&&o.isVector3?o:new THREE.Vector3).copy(et?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%PI_2,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=PI_2),this._spherical.theta+=PI_2*Math.round((this._sphericalEnd.theta-this._spherical.theta)/PI_2)}reset(o=!1){if(!approxEquals(this._camera.up.x,this._cameraUp0.x)||!approxEquals(this._camera.up.y,this._cameraUp0.y)||!approxEquals(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const tt=this.getPosition(_v3A);this.updateCameraUp(),this.setPosition(tt.x,tt.y,tt.z)}const et=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,o),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,o),this.zoomTo(this._zoom0,o)];return Promise.all(et)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_AXIS_Y),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const o=_v3A.subVectors(this._target,this._camera.position).normalize(),et=_v3B.crossVectors(o,this._camera.up);this._camera.up.crossVectors(et,o).normalize(),this._camera.updateMatrixWorld();const tt=this.getPosition(_v3A);this.updateCameraUp(),this.setPosition(tt.x,tt.y,tt.z)}update(o){const et=this._sphericalEnd.theta-this._spherical.theta,tt=this._sphericalEnd.phi-this._spherical.phi,nt=this._sphericalEnd.radius-this._spherical.radius,rt=_deltaTarget.subVectors(this._targetEnd,this._target),it=_deltaOffset.subVectors(this._focalOffsetEnd,this._focalOffset),ot=this._zoomEnd-this._zoom;if(approxZero(et))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const ct=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=smoothDamp(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,ct,1/0,o),this._needsUpdate=!0}if(approxZero(tt))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const ct=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=smoothDamp(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,ct,1/0,o),this._needsUpdate=!0}if(approxZero(nt))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const ct=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=smoothDamp(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,ct,this.maxSpeed,o),this._needsUpdate=!0}if(approxZero(rt.x)&&approxZero(rt.y)&&approxZero(rt.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const ct=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;smoothDampVec3(this._target,this._targetEnd,this._targetVelocity,ct,this.maxSpeed,o,this._target),this._needsUpdate=!0}if(approxZero(it.x)&&approxZero(it.y)&&approxZero(it.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const ct=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;smoothDampVec3(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,ct,this.maxSpeed,o,this._focalOffset),this._needsUpdate=!0}if(approxZero(ot))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const ct=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=smoothDamp(this._zoom,this._zoomEnd,this._zoomVelocity,ct,1/0,o)}if(this.dollyToCursor){if(isPerspectiveCamera(this._camera)&&this._changedDolly!==0){const ct=this._spherical.radius-this._lastDistance,ut=this._camera,dt=this._getCameraDirection(_cameraDirection),ht=_v3A.copy(dt).cross(ut.up).normalize();ht.lengthSq()===0&&(ht.x=1);const pt=_v3B.crossVectors(ht,dt),gt=this._sphericalEnd.radius*Math.tan(ut.getEffectiveFOV()*DEG2RAD*.5),yt=(this._sphericalEnd.radius-ct-this._sphericalEnd.radius)/this._sphericalEnd.radius,mt=_v3C.copy(this._targetEnd).add(ht.multiplyScalar(this._dollyControlCoord.x*gt*ut.aspect)).add(pt.multiplyScalar(this._dollyControlCoord.y*gt)),Ft=_v3A.copy(this._targetEnd).lerp(mt,yt),vt=this._lastDollyDirection===DOLLY_DIRECTION.IN&&this._spherical.radius<=this.minDistance,Et=this._lastDollyDirection===DOLLY_DIRECTION.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(vt||Et)){this._sphericalEnd.radius-=ct,this._spherical.radius-=ct;const It=_v3B.copy(dt).multiplyScalar(-ct);Ft.add(It)}this._boundary.clampPoint(Ft,Ft);const wt=_v3B.subVectors(Ft,this._targetEnd);this._targetEnd.copy(Ft),this._target.add(wt),this._changedDolly-=ct,approxZero(this._changedDolly)&&(this._changedDolly=0)}else if(isOrthographicCamera(this._camera)&&this._changedZoom!==0){const ct=this._zoom-this._lastZoom,ut=this._camera,dt=_v3A.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(ut.near+ut.far)/(ut.near-ut.far)).unproject(ut),ht=_v3B.set(0,0,-1).applyQuaternion(ut.quaternion),pt=_v3C.copy(dt).add(ht.multiplyScalar(-dt.dot(ut.up))),ft=-(this._zoom-ct-this._zoom)/this._zoom,yt=this._getCameraDirection(_cameraDirection),mt=this._targetEnd.dot(yt),Ft=_v3A.copy(this._targetEnd).lerp(pt,ft),vt=Ft.dot(yt),Et=yt.multiplyScalar(vt-mt);Ft.sub(Et),this._boundary.clampPoint(Ft,Ft);const wt=_v3B.subVectors(Ft,this._targetEnd);this._targetEnd.copy(Ft),this._target.add(wt),this._changedZoom-=ct,approxZero(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const st=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,st),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!approxZero(this._focalOffset.x)||!approxZero(this._focalOffset.y)||!approxZero(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),_xColumn.setFromMatrixColumn(this._camera.matrix,0),_yColumn.setFromMatrixColumn(this._camera.matrix,1),_zColumn.setFromMatrixColumn(this._camera.matrix,2),_xColumn.multiplyScalar(this._focalOffset.x),_yColumn.multiplyScalar(-this._focalOffset.y),_zColumn.multiplyScalar(this._focalOffset.z),_v3A.copy(_xColumn).add(_yColumn).add(_zColumn),this._camera.position.add(_v3A)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),_v3A.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const lt=this._needsUpdate;return lt&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):lt?(this.dispatchEvent({type:"update"}),approxZero(et,this.restThreshold)&&approxZero(tt,this.restThreshold)&&approxZero(nt,this.restThreshold)&&approxZero(rt.x,this.restThreshold)&&approxZero(rt.y,this.restThreshold)&&approxZero(rt.z,this.restThreshold)&&approxZero(it.x,this.restThreshold)&&approxZero(it.y,this.restThreshold)&&approxZero(it.z,this.restThreshold)&&approxZero(ot,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!lt&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=lt,this._needsUpdate=!1,lt}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:infinityToMaxNumber(this.maxDistance),minZoom:this.minZoom,maxZoom:infinityToMaxNumber(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:infinityToMaxNumber(this.maxPolarAngle),minAzimuthAngle:infinityToMaxNumber(this.minAzimuthAngle),maxAzimuthAngle:infinityToMaxNumber(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:_v3A.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(o,et=!1){const tt=JSON.parse(o);this.enabled=tt.enabled,this.minDistance=tt.minDistance,this.maxDistance=maxNumberToInfinity(tt.maxDistance),this.minZoom=tt.minZoom,this.maxZoom=maxNumberToInfinity(tt.maxZoom),this.minPolarAngle=tt.minPolarAngle,this.maxPolarAngle=maxNumberToInfinity(tt.maxPolarAngle),this.minAzimuthAngle=maxNumberToInfinity(tt.minAzimuthAngle),this.maxAzimuthAngle=maxNumberToInfinity(tt.maxAzimuthAngle),this.smoothTime=tt.smoothTime,this.draggingSmoothTime=tt.draggingSmoothTime,this.dollySpeed=tt.dollySpeed,this.truckSpeed=tt.truckSpeed,this.dollyToCursor=tt.dollyToCursor,this.verticalDragToForward=tt.verticalDragToForward,this._target0.fromArray(tt.target0),this._position0.fromArray(tt.position0),this._zoom0=tt.zoom0,this._focalOffset0.fromArray(tt.focalOffset0),this.moveTo(tt.target[0],tt.target[1],tt.target[2],et),_sphericalA.setFromVector3(_v3A.fromArray(tt.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(_sphericalA.theta,_sphericalA.phi,et),this.dollyTo(_sphericalA.radius,et),this.zoomTo(tt.zoom,et),this.setFocalOffset(tt.focalOffset[0],tt.focalOffset[1],tt.focalOffset[2],et),this._needsUpdate=!0}connect(o){if(this._domElement){console.warn("camera-controls is already connected.");return}o.setAttribute("data-camera-controls-version",VERSION),this._addAllEventListeners(o),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(o){return o.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(o){return this._getTargetDirection(o).negate()}_findPointerById(o){return this._activePointers.find(et=>et.pointerId===o)}_findPointerByMouseButton(o){return this._activePointers.find(et=>et.mouseButton===o)}_disposePointer(o){this._activePointers.splice(this._activePointers.indexOf(o),1)}_encloseToBoundary(o,et,tt){const nt=et.lengthSq();if(nt===0)return o;const rt=_v3B.copy(et).add(o),ot=this._boundary.clampPoint(rt,_v3C).sub(rt),st=ot.lengthSq();if(st===0)return o.add(et);if(st===nt)return o;if(tt===0)return o.add(et).add(ot);{const at=1+tt*st/et.dot(ot);return o.add(_v3B.copy(et).multiplyScalar(at)).add(ot.multiplyScalar(1-tt))}}_updateNearPlaneCorners(){if(isPerspectiveCamera(this._camera)){const o=this._camera,et=o.near,tt=o.getEffectiveFOV()*DEG2RAD,nt=Math.tan(tt*.5)*et,rt=nt*o.aspect;this._nearPlaneCorners[0].set(-rt,-nt,0),this._nearPlaneCorners[1].set(rt,-nt,0),this._nearPlaneCorners[2].set(rt,nt,0),this._nearPlaneCorners[3].set(-rt,nt,0)}else if(isOrthographicCamera(this._camera)){const o=this._camera,et=1/o.zoom,tt=o.left*et,nt=o.right*et,rt=o.top*et,it=o.bottom*et;this._nearPlaneCorners[0].set(tt,rt,0),this._nearPlaneCorners[1].set(nt,rt,0),this._nearPlaneCorners[2].set(nt,it,0),this._nearPlaneCorners[3].set(tt,it,0)}}_collisionTest(){let o=1/0;if(!(this.colliderMeshes.length>=1)||notSupportedInOrthographicCamera(this._camera,"_collisionTest"))return o;const tt=this._getTargetDirection(_cameraDirection);_rotationMatrix.lookAt(_ORIGIN,tt,this._camera.up);for(let nt=0;nt<4;nt++){const rt=_v3B.copy(this._nearPlaneCorners[nt]);rt.applyMatrix4(_rotationMatrix);const it=_v3C.addVectors(this._target,rt);_raycaster.set(it,tt),_raycaster.far=this._spherical.radius+1;const ot=_raycaster.intersectObjects(this.colliderMeshes);ot.length!==0&&ot[0].distance<o&&(o=ot[0].distance)}return o}_getClientRect(o){if(!this._domElement)return;const et=this._domElement.getBoundingClientRect();return o.x=et.left,o.y=et.top,this._viewport?(o.x+=this._viewport.x,o.y+=et.height-this._viewport.w-this._viewport.y,o.width=this._viewport.z,o.height=this._viewport.w):(o.width=et.width,o.height=et.height),o}_createOnRestPromise(o){return o?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(et=>{const tt=()=>{this.removeEventListener("rest",tt),et()};this.addEventListener("rest",tt)}))}_addAllEventListeners(o){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(o){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(o){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(o,et=new THREE.Sphere){const tt=et,nt=tt.center;_box3A.makeEmpty(),o.traverseVisible(it=>{it.isMesh&&_box3A.expandByObject(it)}),_box3A.getCenter(nt);let rt=0;return o.traverseVisible(it=>{if(!it.isMesh)return;const ot=it,st=ot.geometry.clone();st.applyMatrix4(ot.matrixWorld);const lt=st.attributes.position;for(let ct=0,ut=lt.count;ct<ut;ct++)_v3A.fromBufferAttribute(lt,ct),rt=Math.max(rt,nt.distanceToSquared(_v3A))}),tt.radius=Math.sqrt(rt),tt}};const CameraControls=reactExports.forwardRef((s,o)=>{reactExports.useMemo(()=>{const vt={Box3,MathUtils:{clamp:MathUtils.clamp},Matrix4,Quaternion,Raycaster,Sphere:Sphere$1,Spherical,Vector2,Vector3,Vector4};CameraControls$1.install({THREE:vt}),extend({CameraControlsImpl:CameraControls$1})},[]);const{camera:et,domElement:tt,makeDefault:nt,onStart:rt,onEnd:it,onChange:ot,regress:st,...at}=s,lt=useThree(vt=>vt.camera),ct=useThree(vt=>vt.gl),ut=useThree(vt=>vt.invalidate),dt=useThree(vt=>vt.events),ht=useThree(vt=>vt.setEvents),pt=useThree(vt=>vt.set),gt=useThree(vt=>vt.get),ft=useThree(vt=>vt.performance),yt=et||lt,mt=tt||dt.connected||ct.domElement,Ft=reactExports.useMemo(()=>new CameraControls$1(yt),[yt]);return useFrame((vt,Et)=>{Ft.enabled&&Ft.update(Et)},-1),reactExports.useEffect(()=>(Ft.connect(mt),()=>void Ft.disconnect()),[mt,Ft]),reactExports.useEffect(()=>{const vt=It=>{ut(),st&&ft.regress(),ot&&ot(It)},Et=It=>{rt&&rt(It)},wt=It=>{it&&it(It)};return Ft.addEventListener("update",vt),Ft.addEventListener("controlstart",Et),Ft.addEventListener("controlend",wt),Ft.addEventListener("control",vt),Ft.addEventListener("transitionstart",vt),Ft.addEventListener("wake",vt),()=>{Ft.removeEventListener("update",vt),Ft.removeEventListener("controlstart",Et),Ft.removeEventListener("controlend",wt),Ft.removeEventListener("control",vt),Ft.removeEventListener("transitionstart",vt),Ft.removeEventListener("wake",vt)}},[Ft,rt,it,ut,ht,st,ot]),reactExports.useEffect(()=>{if(nt){const vt=gt().controls;return pt({controls:Ft}),()=>pt({controls:vt})}},[nt,Ft]),reactExports.createElement("primitive",_extends({ref:o,object:Ft},at))});function useHelper(s,o,...et){const tt=reactExports.useRef(),nt=useThree(rt=>rt.scene);return reactExports.useLayoutEffect(()=>{let rt;if(s&&s!=null&&s.current&&o&&(tt.current=rt=new o(s.current,...et)),rt)return rt.traverse(it=>it.raycast=()=>null),nt.add(rt),()=>{tt.current=void 0,nt.remove(rt),rt.dispose==null||rt.dispose()}},[nt,o,s,...et]),useFrame(()=>{var rt;return void((rt=tt.current)==null||rt.update==null?void 0:rt.update())}),tt}var stats_min={exports:{}};(function(s,o){(function(et,tt){s.exports=tt()})(commonjsGlobal$1,function(){var et=function(){function tt(dt){return it.appendChild(dt.dom),dt}function nt(dt){for(var ht=0;ht<it.children.length;ht++)it.children[ht].style.display=ht===dt?"block":"none";rt=dt}var rt=0,it=document.createElement("div");it.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",it.addEventListener("click",function(dt){dt.preventDefault(),nt(++rt%it.children.length)},!1);var ot=(performance||Date).now(),st=ot,at=0,lt=tt(new et.Panel("FPS","#0ff","#002")),ct=tt(new et.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var ut=tt(new et.Panel("MB","#f08","#201"));return nt(0),{REVISION:16,dom:it,addPanel:tt,showPanel:nt,begin:function(){ot=(performance||Date).now()},end:function(){at++;var dt=(performance||Date).now();if(ct.update(dt-ot,200),dt>st+1e3&&(lt.update(1e3*at/(dt-st),100),st=dt,at=0,ut)){var ht=performance.memory;ut.update(ht.usedJSHeapSize/1048576,ht.jsHeapSizeLimit/1048576)}return dt},update:function(){ot=this.end()},domElement:it,setMode:nt}};return et.Panel=function(tt,nt,rt){var it=1/0,ot=0,st=Math.round,at=st(window.devicePixelRatio||1),lt=80*at,ct=48*at,ut=3*at,dt=2*at,ht=3*at,pt=15*at,gt=74*at,ft=30*at,yt=document.createElement("canvas");yt.width=lt,yt.height=ct,yt.style.cssText="width:80px;height:48px";var mt=yt.getContext("2d");return mt.font="bold "+9*at+"px Helvetica,Arial,sans-serif",mt.textBaseline="top",mt.fillStyle=rt,mt.fillRect(0,0,lt,ct),mt.fillStyle=nt,mt.fillText(tt,ut,dt),mt.fillRect(ht,pt,gt,ft),mt.fillStyle=rt,mt.globalAlpha=.9,mt.fillRect(ht,pt,gt,ft),{dom:yt,update:function(Ft,vt){it=Math.min(it,Ft),ot=Math.max(ot,Ft),mt.fillStyle=rt,mt.globalAlpha=1,mt.fillRect(0,0,lt,pt),mt.fillStyle=nt,mt.fillText(st(Ft)+" "+tt+" ("+st(it)+"-"+st(ot)+")",ut,dt),mt.drawImage(yt,ht+at,pt,gt-at,ft,ht,pt,gt-at,ft),mt.fillRect(ht+gt-at,pt,at,ft),mt.fillStyle=rt,mt.globalAlpha=.9,mt.fillRect(ht+gt-at,pt,at,st((1-Ft/vt)*ft))}}},et})})(stats_min);var stats_minExports=stats_min.exports;const StatsImpl=getDefaultExportFromCjs$1(stats_minExports);function call(s,o){typeof s=="function"?s(o):s!=null&&(s.current=o)}function useEffectfulState(s,o=[],et){const[tt,nt]=reactExports.useState();return reactExports.useLayoutEffect(()=>{const rt=s();return nt(rt),call(et,rt),()=>call(et,null)},o),tt}function Stats({showPanel:s=0,className:o,parent:et}){const tt=useEffectfulState(()=>new StatsImpl,[]);return reactExports.useEffect(()=>{if(tt){const nt=et&&et.current||document.body;tt.showPanel(s),nt?.appendChild(tt.dom);const rt=(o??"").split(" ").filter(st=>st);rt.length&&tt.dom.classList.add(...rt);const it=addEffect(()=>tt.begin()),ot=addAfterEffect(()=>tt.end());return()=>{rt.length&&tt.dom.classList.remove(...rt),nt?.removeChild(tt.dom),it(),ot()}}},[et,tt,o,s]),null}function create(s,o){const et=s+"Geometry";return reactExports.forwardRef(({args:tt,children:nt,...rt},it)=>{const ot=reactExports.useRef(null);return reactExports.useImperativeHandle(it,()=>ot.current),reactExports.useLayoutEffect(()=>void o?.(ot.current)),reactExports.createElement("mesh",_extends({ref:ot},rt),reactExports.createElement(et,{attach:"geometry",args:tt}),nt)})}const Box=create("box"),Sphere=create("sphere");let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let s=0;s<256;++s)byteToHex.push((s+256).toString(16).slice(1));function unsafeStringify(s,o=0){return byteToHex[s[o+0]]+byteToHex[s[o+1]]+byteToHex[s[o+2]]+byteToHex[s[o+3]]+"-"+byteToHex[s[o+4]]+byteToHex[s[o+5]]+"-"+byteToHex[s[o+6]]+byteToHex[s[o+7]]+"-"+byteToHex[s[o+8]]+byteToHex[s[o+9]]+"-"+byteToHex[s[o+10]]+byteToHex[s[o+11]]+byteToHex[s[o+12]]+byteToHex[s[o+13]]+byteToHex[s[o+14]]+byteToHex[s[o+15]]}let _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(s,o,et){let tt=o&&et||0;const nt=o||new Array(16);s=s||{};let rt=s.node||_nodeId,it=s.clockseq!==void 0?s.clockseq:_clockseq;if(rt==null||it==null){const ut=s.random||(s.rng||rng)();rt==null&&(rt=_nodeId=[ut[0]|1,ut[1],ut[2],ut[3],ut[4],ut[5]]),it==null&&(it=_clockseq=(ut[6]<<8|ut[7])&16383)}let ot=s.msecs!==void 0?s.msecs:Date.now(),st=s.nsecs!==void 0?s.nsecs:_lastNSecs+1;const at=ot-_lastMSecs+(st-_lastNSecs)/1e4;if(at<0&&s.clockseq===void 0&&(it=it+1&16383),(at<0||ot>_lastMSecs)&&s.nsecs===void 0&&(st=0),st>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=ot,_lastNSecs=st,_clockseq=it,ot+=122192928e5;const lt=((ot&268435455)*1e4+st)%4294967296;nt[tt++]=lt>>>24&255,nt[tt++]=lt>>>16&255,nt[tt++]=lt>>>8&255,nt[tt++]=lt&255;const ct=ot/4294967296*1e4&268435455;nt[tt++]=ct>>>8&255,nt[tt++]=ct&255,nt[tt++]=ct>>>24&15|16,nt[tt++]=ct>>>16&255,nt[tt++]=it>>>8|128,nt[tt++]=it&255;for(let ut=0;ut<6;++ut)nt[tt+ut]=rt[ut];return o||unsafeStringify(nt)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(s,o,et){if(native.randomUUID&&!o&&!s)return native.randomUUID();s=s||{};const tt=s.random||(s.rng||rng)();if(tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,o){et=et||0;for(let nt=0;nt<16;++nt)o[et+nt]=tt[nt];return o}return unsafeStringify(tt)}const context$2=reactExports.createContext(null),vec1$2=new Vector3,vec2$2=new Vector3,calculateOffset$2=(s,o,et,tt)=>{const nt=o.dot(o),rt=o.dot(s)-o.dot(et),it=o.dot(tt);return it===0?-rt/nt:(vec1$2.copy(tt).multiplyScalar(nt/it).sub(o),vec2$2.copy(tt).multiplyScalar(rt/it).add(et).sub(s),-vec1$2.dot(vec2$2)/vec1$2.dot(vec1$2))},upV$2=new Vector3(0,1,0),offsetMatrix$3=new Matrix4,AxisArrow$1=({direction:s,axis:o})=>{const{translation:et,translationLimits:tt,annotations:nt,annotationsClass:rt,depthTest:it,scale:ot,lineWidth:st,fixed:at,axisColors:lt,hoveredColor:ct,opacity:ut,onDragStart:dt,onDrag:ht,onDragEnd:pt,userData:gt}=reactExports.useContext(context$2),ft=useThree(Nt=>Nt.controls),yt=reactExports.useRef(null),mt=reactExports.useRef(null),Ft=reactExports.useRef(null),vt=reactExports.useRef(0),[Et,wt]=reactExports.useState(!1),It=reactExports.useCallback(Nt=>{nt&&(yt.current.innerText=`${et.current[o].toFixed(2)}`,yt.current.style.display="block"),Nt.stopPropagation();const At=new Matrix4().extractRotation(mt.current.matrixWorld),Ot=Nt.point.clone(),Vt=new Vector3().setFromMatrixPosition(mt.current.matrixWorld),Wt=s.clone().applyMatrix4(At).normalize();Ft.current={clickPoint:Ot,dir:Wt},vt.current=et.current[o],dt({component:"Arrow",axis:o,origin:Vt,directions:[Wt]}),ft&&(ft.enabled=!1),Nt.target.setPointerCapture(Nt.pointerId)},[nt,s,ft,dt,et,o]),St=reactExports.useCallback(Nt=>{if(Nt.stopPropagation(),Et||wt(!0),Ft.current){const{clickPoint:At,dir:Ot}=Ft.current,[Vt,Wt]=tt?.[o]||[void 0,void 0];let Jt=calculateOffset$2(At,Ot,Nt.ray.origin,Nt.ray.direction);Vt!==void 0&&(Jt=Math.max(Jt,Vt-vt.current)),Wt!==void 0&&(Jt=Math.min(Jt,Wt-vt.current)),et.current[o]=vt.current+Jt,nt&&(yt.current.innerText=`${et.current[o].toFixed(2)}`),offsetMatrix$3.makeTranslation(Ot.x*Jt,Ot.y*Jt,Ot.z*Jt),ht(offsetMatrix$3)}},[nt,ht,Et,et,tt,o]),Rt=reactExports.useCallback(Nt=>{nt&&(yt.current.style.display="none"),Nt.stopPropagation(),Ft.current=null,pt(),ft&&(ft.enabled=!0),Nt.target.releasePointerCapture(Nt.pointerId)},[nt,ft,pt]),Tt=reactExports.useCallback(Nt=>{Nt.stopPropagation(),wt(!1)},[]),{cylinderLength:bt,coneWidth:xt,coneLength:Bt,matrixL:Ct}=reactExports.useMemo(()=>{const Nt=at?st/ot*1.6:ot/20,At=at?.2:ot/5,Ot=at?1-At:ot-At,Vt=new Quaternion().setFromUnitVectors(upV$2,s.clone().normalize()),Wt=new Matrix4().makeRotationFromQuaternion(Vt);return{cylinderLength:Ot,coneWidth:Nt,coneLength:At,matrixL:Wt}},[s,ot,st,at]),Mt=Et?ct:lt[o];return reactExports.createElement("group",{ref:mt},reactExports.createElement("group",{matrix:Ct,matrixAutoUpdate:!1,onPointerDown:It,onPointerMove:St,onPointerUp:Rt,onPointerOut:Tt},nt&&reactExports.createElement(Html,{position:[0,-Bt,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:rt,ref:yt})),reactExports.createElement("mesh",{visible:!1,position:[0,(bt+Bt)/2,0],userData:gt},reactExports.createElement("cylinderGeometry",{args:[xt*1.4,xt*1.4,bt+Bt,8,1]})),reactExports.createElement(Line,{transparent:!0,raycast:()=>null,depthTest:it,points:[0,0,0,0,bt,0],lineWidth:st,side:DoubleSide,color:Mt,opacity:ut,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10,fog:!1}),reactExports.createElement("mesh",{raycast:()=>null,position:[0,bt+Bt/2,0],renderOrder:500},reactExports.createElement("coneGeometry",{args:[xt,Bt,24,1]}),reactExports.createElement("meshBasicMaterial",{transparent:!0,depthTest:it,color:Mt,opacity:ut,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))))},clickDir$1=new Vector3,intersectionDir$1=new Vector3,toDegrees$1=s=>s*180/Math.PI,toRadians$1=s=>s*Math.PI/180,calculateAngle$1=(s,o,et,tt,nt)=>{clickDir$1.copy(s).sub(et),intersectionDir$1.copy(o).sub(et);const rt=tt.dot(tt),it=nt.dot(nt),ot=clickDir$1.dot(tt)/rt,st=clickDir$1.dot(nt)/it,at=intersectionDir$1.dot(tt)/rt,lt=intersectionDir$1.dot(nt)/it,ct=Math.atan2(st,ot);return Math.atan2(lt,at)-ct},fmod$1=(s,o)=>{let et=Math.floor(s/o);return et=et<0?et+1:et,s-et*o},minimizeAngle$1=s=>{let o=fmod$1(s,2*Math.PI);return Math.abs(o)<1e-6?0:(o<0&&(o+=2*Math.PI),o)},rotMatrix$1=new Matrix4,posNew$1=new Vector3,ray$3=new Ray$1,intersection$3=new Vector3,AxisRotator$1=({dir1:s,dir2:o,axis:et})=>{const{rotationLimits:tt,annotations:nt,annotationsClass:rt,depthTest:it,scale:ot,lineWidth:st,fixed:at,axisColors:lt,hoveredColor:ct,opacity:ut,onDragStart:dt,onDrag:ht,onDragEnd:pt,userData:gt}=reactExports.useContext(context$2),ft=useThree(Mt=>Mt.controls),yt=reactExports.useRef(null),mt=reactExports.useRef(null),Ft=reactExports.useRef(0),vt=reactExports.useRef(0),Et=reactExports.useRef(null),[wt,It]=reactExports.useState(!1),St=reactExports.useCallback(Mt=>{nt&&(yt.current.innerText=`${toDegrees$1(vt.current).toFixed(0)}º`,yt.current.style.display="block"),Mt.stopPropagation();const Nt=Mt.point.clone(),At=new Vector3().setFromMatrixPosition(mt.current.matrixWorld),Ot=new Vector3().setFromMatrixColumn(mt.current.matrixWorld,0).normalize(),Vt=new Vector3().setFromMatrixColumn(mt.current.matrixWorld,1).normalize(),Wt=new Vector3().setFromMatrixColumn(mt.current.matrixWorld,2).normalize(),Jt=new Plane().setFromNormalAndCoplanarPoint(Wt,At);Et.current={clickPoint:Nt,origin:At,e1:Ot,e2:Vt,normal:Wt,plane:Jt},dt({component:"Rotator",axis:et,origin:At,directions:[Ot,Vt,Wt]}),ft&&(ft.enabled=!1),Mt.target.setPointerCapture(Mt.pointerId)},[nt,ft,dt,et]),Rt=reactExports.useCallback(Mt=>{if(Mt.stopPropagation(),wt||It(!0),Et.current){const{clickPoint:Nt,origin:At,e1:Ot,e2:Vt,normal:Wt,plane:Jt}=Et.current,[qt,Ht]=tt?.[et]||[void 0,void 0];ray$3.copy(Mt.ray),ray$3.intersectPlane(Jt,intersection$3),ray$3.direction.negate(),ray$3.intersectPlane(Jt,intersection$3);let Xt=calculateAngle$1(Nt,intersection$3,At,Ot,Vt),Lt=toDegrees$1(Xt);Mt.shiftKey&&(Lt=Math.round(Lt/10)*10,Xt=toRadians$1(Lt)),qt!==void 0&&Ht!==void 0&&Ht-qt<2*Math.PI?(Xt=minimizeAngle$1(Xt),Xt=Xt>Math.PI?Xt-2*Math.PI:Xt,Xt=MathUtils.clamp(Xt,qt-Ft.current,Ht-Ft.current),vt.current=Ft.current+Xt):(vt.current=minimizeAngle$1(Ft.current+Xt),vt.current=vt.current>Math.PI?vt.current-2*Math.PI:vt.current),nt&&(Lt=toDegrees$1(vt.current),yt.current.innerText=`${Lt.toFixed(0)}º`),rotMatrix$1.makeRotationAxis(Wt,Xt),posNew$1.copy(At).applyMatrix4(rotMatrix$1).sub(At).negate(),rotMatrix$1.setPosition(posNew$1),ht(rotMatrix$1)}},[nt,ht,wt,tt,et]),Tt=reactExports.useCallback(Mt=>{nt&&(yt.current.style.display="none"),Mt.stopPropagation(),Ft.current=vt.current,Et.current=null,pt(),ft&&(ft.enabled=!0),Mt.target.releasePointerCapture(Mt.pointerId)},[nt,ft,pt]),bt=reactExports.useCallback(Mt=>{Mt.stopPropagation(),It(!1)},[]),xt=reactExports.useMemo(()=>{const Mt=s.clone().normalize(),Nt=o.clone().normalize();return new Matrix4().makeBasis(Mt,Nt,Mt.clone().cross(Nt))},[s,o]),Bt=at?.65:ot*.65,Ct=reactExports.useMemo(()=>{const Nt=[];for(let At=0;At<=32;At++){const Ot=At*(Math.PI/2)/32;Nt.push(new Vector3(Math.cos(Ot)*Bt,Math.sin(Ot)*Bt,0))}return Nt},[Bt]);return reactExports.createElement("group",{ref:mt,onPointerDown:St,onPointerMove:Rt,onPointerUp:Tt,onPointerOut:bt,matrix:xt,matrixAutoUpdate:!1},nt&&reactExports.createElement(Html,{position:[Bt,Bt,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:rt,ref:yt})),reactExports.createElement(Line,{points:Ct,lineWidth:st*4,visible:!1,userData:gt}),reactExports.createElement(Line,{transparent:!0,raycast:()=>null,depthTest:it,points:Ct,lineWidth:st,side:DoubleSide,color:wt?ct:lt[et],opacity:ut,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))},decomposeIntoBasis$1=(s,o,et)=>{const tt=Math.abs(s.x)>=Math.abs(s.y)&&Math.abs(s.x)>=Math.abs(s.z)?0:Math.abs(s.y)>=Math.abs(s.x)&&Math.abs(s.y)>=Math.abs(s.z)?1:2,nt=[0,1,2].sort((ht,pt)=>Math.abs(o.getComponent(pt))-Math.abs(o.getComponent(ht))),rt=tt===nt[0]?nt[1]:nt[0],it=s.getComponent(tt),ot=s.getComponent(rt),st=o.getComponent(tt),at=o.getComponent(rt),lt=et.getComponent(tt),ut=(et.getComponent(rt)-lt*(ot/it))/(at-st*(ot/it));return[(lt-ut*st)/it,ut]},ray$2=new Ray$1,intersection$2=new Vector3,offsetMatrix$2=new Matrix4,PlaneSlider$1=({dir1:s,dir2:o,axis:et})=>{const{translation:tt,translationLimits:nt,annotations:rt,annotationsClass:it,depthTest:ot,scale:st,lineWidth:at,fixed:lt,axisColors:ct,hoveredColor:ut,opacity:dt,onDragStart:ht,onDrag:pt,onDragEnd:gt,userData:ft}=reactExports.useContext(context$2),yt=useThree(Ot=>Ot.controls),mt=reactExports.useRef(null),Ft=reactExports.useRef(null),vt=reactExports.useRef(null),Et=reactExports.useRef(0),wt=reactExports.useRef(0),[It,St]=reactExports.useState(!1),Rt=reactExports.useCallback(Ot=>{rt&&(mt.current.innerText=`${tt.current[(et+1)%3].toFixed(2)}, ${tt.current[(et+2)%3].toFixed(2)}`,mt.current.style.display="block"),Ot.stopPropagation();const Vt=Ot.point.clone(),Wt=new Vector3().setFromMatrixPosition(Ft.current.matrixWorld),Jt=new Vector3().setFromMatrixColumn(Ft.current.matrixWorld,0).normalize(),qt=new Vector3().setFromMatrixColumn(Ft.current.matrixWorld,1).normalize(),Ht=new Vector3().setFromMatrixColumn(Ft.current.matrixWorld,2).normalize(),Xt=new Plane().setFromNormalAndCoplanarPoint(Ht,Wt);vt.current={clickPoint:Vt,e1:Jt,e2:qt,plane:Xt},Et.current=tt.current[(et+1)%3],wt.current=tt.current[(et+2)%3],ht({component:"Slider",axis:et,origin:Wt,directions:[Jt,qt,Ht]}),yt&&(yt.enabled=!1),Ot.target.setPointerCapture(Ot.pointerId)},[rt,yt,ht,et]),Tt=reactExports.useCallback(Ot=>{if(Ot.stopPropagation(),It||St(!0),vt.current){const{clickPoint:Vt,e1:Wt,e2:Jt,plane:qt}=vt.current,[Ht,Xt]=nt?.[(et+1)%3]||[void 0,void 0],[Lt,Pt]=nt?.[(et+2)%3]||[void 0,void 0];ray$2.copy(Ot.ray),ray$2.intersectPlane(qt,intersection$2),ray$2.direction.negate(),ray$2.intersectPlane(qt,intersection$2),intersection$2.sub(Vt);let[kt,zt]=decomposeIntoBasis$1(Wt,Jt,intersection$2);Ht!==void 0&&(kt=Math.max(kt,Ht-Et.current)),Xt!==void 0&&(kt=Math.min(kt,Xt-Et.current)),Lt!==void 0&&(zt=Math.max(zt,Lt-wt.current)),Pt!==void 0&&(zt=Math.min(zt,Pt-wt.current)),tt.current[(et+1)%3]=Et.current+kt,tt.current[(et+2)%3]=wt.current+zt,rt&&(mt.current.innerText=`${tt.current[(et+1)%3].toFixed(2)}, ${tt.current[(et+2)%3].toFixed(2)}`),offsetMatrix$2.makeTranslation(kt*Wt.x+zt*Jt.x,kt*Wt.y+zt*Jt.y,kt*Wt.z+zt*Jt.z),pt(offsetMatrix$2)}},[rt,pt,It,tt,nt,et]),bt=reactExports.useCallback(Ot=>{rt&&(mt.current.style.display="none"),Ot.stopPropagation(),vt.current=null,gt(),yt&&(yt.enabled=!0),Ot.target.releasePointerCapture(Ot.pointerId)},[rt,yt,gt]),xt=reactExports.useCallback(Ot=>{Ot.stopPropagation(),St(!1)},[]),Bt=reactExports.useMemo(()=>{const Ot=s.clone().normalize(),Vt=o.clone().normalize();return new Matrix4().makeBasis(Ot,Vt,Ot.clone().cross(Vt))},[s,o]),Ct=lt?1/7:st/7,Mt=lt?.225:st*.225,Nt=It?ut:ct[et],At=reactExports.useMemo(()=>[new Vector3(0,0,0),new Vector3(0,Mt,0),new Vector3(Mt,Mt,0),new Vector3(Mt,0,0),new Vector3(0,0,0)],[Mt]);return reactExports.createElement("group",{ref:Ft,matrix:Bt,matrixAutoUpdate:!1},rt&&reactExports.createElement(Html,{position:[0,0,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:it,ref:mt})),reactExports.createElement("group",{position:[Ct*1.7,Ct*1.7,0]},reactExports.createElement("mesh",{visible:!0,onPointerDown:Rt,onPointerMove:Tt,onPointerUp:bt,onPointerOut:xt,scale:Mt,userData:ft},reactExports.createElement("planeGeometry",null),reactExports.createElement("meshBasicMaterial",{transparent:!0,depthTest:ot,color:Nt,polygonOffset:!0,polygonOffsetFactor:-10,side:DoubleSide,fog:!1})),reactExports.createElement(Line,{position:[-Mt/2,-Mt/2,0],transparent:!0,depthTest:ot,points:At,lineWidth:at,color:Nt,opacity:dt,polygonOffset:!0,polygonOffsetFactor:-10,userData:ft,fog:!1})))},vec1$1=new Vector3,vec2$1=new Vector3,calculateOffset$1=(s,o,et,tt)=>{const nt=o.dot(o),rt=o.dot(s)-o.dot(et),it=o.dot(tt);return it===0?-rt/nt:(vec1$1.copy(tt).multiplyScalar(nt/it).sub(o),vec2$1.copy(tt).multiplyScalar(rt/it).add(et).sub(s),-vec1$1.dot(vec2$1)/vec1$1.dot(vec1$1))},upV$1=new Vector3(0,1,0),scaleV=new Vector3,scaleMatrix=new Matrix4,ScalingSphere=({direction:s,axis:o})=>{const{scaleLimits:et,annotations:tt,annotationsClass:nt,depthTest:rt,scale:it,lineWidth:ot,fixed:st,axisColors:at,hoveredColor:lt,opacity:ct,onDragStart:ut,onDrag:dt,onDragEnd:ht,userData:pt}=reactExports.useContext(context$2),gt=useThree(At=>At.size),ft=useThree(At=>At.controls),yt=reactExports.useRef(null),mt=reactExports.useRef(null),Ft=reactExports.useRef(null),vt=reactExports.useRef(1),Et=reactExports.useRef(1),wt=reactExports.useRef(null),[It,St]=reactExports.useState(!1),Rt=st?1.2:1.2*it,Tt=reactExports.useCallback(At=>{tt&&(yt.current.innerText=`${Et.current.toFixed(2)}`,yt.current.style.display="block"),At.stopPropagation();const Ot=new Matrix4().extractRotation(mt.current.matrixWorld),Vt=At.point.clone(),Wt=new Vector3().setFromMatrixPosition(mt.current.matrixWorld),Jt=s.clone().applyMatrix4(Ot).normalize(),qt=mt.current.matrixWorld.clone(),Ht=qt.clone().invert(),Xt=st?1/calculateScaleFactor$1(mt.current.getWorldPosition(vec1$1),it,At.camera,gt):1;wt.current={clickPoint:Vt,dir:Jt,mPLG:qt,mPLGInv:Ht,offsetMultiplier:Xt},ut({component:"Sphere",axis:o,origin:Wt,directions:[Jt]}),ft&&(ft.enabled=!1),At.target.setPointerCapture(At.pointerId)},[tt,ft,s,ut,o,st,it,gt]),bt=reactExports.useCallback(At=>{if(At.stopPropagation(),It||St(!0),wt.current){const{clickPoint:Ot,dir:Vt,mPLG:Wt,mPLGInv:Jt,offsetMultiplier:qt}=wt.current,[Ht,Xt]=et?.[o]||[1e-5,void 0],Pt=calculateOffset$1(Ot,Vt,At.ray.origin,At.ray.direction)*qt,kt=st?Pt:Pt/it;let zt=Math.pow(2,kt*.2);At.shiftKey&&(zt=Math.round(zt*10)/10),zt=Math.max(zt,Ht/vt.current),Xt!==void 0&&(zt=Math.min(zt,Xt/vt.current)),Et.current=vt.current*zt,Ft.current.position.set(0,Rt+Pt,0),tt&&(yt.current.innerText=`${Et.current.toFixed(2)}`),scaleV.set(1,1,1),scaleV.setComponent(o,zt),scaleMatrix.makeScale(scaleV.x,scaleV.y,scaleV.z).premultiply(Wt).multiply(Jt),dt(scaleMatrix)}},[tt,Rt,dt,It,et,o]),xt=reactExports.useCallback(At=>{tt&&(yt.current.style.display="none"),At.stopPropagation(),vt.current=Et.current,wt.current=null,Ft.current.position.set(0,Rt,0),ht(),ft&&(ft.enabled=!0),At.target.releasePointerCapture(At.pointerId)},[tt,ft,ht,Rt]),Bt=reactExports.useCallback(At=>{At.stopPropagation(),St(!1)},[]),{radius:Ct,matrixL:Mt}=reactExports.useMemo(()=>{const At=st?ot/it*1.8:it/22.5,Ot=new Quaternion().setFromUnitVectors(upV$1,s.clone().normalize()),Vt=new Matrix4().makeRotationFromQuaternion(Ot);return{radius:At,matrixL:Vt}},[s,it,ot,st]),Nt=It?lt:at[o];return reactExports.createElement("group",{ref:mt},reactExports.createElement("group",{matrix:Mt,matrixAutoUpdate:!1,onPointerDown:Tt,onPointerMove:bt,onPointerUp:xt,onPointerOut:Bt},tt&&reactExports.createElement(Html,{position:[0,Rt/2,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:nt,ref:yt})),reactExports.createElement("mesh",{ref:Ft,position:[0,Rt,0],renderOrder:500,userData:pt},reactExports.createElement("sphereGeometry",{args:[Ct,12,12]}),reactExports.createElement("meshBasicMaterial",{transparent:!0,depthTest:rt,color:Nt,opacity:ct,polygonOffset:!0,polygonOffsetFactor:-10}))))},mL0$1=new Matrix4,mW0$1=new Matrix4,mP$1=new Matrix4,mPInv$1=new Matrix4,mW$1=new Matrix4,mL$1=new Matrix4,mL0Inv$1=new Matrix4,mdL$1=new Matrix4,mG=new Matrix4,bb$1=new Box3,bbObj$1=new Box3,vCenter$1=new Vector3,vSize$1=new Vector3,vAnchorOffset$1=new Vector3,vPosition$1=new Vector3,vScale=new Vector3,xDir$1=new Vector3(1,0,0),yDir$1=new Vector3(0,1,0),zDir$1=new Vector3(0,0,1),PivotControls$1=reactExports.forwardRef(({matrix:s,onDragStart:o,onDrag:et,onDragEnd:tt,autoTransform:nt=!0,anchor:rt,disableAxes:it=!1,disableSliders:ot=!1,disableRotations:st=!1,disableScaling:at=!1,activeAxes:lt=[!0,!0,!0],offset:ct=[0,0,0],rotation:ut=[0,0,0],scale:dt=1,lineWidth:ht=4,fixed:pt=!1,translationLimits:gt,rotationLimits:ft,scaleLimits:yt,depthTest:mt=!0,axisColors:Ft=["#ff2060","#20df80","#2080ff"],hoveredColor:vt="#ffff40",annotations:Et=!1,annotationsClass:wt,opacity:It=1,visible:St=!0,userData:Rt,children:Tt,...bt},xt)=>{const Bt=useThree(Ht=>Ht.invalidate),Ct=reactExports.useRef(null),Mt=reactExports.useRef(null),Nt=reactExports.useRef(null),At=reactExports.useRef(null),Ot=reactExports.useRef([0,0,0]),Vt=reactExports.useRef(new Vector3(1,1,1)),Wt=reactExports.useRef(new Vector3(1,1,1));reactExports.useLayoutEffect(()=>{rt&&(At.current.updateWorldMatrix(!0,!0),mPInv$1.copy(At.current.matrixWorld).invert(),bb$1.makeEmpty(),At.current.traverse(Ht=>{Ht.geometry&&(Ht.geometry.boundingBox||Ht.geometry.computeBoundingBox(),mL$1.copy(Ht.matrixWorld).premultiply(mPInv$1),bbObj$1.copy(Ht.geometry.boundingBox),bbObj$1.applyMatrix4(mL$1),bb$1.union(bbObj$1))}),vCenter$1.copy(bb$1.max).add(bb$1.min).multiplyScalar(.5),vSize$1.copy(bb$1.max).sub(bb$1.min).multiplyScalar(.5),vAnchorOffset$1.copy(vSize$1).multiply(new Vector3(...rt)).add(vCenter$1),vPosition$1.set(...ct).add(vAnchorOffset$1),Nt.current.position.copy(vPosition$1),Bt())});const Jt=reactExports.useMemo(()=>({onDragStart:Ht=>{mL0$1.copy(Mt.current.matrix),mW0$1.copy(Mt.current.matrixWorld),o&&o(Ht),Bt()},onDrag:Ht=>{mP$1.copy(Ct.current.matrixWorld),mPInv$1.copy(mP$1).invert(),mW$1.copy(mW0$1).premultiply(Ht),mL$1.copy(mW$1).premultiply(mPInv$1),mL0Inv$1.copy(mL0$1).invert(),mdL$1.copy(mL$1).multiply(mL0Inv$1),nt&&Mt.current.matrix.copy(mL$1),et&&et(mL$1,mdL$1,mW$1,Ht),Bt()},onDragEnd:()=>{tt&&tt(),Bt()},translation:Ot,translationLimits:gt,rotationLimits:ft,axisColors:Ft,hoveredColor:vt,opacity:It,scale:dt,lineWidth:ht,fixed:pt,depthTest:mt,userData:Rt,annotations:Et,annotationsClass:wt}),[o,et,tt,Ot,gt,ft,yt,mt,dt,ht,pt,...Ft,vt,It,Rt,nt,Et,wt]),qt=new Vector3;return useFrame(Ht=>{if(pt){const Xt=calculateScaleFactor$1(Nt.current.getWorldPosition(qt),dt,Ht.camera,Ht.size);Vt.current.setScalar(Xt)}s&&s instanceof Matrix4&&(Mt.current.matrix=s),Mt.current.updateWorldMatrix(!0,!0),mG.makeRotationFromEuler(Nt.current.rotation).setPosition(Nt.current.position).premultiply(Mt.current.matrixWorld),Wt.current.setFromMatrixScale(mG),vScale.copy(Vt.current).divide(Wt.current),(Math.abs(Nt.current.scale.x-vScale.x)>1e-4||Math.abs(Nt.current.scale.y-vScale.y)>1e-4||Math.abs(Nt.current.scale.z-vScale.z)>1e-4)&&(Nt.current.scale.copy(vScale),Ht.invalidate())}),reactExports.useImperativeHandle(xt,()=>Mt.current,[]),reactExports.createElement(context$2.Provider,{value:Jt},reactExports.createElement("group",{ref:Ct},reactExports.createElement("group",_extends({ref:Mt,matrix:s,matrixAutoUpdate:!1},bt),reactExports.createElement("group",{visible:St,ref:Nt,position:ct,rotation:ut},!it&&lt[0]&&reactExports.createElement(AxisArrow$1,{axis:0,direction:xDir$1}),!it&&lt[1]&&reactExports.createElement(AxisArrow$1,{axis:1,direction:yDir$1}),!it&&lt[2]&&reactExports.createElement(AxisArrow$1,{axis:2,direction:zDir$1}),!ot&&lt[0]&&lt[1]&&reactExports.createElement(PlaneSlider$1,{axis:2,dir1:xDir$1,dir2:yDir$1}),!ot&&lt[0]&&lt[2]&&reactExports.createElement(PlaneSlider$1,{axis:1,dir1:zDir$1,dir2:xDir$1}),!ot&&lt[2]&&lt[1]&&reactExports.createElement(PlaneSlider$1,{axis:0,dir1:yDir$1,dir2:zDir$1}),!st&&lt[0]&&lt[1]&&reactExports.createElement(AxisRotator$1,{axis:2,dir1:xDir$1,dir2:yDir$1}),!st&&lt[0]&&lt[2]&&reactExports.createElement(AxisRotator$1,{axis:1,dir1:zDir$1,dir2:xDir$1}),!st&&lt[2]&&lt[1]&&reactExports.createElement(AxisRotator$1,{axis:0,dir1:yDir$1,dir2:zDir$1}),!at&&lt[0]&&reactExports.createElement(ScalingSphere,{axis:0,direction:xDir$1}),!at&&lt[1]&&reactExports.createElement(ScalingSphere,{axis:1,direction:yDir$1}),!at&&lt[2]&&reactExports.createElement(ScalingSphere,{axis:2,direction:zDir$1})),reactExports.createElement("group",{ref:At},Tt))))}),FormantColors={flagship:"#1C1E2D",silver:"#BAC4E2",white:"white",module:"#2D3855",steel01:"#282f45",steel02:"#3b4668",steel03:"#657197",red:"#EA719D",green:"#2EC495",blue:"#20A0FF",gradient01:["#FF72CC","#00E4FF"],mapColor:"#0b1224",occupiedColor:"#4f5f96",primary:"#729fda",critical:"#FF72CC",dark:"#0a0b10",offwhite:"#f8f9fc",blueice:"#f0f7fe",royalBlue:"#20a0ff",royalBluedark:"#256faf",greendark:"#2d8376",mint:"#64d7d4",mintdark:"#4a8d98",purple:"#a961e4",purpledark:"#564a94",reddark:"#7f5072",orange:"#f89973",orangedark:"#94645f",yellow:"#f9c36e",yellowdark:"#9a8261",rhenium:"#797DDB",mithril:"#76A7DC"};/**
 * postprocessing v6.35.5 build Sat Jun 01 2024
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2024 Raoul van Rüschen
 * @license Zlib
 */var MILLISECONDS_TO_SECONDS=1/1e3,SECONDS_TO_MILLISECONDS=1e3,Timer=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(s){typeof document<"u"&&document.hidden!==void 0&&(s?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=s)}get delta(){return this._delta*MILLISECONDS_TO_SECONDS}get fixedDelta(){return this._fixedDelta*MILLISECONDS_TO_SECONDS}set fixedDelta(s){this._fixedDelta=s*SECONDS_TO_MILLISECONDS}get elapsed(){return this._elapsed*MILLISECONDS_TO_SECONDS}update(s){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(s!==void 0?s:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(s){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},dummyCamera=new Camera,geometry=null;function getFullscreenTriangle(){if(geometry===null){const s=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),o=new Float32Array([0,0,2,0,0,2]);geometry=new BufferGeometry,geometry.setAttribute!==void 0?(geometry.setAttribute("position",new BufferAttribute(s,3)),geometry.setAttribute("uv",new BufferAttribute(o,2))):(geometry.addAttribute("position",new BufferAttribute(s,3)),geometry.addAttribute("uv",new BufferAttribute(o,2)))}return geometry}var Pass=class jm{constructor(o="Pass",et=new Scene,tt=dummyCamera){this.name=o,this.renderer=null,this.scene=et,this.camera=tt,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(o){if(this.rtt===o){const et=this.fullscreenMaterial;et!==null&&(et.needsUpdate=!0),this.rtt=!o}}set mainScene(o){}set mainCamera(o){}setRenderer(o){this.renderer=o}isEnabled(){return this.enabled}setEnabled(o){this.enabled=o}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(o){let et=this.screen;et!==null?et.material=o:(et=new Mesh(getFullscreenTriangle(),o),et.frustumCulled=!1,this.scene===null&&(this.scene=new Scene),this.scene.add(et),this.screen=et)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(o){this.fullscreenMaterial=o}getDepthTexture(){return null}setDepthTexture(o,et=BasicDepthPacking){}render(o,et,tt,nt,rt){throw new Error("Render method not implemented!")}setSize(o,et){}initialize(o,et,tt){}dispose(){for(const o of Object.keys(this)){const et=this[o];(et instanceof WebGLRenderTarget||et instanceof Material||et instanceof Texture||et instanceof jm)&&this[o].dispose()}}},ClearMaskPass=class extends Pass{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(s,o,et,tt,nt){const rt=s.state.buffers.stencil;rt.setLocked(!1),rt.setTest(!1)}},revision=Number(REVISION.replace(/\D+/g,""));function updateFragmentShader(s){return revision<154?s.replace("colorspace_fragment","encodings_fragment"):s}var copy_default=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,common_default="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",CopyMaterial=class extends ShaderMaterial{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Uniform(null),opacity:new Uniform(1)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:copy_default,vertexShader:common_default}),this.fragmentShader=updateFragmentShader(this.fragmentShader)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}getOpacity(s){return this.uniforms.opacity.value}setOpacity(s){this.uniforms.opacity.value=s}},CopyPass=class extends Pass{constructor(s,o=!0){super("CopyPass"),this.fullscreenMaterial=new CopyMaterial,this.needsSwap=!1,this.renderTarget=s,s===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=o}get resize(){return this.autoResize}set resize(s){this.autoResize=s}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(s){this.autoResize=s}render(s,o,et,tt,nt){this.fullscreenMaterial.inputBuffer=o.texture,s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,o){this.autoResize&&this.renderTarget.setSize(s,o)}initialize(s,o,et){et!==void 0&&(this.renderTarget.texture.type=et,et!==UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":s!==null&&s.outputColorSpace===SRGBColorSpace$1&&(this.renderTarget.texture.colorSpace=SRGBColorSpace$1))}},color=new Color$1,ClearPass=class extends Pass{constructor(s=!0,o=!0,et=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=s,this.depth=o,this.stencil=et,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(s,o,et){this.color=s,this.depth=o,this.stencil=et}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(s){this.overrideClearColor=s}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(s){this.overrideClearAlpha=s}render(s,o,et,tt,nt){const rt=this.overrideClearColor,it=this.overrideClearAlpha,ot=s.getClearAlpha(),st=rt!==null,at=it>=0;st?(s.getClearColor(color),s.setClearColor(rt,at?it:ot)):at&&s.setClearAlpha(it),s.setRenderTarget(this.renderToScreen?null:o),s.clear(this.color,this.depth,this.stencil),st?s.setClearColor(color,ot):at&&s.setClearAlpha(ot)}},MaskPass=class extends Pass{constructor(s,o){super("MaskPass",s,o),this.needsSwap=!1,this.clearPass=new ClearPass(!1,!1,!0),this.inverse=!1}set mainScene(s){this.scene=s}set mainCamera(s){this.camera=s}get inverted(){return this.inverse}set inverted(s){this.inverse=s}get clear(){return this.clearPass.enabled}set clear(s){this.clearPass.enabled=s}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(s){this.inverted=s}render(s,o,et,tt,nt){const rt=s.getContext(),it=s.state.buffers,ot=this.scene,st=this.camera,at=this.clearPass,lt=this.inverted?0:1,ct=1-lt;it.color.setMask(!1),it.depth.setMask(!1),it.color.setLocked(!0),it.depth.setLocked(!0),it.stencil.setTest(!0),it.stencil.setOp(rt.REPLACE,rt.REPLACE,rt.REPLACE),it.stencil.setFunc(rt.ALWAYS,lt,4294967295),it.stencil.setClear(ct),it.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?at.render(s,null):(at.render(s,o),at.render(s,et))),this.renderToScreen?(s.setRenderTarget(null),s.render(ot,st)):(s.setRenderTarget(o),s.render(ot,st),s.setRenderTarget(et),s.render(ot,st)),it.color.setLocked(!1),it.depth.setLocked(!1),it.stencil.setLocked(!1),it.stencil.setFunc(rt.EQUAL,1,4294967295),it.stencil.setOp(rt.KEEP,rt.KEEP,rt.KEEP),it.stencil.setLocked(!0)}},EffectComposer$1=class{constructor(o=null,{depthBuffer:et=!0,stencilBuffer:tt=!1,multisampling:nt=0,frameBufferType:rt}={}){this.renderer=null,this.inputBuffer=this.createBuffer(et,tt,rt,nt),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new CopyPass,this.depthTexture=null,this.passes=[],this.timer=new Timer,this.autoRenderToScreen=!0,this.setRenderer(o)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(o){const et=this.inputBuffer,tt=this.multisampling;tt>0&&o>0?(this.inputBuffer.samples=o,this.outputBuffer.samples=o,this.inputBuffer.dispose(),this.outputBuffer.dispose()):tt!==o&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(et.depthBuffer,et.stencilBuffer,et.texture.type,o),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(o){if(this.renderer=o,o!==null){const et=o.getSize(new Vector2),tt=o.getContext().getContextAttributes().alpha,nt=this.inputBuffer.texture.type;nt===UnsignedByteType&&o.outputColorSpace===SRGBColorSpace$1&&(this.inputBuffer.texture.colorSpace=SRGBColorSpace$1,this.outputBuffer.texture.colorSpace=SRGBColorSpace$1,this.inputBuffer.dispose(),this.outputBuffer.dispose()),o.autoClear=!1,this.setSize(et.width,et.height);for(const rt of this.passes)rt.initialize(o,tt,nt)}}replaceRenderer(o,et=!0){const tt=this.renderer,nt=tt.domElement.parentNode;return this.setRenderer(o),et&&nt!==null&&(nt.removeChild(tt.domElement),nt.appendChild(o.domElement)),tt}createDepthTexture(){const o=this.depthTexture=new DepthTexture;return this.inputBuffer.depthTexture=o,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(o.format=DepthStencilFormat,o.type=UnsignedInt248Type):o.type=UnsignedIntType,o}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const o of this.passes)o.setDepthTexture(null)}}createBuffer(o,et,tt,nt){const rt=this.renderer,it=rt===null?new Vector2:rt.getDrawingBufferSize(new Vector2),ot={minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:et,depthBuffer:o,type:tt},st=new WebGLRenderTarget(it.width,it.height,ot);return nt>0&&(st.ignoreDepthForMultisampleCopy=!1,st.samples=nt),tt===UnsignedByteType&&rt!==null&&rt.outputColorSpace===SRGBColorSpace$1&&(st.texture.colorSpace=SRGBColorSpace$1),st.texture.name="EffectComposer.Buffer",st.texture.generateMipmaps=!1,st}setMainScene(o){for(const et of this.passes)et.mainScene=o}setMainCamera(o){for(const et of this.passes)et.mainCamera=o}addPass(o,et){const tt=this.passes,nt=this.renderer,rt=nt.getDrawingBufferSize(new Vector2),it=nt.getContext().getContextAttributes().alpha,ot=this.inputBuffer.texture.type;if(o.setRenderer(nt),o.setSize(rt.width,rt.height),o.initialize(nt,it,ot),this.autoRenderToScreen&&(tt.length>0&&(tt[tt.length-1].renderToScreen=!1),o.renderToScreen&&(this.autoRenderToScreen=!1)),et!==void 0?tt.splice(et,0,o):tt.push(o),this.autoRenderToScreen&&(tt[tt.length-1].renderToScreen=!0),o.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const st=this.createDepthTexture();for(o of tt)o.setDepthTexture(st)}else o.setDepthTexture(this.depthTexture)}removePass(o){const et=this.passes,tt=et.indexOf(o);if(tt!==-1&&et.splice(tt,1).length>0){if(this.depthTexture!==null){const it=(st,at)=>st||at.needsDepthTexture;et.reduce(it,!1)||(o.getDepthTexture()===this.depthTexture&&o.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&tt===et.length&&(o.renderToScreen=!1,et.length>0&&(et[et.length-1].renderToScreen=!0))}}removeAllPasses(){const o=this.passes;this.deleteDepthTexture(),o.length>0&&(this.autoRenderToScreen&&(o[o.length-1].renderToScreen=!1),this.passes=[])}render(o){const et=this.renderer,tt=this.copyPass;let nt=this.inputBuffer,rt=this.outputBuffer,it=!1,ot,st,at;o===void 0&&(this.timer.update(),o=this.timer.getDelta());for(const lt of this.passes)lt.enabled&&(lt.render(et,nt,rt,o,it),lt.needsSwap&&(it&&(tt.renderToScreen=lt.renderToScreen,ot=et.getContext(),st=et.state.buffers.stencil,st.setFunc(ot.NOTEQUAL,1,4294967295),tt.render(et,nt,rt,o,it),st.setFunc(ot.EQUAL,1,4294967295)),at=nt,nt=rt,rt=at),lt instanceof MaskPass?it=!0:lt instanceof ClearMaskPass&&(it=!1))}setSize(o,et,tt){const nt=this.renderer,rt=nt.getSize(new Vector2);(o===void 0||et===void 0)&&(o=rt.width,et=rt.height),(rt.width!==o||rt.height!==et)&&nt.setSize(o,et,tt);const it=nt.getDrawingBufferSize(new Vector2);this.inputBuffer.setSize(it.width,it.height),this.outputBuffer.setSize(it.width,it.height);for(const ot of this.passes)ot.setSize(it.width,it.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const o of this.passes)o.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},EffectAttribute={NONE:0,DEPTH:1,CONVOLUTION:2},EffectShaderSection={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},EffectShaderData=class{constructor(){this.shaderParts=new Map([[EffectShaderSection.FRAGMENT_HEAD,null],[EffectShaderSection.FRAGMENT_MAIN_UV,null],[EffectShaderSection.FRAGMENT_MAIN_IMAGE,null],[EffectShaderSection.VERTEX_HEAD,null],[EffectShaderSection.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=EffectAttribute.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=LinearSRGBColorSpace$1}},workaroundEnabled=!1,OverrideMaterialManager=class{constructor(s=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(s),this.meshCount=0,this.replaceMaterial=o=>{if(o.isMesh){let et;if(o.material.flatShading)switch(o.material.side){case DoubleSide:et=this.materialsFlatShadedDoubleSide;break;case BackSide:et=this.materialsFlatShadedBackSide;break;default:et=this.materialsFlatShaded;break}else switch(o.material.side){case DoubleSide:et=this.materialsDoubleSide;break;case BackSide:et=this.materialsBackSide;break;default:et=this.materials;break}this.originalMaterials.set(o,o.material),o.isSkinnedMesh?o.material=et[2]:o.isInstancedMesh?o.material=et[1]:o.material=et[0],++this.meshCount}}}cloneMaterial(s){if(!(s instanceof ShaderMaterial))return s.clone();const o=s.uniforms,et=new Map;for(const nt in o){const rt=o[nt].value;rt.isRenderTargetTexture&&(o[nt].value=null,et.set(nt,rt))}const tt=s.clone();for(const nt of et)o[nt[0]].value=nt[1],tt.uniforms[nt[0]].value=nt[1];return tt}setMaterial(s){if(this.disposeMaterials(),this.material=s,s!==null){const o=this.materials=[this.cloneMaterial(s),this.cloneMaterial(s),this.cloneMaterial(s)];for(const et of o)et.uniforms=Object.assign({},s.uniforms),et.side=FrontSide;o[2].skinning=!0,this.materialsBackSide=o.map(et=>{const tt=this.cloneMaterial(et);return tt.uniforms=Object.assign({},s.uniforms),tt.side=BackSide,tt}),this.materialsDoubleSide=o.map(et=>{const tt=this.cloneMaterial(et);return tt.uniforms=Object.assign({},s.uniforms),tt.side=DoubleSide,tt}),this.materialsFlatShaded=o.map(et=>{const tt=this.cloneMaterial(et);return tt.uniforms=Object.assign({},s.uniforms),tt.flatShading=!0,tt}),this.materialsFlatShadedBackSide=o.map(et=>{const tt=this.cloneMaterial(et);return tt.uniforms=Object.assign({},s.uniforms),tt.flatShading=!0,tt.side=BackSide,tt}),this.materialsFlatShadedDoubleSide=o.map(et=>{const tt=this.cloneMaterial(et);return tt.uniforms=Object.assign({},s.uniforms),tt.flatShading=!0,tt.side=DoubleSide,tt})}}render(s,o,et){const tt=s.shadowMap.enabled;if(s.shadowMap.enabled=!1,workaroundEnabled){const nt=this.originalMaterials;this.meshCount=0,o.traverse(this.replaceMaterial),s.render(o,et);for(const rt of nt)rt[0].material=rt[1];this.meshCount!==nt.size&&nt.clear()}else{const nt=o.overrideMaterial;o.overrideMaterial=this.material,s.render(o,et),o.overrideMaterial=nt}s.shadowMap.enabled=tt}disposeMaterials(){if(this.material!==null){const s=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const o of s)o.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return workaroundEnabled}static set workaroundEnabled(s){workaroundEnabled=s}},AUTO_SIZE=-1,Resolution=class extends EventDispatcher$1{constructor(s,o=AUTO_SIZE,et=AUTO_SIZE,tt=1){super(),this.resizable=s,this.baseSize=new Vector2(1,1),this.preferredSize=new Vector2(o,et),this.target=this.preferredSize,this.s=tt,this.effectiveSize=new Vector2,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const s=this.baseSize,o=this.preferredSize,et=this.effectiveSize,tt=this.scale;o.width!==AUTO_SIZE?et.width=o.width:o.height!==AUTO_SIZE?et.width=Math.round(o.height*(s.width/Math.max(s.height,1))):et.width=Math.round(s.width*tt),o.height!==AUTO_SIZE?et.height=o.height:o.width!==AUTO_SIZE?et.height=Math.round(o.width/Math.max(s.width/Math.max(s.height,1),1)):et.height=Math.round(s.height*tt)}get width(){return this.effectiveSize.width}set width(s){this.preferredWidth=s}get height(){return this.effectiveSize.height}set height(s){this.preferredHeight=s}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(s){this.s!==s&&(this.s=s,this.preferredSize.setScalar(AUTO_SIZE),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(s){this.scale=s}get baseWidth(){return this.baseSize.width}set baseWidth(s){this.baseSize.width!==s&&(this.baseSize.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(s){this.baseWidth=s}get baseHeight(){return this.baseSize.height}set baseHeight(s){this.baseSize.height!==s&&(this.baseSize.height=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(s){this.baseHeight=s}setBaseSize(s,o){(this.baseSize.width!==s||this.baseSize.height!==o)&&(this.baseSize.set(s,o),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(s){this.preferredSize.width!==s&&(this.preferredSize.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(s){this.preferredWidth=s}get preferredHeight(){return this.preferredSize.height}set preferredHeight(s){this.preferredSize.height!==s&&(this.preferredSize.height=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(s){this.preferredHeight=s}setPreferredSize(s,o){(this.preferredSize.width!==s||this.preferredSize.height!==o)&&(this.preferredSize.set(s,o),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(s){this.s=s.scale,this.baseSize.set(s.baseWidth,s.baseHeight),this.preferredSize.set(s.preferredWidth,s.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return AUTO_SIZE}},BlendFunction={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},add_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",alpha_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",average_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",color_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",color_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",color_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",darken_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",difference_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",divide_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",exclusion_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",hard_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",hard_mix_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",hue_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",invert_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",invert_rgb_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",lighten_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",linear_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",linear_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",linear_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",luminosity_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",multiply_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",negation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",normal_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",overlay_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",pin_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",reflect_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",saturation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",screen_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",soft_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",src_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",subtract_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",vivid_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",blendFunctions=new Map([[BlendFunction.ADD,add_default],[BlendFunction.ALPHA,alpha_default],[BlendFunction.AVERAGE,average_default],[BlendFunction.COLOR,color_default],[BlendFunction.COLOR_BURN,color_burn_default],[BlendFunction.COLOR_DODGE,color_dodge_default],[BlendFunction.DARKEN,darken_default],[BlendFunction.DIFFERENCE,difference_default],[BlendFunction.DIVIDE,divide_default],[BlendFunction.DST,null],[BlendFunction.EXCLUSION,exclusion_default],[BlendFunction.HARD_LIGHT,hard_light_default],[BlendFunction.HARD_MIX,hard_mix_default],[BlendFunction.HUE,hue_default],[BlendFunction.INVERT,invert_default],[BlendFunction.INVERT_RGB,invert_rgb_default],[BlendFunction.LIGHTEN,lighten_default],[BlendFunction.LINEAR_BURN,linear_burn_default],[BlendFunction.LINEAR_DODGE,linear_dodge_default],[BlendFunction.LINEAR_LIGHT,linear_light_default],[BlendFunction.LUMINOSITY,luminosity_default],[BlendFunction.MULTIPLY,multiply_default],[BlendFunction.NEGATION,negation_default],[BlendFunction.NORMAL,normal_default],[BlendFunction.OVERLAY,overlay_default],[BlendFunction.PIN_LIGHT,pin_light_default],[BlendFunction.REFLECT,reflect_default],[BlendFunction.SATURATION,saturation_default],[BlendFunction.SCREEN,screen_default],[BlendFunction.SOFT_LIGHT,soft_light_default],[BlendFunction.SRC,src_default],[BlendFunction.SUBTRACT,subtract_default],[BlendFunction.VIVID_LIGHT,vivid_light_default]]),BlendMode=class extends EventDispatcher$1{constructor(s,o=1){super(),this._blendFunction=s,this.opacity=new Uniform(o)}getOpacity(){return this.opacity.value}setOpacity(s){this.opacity.value=s}get blendFunction(){return this._blendFunction}set blendFunction(s){this._blendFunction=s,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(s){this.blendFunction=s}getShaderCode(){return blendFunctions.get(this.blendFunction)}},KernelSize={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},convolution_kawase_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,convolution_kawase_default2="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",kernelPresets=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],KawaseBlurMaterial=class extends ShaderMaterial{constructor(s=new Vector4){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector4),scale:new Uniform(1),kernel:new Uniform(0)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:convolution_kawase_default,vertexShader:convolution_kawase_default2}),this.fragmentShader=updateFragmentShader(this.fragmentShader),this.setTexelSize(s.x,s.y),this.kernelSize=KernelSize.MEDIUM}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.inputBuffer=s}get kernelSequence(){return kernelPresets[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(s){this.uniforms.scale.value=s}getScale(){return this.uniforms.scale.value}setScale(s){this.uniforms.scale.value=s}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(s){this.uniforms.kernel.value=s}setKernel(s){this.kernel=s}setTexelSize(s,o){this.uniforms.texelSize.value.set(s,o,s*.5,o*.5)}setSize(s,o){const et=1/s,tt=1/o;this.uniforms.texelSize.value.set(et,tt,et*.5,tt*.5)}},KawaseBlurPass=class extends Pass{constructor({kernelSize:s=KernelSize.MEDIUM,resolutionScale:o=.5,width:et=Resolution.AUTO_SIZE,height:tt=Resolution.AUTO_SIZE,resolutionX:nt=et,resolutionY:rt=tt}={}){super("KawaseBlurPass"),this.renderTargetA=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const it=this.resolution=new Resolution(this,nt,rt,o);it.addEventListener("change",ot=>this.setSize(it.baseWidth,it.baseHeight)),this._blurMaterial=new KawaseBlurMaterial,this._blurMaterial.kernelSize=s,this.copyMaterial=new CopyMaterial}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(s){this._blurMaterial=s}get dithering(){return this.copyMaterial.dithering}set dithering(s){this.copyMaterial.dithering=s}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(s){this.blurMaterial.kernelSize=s}get width(){return this.resolution.width}set width(s){this.resolution.preferredWidth=s}get height(){return this.resolution.height}set height(s){this.resolution.preferredHeight=s}get scale(){return this.blurMaterial.scale}set scale(s){this.blurMaterial.scale=s}getScale(){return this.blurMaterial.scale}setScale(s){this.blurMaterial.scale=s}getKernelSize(){return this.kernelSize}setKernelSize(s){this.kernelSize=s}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}render(s,o,et,tt,nt){const rt=this.scene,it=this.camera,ot=this.renderTargetA,st=this.renderTargetB,at=this.blurMaterial,lt=at.kernelSequence;let ct=o;this.fullscreenMaterial=at;for(let ut=0,dt=lt.length;ut<dt;++ut){const ht=ut&1?st:ot;at.kernel=lt[ut],at.inputBuffer=ct.texture,s.setRenderTarget(ht),s.render(rt,it),ct=ht}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=ct.texture,s.setRenderTarget(this.renderToScreen?null:et),s.render(rt,it)}setSize(s,o){const et=this.resolution;et.setBaseSize(s,o);const tt=et.width,nt=et.height;this.renderTargetA.setSize(tt,nt),this.renderTargetB.setSize(tt,nt),this.blurMaterial.setSize(s,o)}initialize(s,o,et){et!==void 0&&(this.renderTargetA.texture.type=et,this.renderTargetB.texture.type=et,et!==UnsignedByteType?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):s!==null&&s.outputColorSpace===SRGBColorSpace$1&&(this.renderTargetA.texture.colorSpace=SRGBColorSpace$1,this.renderTargetB.texture.colorSpace=SRGBColorSpace$1))}static get AUTO_SIZE(){return Resolution.AUTO_SIZE}},luminance_default=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l)*l;
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*clamp(l,0.0,1.0),l);
#else
gl_FragColor=vec4(l);
#endif
}`,LuminanceMaterial=class extends ShaderMaterial{constructor(s=!1,o=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,"")},uniforms:{inputBuffer:new Uniform(null),threshold:new Uniform(0),smoothing:new Uniform(1),range:new Uniform(null)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:luminance_default,vertexShader:common_default}),this.colorOutput=s,this.luminanceRange=o}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}get threshold(){return this.uniforms.threshold.value}set threshold(s){this.smoothing>0||s>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=s}getThreshold(){return this.threshold}setThreshold(s){this.threshold=s}get smoothing(){return this.uniforms.smoothing.value}set smoothing(s){this.threshold>0||s>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=s}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(s){this.smoothing=s}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(s){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(s){s?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(s){return this.colorOutput}setColorOutputEnabled(s){this.colorOutput=s}get useRange(){return this.luminanceRange!==null}set useRange(s){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(s){s!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=s,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(s){this.luminanceRange=s}},LuminancePass=class extends Pass{constructor({renderTarget:s,luminanceRange:o,colorOutput:et,resolutionScale:tt=1,width:nt=Resolution.AUTO_SIZE,height:rt=Resolution.AUTO_SIZE,resolutionX:it=nt,resolutionY:ot=rt}={}){super("LuminancePass"),this.fullscreenMaterial=new LuminanceMaterial(et,o),this.needsSwap=!1,this.renderTarget=s,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const st=this.resolution=new Resolution(this,it,ot,tt);st.addEventListener("change",at=>this.setSize(st.baseWidth,st.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(s,o,et,tt,nt){const rt=this.fullscreenMaterial;rt.inputBuffer=o.texture,s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,o){const et=this.resolution;et.setBaseSize(s,o),this.renderTarget.setSize(et.width,et.height)}initialize(s,o,et){et!==void 0&&et!==UnsignedByteType&&(this.renderTarget.texture.type=et,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},convolution_downsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,convolution_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",DownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:convolution_downsampling_default,vertexShader:convolution_downsampling_default2}),this.fragmentShader=updateFragmentShader(this.fragmentShader)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setSize(s,o){this.uniforms.texelSize.value.set(1/s,1/o)}},convolution_upsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,convolution_upsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",UpsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),supportBuffer:new Uniform(null),texelSize:new Uniform(new Vector2),radius:new Uniform(.85)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:convolution_upsampling_default,vertexShader:convolution_upsampling_default2}),this.fragmentShader=updateFragmentShader(this.fragmentShader)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}set supportBuffer(s){this.uniforms.supportBuffer.value=s}get radius(){return this.uniforms.radius.value}set radius(s){this.uniforms.radius.value=s}setSize(s,o){this.uniforms.texelSize.value.set(1/s,1/o)}},MipmapBlurPass=class extends Pass{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new DownsamplingMaterial,this.upsamplingMaterial=new UpsamplingMaterial,this.resolution=new Vector2}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(s){if(this.levels!==s){const o=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let et=0;et<s;++et){const tt=o.clone();tt.texture.name="Downsampling.Mipmap"+et,this.downsamplingMipmaps.push(tt)}this.upsamplingMipmaps.push(o);for(let et=1,tt=s-1;et<tt;++et){const nt=o.clone();nt.texture.name="Upsampling.Mipmap"+et,this.upsamplingMipmaps.push(nt)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(s){this.upsamplingMaterial.radius=s}render(s,o,et,tt,nt){const{scene:rt,camera:it}=this,{downsamplingMaterial:ot,upsamplingMaterial:st}=this,{downsamplingMipmaps:at,upsamplingMipmaps:lt}=this;let ct=o;this.fullscreenMaterial=ot;for(let ut=0,dt=at.length;ut<dt;++ut){const ht=at[ut];ot.setSize(ct.width,ct.height),ot.inputBuffer=ct.texture,s.setRenderTarget(ht),s.render(rt,it),ct=ht}this.fullscreenMaterial=st;for(let ut=lt.length-1;ut>=0;--ut){const dt=lt[ut];st.setSize(ct.width,ct.height),st.inputBuffer=ct.texture,st.supportBuffer=at[ut].texture,s.setRenderTarget(dt),s.render(rt,it),ct=dt}}setSize(s,o){const et=this.resolution;et.set(s,o);let tt=et.width,nt=et.height;for(let rt=0,it=this.downsamplingMipmaps.length;rt<it;++rt)tt=Math.round(tt*.5),nt=Math.round(nt*.5),this.downsamplingMipmaps[rt].setSize(tt,nt),rt<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[rt].setSize(tt,nt)}initialize(s,o,et){if(et!==void 0){const tt=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const nt of tt)nt.texture.type=et;if(et!==UnsignedByteType)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(s!==null&&s.outputColorSpace===SRGBColorSpace$1)for(const nt of tt)nt.texture.colorSpace=SRGBColorSpace$1}}dispose(){super.dispose();for(const s of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))s.dispose()}},Effect=class extends EventDispatcher$1{constructor(s,o,{attributes:et=EffectAttribute.NONE,blendFunction:tt=BlendFunction.NORMAL,defines:nt=new Map,uniforms:rt=new Map,extensions:it=null,vertexShader:ot=null}={}){super(),this.name=s,this.renderer=null,this.attributes=et,this.fragmentShader=o,this.vertexShader=ot,this.defines=nt,this.uniforms=rt,this.extensions=it,this.blendMode=new BlendMode(tt),this.blendMode.addEventListener("change",st=>this.setChanged()),this._inputColorSpace=LinearSRGBColorSpace$1,this._outputColorSpace=NoColorSpace}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(s){this._inputColorSpace=s,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(s){this._outputColorSpace=s,this.setChanged()}set mainScene(s){}set mainCamera(s){}getName(){return this.name}setRenderer(s){this.renderer=s}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(s){this.attributes=s,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(s){this.fragmentShader=s,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(s){this.vertexShader=s,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(s,o=BasicDepthPacking){}update(s,o,et){}setSize(s,o){}initialize(s,o,et){}dispose(){for(const s of Object.keys(this)){const o=this[s];(o instanceof WebGLRenderTarget||o instanceof Material||o instanceof Texture||o instanceof Pass)&&this[s].dispose()}}},bloom_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}`,BloomEffect=class extends Effect{constructor({blendFunction:s=BlendFunction.SCREEN,luminanceThreshold:o=.9,luminanceSmoothing:et=.025,mipmapBlur:tt=!1,intensity:nt=1,radius:rt=.85,levels:it=8,kernelSize:ot=KernelSize.LARGE,resolutionScale:st=.5,width:at=Resolution.AUTO_SIZE,height:lt=Resolution.AUTO_SIZE,resolutionX:ct=at,resolutionY:ut=lt}={}){super("BloomEffect",bloom_default,{blendFunction:s,uniforms:new Map([["map",new Uniform(null)],["intensity",new Uniform(nt)]])}),this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new KawaseBlurPass({kernelSize:ot}),this.luminancePass=new LuminancePass({colorOutput:!0}),this.luminanceMaterial.threshold=o,this.luminanceMaterial.smoothing=et,this.mipmapBlurPass=new MipmapBlurPass,this.mipmapBlurPass.enabled=tt,this.mipmapBlurPass.radius=rt,this.mipmapBlurPass.levels=it,this.uniforms.get("map").value=tt?this.mipmapBlurPass.texture:this.renderTarget.texture;const dt=this.resolution=new Resolution(this,ct,ut,st);dt.addEventListener("change",ht=>this.setSize(dt.baseWidth,dt.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(s){this.resolution.preferredWidth=s}get height(){return this.resolution.height}set height(s){this.resolution.preferredHeight=s}get dithering(){return this.blurPass.dithering}set dithering(s){this.blurPass.dithering=s}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(s){this.blurPass.kernelSize=s}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(s){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(s){this.uniforms.get("intensity").value=s}getIntensity(){return this.intensity}setIntensity(s){this.intensity=s}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}update(s,o,et){const tt=this.renderTarget,nt=this.luminancePass;nt.enabled?(nt.render(s,o),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(s,nt.renderTarget):this.blurPass.render(s,nt.renderTarget,tt)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(s,o):this.blurPass.render(s,o,tt)}setSize(s,o){const et=this.resolution;et.setBaseSize(s,o),this.renderTarget.setSize(et.width,et.height),this.blurPass.resolution.copy(et),this.luminancePass.setSize(s,o),this.mipmapBlurPass.setSize(s,o)}initialize(s,o,et){this.blurPass.initialize(s,o,et),this.luminancePass.initialize(s,o,et),this.mipmapBlurPass.initialize(s,o,et),et!==void 0&&(this.renderTarget.texture.type=et,s!==null&&s.outputColorSpace===SRGBColorSpace$1&&(this.renderTarget.texture.colorSpace=SRGBColorSpace$1))}},RenderPass=class extends Pass{constructor(s,o,et=null){super("RenderPass",s,o),this.needsSwap=!1,this.clearPass=new ClearPass,this.overrideMaterialManager=et===null?null:new OverrideMaterialManager(et),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(s){this.scene=s}set mainCamera(s){this.camera=s}get renderToScreen(){return super.renderToScreen}set renderToScreen(s){super.renderToScreen=s,this.clearPass.renderToScreen=s}get overrideMaterial(){const s=this.overrideMaterialManager;return s!==null?s.material:null}set overrideMaterial(s){const o=this.overrideMaterialManager;s!==null?o!==null?o.setMaterial(s):this.overrideMaterialManager=new OverrideMaterialManager(s):o!==null&&(o.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(s){this.overrideMaterial=s}get clear(){return this.clearPass.enabled}set clear(s){this.clearPass.enabled=s}getSelection(){return this.selection}setSelection(s){this.selection=s}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(s){this.ignoreBackground=s}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(s){this.skipShadowMapUpdate=s}getClearPass(){return this.clearPass}render(s,o,et,tt,nt){const rt=this.scene,it=this.camera,ot=this.selection,st=it.layers.mask,at=rt.background,lt=s.shadowMap.autoUpdate,ct=this.renderToScreen?null:o;ot!==null&&it.layers.set(ot.getLayer()),this.skipShadowMapUpdate&&(s.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(rt.background=null),this.clearPass.enabled&&this.clearPass.render(s,o),s.setRenderTarget(ct),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(s,rt,it):s.render(rt,it),it.layers.mask=st,rt.background=at,s.shadowMap.autoUpdate=lt}},VignetteTechnique={DEFAULT:0,ESKIL:1},noise_default=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*(1.0+time)));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,NoiseEffect=class extends Effect{constructor({blendFunction:s=BlendFunction.SCREEN,premultiply:o=!1}={}){super("NoiseEffect",noise_default,{blendFunction:s}),this.premultiply=o}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(s){this.premultiply!==s&&(s?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(s){this.premultiply=s}},depth_downsampling_default=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,depth_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",DepthDownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform(null),normalBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:depth_downsampling_default,vertexShader:depth_downsampling_default2})}set depthBuffer(s){this.uniforms.depthBuffer.value=s}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,o=BasicDepthPacking){this.depthBuffer=s,this.depthPacking=o}set normalBuffer(s){this.uniforms.normalBuffer.value=s,s!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(s){this.normalBuffer=s}setTexelSize(s,o){this.uniforms.texelSize.value.set(s,o)}setSize(s,o){this.uniforms.texelSize.value.set(1/s,1/o)}},DepthDownsamplingPass=class extends Pass{constructor({normalBuffer:s=null,resolutionScale:o=.5,width:et=Resolution.AUTO_SIZE,height:tt=Resolution.AUTO_SIZE,resolutionX:nt=et,resolutionY:rt=tt}={}){super("DepthDownsamplingPass");const it=new DepthDownsamplingMaterial;it.normalBuffer=s,this.fullscreenMaterial=it,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,depthBuffer:!1,type:FloatType}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const ot=this.resolution=new Resolution(this,nt,rt,o);ot.addEventListener("change",st=>this.setSize(ot.baseWidth,ot.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(s,o=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=s,this.fullscreenMaterial.depthPacking=o}render(s,o,et,tt,nt){s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,o){const et=this.resolution;et.setBaseSize(s,o),this.renderTarget.setSize(et.width,et.height),this.fullscreenMaterial.setSize(s,o)}initialize(s,o,et){const tt=s.getContext();if(!(tt.getExtension("EXT_color_buffer_float")||tt.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},vignette_default=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,VignetteEffect=class extends Effect{constructor({blendFunction:s,eskil:o=!1,technique:et=o?VignetteTechnique.ESKIL:VignetteTechnique.DEFAULT,offset:tt=.5,darkness:nt=.5}={}){super("VignetteEffect",vignette_default,{blendFunction:s,defines:new Map([["VIGNETTE_TECHNIQUE",et.toFixed(0)]]),uniforms:new Map([["offset",new Uniform(tt)],["darkness",new Uniform(nt)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(s){this.technique!==s&&(this.defines.set("VIGNETTE_TECHNIQUE",s.toFixed(0)),this.setChanged())}get eskil(){return this.technique===VignetteTechnique.ESKIL}set eskil(s){this.technique=s?VignetteTechnique.ESKIL:VignetteTechnique.DEFAULT}getTechnique(){return this.technique}setTechnique(s){this.technique=s}get offset(){return this.uniforms.get("offset").value}set offset(s){this.uniforms.get("offset").value=s}getOffset(){return this.offset}setOffset(s){this.offset=s}get darkness(){return this.uniforms.get("darkness").value}set darkness(s){this.uniforms.get("darkness").value=s}getDarkness(){return this.darkness}setDarkness(s){this.darkness=s}},effect_default=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,effect_default2="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",EffectMaterial=class extends ShaderMaterial{constructor(s,o,et,tt,nt=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),resolution:new Uniform(new Vector2),texelSize:new Uniform(new Vector2),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3),aspect:new Uniform(1),time:new Uniform(0)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:nt}),s&&this.setShaderParts(s),o&&this.setDefines(o),et&&this.setUniforms(et),this.copyCameraSettings(tt)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(s){this.uniforms.depthBuffer.value=s}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,o=BasicDepthPacking){this.depthBuffer=s,this.depthPacking=o}setShaderData(s){this.setShaderParts(s.shaderParts),this.setDefines(s.defines),this.setUniforms(s.uniforms),this.setExtensions(s.extensions)}setShaderParts(s){return this.fragmentShader=effect_default.replace(EffectShaderSection.FRAGMENT_HEAD,s.get(EffectShaderSection.FRAGMENT_HEAD)||"").replace(EffectShaderSection.FRAGMENT_MAIN_UV,s.get(EffectShaderSection.FRAGMENT_MAIN_UV)||"").replace(EffectShaderSection.FRAGMENT_MAIN_IMAGE,s.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=effect_default2.replace(EffectShaderSection.VERTEX_HEAD,s.get(EffectShaderSection.VERTEX_HEAD)||"").replace(EffectShaderSection.VERTEX_MAIN_SUPPORT,s.get(EffectShaderSection.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=updateFragmentShader(this.fragmentShader),this.needsUpdate=!0,this}setDefines(s){for(const o of s.entries())this.defines[o[0]]=o[1];return this.needsUpdate=!0,this}setUniforms(s){for(const o of s.entries())this.uniforms[o[0]]=o[1];return this}setExtensions(s){this.extensions={};for(const o of s)this.extensions[o]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(s){this.encodeOutput!==s&&(s?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(s){return this.encodeOutput}setOutputEncodingEnabled(s){this.encodeOutput=s}get time(){return this.uniforms.time.value}set time(s){this.uniforms.time.value=s}setDeltaTime(s){this.uniforms.time.value+=s}adoptCameraSettings(s){this.copyCameraSettings(s)}copyCameraSettings(s){s&&(this.uniforms.cameraNear.value=s.near,this.uniforms.cameraFar.value=s.far,s instanceof PerspectiveCamera$1?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(s,o){const et=this.uniforms;et.resolution.value.set(s,o),et.texelSize.value.set(1/s,1/o),et.aspect.value=s/o}static get Section(){return EffectShaderSection}};function prefixSubstrings(s,o,et){for(const tt of o){const nt="$1"+s+tt.charAt(0).toUpperCase()+tt.slice(1),rt=new RegExp("([^\\.])(\\b"+tt+"\\b)","g");for(const it of et.entries())it[1]!==null&&et.set(it[0],it[1].replace(rt,nt))}}function integrateEffect(s,o,et){let tt=o.getFragmentShader(),nt=o.getVertexShader();const rt=tt!==void 0&&/mainImage/.test(tt),it=tt!==void 0&&/mainUv/.test(tt);if(et.attributes|=o.getAttributes(),tt===void 0)throw new Error(`Missing fragment shader (${o.name})`);if(it&&et.attributes&EffectAttribute.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${o.name})`);if(!rt&&!it)throw new Error(`Could not find mainImage or mainUv function (${o.name})`);{const ot=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,st=et.shaderParts;let at=st.get(EffectShaderSection.FRAGMENT_HEAD)||"",lt=st.get(EffectShaderSection.FRAGMENT_MAIN_UV)||"",ct=st.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE)||"",ut=st.get(EffectShaderSection.VERTEX_HEAD)||"",dt=st.get(EffectShaderSection.VERTEX_MAIN_SUPPORT)||"";const ht=new Set,pt=new Set;if(it&&(lt+=`	${s}MainUv(UV);
`,et.uvTransformation=!0),nt!==null&&/mainSupport/.test(nt)){const yt=/mainSupport *\([\w\s]*?uv\s*?\)/.test(nt);dt+=`	${s}MainSupport(`,dt+=yt?`vUv);
`:`);
`;for(const mt of nt.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const Ft of mt[1].split(/\s*,\s*/))et.varyings.add(Ft),ht.add(Ft),pt.add(Ft);for(const mt of nt.matchAll(ot))pt.add(mt[1])}for(const yt of tt.matchAll(ot))pt.add(yt[1]);for(const yt of o.defines.keys())pt.add(yt.replace(/\([\w\s,]*\)/g,""));for(const yt of o.uniforms.keys())pt.add(yt);pt.delete("while"),pt.delete("for"),pt.delete("if"),o.uniforms.forEach((yt,mt)=>et.uniforms.set(s+mt.charAt(0).toUpperCase()+mt.slice(1),yt)),o.defines.forEach((yt,mt)=>et.defines.set(s+mt.charAt(0).toUpperCase()+mt.slice(1),yt));const gt=new Map([["fragment",tt],["vertex",nt]]);prefixSubstrings(s,pt,et.defines),prefixSubstrings(s,pt,gt),tt=gt.get("fragment"),nt=gt.get("vertex");const ft=o.blendMode;if(et.blendModes.set(ft.blendFunction,ft),rt){o.inputColorSpace!==null&&o.inputColorSpace!==et.colorSpace&&(ct+=o.inputColorSpace===SRGBColorSpace$1?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),o.outputColorSpace!==NoColorSpace?et.colorSpace=o.outputColorSpace:o.inputColorSpace!==null&&(et.colorSpace=o.inputColorSpace);const yt=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;ct+=`${s}MainImage(color0, UV, `,et.attributes&EffectAttribute.DEPTH&&yt.test(tt)&&(ct+="depth, ",et.readDepth=!0),ct+=`color1);
	`;const mt=s+"BlendOpacity";et.uniforms.set(mt,ft.opacity),ct+=`color0 = blend${ft.blendFunction}(color0, color1, ${mt});

	`,at+=`uniform float ${mt};

`}if(at+=tt+`
`,nt!==null&&(ut+=nt+`
`),st.set(EffectShaderSection.FRAGMENT_HEAD,at),st.set(EffectShaderSection.FRAGMENT_MAIN_UV,lt),st.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,ct),st.set(EffectShaderSection.VERTEX_HEAD,ut),st.set(EffectShaderSection.VERTEX_MAIN_SUPPORT,dt),o.extensions!==null)for(const yt of o.extensions)et.extensions.add(yt)}}var EffectPass=class extends Pass{constructor(s,...o){super("EffectPass"),this.fullscreenMaterial=new EffectMaterial(null,null,null,s),this.listener=et=>this.handleEvent(et),this.effects=[],this.setEffects(o),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(s){for(const o of this.effects)o.mainScene=s}set mainCamera(s){this.fullscreenMaterial.copyCameraSettings(s);for(const o of this.effects)o.mainCamera=s}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(s){this.fullscreenMaterial.encodeOutput=s}get dithering(){return this.fullscreenMaterial.dithering}set dithering(s){const o=this.fullscreenMaterial;o.dithering=s,o.needsUpdate=!0}setEffects(s){for(const o of this.effects)o.removeEventListener("change",this.listener);this.effects=s.sort((o,et)=>et.attributes-o.attributes);for(const o of this.effects)o.addEventListener("change",this.listener)}updateMaterial(){const s=new EffectShaderData;let o=0;for(const it of this.effects)if(it.blendMode.blendFunction===BlendFunction.DST)s.attributes|=it.getAttributes()&EffectAttribute.DEPTH;else{if(s.attributes&it.getAttributes()&EffectAttribute.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${it.name})`);integrateEffect("e"+o++,it,s)}let et=s.shaderParts.get(EffectShaderSection.FRAGMENT_HEAD),tt=s.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE),nt=s.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV);const rt=/\bblend\b/g;for(const it of s.blendModes.values())et+=it.getShaderCode().replace(rt,`blend${it.blendFunction}`)+`
`;s.attributes&EffectAttribute.DEPTH?(s.readDepth&&(tt=`float depth = readDepth(UV);

	`+tt),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,s.colorSpace===SRGBColorSpace$1&&(tt+=`color0 = sRGBToLinear(color0);
	`),s.uvTransformation?(nt=`vec2 transformedUv = vUv;
`+nt,s.defines.set("UV","transformedUv")):s.defines.set("UV","vUv"),s.shaderParts.set(EffectShaderSection.FRAGMENT_HEAD,et),s.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,tt),s.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_UV,nt);for(const[it,ot]of s.shaderParts)ot!==null&&s.shaderParts.set(it,ot.trim().replace(/^#/,`
#`));this.skipRendering=o===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(s)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(s,o=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=s,this.fullscreenMaterial.depthPacking=o;for(const et of this.effects)et.setDepthTexture(s,o)}render(s,o,et,tt,nt){for(const rt of this.effects)rt.update(s,o,tt);if(!this.skipRendering||this.renderToScreen){const rt=this.fullscreenMaterial;rt.inputBuffer=o.texture,rt.time+=tt*this.timeScale,s.setRenderTarget(this.renderToScreen?null:et),s.render(this.scene,this.camera)}}setSize(s,o){this.fullscreenMaterial.setSize(s,o);for(const et of this.effects)et.setSize(s,o)}initialize(s,o,et){this.renderer=s;for(const tt of this.effects)tt.initialize(s,o,et);this.updateMaterial(),et!==void 0&&et!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const s of this.effects)s.removeEventListener("change",this.listener),s.dispose()}handleEvent(s){switch(s.type){case"change":this.recompile();break}}},NormalPass=class extends Pass{constructor(s,o,{renderTarget:et,resolutionScale:tt=1,width:nt=Resolution.AUTO_SIZE,height:rt=Resolution.AUTO_SIZE,resolutionX:it=nt,resolutionY:ot=rt}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new RenderPass(s,o,new MeshNormalMaterial);const st=this.renderPass;st.ignoreBackground=!0,st.skipShadowMapUpdate=!0;const at=st.getClearPass();at.overrideClearColor=new Color$1(7829503),at.overrideClearAlpha=1,this.renderTarget=et,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter}),this.renderTarget.texture.name="NormalPass.Target");const lt=this.resolution=new Resolution(this,it,ot,tt);lt.addEventListener("change",ct=>this.setSize(lt.baseWidth,lt.baseHeight))}set mainScene(s){this.renderPass.mainScene=s}set mainCamera(s){this.renderPass.mainCamera=s}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}render(s,o,et,tt,nt){const rt=this.renderToScreen?null:this.renderTarget;this.renderPass.render(s,rt,rt)}setSize(s,o){const et=this.resolution;et.setBaseSize(s,o),this.renderTarget.setSize(et.width,et.height)}};const EffectComposerContext=reactExports.createContext(null),isConvolution=s=>(s.getAttributes()&EffectAttribute.CONVOLUTION)===EffectAttribute.CONVOLUTION,EffectComposer=React.memo(reactExports.forwardRef(({children:s,camera:o,scene:et,resolutionScale:tt,enabled:nt=!0,renderPriority:rt=1,autoClear:it=!0,depthBuffer:ot,enableNormalPass:st,stencilBuffer:at,multisampling:lt=8,frameBufferType:ct=HalfFloatType},ut)=>{const{gl:dt,scene:ht,camera:pt,size:gt}=useThree(),ft=et||ht,yt=o||pt,[mt,Ft,vt]=reactExports.useMemo(()=>{const St=isWebGL2Available(),Rt=new EffectComposer$1(dt,{depthBuffer:ot,stencilBuffer:at,multisampling:lt>0&&St?lt:0,frameBufferType:ct});Rt.addPass(new RenderPass(ft,yt));let Tt=null,bt=null;return st&&(bt=new NormalPass(ft,yt),bt.enabled=!1,Rt.addPass(bt),tt!==void 0&&St&&(Tt=new DepthDownsamplingPass({normalBuffer:bt.texture,resolutionScale:tt}),Tt.enabled=!1,Rt.addPass(Tt))),[Rt,bt,Tt]},[yt,dt,ot,at,lt,ct,ft,st,tt]);reactExports.useEffect(()=>mt?.setSize(gt.width,gt.height),[mt,gt]),useFrame((St,Rt)=>{if(nt){const Tt=dt.autoClear;dt.autoClear=it,at&&!it&&dt.clearStencil(),mt.render(Rt),dt.autoClear=Tt}},nt?rt:0);const Et=reactExports.useRef(null),wt=useInstanceHandle(Et);reactExports.useLayoutEffect(()=>{const St=[];if(Et.current&&wt.current&&mt){const Rt=wt.current.objects;for(let Tt=0;Tt<Rt.length;Tt++){const bt=Rt[Tt];if(bt instanceof Effect){const xt=[bt];if(!isConvolution(bt)){let Ct=null;for(;(Ct=Rt[Tt+1])instanceof Effect&&!isConvolution(Ct);)xt.push(Ct),Tt++}const Bt=new EffectPass(yt,...xt);St.push(Bt)}else bt instanceof Pass&&St.push(bt)}for(const Tt of St)mt?.addPass(Tt);Ft&&(Ft.enabled=!0),vt&&(vt.enabled=!0)}return()=>{for(const Rt of St)mt?.removePass(Rt);Ft&&(Ft.enabled=!1),vt&&(vt.enabled=!1)}},[mt,s,yt,Ft,vt,wt]),reactExports.useEffect(()=>{const St=dt.toneMapping;return dt.toneMapping=NoToneMapping,()=>{dt.toneMapping=St}},[]);const It=reactExports.useMemo(()=>({composer:mt,normalPass:Ft,downSamplingPass:vt,resolutionScale:tt,camera:yt,scene:ft}),[mt,Ft,vt,tt,yt,ft]);return reactExports.useImperativeHandle(ut,()=>mt,[mt]),jsx(EffectComposerContext.Provider,{value:It,children:jsx("group",{ref:Et,children:s})})}));let i$1=0;const components=new WeakMap,wrapEffect=(s,o)=>React.forwardRef(function({blendFunction:tt=o?.blendFunction,opacity:nt=o?.opacity,...rt},it){let ot=components.get(s);if(!ot){const lt=`@react-three/postprocessing/${s.name}-${i$1++}`;extend({[lt]:s}),components.set(s,ot=lt)}const st=useThree(lt=>lt.camera),at=React.useMemo(()=>{var lt,ct;return[...(lt=o?.args)!=null?lt:[],...(ct=rt.args)!=null?ct:[{...o,...rt}]]},[JSON.stringify(rt)]);return jsx(ot,{camera:st,"blendMode-blendFunction":tt,"blendMode-opacity-value":nt,...rt,ref:it,args:at})}),Bloom=wrapEffect(BloomEffect,{blendFunction:BlendFunction.ADD}),Noise=wrapEffect(NoiseEffect,{blendFunction:BlendFunction.COLOR_DODGE}),Vignette=wrapEffect(VignetteEffect);class XRController extends Group{constructor(o,et){super(),this.inputSource=null,this.xrControllerModel=null,this.index=o,this.controller=et.xr.getController(o),this.grip=et.xr.getControllerGrip(o),this.hand=et.xr.getHand(o),this.grip.userData.name="grip",this.controller.userData.name="controller",this.hand.userData.name="hand",this.visible=!1,this.add(this.controller,this.grip,this.hand),this._onConnected=this._onConnected.bind(this),this._onDisconnected=this._onDisconnected.bind(this),this.controller.addEventListener("connected",this._onConnected),this.controller.addEventListener("disconnected",this._onDisconnected)}_onConnected(o){o.fake||o.data&&(this.visible=!0,this.inputSource=o.data,this.dispatchEvent(o))}_onDisconnected(o){o.fake||(this.visible=!1,this.inputSource=null,this.dispatchEvent(o))}dispose(){this.controller.removeEventListener("connected",this._onConnected),this.controller.removeEventListener("disconnected",this._onDisconnected)}}var _a,_b;const uniq=s=>Array.from(new Set(s)),useIsomorphicLayoutEffect=typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useCallbackRef(s){const o=reactExports.useRef(s);return useIsomorphicLayoutEffect(()=>void(o.current=s),[s]),o}function useXREvent(s,o,{handedness:et}={}){const tt=useCallbackRef(o),nt=useXR(rt=>rt.controllers);useIsomorphicLayoutEffect(()=>{const rt=nt.map(it=>{if(et&&it.inputSource&&it.inputSource.handedness!==et)return;const ot=st=>tt.current({nativeEvent:st,target:it});return it.controller.addEventListener(s,ot),()=>it.controller.removeEventListener(s,ot)});return()=>rt.forEach(it=>it?.())},[nt,et,s])}const tempMatrix=new Matrix4;function InteractionManager({children:s}){const o=useThree(ct=>ct.events),et=useThree(ct=>ct.get),tt=useThree(ct=>ct.raycaster),nt=useXR(ct=>ct.controllers),rt=useXR(ct=>ct.interactions),it=useXR(ct=>ct.hoverState),ot=useXR(ct=>ct.hasInteraction),st=useXR(ct=>ct.getInteraction),at=reactExports.useCallback(ct=>{const ut=Array.from(rt.keys());return tempMatrix.identity().extractRotation(ct.matrixWorld),tt.ray.origin.setFromMatrixPosition(ct.matrixWorld),tt.ray.direction.set(0,0,-1).applyMatrix4(tempMatrix),tt.intersectObjects(ut,!0)},[rt,tt]);useFrame(()=>{var ct;if(rt.size!==0)for(const ut of nt){if(!((ct=ut.inputSource)!=null&&ct.handedness))return;const dt=it[ut.inputSource.handedness],ht=new Set;let pt=at(ut.controller);if(o.filter)pt=o.filter(pt,et());else{const gt=pt.find(ft=>ft?.object);gt&&(pt=[gt])}for(const gt of pt){let ft=gt.object;for(;ft;){if(ot(ft,"onHover")&&!dt.has(ft)){const mt=st(ft,"onHover");for(const Ft of mt)Ft({target:ut,intersection:gt,intersections:pt})}const yt=st(ft,"onMove");yt?.forEach(mt=>mt({target:ut,intersection:gt,intersections:pt})),dt.set(ft,gt),ht.add(ft.id),ft=ft.parent}}for(const gt of dt.keys())if(!ht.has(gt.id)){dt.delete(gt);const ft=st(gt,"onBlur");if(!ft)continue;for(const yt of ft)yt({target:ut,intersections:pt})}}});const lt=reactExports.useCallback(ct=>ut=>{var dt;if(!((dt=ut.target.inputSource)!=null&&dt.handedness))return;const ht=it[ut.target.inputSource.handedness],pt=Array.from(new Set(ht.values()));rt.forEach((gt,ft)=>{var yt,mt,Ft;if(ht.has(ft)){if(!gt[ct])return;for(const vt of gt[ct])(yt=vt.current)==null||yt.call(vt,{target:ut.target,intersection:ht.get(ft),intersections:pt})}else if(ct==="onSelect"&&gt.onSelectMissed)for(const vt of gt.onSelectMissed)(mt=vt.current)==null||mt.call(vt,{target:ut.target,intersections:pt});else if(ct==="onSqueeze"&&gt.onSqueezeMissed)for(const vt of gt.onSqueezeMissed)(Ft=vt.current)==null||Ft.call(vt,{target:ut.target,intersections:pt})})},[it,rt]);return useXREvent("select",lt("onSelect")),useXREvent("selectstart",lt("onSelectStart")),useXREvent("selectend",lt("onSelectEnd")),useXREvent("squeeze",lt("onSqueeze")),useXREvent("squeezeend",lt("onSqueezeEnd")),useXREvent("squeezestart",lt("onSqueezeStart")),reactExports.createElement(reactExports.Fragment,null,s)}function useInteraction(s,o,et){const tt=useXR(it=>it.addInteraction),nt=useXR(it=>it.removeInteraction),rt=useCallbackRef(et);useIsomorphicLayoutEffect(()=>{const it=s.current;if(!(!it||!rt.current))return tt(it,o,rt),()=>nt(it,o,rt)},[s,o,tt,nt])}const Interactive=reactExports.forwardRef(function({onHover:o,onBlur:et,onSelectStart:tt,onSelectEnd:nt,onSelectMissed:rt,onSelect:it,onSqueezeStart:ot,onSqueezeEnd:st,onSqueezeMissed:at,onSqueeze:lt,onMove:ct,children:ut},dt){const ht=reactExports.useRef(null);return reactExports.useImperativeHandle(dt,()=>ht.current),useInteraction(ht,"onHover",o),useInteraction(ht,"onBlur",et),useInteraction(ht,"onSelectStart",tt),useInteraction(ht,"onSelectEnd",nt),useInteraction(ht,"onSelectMissed",rt),useInteraction(ht,"onSelect",it),useInteraction(ht,"onSqueezeStart",ot),useInteraction(ht,"onSqueezeEnd",st),useInteraction(ht,"onSqueezeMissed",at),useInteraction(ht,"onSqueeze",lt),useInteraction(ht,"onMove",ct),reactExports.createElement("group",{ref:ht},ut)});reactExports.forwardRef(function({onSelectStart:o,onSelectEnd:et,children:tt,...nt},rt){const it=reactExports.useRef(),ot=reactExports.useRef(null),st=reactExports.useMemo(()=>new Matrix4,[]);return reactExports.useImperativeHandle(rt,()=>ot.current),useFrame(()=>{const at=it.current,lt=ot.current;at&&(lt.applyMatrix4(st),lt.applyMatrix4(at.matrixWorld),lt.updateMatrixWorld(),st.copy(at.matrixWorld).invert())}),reactExports.createElement(Interactive,{ref:ot,onSelectStart:at=>{it.current=at.target.controller,st.copy(at.target.controller.matrixWorld).invert(),o?.(at)},onSelectEnd:at=>{at.target.controller===it.current&&(it.current=void 0),et?.(at)},...nt},tt)});const XRContext=reactExports.createContext(null),globalSessionStore=create$1((s,o)=>({set:s,get:o,session:null,referenceSpaceType:null}));function XRManager({foveation:s=0,frameRate:o=void 0,referenceSpace:et="local-floor",onSessionStart:tt,onSessionEnd:nt,onVisibilityChange:rt,onInputSourcesChange:it,children:ot}){const st=useThree(mt=>mt.gl),at=useThree(mt=>mt.camera),lt=useXR(mt=>mt.player),ct=useXR(mt=>mt.get),ut=useXR(mt=>mt.set),dt=useXR(mt=>mt.session),ht=useXR(mt=>mt.controllers),pt=useCallbackRef(tt),gt=useCallbackRef(nt),ft=useCallbackRef(rt),yt=useCallbackRef(it);return useIsomorphicLayoutEffect(()=>{const mt=[0,1].map(Ft=>{const vt=new XRController(Ft,st),Et=()=>ut(It=>({controllers:[...It.controllers,vt]})),wt=()=>ut(It=>({controllers:It.controllers.filter(St=>St!==vt)}));return vt.addEventListener("connected",Et),vt.addEventListener("disconnected",wt),()=>{vt.removeEventListener("connected",Et),vt.removeEventListener("disconnected",wt)}});return()=>mt.forEach(Ft=>Ft())},[st,ut]),useIsomorphicLayoutEffect(()=>globalSessionStore.subscribe(({session:mt})=>ut(()=>({session:mt}))),[st.xr,ut]),useIsomorphicLayoutEffect(()=>{st.xr.setFoveation(s),ut(()=>({foveation:s}))},[st.xr,s,ut]),useIsomorphicLayoutEffect(()=>{var mt;try{o&&((mt=dt?.updateTargetFrameRate)==null||mt.call(dt,o))}catch{}ut(()=>({frameRate:o}))},[dt,o,ut]),useIsomorphicLayoutEffect(()=>{const mt=globalSessionStore.getState();st.xr.setReferenceSpaceType(et),ut(()=>({referenceSpace:et})),mt.set({referenceSpaceType:et})},[st.xr,et,ut]),useIsomorphicLayoutEffect(()=>{if(!dt)return void st.xr.setSession(null);const mt=wt=>{var It;ut(()=>({isPresenting:!0})),(It=pt.current)==null||It.call(pt,{nativeEvent:{...wt,target:dt},target:dt})},Ft=wt=>{var It;ut(()=>({isPresenting:!1,session:null})),globalSessionStore.setState(()=>({session:null})),(It=gt.current)==null||It.call(gt,{nativeEvent:{...wt,target:dt},target:dt})},vt=wt=>{var It;(It=ft.current)==null||It.call(ft,{nativeEvent:wt,target:dt})},Et=wt=>{var It;const St=Object.values(dt.inputSources).some(Rt=>Rt.hand);ut(()=>({isHandTracking:St})),(It=yt.current)==null||It.call(yt,{nativeEvent:wt,target:dt})};return st.xr.addEventListener("sessionstart",mt),st.xr.addEventListener("sessionend",Ft),dt.addEventListener("visibilitychange",vt),dt.addEventListener("inputsourceschange",Et),st.xr.setSession(dt).then(()=>{st.xr.setFoveation(ct().foveation)}),()=>{st.xr.removeEventListener("sessionstart",mt),st.xr.removeEventListener("sessionend",Ft),dt.removeEventListener("visibilitychange",vt),dt.removeEventListener("inputsourceschange",Et)}},[dt,st.xr,ut,ct]),reactExports.createElement(InteractionManager,null,reactExports.createElement("primitive",{object:lt},reactExports.createElement("primitive",{object:at}),ht.map(mt=>reactExports.createElement("primitive",{key:mt.index,object:mt}))),ot)}function XR(s){const o=reactExports.useMemo(()=>create$1((et,tt)=>({set:et,get:tt,controllers:[],isPresenting:!1,isHandTracking:!1,player:new Group,session:null,foveation:0,referenceSpace:"local-floor",hoverState:{left:new Map,right:new Map,none:new Map},interactions:new Map,hasInteraction(nt,rt){var it;return!!((it=tt().interactions.get(nt))!=null&&it[rt].some(ot=>ot.current))},getInteraction(nt,rt){var it;return(it=tt().interactions.get(nt))==null?void 0:it[rt].reduce((ot,st)=>(st.current&&ot.push(st.current),ot),[])},addInteraction(nt,rt,it){const ot=tt().interactions;ot.has(nt)||ot.set(nt,{onHover:[],onBlur:[],onSelect:[],onSelectEnd:[],onSelectStart:[],onSelectMissed:[],onSqueeze:[],onSqueezeEnd:[],onSqueezeStart:[],onSqueezeMissed:[],onMove:[]}),ot.get(nt)[rt].push(it)},removeInteraction(nt,rt,it){const ot=tt().interactions.get(nt);if(ot){const st=ot[rt].indexOf(it);st!==-1&&ot[rt].splice(st,1)}}})),[]);return reactExports.createElement(XRContext.Provider,{value:o},reactExports.createElement(XRManager,{...s}))}const getSessionOptions=(s,o)=>{var et;if(!(!s&&!o))return s&&!o?{optionalFeatures:[s]}:s&&o?{...o,optionalFeatures:uniq([...(et=o.optionalFeatures)!=null?et:[],s])}:o},startSession=async(s,o)=>{const et=globalSessionStore.getState();if(et.session){console.warn("@react-three/xr: session already started, please stop it first");return}const tt=getSessionOptions(et.referenceSpaceType,o),nt=await navigator.xr.requestSession(s,tt);return et.set(()=>({session:nt})),nt},stopSession=async()=>{const s=globalSessionStore.getState();if(!s.session){console.warn("@react-three/xr: no session to stop, please start it first");return}await s.session.end(),s.set({session:null})},toggleSession=async(s,{sessionInit:o,enterOnly:et,exitOnly:tt}={})=>{const nt=globalSessionStore.getState();if(!(nt.session&&et)&&!(!nt.session&&tt))return nt.session?await stopSession():await startSession(s,o)},getLabel=(s,o,et)=>{switch(s){case"entered":return`Exit ${o}`;case"exited":return`Enter ${o}`;case"unsupported":default:switch(et){case"https":return"HTTPS needed";case"security":return`${o} blocked`;case"unknown":default:return`${o} unsupported`}}},XRButton=reactExports.forwardRef(function({mode:o,sessionInit:et,enterOnly:tt=!1,exitOnly:nt=!1,onClick:rt,onError:it,children:ot,...st},at){var lt;const[ct,ut]=reactExports.useState("exited"),[dt,ht]=reactExports.useState("unknown"),pt=getLabel(ct,o,dt),gt=o==="inline"?o:`immersive-${o.toLowerCase()}`,ft=useCallbackRef(it);useIsomorphicLayoutEffect(()=>{if(!navigator?.xr)return void ut("unsupported");navigator.xr.isSessionSupported(gt).then(mt=>{if(mt)ut("exited");else{const Ft=location.protocol==="https:";ut("unsupported"),ht(Ft?"unknown":"https")}}).catch(mt=>{ut("unsupported"),"name"in mt&&mt.name==="SecurityError"?ht("security"):ht("unknown")})},[gt]),useIsomorphicLayoutEffect(()=>globalSessionStore.subscribe(mt=>{mt.session?ut("entered"):ct!=="unsupported"&&ut("exited")}),[ct]);const yt=reactExports.useCallback(async mt=>{rt?.(mt);try{toggleSession(gt,{sessionInit:et,enterOnly:tt,exitOnly:nt})}catch(Ft){const vt=ft.current;if(vt&&Ft instanceof Error)vt(Ft);else throw Ft}},[rt,gt,et,tt,nt,ft]);return reactExports.createElement("button",{...st,ref:at,onClick:ct==="unsupported"?rt:yt},(lt=typeof ot=="function"?ot(ct):ot)!=null?lt:pt)}),buttonStyles={position:"absolute",bottom:"24px",left:"50%",transform:"translateX(-50%)",padding:"12px 24px",border:"1px solid white",borderRadius:"4px",background:"rgba(0, 0, 0, 0.1)",color:"white",font:"normal 0.8125rem sans-serif",outline:"none",zIndex:99999,cursor:"pointer"};reactExports.forwardRef(({style:s=buttonStyles,sessionInit:o={domOverlay:typeof document<"u"?{root:document.body}:void 0,optionalFeatures:["hit-test","dom-overlay","dom-overlay-for-handheld-ar"]},children:et,...tt},nt)=>reactExports.createElement(XRButton,{...tt,ref:nt,mode:"AR",style:s,sessionInit:o},et));const VRButton=reactExports.forwardRef(({style:s=buttonStyles,sessionInit:o={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]},children:et,...tt},nt)=>reactExports.createElement(XRButton,{...tt,ref:nt,mode:"VR",style:s,sessionInit:o},et));function useXR(s=et=>et,o){const et=reactExports.useContext(XRContext);if(!et)throw new Error("useXR must be used within an <XR /> component!");return et(s,o)}const DEFAULT_PROFILES_PATH="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",DEFAULT_PROFILE="generic-trigger";class XRControllerModelFactory{constructor(o=null,et=DEFAULT_PROFILES_PATH){this.gltfLoader=o??new GLTFLoader,this.path=et,this._assetCache={}}initializeControllerModel(o,et){return et.targetRayMode!=="tracked-pointer"||!et.gamepad?Promise.resolve():fetchProfile(et,this.path,DEFAULT_PROFILE).then(({profile:tt,assetPath:nt})=>{if(!nt)throw new Error("no asset path");const rt=new MotionController(et,tt,nt);o.connectMotionController(rt);const it=rt.assetUrl,ot=this._assetCache[it];if(ot){const st=ot.scene.clone();o.connectModel(st)}else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(it,st=>{if(!o.motionController){console.warn("motionController gone while gltf load, bailing...");return}this._assetCache[it]=st;const at=st.scene.clone();o.connectModel(at)},void 0,()=>{throw new Error(`Asset ${it} missing or malformed.`)})}}).catch(tt=>{console.warn(tt)})}}const isEnvMapApplicable=s=>"envMap"in s,updateEnvMap=(s,o)=>{s.envMap=o,s.needsUpdate=!0},applyEnvironmentMap=(s,o)=>{o instanceof Mesh&&(Array.isArray(o.material)?o.material.forEach(et=>isEnvMapApplicable(et)?updateEnvMap(et,s):void 0):isEnvMapApplicable(o.material)&&updateEnvMap(o.material,s))},isEnvMapIntensityApplicable=s=>"envMapIntensity"in s,updateEnvMapIntensity=(s,o)=>{s.envMapIntensity=o,s.needsUpdate=!0},applyEnvironmentMapIntensity=(s,o)=>{o instanceof Mesh&&(Array.isArray(o.material)?o.material.forEach(et=>isEnvMapIntensityApplicable(et)?updateEnvMapIntensity(et,s):void 0):isEnvMapIntensityApplicable(o.material)&&updateEnvMapIntensity(o.material,s))};function findNodes(s,o){Object.values(s.components).forEach(et=>{const{type:tt,touchPointNodeName:nt,visualResponses:rt}=et;if(tt===MotionControllerConstants.ComponentType.TOUCHPAD&&nt)if(et.touchPointNode=o.getObjectByName(nt),et.touchPointNode){const it=new SphereGeometry(.001),ot=new MeshBasicMaterial({color:255}),st=new Mesh(it,ot);et.touchPointNode.add(st)}else console.warn(`Could not find touch dot, ${et.touchPointNodeName}, in touchpad component ${et.id}`);Object.values(rt).forEach(it=>{const{valueNodeName:ot,minNodeName:st,maxNodeName:at,valueNodeProperty:lt}=it;if(lt===MotionControllerConstants.VisualResponseProperty.TRANSFORM&&st&&at){if(it.minNode=o.getObjectByName(st),it.maxNode=o.getObjectByName(at),!it.minNode){console.warn(`Could not find ${st} in the model`);return}if(!it.maxNode){console.warn(`Could not find ${at} in the model`);return}}it.valueNode=o.getObjectByName(ot),it.valueNode||console.warn(`Could not find ${ot} in the model`)})})}function addAssetSceneToControllerModel(s,o){findNodes(s.motionController,o),(s.envMap||s.envMapIntensity!=null)&&o.traverse(et=>{s.envMap&&applyEnvironmentMap(s.envMap,et),s.envMapIntensity!=null&&applyEnvironmentMapIntensity(s.envMapIntensity,et)}),s.add(o)}class XRControllerModel extends Group{constructor(){super(),this.motionController=null,this.envMap=null,this.envMapIntensity=1,this.scene=null}setEnvironmentMap(o,et=1){var tt;return this.envMap===o&&this.envMapIntensity===et?this:(this.envMap=o,this.envMapIntensity=et,(tt=this.scene)==null||tt.traverse(nt=>{applyEnvironmentMap(o,nt),applyEnvironmentMapIntensity(et,nt)}),this)}setEnvironmentMapIntensity(o){var et;return this.envMapIntensity===o?this:(this.envMapIntensity=o,(et=this.scene)==null||et.traverse(tt=>applyEnvironmentMapIntensity(o,tt)),this)}connectModel(o){if(!this.motionController){console.warn("scene tried to add, but no motion controller");return}this.scene=o,addAssetSceneToControllerModel(this,o),this.dispatchEvent({type:"modelconnected",data:o})}connectMotionController(o){this.motionController=o,this.dispatchEvent({type:"motionconnected",data:o})}updateMatrixWorld(o){super.updateMatrixWorld(o),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(et=>{Object.values(et.visualResponses).forEach(tt=>{const{valueNode:nt,minNode:rt,maxNode:it,value:ot,valueNodeProperty:st}=tt;nt&&(st===MotionControllerConstants.VisualResponseProperty.VISIBILITY&&typeof ot=="boolean"?nt.visible=ot:st===MotionControllerConstants.VisualResponseProperty.TRANSFORM&&rt&&it&&typeof ot=="number"&&(nt.quaternion.slerpQuaternions(rt.quaternion,it.quaternion,ot),nt.position.lerpVectors(rt.position,it.position,ot)))})}))}disconnect(){this.dispatchEvent({type:"motiondisconnected",data:this.motionController}),this.dispatchEvent({type:"modeldisconnected",data:this.scene}),this.motionController=null,this.scene&&this.remove(this.scene),this.scene=null}dispose(){this.disconnect()}}const Ray=reactExports.forwardRef(function({target:o,hideOnBlur:et=!1,...tt},nt){const rt=useXR(st=>st.hoverState),it=reactExports.useRef(null),ot=reactExports.useMemo(()=>new BufferGeometry().setFromPoints([new Vector3(0,0,0),new Vector3(0,0,-1)]),[]);return reactExports.useImperativeHandle(nt,()=>it.current),useFrame(()=>{if(!o.inputSource)return;let st=1;const at=rt[o.inputSource.handedness].values().next().value;at&&o.inputSource.handedness!=="none"?(st=at.distance,et&&(it.current.visible=!1)):et&&(it.current.visible=!0);const lt=-.01;it.current.scale.z=st+lt}),reactExports.createElement("line",{ref:it,geometry:ot,"material-opacity":.8,"material-transparent":!0,...tt})}),modelFactory=new XRControllerModelFactory,ControllerModel=({target:s,envMap:o,envMapIntensity:et})=>{const tt=reactExports.useRef(null),nt=useCallbackRef(st=>{o!=null&&st.setEnvironmentMap(o)}),rt=useCallbackRef(st=>st.setEnvironmentMap(null)),it=useCallbackRef(st=>{et!=null&&st.setEnvironmentMapIntensity(et)}),ot=reactExports.useCallback(st=>{var at,lt,ct;if(tt.current=st,st){if(s.xrControllerModel=st,(at=s.inputSource)!=null&&at.hand)return;nt.current(st),it.current(st),s.inputSource?modelFactory.initializeControllerModel(st,s.inputSource):console.warn("no input source on XRController when handleControllerModel")}else{if((lt=s.inputSource)!=null&&lt.hand)return;(ct=s.xrControllerModel)==null||ct.disconnect(),s.xrControllerModel=null}},[s,it,nt]);return reactExports.useLayoutEffect(()=>{tt.current&&(o?nt.current(tt.current):rt.current(tt.current))},[o,nt,rt]),reactExports.useLayoutEffect(()=>{tt.current&&it.current(tt.current)},[et,it]),reactExports.createElement("xRControllerModel",{ref:ot})};function Controllers({rayMaterial:s={},hideRaysOnBlur:o=!1,envMap:et,envMapIntensity:tt}){const nt=useXR(ot=>ot.controllers),rt=useXR(ot=>ot.isHandTracking),it=reactExports.useMemo(()=>Object.entries(s).reduce((ot,[st,at])=>({...ot,[`material-${st}`]:at}),{}),[JSON.stringify(s)]);return reactExports.useMemo(()=>extend({XRControllerModel}),[]),reactExports.createElement(reactExports.Fragment,null,nt.map((ot,st)=>reactExports.createElement(reactExports.Fragment,{key:st},createPortal(reactExports.createElement(ControllerModel,{target:ot,envMap:et,envMapIntensity:tt}),ot.grip),createPortal(reactExports.createElement(Ray,{visible:!rt,hideOnBlur:o,target:ot,...it}),ot.controller))))}const DEFAULT_HAND_PROFILE_PATH="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/";class XRHandMeshModel{constructor(o,et,tt=DEFAULT_HAND_PROFILE_PATH,nt,rt){this.controller=et,this.handModel=o,this.bones=[];const it=new GLTFLoader;rt||it.setPath(tt),it.load(rt??`${nt}.glb`,ot=>{const st=ot.scene.children[0];this.handModel.add(st),this.scene=st;const at=st.getObjectByProperty("type","SkinnedMesh");at.frustumCulled=!1,at.castShadow=!0,at.receiveShadow=!0,["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"].forEach(ct=>{const ut=st.getObjectByName(ct);ut!==void 0?ut.jointName=ct:console.warn(`Couldn't find ${ct} in ${nt} hand mesh`),this.bones.push(ut)})})}updateMesh(){const o=this.controller.joints;let et=!0;for(let tt=0;tt<this.bones.length;tt++){const nt=this.bones[tt];if(nt){const rt=o[nt.jointName];if(rt.visible){const it=rt.position;nt.position.copy(it),nt.quaternion.copy(rt.quaternion),et=!1}}}et&&this.scene?this.scene.visible=!1:this.scene&&(this.scene.visible=!0)}dispose(){this.scene&&this.handModel.remove(this.scene)}}const TOUCH_RADIUS=.01,POINTING_JOINT="index-finger-tip";class OculusHandModel extends Object3D{constructor(o,et,tt){super(),this._onConnected=nt=>{const rt=nt.data;rt.hand&&!this.motionController&&(this.xrInputSource=rt,this.motionController=new XRHandMeshModel(this,this.controller,void 0,rt.handedness,rt.handedness==="left"?this.leftModelPath:this.rightModelPath))},this._onDisconnected=()=>{var nt;(nt=this.xrInputSource)!=null&&nt.hand&&this.motionControllerCleanup()},this.controller=o,this.motionController=null,this.envMap=null,this.leftModelPath=et,this.rightModelPath=tt,this.mesh=null,this.xrInputSource=null,o.addEventListener("connected",this._onConnected),o.addEventListener("disconnected",this._onDisconnected)}motionControllerCleanup(){var o;this.clear(),(o=this.motionController)==null||o.dispose(),this.motionController=null}updateMatrixWorld(o){super.updateMatrixWorld(o),this.motionController&&this.motionController.updateMesh()}getPointerPosition(){const o=this.controller.joints[POINTING_JOINT];return o?o.position:null}intersectBoxObject(o){const et=this.getPointerPosition();if(et){const tt=new Sphere$1(et,TOUCH_RADIUS),nt=new Box3().setFromObject(o);return tt.intersectsBox(nt)}else return!1}checkButton(o){this.intersectBoxObject(o)?o.onPress():o.onClear(),o.isPressed()&&o.whilePressed()}dispose(){this.motionControllerCleanup(),this.controller.removeEventListener("connected",this._onConnected),this.controller.removeEventListener("disconnected",this._onDisconnected)}}function Hands({modelLeft:s,modelRight:o}){const et=useXR(tt=>tt.controllers);return reactExports.useMemo(()=>extend({OculusHandModel}),[]),useIsomorphicLayoutEffect(()=>{for(const tt of et)tt.hand.dispatchEvent({type:"connected",data:tt.inputSource,fake:!0})},[et,s,o]),reactExports.createElement(reactExports.Fragment,null,et.map(({hand:tt})=>createPortal(reactExports.createElement("oculusHandModel",{args:[tt,s,o]}),tt)))}const UIDataContext=React.createContext({layers:[],register:(s,o,et,tt,nt,rt=!0)=>({name:s,id:o,type:et,visible:rt,treePath:nt}),toggleVisibility:s=>{},cameraTargetId:"",setCameraTargetId:s=>{},reset:()=>{},toggleEditMode:()=>{},isEditing:!1,debug:!1});function useUI(){const[s,o]=React.useState([]),[et,tt]=React.useState(""),[nt,rt]=React.useState(!1);return{layers:s,register:(lt,ct,ut,dt,ht,pt=!0)=>{JSON.parse(sessionStorage.getItem(`${ct}-visible`)||"true");const gt={name:lt,id:ct,visible:pt,type:ut,treePath:ht,iconUrl:dt};return s.some(ft=>ft.id===ct)||o(ft=>[...ft,gt]),gt},toggleVisibility:lt=>{o(ct=>ct.map(ut=>{if(ut.id===lt){const dt=!ut.visible;if(sessionStorage.setItem(`${ut.id}-visible`,dt.toString()),ut.treePath&&ut.treePath.length>0){const ht=ct.filter(pt=>pt.treePath&&ut.treePath&&pt.treePath[0]===ut.treePath[0]&&pt.treePath.length>ut.treePath.length);dt?ht.forEach(pt=>{pt.visible=JSON.parse(sessionStorage.getItem(`${pt.id}-visible`)||"true")}):ht.forEach(pt=>{sessionStorage.setItem(`${pt.id}-visible`,pt.visible.toString()),pt.visible=!1})}return{...ut,visible:dt}}return ut}))},cameraTargetId:et,setCameraTargetId:tt,reset:()=>{o([])},toggleEditMode:()=>{rt(lt=>!lt)},isEditing:nt,debug:!1}}var reactIs$2={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$2=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$2(s){if(typeof s=="object"&&s!==null){var o=s.$$typeof;switch(o){case b$2:switch(s=s.type,s){case d$1:case f$1:case e$1:case m$2:case n$1:return s;default:switch(s=s&&s.$$typeof,s){case k$2:case h$1:case l$1:case q$2:case p$1:case g$2:return s;default:return o}}case c$1:return o}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$2;reactIs_production_min$1.Element=b$2;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$2;reactIs_production_min$1.Memo=p$1;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$2;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(s){return v$2(s)===h$1};reactIs_production_min$1.isContextProvider=function(s){return v$2(s)===g$2};reactIs_production_min$1.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===b$2};reactIs_production_min$1.isForwardRef=function(s){return v$2(s)===l$1};reactIs_production_min$1.isFragment=function(s){return v$2(s)===d$1};reactIs_production_min$1.isLazy=function(s){return v$2(s)===q$2};reactIs_production_min$1.isMemo=function(s){return v$2(s)===p$1};reactIs_production_min$1.isPortal=function(s){return v$2(s)===c$1};reactIs_production_min$1.isProfiler=function(s){return v$2(s)===f$1};reactIs_production_min$1.isStrictMode=function(s){return v$2(s)===e$1};reactIs_production_min$1.isSuspense=function(s){return v$2(s)===m$2};reactIs_production_min$1.isSuspenseList=function(s){return v$2(s)===n$1};reactIs_production_min$1.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===d$1||s===f$1||s===e$1||s===m$2||s===n$1||s===t$1||typeof s=="object"&&s!==null&&(s.$$typeof===q$2||s.$$typeof===p$1||s.$$typeof===g$2||s.$$typeof===h$1||s.$$typeof===l$1||s.$$typeof===u||s.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$2;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports;function stylis_min(s){function o(Jt,qt,Ht,Xt,Lt){for(var Pt=0,kt=0,zt=0,tn=0,Gt,en,cn=0,Zt=0,dn,Fn=dn=Gt=0,pn=0,un=0,bn=0,an=0,rn=Ht.length,mn=rn-1,xn,wn="",Mn="",or="",ir="",nr;pn<rn;){if(en=Ht.charCodeAt(pn),pn===mn&&kt+tn+zt+Pt!==0&&(kt!==0&&(en=kt===47?10:47),tn=zt=Pt=0,rn++,mn++),kt+tn+zt+Pt===0){if(pn===mn&&(0<un&&(wn=wn.replace(ut,"")),0<wn.trim().length)){switch(en){case 32:case 9:case 59:case 13:case 10:break;default:wn+=Ht.charAt(pn)}en=59}switch(en){case 123:for(wn=wn.trim(),Gt=wn.charCodeAt(0),dn=1,an=++pn;pn<rn;){switch(en=Ht.charCodeAt(pn)){case 123:dn++;break;case 125:dn--;break;case 47:switch(en=Ht.charCodeAt(pn+1)){case 42:case 47:e:{for(Fn=pn+1;Fn<mn;++Fn)switch(Ht.charCodeAt(Fn)){case 47:if(en===42&&Ht.charCodeAt(Fn-1)===42&&pn+2!==Fn){pn=Fn+1;break e}break;case 10:if(en===47){pn=Fn+1;break e}}pn=Fn}}break;case 91:en++;case 40:en++;case 34:case 39:for(;pn++<mn&&Ht.charCodeAt(pn)!==en;);}if(dn===0)break;pn++}switch(dn=Ht.substring(an,pn),Gt===0&&(Gt=(wn=wn.replace(ct,"").trim()).charCodeAt(0)),Gt){case 64:switch(0<un&&(wn=wn.replace(ut,"")),en=wn.charCodeAt(1),en){case 100:case 109:case 115:case 45:un=qt;break;default:un=Mt}if(dn=o(qt,un,dn,en,Lt+1),an=dn.length,0<At&&(un=et(Mt,wn,bn),nr=ot(3,dn,un,qt,xt,bt,an,en,Lt,Xt),wn=un.join(""),nr!==void 0&&(an=(dn=nr.trim()).length)===0&&(en=0,dn="")),0<an)switch(en){case 115:wn=wn.replace(Et,it);case 100:case 109:case 45:dn=wn+"{"+dn+"}";break;case 107:wn=wn.replace(yt,"$1 $2"),dn=wn+"{"+dn+"}",dn=Ct===1||Ct===2&&rt("@"+dn,3)?"@-webkit-"+dn+"@"+dn:"@"+dn;break;default:dn=wn+dn,Xt===112&&(dn=(Mn+=dn,""))}else dn="";break;default:dn=o(qt,et(qt,wn,bn),dn,Xt,Lt+1)}or+=dn,dn=bn=un=Fn=Gt=0,wn="",en=Ht.charCodeAt(++pn);break;case 125:case 59:if(wn=(0<un?wn.replace(ut,""):wn).trim(),1<(an=wn.length))switch(Fn===0&&(Gt=wn.charCodeAt(0),Gt===45||96<Gt&&123>Gt)&&(an=(wn=wn.replace(" ",":")).length),0<At&&(nr=ot(1,wn,qt,Jt,xt,bt,Mn.length,Xt,Lt,Xt))!==void 0&&(an=(wn=nr.trim()).length)===0&&(wn="\0\0"),Gt=wn.charCodeAt(0),en=wn.charCodeAt(1),Gt){case 0:break;case 64:if(en===105||en===99){ir+=wn+Ht.charAt(pn);break}default:wn.charCodeAt(an-1)!==58&&(Mn+=nt(wn,Gt,en,wn.charCodeAt(2)))}bn=un=Fn=Gt=0,wn="",en=Ht.charCodeAt(++pn)}}switch(en){case 13:case 10:kt===47?kt=0:1+Gt===0&&Xt!==107&&0<wn.length&&(un=1,wn+="\0"),0<At*Vt&&ot(0,wn,qt,Jt,xt,bt,Mn.length,Xt,Lt,Xt),bt=1,xt++;break;case 59:case 125:if(kt+tn+zt+Pt===0){bt++;break}default:switch(bt++,xn=Ht.charAt(pn),en){case 9:case 32:if(tn+Pt+kt===0)switch(cn){case 44:case 58:case 9:case 32:xn="";break;default:en!==32&&(xn=" ")}break;case 0:xn="\\0";break;case 12:xn="\\f";break;case 11:xn="\\v";break;case 38:tn+kt+Pt===0&&(un=bn=1,xn="\f"+xn);break;case 108:if(tn+kt+Pt+Bt===0&&0<Fn)switch(pn-Fn){case 2:cn===112&&Ht.charCodeAt(pn-3)===58&&(Bt=cn);case 8:Zt===111&&(Bt=Zt)}break;case 58:tn+kt+Pt===0&&(Fn=pn);break;case 44:kt+zt+tn+Pt===0&&(un=1,xn+="\r");break;case 34:case 39:kt===0&&(tn=tn===en?0:tn===0?en:tn);break;case 91:tn+kt+zt===0&&Pt++;break;case 93:tn+kt+zt===0&&Pt--;break;case 41:tn+kt+Pt===0&&zt--;break;case 40:if(tn+kt+Pt===0){if(Gt===0)switch(2*cn+3*Zt){case 533:break;default:Gt=1}zt++}break;case 64:kt+zt+tn+Pt+Fn+dn===0&&(dn=1);break;case 42:case 47:if(!(0<tn+Pt+zt))switch(kt){case 0:switch(2*en+3*Ht.charCodeAt(pn+1)){case 235:kt=47;break;case 220:an=pn,kt=42}break;case 42:en===47&&cn===42&&an+2!==pn&&(Ht.charCodeAt(an+2)===33&&(Mn+=Ht.substring(an,pn+1)),xn="",kt=0)}}kt===0&&(wn+=xn)}Zt=cn,cn=en,pn++}if(an=Mn.length,0<an){if(un=qt,0<At&&(nr=ot(2,Mn,un,Jt,xt,bt,an,Xt,Lt,Xt),nr!==void 0&&(Mn=nr).length===0))return ir+Mn+or;if(Mn=un.join(",")+"{"+Mn+"}",Ct*Bt!==0){switch(Ct!==2||rt(Mn,2)||(Bt=0),Bt){case 111:Mn=Mn.replace(Ft,":-moz-$1")+Mn;break;case 112:Mn=Mn.replace(mt,"::-webkit-input-$1")+Mn.replace(mt,"::-moz-$1")+Mn.replace(mt,":-ms-input-$1")+Mn}Bt=0}}return ir+Mn+or}function et(Jt,qt,Ht){var Xt=qt.trim().split(gt);qt=Xt;var Lt=Xt.length,Pt=Jt.length;switch(Pt){case 0:case 1:var kt=0;for(Jt=Pt===0?"":Jt[0]+" ";kt<Lt;++kt)qt[kt]=tt(Jt,qt[kt],Ht).trim();break;default:var zt=kt=0;for(qt=[];kt<Lt;++kt)for(var tn=0;tn<Pt;++tn)qt[zt++]=tt(Jt[tn]+" ",Xt[kt],Ht).trim()}return qt}function tt(Jt,qt,Ht){var Xt=qt.charCodeAt(0);switch(33>Xt&&(Xt=(qt=qt.trim()).charCodeAt(0)),Xt){case 38:return qt.replace(ft,"$1"+Jt.trim());case 58:return Jt.trim()+qt.replace(ft,"$1"+Jt.trim());default:if(0<1*Ht&&0<qt.indexOf("\f"))return qt.replace(ft,(Jt.charCodeAt(0)===58?"":"$1")+Jt.trim())}return Jt+qt}function nt(Jt,qt,Ht,Xt){var Lt=Jt+";",Pt=2*qt+3*Ht+4*Xt;if(Pt===944){Jt=Lt.indexOf(":",9)+1;var kt=Lt.substring(Jt,Lt.length-1).trim();return kt=Lt.substring(0,Jt).trim()+kt+";",Ct===1||Ct===2&&rt(kt,1)?"-webkit-"+kt+kt:kt}if(Ct===0||Ct===2&&!rt(Lt,1))return Lt;switch(Pt){case 1015:return Lt.charCodeAt(10)===97?"-webkit-"+Lt+Lt:Lt;case 951:return Lt.charCodeAt(3)===116?"-webkit-"+Lt+Lt:Lt;case 963:return Lt.charCodeAt(5)===110?"-webkit-"+Lt+Lt:Lt;case 1009:if(Lt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Lt+Lt;case 978:return"-webkit-"+Lt+"-moz-"+Lt+Lt;case 1019:case 983:return"-webkit-"+Lt+"-moz-"+Lt+"-ms-"+Lt+Lt;case 883:if(Lt.charCodeAt(8)===45)return"-webkit-"+Lt+Lt;if(0<Lt.indexOf("image-set(",11))return Lt.replace(Tt,"$1-webkit-$2")+Lt;break;case 932:if(Lt.charCodeAt(4)===45)switch(Lt.charCodeAt(5)){case 103:return"-webkit-box-"+Lt.replace("-grow","")+"-webkit-"+Lt+"-ms-"+Lt.replace("grow","positive")+Lt;case 115:return"-webkit-"+Lt+"-ms-"+Lt.replace("shrink","negative")+Lt;case 98:return"-webkit-"+Lt+"-ms-"+Lt.replace("basis","preferred-size")+Lt}return"-webkit-"+Lt+"-ms-"+Lt+Lt;case 964:return"-webkit-"+Lt+"-ms-flex-"+Lt+Lt;case 1023:if(Lt.charCodeAt(8)!==99)break;return kt=Lt.substring(Lt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+kt+"-webkit-"+Lt+"-ms-flex-pack"+kt+Lt;case 1005:return ht.test(Lt)?Lt.replace(dt,":-webkit-")+Lt.replace(dt,":-moz-")+Lt:Lt;case 1e3:switch(kt=Lt.substring(13).trim(),qt=kt.indexOf("-")+1,kt.charCodeAt(0)+kt.charCodeAt(qt)){case 226:kt=Lt.replace(vt,"tb");break;case 232:kt=Lt.replace(vt,"tb-rl");break;case 220:kt=Lt.replace(vt,"lr");break;default:return Lt}return"-webkit-"+Lt+"-ms-"+kt+Lt;case 1017:if(Lt.indexOf("sticky",9)===-1)break;case 975:switch(qt=(Lt=Jt).length-10,kt=(Lt.charCodeAt(qt)===33?Lt.substring(0,qt):Lt).substring(Jt.indexOf(":",7)+1).trim(),Pt=kt.charCodeAt(0)+(kt.charCodeAt(7)|0)){case 203:if(111>kt.charCodeAt(8))break;case 115:Lt=Lt.replace(kt,"-webkit-"+kt)+";"+Lt;break;case 207:case 102:Lt=Lt.replace(kt,"-webkit-"+(102<Pt?"inline-":"")+"box")+";"+Lt.replace(kt,"-webkit-"+kt)+";"+Lt.replace(kt,"-ms-"+kt+"box")+";"+Lt}return Lt+";";case 938:if(Lt.charCodeAt(5)===45)switch(Lt.charCodeAt(6)){case 105:return kt=Lt.replace("-items",""),"-webkit-"+Lt+"-webkit-box-"+kt+"-ms-flex-"+kt+Lt;case 115:return"-webkit-"+Lt+"-ms-flex-item-"+Lt.replace(It,"")+Lt;default:return"-webkit-"+Lt+"-ms-flex-line-pack"+Lt.replace("align-content","").replace(It,"")+Lt}break;case 973:case 989:if(Lt.charCodeAt(3)!==45||Lt.charCodeAt(4)===122)break;case 931:case 953:if(Rt.test(Jt)===!0)return(kt=Jt.substring(Jt.indexOf(":")+1)).charCodeAt(0)===115?nt(Jt.replace("stretch","fill-available"),qt,Ht,Xt).replace(":fill-available",":stretch"):Lt.replace(kt,"-webkit-"+kt)+Lt.replace(kt,"-moz-"+kt.replace("fill-",""))+Lt;break;case 962:if(Lt="-webkit-"+Lt+(Lt.charCodeAt(5)===102?"-ms-"+Lt:"")+Lt,Ht+Xt===211&&Lt.charCodeAt(13)===105&&0<Lt.indexOf("transform",10))return Lt.substring(0,Lt.indexOf(";",27)+1).replace(pt,"$1-webkit-$2")+Lt}return Lt}function rt(Jt,qt){var Ht=Jt.indexOf(qt===1?":":"{"),Xt=Jt.substring(0,qt!==3?Ht:10);return Ht=Jt.substring(Ht+1,Jt.length-1),Ot(qt!==2?Xt:Xt.replace(St,"$1"),Ht,qt)}function it(Jt,qt){var Ht=nt(qt,qt.charCodeAt(0),qt.charCodeAt(1),qt.charCodeAt(2));return Ht!==qt+";"?Ht.replace(wt," or ($1)").substring(4):"("+qt+")"}function ot(Jt,qt,Ht,Xt,Lt,Pt,kt,zt,tn,Gt){for(var en=0,cn=qt,Zt;en<At;++en)switch(Zt=Nt[en].call(lt,Jt,cn,Ht,Xt,Lt,Pt,kt,zt,tn,Gt)){case void 0:case!1:case!0:case null:break;default:cn=Zt}if(cn!==qt)return cn}function st(Jt){switch(Jt){case void 0:case null:At=Nt.length=0;break;default:if(typeof Jt=="function")Nt[At++]=Jt;else if(typeof Jt=="object")for(var qt=0,Ht=Jt.length;qt<Ht;++qt)st(Jt[qt]);else Vt=!!Jt|0}return st}function at(Jt){return Jt=Jt.prefix,Jt!==void 0&&(Ot=null,Jt?typeof Jt!="function"?Ct=1:(Ct=2,Ot=Jt):Ct=0),at}function lt(Jt,qt){var Ht=Jt;if(33>Ht.charCodeAt(0)&&(Ht=Ht.trim()),Wt=Ht,Ht=[Wt],0<At){var Xt=ot(-1,qt,Ht,Ht,xt,bt,0,0,0,0);Xt!==void 0&&typeof Xt=="string"&&(qt=Xt)}var Lt=o(Mt,Ht,qt,0,0);return 0<At&&(Xt=ot(-2,Lt,Ht,Ht,xt,bt,Lt.length,0,0,0),Xt!==void 0&&(Lt=Xt)),Wt="",Bt=0,bt=xt=1,Lt}var ct=/^\0+/g,ut=/[\0\r\f]/g,dt=/: */g,ht=/zoo|gra/,pt=/([,: ])(transform)/g,gt=/,\r+?/g,ft=/([\t\r\n ])*\f?&/g,yt=/@(k\w+)\s*(\S*)\s*/,mt=/::(place)/g,Ft=/:(read-only)/g,vt=/[svh]\w+-[tblr]{2}/,Et=/\(\s*(.*)\s*\)/g,wt=/([\s\S]*?);/g,It=/-self|flex-/g,St=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Rt=/stretch|:\s*\w+\-(?:conte|avail)/,Tt=/([^-])(image-set\()/,bt=1,xt=1,Bt=0,Ct=1,Mt=[],Nt=[],At=0,Ot=null,Vt=0,Wt="";return lt.use=st,lt.set=at,s!==void 0&&at(s),lt}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(s){var o=Object.create(null);return function(et){return o[et]===void 0&&(o[et]=s(et)),o[et]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(s){return reactPropsRegex.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(s){if(typeof s=="object"&&s!==null){var o=s.$$typeof;switch(o){case c:switch(s=s.type,s){case l:case m$1:case e:case g$1:case f:case p:return s;default:switch(s=s&&s.$$typeof,s){case k$1:case n:case t:case r:case h:return s;default:return o}}case d:return o}}}function A(s){return z$1(s)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(s){return A(s)||z$1(s)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(s){return z$1(s)===k$1};reactIs_production_min.isContextProvider=function(s){return z$1(s)===h};reactIs_production_min.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===c};reactIs_production_min.isForwardRef=function(s){return z$1(s)===n};reactIs_production_min.isFragment=function(s){return z$1(s)===e};reactIs_production_min.isLazy=function(s){return z$1(s)===t};reactIs_production_min.isMemo=function(s){return z$1(s)===r};reactIs_production_min.isPortal=function(s){return z$1(s)===d};reactIs_production_min.isProfiler=function(s){return z$1(s)===g$1};reactIs_production_min.isStrictMode=function(s){return z$1(s)===f};reactIs_production_min.isSuspense=function(s){return z$1(s)===p};reactIs_production_min.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===e||s===m$1||s===g$1||s===f||s===p||s===q$1||typeof s=="object"&&s!==null&&(s.$$typeof===t||s.$$typeof===r||s.$$typeof===h||s.$$typeof===k$1||s.$$typeof===n||s.$$typeof===w$1||s.$$typeof===x$1||s.$$typeof===y$1||s.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(s){return reactIs.isMemo(s)?MEMO_STATICS:TYPE_STATICS[s.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(s,o,et){if(typeof o!="string"){if(objectPrototype){var tt=getPrototypeOf(o);tt&&tt!==objectPrototype&&hoistNonReactStatics(s,tt,et)}var nt=getOwnPropertyNames(o);getOwnPropertySymbols&&(nt=nt.concat(getOwnPropertySymbols(o)));for(var rt=getStatics(s),it=getStatics(o),ot=0;ot<nt.length;++ot){var st=nt[ot];if(!KNOWN_STATICS[st]&&!(et&&et[st])&&!(it&&it[st])&&!(rt&&rt[st])){var at=getOwnPropertyDescriptor(o,st);try{defineProperty(s,st,at)}catch{}}}}return s}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m=getDefaultExportFromCjs$1(hoistNonReactStatics_cjs);function y(){return(y=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var et=arguments[o];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(s[tt]=et[tt])}return s}).apply(this,arguments)}var v=function(s,o){for(var et=[s[0]],tt=0,nt=o.length;tt<nt;tt+=1)et.push(o[tt],s[tt+1]);return et},g=function(s){return s!==null&&typeof s=="object"&&(s.toString?s.toString():Object.prototype.toString.call(s))==="[object Object]"&&!reactIsExports$1.typeOf(s)},S=Object.freeze([]),w=Object.freeze({});function E(s){return typeof s=="function"}function b(s){return s.displayName||s.name||"Component"}function _(s){return s&&typeof s.styledComponentId=="string"}var N=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function D(s){for(var o=arguments.length,et=new Array(o>1?o-1:0),tt=1;tt<o;tt++)et[tt-1]=arguments[tt];throw new Error("An error occurred. See https://git.io/JUIaE#"+s+" for more information."+(et.length>0?" Args: "+et.join(", "):""))}var j=function(){function s(et){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=et}var o=s.prototype;return o.indexOfGroup=function(et){for(var tt=0,nt=0;nt<et;nt++)tt+=this.groupSizes[nt];return tt},o.insertRules=function(et,tt){if(et>=this.groupSizes.length){for(var nt=this.groupSizes,rt=nt.length,it=rt;et>=it;)(it<<=1)<0&&D(16,""+et);this.groupSizes=new Uint32Array(it),this.groupSizes.set(nt),this.length=it;for(var ot=rt;ot<it;ot++)this.groupSizes[ot]=0}for(var st=this.indexOfGroup(et+1),at=0,lt=tt.length;at<lt;at++)this.tag.insertRule(st,tt[at])&&(this.groupSizes[et]++,st++)},o.clearGroup=function(et){if(et<this.length){var tt=this.groupSizes[et],nt=this.indexOfGroup(et),rt=nt+tt;this.groupSizes[et]=0;for(var it=nt;it<rt;it++)this.tag.deleteRule(nt)}},o.getGroup=function(et){var tt="";if(et>=this.length||this.groupSizes[et]===0)return tt;for(var nt=this.groupSizes[et],rt=this.indexOfGroup(et),it=rt+nt,ot=rt;ot<it;ot++)tt+=this.tag.getRule(ot)+`/*!sc*/
`;return tt},s}(),T=new Map,x=new Map,k=1,V=function(s){if(T.has(s))return T.get(s);for(;x.has(k);)k++;var o=k++;return T.set(s,o),x.set(o,s),o},B=function(s){return x.get(s)},z=function(s,o){o>=k&&(k=o+1),T.set(s,o),x.set(o,s)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(s,o,et){for(var tt,nt=et.split(","),rt=0,it=nt.length;rt<it;rt++)(tt=nt[rt])&&s.registerName(o,tt)},F=function(s,o){for(var et=(o.textContent||"").split(`/*!sc*/
`),tt=[],nt=0,rt=et.length;nt<rt;nt++){var it=et[nt].trim();if(it){var ot=it.match(G);if(ot){var st=0|parseInt(ot[1],10),at=ot[2];st!==0&&(z(at,st),L(s,at,ot[3]),s.getTag().insertRules(st,tt)),tt.length=0}else tt.push(it)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q=function(s){var o=document.head,et=s||o,tt=document.createElement("style"),nt=function(ot){for(var st=ot.childNodes,at=st.length;at>=0;at--){var lt=st[at];if(lt&&lt.nodeType===1&&lt.hasAttribute(N))return lt}}(et),rt=nt!==void 0?nt.nextSibling:null;tt.setAttribute(N,"active"),tt.setAttribute("data-styled-version","5.3.11");var it=Y();return it&&tt.setAttribute("nonce",it),et.insertBefore(tt,rt),tt},H=function(){function s(et){var tt=this.element=q(et);tt.appendChild(document.createTextNode("")),this.sheet=function(nt){if(nt.sheet)return nt.sheet;for(var rt=document.styleSheets,it=0,ot=rt.length;it<ot;it++){var st=rt[it];if(st.ownerNode===nt)return st}D(17)}(tt),this.length=0}var o=s.prototype;return o.insertRule=function(et,tt){try{return this.sheet.insertRule(tt,et),this.length++,!0}catch{return!1}},o.deleteRule=function(et){this.sheet.deleteRule(et),this.length--},o.getRule=function(et){var tt=this.sheet.cssRules[et];return tt!==void 0&&typeof tt.cssText=="string"?tt.cssText:""},s}(),$=function(){function s(et){var tt=this.element=q(et);this.nodes=tt.childNodes,this.length=0}var o=s.prototype;return o.insertRule=function(et,tt){if(et<=this.length&&et>=0){var nt=document.createTextNode(tt),rt=this.nodes[et];return this.element.insertBefore(nt,rt||null),this.length++,!0}return!1},o.deleteRule=function(et){this.element.removeChild(this.nodes[et]),this.length--},o.getRule=function(et){return et<this.length?this.nodes[et].textContent:""},s}(),W=function(){function s(et){this.rules=[],this.length=0}var o=s.prototype;return o.insertRule=function(et,tt){return et<=this.length&&(this.rules.splice(et,0,tt),this.length++,!0)},o.deleteRule=function(et){this.rules.splice(et,1),this.length--},o.getRule=function(et){return et<this.length?this.rules[et]:""},s}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X=function(){function s(et,tt,nt){et===void 0&&(et=w),tt===void 0&&(tt={}),this.options=y({},J,{},et),this.gs=tt,this.names=new Map(nt),this.server=!!et.isServer,!this.server&&C&&U&&(U=!1,function(rt){for(var it=document.querySelectorAll(M),ot=0,st=it.length;ot<st;ot++){var at=it[ot];at&&at.getAttribute(N)!=="active"&&(F(rt,at),at.parentNode&&at.parentNode.removeChild(at))}}(this))}s.registerId=function(et){return V(et)};var o=s.prototype;return o.reconstructWithOptions=function(et,tt){return tt===void 0&&(tt=!0),new s(y({},this.options,{},et),this.gs,tt&&this.names||void 0)},o.allocateGSInstance=function(et){return this.gs[et]=(this.gs[et]||0)+1},o.getTag=function(){return this.tag||(this.tag=(nt=(tt=this.options).isServer,rt=tt.useCSSOMInjection,it=tt.target,et=nt?new W(it):rt?new H(it):new $(it),new j(et)));var et,tt,nt,rt,it},o.hasNameForId=function(et,tt){return this.names.has(et)&&this.names.get(et).has(tt)},o.registerName=function(et,tt){if(V(et),this.names.has(et))this.names.get(et).add(tt);else{var nt=new Set;nt.add(tt),this.names.set(et,nt)}},o.insertRules=function(et,tt,nt){this.registerName(et,tt),this.getTag().insertRules(V(et),nt)},o.clearNames=function(et){this.names.has(et)&&this.names.get(et).clear()},o.clearRules=function(et){this.getTag().clearGroup(V(et)),this.clearNames(et)},o.clearTag=function(){this.tag=void 0},o.toString=function(){return function(et){for(var tt=et.getTag(),nt=tt.length,rt="",it=0;it<nt;it++){var ot=B(it);if(ot!==void 0){var st=et.names.get(ot),at=tt.getGroup(it);if(st&&at&&st.size){var lt=N+".g"+it+'[id="'+ot+'"]',ct="";st!==void 0&&st.forEach(function(ut){ut.length>0&&(ct+=ut+",")}),rt+=""+at+lt+'{content:"'+ct+`"}/*!sc*/
`}}}return rt}(this)},s}(),Z=/(a)(d)/gi,K=function(s){return String.fromCharCode(s+(s>25?39:97))};function Q(s){var o,et="";for(o=Math.abs(s);o>52;o=o/52|0)et=K(o%52)+et;return(K(o%52)+et).replace(Z,"$1-$2")}var ee=function(s,o){for(var et=o.length;et;)s=33*s^o.charCodeAt(--et);return s},te=function(s){return ee(5381,s)};function ne(s){for(var o=0;o<s.length;o+=1){var et=s[o];if(E(et)&&!_(et))return!1}return!0}var re=te("5.3.11"),oe=function(){function s(o,et,tt){this.rules=o,this.staticRulesId="",this.isStatic=(tt===void 0||tt.isStatic)&&ne(o),this.componentId=et,this.baseHash=ee(re,et),this.baseStyle=tt,X.registerId(et)}return s.prototype.generateAndInjectStyles=function(o,et,tt){var nt=this.componentId,rt=[];if(this.baseStyle&&rt.push(this.baseStyle.generateAndInjectStyles(o,et,tt)),this.isStatic&&!tt.hash)if(this.staticRulesId&&et.hasNameForId(nt,this.staticRulesId))rt.push(this.staticRulesId);else{var it=_e(this.rules,o,et,tt).join(""),ot=Q(ee(this.baseHash,it)>>>0);if(!et.hasNameForId(nt,ot)){var st=tt(it,"."+ot,void 0,nt);et.insertRules(nt,ot,st)}rt.push(ot),this.staticRulesId=ot}else{for(var at=this.rules.length,lt=ee(this.baseHash,tt.hash),ct="",ut=0;ut<at;ut++){var dt=this.rules[ut];if(typeof dt=="string")ct+=dt;else if(dt){var ht=_e(dt,o,et,tt),pt=Array.isArray(ht)?ht.join(""):ht;lt=ee(lt,pt+ut),ct+=pt}}if(ct){var gt=Q(lt>>>0);if(!et.hasNameForId(nt,gt)){var ft=tt(ct,"."+gt,void 0,nt);et.insertRules(nt,gt,ft)}rt.push(gt)}}return rt.join(" ")},s}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(s){var o,et,tt,nt,rt=s===void 0?w:s,it=rt.options,ot=it===void 0?w:it,st=rt.plugins,at=st===void 0?S:st,lt=new stylis_min(ot),ct=[],ut=function(pt){function gt(ft){if(ft)try{pt(ft+"}")}catch{}}return function(ft,yt,mt,Ft,vt,Et,wt,It,St,Rt){switch(ft){case 1:if(St===0&&yt.charCodeAt(0)===64)return pt(yt+";"),"";break;case 2:if(It===0)return yt+"/*|*/";break;case 3:switch(It){case 102:case 112:return pt(mt[0]+yt),"";default:return yt+(Rt===0?"/*|*/":"")}case-2:yt.split("/*|*/}").forEach(gt)}}}(function(pt){ct.push(pt)}),dt=function(pt,gt,ft){return gt===0&&ie.indexOf(ft[et.length])!==-1||ft.match(nt)?pt:"."+o};function ht(pt,gt,ft,yt){yt===void 0&&(yt="&");var mt=pt.replace(se,""),Ft=gt&&ft?ft+" "+gt+" { "+mt+" }":mt;return o=yt,et=gt,tt=new RegExp("\\"+et+"\\b","g"),nt=new RegExp("(\\"+et+"\\b){2,}"),lt(ft||!gt?"":gt,Ft)}return lt.use([].concat(at,[function(pt,gt,ft){pt===2&&ft.length&&ft[0].lastIndexOf(et)>0&&(ft[0]=ft[0].replace(tt,dt))},ut,function(pt){if(pt===-2){var gt=ct;return ct=[],gt}}])),ht.hash=at.length?at.reduce(function(pt,gt){return gt.name||D(15),ee(pt,gt.name)},5381).toString():"",ht}var ce=React.createContext();ce.Consumer;var le=React.createContext(),de=(le.Consumer,new X),he$1=ae();function pe(){return reactExports.useContext(ce)||de}function fe(){return reactExports.useContext(le)||he$1}var ye=function(){function s(o,et){var tt=this;this.inject=function(nt,rt){rt===void 0&&(rt=he$1);var it=tt.name+rt.hash;nt.hasNameForId(tt.id,it)||nt.insertRules(tt.id,it,rt(tt.rules,it,"@keyframes"))},this.toString=function(){return D(12,String(tt.name))},this.name=o,this.id="sc-keyframes-"+o,this.rules=et}return s.prototype.getName=function(o){return o===void 0&&(o=he$1),this.name+o.hash},s}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(s){return"-"+s.toLowerCase()};function Ee(s){return ve.test(s)?s.replace(ge,we).replace(Se,"-ms-"):s}var be=function(s){return s==null||s===!1||s===""};function _e(s,o,et,tt){if(Array.isArray(s)){for(var nt,rt=[],it=0,ot=s.length;it<ot;it+=1)(nt=_e(s[it],o,et,tt))!==""&&(Array.isArray(nt)?rt.push.apply(rt,nt):rt.push(nt));return rt}if(be(s))return"";if(_(s))return"."+s.styledComponentId;if(E(s)){if(typeof(at=s)!="function"||at.prototype&&at.prototype.isReactComponent||!o)return s;var st=s(o);return _e(st,o,et,tt)}var at;return s instanceof ye?et?(s.inject(et,tt),s.getName(tt)):s:g(s)?function lt(ct,ut){var dt,ht,pt=[];for(var gt in ct)ct.hasOwnProperty(gt)&&!be(ct[gt])&&(Array.isArray(ct[gt])&&ct[gt].isCss||E(ct[gt])?pt.push(Ee(gt)+":",ct[gt],";"):g(ct[gt])?pt.push.apply(pt,lt(ct[gt],gt)):pt.push(Ee(gt)+": "+(dt=gt,(ht=ct[gt])==null||typeof ht=="boolean"||ht===""?"":typeof ht!="number"||ht===0||dt in unitlessKeys||dt.startsWith("--")?String(ht).trim():ht+"px")+";"));return ut?[ut+" {"].concat(pt,["}"]):pt}(s):s.toString()}var Ne=function(s){return Array.isArray(s)&&(s.isCss=!0),s};function Ae(s){for(var o=arguments.length,et=new Array(o>1?o-1:0),tt=1;tt<o;tt++)et[tt-1]=arguments[tt];return E(s)||g(s)?Ne(_e(v(S,[s].concat(et)))):et.length===0&&s.length===1&&typeof s[0]=="string"?s:Ne(_e(v(s,et)))}var Oe=function(s,o,et){return et===void 0&&(et=w),s.theme!==et.theme&&s.theme||o||et.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(s){return s.replace(Re,"-").replace(De,"")}var Te=function(s){return Q(te(s)>>>0)};function xe(s){return typeof s=="string"&&!0}var ke=function(s){return typeof s=="function"||typeof s=="object"&&s!==null&&!Array.isArray(s)},Ve=function(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"};function Be(s,o,et){var tt=s[et];ke(o)&&ke(tt)?ze(tt,o):s[et]=o}function ze(s){for(var o=arguments.length,et=new Array(o>1?o-1:0),tt=1;tt<o;tt++)et[tt-1]=arguments[tt];for(var nt=0,rt=et;nt<rt.length;nt++){var it=rt[nt];if(ke(it))for(var ot in it)Ve(ot)&&Be(s,it[ot],ot)}return s}var Me=React.createContext();Me.Consumer;var Fe={};function Ye(s,o,et){var tt=_(s),nt=!xe(s),rt=o.attrs,it=rt===void 0?S:rt,ot=o.componentId,st=ot===void 0?function(yt,mt){var Ft=typeof yt!="string"?"sc":je(yt);Fe[Ft]=(Fe[Ft]||0)+1;var vt=Ft+"-"+Te("5.3.11"+Ft+Fe[Ft]);return mt?mt+"-"+vt:vt}(o.displayName,o.parentComponentId):ot,at=o.displayName,lt=at===void 0?function(yt){return xe(yt)?"styled."+yt:"Styled("+b(yt)+")"}(s):at,ct=o.displayName&&o.componentId?je(o.displayName)+"-"+o.componentId:o.componentId||st,ut=tt&&s.attrs?Array.prototype.concat(s.attrs,it).filter(Boolean):it,dt=o.shouldForwardProp;tt&&s.shouldForwardProp&&(dt=o.shouldForwardProp?function(yt,mt,Ft){return s.shouldForwardProp(yt,mt,Ft)&&o.shouldForwardProp(yt,mt,Ft)}:s.shouldForwardProp);var ht,pt=new oe(et,ct,tt?s.componentStyle:void 0),gt=pt.isStatic&&it.length===0,ft=function(yt,mt){return function(Ft,vt,Et,wt){var It=Ft.attrs,St=Ft.componentStyle,Rt=Ft.defaultProps,Tt=Ft.foldedComponentIds,bt=Ft.shouldForwardProp,xt=Ft.styledComponentId,Bt=Ft.target,Ct=function(Xt,Lt,Pt){Xt===void 0&&(Xt=w);var kt=y({},Lt,{theme:Xt}),zt={};return Pt.forEach(function(tn){var Gt,en,cn,Zt=tn;for(Gt in E(Zt)&&(Zt=Zt(kt)),Zt)kt[Gt]=zt[Gt]=Gt==="className"?(en=zt[Gt],cn=Zt[Gt],en&&cn?en+" "+cn:en||cn):Zt[Gt]}),[kt,zt]}(Oe(vt,reactExports.useContext(Me),Rt)||w,vt,It),Mt=Ct[0],Nt=Ct[1],At=function(Xt,Lt,Pt,kt){var zt=pe(),tn=fe(),Gt=Lt?Xt.generateAndInjectStyles(w,zt,tn):Xt.generateAndInjectStyles(Pt,zt,tn);return Gt}(St,wt,Mt),Ot=Et,Vt=Nt.$as||vt.$as||Nt.as||vt.as||Bt,Wt=xe(Vt),Jt=Nt!==vt?y({},vt,{},Nt):vt,qt={};for(var Ht in Jt)Ht[0]!=="$"&&Ht!=="as"&&(Ht==="forwardedAs"?qt.as=Jt[Ht]:(bt?bt(Ht,isPropValid,Vt):!Wt||isPropValid(Ht))&&(qt[Ht]=Jt[Ht]));return vt.style&&Nt.style!==vt.style&&(qt.style=y({},vt.style,{},Nt.style)),qt.className=Array.prototype.concat(Tt,xt,At!==xt?At:null,vt.className,Nt.className).filter(Boolean).join(" "),qt.ref=Ot,reactExports.createElement(Vt,qt)}(ht,yt,mt,gt)};return ft.displayName=lt,(ht=React.forwardRef(ft)).attrs=ut,ht.componentStyle=pt,ht.displayName=lt,ht.shouldForwardProp=dt,ht.foldedComponentIds=tt?Array.prototype.concat(s.foldedComponentIds,s.styledComponentId):S,ht.styledComponentId=ct,ht.target=tt?s.target:s,ht.withComponent=function(yt){var mt=o.componentId,Ft=function(Et,wt){if(Et==null)return{};var It,St,Rt={},Tt=Object.keys(Et);for(St=0;St<Tt.length;St++)It=Tt[St],wt.indexOf(It)>=0||(Rt[It]=Et[It]);return Rt}(o,["componentId"]),vt=mt&&mt+"-"+(xe(yt)?yt:je(b(yt)));return Ye(yt,y({},Ft,{attrs:ut,componentId:vt}),et)},Object.defineProperty(ht,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(yt){this._foldedDefaultProps=tt?ze({},s.defaultProps,yt):yt}}),Object.defineProperty(ht,"toString",{value:function(){return"."+ht.styledComponentId}}),nt&&m(ht,s,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),ht}var qe=function(s){return function o(et,tt,nt){if(nt===void 0&&(nt=w),!reactIsExports$1.isValidElementType(tt))return D(1,String(tt));var rt=function(){return et(tt,nt,Ae.apply(void 0,arguments))};return rt.withConfig=function(it){return o(et,tt,y({},nt,{},it))},rt.attrs=function(it){return o(et,tt,y({},nt,{attrs:Array.prototype.concat(nt.attrs,it).filter(Boolean)}))},rt}(Ye,s)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(s){qe[s]=qe(s)});const styled=qe;function LayerIcon({active:s}){return jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("path",{d:"M9.00001 10.9267L4.35287 7.05273L9.00001 3.17878L13.6471 7.05273L9.00001 10.9267Z",stroke:s?"#FFF":"#BAC4E2",strokeWidth:"2"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.71179 11.4992L8.35968 16.2074L9 16.7411L9.64031 16.2074L15.2882 11.4992L13.7265 10.1973L9 14.1374L4.27352 10.1973L2.71179 11.4992Z",fill:s?"#FFF":"#BAC4E2"})]})}function EyeIcon(){return jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.14398 11.4616C4.82104 7.02853 8.09047 4.54999 12 4.54999C15.9095 4.54999 19.179 7.02853 21.856 11.4616C22.0476 11.7789 22.048 12.1761 21.8571 12.4937C19.191 16.9292 15.921 19.4071 12 19.4071C8.07895 19.4071 4.80905 16.9292 2.14292 12.4937C1.95198 12.1761 1.95239 11.7789 2.14398 11.4616ZM4.17638 11.9797C6.57637 15.7502 9.1981 17.4071 12 17.4071C14.8019 17.4071 17.4236 15.7502 19.8236 11.9797C17.4121 8.20659 14.7903 6.54999 12 6.54999C9.20971 6.54999 6.58787 8.20659 4.17638 11.9797Z",fill:"white"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0644 14.9358C13.662 14.9358 14.9572 13.6406 14.9572 12.0429C14.9572 11.1993 14.5961 10.44 14.02 9.91118C13.505 9.43857 12.8184 9.15009 12.0644 9.15009C10.4667 9.15009 9.17151 10.4453 9.17151 12.0429C9.17151 13.6406 10.4667 14.9358 12.0644 14.9358Z",fill:"white"})]})}function EyeCloseIcon(){return jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.34223 14.6222C7.16729 14.0938 6.06407 13.3052 5.03075 12.2761L2.64019 14.2682L1.35983 12.7318L3.70532 10.7772C3.1631 10.087 2.64239 9.32476 2.14288 8.49375L3.85703 7.46338C6.34318 11.5994 9.07328 13.4071 12 13.4071C14.9266 13.4071 17.6567 11.5994 20.1429 7.46338L21.857 8.49375C21.3575 9.32474 20.8368 10.087 20.2946 10.7772L22.6402 12.7318L21.3598 14.2682L18.9692 12.2761C17.9359 13.3052 16.8327 14.0938 15.6578 14.6222L16.908 17.3309L15.092 18.169L13.7392 15.238C13.1743 15.3501 12.5946 15.4071 12 15.4071C11.4053 15.4071 10.8256 15.3501 10.2608 15.238L8.90796 18.169L7.09204 17.3309L8.34223 14.6222Z",fill:"#657197"})})}function Warning(){return jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M9 13H11V15H9V13ZM9 5H11V11H9V5ZM9.99 0C4.47 0 0 4.48 0 10C0 15.52 4.47 20 9.99 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 9.99 0ZM10 18C5.58 18 2 14.42 2 10C2 5.58 5.58 2 10 2C14.42 2 18 5.58 18 10C18 14.42 14.42 18 10 18Z",fill:"#BAC4E2"})})}function ConfigArrow(){return jsxs("svg",{width:"11",height:"40",viewBox:"0 0 11 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.23327 2L6.23327 40L4.7666 40L4.7666 2L6.23327 2Z",fill:"#18D2FF"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.50546 2.90731L1.624 7.05859L0.586914 5.94941L4.98691 1.24352C5.2733 0.937231 5.73762 0.937231 6.024 1.24352L10.424 5.94941L9.38691 7.05859L5.50546 2.90731Z",fill:"#18D2FF"})]})}function CheckIcon(){return jsx("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5392 2.02248L4.48528 11.3639L0.162109 6.90344L1.23921 5.85948L4.48528 9.2086L12.4621 0.978516L13.5392 2.02248Z",fill:"white"})})}function WaypointToggleIcon(){return jsxs("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("circle",{cx:"1.125",cy:"1.125",r:"1.5",transform:"matrix(-1 0 0 1 17.8438 7.69922)",stroke:"#BAC4E2",strokeWidth:"0.75"}),jsx("circle",{cx:"1.125",cy:"1.125",r:"1.5",transform:"matrix(-1 0 0 1 13.4609 14.1641)",stroke:"#BAC4E2",strokeWidth:"0.75"}),jsx("path",{d:"M15.7656 10.2734L13.2578 13.8471",stroke:"#BAC4E2",strokeWidth:"0.75",strokeLinecap:"round"}),jsx("path",{d:"M7.04688 10.2734L4.53906 13.8471",stroke:"#BAC4E2",strokeWidth:"0.75",strokeLinecap:"round"}),jsx("path",{d:"M8.71094 10.2734L11.2187 13.8471",stroke:"#BAC4E2",strokeWidth:"0.75",strokeLinecap:"round"}),jsx("circle",{cx:"1.125",cy:"1.125",r:"1.5",transform:"matrix(-1 0 0 1 9.07812 7.69922)",stroke:"#BAC4E2",strokeWidth:"0.75"}),jsx("circle",{cx:"1.125",cy:"1.125",r:"1.5",transform:"matrix(-1 0 0 1 4.69336 14.1641)",stroke:"#BAC4E2",strokeWidth:"0.75"})]})}function BooleanToggleTrueIcon({onClick:s}){return jsxs("svg",{width:"36",height:"22",viewBox:"0 0 36 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("mask",{id:"mask0_471_35715",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"36",height:"22",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36 0H0V22H36V0ZM25 21C30.5228 21 35 16.5228 35 11C35 5.47715 30.5228 1 25 1C19.4772 1 15 5.47715 15 11C15 16.5228 19.4772 21 25 21Z",fill:"#D9D9D9"})}),jsx("g",{mask:"url(#mask0_471_35715)",children:jsx("rect",{x:"3",y:"7",width:"30",height:"9",rx:"4.5",fill:"#282F45",onClick:()=>s&&s()})}),jsx("circle",{cx:"25",cy:"11",r:"8",fill:"#18D2FF",onClick:()=>s&&s()})]})}function BooleanToggleFalseIcon({onClick:s}){return jsxs("svg",{width:"36",height:"22",viewBox:"0 0 36 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("mask",{id:"mask0_508_180629",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"36",height:"22",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36 0H0V22H36V0ZM11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",fill:"#D9D9D9"})}),jsx("g",{mask:"url(#mask0_508_180629)",children:jsx("rect",{x:"3",y:"7",width:"30",height:"9",rx:"4.5",fill:"#282F45"})}),jsx("circle",{cx:"11",cy:"11",r:"8",fill:"#BAC4E2"})]})}function WaypointsPathToggleIcon(){return jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M1.29297 16.293L16.293 1.29297",stroke:"#BAC4E2",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"4 4"})})}function PathToggleIcon(){return jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M1.29297 16.293L16.293 1.29297",stroke:"#18D2FF",strokeWidth:"2",strokeLinecap:"round"})})}function PathEyeIcon(){return jsx("svg",{width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25881 5.96492C4.37723 5.56852 3.54948 4.97678 2.7742 4.20449L0.98113 5.69872L0.020853 4.54639L1.78023 3.08024C1.37381 2.56284 0.983494 1.9914 0.609059 1.36849L1.89468 0.595703C3.75929 3.69771 5.80686 5.05352 8.00187 5.05352C10.1969 5.05352 12.2444 3.69771 14.1091 0.595703L15.3947 1.36849C15.0199 1.99189 14.6293 2.56374 14.2225 3.08145L15.9805 4.54639L15.0202 5.69872L13.2284 4.20558C12.4536 4.97721 11.6264 5.56852 10.7454 5.96472L11.6829 7.99609L10.321 8.62468L9.30648 6.42661C8.88276 6.51076 8.44793 6.55352 8.00187 6.55352C7.55597 6.55352 7.1213 6.5108 6.69773 6.4267L5.68328 8.62468L4.32134 7.99609L5.25881 5.96492Z",fill:"#BAC4E2"})})}function CLoseIcon(){return jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9688 14.0304L3.96875 5.03039L5.02941 3.96973L14.0294 12.9697L12.9688 14.0304Z",fill:"white"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.03125 14.0304L14.0312 5.03039L12.9706 3.96973L3.97059 12.9697L5.03125 14.0304Z",fill:"white"})]})}var LayerType=(s=>(s.CONTAINER="container",s.TRACKABLE="trackable",s.AXIS="axis",s.OTHER="other",s))(LayerType||{}),Rn=Object.defineProperty,Bn=(s,o,et)=>o in s?Rn(s,o,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[o]=et,he=(s,o,et)=>(Bn(s,typeof o!="symbol"?o+"":o,et),et);const DEFAULT_FORMANT_API_URL="https://api.formant.io";function whichFormantApiUrl(s,o,et){try{if(et){if(et.includes("app-dev.formant.io")||et.includes("localhost"))return"https://api-dev.formant.io";if(et.includes("app-stage.formant.io"))return"https://api-stage.formant.io";if(et.includes("app.formant.io"))return"https://api.formant.io"}if(o.get("formant_stage"))return"https://api-stage.formant.io";if(o.get("formant_dev"))return"https://api-dev.formant.io";if(o.get("formant_local"))return"https://api.formant.local";if(o.get("formant_url")){const tt=o.get("formant_url");if(tt!==null)try{return new URL(tt).origin}catch{console.warn(`Ignoring malformed \`formant_url\` url parameter: ${tt}`)}}}catch{}return typeof s<"u"&&"FORMANT_API_URL"in s&&typeof s.FORMANT_API_URL=="string"?s.FORMANT_API_URL:DEFAULT_FORMANT_API_URL}const FORMANT_API_URL=whichFormantApiUrl(typeof window<"u"?window:globalThis,new URLSearchParams(typeof window<"u"&&window.location?window.location.search:void 0),typeof window<"u"&&window.location?window.location.host:void 0);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var base64={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */base64.exports;(function(s,o){(function(et){var tt=o,nt=s&&s.exports==tt&&s,rt=typeof commonjsGlobal=="object"&&commonjsGlobal;(rt.global===rt||rt.window===rt)&&(et=rt);var it=function(ht){this.message=ht};it.prototype=new Error,it.prototype.name="InvalidCharacterError";var ot=function(ht){throw new it(ht)},st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at=/[\t\n\f\r ]/g,lt=function(ht){ht=String(ht).replace(at,"");var pt=ht.length;pt%4==0&&(ht=ht.replace(/==?$/,""),pt=ht.length),(pt%4==1||/[^+a-zA-Z0-9/]/.test(ht))&&ot("Invalid character: the string to be decoded is not correctly encoded.");for(var gt=0,ft,yt,mt="",Ft=-1;++Ft<pt;)yt=st.indexOf(ht.charAt(Ft)),ft=gt%4?ft*64+yt:yt,gt++%4&&(mt+=String.fromCharCode(255&ft>>(-2*gt&6)));return mt},ct=function(ht){ht=String(ht),/[^\0-\xFF]/.test(ht)&&ot("The string to be encoded contains characters outside of the Latin1 range.");for(var pt=ht.length%3,gt="",ft=-1,yt,mt,Ft,vt,Et=ht.length-pt;++ft<Et;)yt=ht.charCodeAt(ft)<<16,mt=ht.charCodeAt(++ft)<<8,Ft=ht.charCodeAt(++ft),vt=yt+mt+Ft,gt+=st.charAt(vt>>18&63)+st.charAt(vt>>12&63)+st.charAt(vt>>6&63)+st.charAt(vt&63);return pt==2?(yt=ht.charCodeAt(ft)<<8,mt=ht.charCodeAt(++ft),vt=yt+mt,gt+=st.charAt(vt>>10)+st.charAt(vt>>4&63)+st.charAt(vt<<2&63)+"="):pt==1&&(vt=ht.charCodeAt(ft),gt+=st.charAt(vt>>2)+st.charAt(vt<<4&63)+"=="),gt},ut={encode:ct,decode:lt,version:"1.0.0"};if(tt&&!tt.nodeType)if(nt)nt.exports=ut;else for(var dt in ut)ut.hasOwnProperty(dt)&&(tt[dt]=ut[dt]);else et.base64=ut})(commonjsGlobal)})(base64,base64.exports);var base64Exports=base64.exports;class LoginFailureError extends Error{constructor(o){super("login failed"),he(this,"reason"),this.reason=o,this.name="LoginFailureError",Object.setPrototypeOf(this,new.target.prototype)}}class LoginChallengedError extends Error{constructor(o){super("login challenged"),he(this,"challenge"),this.challenge=o,this.name="LoginChallengedError",Object.setPrototypeOf(this,new.target.prototype)}}class AuthenticationStore{constructor({apiUrl:o,refreshAuthToken:et,addAccessTokenRefreshListener:tt}){he(this,"_refreshToken"),he(this,"_isShareToken",!1),he(this,"_currentOrganization"),he(this,"_currentUser"),he(this,"_defaultDeviceId"),he(this,"_token"),he(this,"_waitingForAuth",new Set),he(this,"_refreshTimer"),he(this,"_apiUrl"),he(this,"_refreshAuthToken"),he(this,"_addAccessTokenRefreshListener"),this._apiUrl=o,this._refreshAuthToken=et,this._addAccessTokenRefreshListener=tt}get token(){return this._token}get currentUser(){return this._currentUser}get currentOrganization(){return this._currentOrganization}get defaultDeviceId(){return this._defaultDeviceId}get refreshToken(){return this._refreshToken}get isShareToken(){return this._isShareToken}async login(o,et,tt={}){const{advanced:nt=!1}=tt;try{const rt=await fetch(`${this._apiUrl}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:o,password:et}),headers:{"Content-Type":"application/json"}}),it=await rt.json();if(rt.status!==200)throw new LoginFailureError(it.message);if("challenge"in it)throw new LoginChallengedError(it.challenge);const{authentication:ot}=it;return await this.loginWithToken(ot.accessToken,ot.refreshToken),nt?{result:"success",authentication:ot}:ot}catch(rt){if(nt||console.error("login() failed",{err:rt}),this._waitingForAuth.forEach(it=>it(!1)),this._waitingForAuth.clear(),!nt)throw rt;return rt instanceof LoginChallengedError?{result:"challenged",challenge:rt.challenge}:{result:"failure",reason:rt instanceof LoginFailureError?rt.reason:rt instanceof Error?rt.message:String(rt)}}}async loginWithToken(o,et){var tt;const nt=JSON.parse(base64Exports.decode(o.split(".")[1]));try{let rt;if(this._isShareToken=nt["formant:claims"]&&nt["formant:claims"].type=="share",nt["formant:claims"]&&(this._currentOrganization=nt["formant:claims"].organizationId),nt["custom:organization_id"]&&(this._currentOrganization=nt["custom:organization_id"]),this._isShareToken||(rt=nt.sub),nt["formant:claims"]&&nt["formant:claims"].userId&&(rt=nt["formant:claims"].userId),rt&&((tt=this._currentUser)==null?void 0:tt.id)!==rt){const it=await fetch(`${this._apiUrl}/v1/admin/users/${rt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}),ot=await it.json();if(it.status!==200)throw new Error(ot.message);this._currentUser=ot}this._token=o,this._waitingForAuth.forEach(it=>it(!0))}catch(rt){console.error("loginWithToken() failed",{err:rt}),this._waitingForAuth.forEach(it=>it(!1))}finally{this._waitingForAuth.clear()}et&&(this._refreshToken=et,setInterval(async()=>{if(this._refreshToken){const rt=await(await fetch(`${this._apiUrl}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:this._refreshToken})})).json();this._token=rt.authentication.accessToken}},1e3*60*60))}isAuthenticated(){return this._token!==void 0}async loginToPeer(o,et,tt){if((await fetch(`${o}/login`,{method:"POST",body:JSON.stringify({username:et,password:tt}),headers:{"Content-Type":"application/json"}})).status!==200)throw new LoginFailureError("Invalid authentication")}getCurrentUser(){return this._currentUser}async waitTilAuthenticated(){return this.token!==void 0?!0:new Promise(o=>{this._waitingForAuth.add(o)})}async listenForRefresh(){const o=()=>{this._refreshTimer=void 0,this._refreshAuthToken()};this._addAccessTokenRefreshListener(et=>{this._refreshTimer&&clearTimeout(this._refreshTimer),this._refreshTimer=setTimeout(o,36e5),this.loginWithToken(et)}),this._refreshTimer=setTimeout(o,36e5)}async forgotPassword(o){await fetch(`${this._apiUrl}/v1/admin/auth/forgot-password`,{method:"POST",body:JSON.stringify({email:o}),headers:{"Content-Type":"application/json"}})}async confirmForgotPassword(o){return(await fetch(`${this._apiUrl}/v1/admin/auth/confirm-forgot-password`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).ok}async respondToNewPasswordRequiredChallenge(o){const et=await fetch(`${this._apiUrl}/v1/admin/auth/respond-to-new-password-required-challenge`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});if(et.ok)return await et.json();throw new Error("respond-to-new-password-required-challenge failed")}async loginWithGoogle(o){return await(await fetch(`${this._apiUrl}/v1/admin/auth/login-google`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json()}async refresh(o){const et=await(await fetch(`${this._apiUrl}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})})).json();await this.loginWithToken(et.authentication.accessToken,o)}async checkSso(o,et){return await(await fetch(`${this._apiUrl}/v1/admin/auth/check-sso`,{method:"POST",body:JSON.stringify({email:o,allowUserAutoCreation:et}),headers:{"Content-Type":"application/json"}})).json()}async loginWithSso(o,et){const tt=await(await fetch(`${this._apiUrl}/v1/admin/auth/login-sso`,{method:"POST",body:JSON.stringify({token:o,refreshToken:et}),headers:{"Content-Type":"application/json"}})).json();if(!tt.authentication)throw new Error("Failed to login with SSO");return await this.loginWithToken(tt.authentication.accessToken,tt.authentication.refreshToken)}}function getCurrentModuleContext(){return typeof window<"u"&&window.location?new URLSearchParams(window.location.search).get("module"):null}function sendAppMessage(s){if(!(window&&window.parent))throw new Error("cannot send message to non-existent parent");window.parent.postMessage(s,"*")}function refreshAuthToken(){const s=getCurrentModuleContext();if(!s)throw new Error("No module context");sendAppMessage({type:"refresh_auth_token",module:s})}function addAccessTokenRefreshListener(s){function o(et){const tt=et.data;tt.type==="auth_token"&&s(tt.token)}return window.addEventListener("message",o),()=>{window.removeEventListener("message",o)}}const Authentication=new AuthenticationStore({apiUrl:FORMANT_API_URL,refreshAuthToken,addAccessTokenRefreshListener});async function getModuleConfiguration(s){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/module-configurations/${s}`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).configuration}function disableAnalyticsBottomBar(){sendAppMessage({type:"hide_analytics_date_picker"})}function goToDevice(s){sendAppMessage({type:"go_to_device",deviceId:s})}function goToTime(s){sendAppMessage({type:"go_to_time",time:s.getTime()})}function requestModuleData(){const s=getCurrentModuleContext();if(!s)throw new Error("No module context");sendAppMessage({type:"request_module_data",module:s})}function sendChannelData(s,o){const et=getCurrentModuleContext();if(!et)throw new Error("No module context");sendAppMessage({type:"send_channel_data",source:et,channel:s,data:o})}function setModuleDateTimeRange(s,o){const et=getCurrentModuleContext();if(!et)throw new Error("No module context");sendAppMessage({type:"set_module_data_time_range",module:et,before:s,after:o||0})}function setupModuleMenus(s){const o=getCurrentModuleContext();if(!o)throw new Error("No module context");sendAppMessage({type:"setup_module_menus",module:o,menus:s})}function showMessage(s){sendAppMessage({type:"show_message",message:s})}function addChannelDataListener(s,o){const et=tt=>{const nt=tt.data;nt.type==="channel_data"&&nt.channel===s&&o({source:nt.source,data:nt.data})};return window.addEventListener("message",et),()=>window.removeEventListener("message",et)}function addMenuListener(s){const o=et=>{const tt=et.data;tt.type==="module_menu_item_clicked"&&s(tt.menu)};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)}function addModuleConfigurationListener(s){const o=et=>{const tt=et.data;tt.type==="module_configuration"&&s(tt)};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)}function addModuleDataListener(s){const o=getCurrentModuleContext();o&&sendAppMessage({type:"request_module_data",module:o});const et=tt=>{const nt=tt.data;nt.type==="module_data"&&s({streams:nt.streams,time:nt.time,queryRange:nt.queryRange})};return window.addEventListener("message",et),()=>window.removeEventListener("message",et)}function addOverviewDeviceListener(s){sendAppMessage({type:"request_devices"});const o=et=>{const tt=et.data;tt.type==="overview_devices"&&s(tt.data)};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)}function _typeof$1(s){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(s)}function toInteger(s){if(s===null||s===!0||s===!1)return NaN;var o=Number(s);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}function requiredArgs(s,o){if(o.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+o.length+" present")}function toDate(s){requiredArgs(1,arguments);var o=Object.prototype.toString.call(s);return s instanceof Date||_typeof$1(s)==="object"&&o==="[object Date]"?new Date(s.getTime()):typeof s=="number"||o==="[object Number]"?new Date(s):((typeof s=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addDays(s,o){requiredArgs(2,arguments);var et=toDate(s),tt=toInteger(o);return isNaN(tt)?new Date(NaN):(tt&&et.setDate(et.getDate()+tt),et)}function addMonths(s,o){requiredArgs(2,arguments);var et=toDate(s),tt=toInteger(o);if(isNaN(tt))return new Date(NaN);if(!tt)return et;var nt=et.getDate(),rt=new Date(et.getTime());rt.setMonth(et.getMonth()+tt+1,0);var it=rt.getDate();return nt>=it?rt:(et.setFullYear(rt.getFullYear(),rt.getMonth(),nt),et)}function addMilliseconds(s,o){requiredArgs(2,arguments);var et=toDate(s).getTime(),tt=toInteger(o);return new Date(et+tt)}var MILLISECONDS_IN_HOUR=36e5;function addHours(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addMilliseconds(s,et*MILLISECONDS_IN_HOUR)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(s,o){var et,tt,nt,rt,it,ot,st,at;requiredArgs(1,arguments);var lt=getDefaultOptions(),ct=toInteger((et=(tt=(nt=(rt=o?.weekStartsOn)!==null&&rt!==void 0?rt:o==null||(it=o.locale)===null||it===void 0||(ot=it.options)===null||ot===void 0?void 0:ot.weekStartsOn)!==null&&nt!==void 0?nt:lt.weekStartsOn)!==null&&tt!==void 0?tt:(st=lt.locale)===null||st===void 0||(at=st.options)===null||at===void 0?void 0:at.weekStartsOn)!==null&&et!==void 0?et:0);if(!(ct>=0&&ct<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ut=toDate(s),dt=ut.getDay(),ht=(dt<ct?7:0)+dt-ct;return ut.setDate(ut.getDate()-ht),ut.setHours(0,0,0,0),ut}function startOfDay(s){requiredArgs(1,arguments);var o=toDate(s);return o.setHours(0,0,0,0),o}var MILLISECONDS_IN_MINUTE=6e4;function addMinutes(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addMilliseconds(s,et*MILLISECONDS_IN_MINUTE)}function addQuarters(s,o){requiredArgs(2,arguments);var et=toInteger(o),tt=et*3;return addMonths(s,tt)}function addSeconds(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addMilliseconds(s,et*1e3)}function addWeeks(s,o){requiredArgs(2,arguments);var et=toInteger(o),tt=et*7;return addDays(s,tt)}function addYears(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addMonths(s,et*12)}function getQuarter(s){requiredArgs(1,arguments);var o=toDate(s),et=Math.floor(o.getMonth()/3)+1;return et}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(s){return s<0?Math.ceil(s):Math.floor(s)}},defaultRoundingMethod="trunc";function getRoundingMethod(s){return s?roundingMap[s]:roundingMap[defaultRoundingMethod]}function endOfDay(s){requiredArgs(1,arguments);var o=toDate(s);return o.setHours(23,59,59,999),o}function endOfMonth(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getMonth();return o.setFullYear(o.getFullYear(),et+1,0),o.setHours(23,59,59,999),o}function eachDayOfInterval(s,o){var et;requiredArgs(1,arguments);var tt=s||{},nt=toDate(tt.start),rt=toDate(tt.end),it=rt.getTime();if(!(nt.getTime()<=it))throw new RangeError("Invalid interval");var ot=[],st=nt;st.setHours(0,0,0,0);var at=Number((et=o?.step)!==null&&et!==void 0?et:1);if(at<1||isNaN(at))throw new RangeError("`options.step` must be a number greater than 1");for(;st.getTime()<=it;)ot.push(toDate(st)),st.setDate(st.getDate()+at),st.setHours(0,0,0,0);return ot}function eachHourOfInterval(s,o){var et;requiredArgs(1,arguments);var tt=s||{},nt=toDate(tt.start),rt=toDate(tt.end),it=nt.getTime(),ot=rt.getTime();if(!(it<=ot))throw new RangeError("Invalid interval");var st=[],at=nt;at.setMinutes(0,0,0);var lt=Number((et=o?.step)!==null&&et!==void 0?et:1);if(lt<1||isNaN(lt))throw new RangeError("`options.step` must be a number greater than 1");for(;at.getTime()<=ot;)st.push(toDate(at)),at=addHours(at,lt);return st}function startOfMinute(s){requiredArgs(1,arguments);var o=toDate(s);return o.setSeconds(0,0),o}function eachMinuteOfInterval(s,o){var et;requiredArgs(1,arguments);var tt=startOfMinute(toDate(s.start)),nt=toDate(s.end),rt=tt.getTime(),it=nt.getTime();if(rt>=it)throw new RangeError("Invalid interval");var ot=[],st=tt,at=Number((et=o?.step)!==null&&et!==void 0?et:1);if(at<1||isNaN(at))throw new RangeError("`options.step` must be a number equal to or greater than 1");for(;st.getTime()<=it;)ot.push(toDate(st)),st=addMinutes(st,at);return ot}function eachMonthOfInterval(s){requiredArgs(1,arguments);var o=s||{},et=toDate(o.start),tt=toDate(o.end),nt=tt.getTime(),rt=[];if(!(et.getTime()<=nt))throw new RangeError("Invalid interval");var it=et;for(it.setHours(0,0,0,0),it.setDate(1);it.getTime()<=nt;)rt.push(toDate(it)),it.setMonth(it.getMonth()+1);return rt}function startOfQuarter(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getMonth(),tt=et-et%3;return o.setMonth(tt,1),o.setHours(0,0,0,0),o}function eachQuarterOfInterval(s){requiredArgs(1,arguments);var o=s||{},et=toDate(o.start),tt=toDate(o.end),nt=tt.getTime();if(!(et.getTime()<=nt))throw new RangeError("Invalid interval");var rt=startOfQuarter(et),it=startOfQuarter(tt);nt=it.getTime();for(var ot=[],st=rt;st.getTime()<=nt;)ot.push(toDate(st)),st=addQuarters(st,1);return ot}function eachWeekOfInterval(s,o){requiredArgs(1,arguments);var et=s||{},tt=toDate(et.start),nt=toDate(et.end),rt=nt.getTime();if(!(tt.getTime()<=rt))throw new RangeError("Invalid interval");var it=startOfWeek(tt,o),ot=startOfWeek(nt,o);it.setHours(15),ot.setHours(15),rt=ot.getTime();for(var st=[],at=it;at.getTime()<=rt;)at.setHours(0),st.push(toDate(at)),at=addWeeks(at,1),at.setHours(15);return st}function startOfMonth(s){requiredArgs(1,arguments);var o=toDate(s);return o.setDate(1),o.setHours(0,0,0,0),o}function endOfYear(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getFullYear();return o.setFullYear(et+1,0,0),o.setHours(23,59,59,999),o}function startOfYear(s){requiredArgs(1,arguments);var o=toDate(s),et=new Date(0);return et.setFullYear(o.getFullYear(),0,1),et.setHours(0,0,0,0),et}function eachYearOfInterval(s){requiredArgs(1,arguments);var o=s||{},et=toDate(o.start),tt=toDate(o.end),nt=tt.getTime();if(!(et.getTime()<=nt))throw new RangeError("Invalid interval");var rt=[],it=et;for(it.setHours(0,0,0,0),it.setMonth(0,1);it.getTime()<=nt;)rt.push(toDate(it)),it.setFullYear(it.getFullYear()+1);return rt}function endOfHour(s){requiredArgs(1,arguments);var o=toDate(s);return o.setMinutes(59,59,999),o}function endOfWeek(s,o){var et,tt,nt,rt,it,ot,st,at;requiredArgs(1,arguments);var lt=getDefaultOptions(),ct=toInteger((et=(tt=(nt=(rt=o?.weekStartsOn)!==null&&rt!==void 0?rt:o==null||(it=o.locale)===null||it===void 0||(ot=it.options)===null||ot===void 0?void 0:ot.weekStartsOn)!==null&&nt!==void 0?nt:lt.weekStartsOn)!==null&&tt!==void 0?tt:(st=lt.locale)===null||st===void 0||(at=st.options)===null||at===void 0?void 0:at.weekStartsOn)!==null&&et!==void 0?et:0);if(!(ct>=0&&ct<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ut=toDate(s),dt=ut.getDay(),ht=(dt<ct?-7:0)+6-(dt-ct);return ut.setDate(ut.getDate()+ht),ut.setHours(23,59,59,999),ut}function endOfMinute(s){requiredArgs(1,arguments);var o=toDate(s);return o.setSeconds(59,999),o}function endOfQuarter(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getMonth(),tt=et-et%3+3;return o.setMonth(tt,0),o.setHours(23,59,59,999),o}function getDay(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getDay();return et}function getHours(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getHours();return et}function getMinutes(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getMinutes();return et}function getMonth(s){requiredArgs(1,arguments);var o=toDate(s),et=o.getMonth();return et}function getWeekYear(s,o){var et,tt,nt,rt,it,ot,st,at;requiredArgs(1,arguments);var lt=toDate(s),ct=lt.getFullYear(),ut=getDefaultOptions(),dt=toInteger((et=(tt=(nt=(rt=o?.firstWeekContainsDate)!==null&&rt!==void 0?rt:o==null||(it=o.locale)===null||it===void 0||(ot=it.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&nt!==void 0?nt:ut.firstWeekContainsDate)!==null&&tt!==void 0?tt:(st=ut.locale)===null||st===void 0||(at=st.options)===null||at===void 0?void 0:at.firstWeekContainsDate)!==null&&et!==void 0?et:1);if(!(dt>=1&&dt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ht=new Date(0);ht.setFullYear(ct+1,0,dt),ht.setHours(0,0,0,0);var pt=startOfWeek(ht,o),gt=new Date(0);gt.setFullYear(ct,0,dt),gt.setHours(0,0,0,0);var ft=startOfWeek(gt,o);return lt.getTime()>=pt.getTime()?ct+1:lt.getTime()>=ft.getTime()?ct:ct-1}function startOfWeekYear(s,o){var et,tt,nt,rt,it,ot,st,at;requiredArgs(1,arguments);var lt=getDefaultOptions(),ct=toInteger((et=(tt=(nt=(rt=o?.firstWeekContainsDate)!==null&&rt!==void 0?rt:o==null||(it=o.locale)===null||it===void 0||(ot=it.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&nt!==void 0?nt:lt.firstWeekContainsDate)!==null&&tt!==void 0?tt:(st=lt.locale)===null||st===void 0||(at=st.options)===null||at===void 0?void 0:at.firstWeekContainsDate)!==null&&et!==void 0?et:1),ut=getWeekYear(s,o),dt=new Date(0);dt.setFullYear(ut,0,ct),dt.setHours(0,0,0,0);var ht=startOfWeek(dt,o);return ht}var MILLISECONDS_IN_WEEK=6048e5;function getWeek(s,o){requiredArgs(1,arguments);var et=toDate(s),tt=startOfWeek(et,o).getTime()-startOfWeekYear(et,o).getTime();return Math.round(tt/MILLISECONDS_IN_WEEK)+1}function getYear(s){return requiredArgs(1,arguments),toDate(s).getFullYear()}function startOfHour(s){requiredArgs(1,arguments);var o=toDate(s);return o.setMinutes(0,0,0),o}function subDays(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addDays(s,-et)}function roundToNearestMinutes(s,o){var et;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var tt=toInteger((et=o?.nearestTo)!==null&&et!==void 0?et:1);if(tt<1||tt>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var nt=toDate(s),rt=nt.getSeconds(),it=nt.getMinutes()+rt/60,ot=getRoundingMethod(o?.roundingMethod),st=ot(it/tt)*tt,at=it%tt,lt=Math.round(at/tt)*tt;return new Date(nt.getFullYear(),nt.getMonth(),nt.getDate(),nt.getHours(),st+lt)}function subMonths(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addMonths(s,-et)}function subHours(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addHours(s,-et)}function subMinutes(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addMinutes(s,-et)}function subQuarters(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addQuarters(s,-et)}function subWeeks(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addWeeks(s,-et)}function subYears(s,o){requiredArgs(2,arguments);var et=toInteger(o);return addYears(s,-et)}const millisecond$2=1,second$2=1e3,minute$2=60*second$2,hour$2=60*minute$2,day$2=24*hour$2,week$2=7*day$2,month$2=30*day$2,year$2=365*day$2,duration$2={millisecond:millisecond$2,second:second$2,minute:minute$2,hour:hour$2,day:day$2,week:week$2,month:month$2,year:year$2};function filterDataByType$1(s,o){return s.filter(et=>o.includes(et.type))}function filterDataByTime$1(s,o,et){const tt=o.getTime(),nt=et.getTime();return s.map(rt=>({...rt,points:rt.points.filter(([it])=>it>=tt&&it<nt)})).filter(({points:rt})=>rt.length>0)}let StoreCache$1=class{constructor({capacity:s,timeout:o}={}){he(this,"entries",new Map),he(this,"metadata",new Map),he(this,"capacity"),he(this,"staleIntervalMs"),this.capacity=s||1e4,this.staleIntervalMs=o||duration$2.minute}get(s,o){const et=this.keyToCacheKey(s);return this.isStale(et)&&!this.isGenerating(et)&&o&&this.generate(s,o),this.entries.get(et)}set(s,o){const et=this.keyToCacheKey(s);this.metadata.set(et,{generating:!1,staleAt:performance.now()+this.staleIntervalMs});const tt=this.entries.get(et);JSON.stringify(tt)===JSON.stringify(o)||(this.entries.set(et,o),this.enforceMaxSize())}clear(){this.entries.clear(),[...this.metadata.values()].forEach(s=>s.generating=!1)}clearKey(s){this.metadata.delete(s),this.entries.delete(s)}keyToCacheKey(s){return JSON.stringify(s)}enforceMaxSize(){for(;this.metadata.size>this.capacity&&this.metadata.size>0;){const[s]=[...this.metadata.entries()].reduce(([o,et],[tt,nt])=>nt.staleAt<et.staleAt?[tt,nt]:[o,et]);this.clearKey(s)}}isStale(s){const o=this.metadata.get(s);return o?o?.staleAt<performance.now():!0}isGenerating(s){const o=this.metadata.get(s);return o?o.generating:!1}generate(s,o){const et=this.keyToCacheKey(s),tt=this.metadata.get(et)||{},nt=o().then(rt=>{const it=this.metadata.get(et);return it?.generating!==nt||this.set(s,rt),rt}).catch(rt=>{throw this.metadata.delete(et),rt});this.metadata.set(et,{...tt,generating:nt,staleAt:performance.now()+this.staleIntervalMs})}};async function queryTelemetry(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}let QueryStore$1=class{constructor(){he(this,"queryStoreCache",new StoreCache$1({capacity:1e4,timeout:20*duration$2.second})),he(this,"liveQueryStoreCache",new StoreCache$1({capacity:1e4,timeout:200*duration$2.millisecond}))}moduleQuery(s,o,et,tt,nt,rt=!1){const it={...s,names:[...o],types:[...et]},ot=this.query(it,tt,nt,rt);return ot===void 0||ot==="too much data"?ot:filterDataByType$1(ot,et)}query(s,o,et,tt=!1){const nt={...s,start:startOfMinute(o).toISOString(),end:tt?et.toISOString():addMinutes(roundToNearestMinutes(et),1).toISOString(),latestOnly:tt},rt=et>addSeconds(new Date,-20);let it;return rt?it=this.liveQueryCache(nt):it=this.queryCache(nt),!it||it==="too much data"||tt?it:filterDataByTime$1(it,o,et)}queryCache(s){return this.queryStoreCache.get(s,async()=>{try{return await queryTelemetry(s)}catch(o){throw o}})}liveQueryCache(s){return this.liveQueryStoreCache.get(s,async()=>{try{return await queryTelemetry(s)}catch(o){throw o}})}};const queryStore=new QueryStore$1;function addStreamListener(s,o,et){const tt=nt=>{const rt=nt.data;if(rt.type==="module_data"){const{start:it,end:ot}=rt.queryRange;et(queryStore.moduleQuery({},s,o,new Date(it),new Date(ot),!1))}};return window.addEventListener("message",tt),()=>window.removeEventListener("message",tt)}async function getDate(s,o,et){return new Promise(tt=>{sendAppMessage({type:"request_date",minTime:o,maxTime:et,time:s});const nt=rt=>{const it=rt.data;it.type==="date_response"&&(window.removeEventListener("message",nt),tt(it.data))};window.addEventListener("message",nt)})}async function prompt(s,o){return new Promise(et=>{const tt=Math.random().toString();sendAppMessage({type:"prompt",promptId:tt,schema:s,okText:o?.okText,cancelText:o?.cancelText});const nt=rt=>{const it=rt.data;it.type==="prompt_response"&&it.promptId===tt&&et(it.data),window.removeEventListener("message",nt)};window.addEventListener("message",nt)})}const Yt=class{static isModule(){return getCurrentModuleContext()!==null}static async getCurrentModuleConfiguration(){let s=new URLSearchParams("");typeof window<"u"&&window.location&&(s=new URLSearchParams(window.location.search));const o=s.get("configuration");if(!(o===null||o.trim()===""))return getModuleConfiguration(o.trim())}static get isOnline(){return Yt._isOnline}static listenForConnectionEvents(){const s=o=>{const{data:et}=o;et.type==="formant_online"&&(this._isOnline=et.online)};return window.addEventListener("message",s),()=>window.removeEventListener("message",s)}static checkConnection(s=1e3){return new Promise((o,et)=>{const tt=setTimeout(()=>et(new Error("deadline expired: took too long")),s),nt=rt=>{window.removeEventListener("message",nt),clearTimeout(tt);const{data:it}=rt;it.type==="formant_online"&&(this._isOnline=it.online,o(it.online))};window.addEventListener("message",nt),sendAppMessage({type:"formant_online"})})}static waitForConnection(s=5e3){let o=!1;const et=new Promise((rt,it)=>{setTimeout(()=>{o=!0,it(new Error("deadline expired: took too long"))},s)}),tt=rt=>new Promise(it=>setTimeout(it,rt)),nt=async()=>{for(await tt(50);!o&&!(this.isOnline||await this.checkConnection);)await tt(500)};return Promise.race([et,nt()])}};let App=Yt;he(App,"getCurrentModuleContext",getCurrentModuleContext),he(App,"disableAnalyticsBottomBar",disableAnalyticsBottomBar),he(App,"goToDevice",goToDevice),he(App,"goToTime",goToTime),he(App,"refreshAuthToken",refreshAuthToken),he(App,"requestModuleData",requestModuleData),he(App,"sendChannelData",sendChannelData),he(App,"setModuleDateTimeRange",setModuleDateTimeRange),he(App,"setupModuleMenus",setupModuleMenus),he(App,"showMessage",showMessage),he(App,"addAccessTokenRefreshListener",addAccessTokenRefreshListener),he(App,"addChannelDataListener",addChannelDataListener),he(App,"addMenuListener",addMenuListener),he(App,"addModuleConfigurationListener",addModuleConfigurationListener),he(App,"addModuleDataListener",addModuleDataListener),he(App,"addOverviewDeviceListener",addOverviewDeviceListener),he(App,"addStreamListener",addStreamListener),he(App,"getDate",getDate),he(App,"prompt",prompt),he(App,"_isOnline",null);function defined$1(s,o){if(s!==void 0)return s;throw new Error(o||"Value is undefined")}function notNull$1(s,o){if(s!==null)return s;throw new Error(o||"Value is null")}function definedAndNotNull$1(s,o){return notNull$1(defined$1(s,o),o)}var dist={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(s,o){module.exports=o()})(window,function(){return function(s){function o(at){for(var lt,ct,ut=at[0],dt=at[1],ht=0,pt=[];ht<ut.length;ht++)ct=ut[ht],Object.prototype.hasOwnProperty.call(tt,ct)&&tt[ct]&&pt.push(tt[ct][0]),tt[ct]=0;for(lt in dt)Object.prototype.hasOwnProperty.call(dt,lt)&&(s[lt]=dt[lt]);for(st&&st(at);pt.length;)pt.shift()()}var et={},tt={0:0};function nt(at){if(et[at])return et[at].exports;var lt=et[at]={i:at,l:!1,exports:{}};return s[at].call(lt.exports,lt,lt.exports,nt),lt.l=!0,lt.exports}nt.e=function(){return Promise.resolve()},nt.m=s,nt.c=et,nt.d=function(at,lt,ct){nt.o(at,lt)||Object.defineProperty(at,lt,{enumerable:!0,get:ct})},nt.r=function(at){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(at,"__esModule",{value:!0})},nt.t=function(at,lt){if(1&lt&&(at=nt(at)),8&lt||4&lt&&typeof at=="object"&&at&&at.__esModule)return at;var ct=Object.create(null);if(nt.r(ct),Object.defineProperty(ct,"default",{enumerable:!0,value:at}),2&lt&&typeof at!="string")for(var ut in at)nt.d(ct,ut,function(dt){return at[dt]}.bind(null,ut));return ct},nt.n=function(at){var lt=at&&at.__esModule?function(){return at.default}:function(){return at};return nt.d(lt,"a",lt),lt},nt.o=function(at,lt){return Object.prototype.hasOwnProperty.call(at,lt)},nt.p="",nt.oe=function(at){throw console.error(at),at};var rt=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],it=rt.push.bind(rt);rt.push=o,rt=rt.slice();for(var ot=0;ot<rt.length;ot++)o(rt[ot]);var st=it;return nt(nt.s=233)}([function(s,o,et){et.d(o,"a",function(){return zt});var tt=et(16),nt=et(55),rt=et(15),it=et.n(rt),ot=et(18);function st(Gt,en){if(en.length<Gt)throw new TypeError(Gt+" argument"+(Gt>1?"s":"")+" required, but only "+en.length+" present")}function at(Gt){if(Gt===null||Gt===!0||Gt===!1)return NaN;var en=Number(Gt);return isNaN(en)?en:en<0?Math.ceil(en):Math.floor(en)}var lt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ct=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ut=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ht(Gt){var en,cn={},Zt=Gt.split(lt.dateTimeDelimiter);if(Zt.length>2)return cn;if(/:/.test(Zt[0])?en=Zt[0]:(cn.date=Zt[0],en=Zt[1],lt.timeZoneDelimiter.test(cn.date)&&(cn.date=Gt.split(lt.timeZoneDelimiter)[0],en=Gt.substr(cn.date.length,Gt.length))),en){var dn=lt.timezone.exec(en);dn?(cn.time=en.replace(dn[1],""),cn.timezone=dn[1]):cn.time=en}return cn}function pt(Gt,en){var cn=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+en)+"})|(\\d{2}|[+-]\\d{"+(2+en)+"})$)"),Zt=Gt.match(cn);if(!Zt)return{year:NaN,restDateString:""};var dn=Zt[1]?parseInt(Zt[1]):null,Fn=Zt[2]?parseInt(Zt[2]):null;return{year:Fn===null?dn:100*Fn,restDateString:Gt.slice((Zt[1]||Zt[2]).length)}}function gt(Gt,en){if(en===null)return new Date(NaN);var cn=Gt.match(ct);if(!cn)return new Date(NaN);var Zt=!!cn[4],dn=ft(cn[1]),Fn=ft(cn[2])-1,pn=ft(cn[3]),un=ft(cn[4]),bn=ft(cn[5])-1;if(Zt)return function(rn,mn,xn){return mn>=1&&mn<=53&&xn>=0&&xn<=6}(0,un,bn)?function(rn,mn,xn){var wn=new Date(0);wn.setUTCFullYear(rn,0,4);var Mn=wn.getUTCDay()||7,or=7*(mn-1)+xn+1-Mn;return wn.setUTCDate(wn.getUTCDate()+or),wn}(en,un,bn):new Date(NaN);var an=new Date(0);return function(rn,mn,xn){return mn>=0&&mn<=11&&xn>=1&&xn<=(vt[mn]||(Et(rn)?29:28))}(en,Fn,pn)&&function(rn,mn){return mn>=1&&mn<=(Et(rn)?366:365)}(en,dn)?(an.setUTCFullYear(en,Fn,Math.max(dn,pn)),an):new Date(NaN)}function ft(Gt){return Gt?parseInt(Gt):1}function yt(Gt){var en=Gt.match(ut);if(!en)return NaN;var cn=mt(en[1]),Zt=mt(en[2]),dn=mt(en[3]);return function(Fn,pn,un){return Fn===24?pn===0&&un===0:un>=0&&un<60&&pn>=0&&pn<60&&Fn>=0&&Fn<25}(cn,Zt,dn)?36e5*cn+6e4*Zt+1e3*dn:NaN}function mt(Gt){return Gt&&parseFloat(Gt.replace(",","."))||0}function Ft(Gt){if(Gt==="Z")return 0;var en=Gt.match(dt);if(!en)return 0;var cn=en[1]==="+"?-1:1,Zt=parseInt(en[2]),dn=en[3]&&parseInt(en[3])||0;return function(Fn,pn){return pn>=0&&pn<=59}(0,dn)?cn*(36e5*Zt+6e4*dn):NaN}var vt=[31,null,31,30,31,30,31,31,30,31,30,31];function Et(Gt){return Gt%400==0||Gt%4==0&&Gt%100!=0}var wt=et(40);function It(Gt){return st(1,arguments),Gt instanceof Date||Object(wt.a)(Gt)==="object"&&Object.prototype.toString.call(Gt)==="[object Date]"}function St(Gt){st(1,arguments);var en=Object.prototype.toString.call(Gt);return Gt instanceof Date||Object(wt.a)(Gt)==="object"&&en==="[object Date]"?new Date(Gt.getTime()):typeof Gt=="number"||en==="[object Number]"?new Date(Gt):(typeof Gt!="string"&&en!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rt(Gt){const en=function(cn,Zt){var dn;st(1,arguments);var Fn=at((dn=Zt?.additionalDigits)!==null&&dn!==void 0?dn:2);if(Fn!==2&&Fn!==1&&Fn!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(typeof cn!="string"&&Object.prototype.toString.call(cn)!=="[object String]")return new Date(NaN);var pn,un=ht(cn);if(un.date){var bn=pt(un.date,Fn);pn=gt(bn.restDateString,bn.year)}if(!pn||isNaN(pn.getTime()))return new Date(NaN);var an,rn=pn.getTime(),mn=0;if(un.time&&(mn=yt(un.time),isNaN(mn)))return new Date(NaN);if(!un.timezone){var xn=new Date(rn+mn),wn=new Date(0);return wn.setFullYear(xn.getUTCFullYear(),xn.getUTCMonth(),xn.getUTCDate()),wn.setHours(xn.getUTCHours(),xn.getUTCMinutes(),xn.getUTCSeconds(),xn.getUTCMilliseconds()),wn}return an=Ft(un.timezone),isNaN(an)?new Date(NaN):new Date(rn+mn+an)}(Gt);if(!function(cn){if(st(1,arguments),!It(cn)&&typeof cn!="number")return!1;var Zt=St(cn);return!isNaN(Number(Zt))}(en))throw new Error(`Invalid ISO 8601 date string (${Gt})`);return en}const Tt=Math.pow(2,20),bt=Tt;var xt=et(3),Bt=et(28);function Ct(Gt){return it()(Gt,{cycles:!0})}var Mt=function(Gt,en){var cn={};for(var Zt in Gt)Object.prototype.hasOwnProperty.call(Gt,Zt)&&en.indexOf(Zt)<0&&(cn[Zt]=Gt[Zt]);if(Gt!=null&&typeof Object.getOwnPropertySymbols=="function"){var dn=0;for(Zt=Object.getOwnPropertySymbols(Gt);dn<Zt.length;dn++)en.indexOf(Zt[dn])<0&&Object.prototype.propertyIsEnumerable.call(Gt,Zt[dn])&&(cn[Zt[dn]]=Gt[Zt[dn]])}return cn};function Nt(Gt,en={}){const{redacted:cn=!0}=en,Zt=bn=>cn?Object(Bt.a)(bn):bn;if(!Gt.stack)return{message:Ct(Zt(Gt))};const{name:dn,message:Fn,stack:pn}=Gt,un=Mt(Gt,["name","message","stack"]);return{name:dn,message:Fn!==void 0?Fn:Ct(Zt(Gt)),stack:pn,meta:un&&Object.keys(un).length===0?void 0:Zt(un)}}function At(Gt,en={}){const{message:cn,stack:Zt,meta:dn}=Nt(Gt,en);return`${Zt||cn||""}${dn&&Object.keys(dn).length>0?" -- "+Ct(dn):""}`}var Ot=et(236);const Vt=Object(Ot.a)();var Wt=et(14),Jt=et.n(Wt),qt=function(Gt,en,cn,Zt){return new(cn||(cn=Promise))(function(dn,Fn){function pn(an){try{bn(Zt.next(an))}catch(rn){Fn(rn)}}function un(an){try{bn(Zt.throw(an))}catch(rn){Fn(rn)}}function bn(an){var rn;an.done?dn(an.value):(rn=an.value,rn instanceof cn?rn:new cn(function(mn){mn(rn)})).then(pn,un)}bn((Zt=Zt.apply(Gt,en||[])).next())})},Ht=function(Gt,en){var cn={};for(var Zt in Gt)Object.prototype.hasOwnProperty.call(Gt,Zt)&&en.indexOf(Zt)<0&&(cn[Zt]=Gt[Zt]);if(Gt!=null&&typeof Object.getOwnPropertySymbols=="function"){var dn=0;for(Zt=Object.getOwnPropertySymbols(Gt);dn<Zt.length;dn++)en.indexOf(Zt[dn])<0&&Object.prototype.propertyIsEnumerable.call(Gt,Zt[dn])&&(cn[Zt[dn]]=Gt[Zt[dn]])}return cn};class Xt extends Jt.a{constructor(en,cn){super(),this.endpoint=en,this.metadata=cn,this.logClient=this.getLogClient()}getLogClient(){return qt(this,void 0,void 0,function*(){const{LogClient:en}=yield Promise.resolve().then(et.bind(null,235));return new en(this.endpoint)})}log(en,cn){return qt(this,void 0,void 0,function*(){const{level:Zt,message:dn,error:Fn}=en,pn=Ht(en,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:Zt,message:(""+dn).substring(0,1e3),error:Fn!==void 0?Nt(Fn):void 0,meta:Object.assign(Object.assign({},pn),this.metadata)}])}catch(un){console.error("Failed to log to log-api: "+At(un))}cn()})}}var Lt=function(Gt,en){var cn={};for(var Zt in Gt)Object.prototype.hasOwnProperty.call(Gt,Zt)&&en.indexOf(Zt)<0&&(cn[Zt]=Gt[Zt]);if(Gt!=null&&typeof Object.getOwnPropertySymbols=="function"){var dn=0;for(Zt=Object.getOwnPropertySymbols(Gt);dn<Zt.length;dn++)en.indexOf(Zt[dn])<0&&Object.prototype.propertyIsEnumerable.call(Gt,Zt[dn])&&(cn[Zt[dn]]=Gt[Zt[dn]])}return cn};const Pt={app:xt.a,namespace:xt.j,buildTag:xt.c,instanceId:Vt},kt=xt.f?ot.format.printf(Gt=>{var{timestamp:en,level:cn,message:Zt,error:dn}=Gt,Fn=Lt(Gt,["timestamp","level","message","error"]);const pn=Object.assign(Object.assign({timestamp:en?Rt(en).getTime():new Date().getTime(),level:cn.toUpperCase(),message:Zt},dn?{error:Nt(dn)}:{}),{meta:Object.assign(Object.assign({},Pt),Fn)});return it()(pn,{cycles:!0})}):ot.format.printf(Gt=>{var{timestamp:en,level:cn,message:Zt,error:dn}=Gt,Fn=Lt(Gt,["timestamp","level","message","error"]);let pn=`${en||new Date().toISOString()} ${cn.toUpperCase()}: ${Zt} `;return Object.keys(Fn).length>0&&(pn+=it()(Fn,{cycles:!0})),dn&&(pn+=`
`+At(dn)),pn}),zt=Object(ot.createLogger)({level:xt.g});if(zt.add(new ot.transports.Console({format:kt,level:"debug"})),zt.transports.forEach(Gt=>{Gt.silent=!xt.h}),xt.e&&zt.add(new Xt(xt.e,Pt)),xt.i){const Gt=nt.resolve(tt.tmpdir(),`silly-${xt.a}.log`);zt.debug("Logging silly logs to file",{filename:Gt}),zt.add(new ot.transports.File({filename:Gt,maxsize:1*bt,maxFiles:10,format:ot.format.combine((tn="silly",Object(ot.format)(en=>en.level===tn&&en)()),kt),level:"silly"}))}var tn},function(s,o,et){et.d(o,"a",function(){return nt});const tt=864e5,nt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:tt,week:6048e5,month:2592e6,year:31536e6}},function(s,o){var et,tt,nt=s.exports={};function rt(){throw new Error("setTimeout has not been defined")}function it(){throw new Error("clearTimeout has not been defined")}function ot(gt){if(et===setTimeout)return setTimeout(gt,0);if((et===rt||!et)&&setTimeout)return et=setTimeout,setTimeout(gt,0);try{return et(gt,0)}catch{try{return et.call(null,gt,0)}catch{return et.call(this,gt,0)}}}(function(){try{et=typeof setTimeout=="function"?setTimeout:rt}catch{et=rt}try{tt=typeof clearTimeout=="function"?clearTimeout:it}catch{tt=it}})();var st,at=[],lt=!1,ct=-1;function ut(){lt&&st&&(lt=!1,st.length?at=st.concat(at):ct=-1,at.length&&dt())}function dt(){if(!lt){var gt=ot(ut);lt=!0;for(var ft=at.length;ft;){for(st=at,at=[];++ct<ft;)st&&st[ct].run();ct=-1,ft=at.length}st=null,lt=!1,function(yt){if(tt===clearTimeout)return clearTimeout(yt);if((tt===it||!tt)&&clearTimeout)return tt=clearTimeout,clearTimeout(yt);try{tt(yt)}catch{try{return tt.call(null,yt)}catch{return tt.call(this,yt)}}}(gt)}}function ht(gt,ft){this.fun=gt,this.array=ft}function pt(){}nt.nextTick=function(gt){var ft=new Array(arguments.length-1);if(arguments.length>1)for(var yt=1;yt<arguments.length;yt++)ft[yt-1]=arguments[yt];at.push(new ht(gt,ft)),at.length!==1||lt||ot(dt)},ht.prototype.run=function(){this.fun.apply(null,this.array)},nt.title="browser",nt.browser=!0,nt.env={},nt.argv=[],nt.version="",nt.versions={},nt.on=pt,nt.addListener=pt,nt.once=pt,nt.off=pt,nt.removeListener=pt,nt.removeAllListeners=pt,nt.emit=pt,nt.prependListener=pt,nt.prependOnceListener=pt,nt.listeners=function(gt){return[]},nt.binding=function(gt){throw new Error("process.binding is not supported")},nt.cwd=function(){return"/"},nt.chdir=function(gt){throw new Error("process.chdir is not supported")},nt.umask=function(){return 0}},function(s,o,et){(function(tt){et.d(o,"a",function(){return it}),et.d(o,"j",function(){return ot}),et.d(o,"k",function(){return st}),et.d(o,"c",function(){return at}),et.d(o,"g",function(){return lt}),et.d(o,"f",function(){return ct}),et.d(o,"h",function(){return ut}),et.d(o,"e",function(){return dt}),et.d(o,"d",function(){return ht}),et.d(o,"i",function(){return pt}),et.d(o,"b",function(){return gt});var nt=et(100);const rt=nt.from({ENVIRONMENT:tt.env.ENV,AGGREGATE_LEVEL:tt.env.AGGREGATE_LEVEL,API_ENDPOINT:tt.env.API_ENDPOINT,APP:"realtime-sdk",APP_PATH:tt.env.APP_PATH,BUILD_TAG:tt.env.BUILD_TAG,ENABLE_SELF_SERVE:tt.env.ENABLE_SELF_SERVE,ENABLE_SENTRY:tt.env.ENABLE_SENTRY,ENABLE_SENTRY_PROFILING:tt.env.ENABLE_SENTRY_PROFILING,GIT_COMMIT:tt.env.GIT_COMMIT,JEST_WORKER_ID:tt.env.JEST_WORKER_ID,LOG_API_ENDPOINT:tt.env.LOG_API_ENDPOINT,LOG_JSON:"false",LOG_LEVEL:tt.env.LOG_LEVEL,LOG_TO_CONSOLE:tt.env.LOG_TO_CONSOLE,LOG_TO_FILE:tt.env.LOG_TO_FILE,NAMESPACE:"production",SENTRY_DSN:tt.env.SENTRY_DSN,SHEET_EXPORT_MAX_ROW_COUNT:tt.env.SHEET_EXPORT_MAX_ROW_COUNT,STABLE_AGENT_VERSION:tt.env.STABLE_AGENT_VERSION,VERSION:tt.env.VERSION,AUDIT_LOGS_ENABLED:tt.env.AUDIT_LOGS_ENABLED}),it=(rt.get("ENVIRONMENT").default("").asString(),rt.get("APP").default("").asString()),ot=(rt.get("APP_PATH").default("").asString(),rt.get("API_ENDPOINT").default("").asString(),rt.get("NAMESPACE").default("").asString()),st=rt.get("VERSION").default("").asString(),at=rt.get("BUILD_TAG").default("").asString(),lt=(rt.get("GIT_COMMIT").default("").asString(),rt.get("ENABLE_SENTRY").default("false").asBool(),rt.get("ENABLE_SENTRY_PROFILING").default("false").asBool(),rt.get("SENTRY_DSN").default("").asString(),rt.get("LOG_LEVEL").default("debug").asString()),ct=rt.get("LOG_JSON").default("true").asBool(),ut=rt.get("LOG_TO_CONSOLE").default("true").asBool(),dt=(rt.get("STABLE_AGENT_VERSION").default("").asString(),rt.get("LOG_API_ENDPOINT").asString()),ht=rt.get("JEST_WORKER_ID").asString(),pt=(rt.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),rt.get("LOG_TO_FILE").default("false").asBoolStrict()),gt=(rt.get("ENABLE_SELF_SERVE").default("true").asBoolStrict(),rt.get("AGGREGATE_LEVEL").default("hour").asEnum(["day","hour","minute"]),rt.get("AUDIT_LOGS_ENABLED").default("true").asBoolStrict())}).call(this,et(2))},function(s,o,et){Object.defineProperty(o,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(o,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(o,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(o,"configs",{value:et(115)})},function(s,o,et){(function(tt){var nt=et(140),rt=et(141),it=et(142);function ot(){return at.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function st(kt,zt){if(ot()<zt)throw new RangeError("Invalid typed array length");return at.TYPED_ARRAY_SUPPORT?(kt=new Uint8Array(zt)).__proto__=at.prototype:(kt===null&&(kt=new at(zt)),kt.length=zt),kt}function at(kt,zt,tn){if(!(at.TYPED_ARRAY_SUPPORT||this instanceof at))return new at(kt,zt,tn);if(typeof kt=="number"){if(typeof zt=="string")throw new Error("If encoding is specified then the first argument must be a string");return ut(this,kt)}return lt(this,kt,zt,tn)}function lt(kt,zt,tn,Gt){if(typeof zt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&zt instanceof ArrayBuffer?function(en,cn,Zt,dn){if(cn.byteLength,Zt<0||cn.byteLength<Zt)throw new RangeError("'offset' is out of bounds");if(cn.byteLength<Zt+(dn||0))throw new RangeError("'length' is out of bounds");return cn=Zt===void 0&&dn===void 0?new Uint8Array(cn):dn===void 0?new Uint8Array(cn,Zt):new Uint8Array(cn,Zt,dn),at.TYPED_ARRAY_SUPPORT?(en=cn).__proto__=at.prototype:en=dt(en,cn),en}(kt,zt,tn,Gt):typeof zt=="string"?function(en,cn,Zt){if(typeof Zt=="string"&&Zt!==""||(Zt="utf8"),!at.isEncoding(Zt))throw new TypeError('"encoding" must be a valid string encoding');var dn=0|pt(cn,Zt),Fn=(en=st(en,dn)).write(cn,Zt);return Fn!==dn&&(en=en.slice(0,Fn)),en}(kt,zt,tn):function(en,cn){if(at.isBuffer(cn)){var Zt=0|ht(cn.length);return(en=st(en,Zt)).length===0||cn.copy(en,0,0,Zt),en}if(cn){if(typeof ArrayBuffer<"u"&&cn.buffer instanceof ArrayBuffer||"length"in cn)return typeof cn.length!="number"||(dn=cn.length)!=dn?st(en,0):dt(en,cn);if(cn.type==="Buffer"&&it(cn.data))return dt(en,cn.data)}var dn;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(kt,zt)}function ct(kt){if(typeof kt!="number")throw new TypeError('"size" argument must be a number');if(kt<0)throw new RangeError('"size" argument must not be negative')}function ut(kt,zt){if(ct(zt),kt=st(kt,zt<0?0:0|ht(zt)),!at.TYPED_ARRAY_SUPPORT)for(var tn=0;tn<zt;++tn)kt[tn]=0;return kt}function dt(kt,zt){var tn=zt.length<0?0:0|ht(zt.length);kt=st(kt,tn);for(var Gt=0;Gt<tn;Gt+=1)kt[Gt]=255&zt[Gt];return kt}function ht(kt){if(kt>=ot())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ot().toString(16)+" bytes");return 0|kt}function pt(kt,zt){if(at.isBuffer(kt))return kt.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(kt)||kt instanceof ArrayBuffer))return kt.byteLength;typeof kt!="string"&&(kt=""+kt);var tn=kt.length;if(tn===0)return 0;for(var Gt=!1;;)switch(zt){case"ascii":case"latin1":case"binary":return tn;case"utf8":case"utf-8":case void 0:return Xt(kt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*tn;case"hex":return tn>>>1;case"base64":return Lt(kt).length;default:if(Gt)return Xt(kt).length;zt=(""+zt).toLowerCase(),Gt=!0}}function gt(kt,zt,tn){var Gt=!1;if((zt===void 0||zt<0)&&(zt=0),zt>this.length||((tn===void 0||tn>this.length)&&(tn=this.length),tn<=0)||(tn>>>=0)<=(zt>>>=0))return"";for(kt||(kt="utf8");;)switch(kt){case"hex":return Bt(this,zt,tn);case"utf8":case"utf-8":return Tt(this,zt,tn);case"ascii":return bt(this,zt,tn);case"latin1":case"binary":return xt(this,zt,tn);case"base64":return Rt(this,zt,tn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,zt,tn);default:if(Gt)throw new TypeError("Unknown encoding: "+kt);kt=(kt+"").toLowerCase(),Gt=!0}}function ft(kt,zt,tn){var Gt=kt[zt];kt[zt]=kt[tn],kt[tn]=Gt}function yt(kt,zt,tn,Gt,en){if(kt.length===0)return-1;if(typeof tn=="string"?(Gt=tn,tn=0):tn>2147483647?tn=2147483647:tn<-2147483648&&(tn=-2147483648),tn=+tn,isNaN(tn)&&(tn=en?0:kt.length-1),tn<0&&(tn=kt.length+tn),tn>=kt.length){if(en)return-1;tn=kt.length-1}else if(tn<0){if(!en)return-1;tn=0}if(typeof zt=="string"&&(zt=at.from(zt,Gt)),at.isBuffer(zt))return zt.length===0?-1:mt(kt,zt,tn,Gt,en);if(typeof zt=="number")return zt&=255,at.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?en?Uint8Array.prototype.indexOf.call(kt,zt,tn):Uint8Array.prototype.lastIndexOf.call(kt,zt,tn):mt(kt,[zt],tn,Gt,en);throw new TypeError("val must be string, number or Buffer")}function mt(kt,zt,tn,Gt,en){var cn,Zt=1,dn=kt.length,Fn=zt.length;if(Gt!==void 0&&((Gt=String(Gt).toLowerCase())==="ucs2"||Gt==="ucs-2"||Gt==="utf16le"||Gt==="utf-16le")){if(kt.length<2||zt.length<2)return-1;Zt=2,dn/=2,Fn/=2,tn/=2}function pn(rn,mn){return Zt===1?rn[mn]:rn.readUInt16BE(mn*Zt)}if(en){var un=-1;for(cn=tn;cn<dn;cn++)if(pn(kt,cn)===pn(zt,un===-1?0:cn-un)){if(un===-1&&(un=cn),cn-un+1===Fn)return un*Zt}else un!==-1&&(cn-=cn-un),un=-1}else for(tn+Fn>dn&&(tn=dn-Fn),cn=tn;cn>=0;cn--){for(var bn=!0,an=0;an<Fn;an++)if(pn(kt,cn+an)!==pn(zt,an)){bn=!1;break}if(bn)return cn}return-1}function Ft(kt,zt,tn,Gt){tn=Number(tn)||0;var en=kt.length-tn;Gt?(Gt=Number(Gt))>en&&(Gt=en):Gt=en;var cn=zt.length;if(cn%2!=0)throw new TypeError("Invalid hex string");Gt>cn/2&&(Gt=cn/2);for(var Zt=0;Zt<Gt;++Zt){var dn=parseInt(zt.substr(2*Zt,2),16);if(isNaN(dn))return Zt;kt[tn+Zt]=dn}return Zt}function vt(kt,zt,tn,Gt){return Pt(Xt(zt,kt.length-tn),kt,tn,Gt)}function Et(kt,zt,tn,Gt){return Pt(function(en){for(var cn=[],Zt=0;Zt<en.length;++Zt)cn.push(255&en.charCodeAt(Zt));return cn}(zt),kt,tn,Gt)}function wt(kt,zt,tn,Gt){return Et(kt,zt,tn,Gt)}function It(kt,zt,tn,Gt){return Pt(Lt(zt),kt,tn,Gt)}function St(kt,zt,tn,Gt){return Pt(function(en,cn){for(var Zt,dn,Fn,pn=[],un=0;un<en.length&&!((cn-=2)<0);++un)Zt=en.charCodeAt(un),dn=Zt>>8,Fn=Zt%256,pn.push(Fn),pn.push(dn);return pn}(zt,kt.length-tn),kt,tn,Gt)}function Rt(kt,zt,tn){return zt===0&&tn===kt.length?nt.fromByteArray(kt):nt.fromByteArray(kt.slice(zt,tn))}function Tt(kt,zt,tn){tn=Math.min(kt.length,tn);for(var Gt=[],en=zt;en<tn;){var cn,Zt,dn,Fn,pn=kt[en],un=null,bn=pn>239?4:pn>223?3:pn>191?2:1;if(en+bn<=tn)switch(bn){case 1:pn<128&&(un=pn);break;case 2:(192&(cn=kt[en+1]))==128&&(Fn=(31&pn)<<6|63&cn)>127&&(un=Fn);break;case 3:cn=kt[en+1],Zt=kt[en+2],(192&cn)==128&&(192&Zt)==128&&(Fn=(15&pn)<<12|(63&cn)<<6|63&Zt)>2047&&(Fn<55296||Fn>57343)&&(un=Fn);break;case 4:cn=kt[en+1],Zt=kt[en+2],dn=kt[en+3],(192&cn)==128&&(192&Zt)==128&&(192&dn)==128&&(Fn=(15&pn)<<18|(63&cn)<<12|(63&Zt)<<6|63&dn)>65535&&Fn<1114112&&(un=Fn)}un===null?(un=65533,bn=1):un>65535&&(un-=65536,Gt.push(un>>>10&1023|55296),un=56320|1023&un),Gt.push(un),en+=bn}return function(an){var rn=an.length;if(rn<=4096)return String.fromCharCode.apply(String,an);for(var mn="",xn=0;xn<rn;)mn+=String.fromCharCode.apply(String,an.slice(xn,xn+=4096));return mn}(Gt)}o.Buffer=at,o.SlowBuffer=function(kt){return+kt!=kt&&(kt=0),at.alloc(+kt)},o.INSPECT_MAX_BYTES=50,at.TYPED_ARRAY_SUPPORT=tt.TYPED_ARRAY_SUPPORT!==void 0?tt.TYPED_ARRAY_SUPPORT:function(){try{var kt=new Uint8Array(1);return kt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},kt.foo()===42&&typeof kt.subarray=="function"&&kt.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=ot(),at.poolSize=8192,at._augment=function(kt){return kt.__proto__=at.prototype,kt},at.from=function(kt,zt,tn){return lt(null,kt,zt,tn)},at.TYPED_ARRAY_SUPPORT&&(at.prototype.__proto__=Uint8Array.prototype,at.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&at[Symbol.species]===at&&Object.defineProperty(at,Symbol.species,{value:null,configurable:!0})),at.alloc=function(kt,zt,tn){return function(Gt,en,cn,Zt){return ct(en),en<=0?st(Gt,en):cn!==void 0?typeof Zt=="string"?st(Gt,en).fill(cn,Zt):st(Gt,en).fill(cn):st(Gt,en)}(null,kt,zt,tn)},at.allocUnsafe=function(kt){return ut(null,kt)},at.allocUnsafeSlow=function(kt){return ut(null,kt)},at.isBuffer=function(kt){return!(kt==null||!kt._isBuffer)},at.compare=function(kt,zt){if(!at.isBuffer(kt)||!at.isBuffer(zt))throw new TypeError("Arguments must be Buffers");if(kt===zt)return 0;for(var tn=kt.length,Gt=zt.length,en=0,cn=Math.min(tn,Gt);en<cn;++en)if(kt[en]!==zt[en]){tn=kt[en],Gt=zt[en];break}return tn<Gt?-1:Gt<tn?1:0},at.isEncoding=function(kt){switch(String(kt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},at.concat=function(kt,zt){if(!it(kt))throw new TypeError('"list" argument must be an Array of Buffers');if(kt.length===0)return at.alloc(0);var tn;if(zt===void 0)for(zt=0,tn=0;tn<kt.length;++tn)zt+=kt[tn].length;var Gt=at.allocUnsafe(zt),en=0;for(tn=0;tn<kt.length;++tn){var cn=kt[tn];if(!at.isBuffer(cn))throw new TypeError('"list" argument must be an Array of Buffers');cn.copy(Gt,en),en+=cn.length}return Gt},at.byteLength=pt,at.prototype._isBuffer=!0,at.prototype.swap16=function(){var kt=this.length;if(kt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var zt=0;zt<kt;zt+=2)ft(this,zt,zt+1);return this},at.prototype.swap32=function(){var kt=this.length;if(kt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var zt=0;zt<kt;zt+=4)ft(this,zt,zt+3),ft(this,zt+1,zt+2);return this},at.prototype.swap64=function(){var kt=this.length;if(kt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var zt=0;zt<kt;zt+=8)ft(this,zt,zt+7),ft(this,zt+1,zt+6),ft(this,zt+2,zt+5),ft(this,zt+3,zt+4);return this},at.prototype.toString=function(){var kt=0|this.length;return kt===0?"":arguments.length===0?Tt(this,0,kt):gt.apply(this,arguments)},at.prototype.equals=function(kt){if(!at.isBuffer(kt))throw new TypeError("Argument must be a Buffer");return this===kt||at.compare(this,kt)===0},at.prototype.inspect=function(){var kt="",zt=o.INSPECT_MAX_BYTES;return this.length>0&&(kt=this.toString("hex",0,zt).match(/.{2}/g).join(" "),this.length>zt&&(kt+=" ... ")),"<Buffer "+kt+">"},at.prototype.compare=function(kt,zt,tn,Gt,en){if(!at.isBuffer(kt))throw new TypeError("Argument must be a Buffer");if(zt===void 0&&(zt=0),tn===void 0&&(tn=kt?kt.length:0),Gt===void 0&&(Gt=0),en===void 0&&(en=this.length),zt<0||tn>kt.length||Gt<0||en>this.length)throw new RangeError("out of range index");if(Gt>=en&&zt>=tn)return 0;if(Gt>=en)return-1;if(zt>=tn)return 1;if(this===kt)return 0;for(var cn=(en>>>=0)-(Gt>>>=0),Zt=(tn>>>=0)-(zt>>>=0),dn=Math.min(cn,Zt),Fn=this.slice(Gt,en),pn=kt.slice(zt,tn),un=0;un<dn;++un)if(Fn[un]!==pn[un]){cn=Fn[un],Zt=pn[un];break}return cn<Zt?-1:Zt<cn?1:0},at.prototype.includes=function(kt,zt,tn){return this.indexOf(kt,zt,tn)!==-1},at.prototype.indexOf=function(kt,zt,tn){return yt(this,kt,zt,tn,!0)},at.prototype.lastIndexOf=function(kt,zt,tn){return yt(this,kt,zt,tn,!1)},at.prototype.write=function(kt,zt,tn,Gt){if(zt===void 0)Gt="utf8",tn=this.length,zt=0;else if(tn===void 0&&typeof zt=="string")Gt=zt,tn=this.length,zt=0;else{if(!isFinite(zt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");zt|=0,isFinite(tn)?(tn|=0,Gt===void 0&&(Gt="utf8")):(Gt=tn,tn=void 0)}var en=this.length-zt;if((tn===void 0||tn>en)&&(tn=en),kt.length>0&&(tn<0||zt<0)||zt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Gt||(Gt="utf8");for(var cn=!1;;)switch(Gt){case"hex":return Ft(this,kt,zt,tn);case"utf8":case"utf-8":return vt(this,kt,zt,tn);case"ascii":return Et(this,kt,zt,tn);case"latin1":case"binary":return wt(this,kt,zt,tn);case"base64":return It(this,kt,zt,tn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return St(this,kt,zt,tn);default:if(cn)throw new TypeError("Unknown encoding: "+Gt);Gt=(""+Gt).toLowerCase(),cn=!0}},at.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function bt(kt,zt,tn){var Gt="";tn=Math.min(kt.length,tn);for(var en=zt;en<tn;++en)Gt+=String.fromCharCode(127&kt[en]);return Gt}function xt(kt,zt,tn){var Gt="";tn=Math.min(kt.length,tn);for(var en=zt;en<tn;++en)Gt+=String.fromCharCode(kt[en]);return Gt}function Bt(kt,zt,tn){var Gt=kt.length;(!zt||zt<0)&&(zt=0),(!tn||tn<0||tn>Gt)&&(tn=Gt);for(var en="",cn=zt;cn<tn;++cn)en+=Ht(kt[cn]);return en}function Ct(kt,zt,tn){for(var Gt=kt.slice(zt,tn),en="",cn=0;cn<Gt.length;cn+=2)en+=String.fromCharCode(Gt[cn]+256*Gt[cn+1]);return en}function Mt(kt,zt,tn){if(kt%1!=0||kt<0)throw new RangeError("offset is not uint");if(kt+zt>tn)throw new RangeError("Trying to access beyond buffer length")}function Nt(kt,zt,tn,Gt,en,cn){if(!at.isBuffer(kt))throw new TypeError('"buffer" argument must be a Buffer instance');if(zt>en||zt<cn)throw new RangeError('"value" argument is out of bounds');if(tn+Gt>kt.length)throw new RangeError("Index out of range")}function At(kt,zt,tn,Gt){zt<0&&(zt=65535+zt+1);for(var en=0,cn=Math.min(kt.length-tn,2);en<cn;++en)kt[tn+en]=(zt&255<<8*(Gt?en:1-en))>>>8*(Gt?en:1-en)}function Ot(kt,zt,tn,Gt){zt<0&&(zt=4294967295+zt+1);for(var en=0,cn=Math.min(kt.length-tn,4);en<cn;++en)kt[tn+en]=zt>>>8*(Gt?en:3-en)&255}function Vt(kt,zt,tn,Gt,en,cn){if(tn+Gt>kt.length)throw new RangeError("Index out of range");if(tn<0)throw new RangeError("Index out of range")}function Wt(kt,zt,tn,Gt,en){return en||Vt(kt,0,tn,4),rt.write(kt,zt,tn,Gt,23,4),tn+4}function Jt(kt,zt,tn,Gt,en){return en||Vt(kt,0,tn,8),rt.write(kt,zt,tn,Gt,52,8),tn+8}at.prototype.slice=function(kt,zt){var tn,Gt=this.length;if((kt=~~kt)<0?(kt+=Gt)<0&&(kt=0):kt>Gt&&(kt=Gt),(zt=zt===void 0?Gt:~~zt)<0?(zt+=Gt)<0&&(zt=0):zt>Gt&&(zt=Gt),zt<kt&&(zt=kt),at.TYPED_ARRAY_SUPPORT)(tn=this.subarray(kt,zt)).__proto__=at.prototype;else{var en=zt-kt;tn=new at(en,void 0);for(var cn=0;cn<en;++cn)tn[cn]=this[cn+kt]}return tn},at.prototype.readUIntLE=function(kt,zt,tn){kt|=0,zt|=0,tn||Mt(kt,zt,this.length);for(var Gt=this[kt],en=1,cn=0;++cn<zt&&(en*=256);)Gt+=this[kt+cn]*en;return Gt},at.prototype.readUIntBE=function(kt,zt,tn){kt|=0,zt|=0,tn||Mt(kt,zt,this.length);for(var Gt=this[kt+--zt],en=1;zt>0&&(en*=256);)Gt+=this[kt+--zt]*en;return Gt},at.prototype.readUInt8=function(kt,zt){return zt||Mt(kt,1,this.length),this[kt]},at.prototype.readUInt16LE=function(kt,zt){return zt||Mt(kt,2,this.length),this[kt]|this[kt+1]<<8},at.prototype.readUInt16BE=function(kt,zt){return zt||Mt(kt,2,this.length),this[kt]<<8|this[kt+1]},at.prototype.readUInt32LE=function(kt,zt){return zt||Mt(kt,4,this.length),(this[kt]|this[kt+1]<<8|this[kt+2]<<16)+16777216*this[kt+3]},at.prototype.readUInt32BE=function(kt,zt){return zt||Mt(kt,4,this.length),16777216*this[kt]+(this[kt+1]<<16|this[kt+2]<<8|this[kt+3])},at.prototype.readIntLE=function(kt,zt,tn){kt|=0,zt|=0,tn||Mt(kt,zt,this.length);for(var Gt=this[kt],en=1,cn=0;++cn<zt&&(en*=256);)Gt+=this[kt+cn]*en;return Gt>=(en*=128)&&(Gt-=Math.pow(2,8*zt)),Gt},at.prototype.readIntBE=function(kt,zt,tn){kt|=0,zt|=0,tn||Mt(kt,zt,this.length);for(var Gt=zt,en=1,cn=this[kt+--Gt];Gt>0&&(en*=256);)cn+=this[kt+--Gt]*en;return cn>=(en*=128)&&(cn-=Math.pow(2,8*zt)),cn},at.prototype.readInt8=function(kt,zt){return zt||Mt(kt,1,this.length),128&this[kt]?-1*(255-this[kt]+1):this[kt]},at.prototype.readInt16LE=function(kt,zt){zt||Mt(kt,2,this.length);var tn=this[kt]|this[kt+1]<<8;return 32768&tn?4294901760|tn:tn},at.prototype.readInt16BE=function(kt,zt){zt||Mt(kt,2,this.length);var tn=this[kt+1]|this[kt]<<8;return 32768&tn?4294901760|tn:tn},at.prototype.readInt32LE=function(kt,zt){return zt||Mt(kt,4,this.length),this[kt]|this[kt+1]<<8|this[kt+2]<<16|this[kt+3]<<24},at.prototype.readInt32BE=function(kt,zt){return zt||Mt(kt,4,this.length),this[kt]<<24|this[kt+1]<<16|this[kt+2]<<8|this[kt+3]},at.prototype.readFloatLE=function(kt,zt){return zt||Mt(kt,4,this.length),rt.read(this,kt,!0,23,4)},at.prototype.readFloatBE=function(kt,zt){return zt||Mt(kt,4,this.length),rt.read(this,kt,!1,23,4)},at.prototype.readDoubleLE=function(kt,zt){return zt||Mt(kt,8,this.length),rt.read(this,kt,!0,52,8)},at.prototype.readDoubleBE=function(kt,zt){return zt||Mt(kt,8,this.length),rt.read(this,kt,!1,52,8)},at.prototype.writeUIntLE=function(kt,zt,tn,Gt){kt=+kt,zt|=0,tn|=0,Gt||Nt(this,kt,zt,tn,Math.pow(2,8*tn)-1,0);var en=1,cn=0;for(this[zt]=255&kt;++cn<tn&&(en*=256);)this[zt+cn]=kt/en&255;return zt+tn},at.prototype.writeUIntBE=function(kt,zt,tn,Gt){kt=+kt,zt|=0,tn|=0,Gt||Nt(this,kt,zt,tn,Math.pow(2,8*tn)-1,0);var en=tn-1,cn=1;for(this[zt+en]=255&kt;--en>=0&&(cn*=256);)this[zt+en]=kt/cn&255;return zt+tn},at.prototype.writeUInt8=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,1,255,0),at.TYPED_ARRAY_SUPPORT||(kt=Math.floor(kt)),this[zt]=255&kt,zt+1},at.prototype.writeUInt16LE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,2,65535,0),at.TYPED_ARRAY_SUPPORT?(this[zt]=255&kt,this[zt+1]=kt>>>8):At(this,kt,zt,!0),zt+2},at.prototype.writeUInt16BE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,2,65535,0),at.TYPED_ARRAY_SUPPORT?(this[zt]=kt>>>8,this[zt+1]=255&kt):At(this,kt,zt,!1),zt+2},at.prototype.writeUInt32LE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,4,4294967295,0),at.TYPED_ARRAY_SUPPORT?(this[zt+3]=kt>>>24,this[zt+2]=kt>>>16,this[zt+1]=kt>>>8,this[zt]=255&kt):Ot(this,kt,zt,!0),zt+4},at.prototype.writeUInt32BE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,4,4294967295,0),at.TYPED_ARRAY_SUPPORT?(this[zt]=kt>>>24,this[zt+1]=kt>>>16,this[zt+2]=kt>>>8,this[zt+3]=255&kt):Ot(this,kt,zt,!1),zt+4},at.prototype.writeIntLE=function(kt,zt,tn,Gt){if(kt=+kt,zt|=0,!Gt){var en=Math.pow(2,8*tn-1);Nt(this,kt,zt,tn,en-1,-en)}var cn=0,Zt=1,dn=0;for(this[zt]=255&kt;++cn<tn&&(Zt*=256);)kt<0&&dn===0&&this[zt+cn-1]!==0&&(dn=1),this[zt+cn]=(kt/Zt>>0)-dn&255;return zt+tn},at.prototype.writeIntBE=function(kt,zt,tn,Gt){if(kt=+kt,zt|=0,!Gt){var en=Math.pow(2,8*tn-1);Nt(this,kt,zt,tn,en-1,-en)}var cn=tn-1,Zt=1,dn=0;for(this[zt+cn]=255&kt;--cn>=0&&(Zt*=256);)kt<0&&dn===0&&this[zt+cn+1]!==0&&(dn=1),this[zt+cn]=(kt/Zt>>0)-dn&255;return zt+tn},at.prototype.writeInt8=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,1,127,-128),at.TYPED_ARRAY_SUPPORT||(kt=Math.floor(kt)),kt<0&&(kt=255+kt+1),this[zt]=255&kt,zt+1},at.prototype.writeInt16LE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,2,32767,-32768),at.TYPED_ARRAY_SUPPORT?(this[zt]=255&kt,this[zt+1]=kt>>>8):At(this,kt,zt,!0),zt+2},at.prototype.writeInt16BE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,2,32767,-32768),at.TYPED_ARRAY_SUPPORT?(this[zt]=kt>>>8,this[zt+1]=255&kt):At(this,kt,zt,!1),zt+2},at.prototype.writeInt32LE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,4,2147483647,-2147483648),at.TYPED_ARRAY_SUPPORT?(this[zt]=255&kt,this[zt+1]=kt>>>8,this[zt+2]=kt>>>16,this[zt+3]=kt>>>24):Ot(this,kt,zt,!0),zt+4},at.prototype.writeInt32BE=function(kt,zt,tn){return kt=+kt,zt|=0,tn||Nt(this,kt,zt,4,2147483647,-2147483648),kt<0&&(kt=4294967295+kt+1),at.TYPED_ARRAY_SUPPORT?(this[zt]=kt>>>24,this[zt+1]=kt>>>16,this[zt+2]=kt>>>8,this[zt+3]=255&kt):Ot(this,kt,zt,!1),zt+4},at.prototype.writeFloatLE=function(kt,zt,tn){return Wt(this,kt,zt,!0,tn)},at.prototype.writeFloatBE=function(kt,zt,tn){return Wt(this,kt,zt,!1,tn)},at.prototype.writeDoubleLE=function(kt,zt,tn){return Jt(this,kt,zt,!0,tn)},at.prototype.writeDoubleBE=function(kt,zt,tn){return Jt(this,kt,zt,!1,tn)},at.prototype.copy=function(kt,zt,tn,Gt){if(tn||(tn=0),Gt||Gt===0||(Gt=this.length),zt>=kt.length&&(zt=kt.length),zt||(zt=0),Gt>0&&Gt<tn&&(Gt=tn),Gt===tn||kt.length===0||this.length===0)return 0;if(zt<0)throw new RangeError("targetStart out of bounds");if(tn<0||tn>=this.length)throw new RangeError("sourceStart out of bounds");if(Gt<0)throw new RangeError("sourceEnd out of bounds");Gt>this.length&&(Gt=this.length),kt.length-zt<Gt-tn&&(Gt=kt.length-zt+tn);var en,cn=Gt-tn;if(this===kt&&tn<zt&&zt<Gt)for(en=cn-1;en>=0;--en)kt[en+zt]=this[en+tn];else if(cn<1e3||!at.TYPED_ARRAY_SUPPORT)for(en=0;en<cn;++en)kt[en+zt]=this[en+tn];else Uint8Array.prototype.set.call(kt,this.subarray(tn,tn+cn),zt);return cn},at.prototype.fill=function(kt,zt,tn,Gt){if(typeof kt=="string"){if(typeof zt=="string"?(Gt=zt,zt=0,tn=this.length):typeof tn=="string"&&(Gt=tn,tn=this.length),kt.length===1){var en=kt.charCodeAt(0);en<256&&(kt=en)}if(Gt!==void 0&&typeof Gt!="string")throw new TypeError("encoding must be a string");if(typeof Gt=="string"&&!at.isEncoding(Gt))throw new TypeError("Unknown encoding: "+Gt)}else typeof kt=="number"&&(kt&=255);if(zt<0||this.length<zt||this.length<tn)throw new RangeError("Out of range index");if(tn<=zt)return this;var cn;if(zt>>>=0,tn=tn===void 0?this.length:tn>>>0,kt||(kt=0),typeof kt=="number")for(cn=zt;cn<tn;++cn)this[cn]=kt;else{var Zt=at.isBuffer(kt)?kt:Xt(new at(kt,Gt).toString()),dn=Zt.length;for(cn=0;cn<tn-zt;++cn)this[cn+zt]=Zt[cn%dn]}return this};var qt=/[^+\/0-9A-Za-z-_]/g;function Ht(kt){return kt<16?"0"+kt.toString(16):kt.toString(16)}function Xt(kt,zt){var tn;zt=zt||1/0;for(var Gt=kt.length,en=null,cn=[],Zt=0;Zt<Gt;++Zt){if((tn=kt.charCodeAt(Zt))>55295&&tn<57344){if(!en){if(tn>56319){(zt-=3)>-1&&cn.push(239,191,189);continue}if(Zt+1===Gt){(zt-=3)>-1&&cn.push(239,191,189);continue}en=tn;continue}if(tn<56320){(zt-=3)>-1&&cn.push(239,191,189),en=tn;continue}tn=65536+(en-55296<<10|tn-56320)}else en&&(zt-=3)>-1&&cn.push(239,191,189);if(en=null,tn<128){if((zt-=1)<0)break;cn.push(tn)}else if(tn<2048){if((zt-=2)<0)break;cn.push(tn>>6|192,63&tn|128)}else if(tn<65536){if((zt-=3)<0)break;cn.push(tn>>12|224,tn>>6&63|128,63&tn|128)}else{if(!(tn<1114112))throw new Error("Invalid code point");if((zt-=4)<0)break;cn.push(tn>>18|240,tn>>12&63|128,tn>>6&63|128,63&tn|128)}}return cn}function Lt(kt){return nt.toByteArray(function(zt){if((zt=function(tn){return tn.trim?tn.trim():tn.replace(/^\s+|\s+$/g,"")}(zt).replace(qt,"")).length<2)return"";for(;zt.length%4!=0;)zt+="=";return zt}(kt))}function Pt(kt,zt,tn,Gt){for(var en=0;en<Gt&&!(en+tn>=zt.length||en>=kt.length);++en)zt[en+tn]=kt[en];return en}}).call(this,et(6))},function(s,o){var et;et=function(){return this}();try{et=et||new Function("return this")()}catch{typeof window=="object"&&(et=window)}s.exports=et},function(s,o){typeof Object.create=="function"?s.exports=function(et,tt){tt&&(et.super_=tt,et.prototype=Object.create(tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(et,tt){if(tt){et.super_=tt;var nt=function(){};nt.prototype=tt.prototype,et.prototype=new nt,et.prototype.constructor=et}}},function(s,o,et){function tt(ut){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt})(ut)}function nt(ut,dt){if(dt&&(tt(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(ut)}function rt(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}function it(ut){var dt=typeof Map=="function"?new Map:void 0;return(it=function(ht){if(ht===null||(pt=ht,Function.toString.call(pt).indexOf("[native code]")===-1))return ht;var pt;if(typeof ht!="function")throw new TypeError("Super expression must either be null or a function");if(dt!==void 0){if(dt.has(ht))return dt.get(ht);dt.set(ht,gt)}function gt(){return ot(ht,arguments,lt(this).constructor)}return gt.prototype=Object.create(ht.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),at(gt,ht)})(ut)}function ot(ut,dt,ht){return(ot=st()?Reflect.construct.bind():function(pt,gt,ft){var yt=[null];yt.push.apply(yt,gt);var mt=new(Function.bind.apply(pt,yt));return ft&&at(mt,ft.prototype),mt}).apply(null,arguments)}function st(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function at(ut,dt){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ht,pt){return ht.__proto__=pt,ht})(ut,dt)}function lt(ut){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(dt){return dt.__proto__||Object.getPrototypeOf(dt)})(ut)}var ct=function(ut){(function(yt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),mt&&at(yt,mt)})(ft,ut);var dt,ht,pt,gt=(dt=ft,ht=st(),function(){var yt,mt=lt(dt);if(ht){var Ft=lt(this).constructor;yt=Reflect.construct(mt,arguments,Ft)}else yt=mt.apply(this,arguments);return nt(this,yt)});function ft(yt){var mt;return function(Ft,vt){if(!(Ft instanceof vt))throw new TypeError("Cannot call a class as a function")}(this,ft),mt=gt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(yt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(rt(mt),ft),mt}return pt=ft,Object.defineProperty(pt,"prototype",{writable:!1}),pt}(it(Error));s.exports=function(ut){if(ut.length>2)throw new ct(ut);function dt(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=pt}function ht(pt){return new dt(pt)}return dt.prototype.transform=ut,ht.Format=dt,ht}},function(s,o,et){et.d(o,"a",function(){return tt});const tt=nt=>new Promise(rt=>setTimeout(rt,nt||0))},function(s,o,et){var tt=et(98),nt=tt,rt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||rt!==void 0&&rt||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),it=et(97);nt.object.extend(proto,it),nt.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetSessionsRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.GetSessionsResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.Peer",null,rt),nt.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.RtcSession",null,rt),nt.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,rt),nt.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,rt),nt.exportSymbol("proto.v1.signaling.api.SessionType",null,rt),nt.exportSymbol("proto.v1.signaling.api.Signal",null,rt),proto.v1.signaling.api.Peer=function(ot){tt.Message.initialize(this,ot,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},nt.inherits(proto.v1.signaling.api.Peer,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.Signal,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.RtcSession=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.RtcSession,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RtcSession.displayName="proto.v1.signaling.api.RtcSession"),proto.v1.signaling.api.GetSessionsRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.GetSessionsRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetSessionsRequest.displayName="proto.v1.signaling.api.GetSessionsRequest"),proto.v1.signaling.api.GetSessionsResponse=function(ot){tt.Message.initialize(this,ot,0,-1,proto.v1.signaling.api.GetSessionsResponse.repeatedFields_,null)},nt.inherits(proto.v1.signaling.api.GetSessionsResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetSessionsResponse.displayName="proto.v1.signaling.api.GetSessionsResponse"),proto.v1.signaling.api.GetHealthRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.GetHealthRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.GetHealthResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.CreatePeerRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.CreatePeerResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.DeletePeerRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.DeletePeerResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.RefreshPeerRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.RefreshPeerResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.GetPeersRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(ot){tt.Message.initialize(this,ot,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},nt.inherits(proto.v1.signaling.api.GetPeersResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.GetIceServersRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.GetIceServersResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.SendSignalRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.SendSignalResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(ot){tt.Message.initialize(this,ot,0,-1,null,null)},nt.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,tt.Message),nt.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(ot){return proto.v1.signaling.api.Peer.toObject(ot,this)},proto.v1.signaling.api.Peer.toObject=function(ot,st){var at,lt={peerId:tt.Message.getFieldWithDefault(st,1,""),organizationId:tt.Message.getFieldWithDefault(st,2,""),userId:(at=st.getUserId())&&it.StringValue.toObject(ot,at),deviceId:(at=st.getDeviceId())&&it.StringValue.toObject(ot,at),sessionIdsList:(at=tt.Message.getRepeatedField(st,5))==null?void 0:at,peerCreatedTimestamp:(at=st.getPeerCreatedTimestamp())&&it.Int64Value.toObject(ot,at)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.Peer.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=st.readString();ot.setPeerId(at);break;case 2:at=st.readString(),ot.setOrganizationId(at);break;case 3:at=new it.StringValue,st.readMessage(at,it.StringValue.deserializeBinaryFromReader),ot.setUserId(at);break;case 4:at=new it.StringValue,st.readMessage(at,it.StringValue.deserializeBinaryFromReader),ot.setDeviceId(at);break;case 5:at=st.readString(),ot.addSessionIds(at);break;case 6:at=new it.Int64Value,st.readMessage(at,it.Int64Value.deserializeBinaryFromReader),ot.setPeerCreatedTimestamp(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(ot,st){var at=void 0;(at=ot.getPeerId()).length>0&&st.writeString(1,at),(at=ot.getOrganizationId()).length>0&&st.writeString(2,at),(at=ot.getUserId())!=null&&st.writeMessage(3,at,it.StringValue.serializeBinaryToWriter),(at=ot.getDeviceId())!=null&&st.writeMessage(4,at,it.StringValue.serializeBinaryToWriter),(at=ot.getSessionIdsList()).length>0&&st.writeRepeatedString(5,at),(at=ot.getPeerCreatedTimestamp())!=null&&st.writeMessage(6,at,it.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(ot){return tt.Message.setProto3StringField(this,1,ot)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return tt.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(ot){return tt.Message.setProto3StringField(this,2,ot)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return tt.Message.getWrapperField(this,it.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(ot){return tt.Message.setWrapperField(this,3,ot)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return tt.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return tt.Message.getWrapperField(this,it.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(ot){return tt.Message.setWrapperField(this,4,ot)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return tt.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return tt.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(ot){return tt.Message.setField(this,5,ot||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(ot,st){return tt.Message.addToRepeatedField(this,5,ot,st)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return tt.Message.getWrapperField(this,it.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(ot){return tt.Message.setWrapperField(this,6,ot)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return tt.Message.getField(this,6)!=null},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(ot){return proto.v1.signaling.api.Signal.toObject(ot,this)},proto.v1.signaling.api.Signal.toObject=function(ot,st){var at,lt={sessionId:(at=st.getSessionId())&&it.StringValue.toObject(ot,at),sessionCreatedTimestamp:(at=st.getSessionCreatedTimestamp())&&it.Int64Value.toObject(ot,at),senderId:tt.Message.getFieldWithDefault(st,3,""),receiverId:tt.Message.getFieldWithDefault(st,4,""),payload:tt.Message.getFieldWithDefault(st,5,""),iceServers:tt.Message.getFieldWithDefault(st,6,""),iceTransportPolicy:tt.Message.getFieldWithDefault(st,7,""),sessionType:tt.Message.getFieldWithDefault(st,8,0)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.Signal.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new it.StringValue;st.readMessage(at,it.StringValue.deserializeBinaryFromReader),ot.setSessionId(at);break;case 2:at=new it.Int64Value,st.readMessage(at,it.Int64Value.deserializeBinaryFromReader),ot.setSessionCreatedTimestamp(at);break;case 3:at=st.readString(),ot.setSenderId(at);break;case 4:at=st.readString(),ot.setReceiverId(at);break;case 5:at=st.readString(),ot.setPayload(at);break;case 6:at=st.readString(),ot.setIceServers(at);break;case 7:at=st.readString(),ot.setIceTransportPolicy(at);break;case 8:at=st.readEnum(),ot.setSessionType(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(ot,st){var at=void 0;(at=ot.getSessionId())!=null&&st.writeMessage(1,at,it.StringValue.serializeBinaryToWriter),(at=ot.getSessionCreatedTimestamp())!=null&&st.writeMessage(2,at,it.Int64Value.serializeBinaryToWriter),(at=ot.getSenderId()).length>0&&st.writeString(3,at),(at=ot.getReceiverId()).length>0&&st.writeString(4,at),(at=ot.getPayload()).length>0&&st.writeString(5,at),(at=ot.getIceServers()).length>0&&st.writeString(6,at),(at=ot.getIceTransportPolicy()).length>0&&st.writeString(7,at),(at=ot.getSessionType())!==0&&st.writeEnum(8,at)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return tt.Message.getWrapperField(this,it.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(ot){return tt.Message.setWrapperField(this,1,ot)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return tt.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return tt.Message.getWrapperField(this,it.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(ot){return tt.Message.setWrapperField(this,2,ot)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return tt.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return tt.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(ot){return tt.Message.setProto3StringField(this,3,ot)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return tt.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(ot){return tt.Message.setProto3StringField(this,4,ot)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return tt.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(ot){return tt.Message.setProto3StringField(this,5,ot)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return tt.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(ot){return tt.Message.setProto3StringField(this,6,ot)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return tt.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(ot){return tt.Message.setProto3StringField(this,7,ot)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return tt.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(ot){return tt.Message.setProto3EnumField(this,8,ot)},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RtcSession.prototype.toObject=function(ot){return proto.v1.signaling.api.RtcSession.toObject(ot,this)},proto.v1.signaling.api.RtcSession.toObject=function(ot,st){var at={sessionId:tt.Message.getFieldWithDefault(st,1,""),offerPeerId:tt.Message.getFieldWithDefault(st,2,""),answerPeerId:tt.Message.getFieldWithDefault(st,3,""),organizationId:tt.Message.getFieldWithDefault(st,4,""),sessionType:tt.Message.getFieldWithDefault(st,5,"")};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.RtcSession.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.RtcSession;return proto.v1.signaling.api.RtcSession.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.RtcSession.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=st.readString();ot.setSessionId(at);break;case 2:at=st.readString(),ot.setOfferPeerId(at);break;case 3:at=st.readString(),ot.setAnswerPeerId(at);break;case 4:at=st.readString(),ot.setOrganizationId(at);break;case 5:at=st.readString(),ot.setSessionType(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.RtcSession.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.RtcSession.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.RtcSession.serializeBinaryToWriter=function(ot,st){var at=void 0;(at=ot.getSessionId()).length>0&&st.writeString(1,at),(at=ot.getOfferPeerId()).length>0&&st.writeString(2,at),(at=ot.getAnswerPeerId()).length>0&&st.writeString(3,at),(at=ot.getOrganizationId()).length>0&&st.writeString(4,at),(at=ot.getSessionType()).length>0&&st.writeString(5,at)},proto.v1.signaling.api.RtcSession.prototype.getSessionId=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.RtcSession.prototype.setSessionId=function(ot){return tt.Message.setProto3StringField(this,1,ot)},proto.v1.signaling.api.RtcSession.prototype.getOfferPeerId=function(){return tt.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.RtcSession.prototype.setOfferPeerId=function(ot){return tt.Message.setProto3StringField(this,2,ot)},proto.v1.signaling.api.RtcSession.prototype.getAnswerPeerId=function(){return tt.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.RtcSession.prototype.setAnswerPeerId=function(ot){return tt.Message.setProto3StringField(this,3,ot)},proto.v1.signaling.api.RtcSession.prototype.getOrganizationId=function(){return tt.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.RtcSession.prototype.setOrganizationId=function(ot){return tt.Message.setProto3StringField(this,4,ot)},proto.v1.signaling.api.RtcSession.prototype.getSessionType=function(){return tt.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.RtcSession.prototype.setSessionType=function(ot){return tt.Message.setProto3StringField(this,5,ot)},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetSessionsRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.GetSessionsRequest.toObject(ot,this)},proto.v1.signaling.api.GetSessionsRequest.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetSessionsRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetSessionsRequest;return proto.v1.signaling.api.GetSessionsRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetSessionsRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.GetSessionsRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetSessionsRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetSessionsRequest.serializeBinaryToWriter=function(ot,st){},proto.v1.signaling.api.GetSessionsResponse.repeatedFields_=[1],tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetSessionsResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.GetSessionsResponse.toObject(ot,this)},proto.v1.signaling.api.GetSessionsResponse.toObject=function(ot,st){var at={sessionsList:tt.Message.toObjectList(st.getSessionsList(),proto.v1.signaling.api.RtcSession.toObject,ot)};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetSessionsResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetSessionsResponse;return proto.v1.signaling.api.GetSessionsResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetSessionsResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new proto.v1.signaling.api.RtcSession;st.readMessage(at,proto.v1.signaling.api.RtcSession.deserializeBinaryFromReader),ot.addSessions(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.GetSessionsResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetSessionsResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetSessionsResponse.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getSessionsList()).length>0&&st.writeRepeatedMessage(1,at,proto.v1.signaling.api.RtcSession.serializeBinaryToWriter)},proto.v1.signaling.api.GetSessionsResponse.prototype.getSessionsList=function(){return tt.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.RtcSession,1)},proto.v1.signaling.api.GetSessionsResponse.prototype.setSessionsList=function(ot){return tt.Message.setRepeatedWrapperField(this,1,ot)},proto.v1.signaling.api.GetSessionsResponse.prototype.addSessions=function(ot,st){return tt.Message.addToRepeatedWrapperField(this,1,ot,proto.v1.signaling.api.RtcSession,st)},proto.v1.signaling.api.GetSessionsResponse.prototype.clearSessionsList=function(){return this.setSessionsList([])},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.GetHealthRequest.toObject(ot,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(ot,st){},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.GetHealthResponse.toObject(ot,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(ot,st){var at={version:tt.Message.getFieldWithDefault(st,1,"")};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=st.readString();ot.setVersion(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getVersion()).length>0&&st.writeString(1,at)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(ot){return tt.Message.setProto3StringField(this,1,ot)},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.CreatePeerRequest.toObject(ot,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(ot,st){},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.CreatePeerResponse.toObject(ot,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(ot,st){var at,lt={peer:(at=st.getPeer())&&proto.v1.signaling.api.Peer.toObject(ot,at)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new proto.v1.signaling.api.Peer;st.readMessage(at,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),ot.setPeer(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getPeer())!=null&&st.writeMessage(1,at,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return tt.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(ot){return tt.Message.setWrapperField(this,1,ot)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return tt.Message.getField(this,1)!=null},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.DeletePeerRequest.toObject(ot,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(ot,st){var at={peerId:tt.Message.getFieldWithDefault(st,1,"")};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=st.readString();ot.setPeerId(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getPeerId()).length>0&&st.writeString(1,at)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(ot){return tt.Message.setProto3StringField(this,1,ot)},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.DeletePeerResponse.toObject(ot,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(ot,st){},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.RefreshPeerRequest.toObject(ot,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(ot,st){var at,lt={peer:(at=st.getPeer())&&proto.v1.signaling.api.Peer.toObject(ot,at)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new proto.v1.signaling.api.Peer;st.readMessage(at,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),ot.setPeer(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getPeer())!=null&&st.writeMessage(1,at,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return tt.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(ot){return tt.Message.setWrapperField(this,1,ot)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return tt.Message.getField(this,1)!=null},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.RefreshPeerResponse.toObject(ot,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(ot,st){},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.GetPeersRequest.toObject(ot,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(ot,st){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.GetPeersResponse.toObject(ot,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(ot,st){var at={peersList:tt.Message.toObjectList(st.getPeersList(),proto.v1.signaling.api.Peer.toObject,ot)};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new proto.v1.signaling.api.Peer;st.readMessage(at,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),ot.addPeers(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getPeersList()).length>0&&st.writeRepeatedMessage(1,at,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return tt.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(ot){return tt.Message.setRepeatedWrapperField(this,1,ot)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(ot,st){return tt.Message.addToRepeatedWrapperField(this,1,ot,proto.v1.signaling.api.Peer,st)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.GetIceServersRequest.toObject(ot,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(ot,st){var at={};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)st.getFieldNumber(),st.skipField();return ot},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(ot,st){},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.GetIceServersResponse.toObject(ot,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(ot,st){var at={iceServers:tt.Message.getFieldWithDefault(st,1,"")};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=st.readString();ot.setIceServers(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getIceServers()).length>0&&st.writeString(1,at)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(ot){return tt.Message.setProto3StringField(this,1,ot)},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.SendSignalRequest.toObject(ot,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(ot,st){var at,lt={signal:(at=st.getSignal())&&proto.v1.signaling.api.Signal.toObject(ot,at)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new proto.v1.signaling.api.Signal;st.readMessage(at,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),ot.setSignal(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getSignal())!=null&&st.writeMessage(1,at,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return tt.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(ot){return tt.Message.setWrapperField(this,1,ot)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return tt.Message.getField(this,1)!=null},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.SendSignalResponse.toObject(ot,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(ot,st){var at,lt={sessionId:(at=st.getSessionId())&&it.StringValue.toObject(ot,at),sessionCreatedTimestamp:(at=st.getSessionCreatedTimestamp())&&it.Int64Value.toObject(ot,at)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new it.StringValue;st.readMessage(at,it.StringValue.deserializeBinaryFromReader),ot.setSessionId(at);break;case 2:at=new it.Int64Value,st.readMessage(at,it.Int64Value.deserializeBinaryFromReader),ot.setSessionCreatedTimestamp(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(ot,st){var at=void 0;(at=ot.getSessionId())!=null&&st.writeMessage(1,at,it.StringValue.serializeBinaryToWriter),(at=ot.getSessionCreatedTimestamp())!=null&&st.writeMessage(2,at,it.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return tt.Message.getWrapperField(this,it.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(ot){return tt.Message.setWrapperField(this,1,ot)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return tt.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return tt.Message.getWrapperField(this,it.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(ot){return tt.Message.setWrapperField(this,2,ot)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return tt.Message.getField(this,2)!=null},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(ot){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(ot,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(ot,st){var at={peerId:tt.Message.getFieldWithDefault(st,1,"")};return ot&&(at.$jspbMessageInstance=st),at}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=st.readString();ot.setPeerId(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getPeerId()).length>0&&st.writeString(1,at)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(ot){return tt.Message.setProto3StringField(this,1,ot)},tt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(ot){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(ot,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(ot,st){var at,lt={signal:(at=st.getSignal())&&proto.v1.signaling.api.Signal.toObject(ot,at)};return ot&&(lt.$jspbMessageInstance=st),lt}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(ot){var st=new tt.BinaryReader(ot),at=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(at,st)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(ot,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var at=new proto.v1.signaling.api.Signal;st.readMessage(at,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),ot.setSignal(at);break;default:st.skipField()}return ot},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var ot=new tt.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,ot),ot.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(ot,st){var at;(at=ot.getSignal())!=null&&st.writeMessage(1,at,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return tt.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(ot){return tt.Message.setWrapperField(this,1,ot)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return tt.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3,HEADLESS:4},nt.object.extend(o,proto.v1.signaling.api)},function(s,o,et){et.d(o,"a",function(){return nt});var tt=et(28);class nt extends Error{constructor(it,ot,st,at,lt,ct,ut={}){super("Response error "+JSON.stringify({method:it,url:ot,requestBody:Object(tt.a)(st),statusCode:at,responseHeaders:lt?Object(tt.a)([...lt.entries()].reduce((dt,[ht,pt])=>(dt[ht]=pt,dt),{})):{},responseBody:Object(tt.a)(ct)})),this.method=it,this.url=ot,this.requestBody=st,this.statusCode=at,this.headers=lt,this.body=ct,this.validationErrors=ut,this.name="ResponseError",Object.setPrototypeOf(this,new.target.prototype)}}},function(s,o,et){function tt(nt,rt,it=()=>!0){if(function(ot,st,at=()=>!0){return ot instanceof st&&at(ot)}(nt,rt,it))return nt;throw nt}et.d(o,"a",function(){return tt})},function(s,o,et){(function(tt){var nt=Object.getOwnPropertyDescriptors||function(Mt){for(var Nt=Object.keys(Mt),At={},Ot=0;Ot<Nt.length;Ot++)At[Nt[Ot]]=Object.getOwnPropertyDescriptor(Mt,Nt[Ot]);return At},rt=/%[sdj%]/g;o.format=function(Mt){if(!yt(Mt)){for(var Nt=[],At=0;At<arguments.length;At++)Nt.push(st(arguments[At]));return Nt.join(" ")}At=1;for(var Ot=arguments,Vt=Ot.length,Wt=String(Mt).replace(rt,function(qt){if(qt==="%%")return"%";if(At>=Vt)return qt;switch(qt){case"%s":return String(Ot[At++]);case"%d":return Number(Ot[At++]);case"%j":try{return JSON.stringify(Ot[At++])}catch{return"[Circular]"}default:return qt}}),Jt=Ot[At];At<Vt;Jt=Ot[++At])gt(Jt)||!vt(Jt)?Wt+=" "+Jt:Wt+=" "+st(Jt);return Wt},o.deprecate=function(Mt,Nt){if(tt!==void 0&&tt.noDeprecation===!0)return Mt;if(tt===void 0)return function(){return o.deprecate(Mt,Nt).apply(this,arguments)};var At=!1;return function(){if(!At){if(tt.throwDeprecation)throw new Error(Nt);tt.traceDeprecation?console.trace(Nt):console.error(Nt),At=!0}return Mt.apply(this,arguments)}};var it,ot={};function st(Mt,Nt){var At={seen:[],stylize:lt};return arguments.length>=3&&(At.depth=arguments[2]),arguments.length>=4&&(At.colors=arguments[3]),pt(Nt)?At.showHidden=Nt:Nt&&o._extend(At,Nt),mt(At.showHidden)&&(At.showHidden=!1),mt(At.depth)&&(At.depth=2),mt(At.colors)&&(At.colors=!1),mt(At.customInspect)&&(At.customInspect=!0),At.colors&&(At.stylize=at),ct(At,Mt,At.depth)}function at(Mt,Nt){var At=st.styles[Nt];return At?"\x1B["+st.colors[At][0]+"m"+Mt+"\x1B["+st.colors[At][1]+"m":Mt}function lt(Mt,Nt){return Mt}function ct(Mt,Nt,At){if(Mt.customInspect&&Nt&&It(Nt.inspect)&&Nt.inspect!==o.inspect&&(!Nt.constructor||Nt.constructor.prototype!==Nt)){var Ot=Nt.inspect(At,Mt);return yt(Ot)||(Ot=ct(Mt,Ot,At)),Ot}var Vt=function(kt,zt){if(mt(zt))return kt.stylize("undefined","undefined");if(yt(zt)){var tn="'"+JSON.stringify(zt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return kt.stylize(tn,"string")}if(ft(zt))return kt.stylize(""+zt,"number");if(pt(zt))return kt.stylize(""+zt,"boolean");if(gt(zt))return kt.stylize("null","null")}(Mt,Nt);if(Vt)return Vt;var Wt=Object.keys(Nt),Jt=function(kt){var zt={};return kt.forEach(function(tn,Gt){zt[tn]=!0}),zt}(Wt);if(Mt.showHidden&&(Wt=Object.getOwnPropertyNames(Nt)),wt(Nt)&&(Wt.indexOf("message")>=0||Wt.indexOf("description")>=0))return ut(Nt);if(Wt.length===0){if(It(Nt)){var qt=Nt.name?": "+Nt.name:"";return Mt.stylize("[Function"+qt+"]","special")}if(Ft(Nt))return Mt.stylize(RegExp.prototype.toString.call(Nt),"regexp");if(Et(Nt))return Mt.stylize(Date.prototype.toString.call(Nt),"date");if(wt(Nt))return ut(Nt)}var Ht,Xt="",Lt=!1,Pt=["{","}"];return ht(Nt)&&(Lt=!0,Pt=["[","]"]),It(Nt)&&(Xt=" [Function"+(Nt.name?": "+Nt.name:"")+"]"),Ft(Nt)&&(Xt=" "+RegExp.prototype.toString.call(Nt)),Et(Nt)&&(Xt=" "+Date.prototype.toUTCString.call(Nt)),wt(Nt)&&(Xt=" "+ut(Nt)),Wt.length!==0||Lt&&Nt.length!=0?At<0?Ft(Nt)?Mt.stylize(RegExp.prototype.toString.call(Nt),"regexp"):Mt.stylize("[Object]","special"):(Mt.seen.push(Nt),Ht=Lt?function(kt,zt,tn,Gt,en){for(var cn=[],Zt=0,dn=zt.length;Zt<dn;++Zt)xt(zt,String(Zt))?cn.push(dt(kt,zt,tn,Gt,String(Zt),!0)):cn.push("");return en.forEach(function(Fn){Fn.match(/^\d+$/)||cn.push(dt(kt,zt,tn,Gt,Fn,!0))}),cn}(Mt,Nt,At,Jt,Wt):Wt.map(function(kt){return dt(Mt,Nt,At,Jt,kt,Lt)}),Mt.seen.pop(),function(kt,zt,tn){return kt.reduce(function(Gt,en){return en.indexOf(`
`)>=0,Gt+en.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?tn[0]+(zt===""?"":zt+`
 `)+" "+kt.join(`,
  `)+" "+tn[1]:tn[0]+zt+" "+kt.join(", ")+" "+tn[1]}(Ht,Xt,Pt)):Pt[0]+Xt+Pt[1]}function ut(Mt){return"["+Error.prototype.toString.call(Mt)+"]"}function dt(Mt,Nt,At,Ot,Vt,Wt){var Jt,qt,Ht;if((Ht=Object.getOwnPropertyDescriptor(Nt,Vt)||{value:Nt[Vt]}).get?qt=Ht.set?Mt.stylize("[Getter/Setter]","special"):Mt.stylize("[Getter]","special"):Ht.set&&(qt=Mt.stylize("[Setter]","special")),xt(Ot,Vt)||(Jt="["+Vt+"]"),qt||(Mt.seen.indexOf(Ht.value)<0?(qt=gt(At)?ct(Mt,Ht.value,null):ct(Mt,Ht.value,At-1)).indexOf(`
`)>-1&&(qt=Wt?qt.split(`
`).map(function(Xt){return"  "+Xt}).join(`
`).substr(2):`
`+qt.split(`
`).map(function(Xt){return"   "+Xt}).join(`
`)):qt=Mt.stylize("[Circular]","special")),mt(Jt)){if(Wt&&Vt.match(/^\d+$/))return qt;(Jt=JSON.stringify(""+Vt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Jt=Jt.substr(1,Jt.length-2),Jt=Mt.stylize(Jt,"name")):(Jt=Jt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Jt=Mt.stylize(Jt,"string"))}return Jt+": "+qt}function ht(Mt){return Array.isArray(Mt)}function pt(Mt){return typeof Mt=="boolean"}function gt(Mt){return Mt===null}function ft(Mt){return typeof Mt=="number"}function yt(Mt){return typeof Mt=="string"}function mt(Mt){return Mt===void 0}function Ft(Mt){return vt(Mt)&&St(Mt)==="[object RegExp]"}function vt(Mt){return typeof Mt=="object"&&Mt!==null}function Et(Mt){return vt(Mt)&&St(Mt)==="[object Date]"}function wt(Mt){return vt(Mt)&&(St(Mt)==="[object Error]"||Mt instanceof Error)}function It(Mt){return typeof Mt=="function"}function St(Mt){return Object.prototype.toString.call(Mt)}function Rt(Mt){return Mt<10?"0"+Mt.toString(10):Mt.toString(10)}o.debuglog=function(Mt){if(mt(it)&&(it=tt.env.NODE_DEBUG||""),Mt=Mt.toUpperCase(),!ot[Mt])if(new RegExp("\\b"+Mt+"\\b","i").test(it)){var Nt=tt.pid;ot[Mt]=function(){var At=o.format.apply(o,arguments);console.error("%s %d: %s",Mt,Nt,At)}}else ot[Mt]=function(){};return ot[Mt]},o.inspect=st,st.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},st.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=ht,o.isBoolean=pt,o.isNull=gt,o.isNullOrUndefined=function(Mt){return Mt==null},o.isNumber=ft,o.isString=yt,o.isSymbol=function(Mt){return typeof Mt=="symbol"},o.isUndefined=mt,o.isRegExp=Ft,o.isObject=vt,o.isDate=Et,o.isError=wt,o.isFunction=It,o.isPrimitive=function(Mt){return Mt===null||typeof Mt=="boolean"||typeof Mt=="number"||typeof Mt=="string"||typeof Mt=="symbol"||Mt===void 0},o.isBuffer=et(104);var Tt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function bt(){var Mt=new Date,Nt=[Rt(Mt.getHours()),Rt(Mt.getMinutes()),Rt(Mt.getSeconds())].join(":");return[Mt.getDate(),Tt[Mt.getMonth()],Nt].join(" ")}function xt(Mt,Nt){return Object.prototype.hasOwnProperty.call(Mt,Nt)}o.log=function(){console.log("%s - %s",bt(),o.format.apply(o,arguments))},o.inherits=et(105),o._extend=function(Mt,Nt){if(!Nt||!vt(Nt))return Mt;for(var At=Object.keys(Nt),Ot=At.length;Ot--;)Mt[At[Ot]]=Nt[At[Ot]];return Mt};var Bt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Ct(Mt,Nt){if(!Mt){var At=new Error("Promise was rejected with a falsy value");At.reason=Mt,Mt=At}return Nt(Mt)}o.promisify=function(Mt){if(typeof Mt!="function")throw new TypeError('The "original" argument must be of type Function');if(Bt&&Mt[Bt]){var Nt;if(typeof(Nt=Mt[Bt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Nt,Bt,{value:Nt,enumerable:!1,writable:!1,configurable:!0}),Nt}function Nt(){for(var At,Ot,Vt=new Promise(function(qt,Ht){At=qt,Ot=Ht}),Wt=[],Jt=0;Jt<arguments.length;Jt++)Wt.push(arguments[Jt]);Wt.push(function(qt,Ht){qt?Ot(qt):At(Ht)});try{Mt.apply(this,Wt)}catch(qt){Ot(qt)}return Vt}return Object.setPrototypeOf(Nt,Object.getPrototypeOf(Mt)),Bt&&Object.defineProperty(Nt,Bt,{value:Nt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Nt,nt(Mt))},o.promisify.custom=Bt,o.callbackify=function(Mt){if(typeof Mt!="function")throw new TypeError('The "original" argument must be of type Function');function Nt(){for(var At=[],Ot=0;Ot<arguments.length;Ot++)At.push(arguments[Ot]);var Vt=At.pop();if(typeof Vt!="function")throw new TypeError("The last argument must be of type Function");var Wt=this,Jt=function(){return Vt.apply(Wt,arguments)};Mt.apply(this,At).then(function(qt){tt.nextTick(Jt,null,qt)},function(qt){tt.nextTick(Ct,qt,Jt)})}return Object.setPrototypeOf(Nt,Object.getPrototypeOf(Mt)),Object.defineProperties(Nt,nt(Mt)),Nt}}).call(this,et(2))},function(s,o,et){var tt=et(13),nt=et(61),rt=et(4).LEVEL,it=s.exports=function(){var ot=this,st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt.call(this,{objectMode:!0,highWaterMark:st.highWaterMark}),this.format=st.format,this.level=st.level,this.handleExceptions=st.handleExceptions,this.handleRejections=st.handleRejections,this.silent=st.silent,st.log&&(this.log=st.log),st.logv&&(this.logv=st.logv),st.close&&(this.close=st.close),this.once("pipe",function(at){ot.levels=at.levels,ot.parent=at}),this.once("unpipe",function(at){at===ot.parent&&(ot.parent=null,ot.close&&ot.close())})};tt.inherits(it,nt),it.prototype._write=function(ot,st,at){if(this.silent||ot.exception===!0&&!this.handleExceptions)return at(null);var lt=this.level||this.parent&&this.parent.level;if(!lt||this.levels[lt]>=this.levels[ot[rt]]){if(ot&&!this.format)return this.log(ot,at);var ct=void 0,ut=void 0;try{ut=this.format.transform(Object.assign({},ot),this.format.options)}catch(dt){ct=dt}if(ct||!ut){if(at(),ct)throw ct;return}return this.log(ut,at)}return this._writableState.sync=!1,at(null)},it.prototype._writev=function(ot,st){if(this.logv){var at=ot.filter(this._accept,this);return at.length?this.logv(at,st):st(null)}for(var lt=0;lt<ot.length;lt++)if(this._accept(ot[lt]))if(!ot[lt].chunk||this.format){var ct=void 0,ut=void 0;try{ut=this.format.transform(Object.assign({},ot[lt].chunk),this.format.options)}catch(dt){ct=dt}if(ct||!ut){if(ot[lt].callback(),ct)throw st(null),ct}else this.log(ut,ot[lt].callback)}else this.log(ot[lt].chunk,ot[lt].callback);return st(null)},it.prototype._accept=function(ot){var st=ot.chunk;if(this.silent)return!1;var at=this.level||this.parent&&this.parent.level;return!(st.exception!==!0&&at&&!(this.levels[at]>=this.levels[st[rt]])||!this.handleExceptions&&st.exception===!0)},it.prototype._nop=function(){},s.exports.LegacyTransportStream=et(151)},function(s,o,et){s.exports=function(tt,nt){nt||(nt={}),typeof nt=="function"&&(nt={cmp:nt});var rt,it=typeof nt.cycles=="boolean"&&nt.cycles,ot=nt.cmp&&(rt=nt.cmp,function(at){return function(lt,ct){var ut={key:lt,value:at[lt]},dt={key:ct,value:at[ct]};return rt(ut,dt)}}),st=[];return function at(lt){if(lt&&lt.toJSON&&typeof lt.toJSON=="function"&&(lt=lt.toJSON()),lt!==void 0){if(typeof lt=="number")return isFinite(lt)?""+lt:"null";if(typeof lt!="object")return JSON.stringify(lt);var ct,ut;if(Array.isArray(lt)){for(ut="[",ct=0;ct<lt.length;ct++)ct&&(ut+=","),ut+=at(lt[ct])||"null";return ut+"]"}if(lt===null)return"null";if(st.indexOf(lt)!==-1){if(it)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var dt=st.push(lt)-1,ht=Object.keys(lt).sort(ot&&ot(lt));for(ut="",ct=0;ct<ht.length;ct++){var pt=ht[ct],gt=at(lt[pt]);gt&&(ut&&(ut+=","),ut+=JSON.stringify(pt)+":"+gt)}return st.splice(dt,1),"{"+ut+"}"}}(tt)}},function(s,o){o.endianness=function(){return"LE"},o.hostname=function(){return typeof location<"u"?location.hostname:""},o.loadavg=function(){return[]},o.uptime=function(){return 0},o.freemem=function(){return Number.MAX_VALUE},o.totalmem=function(){return Number.MAX_VALUE},o.cpus=function(){return[]},o.type=function(){return"Browser"},o.release=function(){return typeof navigator<"u"?navigator.appVersion:""},o.networkInterfaces=o.getNetworkInterfaces=function(){return{}},o.arch=function(){return"javascript"},o.platform=function(){return"browser"},o.tmpdir=o.tmpDir=function(){return"/tmp"},o.EOL=`
`,o.homedir=function(){return"/"}},function(s,o,et){(function(tt){var nt;function rt($t){var ln=0;return function(){return ln<$t.length?{done:!1,value:$t[ln++]}:{done:!0}}}var it=typeof Object.defineProperties=="function"?Object.defineProperty:function($t,ln,En){$t!=Array.prototype&&$t!=Object.prototype&&($t[ln]=En.value)},ot=function($t){$t=[typeof window=="object"&&window,typeof self=="object"&&self,typeof tt=="object"&&tt,$t];for(var ln=0;ln<$t.length;++ln){var En=$t[ln];if(En&&En.Math==Math)return En}throw Error("Cannot find global object")}(this);function st(){st=function(){},ot.Symbol||(ot.Symbol=ct)}function at($t,ln){this.a=$t,it(this,"description",{configurable:!0,writable:!0,value:ln})}at.prototype.toString=function(){return this.a};var lt,ct=(lt=0,function $t(ln){if(this instanceof $t)throw new TypeError("Symbol is not a constructor");return new at("jscomp_symbol_"+(ln||"")+"_"+lt++,ln)});function ut(){st();var $t=ot.Symbol.iterator;$t||($t=ot.Symbol.iterator=ot.Symbol("Symbol.iterator")),typeof Array.prototype[$t]!="function"&&it(Array.prototype,$t,{configurable:!0,writable:!0,value:function(){return function(ln){return ut(),(ln={next:ln})[ot.Symbol.iterator]=function(){return this},ln}(rt(this))}}),ut=function(){}}function dt($t){var ln=typeof Symbol<"u"&&Symbol.iterator&&$t[Symbol.iterator];return ln?ln.call($t):{next:rt($t)}}var ht,pt=typeof Object.create=="function"?Object.create:function($t){function ln(){}return ln.prototype=$t,new ln};if(typeof Object.setPrototypeOf=="function")ht=Object.setPrototypeOf;else{var gt;e:{var ft={};try{ft.__proto__={V:!0},gt=ft.V;break e}catch{}gt=!1}ht=gt?function($t,ln){if($t.__proto__=ln,$t.__proto__!==ln)throw new TypeError($t+" is not extensible");return $t}:null}var yt=ht;function mt($t,ln){if($t.prototype=pt(ln.prototype),$t.prototype.constructor=$t,yt)yt($t,ln);else for(var En in ln)if(En!="prototype")if(Object.defineProperties){var Cn=Object.getOwnPropertyDescriptor(ln,En);Cn&&Object.defineProperty($t,En,Cn)}else $t[En]=ln[En];$t.O=ln.prototype}function Ft($t,ln){if(ln){var En=ot;$t=$t.split(".");for(var Cn=0;Cn<$t.length-1;Cn++){var Jn=$t[Cn];Jn in En||(En[Jn]={}),En=En[Jn]}(ln=ln(Cn=En[$t=$t[$t.length-1]]))!=Cn&&ln!=null&&it(En,$t,{configurable:!0,writable:!0,value:ln})}}Ft("Array.prototype.keys",function($t){return $t||function(){return function(ln,En){ut(),ln instanceof String&&(ln+="");var Cn=0,Jn={next:function(){if(Cn<ln.length){var tr=Cn++;return{value:En(tr,ln[tr]),done:!1}}return Jn.next=function(){return{done:!0,value:void 0}},Jn.next()}};return Jn[Symbol.iterator]=function(){return Jn},Jn}(this,function(ln){return ln})}}),Ft("Array.prototype.find",function($t){return $t||function(ln,En){e:{var Cn=this;Cn instanceof String&&(Cn=String(Cn));for(var Jn=Cn.length,tr=0;tr<Jn;tr++){var Pn=Cn[tr];if(ln.call(En,Pn,tr,Cn)){ln=Pn;break e}}ln=void 0}return ln}}),Ft("Object.is",function($t){return $t||function(ln,En){return ln===En?ln!==0||1/ln==1/En:ln!=ln&&En!=En}}),Ft("Array.prototype.includes",function($t){return $t||function(ln,En){var Cn=this;Cn instanceof String&&(Cn=String(Cn));var Jn=Cn.length;for(0>(En=En||0)&&(En=Math.max(En+Jn,0));En<Jn;En++){var tr=Cn[En];if(tr===ln||Object.is(tr,ln))return!0}return!1}}),Ft("Promise",function($t){function ln(Pn){this.b=0,this.c=void 0,this.a=[];var Yn=this.f();try{Pn(Yn.resolve,Yn.reject)}catch(lr){Yn.reject(lr)}}function En(){this.a=null}function Cn(Pn){return Pn instanceof ln?Pn:new ln(function(Yn){Yn(Pn)})}if($t)return $t;En.prototype.b=function(Pn){if(this.a==null){this.a=[];var Yn=this;this.c(function(){Yn.g()})}this.a.push(Pn)};var Jn=ot.setTimeout;En.prototype.c=function(Pn){Jn(Pn,0)},En.prototype.g=function(){for(;this.a&&this.a.length;){var Pn=this.a;this.a=[];for(var Yn=0;Yn<Pn.length;++Yn){var lr=Pn[Yn];Pn[Yn]=null;try{lr()}catch(wr){this.f(wr)}}}this.a=null},En.prototype.f=function(Pn){this.c(function(){throw Pn})},ln.prototype.f=function(){function Pn(wr){return function(Pr){lr||(lr=!0,wr.call(Yn,Pr))}}var Yn=this,lr=!1;return{resolve:Pn(this.s),reject:Pn(this.g)}},ln.prototype.s=function(Pn){if(Pn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Pn instanceof ln)this.v(Pn);else{e:switch(typeof Pn){case"object":var Yn=Pn!=null;break e;case"function":Yn=!0;break e;default:Yn=!1}Yn?this.m(Pn):this.h(Pn)}},ln.prototype.m=function(Pn){var Yn=void 0;try{Yn=Pn.then}catch(lr){return void this.g(lr)}typeof Yn=="function"?this.w(Yn,Pn):this.h(Pn)},ln.prototype.g=function(Pn){this.i(2,Pn)},ln.prototype.h=function(Pn){this.i(1,Pn)},ln.prototype.i=function(Pn,Yn){if(this.b!=0)throw Error("Cannot settle("+Pn+", "+Yn+"): Promise already settled in state"+this.b);this.b=Pn,this.c=Yn,this.l()},ln.prototype.l=function(){if(this.a!=null){for(var Pn=0;Pn<this.a.length;++Pn)tr.b(this.a[Pn]);this.a=null}};var tr=new En;return ln.prototype.v=function(Pn){var Yn=this.f();Pn.F(Yn.resolve,Yn.reject)},ln.prototype.w=function(Pn,Yn){var lr=this.f();try{Pn.call(Yn,lr.resolve,lr.reject)}catch(wr){lr.reject(wr)}},ln.prototype.then=function(Pn,Yn){function lr(go,Ro){return typeof go=="function"?function(Uo){try{wr(go(Uo))}catch(qr){Pr(qr)}}:Ro}var wr,Pr,eo=new ln(function(go,Ro){wr=go,Pr=Ro});return this.F(lr(Pn,wr),lr(Yn,Pr)),eo},ln.prototype.catch=function(Pn){return this.then(void 0,Pn)},ln.prototype.F=function(Pn,Yn){function lr(){switch(wr.b){case 1:Pn(wr.c);break;case 2:Yn(wr.c);break;default:throw Error("Unexpected state: "+wr.b)}}var wr=this;this.a==null?tr.b(lr):this.a.push(lr)},ln.resolve=Cn,ln.reject=function(Pn){return new ln(function(Yn,lr){lr(Pn)})},ln.race=function(Pn){return new ln(function(Yn,lr){for(var wr=dt(Pn),Pr=wr.next();!Pr.done;Pr=wr.next())Cn(Pr.value).F(Yn,lr)})},ln.all=function(Pn){var Yn=dt(Pn),lr=Yn.next();return lr.done?Cn([]):new ln(function(wr,Pr){function eo(Uo){return function(qr){go[Uo]=qr,--Ro==0&&wr(go)}}var go=[],Ro=0;do go.push(void 0),Ro++,Cn(lr.value).F(eo(go.length-1),Pr),lr=Yn.next();while(!lr.done)})},ln});var vt=vt||{},Et=this||self;function wt($t,ln){$t=$t.split("."),ln=ln||Et;for(var En=0;En<$t.length;En++)if((ln=ln[$t[En]])==null)return null;return ln}function It(){}function St($t){var ln=typeof $t;return ln=="object"&&$t!=null||ln=="function"}function Rt($t,ln,En){return $t.call.apply($t.bind,arguments)}function Tt($t,ln,En){if(!$t)throw Error();if(2<arguments.length){var Cn=Array.prototype.slice.call(arguments,2);return function(){var Jn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Jn,Cn),$t.apply(ln,Jn)}}return function(){return $t.apply(ln,arguments)}}function bt($t,ln,En){return(bt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Rt:Tt).apply(null,arguments)}function xt($t,ln){function En(){}En.prototype=ln.prototype,$t.O=ln.prototype,$t.prototype=new En,$t.prototype.constructor=$t}function Bt($t){this.a=$t||{}}function Ct($t,ln,En,Cn){this.f=$t,this.c=ln,this.b=En,this.a=Cn}function Mt($t,ln,En,Cn){En=En===void 0?{}:En,this.c=$t,this.a=En,this.b=ln,this.f=Cn===void 0?null:Cn}function Nt($t,ln,En,Cn,Jn,tr){this.name=$t,this.a=Jn,this.b=tr}function At($t,ln,En){En=En===void 0?{}:En;var Cn=Cn===void 0?new Bt:Cn;return new Ct(ln,$t,En,Cn)}function Ot($t,ln,En){En=En===void 0?{}:En,ln=Error.call(this,ln),this.message=ln.message,"stack"in ln&&(this.stack=ln.stack),this.code=$t,this.metadata=En}function Vt($t){this.a=$t}function Wt($t){if(Error.captureStackTrace)Error.captureStackTrace(this,Wt);else{var ln=Error().stack;ln&&(this.stack=ln)}$t&&(this.message=String($t))}function Jt($t,ln){for(var En="",Cn=($t=$t.split("%s")).length-1,Jn=0;Jn<Cn;Jn++)En+=$t[Jn]+(Jn<ln.length?ln[Jn]:"%s");Wt.call(this,En+$t[Cn])}function qt(){this.l=null,this.i=[],this.m=0,this.b=Ht,this.f=this.a=this.h=0,this.c=null,this.g=0}Bt.prototype.get=function($t){return this.a[$t]},Bt.prototype.G=function(){return Object.keys(this.a)},Ct.prototype.getRequestMessage=function(){return this.f},Ct.prototype.getMethodDescriptor=function(){return this.c},Ct.prototype.getMetadata=function(){return this.b},Ct.prototype.getCallOptions=function(){return this.a},Mt.prototype.getResponseMessage=function(){return this.c},Mt.prototype.getMetadata=function(){return this.a},Mt.prototype.getMethodDescriptor=function(){return this.b},Mt.prototype.getStatus=function(){return this.f},Nt.prototype.getName=function(){return this.name},Nt.prototype.getName=Nt.prototype.getName,mt(Ot,Error),Ot.prototype.name="RpcError",Vt.prototype.on=function($t,ln){return $t=="data"||$t=="error"?this:this.a.on($t,ln)},Vt.prototype.removeListener=function($t,ln){return this.a.removeListener($t,ln)},Vt.prototype.cancel=function(){this.a.cancel()},xt(Wt,Error),Wt.prototype.name="CustomError",xt(Jt,Wt),Jt.prototype.name="AssertionError";var Ht=0,Xt=1,Lt=2,Pt=3,kt=0,zt=128;function tn($t,ln,En,Cn){throw $t.b=Pt,$t.l="The stream is broken @"+$t.m+"/"+En+". Error: "+Cn+`. With input:
`+ln,Error($t.l)}var Gt,en=Array.prototype.indexOf?function($t,ln){return Array.prototype.indexOf.call($t,ln,void 0)}:function($t,ln){if(typeof $t=="string")return typeof ln!="string"||ln.length!=1?-1:$t.indexOf(ln,0);for(var En=0;En<$t.length;En++)if(En in $t&&$t[En]===ln)return En;return-1},cn=String.prototype.trim?function($t){return $t.trim()}:function($t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec($t)[1]};function Zt($t,ln){return $t.indexOf(ln)!=-1}function dn($t,ln){return $t<ln?-1:$t>ln?1:0}e:{var Fn=Et.navigator;if(Fn){var pn=Fn.userAgent;if(pn){Gt=pn;break e}}Gt=""}var un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn($t){var ln=1;$t=$t.split(":");for(var En=[];0<ln&&$t.length;)En.push($t.shift()),ln--;return $t.length&&En.push($t.join(":")),En}function an($t){return an[" "]($t),$t}an[" "]=It;var rn,mn,xn=Zt(Gt,"Opera"),wn=Zt(Gt,"Trident")||Zt(Gt,"MSIE"),Mn=Zt(Gt,"Edge"),or=Zt(Gt,"Gecko")&&!(Zt(Gt.toLowerCase(),"webkit")&&!Zt(Gt,"Edge"))&&!(Zt(Gt,"Trident")||Zt(Gt,"MSIE"))&&!Zt(Gt,"Edge"),ir=Zt(Gt.toLowerCase(),"webkit")&&!Zt(Gt,"Edge");e:{var nr="",Ar=(mn=Gt,or?/rv:([^\);]+)(\)|;)/.exec(mn):Mn?/Edge\/([\d\.]+)/.exec(mn):wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mn):ir?/WebKit\/(\S+)/.exec(mn):xn?/(?:Version)[ \/]?(\S+)/.exec(mn):void 0);if(Ar&&(nr=Ar?Ar[1]:""),wn){var ur,Fr=Et.document;if((ur=Fr?Fr.documentMode:void 0)!=null&&ur>parseFloat(nr)){rn=String(ur);break e}}rn=nr}var $r={};function Sr(){return function($t){var ln=$r;return Object.prototype.hasOwnProperty.call(ln,9)?ln[9]:ln[9]=$t(9)}(function(){for(var $t=0,ln=cn(String(rn)).split("."),En=cn("9").split("."),Cn=Math.max(ln.length,En.length),Jn=0;$t==0&&Jn<Cn;Jn++){var tr=ln[Jn]||"",Pn=En[Jn]||"";do{if(tr=/(\d*)(\D*)(.*)/.exec(tr)||["","","",""],Pn=/(\d*)(\D*)(.*)/.exec(Pn)||["","","",""],tr[0].length==0&&Pn[0].length==0)break;$t=dn(tr[1].length==0?0:parseInt(tr[1],10),Pn[1].length==0?0:parseInt(Pn[1],10))||dn(tr[2].length==0,Pn[2].length==0)||dn(tr[2],Pn[2]),tr=tr[3],Pn=Pn[3]}while($t==0)}return 0<=$t})}function Ur(){this.K=this.K}Ur.prototype.K=!1;var Xr=Object.freeze||function($t){return $t};function Wr($t,ln){this.type=$t,this.a=this.target=ln,this.defaultPrevented=!1}Wr.prototype.b=function(){this.defaultPrevented=!0};var Jr=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var $t=!1,ln=Object.defineProperty({},"passive",{get:function(){$t=!0}});try{Et.addEventListener("test",It,ln),Et.removeEventListener("test",It,ln)}catch{}return $t}();function An($t,ln){if(Wr.call(this,$t?$t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,$t){var En=this.type=$t.type,Cn=$t.changedTouches&&$t.changedTouches.length?$t.changedTouches[0]:null;if(this.target=$t.target||$t.srcElement,this.a=ln,ln=$t.relatedTarget){if(or){e:{try{an(ln.nodeName);var Jn=!0;break e}catch{}Jn=!1}Jn||(ln=null)}}else En=="mouseover"?ln=$t.fromElement:En=="mouseout"&&(ln=$t.toElement);this.relatedTarget=ln,Cn?(this.clientX=Cn.clientX!==void 0?Cn.clientX:Cn.pageX,this.clientY=Cn.clientY!==void 0?Cn.clientY:Cn.pageY,this.screenX=Cn.screenX||0,this.screenY=Cn.screenY||0):(this.clientX=$t.clientX!==void 0?$t.clientX:$t.pageX,this.clientY=$t.clientY!==void 0?$t.clientY:$t.pageY,this.screenX=$t.screenX||0,this.screenY=$t.screenY||0),this.button=$t.button,this.key=$t.key||"",this.ctrlKey=$t.ctrlKey,this.altKey=$t.altKey,this.shiftKey=$t.shiftKey,this.metaKey=$t.metaKey,this.pointerId=$t.pointerId||0,this.pointerType=typeof $t.pointerType=="string"?$t.pointerType:Br[$t.pointerType]||"",this.c=$t,$t.defaultPrevented&&An.O.b.call(this)}}xt(An,Wr);var Br=Xr({2:"touch",3:"pen",4:"mouse"});An.prototype.b=function(){An.O.b.call(this);var $t=this.c;$t.preventDefault?$t.preventDefault():$t.returnValue=!1};var er="closure_listenable_"+(1e6*Math.random()|0),ar=0;function fr($t,ln,En,Cn,Jn){this.listener=$t,this.proxy=null,this.src=ln,this.type=En,this.capture=!!Cn,this.H=Jn,this.key=++ar,this.A=this.D=!1}function Or($t){$t.A=!0,$t.listener=null,$t.proxy=null,$t.src=null,$t.H=null}function no($t){this.src=$t,this.a={},this.b=0}function co($t,ln){var En=ln.type;if(En in $t.a){var Cn,Jn=$t.a[En],tr=en(Jn,ln);(Cn=0<=tr)&&Array.prototype.splice.call(Jn,tr,1),Cn&&(Or(ln),$t.a[En].length==0&&(delete $t.a[En],$t.b--))}}function Eo($t,ln,En,Cn){for(var Jn=0;Jn<$t.length;++Jn){var tr=$t[Jn];if(!tr.A&&tr.listener==ln&&tr.capture==!!En&&tr.H==Cn)return Jn}return-1}no.prototype.add=function($t,ln,En,Cn,Jn){var tr=$t.toString();($t=this.a[tr])||($t=this.a[tr]=[],this.b++);var Pn=Eo($t,ln,Cn,Jn);return-1<Pn?(ln=$t[Pn],En||(ln.D=!1)):((ln=new fr(ln,this.src,tr,!!Cn,Jn)).D=En,$t.push(ln)),ln},no.prototype.remove=function($t,ln,En,Cn){if(!(($t=$t.toString())in this.a))return!1;var Jn=this.a[$t];return-1<(ln=Eo(Jn,ln,En,Cn))&&(Or(Jn[ln]),Array.prototype.splice.call(Jn,ln,1),Jn.length==0&&(delete this.a[$t],this.b--),!0)};var Ir="closure_lm_"+(1e6*Math.random()|0),So={};function Kn($t,ln,En,Cn,Jn){if(Cn&&Cn.once)(function Pn(Yn,lr,wr,Pr,eo){if(Array.isArray(lr))for(var go=0;go<lr.length;go++)Pn(Yn,lr[go],wr,Pr,eo);else wr=$n(wr),Yn&&Yn[er]?Yn.f.add(String(lr),wr,!0,St(Pr)?!!Pr.capture:!!Pr,eo):nn(Yn,lr,wr,!0,Pr,eo)})($t,ln,En,Cn,Jn);else if(Array.isArray(ln))for(var tr=0;tr<ln.length;tr++)Kn($t,ln[tr],En,Cn,Jn);else En=$n(En),$t&&$t[er]?$t.f.add(String(ln),En,!1,St(Cn)?!!Cn.capture:!!Cn,Jn):nn($t,ln,En,!1,Cn,Jn)}function nn($t,ln,En,Cn,Jn,tr){if(!ln)throw Error("Invalid event type");var Pn=St(Jn)?!!Jn.capture:!!Jn,Yn=Nn($t);if(Yn||($t[Ir]=Yn=new no($t)),!(En=Yn.add(ln,En,Cn,Pn,tr)).proxy)if(Cn=function(){var lr=Qn;return function wr(Pr){return lr.call(wr.src,wr.listener,Pr)}}(),En.proxy=Cn,Cn.src=$t,Cn.listener=En,$t.addEventListener)Jr||(Jn=Pn),Jn===void 0&&(Jn=!1),$t.addEventListener(ln.toString(),Cn,Jn);else if($t.attachEvent)$t.attachEvent(gn(ln.toString()),Cn);else{if(!$t.addListener||!$t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");$t.addListener(Cn)}}function on($t){if(typeof $t!="number"&&$t&&!$t.A){var ln=$t.src;if(ln&&ln[er])co(ln.f,$t);else{var En=$t.type,Cn=$t.proxy;ln.removeEventListener?ln.removeEventListener(En,Cn,$t.capture):ln.detachEvent?ln.detachEvent(gn(En),Cn):ln.addListener&&ln.removeListener&&ln.removeListener(Cn),(En=Nn(ln))?(co(En,$t),En.b==0&&(En.src=null,ln[Ir]=null)):Or($t)}}}function gn($t){return $t in So?So[$t]:So[$t]="on"+$t}function Qn($t,ln){if($t.A)$t=!0;else{ln=new An(ln,this);var En=$t.listener,Cn=$t.H||$t.src;$t.D&&on($t),$t=En.call(Cn,ln)}return $t}function Nn($t){return($t=$t[Ir])instanceof no?$t:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function $n($t){return typeof $t=="function"?$t:($t[In]||($t[In]=function(ln){return $t.handleEvent(ln)}),$t[In])}function Xn(){Ur.call(this),this.f=new no(this),this.U=this}function On($t,ln){$t=$t.U;var En=ln.type||ln;if(typeof ln=="string")ln=new Wr(ln,$t);else if(ln instanceof Wr)ln.target=ln.target||$t;else{var Cn=ln;(function(Jn,tr){for(var Pn,Yn,lr=1;lr<arguments.length;lr++){for(Pn in Yn=arguments[lr])Jn[Pn]=Yn[Pn];for(var wr=0;wr<un.length;wr++)Pn=un[wr],Object.prototype.hasOwnProperty.call(Yn,Pn)&&(Jn[Pn]=Yn[Pn])}})(ln=new Wr(En,$t),Cn)}Dn($t=ln.a=$t,En,!0,ln),Dn($t,En,!1,ln)}function Dn($t,ln,En,Cn){if(ln=$t.f.a[String(ln)]){ln=ln.concat();for(var Jn=!0,tr=0;tr<ln.length;++tr){var Pn=ln[tr];if(Pn&&!Pn.A&&Pn.capture==En){var Yn=Pn.listener,lr=Pn.H||Pn.src;Pn.D&&co($t.f,Pn),Jn=Yn.call(lr,Cn)!==!1&&Jn}}}}xt(Xn,Ur),Xn.prototype[er]=!0,Xn.prototype.addEventListener=function($t,ln,En,Cn){Kn(this,$t,ln,En,Cn)},Xn.prototype.removeEventListener=function($t,ln,En,Cn){(function Jn(tr,Pn,Yn,lr,wr){if(Array.isArray(Pn))for(var Pr=0;Pr<Pn.length;Pr++)Jn(tr,Pn[Pr],Yn,lr,wr);else lr=St(lr)?!!lr.capture:!!lr,Yn=$n(Yn),tr&&tr[er]?tr.f.remove(String(Pn),Yn,lr,wr):tr&&(tr=Nn(tr))&&(Pn=tr.a[Pn.toString()],tr=-1,Pn&&(tr=Eo(Pn,Yn,lr,wr)),(Yn=-1<tr?Pn[tr]:null)&&on(Yn))})(this,$t,ln,En,Cn)};var _r=Et;function Gr($t,ln,En){if(typeof $t=="function")En&&($t=bt($t,En));else{if(!$t||typeof $t.handleEvent!="function")throw Error("Invalid listener argument");$t=bt($t.handleEvent,$t)}return 2147483647<Number(ln)?-1:_r.setTimeout($t,ln||0)}function Un($t,ln){this.name=$t,this.value=ln}Un.prototype.toString=function(){return this.name};var Vn,jn,Zn,Ln=new Un("OFF",1/0),cr=new Un("SEVERE",1e3),dr=new Un("CONFIG",700),pr=new Un("FINE",500);function mr(){this.clear()}function Cr($t,ln,En){this.reset($t||Ln,ln,En,void 0,void 0)}function Dr($t,ln){this.a=null,this.f=[],this.b=(ln===void 0?null:ln)||null,this.c=[],this.g={getName:function(){return $t}}}function Qr($t){return $t.a?$t.a:$t.b?Qr($t.b):(function(ln,En){throw new Jt("Failure"+(ln?": "+ln:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),Ln)}function Yr(){this.entries={};var $t=new Dr("");$t.a=dr,this.entries[""]=$t}function mo($t,ln,En){var Cn=$t.entries[ln];if(Cn)return En!==void 0&&(Cn.a=En),Cn;Cn=mo($t,ln.substr(0,ln.lastIndexOf(".")));var Jn=new Dr(ln,Cn);return $t.entries[ln]=Jn,Cn.c.push(Jn),En!==void 0&&(Jn.a=En),Jn}function yo(){return jn||(jn=new Yr),jn}function bo($t,ln,En){var Cn;(Cn=$t)&&(Cn=$t&&ln)&&(Cn=(Cn=ln.value)>=($t?Qr(mo(yo(),$t.getName())):Ln).value),Cn&&(ln=ln||Ln,Cn=mo(yo(),$t.getName()),typeof En=="function"&&(En=En()),Vn||(Vn=new mr),function(Jn,tr){for(;Jn;)Jn.f.forEach(function(Pn){Pn(tr)}),Jn=Jn.b}(Cn,$t=new Cr(ln,En,$t=$t.getName())))}function Hr($t,ln){$t&&bo($t,pr,ln)}function vr(){}function Kr($t){var ln;return(ln=$t.a)||(ln={},To($t)&&(ln[0]=!0,ln[1]=!0),ln=$t.a=ln),ln}function ao(){}function Fo($t){return($t=To($t))?new ActiveXObject($t):new XMLHttpRequest}function To($t){if(!$t.b&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var ln=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],En=0;En<ln.length;En++){var Cn=ln[En];try{return new ActiveXObject(Cn),$t.b=Cn}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return $t.b}function xo($t,ln){this.b=$t[Et.Symbol.iterator](),this.c=ln,this.f=0}mr.prototype.clear=function(){},Cr.prototype.reset=function(){},vr.prototype.a=null,xt(ao,vr),Zn=new ao,st(),ut(),xo.prototype[Symbol.iterator]=function(){return this},xo.prototype.next=function(){var $t=this.b.next();return{value:$t.done?void 0:this.c.call(void 0,$t.value,this.f++),done:$t.done}},st(),ut(),st(),ut();var Wo="StopIteration"in Et?Et.StopIteration:{message:"StopIteration",stack:""};function io(){}function Oo($t){if($t instanceof ro||$t instanceof No||$t instanceof Yo)return $t;if(typeof $t.next=="function")return new ro(function(){return ls($t)});if(st(),ut(),typeof $t[Symbol.iterator]=="function")return st(),ut(),new ro(function(){return $t[Symbol.iterator]()});if(typeof $t.u=="function")return new ro(function(){return ls($t.u())});throw Error("Not an iterator or iterable.")}function ls($t){if(!($t instanceof io))return $t;var ln=!1;return{next:function(){for(var En;!ln;)try{En=$t.a();break}catch(Cn){if(Cn!==Wo)throw Cn;ln=!0}return{value:En,done:ln}}}}function ro($t){this.b=$t}function No($t){this.b=$t}function Yo($t){ro.call(this,function(){return $t}),this.f=$t}function Co($t,ln){this.o={},this.j=[],this.B=this.size=0;var En=arguments.length;if(1<En){if(En%2)throw Error("Uneven number of arguments");for(var Cn=0;Cn<En;Cn+=2)this.set(arguments[Cn],arguments[Cn+1])}else $t&&this.addAll($t)}function xs($t){if($t.size!=$t.j.length){for(var ln=0,En=0;ln<$t.j.length;){var Cn=$t.j[ln];cs($t.o,Cn)&&($t.j[En++]=Cn),ln++}$t.j.length=En}if($t.size!=$t.j.length){var Jn={};for(En=ln=0;ln<$t.j.length;)cs(Jn,Cn=$t.j[ln])||($t.j[En++]=Cn,Jn[Cn]=1),ln++;$t.j.length=En}}function cs($t,ln){return Object.prototype.hasOwnProperty.call($t,ln)}io.prototype.next=function(){return io.prototype.a.call(this)},io.prototype.a=function(){throw Wo},io.prototype.u=function(){return this},st(),ut(),ro.prototype.u=function(){return new No(this.b())},ro.prototype[Symbol.iterator]=function(){return new Yo(this.b())},ro.prototype.c=function(){return new Yo(this.b())},st(),ut(),mt(No,io),No.prototype.a=function(){var $t=this.b.next();if($t.done)throw Wo;return $t.value},No.prototype.next=function(){return No.prototype.a.call(this)},No.prototype[Symbol.iterator]=function(){return new Yo(this.b)},No.prototype.c=function(){return new Yo(this.b)},mt(Yo,ro),Yo.prototype.next=function(){return this.f.next()},(nt=Co.prototype).G=function(){return xs(this),this.j.concat()},nt.has=function($t){return cs(this.o,$t)},nt.clear=function(){this.o={},this.B=this.size=this.j.length=0},nt.remove=function($t){return this.delete($t)},nt.delete=function($t){return!!cs(this.o,$t)&&(delete this.o[$t],--this.size,this.B++,this.j.length>2*this.size&&xs(this),!0)},nt.get=function($t,ln){return cs(this.o,$t)?this.o[$t]:ln},nt.set=function($t,ln){cs(this.o,$t)||(this.size+=1,this.j.push($t),this.B++),this.o[$t]=ln},nt.addAll=function($t){if($t instanceof Co)for(var ln=$t.G(),En=0;En<ln.length;En++)this.set(ln[En],$t.get(ln[En]));else for(ln in $t)this.set(ln,$t[ln])},nt.forEach=function($t,ln){for(var En=this.G(),Cn=0;Cn<En.length;Cn++){var Jn=En[Cn],tr=this.get(Jn);$t.call(ln,tr,Jn,this)}},nt.clone=function(){return new Co(this)},nt.keys=function(){return Oo(this.u(!0)).c()},nt.values=function(){return Oo(this.u(!1)).c()},nt.entries=function(){var $t=this;return function(ln,En){return new xo(ln,En)}(this.keys(),function(ln){return[ln,$t.get(ln)]})},nt.u=function($t){xs(this);var ln=0,En=this.B,Cn=this,Jn=new io;return Jn.a=function(){if(En!=Cn.B)throw Error("The map has changed since the iterator was created");if(ln>=Cn.j.length)throw Wo;var tr=Cn.j[ln++];return $t?tr:Cn.o[tr]},Jn.next=Jn.a.bind(Jn),Jn};var Cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ko($t){Xn.call(this),this.headers=new Co,this.C=$t||null,this.c=!1,this.J=this.a=null,this.P=this.v="",this.g=0,this.l="",this.i=this.N=this.s=this.L=!1,this.h=0,this.w=null,this.m=Fs,this.I=this.M=!1}xt(Ko,Xn);var Fs="";Ko.prototype.b=mo(yo(),"goog.net.XhrIo",void 0).g;var Es=/^https?$/i,zr=["POST","PUT"];function Ms($t,ln,En){if($t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+$t.v+"; newUri="+ln);$t.v=ln,$t.l="",$t.g=0,$t.P="POST",$t.L=!1,$t.c=!0,$t.a=$t.C?Fo($t.C):Fo(Zn),$t.J=$t.C?Kr($t.C):Kr(Zn),$t.a.onreadystatechange=bt($t.R,$t);try{Hr($t.b,Er($t,"Opening Xhr")),$t.N=!0,$t.a.open("POST",String(ln),!0),$t.N=!1}catch(tr){return Hr($t.b,Er($t,"Error opening Xhr: "+tr.message)),void fn($t,tr)}ln=En||"";var Cn=(En=$t.headers.clone()).G().find(function(tr){return tr.toLowerCase()=="content-type"}),Jn=Et.FormData&&ln instanceof Et.FormData;!(0<=en(zr,"POST"))||Cn||Jn||En.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),En.forEach(function(tr,Pn){this.a.setRequestHeader(Pn,tr)},$t),$t.m&&($t.a.responseType=$t.m),"withCredentials"in $t.a&&$t.a.withCredentials!==$t.M&&($t.a.withCredentials=$t.M);try{_n($t),0<$t.h&&($t.I=function(tr){return wn&&Sr()&&typeof tr.timeout=="number"&&tr.ontimeout!==void 0}($t.a),Hr($t.b,Er($t,"Will abort after "+$t.h+"ms if incomplete, xhr2 "+$t.I)),$t.I?($t.a.timeout=$t.h,$t.a.ontimeout=bt($t.T,$t)):$t.w=Gr($t.T,$t.h,$t)),Hr($t.b,Er($t,"Sending request")),$t.s=!0,$t.a.send(ln),$t.s=!1}catch(tr){Hr($t.b,Er($t,"Send error: "+tr.message)),fn($t,tr)}}function fn($t,ln){$t.c=!1,$t.a&&($t.i=!0,$t.a.abort(),$t.i=!1),$t.l=ln,$t.g=5,hn($t),yn($t)}function hn($t){$t.L||($t.L=!0,On($t,"complete"),On($t,"error"))}function vn($t){if($t.c&&vt!==void 0){if($t.J[1]&&Gn($t)==4&&$t.getStatus()==2)Hr($t.b,Er($t,"Local request error detected and ignored"));else if($t.s&&Gn($t)==4)Gr($t.R,0,$t);else if(On($t,"readystatechange"),Gn($t)==4){Hr($t.b,Er($t,"Request complete")),$t.c=!1;try{var ln,En=$t.getStatus();e:switch(En){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Cn=!0;break e;default:Cn=!1}if(!(ln=Cn)){var Jn;if(Jn=En===0){var tr=String($t.v).match(Cs)[1]||null;if(!tr&&Et.self&&Et.self.location){var Pn=Et.self.location.protocol;tr=Pn.substr(0,Pn.length-1)}Jn=!Es.test(tr?tr.toLowerCase():"")}ln=Jn}if(ln)On($t,"complete"),On($t,"success");else{$t.g=6;try{var Yn=2<Gn($t)?$t.a.statusText:""}catch(lr){Hr($t.b,"Can not get status: "+lr.message),Yn=""}$t.l=Yn+" ["+$t.getStatus()+"]",hn($t)}}finally{yn($t)}}}}function yn($t){if($t.a){_n($t);var ln=$t.a,En=$t.J[0]?It:null;$t.a=null,$t.J=null,On($t,"ready");try{ln.onreadystatechange=En}catch(Cn){($t=$t.b)&&bo($t,cr,"Problem encountered resetting onreadystatechange: "+Cn.message)}}}function _n($t){$t.a&&$t.I&&($t.a.ontimeout=null),$t.w&&(_r.clearTimeout($t.w),$t.w=null)}function Gn($t){return $t.a?$t.a.readyState:0}function zn($t,ln){if($t.a&&Gn($t)==4)return($t=$t.a.getResponseHeader(ln))===null?void 0:$t}function Er($t,ln){return ln+" ["+$t.P+" "+$t.v+" "+$t.getStatus()+"]"}(nt=Ko.prototype).T=function(){vt!==void 0&&this.a&&(this.l="Timed out after "+this.h+"ms, aborting",this.g=8,Hr(this.b,Er(this,this.l)),On(this,"timeout"),this.abort(8))},nt.abort=function($t){this.a&&this.c&&(Hr(this.b,Er(this,"Aborting")),this.c=!1,this.i=!0,this.a.abort(),this.i=!1,this.g=$t||7,On(this,"complete"),On(this,"abort"),yn(this))},nt.R=function(){this.K||(this.N||this.s||this.i?vn(this):this.W())},nt.W=function(){vn(this)},nt.getStatus=function(){try{return 2<Gn(this)?this.a.status:-1}catch{return-1}};var yr={},Rr=null;function kr($t){var ln=$t.length,En=3*ln/4;En%3?En=Math.floor(En):Zt("=.",$t[ln-1])&&(En=Zt("=.",$t[ln-2])?En-2:En-1);var Cn=new Uint8Array(En),Jn=0;return function(tr,Pn){function Yn(Ro){for(;lr<tr.length;){var Uo=tr.charAt(lr++),qr=Rr[Uo];if(qr!=null)return qr;if(!/^[\s\xa0]*$/.test(Uo))throw Error("Unknown base64 encoding at char: "+Uo)}return Ro}hr();for(var lr=0;;){var wr=Yn(-1),Pr=Yn(0),eo=Yn(64),go=Yn(64);if(go===64&&wr===-1)break;Pn(wr<<2|Pr>>4),eo!=64&&(Pn(Pr<<4&240|eo>>2),go!=64&&Pn(eo<<6&192|go))}}($t,function(tr){Cn[Jn++]=tr}),Cn.subarray(0,Jn)}function hr(){if(!Rr){Rr={};for(var $t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ln=["+/=","+/","-_=","-_.","-_"],En=0;5>En;En++){var Cn=$t.concat(ln[En].split(""));yr[En]=Cn;for(var Jn=0;Jn<Cn.length;Jn++){var tr=Cn[Jn];Rr[tr]===void 0&&(Rr[tr]=Jn)}}}}var br=["content-type","grpc-status","grpc-message"];function Tr($t){this.a=$t.Z,this.m=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.l=!1,this.i=0,this.s=new qt;var ln=this;Kn(this.a,"readystatechange",function(){var En=ln.a;if(En=En.a?En.a.getResponseHeader("Content-Type"):null){if((En=En.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){En=ln.a;try{var Cn=En.a?En.a.responseText:""}catch(lr){Hr(En.b,"Can not get responseText: "+lr.message),Cn=""}if(Cn=(En=Cn||"").length-En.length%4,(En=En.substr(ln.i,Cn-ln.i)).length==0)return;ln.i=Cn,En=kr(En)}else{if(En.lastIndexOf("application/grpc",0)!=0)return void Nr(ln,new Ot(2,"Unknown Content-type received."));En=new Uint8Array(function(lr){try{if(!lr.a)return null;if("response"in lr.a)return lr.a.response;switch(lr.m){case Fs:case"text":return lr.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in lr.a)return lr.a.mozResponseArrayBuffer}var wr=lr.b;return wr&&bo(wr,cr,"Response type "+lr.m+" is not supported on this browser"),null}catch(Pr){return Hr(lr.b,"Can not get response: "+Pr.message),null}}(ln.a))}Cn=null;try{Cn=function(lr,wr){function Pr(Ho){qr.f++,qr.a=(qr.a<<8)+Ho,qr.f==4&&(qr.b=Lt,qr.g=0,typeof Uint8Array<"u"?qr.c=new Uint8Array(qr.a):qr.c=Array(qr.a),qr.a==0&&go())}function eo(Ho){qr.c[qr.g++]=Ho,qr.g==qr.a&&go()}function go(){var Ho={};Ho[qr.h]=qr.c,qr.i.push(Ho),qr.b=Ht}var Ro,Uo,qr=lr,Mo=0;for(Ro=wr instanceof Uint8Array||wr instanceof Array?wr:new Uint8Array(wr);Mo<Ro.length;){switch(qr.b){case Pt:tn(qr,Ro,Mo,"stream already broken");break;case Ht:(Uo=Ro[Mo])==kt||Uo==zt?qr.h=Uo:tn(qr,Ro,Mo,"invalid frame byte"),qr.b=Xt,qr.a=0,qr.f=0;break;case Xt:Pr(Ro[Mo]);break;case Lt:eo(Ro[Mo]);break;default:throw Error("unexpected parser state: "+qr.b)}qr.m++,Mo++}return lr=qr.i,qr.i=[],0<lr.length?lr:null}(ln.s,En)}catch{Nr(ln,new Ot(2,"Error in parsing response body"))}if(Cn)for(En=0;En<Cn.length;En++){if(kt in Cn[En]){var Jn=Cn[En][kt];if(Jn){var tr=!1,Pn=void 0;try{Pn=ln.m(Jn),tr=!0}catch(lr){Nr(ln,new Ot(13,"Error when deserializing response data; error: "+lr+", response: "+Pn))}if(tr)for(Jn=Pn,tr=0;tr<ln.b.length;tr++)ln.b[tr](Jn)}}if(zt in Cn[En]&&0<Cn[En][zt].length){for(Jn="",tr=0;tr<Cn[En][zt].length;tr++)Jn+=String.fromCharCode(Cn[En][zt][tr]);for(Jn=Jn.trim().split(`\r
`),tr={},Pn=0;Pn<Jn.length;Pn++){var Yn=Jn[Pn].indexOf(":");tr[Jn[Pn].substring(0,Yn).trim()]=Jn[Pn].substring(Yn+1).trim()}Jn=tr,tr=0,Pn="","grpc-status"in Jn&&(tr=Number(Jn["grpc-status"]),delete Jn["grpc-status"]),"grpc-message"in Jn&&(Pn=Jn["grpc-message"],delete Jn["grpc-message"]),Nr(ln,new Ot(tr,Pn,Jn))}}}}),Kn(this.a,"complete",function(){var En=ln.a.g,Cn=2,Jn="",tr={},Pn=function(lr){var wr={};lr=(lr.a&&Gn(lr)==4&&lr.a.getAllResponseHeaders()||"").split(`\r
`);for(var Pr=0;Pr<lr.length;Pr++)if(!/^[\s\xa0]*$/.test(lr[Pr])){var eo=bn(lr[Pr]),go=eo[0];if(typeof(eo=eo[1])=="string"){eo=eo.trim();var Ro=wr[go]||[];wr[go]=Ro,Ro.push(eo)}}return function(Uo,qr){var Mo,Ho={};for(Mo in Uo)Ho[Mo]=qr.call(void 0,Uo[Mo],Mo,Uo);return Ho}(wr,function(Uo){return Uo.join(", ")})}(ln.a);Object.keys(Pn).forEach(function(lr){br.includes(lr)||(tr[lr]=Pn[lr])}),function(lr,wr){for(var Pr=0;Pr<lr.g.length;Pr++)lr.g[Pr](wr)}(ln,tr);var Yn=-1;if(En!=0){switch(En){case 7:Cn=10;break;case 8:Cn=4;break;case 6:Cn=function(lr){switch(lr){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(Yn=ln.a.getStatus());break;default:Cn=14}Cn==10&&ln.l||(Jn=function(lr){switch(lr){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}(En),Yn!=-1&&(Jn+=", http status code: "+Yn),Nr(ln,new Ot(Cn,Jn)))}else Yn=!1,"grpc-status"in Pn&&(Cn=Number(zn(ln.a,"grpc-status")),"grpc-message"in Pn&&(Jn=zn(ln.a,"grpc-message")),Cn!=0&&(Nr(ln,new Ot(Cn,Jn||"",Pn)),Yn=!0)),Yn||function(lr){for(var wr=0;wr<lr.c.length;wr++)lr.c[wr]()}(ln)})}function Lr($t,ln){-1<(ln=$t.indexOf(ln))&&$t.splice(ln,1)}function Nr($t,ln){if(ln.code!=0)for(var En=new Ot(ln.code,decodeURIComponent(ln.message||""),ln.metadata),Cn=0;Cn<$t.f.length;Cn++)$t.f[Cn](En);for(ln={code:ln.code,details:decodeURIComponent(ln.message||""),metadata:ln.metadata},En=0;En<$t.h.length;En++)$t.h[En](ln)}function uo($t,ln){$t=$t===void 0?{}:$t,this.a=$t.format||wt("format",$t)||"text",this.g=$t.aa||wt("suppressCorsPreflight",$t)||!1,this.f=$t.withCredentials||wt("withCredentials",$t)||!1,this.b=$t.$||wt("streamInterceptors",$t)||[],this.h=$t.ba||wt("unaryInterceptors",$t)||[],this.c=ln||null}function po($t,ln,En){var Cn=ln.getMethodDescriptor(),Jn=En+Cn.getName();(En=$t.c?$t.c:new Ko).M=$t.f;var tr=new Tr({Z:En});tr.m=Cn.b;var Pn=ln.getMetadata();for(Yn in Pn)En.headers.set(Yn,Pn[Yn]);if($t.a=="text"?(En.headers.set("Content-Type","application/grpc-web-text"),En.headers.set("Accept","application/grpc-web-text")):En.headers.set("Content-Type","application/grpc-web+proto"),En.headers.set("X-User-Agent","grpc-web-javascript/0.1"),En.headers.set("X-Grpc-Web","1"),En.headers.has("deadline")){var Yn=Number(En.headers.get("deadline"));Yn=Math.ceil(Yn-new Date().getTime()),En.headers.delete("deadline"),1/0===Yn&&(Yn=0),0<Yn&&(En.headers.set("grpc-timeout",Yn+"m"),En.h=Math.max(0,Math.max(1e3,Math.ceil(1.1*Yn))))}if($t.g){Yn={};for(var lr=dt((Pn=En.headers).keys()),wr=lr.next();!wr.done;wr=lr.next())Yn[wr=wr.value]=Pn.get(wr);En.headers.clear();e:{for(Pr in Yn){var Pr=!1;break e}Pr=!0}Pr||(Yn=function(Ro){var Uo="";return function(qr,Mo){for(var Ho in qr)Mo.call(void 0,qr[Ho],Ho,qr)}(Ro,function(qr,Mo){Uo+=Mo,Uo+=":",Uo+=qr,Uo+=`\r
`}),Uo}(Yn),typeof Jn=="string"?(Pr=encodeURIComponent("$httpHeaders"),(Pr+=Yn=Yn!=null?"="+encodeURIComponent(String(Yn)):"")&&(0>(Yn=Jn.indexOf("#"))&&(Yn=Jn.length),0>(Pn=Jn.indexOf("?"))||Pn>Yn?(Pn=Yn,lr=""):lr=Jn.substring(Pn+1,Yn),Yn=(Jn=[Jn.substr(0,Pn),lr,Jn.substr(Yn)])[1],Jn[1]=Pr?Yn?Yn+"&"+Pr:Pr:Yn,Jn=Jn[0]+(Jn[1]?"?"+Jn[1]:"")+Jn[2])):Jn.a("$httpHeaders",Yn))}for(Cn=(ln=(0,Cn.a)(ln.getRequestMessage())).length,Pr=[0,0,0,0],Yn=new Uint8Array(5+Cn),Pn=3;0<=Pn;Pn--)Pr[Pn]=Cn%256,Cn>>>=8;if(Yn.set(new Uint8Array(Pr),1),Yn.set(ln,5),ln=Yn,$t.a=="text"){var eo;for($t=ln,eo===void 0&&(eo=0),hr(),eo=yr[eo],ln=Array(Math.floor($t.length/3)),Cn=eo[64]||"",Pr=Yn=0;Yn<$t.length-2;Yn+=3){wr=$t[Yn];var go=$t[Yn+1];lr=$t[Yn+2],Pn=eo[wr>>2],wr=eo[(3&wr)<<4|go>>4],go=eo[(15&go)<<2|lr>>6],lr=eo[63&lr],ln[Pr++]=Pn+wr+go+lr}switch(Pn=0,lr=Cn,$t.length-Yn){case 2:lr=eo[(15&(Pn=$t[Yn+1]))<<2]||Cn;case 1:$t=$t[Yn],ln[Pr]=eo[$t>>2]+eo[(3&$t)<<4|Pn>>4]+lr+Cn}ln=ln.join("")}else $t.a=="binary"&&(En.m="arraybuffer");return Ms(En,Jn,ln),tr}function to($t,ln,En){var Cn=!1,Jn=null,tr=!1;$t.on("data",function(Pn){Cn=!0,Jn=Pn}),$t.on("error",function(Pn){Pn.code==0||tr||(tr=!0,ln(Pn,null))}),$t.on("status",function(Pn){Pn.code==0||tr?En&&ln(null,null,Pn):(tr=!0,ln({code:Pn.code,message:Pn.details,metadata:Pn.metadata},null))}),En&&$t.on("metadata",function(Pn){ln(null,null,null,Pn)}),$t.on("end",function(){tr||(Cn?En?ln(null,Jn,null,null,!0):ln(null,Jn):ln({code:2,message:"Incomplete response"})),En&&ln(null,null)})}function fo($t,ln){var En=$t;return ln.forEach(function(Cn){var Jn=En;En=function(tr){return Cn.intercept(tr,Jn)}}),En}Tr.prototype.on=function($t,ln){return $t=="data"?this.b.push(ln):$t=="status"?this.h.push(ln):$t=="metadata"?this.g.push(ln):$t=="end"?this.c.push(ln):$t=="error"&&this.f.push(ln),this},Tr.prototype.removeListener=function($t,ln){return $t=="data"?Lr(this.b,ln):$t=="status"?Lr(this.h,ln):$t=="metadata"?Lr(this.g,ln):$t=="end"?Lr(this.c,ln):$t=="error"&&Lr(this.f,ln),this},Tr.prototype.cancel=function(){this.l=!0,this.a.abort()},Tr.prototype.cancel=Tr.prototype.cancel,Tr.prototype.removeListener=Tr.prototype.removeListener,Tr.prototype.on=Tr.prototype.on,uo.prototype.X=function($t,ln,En,Cn,Jn){var tr=this,Pn=$t.substr(0,$t.length-Cn.name.length);return to($t=fo(function(Yn){return po(tr,Yn,Pn)},this.b).call(this,At(Cn,ln,En)),Jn,!1),new Vt($t)},uo.prototype.S=function($t,ln,En,Cn){var Jn=this,tr=$t.substr(0,$t.length-Cn.name.length);return fo(function(Pn){return new Promise(function(Yn,lr){var wr,Pr,eo;to(po(Jn,Pn,tr),function(go,Ro,Uo,qr,Mo){go?lr(go):Mo?eo=Ro:Uo?Pr=Uo:qr?wr=qr:(go=Pn.getMethodDescriptor(),Yn(new Mt(eo,go,Ro=(Ro=wr)===void 0?{}:Ro,Pr===void 0?null:Pr)))},!0)})},this.h).call(this,At(Cn,ln,En)).then(function(Pn){return Pn.getResponseMessage()})},uo.prototype.unaryCall=function($t,ln,En,Cn){return this.S($t,ln,En,Cn)},uo.prototype.Y=function($t,ln,En,Cn){var Jn=this,tr=$t.substr(0,$t.length-Cn.name.length);return fo(function(Pn){return po(Jn,Pn,tr)},this.b).call(this,At(Cn,ln,En))},uo.prototype.serverStreaming=uo.prototype.Y,uo.prototype.unaryCall=uo.prototype.unaryCall,uo.prototype.thenableCall=uo.prototype.S,uo.prototype.rpcCall=uo.prototype.X,s.exports.CallOptions=Bt,s.exports.MethodDescriptor=Nt,s.exports.GrpcWebClientBase=uo,s.exports.RpcError=Ot,s.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},s.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming",BIDI_STREAMING:"bidi_streaming"},_r=typeof globalThis<"u"&&globalThis||self}).call(this,et(6))},function(s,o,et){var tt=et(57),nt=et(60).warn;o.version=et(136).version,o.transports=et(137),o.config=et(49),o.addColors=tt.levels,o.format=tt.format,o.createLogger=et(87),o.ExceptionHandler=et(88),o.RejectionHandler=et(92),o.Container=et(215),o.Transport=et(14),o.loggers=new o.Container;var rt=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(it){return o[it]=function(){return rt[it].apply(rt,arguments)}}),Object.defineProperty(o,"level",{get:function(){return rt.level},set:function(it){rt.level=it}}),Object.defineProperty(o,"exceptions",{get:function(){return rt.exceptions}}),["exitOnError"].forEach(function(it){Object.defineProperty(o,it,{get:function(){return rt[it]},set:function(ot){rt[it]=ot}})}),Object.defineProperty(o,"default",{get:function(){return{exceptionHandlers:rt.exceptionHandlers,rejectionHandlers:rt.rejectionHandlers,transports:rt.transports}}}),nt.deprecated(o,"setLevels"),nt.forFunctions(o,"useFormat",["cli"]),nt.forProperties(o,"useFormat",["padLevels","stripColors"]),nt.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),nt.forProperties(o,"deprecated",["emitErrs","levelLength"]),nt.moved(o,"createLogger","Logger")},function(s,o,et){(function(tt){var nt=tt!==void 0&&tt||typeof self<"u"&&self||window,rt=Function.prototype.apply;function it(ot,st){this._id=ot,this._clearFn=st}o.setTimeout=function(){return new it(rt.call(setTimeout,nt,arguments),clearTimeout)},o.setInterval=function(){return new it(rt.call(setInterval,nt,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(ot){ot&&ot.close()},it.prototype.unref=it.prototype.ref=function(){},it.prototype.close=function(){this._clearFn.call(nt,this._id)},o.enroll=function(ot,st){clearTimeout(ot._idleTimeoutId),ot._idleTimeout=st},o.unenroll=function(ot){clearTimeout(ot._idleTimeoutId),ot._idleTimeout=-1},o._unrefActive=o.active=function(ot){clearTimeout(ot._idleTimeoutId);var st=ot._idleTimeout;st>=0&&(ot._idleTimeoutId=setTimeout(function(){ot._onTimeout&&ot._onTimeout()},st))},et(139),o.setImmediate=typeof self<"u"&&self.setImmediate||tt!==void 0&&tt.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self<"u"&&self.clearImmediate||tt!==void 0&&tt.clearImmediate||this&&this.clearImmediate}).call(this,et(6))},function(s,o,et){var tt,nt=typeof Reflect=="object"?Reflect:null,rt=nt&&typeof nt.apply=="function"?nt.apply:function(yt,mt,Ft){return Function.prototype.apply.call(yt,mt,Ft)};tt=nt&&typeof nt.ownKeys=="function"?nt.ownKeys:Object.getOwnPropertySymbols?function(yt){return Object.getOwnPropertyNames(yt).concat(Object.getOwnPropertySymbols(yt))}:function(yt){return Object.getOwnPropertyNames(yt)};var it=Number.isNaN||function(yt){return yt!=yt};function ot(){ot.init.call(this)}s.exports=ot,s.exports.once=function(yt,mt){return new Promise(function(Ft,vt){function Et(It){yt.removeListener(mt,wt),vt(It)}function wt(){typeof yt.removeListener=="function"&&yt.removeListener("error",Et),Ft([].slice.call(arguments))}ft(yt,mt,wt,{once:!0}),mt!=="error"&&function(It,St,Rt){typeof It.on=="function"&&ft(It,"error",St,Rt)}(yt,Et,{once:!0})})},ot.EventEmitter=ot,ot.prototype._events=void 0,ot.prototype._eventsCount=0,ot.prototype._maxListeners=void 0;var st=10;function at(yt){if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt)}function lt(yt){return yt._maxListeners===void 0?ot.defaultMaxListeners:yt._maxListeners}function ct(yt,mt,Ft,vt){var Et,wt,It,St;if(at(Ft),(wt=yt._events)===void 0?(wt=yt._events=Object.create(null),yt._eventsCount=0):(wt.newListener!==void 0&&(yt.emit("newListener",mt,Ft.listener?Ft.listener:Ft),wt=yt._events),It=wt[mt]),It===void 0)It=wt[mt]=Ft,++yt._eventsCount;else if(typeof It=="function"?It=wt[mt]=vt?[Ft,It]:[It,Ft]:vt?It.unshift(Ft):It.push(Ft),(Et=lt(yt))>0&&It.length>Et&&!It.warned){It.warned=!0;var Rt=new Error("Possible EventEmitter memory leak detected. "+It.length+" "+String(mt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Rt.name="MaxListenersExceededWarning",Rt.emitter=yt,Rt.type=mt,Rt.count=It.length,St=Rt,console&&console.warn&&console.warn(St)}return yt}function ut(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dt(yt,mt,Ft){var vt={fired:!1,wrapFn:void 0,target:yt,type:mt,listener:Ft},Et=ut.bind(vt);return Et.listener=Ft,vt.wrapFn=Et,Et}function ht(yt,mt,Ft){var vt=yt._events;if(vt===void 0)return[];var Et=vt[mt];return Et===void 0?[]:typeof Et=="function"?Ft?[Et.listener||Et]:[Et]:Ft?function(wt){for(var It=new Array(wt.length),St=0;St<It.length;++St)It[St]=wt[St].listener||wt[St];return It}(Et):gt(Et,Et.length)}function pt(yt){var mt=this._events;if(mt!==void 0){var Ft=mt[yt];if(typeof Ft=="function")return 1;if(Ft!==void 0)return Ft.length}return 0}function gt(yt,mt){for(var Ft=new Array(mt),vt=0;vt<mt;++vt)Ft[vt]=yt[vt];return Ft}function ft(yt,mt,Ft,vt){if(typeof yt.on=="function")vt.once?yt.once(mt,Ft):yt.on(mt,Ft);else{if(typeof yt.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof yt);yt.addEventListener(mt,function Et(wt){vt.once&&yt.removeEventListener(mt,Et),Ft(wt)})}}Object.defineProperty(ot,"defaultMaxListeners",{enumerable:!0,get:function(){return st},set:function(yt){if(typeof yt!="number"||yt<0||it(yt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+yt+".");st=yt}}),ot.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ot.prototype.setMaxListeners=function(yt){if(typeof yt!="number"||yt<0||it(yt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+yt+".");return this._maxListeners=yt,this},ot.prototype.getMaxListeners=function(){return lt(this)},ot.prototype.emit=function(yt){for(var mt=[],Ft=1;Ft<arguments.length;Ft++)mt.push(arguments[Ft]);var vt=yt==="error",Et=this._events;if(Et!==void 0)vt=vt&&Et.error===void 0;else if(!vt)return!1;if(vt){var wt;if(mt.length>0&&(wt=mt[0]),wt instanceof Error)throw wt;var It=new Error("Unhandled error."+(wt?" ("+wt.message+")":""));throw It.context=wt,It}var St=Et[yt];if(St===void 0)return!1;if(typeof St=="function")rt(St,this,mt);else{var Rt=St.length,Tt=gt(St,Rt);for(Ft=0;Ft<Rt;++Ft)rt(Tt[Ft],this,mt)}return!0},ot.prototype.addListener=function(yt,mt){return ct(this,yt,mt,!1)},ot.prototype.on=ot.prototype.addListener,ot.prototype.prependListener=function(yt,mt){return ct(this,yt,mt,!0)},ot.prototype.once=function(yt,mt){return at(mt),this.on(yt,dt(this,yt,mt)),this},ot.prototype.prependOnceListener=function(yt,mt){return at(mt),this.prependListener(yt,dt(this,yt,mt)),this},ot.prototype.removeListener=function(yt,mt){var Ft,vt,Et,wt,It;if(at(mt),(vt=this._events)===void 0)return this;if((Ft=vt[yt])===void 0)return this;if(Ft===mt||Ft.listener===mt)--this._eventsCount==0?this._events=Object.create(null):(delete vt[yt],vt.removeListener&&this.emit("removeListener",yt,Ft.listener||mt));else if(typeof Ft!="function"){for(Et=-1,wt=Ft.length-1;wt>=0;wt--)if(Ft[wt]===mt||Ft[wt].listener===mt){It=Ft[wt].listener,Et=wt;break}if(Et<0)return this;Et===0?Ft.shift():function(St,Rt){for(;Rt+1<St.length;Rt++)St[Rt]=St[Rt+1];St.pop()}(Ft,Et),Ft.length===1&&(vt[yt]=Ft[0]),vt.removeListener!==void 0&&this.emit("removeListener",yt,It||mt)}return this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.removeAllListeners=function(yt){var mt,Ft,vt;if((Ft=this._events)===void 0)return this;if(Ft.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ft[yt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Ft[yt]),this;if(arguments.length===0){var Et,wt=Object.keys(Ft);for(vt=0;vt<wt.length;++vt)(Et=wt[vt])!=="removeListener"&&this.removeAllListeners(Et);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(mt=Ft[yt])=="function")this.removeListener(yt,mt);else if(mt!==void 0)for(vt=mt.length-1;vt>=0;vt--)this.removeListener(yt,mt[vt]);return this},ot.prototype.listeners=function(yt){return ht(this,yt,!0)},ot.prototype.rawListeners=function(yt){return ht(this,yt,!1)},ot.listenerCount=function(yt,mt){return typeof yt.listenerCount=="function"?yt.listenerCount(mt):pt.call(yt,mt)},ot.prototype.listenerCount=pt,ot.prototype.eventNames=function(){return this._eventsCount>0?tt(this._events):[]}},function(s,o,et){var tt=et(147).Buffer,nt=tt.isEncoding||function(ht){switch((ht=""+ht)&&ht.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rt(ht){var pt;switch(this.encoding=function(gt){var ft=function(yt){if(!yt)return"utf8";for(var mt;;)switch(yt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return yt;default:if(mt)return;yt=(""+yt).toLowerCase(),mt=!0}}(gt);if(typeof ft!="string"&&(tt.isEncoding===nt||!nt(gt)))throw new Error("Unknown encoding: "+gt);return ft||gt}(ht),this.encoding){case"utf16le":this.text=st,this.end=at,pt=4;break;case"utf8":this.fillLast=ot,pt=4;break;case"base64":this.text=lt,this.end=ct,pt=3;break;default:return this.write=ut,void(this.end=dt)}this.lastNeed=0,this.lastTotal=0,this.lastChar=tt.allocUnsafe(pt)}function it(ht){return ht<=127?0:ht>>5==6?2:ht>>4==14?3:ht>>3==30?4:ht>>6==2?-1:-2}function ot(ht){var pt=this.lastTotal-this.lastNeed,gt=function(ft,yt,mt){if((192&yt[0])!=128)return ft.lastNeed=0,"�";if(ft.lastNeed>1&&yt.length>1){if((192&yt[1])!=128)return ft.lastNeed=1,"�";if(ft.lastNeed>2&&yt.length>2&&(192&yt[2])!=128)return ft.lastNeed=2,"�"}}(this,ht);return gt!==void 0?gt:this.lastNeed<=ht.length?(ht.copy(this.lastChar,pt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ht.copy(this.lastChar,pt,0,ht.length),void(this.lastNeed-=ht.length))}function st(ht,pt){if((ht.length-pt)%2==0){var gt=ht.toString("utf16le",pt);if(gt){var ft=gt.charCodeAt(gt.length-1);if(ft>=55296&&ft<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ht[ht.length-2],this.lastChar[1]=ht[ht.length-1],gt.slice(0,-1)}return gt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ht[ht.length-1],ht.toString("utf16le",pt,ht.length-1)}function at(ht){var pt=ht&&ht.length?this.write(ht):"";if(this.lastNeed){var gt=this.lastTotal-this.lastNeed;return pt+this.lastChar.toString("utf16le",0,gt)}return pt}function lt(ht,pt){var gt=(ht.length-pt)%3;return gt===0?ht.toString("base64",pt):(this.lastNeed=3-gt,this.lastTotal=3,gt===1?this.lastChar[0]=ht[ht.length-1]:(this.lastChar[0]=ht[ht.length-2],this.lastChar[1]=ht[ht.length-1]),ht.toString("base64",pt,ht.length-gt))}function ct(ht){var pt=ht&&ht.length?this.write(ht):"";return this.lastNeed?pt+this.lastChar.toString("base64",0,3-this.lastNeed):pt}function ut(ht){return ht.toString(this.encoding)}function dt(ht){return ht&&ht.length?this.write(ht):""}o.StringDecoder=rt,rt.prototype.write=function(ht){if(ht.length===0)return"";var pt,gt;if(this.lastNeed){if((pt=this.fillLast(ht))===void 0)return"";gt=this.lastNeed,this.lastNeed=0}else gt=0;return gt<ht.length?pt?pt+this.text(ht,gt):this.text(ht,gt):pt||""},rt.prototype.end=function(ht){var pt=ht&&ht.length?this.write(ht):"";return this.lastNeed?pt+"�":pt},rt.prototype.text=function(ht,pt){var gt=function(yt,mt,Ft){var vt=mt.length-1;if(vt<Ft)return 0;var Et=it(mt[vt]);return Et>=0?(Et>0&&(yt.lastNeed=Et-1),Et):--vt<Ft||Et===-2?0:(Et=it(mt[vt]))>=0?(Et>0&&(yt.lastNeed=Et-2),Et):--vt<Ft||Et===-2?0:(Et=it(mt[vt]))>=0?(Et>0&&(Et===2?Et=0:yt.lastNeed=Et-3),Et):0}(this,ht,pt);if(!this.lastNeed)return ht.toString("utf8",pt);this.lastTotal=gt;var ft=ht.length-(gt-this.lastNeed);return ht.copy(this.lastChar,0,ft),ht.toString("utf8",pt,ft)},rt.prototype.fillLast=function(ht){if(this.lastNeed<=ht.length)return ht.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ht.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ht.length),this.lastNeed-=ht.length}},function(s,o,et){var tt=et(37),nt=Object.keys||function(ht){var pt=[];for(var gt in ht)pt.push(gt);return pt};s.exports=ct;var rt=Object.create(et(32));rt.inherits=et(7);var it=et(69),ot=et(47);rt.inherits(ct,it);for(var st=nt(ot.prototype),at=0;at<st.length;at++){var lt=st[at];ct.prototype[lt]||(ct.prototype[lt]=ot.prototype[lt])}function ct(ht){if(!(this instanceof ct))return new ct(ht);it.call(this,ht),ot.call(this,ht),ht&&ht.readable===!1&&(this.readable=!1),ht&&ht.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ht&&ht.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ut)}function ut(){this.allowHalfOpen||this._writableState.ended||tt.nextTick(dt,this)}function dt(ht){ht.end()}Object.defineProperty(ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ct.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ht){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ht,this._writableState.destroyed=ht)}}),ct.prototype._destroy=function(ht,pt){this.push(null),this.end(),tt.nextTick(pt,ht)}},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.isAsyncIterable=o.isAsyncGenerator=o.isAsync=void 0;var tt,nt=et(155),rt=(tt=nt)&&tt.__esModule?tt:{default:tt};function it(ot){return ot[Symbol.toStringTag]==="AsyncFunction"}o.default=function(ot){if(typeof ot!="function")throw new Error("expected a function");return it(ot)?(0,rt.default)(ot):ot},o.isAsync=it,o.isAsyncGenerator=function(ot){return ot[Symbol.toStringTag]==="AsyncGenerator"},o.isAsyncIterable=function(ot){return typeof ot[Symbol.asyncIterator]=="function"}},function(s,o,et){var tt={};function nt(it,ot,st){st||(st=Error);var at=function(lt){var ct,ut;function dt(ht,pt,gt){return lt.call(this,function(ft,yt,mt){return typeof ot=="string"?ot:ot(ft,yt,mt)}(ht,pt,gt))||this}return ut=lt,(ct=dt).prototype=Object.create(ut.prototype),ct.prototype.constructor=ct,ct.__proto__=ut,dt}(st);at.prototype.name=st.name,at.prototype.code=it,tt[it]=at}function rt(it,ot){if(Array.isArray(it)){var st=it.length;return it=it.map(function(at){return String(at)}),st>2?"one of ".concat(ot," ").concat(it.slice(0,st-1).join(", "),", or ")+it[st-1]:st===2?"one of ".concat(ot," ").concat(it[0]," or ").concat(it[1]):"of ".concat(ot," ").concat(it[0])}return"of ".concat(ot," ").concat(String(it))}nt("ERR_INVALID_OPT_VALUE",function(it,ot){return'The value "'+ot+'" is invalid for option "'+it+'"'},TypeError),nt("ERR_INVALID_ARG_TYPE",function(it,ot,st){var at,lt,ct;if(typeof ot=="string"&&(lt="not ",ot.substr(0,lt.length)===lt)?(at="must not be",ot=ot.replace(/^not /,"")):at="must be",function(dt,ht,pt){return(pt===void 0||pt>dt.length)&&(pt=dt.length),dt.substring(pt-ht.length,pt)===ht}(it," argument"))ct="The ".concat(it," ").concat(at," ").concat(rt(ot,"type"));else{var ut=function(dt,ht,pt){return typeof pt!="number"&&(pt=0),!(pt+ht.length>dt.length)&&dt.indexOf(ht,pt)!==-1}(it,".")?"property":"argument";ct='The "'.concat(it,'" ').concat(ut," ").concat(at," ").concat(rt(ot,"type"))}return ct+=". Received type ".concat(typeof st)},TypeError),nt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),nt("ERR_METHOD_NOT_IMPLEMENTED",function(it){return"The "+it+" method is not implemented"}),nt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),nt("ERR_STREAM_DESTROYED",function(it){return"Cannot call "+it+" after a stream was destroyed"}),nt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),nt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),nt("ERR_STREAM_WRITE_AFTER_END","write after end"),nt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),nt("ERR_UNKNOWN_ENCODING",function(it){return"Unknown encoding: "+it},TypeError),nt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=tt},function(s,o,et){(function(tt){var nt=Object.keys||function(dt){var ht=[];for(var pt in dt)ht.push(pt);return ht};s.exports=lt;var rt=et(76),it=et(80);et(7)(lt,rt);for(var ot=nt(it.prototype),st=0;st<ot.length;st++){var at=ot[st];lt.prototype[at]||(lt.prototype[at]=it.prototype[at])}function lt(dt){if(!(this instanceof lt))return new lt(dt);rt.call(this,dt),it.call(this,dt),this.allowHalfOpen=!0,dt&&(dt.readable===!1&&(this.readable=!1),dt.writable===!1&&(this.writable=!1),dt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ct)))}function ct(){this._writableState.ended||tt.nextTick(ut,this)}function ut(dt){dt.end()}Object.defineProperty(lt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(lt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(lt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(dt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=dt,this._writableState.destroyed=dt)}})}).call(this,et(2))},function(s,o,et){et.d(o,"a",function(){return it});var tt=et(41),nt=et(3);const rt={"app-id":["app-id must match formant/*"]};class it extends tt.a{constructor(st,at={}){super(st,Object.assign({validateHeaders:lt=>(""+lt.get("app-id")).startsWith("formant/")?{}:rt},at)),this.endpoint=st}getHeaders(){return Object.assign(Object.assign({},it.headers),{"App-ID":"formant/"+nt.a,"App-Version":nt.k})}}it.headers={}},function(s,o,et){et(232),s.exports={encode:tt=>new TextEncoder().encode(tt),decode:tt=>new TextDecoder().decode(tt)}},function(s,o,et){et.d(o,"a",function(){return st});const tt=["query"],nt=["expected one of:","maybe you meant:","in query:","while processing query","column"],rt=["password","secret","token","key","buffer","authorization"],it=new Set(["email","firstName","lastName","phoneNumber","phoneNumbers"]),ot=at=>rt.some(lt=>at.toLowerCase().includes(lt.toLowerCase()))||it.has(at);function st(at,lt=new WeakSet){return lt.has(at)?"[ RECURSIVE ]":Array.isArray(at)?(lt.add(at),at.map(ut=>st(ut,lt))):!(ct=at)||typeof ct!="object"&&typeof ct!="function"?typeof at=="string"&&!nt.some(ut=>at.toLowerCase().includes(ut))&&ot(at)?"[ REDACTED ]":at:(lt.add(at),Object.keys(at).reduce((ut,dt)=>tt.includes(dt.toLowerCase())?(ut[dt]=at[dt],ut):(ut[dt]=ot(dt)?"[ REDACTED ]":st(at[dt],lt),ut),{}));var ct}},function(s,o,et){const{hasOwnProperty:tt}=Object.prototype,nt=yt();nt.configure=yt,nt.stringify=nt,nt.default=nt,o.stringify=nt,o.configure=yt,s.exports=nt;const rt=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,it=new RegExp(rt,"g"),ot=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function st(mt){if(mt.length===2){const vt=mt.charCodeAt(1);return`${mt[0]}\\u${vt.toString(16)}`}const Ft=mt.charCodeAt(0);return ot.length>Ft?ot[Ft]:"\\u"+Ft.toString(16)}function at(mt){if(mt.length<5e3&&!rt.test(mt))return mt;if(mt.length>100)return mt.replace(it,st);let Ft="",vt=0;for(let Et=0;Et<mt.length;Et++){const wt=mt.charCodeAt(Et);if(wt===34||wt===92||wt<32)Ft+=`${mt.slice(vt,Et)}${ot[wt]}`,vt=Et+1;else if(wt>=55296&&wt<=57343){if(wt<=56319&&Et+1<mt.length){const It=mt.charCodeAt(Et+1);if(It>=56320&&It<=57343){Et++;continue}}Ft+=`${mt.slice(vt,Et)}\\u${wt.toString(16)}`,vt=Et+1}}return Ft+=mt.slice(vt),Ft}function lt(mt){if(mt.length>200)return mt.sort();for(let Ft=1;Ft<mt.length;Ft++){const vt=mt[Ft];let Et=Ft;for(;Et!==0&&mt[Et-1]>vt;)mt[Et]=mt[Et-1],Et--;mt[Et]=vt}return mt}const ct=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function ut(mt){return ct.call(mt)!==void 0&&mt.length!==0}function dt(mt,Ft,vt){mt.length<vt&&(vt=mt.length);const Et=Ft===","?"":" ";let wt=`"0":${Et}${mt[0]}`;for(let It=1;It<vt;It++)wt+=`${Ft}"${It}":${Et}${mt[It]}`;return wt}function ht(mt,Ft){let vt;if(tt.call(mt,Ft)&&(vt=mt[Ft],typeof vt!="boolean"))throw new TypeError(`The "${Ft}" argument must be of type boolean`);return vt===void 0||vt}function pt(mt,Ft){let vt;if(tt.call(mt,Ft)){if(vt=mt[Ft],typeof vt!="number")throw new TypeError(`The "${Ft}" argument must be of type number`);if(!Number.isInteger(vt))throw new TypeError(`The "${Ft}" argument must be an integer`);if(vt<1)throw new RangeError(`The "${Ft}" argument must be >= 1`)}return vt===void 0?1/0:vt}function gt(mt){return mt===1?"1 item":mt+" items"}function ft(mt){const Ft=new Set;for(const vt of mt)typeof vt!="string"&&typeof vt!="number"||Ft.add(String(vt));return Ft}function yt(mt){const Ft=function(Bt){if(tt.call(Bt,"strict")){const Ct=Bt.strict;if(typeof Ct!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(Ct)return Mt=>{let Nt="Object can not safely be stringified. Received type "+typeof Mt;throw typeof Mt!="function"&&(Nt+=` (${Mt.toString()})`),new Error(Nt)}}}(mt={...mt});Ft&&(mt.bigint===void 0&&(mt.bigint=!1),"circularValue"in mt||(mt.circularValue=Error));const vt=function(Bt){if(tt.call(Bt,"circularValue")){const Ct=Bt.circularValue;if(typeof Ct=="string")return`"${Ct}"`;if(Ct==null)return Ct;if(Ct===Error||Ct===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(mt),Et=ht(mt,"bigint"),wt=ht(mt,"deterministic"),It=pt(mt,"maximumDepth"),St=pt(mt,"maximumBreadth");function Rt(Bt,Ct,Mt,Nt,At,Ot){let Vt=Ct[Bt];switch(typeof Vt=="object"&&Vt!==null&&typeof Vt.toJSON=="function"&&(Vt=Vt.toJSON(Bt)),Vt=Nt.call(Ct,Bt,Vt),typeof Vt){case"string":return`"${at(Vt)}"`;case"object":{if(Vt===null)return"null";if(Mt.indexOf(Vt)!==-1)return vt;let Wt="",Jt=",";const qt=Ot;if(Array.isArray(Vt)){if(Vt.length===0)return"[]";if(It<Mt.length+1)return'"[Array]"';Mt.push(Vt),At!==""&&(Wt+=`
`+(Ot+=At),Jt=`,
`+Ot);const zt=Math.min(Vt.length,St);let tn=0;for(;tn<zt-1;tn++){const en=Rt(tn,Vt,Mt,Nt,At,Ot);Wt+=en!==void 0?en:"null",Wt+=Jt}const Gt=Rt(tn,Vt,Mt,Nt,At,Ot);return Wt+=Gt!==void 0?Gt:"null",Vt.length-1>St&&(Wt+=`${Jt}"... ${gt(Vt.length-St-1)} not stringified"`),At!==""&&(Wt+=`
`+qt),Mt.pop(),`[${Wt}]`}let Ht=Object.keys(Vt);const Xt=Ht.length;if(Xt===0)return"{}";if(It<Mt.length+1)return'"[Object]"';let Lt="",Pt="";At!==""&&(Jt=`,
`+(Ot+=At),Lt=" ");let kt=Math.min(Xt,St);ut(Vt)&&(Wt+=dt(Vt,Jt,St),Ht=Ht.slice(Vt.length),kt-=Vt.length,Pt=Jt),wt&&(Ht=lt(Ht)),Mt.push(Vt);for(let zt=0;zt<kt;zt++){const tn=Ht[zt],Gt=Rt(tn,Vt,Mt,Nt,At,Ot);Gt!==void 0&&(Wt+=`${Pt}"${at(tn)}":${Lt}${Gt}`,Pt=Jt)}return Xt>St&&(Wt+=`${Pt}"...":${Lt}"${gt(Xt-St)} not stringified"`,Pt=Jt),At!==""&&Pt.length>1&&(Wt=`
${Ot}${Wt}
${qt}`),Mt.pop(),`{${Wt}}`}case"number":return isFinite(Vt)?String(Vt):Ft?Ft(Vt):"null";case"boolean":return Vt===!0?"true":"false";case"undefined":return;case"bigint":if(Et)return String(Vt);default:return Ft?Ft(Vt):void 0}}function Tt(Bt,Ct,Mt,Nt,At,Ot){switch(typeof Ct=="object"&&Ct!==null&&typeof Ct.toJSON=="function"&&(Ct=Ct.toJSON(Bt)),typeof Ct){case"string":return`"${at(Ct)}"`;case"object":{if(Ct===null)return"null";if(Mt.indexOf(Ct)!==-1)return vt;const Vt=Ot;let Wt="",Jt=",";if(Array.isArray(Ct)){if(Ct.length===0)return"[]";if(It<Mt.length+1)return'"[Array]"';Mt.push(Ct),At!==""&&(Wt+=`
`+(Ot+=At),Jt=`,
`+Ot);const Xt=Math.min(Ct.length,St);let Lt=0;for(;Lt<Xt-1;Lt++){const kt=Tt(Lt,Ct[Lt],Mt,Nt,At,Ot);Wt+=kt!==void 0?kt:"null",Wt+=Jt}const Pt=Tt(Lt,Ct[Lt],Mt,Nt,At,Ot);return Wt+=Pt!==void 0?Pt:"null",Ct.length-1>St&&(Wt+=`${Jt}"... ${gt(Ct.length-St-1)} not stringified"`),At!==""&&(Wt+=`
`+Vt),Mt.pop(),`[${Wt}]`}Mt.push(Ct);let qt="";At!==""&&(Jt=`,
`+(Ot+=At),qt=" ");let Ht="";for(const Xt of Nt){const Lt=Tt(Xt,Ct[Xt],Mt,Nt,At,Ot);Lt!==void 0&&(Wt+=`${Ht}"${at(Xt)}":${qt}${Lt}`,Ht=Jt)}return At!==""&&Ht.length>1&&(Wt=`
${Ot}${Wt}
${Vt}`),Mt.pop(),`{${Wt}}`}case"number":return isFinite(Ct)?String(Ct):Ft?Ft(Ct):"null";case"boolean":return Ct===!0?"true":"false";case"undefined":return;case"bigint":if(Et)return String(Ct);default:return Ft?Ft(Ct):void 0}}function bt(Bt,Ct,Mt,Nt,At){switch(typeof Ct){case"string":return`"${at(Ct)}"`;case"object":{if(Ct===null)return"null";if(typeof Ct.toJSON=="function"){if(typeof(Ct=Ct.toJSON(Bt))!="object")return bt(Bt,Ct,Mt,Nt,At);if(Ct===null)return"null"}if(Mt.indexOf(Ct)!==-1)return vt;const Ot=At;if(Array.isArray(Ct)){if(Ct.length===0)return"[]";if(It<Mt.length+1)return'"[Array]"';Mt.push(Ct);let Lt=`
`+(At+=Nt);const Pt=`,
`+At,kt=Math.min(Ct.length,St);let zt=0;for(;zt<kt-1;zt++){const Gt=bt(zt,Ct[zt],Mt,Nt,At);Lt+=Gt!==void 0?Gt:"null",Lt+=Pt}const tn=bt(zt,Ct[zt],Mt,Nt,At);return Lt+=tn!==void 0?tn:"null",Ct.length-1>St&&(Lt+=`${Pt}"... ${gt(Ct.length-St-1)} not stringified"`),Lt+=`
`+Ot,Mt.pop(),`[${Lt}]`}let Vt=Object.keys(Ct);const Wt=Vt.length;if(Wt===0)return"{}";if(It<Mt.length+1)return'"[Object]"';const Jt=`,
`+(At+=Nt);let qt="",Ht="",Xt=Math.min(Wt,St);ut(Ct)&&(qt+=dt(Ct,Jt,St),Vt=Vt.slice(Ct.length),Xt-=Ct.length,Ht=Jt),wt&&(Vt=lt(Vt)),Mt.push(Ct);for(let Lt=0;Lt<Xt;Lt++){const Pt=Vt[Lt],kt=bt(Pt,Ct[Pt],Mt,Nt,At);kt!==void 0&&(qt+=`${Ht}"${at(Pt)}": ${kt}`,Ht=Jt)}return Wt>St&&(qt+=`${Ht}"...": "${gt(Wt-St)} not stringified"`,Ht=Jt),Ht!==""&&(qt=`
${At}${qt}
${Ot}`),Mt.pop(),`{${qt}}`}case"number":return isFinite(Ct)?String(Ct):Ft?Ft(Ct):"null";case"boolean":return Ct===!0?"true":"false";case"undefined":return;case"bigint":if(Et)return String(Ct);default:return Ft?Ft(Ct):void 0}}function xt(Bt,Ct,Mt){switch(typeof Ct){case"string":return`"${at(Ct)}"`;case"object":{if(Ct===null)return"null";if(typeof Ct.toJSON=="function"){if(typeof(Ct=Ct.toJSON(Bt))!="object")return xt(Bt,Ct,Mt);if(Ct===null)return"null"}if(Mt.indexOf(Ct)!==-1)return vt;let Nt="";if(Array.isArray(Ct)){if(Ct.length===0)return"[]";if(It<Mt.length+1)return'"[Array]"';Mt.push(Ct);const Jt=Math.min(Ct.length,St);let qt=0;for(;qt<Jt-1;qt++){const Xt=xt(qt,Ct[qt],Mt);Nt+=Xt!==void 0?Xt:"null",Nt+=","}const Ht=xt(qt,Ct[qt],Mt);return Nt+=Ht!==void 0?Ht:"null",Ct.length-1>St&&(Nt+=`,"... ${gt(Ct.length-St-1)} not stringified"`),Mt.pop(),`[${Nt}]`}let At=Object.keys(Ct);const Ot=At.length;if(Ot===0)return"{}";if(It<Mt.length+1)return'"[Object]"';let Vt="",Wt=Math.min(Ot,St);ut(Ct)&&(Nt+=dt(Ct,",",St),At=At.slice(Ct.length),Wt-=Ct.length,Vt=","),wt&&(At=lt(At)),Mt.push(Ct);for(let Jt=0;Jt<Wt;Jt++){const qt=At[Jt],Ht=xt(qt,Ct[qt],Mt);Ht!==void 0&&(Nt+=`${Vt}"${at(qt)}":${Ht}`,Vt=",")}return Ot>St&&(Nt+=`${Vt}"...":"${gt(Ot-St)} not stringified"`),Mt.pop(),`{${Nt}}`}case"number":return isFinite(Ct)?String(Ct):Ft?Ft(Ct):"null";case"boolean":return Ct===!0?"true":"false";case"undefined":return;case"bigint":if(Et)return String(Ct);default:return Ft?Ft(Ct):void 0}}return function(Bt,Ct,Mt){if(arguments.length>1){let Nt="";if(typeof Mt=="number"?Nt=" ".repeat(Math.min(Mt,10)):typeof Mt=="string"&&(Nt=Mt.slice(0,10)),Ct!=null){if(typeof Ct=="function")return Rt("",{"":Bt},[],Ct,Nt,"");if(Array.isArray(Ct))return Tt("",Bt,[],ft(Ct),Nt,"")}if(Nt.length!==0)return bt("",Bt,[],Nt,"")}return xt("",Bt,[])}}},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt,nt=tt.length){if(!nt)throw new Error("arity is undefined");return function(...rt){return typeof rt[nt-1]=="function"?tt.apply(this,rt):new Promise((it,ot)=>{rt[nt-1]=(st,...at)=>{if(st)return ot(st);it(at.length>1?at:at[0])},tt.apply(this,rt)})}},s.exports=o.default},function(s,o,et){(o=s.exports=et(69)).Stream=o,o.Readable=o,o.Writable=et(47),o.Duplex=et(22),o.Transform=et(72),o.PassThrough=et(169)},function(s,o,et){(function(tt){function nt(rt){return Object.prototype.toString.call(rt)}o.isArray=function(rt){return Array.isArray?Array.isArray(rt):nt(rt)==="[object Array]"},o.isBoolean=function(rt){return typeof rt=="boolean"},o.isNull=function(rt){return rt===null},o.isNullOrUndefined=function(rt){return rt==null},o.isNumber=function(rt){return typeof rt=="number"},o.isString=function(rt){return typeof rt=="string"},o.isSymbol=function(rt){return typeof rt=="symbol"},o.isUndefined=function(rt){return rt===void 0},o.isRegExp=function(rt){return nt(rt)==="[object RegExp]"},o.isObject=function(rt){return typeof rt=="object"&&rt!==null},o.isDate=function(rt){return nt(rt)==="[object Date]"},o.isError=function(rt){return nt(rt)==="[object Error]"||rt instanceof Error},o.isFunction=function(rt){return typeof rt=="function"},o.isPrimitive=function(rt){return rt===null||typeof rt=="boolean"||typeof rt=="number"||typeof rt=="string"||typeof rt=="symbol"||rt===void 0},o.isBuffer=tt.isBuffer}).call(this,et(5).Buffer)},function(s,o,et){(o=s.exports=et(76)).Stream=o,o.Readable=o,o.Writable=et(80),o.Duplex=et(25),o.Transform=et(81),o.PassThrough=et(189),o.finished=et(48),o.pipeline=et(190)},function(s,o,et){s.exports=function(tt){return tt}},function(s,o,et){var tt={};function nt(it,ot,st){st||(st=Error);var at=function(lt){var ct,ut;function dt(ht,pt,gt){return lt.call(this,function(ft,yt,mt){return typeof ot=="string"?ot:ot(ft,yt,mt)}(ht,pt,gt))||this}return ut=lt,(ct=dt).prototype=Object.create(ut.prototype),ct.prototype.constructor=ct,ct.__proto__=ut,dt}(st);at.prototype.name=st.name,at.prototype.code=it,tt[it]=at}function rt(it,ot){if(Array.isArray(it)){var st=it.length;return it=it.map(function(at){return String(at)}),st>2?"one of ".concat(ot," ").concat(it.slice(0,st-1).join(", "),", or ")+it[st-1]:st===2?"one of ".concat(ot," ").concat(it[0]," or ").concat(it[1]):"of ".concat(ot," ").concat(it[0])}return"of ".concat(ot," ").concat(String(it))}nt("ERR_INVALID_OPT_VALUE",function(it,ot){return'The value "'+ot+'" is invalid for option "'+it+'"'},TypeError),nt("ERR_INVALID_ARG_TYPE",function(it,ot,st){var at,lt,ct;if(typeof ot=="string"&&(lt="not ",ot.substr(0,lt.length)===lt)?(at="must not be",ot=ot.replace(/^not /,"")):at="must be",function(dt,ht,pt){return(pt===void 0||pt>dt.length)&&(pt=dt.length),dt.substring(pt-ht.length,pt)===ht}(it," argument"))ct="The ".concat(it," ").concat(at," ").concat(rt(ot,"type"));else{var ut=function(dt,ht,pt){return typeof pt!="number"&&(pt=0),!(pt+ht.length>dt.length)&&dt.indexOf(ht,pt)!==-1}(it,".")?"property":"argument";ct='The "'.concat(it,'" ').concat(ut," ").concat(at," ").concat(rt(ot,"type"))}return ct+=". Received type ".concat(typeof st)},TypeError),nt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),nt("ERR_METHOD_NOT_IMPLEMENTED",function(it){return"The "+it+" method is not implemented"}),nt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),nt("ERR_STREAM_DESTROYED",function(it){return"Cannot call "+it+" after a stream was destroyed"}),nt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),nt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),nt("ERR_STREAM_WRITE_AFTER_END","write after end"),nt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),nt("ERR_UNKNOWN_ENCODING",function(it){return"Unknown encoding: "+it},TypeError),nt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=tt},function(s,o,et){(function(tt){var nt=Object.keys||function(dt){var ht=[];for(var pt in dt)ht.push(pt);return ht};s.exports=lt;var rt=et(143),it=et(61);et(7)(lt,rt);for(var ot=nt(it.prototype),st=0;st<ot.length;st++){var at=ot[st];lt.prototype[at]||(lt.prototype[at]=it.prototype[at])}function lt(dt){if(!(this instanceof lt))return new lt(dt);rt.call(this,dt),it.call(this,dt),this.allowHalfOpen=!0,dt&&(dt.readable===!1&&(this.readable=!1),dt.writable===!1&&(this.writable=!1),dt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ct)))}function ct(){this._writableState.ended||tt.nextTick(ut,this)}function ut(dt){dt.end()}Object.defineProperty(lt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(lt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(lt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(dt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=dt,this._writableState.destroyed=dt)}})}).call(this,et(2))},function(s,o,et){(function(tt){tt===void 0||!tt.version||tt.version.indexOf("v0.")===0||tt.version.indexOf("v1.")===0&&tt.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(nt,rt,it,ot){if(typeof nt!="function")throw new TypeError('"callback" argument must be a function');var st,at,lt=arguments.length;switch(lt){case 0:case 1:return tt.nextTick(nt);case 2:return tt.nextTick(function(){nt.call(null,rt)});case 3:return tt.nextTick(function(){nt.call(null,rt,it)});case 4:return tt.nextTick(function(){nt.call(null,rt,it,ot)});default:for(st=new Array(lt-1),at=0;at<st.length;)st[at++]=arguments[at];return tt.nextTick(function(){nt.apply(null,st)})}}}:s.exports=tt}).call(this,et(2))},function(s,o,et){var tt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function nt(ot,st){return Object.prototype.hasOwnProperty.call(ot,st)}o.assign=function(ot){for(var st=Array.prototype.slice.call(arguments,1);st.length;){var at=st.shift();if(at){if(typeof at!="object")throw new TypeError(at+"must be non-object");for(var lt in at)nt(at,lt)&&(ot[lt]=at[lt])}}return ot},o.shrinkBuf=function(ot,st){return ot.length===st?ot:ot.subarray?ot.subarray(0,st):(ot.length=st,ot)};var rt={arraySet:function(ot,st,at,lt,ct){if(st.subarray&&ot.subarray)ot.set(st.subarray(at,at+lt),ct);else for(var ut=0;ut<lt;ut++)ot[ct+ut]=st[at+ut]},flattenChunks:function(ot){var st,at,lt,ct,ut,dt;for(lt=0,st=0,at=ot.length;st<at;st++)lt+=ot[st].length;for(dt=new Uint8Array(lt),ct=0,st=0,at=ot.length;st<at;st++)ut=ot[st],dt.set(ut,ct),ct+=ut.length;return dt}},it={arraySet:function(ot,st,at,lt,ct){for(var ut=0;ut<lt;ut++)ot[ct+ut]=st[at+ut]},flattenChunks:function(ot){return[].concat.apply([],ot)}};o.setTyped=function(ot){ot?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,rt)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,it))},o.setTyped(tt)},function(s,o,et){s.exports=et(191)},function(s,o,et){function tt(nt){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt})(nt)}et.d(o,"a",function(){return tt})},function(s,o,et){et.d(o,"a",function(){return pt});var tt=et(99),nt=et.n(tt),rt=et(1);class it extends Error{constructor(ft,yt,mt){super("Connection failure: "+ft.message),this.cause=ft,this.url=yt,this.retryable=mt,this.name="ConnectionError",Object.setPrototypeOf(this,new.target.prototype)}}var ot=et(9),st=et(0),at=et(12),lt=et(11);class ct extends Error{constructor(ft,yt){super(`Invalid headers (${JSON.stringify(ft)}) for response: ${yt.message}`),this.validationErrors=ft,this.responseError=yt}}var ut=function(gt,ft,yt,mt){return new(yt||(yt=Promise))(function(Ft,vt){function Et(St){try{It(mt.next(St))}catch(Rt){vt(Rt)}}function wt(St){try{It(mt.throw(St))}catch(Rt){vt(Rt)}}function It(St){var Rt;St.done?Ft(St.value):(Rt=St.value,Rt instanceof yt?Rt:new yt(function(Tt){Tt(Rt)})).then(Et,wt)}It((mt=mt.apply(gt,ft||[])).next())})},dt=function(gt,ft){var yt={};for(var mt in gt)Object.prototype.hasOwnProperty.call(gt,mt)&&ft.indexOf(mt)<0&&(yt[mt]=gt[mt]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ft=0;for(mt=Object.getOwnPropertySymbols(gt);Ft<mt.length;Ft++)ft.indexOf(mt[Ft])<0&&Object.prototype.propertyIsEnumerable.call(gt,mt[Ft])&&(yt[mt[Ft]]=gt[mt[Ft]])}return yt};const ht=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class pt{constructor(ft,yt={}){if(this.endpoint=ft,this.validateHeaders=mt=>yt.validateHeaders?yt.validateHeaders(mt):{},this.verbose=yt.verbose!==!1,yt.retries!==void 0&&!(yt.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=yt.retries,yt.timeoutMs!==void 0&&!(yt.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=yt.timeoutMs,yt.maxBackoffDelayMs!==void 0&&!(yt.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=yt.maxBackoffDelayMs||30*rt.a.second,this.json=yt.json!==!1}getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}fetch(ft,yt={}){return ut(this,void 0,void 0,function*(){return(yield this.fetchVerbose(ft,yt)).body})}fetchVerbose(ft,yt={}){return ut(this,void 0,void 0,function*(){let mt=100*rt.a.millisecond,Ft=0;const vt=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,Et=vt?()=>Math.max(vt-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(ft,yt,Et)}catch(wt){const It=wt,St=Object(at.a)(It,it);if(Et?.()===0||Ft===this.getRetries()||!St.retryable)throw St;Ft++,mt=Math.min(...Et?[Et()]:[],mt*(2+.1*(Math.random()-.5)),this.maxBackoffDelayMs),yield Object(ot.a)(mt),this.verbose&&st.a.warn("Connection failure, retrying. Error: "+It.cause.message,{url:It.url,error:It.cause,attempt:Ft})}})}doFetch(ft,yt,mt){return ut(this,void 0,void 0,function*(){const{token:Ft,json:vt=this.json,allowUnsafeRetries:Et}=yt,wt=dt(yt,["token","json","allowUnsafeRetries"]),It=(wt.method||"GET").toUpperCase(),St=this.endpoint!==void 0?`${this.endpoint}${ft?"/"+ft:""}`:ft,Rt=new AbortController;let Tt;if(mt){const bt=mt();bt>0?Tt=setTimeout(()=>{Rt.abort()},bt):Rt.abort()}try{let bt;yield Promise.race([this.getConstructor().waitForConnectivity(),new Promise(Ot=>{bt=setTimeout(Ot,mt?Math.min(rt.a.minute,mt()):rt.a.minute)})]),bt&&clearTimeout(bt);const xt=yield nt()(St,Object.assign(Object.assign(Object.assign({},wt),wt.body!==void 0?{body:vt!==!1?JSON.stringify(wt.body):wt.body}:{}),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},vt!==!1?{"Content-Type":"application/json"}:{}),this.getHeaders()),wt.headers||{}),Ft!==void 0?{Authorization:"Bearer "+Ft}:{}),signal:Rt.signal})),Bt=xt.headers.get("content-type")||"",Ct=Bt&&Bt.startsWith("application/json"),Mt=Ct?yield xt.json():yield xt.text(),Nt=()=>new lt.a(It,St,wt.body,xt.status,xt.headers,Mt,Mt&&Mt.validationErrors||{});if(!xt.ok)throw this.verbose&&st.a[xt.status>=500?"warn":"info"]("Response error",{method:It,url:St,statusCode:xt.status}),Nt();const At=this.validateHeaders(xt.headers);if(Object.keys(At).length!==0)throw new ct(At,Nt());if(xt.status===204)return{body:void 0,headers:xt.headers};if(vt&&!Ct)throw new Error("Response is not JSON: "+JSON.stringify(Mt));return{body:Mt,headers:xt.headers}}catch(bt){const xt=bt,Bt=Et||ht.has(It);if(xt.message==="Network request failed")throw new it(xt,St,Bt);if(xt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(At=>At===xt.code))throw new it(xt,St,!0);if(xt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(At=>At===xt.code))throw new it(xt,St,Bt);if(xt.name==="AbortError")throw new it(xt,St,Bt);const Ct=Object(at.a)(xt,lt.a),{statusCode:Mt}=Ct;if(Mt===408||Mt===429||Mt===502||Mt===503||Mt===504)throw this.verbose&&!Bt&&st.a.warn("Potentially unsafe retry"),new it(xt,St,!0);if(Mt===500&&["/online-devices","/stream-current-value","/events/counts","/queries/queries"].some(At=>St.includes(At)))throw new it(xt,St,Bt);const Nt=this.validateHeaders(Ct.headers);throw Object.keys(Nt).length!==0?new ct(Nt,Ct):(yield this.getConstructor().onResponseError(Ct),xt)}finally{Tt&&clearTimeout(Tt)}})}getConstructor(){return Object.getPrototypeOf(this).constructor}}pt.retries=8,pt.waitForConnectivity=()=>ut(void 0,void 0,void 0,function*(){}),pt.onResponseError=()=>ut(void 0,void 0,void 0,function*(){})},function(s,o,et){function tt(ct,ut){if(!(ct instanceof ut))throw new TypeError("Cannot call a class as a function")}function nt(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ht.key,ht)}}var rt=et(58),it=et(4),ot=it.LEVEL,st=it.MESSAGE;rt.enabled=!0;var at=/\s+/,lt=function(){function ct(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(this,ct),pt.colors&&this.addColors(pt.colors),this.options=pt}var ut,dt,ht;return ut=ct,ht=[{key:"addColors",value:function(pt){var gt=Object.keys(pt).reduce(function(ft,yt){return ft[yt]=at.test(pt[yt])?pt[yt].split(at):pt[yt],ft},{});return ct.allColors=Object.assign({},ct.allColors||{},gt),ct.allColors}}],(dt=[{key:"addColors",value:function(pt){return ct.addColors(pt)}},{key:"colorize",value:function(pt,gt,ft){if(ft===void 0&&(ft=gt),!Array.isArray(ct.allColors[pt]))return rt[ct.allColors[pt]](ft);for(var yt=0,mt=ct.allColors[pt].length;yt<mt;yt++)ft=rt[ct.allColors[pt][yt]](ft);return ft}},{key:"transform",value:function(pt,gt){return gt.all&&typeof pt[st]=="string"&&(pt[st]=this.colorize(pt[ot],pt.level,pt[st])),(gt.level||gt.all||!gt.message)&&(pt.level=this.colorize(pt[ot],pt.level)),(gt.all||gt.message)&&(pt.message=this.colorize(pt[ot],pt.level,pt.message)),pt}}])&&nt(ut.prototype,dt),ht&&nt(ut,ht),Object.defineProperty(ut,"prototype",{writable:!1}),ct}();s.exports=function(ct){return new lt(ct)},s.exports.Colorizer=s.exports.Format=lt},function(s,o,et){(function(tt){function nt(rt){try{if(!tt.localStorage)return!1}catch{return!1}var it=tt.localStorage[rt];return it!=null&&String(it).toLowerCase()==="true"}s.exports=function(rt,it){if(nt("noDeprecation"))return rt;var ot=!1;return function(){if(!ot){if(nt("throwDeprecation"))throw new Error(it);nt("traceDeprecation")?console.trace(it):console.warn(it),ot=!0}return rt.apply(this,arguments)}}}).call(this,et(6))},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){return tt&&typeof tt.length=="number"&&tt.length>=0&&tt.length%1==0},s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default={},s.exports=o.default},function(s,o,et){var tt=et(5),nt=tt.Buffer;function rt(ot,st){for(var at in ot)st[at]=ot[at]}function it(ot,st,at){return nt(ot,st,at)}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?s.exports=tt:(rt(tt,o),o.Buffer=it),rt(nt,it),it.from=function(ot,st,at){if(typeof ot=="number")throw new TypeError("Argument must not be a number");return nt(ot,st,at)},it.alloc=function(ot,st,at){if(typeof ot!="number")throw new TypeError("Argument must be a number");var lt=nt(ot);return st!==void 0?typeof at=="string"?lt.fill(st,at):lt.fill(st):lt.fill(0),lt},it.allocUnsafe=function(ot){if(typeof ot!="number")throw new TypeError("Argument must be a number");return nt(ot)},it.allocUnsafeSlow=function(ot){if(typeof ot!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(ot)}},function(s,o,et){(function(tt,nt,rt){var it=et(37);function ot(Rt){var Tt=this;this.next=null,this.entry=null,this.finish=function(){(function(bt,xt,Bt){var Ct=bt.entry;for(bt.entry=null;Ct;){var Mt=Ct.callback;xt.pendingcb--,Mt(Bt),Ct=Ct.next}xt.corkedRequestsFree?xt.corkedRequestsFree.next=bt:xt.corkedRequestsFree=bt})(Tt,Rt)}}s.exports=mt;var st,at=!tt.browser&&["v0.10","v0.9."].indexOf(tt.version.slice(0,5))>-1?nt:it.nextTick;mt.WritableState=yt;var lt=Object.create(et(32));lt.inherits=et(7);var ct={deprecate:et(43)},ut=et(70),dt=et(46).Buffer,ht=rt.Uint8Array||function(){},pt,gt=et(71);function ft(){}function yt(Rt,Tt){st=st||et(22),Rt=Rt||{};var bt=Tt instanceof st;this.objectMode=!!Rt.objectMode,bt&&(this.objectMode=this.objectMode||!!Rt.writableObjectMode);var xt=Rt.highWaterMark,Bt=Rt.writableHighWaterMark,Ct=this.objectMode?16:16384;this.highWaterMark=xt||xt===0?xt:bt&&(Bt||Bt===0)?Bt:Ct,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Mt=Rt.decodeStrings===!1;this.decodeStrings=!Mt,this.defaultEncoding=Rt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Nt){(function(At,Ot){var Vt=At._writableState,Wt=Vt.sync,Jt=Vt.writecb;if(function(Ht){Ht.writing=!1,Ht.writecb=null,Ht.length-=Ht.writelen,Ht.writelen=0}(Vt),Ot)(function(Ht,Xt,Lt,Pt,kt){--Xt.pendingcb,Lt?(it.nextTick(kt,Pt),it.nextTick(St,Ht,Xt),Ht._writableState.errorEmitted=!0,Ht.emit("error",Pt)):(kt(Pt),Ht._writableState.errorEmitted=!0,Ht.emit("error",Pt),St(Ht,Xt))})(At,Vt,Wt,Ot,Jt);else{var qt=wt(Vt);qt||Vt.corked||Vt.bufferProcessing||!Vt.bufferedRequest||Et(At,Vt),Wt?at(vt,At,Vt,qt,Jt):vt(At,Vt,qt,Jt)}})(Tt,Nt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ot(this)}function mt(Rt){if(st=st||et(22),!(pt.call(mt,this)||this instanceof st))return new mt(Rt);this._writableState=new yt(Rt,this),this.writable=!0,Rt&&(typeof Rt.write=="function"&&(this._write=Rt.write),typeof Rt.writev=="function"&&(this._writev=Rt.writev),typeof Rt.destroy=="function"&&(this._destroy=Rt.destroy),typeof Rt.final=="function"&&(this._final=Rt.final)),ut.call(this)}function Ft(Rt,Tt,bt,xt,Bt,Ct,Mt){Tt.writelen=xt,Tt.writecb=Mt,Tt.writing=!0,Tt.sync=!0,bt?Rt._writev(Bt,Tt.onwrite):Rt._write(Bt,Ct,Tt.onwrite),Tt.sync=!1}function vt(Rt,Tt,bt,xt){bt||function(Bt,Ct){Ct.length===0&&Ct.needDrain&&(Ct.needDrain=!1,Bt.emit("drain"))}(Rt,Tt),Tt.pendingcb--,xt(),St(Rt,Tt)}function Et(Rt,Tt){Tt.bufferProcessing=!0;var bt=Tt.bufferedRequest;if(Rt._writev&&bt&&bt.next){var xt=Tt.bufferedRequestCount,Bt=new Array(xt),Ct=Tt.corkedRequestsFree;Ct.entry=bt;for(var Mt=0,Nt=!0;bt;)Bt[Mt]=bt,bt.isBuf||(Nt=!1),bt=bt.next,Mt+=1;Bt.allBuffers=Nt,Ft(Rt,Tt,!0,Tt.length,Bt,"",Ct.finish),Tt.pendingcb++,Tt.lastBufferedRequest=null,Ct.next?(Tt.corkedRequestsFree=Ct.next,Ct.next=null):Tt.corkedRequestsFree=new ot(Tt),Tt.bufferedRequestCount=0}else{for(;bt;){var At=bt.chunk,Ot=bt.encoding,Vt=bt.callback;if(Ft(Rt,Tt,!1,Tt.objectMode?1:At.length,At,Ot,Vt),bt=bt.next,Tt.bufferedRequestCount--,Tt.writing)break}bt===null&&(Tt.lastBufferedRequest=null)}Tt.bufferedRequest=bt,Tt.bufferProcessing=!1}function wt(Rt){return Rt.ending&&Rt.length===0&&Rt.bufferedRequest===null&&!Rt.finished&&!Rt.writing}function It(Rt,Tt){Rt._final(function(bt){Tt.pendingcb--,bt&&Rt.emit("error",bt),Tt.prefinished=!0,Rt.emit("prefinish"),St(Rt,Tt)})}function St(Rt,Tt){var bt=wt(Tt);return bt&&(function(xt,Bt){Bt.prefinished||Bt.finalCalled||(typeof xt._final=="function"?(Bt.pendingcb++,Bt.finalCalled=!0,it.nextTick(It,xt,Bt)):(Bt.prefinished=!0,xt.emit("prefinish")))}(Rt,Tt),Tt.pendingcb===0&&(Tt.finished=!0,Rt.emit("finish"))),bt}lt.inherits(mt,ut),yt.prototype.getBuffer=function(){for(var Rt=this.bufferedRequest,Tt=[];Rt;)Tt.push(Rt),Rt=Rt.next;return Tt},function(){try{Object.defineProperty(yt.prototype,"buffer",{get:ct.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(pt=Function.prototype[Symbol.hasInstance],Object.defineProperty(mt,Symbol.hasInstance,{value:function(Rt){return!!pt.call(this,Rt)||this===mt&&Rt&&Rt._writableState instanceof yt}})):pt=function(Rt){return Rt instanceof this},mt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},mt.prototype.write=function(Rt,Tt,bt){var xt,Bt=this._writableState,Ct=!1,Mt=!Bt.objectMode&&(xt=Rt,dt.isBuffer(xt)||xt instanceof ht);return Mt&&!dt.isBuffer(Rt)&&(Rt=function(Nt){return dt.from(Nt)}(Rt)),typeof Tt=="function"&&(bt=Tt,Tt=null),Mt?Tt="buffer":Tt||(Tt=Bt.defaultEncoding),typeof bt!="function"&&(bt=ft),Bt.ended?function(Nt,At){var Ot=new Error("write after end");Nt.emit("error",Ot),it.nextTick(At,Ot)}(this,bt):(Mt||function(Nt,At,Ot,Vt){var Wt=!0,Jt=!1;return Ot===null?Jt=new TypeError("May not write null values to stream"):typeof Ot=="string"||Ot===void 0||At.objectMode||(Jt=new TypeError("Invalid non-string/buffer chunk")),Jt&&(Nt.emit("error",Jt),it.nextTick(Vt,Jt),Wt=!1),Wt}(this,Bt,Rt,bt))&&(Bt.pendingcb++,Ct=function(Nt,At,Ot,Vt,Wt,Jt){if(!Ot){var qt=function(Pt,kt,zt){return Pt.objectMode||Pt.decodeStrings===!1||typeof kt!="string"||(kt=dt.from(kt,zt)),kt}(At,Vt,Wt);Vt!==qt&&(Ot=!0,Wt="buffer",Vt=qt)}var Ht=At.objectMode?1:Vt.length;At.length+=Ht;var Xt=At.length<At.highWaterMark;if(Xt||(At.needDrain=!0),At.writing||At.corked){var Lt=At.lastBufferedRequest;At.lastBufferedRequest={chunk:Vt,encoding:Wt,isBuf:Ot,callback:Jt,next:null},Lt?Lt.next=At.lastBufferedRequest:At.bufferedRequest=At.lastBufferedRequest,At.bufferedRequestCount+=1}else Ft(Nt,At,!1,Ht,Vt,Wt,Jt);return Xt}(this,Bt,Mt,Rt,Tt,bt)),Ct},mt.prototype.cork=function(){this._writableState.corked++},mt.prototype.uncork=function(){var Rt=this._writableState;Rt.corked&&(Rt.corked--,Rt.writing||Rt.corked||Rt.finished||Rt.bufferProcessing||!Rt.bufferedRequest||Et(this,Rt))},mt.prototype.setDefaultEncoding=function(Rt){if(typeof Rt=="string"&&(Rt=Rt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Rt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Rt);return this._writableState.defaultEncoding=Rt,this},Object.defineProperty(mt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),mt.prototype._write=function(Rt,Tt,bt){bt(new Error("_write() is not implemented"))},mt.prototype._writev=null,mt.prototype.end=function(Rt,Tt,bt){var xt=this._writableState;typeof Rt=="function"?(bt=Rt,Rt=null,Tt=null):typeof Tt=="function"&&(bt=Tt,Tt=null),Rt!=null&&this.write(Rt,Tt),xt.corked&&(xt.corked=1,this.uncork()),xt.ending||xt.finished||function(Bt,Ct,Mt){Ct.ending=!0,St(Bt,Ct),Mt&&(Ct.finished?it.nextTick(Mt):Bt.once("finish",Mt)),Ct.ended=!0,Bt.writable=!1}(this,xt,bt)},Object.defineProperty(mt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Rt){this._writableState&&(this._writableState.destroyed=Rt)}}),mt.prototype.destroy=gt.destroy,mt.prototype._undestroy=gt.undestroy,mt.prototype._destroy=function(Rt,Tt){this.end(),Tt(Rt)}}).call(this,et(2),et(19).setImmediate,et(6))},function(s,o,et){var tt=et(24).codes.ERR_STREAM_PREMATURE_CLOSE;function nt(){}s.exports=function rt(it,ot,st){if(typeof ot=="function")return rt(it,null,ot);ot||(ot={}),st=function(mt){var Ft=!1;return function(){if(!Ft){Ft=!0;for(var vt=arguments.length,Et=new Array(vt),wt=0;wt<vt;wt++)Et[wt]=arguments[wt];mt.apply(this,Et)}}}(st||nt);var at=ot.readable||ot.readable!==!1&&it.readable,lt=ot.writable||ot.writable!==!1&&it.writable,ct=function(){it.writable||dt()},ut=it._writableState&&it._writableState.finished,dt=function(){lt=!1,ut=!0,at||st.call(it)},ht=it._readableState&&it._readableState.endEmitted,pt=function(){at=!1,ht=!0,lt||st.call(it)},gt=function(mt){st.call(it,mt)},ft=function(){var mt;return at&&!ht?(it._readableState&&it._readableState.ended||(mt=new tt),st.call(it,mt)):lt&&!ut?(it._writableState&&it._writableState.ended||(mt=new tt),st.call(it,mt)):void 0},yt=function(){it.req.on("finish",dt)};return function(mt){return mt.setHeader&&typeof mt.abort=="function"}(it)?(it.on("complete",dt),it.on("abort",ft),it.req?yt():it.on("request",yt)):lt&&!it._writableState&&(it.on("end",ct),it.on("close",ct)),it.on("end",pt),it.on("finish",dt),ot.error!==!1&&it.on("error",gt),it.on("close",ft),function(){it.removeListener("complete",dt),it.removeListener("abort",ft),it.removeListener("request",yt),it.req&&it.req.removeListener("finish",dt),it.removeListener("end",ct),it.removeListener("close",ct),it.removeListener("finish",dt),it.removeListener("end",pt),it.removeListener("error",gt),it.removeListener("close",ft)}}},function(s,o,et){var tt=et(57),nt=et(4).configs;o.cli=tt.levels(nt.cli),o.npm=tt.levels(nt.npm),o.syslog=tt.levels(nt.syslog),o.addColors=tt.levels},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0});var tt=ot(et(208)),nt=ot(et(209)),rt=ot(et(23)),it=ot(et(30));function ot(st){return st&&st.__esModule?st:{default:st}}o.default=(0,it.default)(function(st,at,lt){return(0,tt.default)(st,(0,nt.default)((0,rt.default)(at)),lt)},3),s.exports=o.default},function(s,o,et){class tt extends Error{constructor(rt,...it){super("env-var: "+rt,...it),Error.captureStackTrace&&Error.captureStackTrace(this,tt),this.name="EnvVarError"}}s.exports=tt},function(s,o,et){s.exports=function(tt){const nt=parseInt(tt,10);if(isNaN(nt)||nt.toString(10)!==tt)throw new Error("should be a valid integer");return nt}},function(s,o,et){s.exports=function(tt){const nt=parseFloat(tt);if(isNaN(nt)||isNaN(tt))throw new Error("should be a valid float");return nt}},function(s,o,et){s.exports=function(tt){try{return JSON.parse(tt)}catch{throw new Error("should be valid (parseable) JSON")}}},function(s,o,et){(function(tt){function nt(ot,st){for(var at=0,lt=ot.length-1;lt>=0;lt--){var ct=ot[lt];ct==="."?ot.splice(lt,1):ct===".."?(ot.splice(lt,1),at++):at&&(ot.splice(lt,1),at--)}if(st)for(;at--;at)ot.unshift("..");return ot}function rt(ot,st){if(ot.filter)return ot.filter(st);for(var at=[],lt=0;lt<ot.length;lt++)st(ot[lt],lt,ot)&&at.push(ot[lt]);return at}o.resolve=function(){for(var ot="",st=!1,at=arguments.length-1;at>=-1&&!st;at--){var lt=at>=0?arguments[at]:tt.cwd();if(typeof lt!="string")throw new TypeError("Arguments to path.resolve must be strings");lt&&(ot=lt+"/"+ot,st=lt.charAt(0)==="/")}return(st?"/":"")+(ot=nt(rt(ot.split("/"),function(ct){return!!ct}),!st).join("/"))||"."},o.normalize=function(ot){var st=o.isAbsolute(ot),at=it(ot,-1)==="/";return(ot=nt(rt(ot.split("/"),function(lt){return!!lt}),!st).join("/"))||st||(ot="."),ot&&at&&(ot+="/"),(st?"/":"")+ot},o.isAbsolute=function(ot){return ot.charAt(0)==="/"},o.join=function(){var ot=Array.prototype.slice.call(arguments,0);return o.normalize(rt(ot,function(st,at){if(typeof st!="string")throw new TypeError("Arguments to path.join must be strings");return st}).join("/"))},o.relative=function(ot,st){function at(gt){for(var ft=0;ft<gt.length&&gt[ft]==="";ft++);for(var yt=gt.length-1;yt>=0&&gt[yt]==="";yt--);return ft>yt?[]:gt.slice(ft,yt-ft+1)}ot=o.resolve(ot).substr(1),st=o.resolve(st).substr(1);for(var lt=at(ot.split("/")),ct=at(st.split("/")),ut=Math.min(lt.length,ct.length),dt=ut,ht=0;ht<ut;ht++)if(lt[ht]!==ct[ht]){dt=ht;break}var pt=[];for(ht=dt;ht<lt.length;ht++)pt.push("..");return(pt=pt.concat(ct.slice(dt))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(ot){if(typeof ot!="string"&&(ot+=""),ot.length===0)return".";for(var st=ot.charCodeAt(0),at=st===47,lt=-1,ct=!0,ut=ot.length-1;ut>=1;--ut)if((st=ot.charCodeAt(ut))===47){if(!ct){lt=ut;break}}else ct=!1;return lt===-1?at?"/":".":at&&lt===1?"/":ot.slice(0,lt)},o.basename=function(ot,st){var at=function(lt){typeof lt!="string"&&(lt+="");var ct,ut=0,dt=-1,ht=!0;for(ct=lt.length-1;ct>=0;--ct)if(lt.charCodeAt(ct)===47){if(!ht){ut=ct+1;break}}else dt===-1&&(ht=!1,dt=ct+1);return dt===-1?"":lt.slice(ut,dt)}(ot);return st&&at.substr(-1*st.length)===st&&(at=at.substr(0,at.length-st.length)),at},o.extname=function(ot){typeof ot!="string"&&(ot+="");for(var st=-1,at=0,lt=-1,ct=!0,ut=0,dt=ot.length-1;dt>=0;--dt){var ht=ot.charCodeAt(dt);if(ht!==47)lt===-1&&(ct=!1,lt=dt+1),ht===46?st===-1?st=dt:ut!==1&&(ut=1):st!==-1&&(ut=-1);else if(!ct){at=dt+1;break}}return st===-1||lt===-1||ut===0||ut===1&&st===lt-1&&st===at+1?"":ot.slice(st,lt)};var it="ab".substr(-1)==="b"?function(ot,st,at){return ot.substr(st,at)}:function(ot,st,at){return st<0&&(st=ot.length+st),ot.substr(st,at)}}).call(this,et(2))},,function(s,o,et){var tt=o.format=et(8);o.levels=et(102),Object.defineProperty(tt,"align",{value:et(119)}),Object.defineProperty(tt,"cli",{value:et(120)}),Object.defineProperty(tt,"colorize",{value:et(42)}),Object.defineProperty(tt,"combine",{value:et(121)}),Object.defineProperty(tt,"errors",{value:et(122)}),Object.defineProperty(tt,"json",{value:et(123)}),Object.defineProperty(tt,"label",{value:et(124)}),Object.defineProperty(tt,"logstash",{value:et(125)}),Object.defineProperty(tt,"metadata",{value:et(126)}),Object.defineProperty(tt,"ms",{value:et(127)}),Object.defineProperty(tt,"padLevels",{value:et(59)}),Object.defineProperty(tt,"prettyPrint",{value:et(129)}),Object.defineProperty(tt,"printf",{value:et(130)}),Object.defineProperty(tt,"simple",{value:et(131)}),Object.defineProperty(tt,"splat",{value:et(132)}),Object.defineProperty(tt,"timestamp",{value:et(133)}),Object.defineProperty(tt,"uncolorize",{value:et(135)})},function(s,o,et){var tt=et(103);s.exports=tt},function(s,o,et){function tt(ut){return function(dt){if(Array.isArray(dt))return nt(dt)}(ut)||function(dt){if(typeof Symbol<"u"&&dt[Symbol.iterator]!=null||dt["@@iterator"]!=null)return Array.from(dt)}(ut)||function(dt,ht){if(dt){if(typeof dt=="string")return nt(dt,ht);var pt=Object.prototype.toString.call(dt).slice(8,-1);if(pt==="Object"&&dt.constructor&&(pt=dt.constructor.name),pt==="Map"||pt==="Set")return Array.from(dt);if(pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pt))return nt(dt,ht)}}(ut)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nt(ut,dt){(dt==null||dt>ut.length)&&(dt=ut.length);for(var ht=0,pt=new Array(dt);ht<dt;ht++)pt[ht]=ut[ht];return pt}function rt(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}function it(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var ot=et(4),st=ot.configs,at=ot.LEVEL,lt=ot.MESSAGE,ct=function(){function ut(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:st.npm.levels};rt(this,ut),this.paddings=ut.paddingForLevels(gt.levels,gt.filler),this.options=gt}var dt,ht,pt;return dt=ut,pt=[{key:"getLongestLevel",value:function(gt){var ft=Object.keys(gt).map(function(yt){return yt.length});return Math.max.apply(Math,tt(ft))}},{key:"paddingForLevel",value:function(gt,ft,yt){var mt=yt+1-gt.length,Ft=Math.floor(mt/ft.length);return"".concat(ft).concat(ft.repeat(Ft)).slice(0,mt)}},{key:"paddingForLevels",value:function(gt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",yt=ut.getLongestLevel(gt);return Object.keys(gt).reduce(function(mt,Ft){return mt[Ft]=ut.paddingForLevel(Ft,ft,yt),mt},{})}}],(ht=[{key:"transform",value:function(gt,ft){return gt.message="".concat(this.paddings[gt[at]]).concat(gt.message),gt[lt]&&(gt[lt]="".concat(this.paddings[gt[at]]).concat(gt[lt])),gt}}])&&it(dt.prototype,ht),pt&&it(dt,pt),Object.defineProperty(dt,"prototype",{writable:!1}),ut}();s.exports=function(ut){return new ct(ut)},s.exports.Padder=s.exports.Format=ct},function(s,o,et){var tt=et(13).format;o.warn={deprecated:function(nt){return function(){throw new Error(tt("{ %s } was removed in winston@3.0.0.",nt))}},useFormat:function(nt){return function(){throw new Error([tt("{ %s } was removed in winston@3.0.0.",nt),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(nt,rt,it){it.forEach(function(ot){nt[ot]=o.warn[rt](ot)})},moved:function(nt,rt,it){function ot(){return function(){throw new Error([tt("winston.%s was moved in winston@3.0.0.",it),tt("Use a winston.%s instead.",rt)].join(`
`))}}Object.defineProperty(nt,it,{get:ot,set:ot})},forProperties:function(nt,rt,it){it.forEach(function(ot){var st=o.warn[rt](ot);Object.defineProperty(nt,ot,{get:st,set:st})})}}},function(s,o,et){(function(tt,nt){function rt(Nt){var At=this;this.next=null,this.entry=null,this.finish=function(){(function(Ot,Vt,Wt){var Jt=Ot.entry;for(Ot.entry=null;Jt;){var qt=Jt.callback;Vt.pendingcb--,qt(Wt),Jt=Jt.next}Vt.corkedRequestsFree.next=Ot})(At,Nt)}}var it;s.exports=Rt,Rt.WritableState=St;var ot={deprecate:et(43)},st=et(62),at=et(5).Buffer,lt=(tt!==void 0?tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},ct,ut=et(63),dt=et(64).getHighWaterMark,ht=et(35).codes,pt=ht.ERR_INVALID_ARG_TYPE,gt=ht.ERR_METHOD_NOT_IMPLEMENTED,ft=ht.ERR_MULTIPLE_CALLBACK,yt=ht.ERR_STREAM_CANNOT_PIPE,mt=ht.ERR_STREAM_DESTROYED,Ft=ht.ERR_STREAM_NULL_VALUES,vt=ht.ERR_STREAM_WRITE_AFTER_END,Et=ht.ERR_UNKNOWN_ENCODING,wt=ut.errorOrDestroy;function It(){}function St(Nt,At,Ot){it=it||et(36),Nt=Nt||{},typeof Ot!="boolean"&&(Ot=At instanceof it),this.objectMode=!!Nt.objectMode,Ot&&(this.objectMode=this.objectMode||!!Nt.writableObjectMode),this.highWaterMark=dt(this,Nt,"writableHighWaterMark",Ot),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Vt=Nt.decodeStrings===!1;this.decodeStrings=!Vt,this.defaultEncoding=Nt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Wt){(function(Jt,qt){var Ht=Jt._writableState,Xt=Ht.sync,Lt=Ht.writecb;if(typeof Lt!="function")throw new ft;if(function(kt){kt.writing=!1,kt.writecb=null,kt.length-=kt.writelen,kt.writelen=0}(Ht),qt)(function(kt,zt,tn,Gt,en){--zt.pendingcb,tn?(nt.nextTick(en,Gt),nt.nextTick(Mt,kt,zt),kt._writableState.errorEmitted=!0,wt(kt,Gt)):(en(Gt),kt._writableState.errorEmitted=!0,wt(kt,Gt),Mt(kt,zt))})(Jt,Ht,Xt,qt,Lt);else{var Pt=Bt(Ht)||Jt.destroyed;Pt||Ht.corked||Ht.bufferProcessing||!Ht.bufferedRequest||xt(Jt,Ht),Xt?nt.nextTick(bt,Jt,Ht,Pt,Lt):bt(Jt,Ht,Pt,Lt)}})(At,Wt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Nt.emitClose!==!1,this.autoDestroy=!!Nt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new rt(this)}function Rt(Nt){var At=this instanceof(it=it||et(36));if(!At&&!ct.call(Rt,this))return new Rt(Nt);this._writableState=new St(Nt,this,At),this.writable=!0,Nt&&(typeof Nt.write=="function"&&(this._write=Nt.write),typeof Nt.writev=="function"&&(this._writev=Nt.writev),typeof Nt.destroy=="function"&&(this._destroy=Nt.destroy),typeof Nt.final=="function"&&(this._final=Nt.final)),st.call(this)}function Tt(Nt,At,Ot,Vt,Wt,Jt,qt){At.writelen=Vt,At.writecb=qt,At.writing=!0,At.sync=!0,At.destroyed?At.onwrite(new mt("write")):Ot?Nt._writev(Wt,At.onwrite):Nt._write(Wt,Jt,At.onwrite),At.sync=!1}function bt(Nt,At,Ot,Vt){Ot||function(Wt,Jt){Jt.length===0&&Jt.needDrain&&(Jt.needDrain=!1,Wt.emit("drain"))}(Nt,At),At.pendingcb--,Vt(),Mt(Nt,At)}function xt(Nt,At){At.bufferProcessing=!0;var Ot=At.bufferedRequest;if(Nt._writev&&Ot&&Ot.next){var Vt=At.bufferedRequestCount,Wt=new Array(Vt),Jt=At.corkedRequestsFree;Jt.entry=Ot;for(var qt=0,Ht=!0;Ot;)Wt[qt]=Ot,Ot.isBuf||(Ht=!1),Ot=Ot.next,qt+=1;Wt.allBuffers=Ht,Tt(Nt,At,!0,At.length,Wt,"",Jt.finish),At.pendingcb++,At.lastBufferedRequest=null,Jt.next?(At.corkedRequestsFree=Jt.next,Jt.next=null):At.corkedRequestsFree=new rt(At),At.bufferedRequestCount=0}else{for(;Ot;){var Xt=Ot.chunk,Lt=Ot.encoding,Pt=Ot.callback;if(Tt(Nt,At,!1,At.objectMode?1:Xt.length,Xt,Lt,Pt),Ot=Ot.next,At.bufferedRequestCount--,At.writing)break}Ot===null&&(At.lastBufferedRequest=null)}At.bufferedRequest=Ot,At.bufferProcessing=!1}function Bt(Nt){return Nt.ending&&Nt.length===0&&Nt.bufferedRequest===null&&!Nt.finished&&!Nt.writing}function Ct(Nt,At){Nt._final(function(Ot){At.pendingcb--,Ot&&wt(Nt,Ot),At.prefinished=!0,Nt.emit("prefinish"),Mt(Nt,At)})}function Mt(Nt,At){var Ot=Bt(At);if(Ot&&(function(Wt,Jt){Jt.prefinished||Jt.finalCalled||(typeof Wt._final!="function"||Jt.destroyed?(Jt.prefinished=!0,Wt.emit("prefinish")):(Jt.pendingcb++,Jt.finalCalled=!0,nt.nextTick(Ct,Wt,Jt)))}(Nt,At),At.pendingcb===0&&(At.finished=!0,Nt.emit("finish"),At.autoDestroy))){var Vt=Nt._readableState;(!Vt||Vt.autoDestroy&&Vt.endEmitted)&&Nt.destroy()}return Ot}et(7)(Rt,st),St.prototype.getBuffer=function(){for(var Nt=this.bufferedRequest,At=[];Nt;)At.push(Nt),Nt=Nt.next;return At},function(){try{Object.defineProperty(St.prototype,"buffer",{get:ot.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ct=Function.prototype[Symbol.hasInstance],Object.defineProperty(Rt,Symbol.hasInstance,{value:function(Nt){return!!ct.call(this,Nt)||this===Rt&&Nt&&Nt._writableState instanceof St}})):ct=function(Nt){return Nt instanceof this},Rt.prototype.pipe=function(){wt(this,new yt)},Rt.prototype.write=function(Nt,At,Ot){var Vt,Wt=this._writableState,Jt=!1,qt=!Wt.objectMode&&(Vt=Nt,at.isBuffer(Vt)||Vt instanceof lt);return qt&&!at.isBuffer(Nt)&&(Nt=function(Ht){return at.from(Ht)}(Nt)),typeof At=="function"&&(Ot=At,At=null),qt?At="buffer":At||(At=Wt.defaultEncoding),typeof Ot!="function"&&(Ot=It),Wt.ending?function(Ht,Xt){var Lt=new vt;wt(Ht,Lt),nt.nextTick(Xt,Lt)}(this,Ot):(qt||function(Ht,Xt,Lt,Pt){var kt;return Lt===null?kt=new Ft:typeof Lt=="string"||Xt.objectMode||(kt=new pt("chunk",["string","Buffer"],Lt)),!kt||(wt(Ht,kt),nt.nextTick(Pt,kt),!1)}(this,Wt,Nt,Ot))&&(Wt.pendingcb++,Jt=function(Ht,Xt,Lt,Pt,kt,zt){if(!Lt){var tn=function(Zt,dn,Fn){return Zt.objectMode||Zt.decodeStrings===!1||typeof dn!="string"||(dn=at.from(dn,Fn)),dn}(Xt,Pt,kt);Pt!==tn&&(Lt=!0,kt="buffer",Pt=tn)}var Gt=Xt.objectMode?1:Pt.length;Xt.length+=Gt;var en=Xt.length<Xt.highWaterMark;if(en||(Xt.needDrain=!0),Xt.writing||Xt.corked){var cn=Xt.lastBufferedRequest;Xt.lastBufferedRequest={chunk:Pt,encoding:kt,isBuf:Lt,callback:zt,next:null},cn?cn.next=Xt.lastBufferedRequest:Xt.bufferedRequest=Xt.lastBufferedRequest,Xt.bufferedRequestCount+=1}else Tt(Ht,Xt,!1,Gt,Pt,kt,zt);return en}(this,Wt,qt,Nt,At,Ot)),Jt},Rt.prototype.cork=function(){this._writableState.corked++},Rt.prototype.uncork=function(){var Nt=this._writableState;Nt.corked&&(Nt.corked--,Nt.writing||Nt.corked||Nt.bufferProcessing||!Nt.bufferedRequest||xt(this,Nt))},Rt.prototype.setDefaultEncoding=function(Nt){if(typeof Nt=="string"&&(Nt=Nt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Nt+"").toLowerCase())>-1))throw new Et(Nt);return this._writableState.defaultEncoding=Nt,this},Object.defineProperty(Rt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Rt.prototype._write=function(Nt,At,Ot){Ot(new gt("_write()"))},Rt.prototype._writev=null,Rt.prototype.end=function(Nt,At,Ot){var Vt=this._writableState;return typeof Nt=="function"?(Ot=Nt,Nt=null,At=null):typeof At=="function"&&(Ot=At,At=null),Nt!=null&&this.write(Nt,At),Vt.corked&&(Vt.corked=1,this.uncork()),Vt.ending||function(Wt,Jt,qt){Jt.ending=!0,Mt(Wt,Jt),qt&&(Jt.finished?nt.nextTick(qt):Wt.once("finish",qt)),Jt.ended=!0,Wt.writable=!1}(this,Vt,Ot),this},Object.defineProperty(Rt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Nt){this._writableState&&(this._writableState.destroyed=Nt)}}),Rt.prototype.destroy=ut.destroy,Rt.prototype._undestroy=ut.undestroy,Rt.prototype._destroy=function(Nt,At){At(Nt)}}).call(this,et(6),et(2))},function(s,o,et){s.exports=et(20).EventEmitter},function(s,o,et){(function(tt){function nt(ot,st){it(ot,st),rt(ot)}function rt(ot){ot._writableState&&!ot._writableState.emitClose||ot._readableState&&!ot._readableState.emitClose||ot.emit("close")}function it(ot,st){ot.emit("error",st)}s.exports={destroy:function(ot,st){var at=this,lt=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return lt||ct?(st?st(ot):ot&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,tt.nextTick(it,this,ot)):tt.nextTick(it,this,ot)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ut){!st&&ut?at._writableState?at._writableState.errorEmitted?tt.nextTick(rt,at):(at._writableState.errorEmitted=!0,tt.nextTick(nt,at,ut)):tt.nextTick(nt,at,ut):st?(tt.nextTick(rt,at),st(ut)):tt.nextTick(rt,at)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(ot,st){var at=ot._readableState,lt=ot._writableState;at&&at.autoDestroy||lt&&lt.autoDestroy?ot.destroy(st):ot.emit("error",st)}}}).call(this,et(2))},function(s,o,et){var tt=et(35).codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(nt,rt,it,ot){var st=function(at,lt,ct){return at.highWaterMark!=null?at.highWaterMark:lt?at[ct]:null}(rt,ot,it);if(st!=null){if(!isFinite(st)||Math.floor(st)!==st||st<0)throw new tt(ot?it:"highWaterMark",st);return Math.floor(st)}return nt.objectMode?16:16384}}},function(s,o){},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0});var tt=it(et(159)),nt=it(et(23)),rt=it(et(30));function it(ot){return ot&&ot.__esModule?ot:{default:ot}}o.default=(0,rt.default)(function(ot,st,at,lt){return(0,tt.default)(st)(ot,(0,nt.default)(at),lt)},4),s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){function nt(...rt){if(tt!==null){var it=tt;tt=null,it.apply(this,rt)}}return Object.assign(nt,tt),nt},s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){return function(...nt){if(tt===null)throw new Error("Callback was already called.");var rt=tt;tt=null,rt.apply(this,nt)}},s.exports=o.default},function(s,o,et){(function(tt,nt){var rt=et(37);s.exports=Ft;var it,ot=et(165);Ft.ReadableState=mt,et(20).EventEmitter;var st=function(Ot,Vt){return Ot.listeners(Vt).length},at=et(70),lt=et(46).Buffer,ct=tt.Uint8Array||function(){},ut=Object.create(et(32));ut.inherits=et(7);var dt=et(166),ht=void 0;ht=dt&&dt.debuglog?dt.debuglog("stream"):function(){};var pt,gt=et(167),ft=et(71);ut.inherits(Ft,at);var yt=["error","close","destroy","pause","resume"];function mt(Ot,Vt){Ot=Ot||{};var Wt=Vt instanceof(it=it||et(22));this.objectMode=!!Ot.objectMode,Wt&&(this.objectMode=this.objectMode||!!Ot.readableObjectMode);var Jt=Ot.highWaterMark,qt=Ot.readableHighWaterMark,Ht=this.objectMode?16:16384;this.highWaterMark=Jt||Jt===0?Jt:Wt&&(qt||qt===0)?qt:Ht,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new gt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ot.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ot.encoding&&(pt||(pt=et(21).StringDecoder),this.decoder=new pt(Ot.encoding),this.encoding=Ot.encoding)}function Ft(Ot){if(it=it||et(22),!(this instanceof Ft))return new Ft(Ot);this._readableState=new mt(Ot,this),this.readable=!0,Ot&&(typeof Ot.read=="function"&&(this._read=Ot.read),typeof Ot.destroy=="function"&&(this._destroy=Ot.destroy)),at.call(this)}function vt(Ot,Vt,Wt,Jt,qt){var Ht,Xt=Ot._readableState;return Vt===null?(Xt.reading=!1,function(Lt,Pt){if(!Pt.ended){if(Pt.decoder){var kt=Pt.decoder.end();kt&&kt.length&&(Pt.buffer.push(kt),Pt.length+=Pt.objectMode?1:kt.length)}Pt.ended=!0,It(Lt)}}(Ot,Xt)):(qt||(Ht=function(Lt,Pt){var kt;zt=Pt,lt.isBuffer(zt)||zt instanceof ct||typeof Pt=="string"||Pt===void 0||Lt.objectMode||(kt=new TypeError("Invalid non-string/buffer chunk"));var zt;return kt}(Xt,Vt)),Ht?Ot.emit("error",Ht):Xt.objectMode||Vt&&Vt.length>0?(typeof Vt=="string"||Xt.objectMode||Object.getPrototypeOf(Vt)===lt.prototype||(Vt=function(Lt){return lt.from(Lt)}(Vt)),Jt?Xt.endEmitted?Ot.emit("error",new Error("stream.unshift() after end event")):Et(Ot,Xt,Vt,!0):Xt.ended?Ot.emit("error",new Error("stream.push() after EOF")):(Xt.reading=!1,Xt.decoder&&!Wt?(Vt=Xt.decoder.write(Vt),Xt.objectMode||Vt.length!==0?Et(Ot,Xt,Vt,!1):Rt(Ot,Xt)):Et(Ot,Xt,Vt,!1))):Jt||(Xt.reading=!1)),function(Lt){return!Lt.ended&&(Lt.needReadable||Lt.length<Lt.highWaterMark||Lt.length===0)}(Xt)}function Et(Ot,Vt,Wt,Jt){Vt.flowing&&Vt.length===0&&!Vt.sync?(Ot.emit("data",Wt),Ot.read(0)):(Vt.length+=Vt.objectMode?1:Wt.length,Jt?Vt.buffer.unshift(Wt):Vt.buffer.push(Wt),Vt.needReadable&&It(Ot)),Rt(Ot,Vt)}Object.defineProperty(Ft.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ot){this._readableState&&(this._readableState.destroyed=Ot)}}),Ft.prototype.destroy=ft.destroy,Ft.prototype._undestroy=ft.undestroy,Ft.prototype._destroy=function(Ot,Vt){this.push(null),Vt(Ot)},Ft.prototype.push=function(Ot,Vt){var Wt,Jt=this._readableState;return Jt.objectMode?Wt=!0:typeof Ot=="string"&&((Vt=Vt||Jt.defaultEncoding)!==Jt.encoding&&(Ot=lt.from(Ot,Vt),Vt=""),Wt=!0),vt(this,Ot,Vt,!1,Wt)},Ft.prototype.unshift=function(Ot){return vt(this,Ot,null,!0,!1)},Ft.prototype.isPaused=function(){return this._readableState.flowing===!1},Ft.prototype.setEncoding=function(Ot){return pt||(pt=et(21).StringDecoder),this._readableState.decoder=new pt(Ot),this._readableState.encoding=Ot,this};function wt(Ot,Vt){return Ot<=0||Vt.length===0&&Vt.ended?0:Vt.objectMode?1:Ot!=Ot?Vt.flowing&&Vt.length?Vt.buffer.head.data.length:Vt.length:(Ot>Vt.highWaterMark&&(Vt.highWaterMark=function(Wt){return Wt>=8388608?Wt=8388608:(Wt--,Wt|=Wt>>>1,Wt|=Wt>>>2,Wt|=Wt>>>4,Wt|=Wt>>>8,Wt|=Wt>>>16,Wt++),Wt}(Ot)),Ot<=Vt.length?Ot:Vt.ended?Vt.length:(Vt.needReadable=!0,0))}function It(Ot){var Vt=Ot._readableState;Vt.needReadable=!1,Vt.emittedReadable||(ht("emitReadable",Vt.flowing),Vt.emittedReadable=!0,Vt.sync?rt.nextTick(St,Ot):St(Ot))}function St(Ot){ht("emit readable"),Ot.emit("readable"),Bt(Ot)}function Rt(Ot,Vt){Vt.readingMore||(Vt.readingMore=!0,rt.nextTick(Tt,Ot,Vt))}function Tt(Ot,Vt){for(var Wt=Vt.length;!Vt.reading&&!Vt.flowing&&!Vt.ended&&Vt.length<Vt.highWaterMark&&(ht("maybeReadMore read 0"),Ot.read(0),Wt!==Vt.length);)Wt=Vt.length;Vt.readingMore=!1}function bt(Ot){ht("readable nexttick read 0"),Ot.read(0)}function xt(Ot,Vt){Vt.reading||(ht("resume read 0"),Ot.read(0)),Vt.resumeScheduled=!1,Vt.awaitDrain=0,Ot.emit("resume"),Bt(Ot),Vt.flowing&&!Vt.reading&&Ot.read(0)}function Bt(Ot){var Vt=Ot._readableState;for(ht("flow",Vt.flowing);Vt.flowing&&Ot.read()!==null;);}function Ct(Ot,Vt){return Vt.length===0?null:(Vt.objectMode?Wt=Vt.buffer.shift():!Ot||Ot>=Vt.length?(Wt=Vt.decoder?Vt.buffer.join(""):Vt.buffer.length===1?Vt.buffer.head.data:Vt.buffer.concat(Vt.length),Vt.buffer.clear()):Wt=function(Jt,qt,Ht){var Xt;return Jt<qt.head.data.length?(Xt=qt.head.data.slice(0,Jt),qt.head.data=qt.head.data.slice(Jt)):Xt=Jt===qt.head.data.length?qt.shift():Ht?function(Lt,Pt){var kt=Pt.head,zt=1,tn=kt.data;for(Lt-=tn.length;kt=kt.next;){var Gt=kt.data,en=Lt>Gt.length?Gt.length:Lt;if(en===Gt.length?tn+=Gt:tn+=Gt.slice(0,Lt),(Lt-=en)===0){en===Gt.length?(++zt,kt.next?Pt.head=kt.next:Pt.head=Pt.tail=null):(Pt.head=kt,kt.data=Gt.slice(en));break}++zt}return Pt.length-=zt,tn}(Jt,qt):function(Lt,Pt){var kt=lt.allocUnsafe(Lt),zt=Pt.head,tn=1;for(zt.data.copy(kt),Lt-=zt.data.length;zt=zt.next;){var Gt=zt.data,en=Lt>Gt.length?Gt.length:Lt;if(Gt.copy(kt,kt.length-Lt,0,en),(Lt-=en)===0){en===Gt.length?(++tn,zt.next?Pt.head=zt.next:Pt.head=Pt.tail=null):(Pt.head=zt,zt.data=Gt.slice(en));break}++tn}return Pt.length-=tn,kt}(Jt,qt),Xt}(Ot,Vt.buffer,Vt.decoder),Wt);var Wt}function Mt(Ot){var Vt=Ot._readableState;if(Vt.length>0)throw new Error('"endReadable()" called on non-empty stream');Vt.endEmitted||(Vt.ended=!0,rt.nextTick(Nt,Vt,Ot))}function Nt(Ot,Vt){Ot.endEmitted||Ot.length!==0||(Ot.endEmitted=!0,Vt.readable=!1,Vt.emit("end"))}function At(Ot,Vt){for(var Wt=0,Jt=Ot.length;Wt<Jt;Wt++)if(Ot[Wt]===Vt)return Wt;return-1}Ft.prototype.read=function(Ot){ht("read",Ot),Ot=parseInt(Ot,10);var Vt=this._readableState,Wt=Ot;if(Ot!==0&&(Vt.emittedReadable=!1),Ot===0&&Vt.needReadable&&(Vt.length>=Vt.highWaterMark||Vt.ended))return ht("read: emitReadable",Vt.length,Vt.ended),Vt.length===0&&Vt.ended?Mt(this):It(this),null;if((Ot=wt(Ot,Vt))===0&&Vt.ended)return Vt.length===0&&Mt(this),null;var Jt,qt=Vt.needReadable;return ht("need readable",qt),(Vt.length===0||Vt.length-Ot<Vt.highWaterMark)&&ht("length less than watermark",qt=!0),Vt.ended||Vt.reading?ht("reading or ended",qt=!1):qt&&(ht("do read"),Vt.reading=!0,Vt.sync=!0,Vt.length===0&&(Vt.needReadable=!0),this._read(Vt.highWaterMark),Vt.sync=!1,Vt.reading||(Ot=wt(Wt,Vt))),(Jt=Ot>0?Ct(Ot,Vt):null)===null?(Vt.needReadable=!0,Ot=0):Vt.length-=Ot,Vt.length===0&&(Vt.ended||(Vt.needReadable=!0),Wt!==Ot&&Vt.ended&&Mt(this)),Jt!==null&&this.emit("data",Jt),Jt},Ft.prototype._read=function(Ot){this.emit("error",new Error("_read() is not implemented"))},Ft.prototype.pipe=function(Ot,Vt){var Wt=this,Jt=this._readableState;switch(Jt.pipesCount){case 0:Jt.pipes=Ot;break;case 1:Jt.pipes=[Jt.pipes,Ot];break;default:Jt.pipes.push(Ot)}Jt.pipesCount+=1,ht("pipe count=%d opts=%j",Jt.pipesCount,Vt);var qt=(!Vt||Vt.end!==!1)&&Ot!==nt.stdout&&Ot!==nt.stderr?Xt:cn;function Ht(Zt,dn){ht("onunpipe"),Zt===Wt&&dn&&dn.hasUnpiped===!1&&(dn.hasUnpiped=!0,ht("cleanup"),Ot.removeListener("close",Gt),Ot.removeListener("finish",en),Ot.removeListener("drain",Lt),Ot.removeListener("error",tn),Ot.removeListener("unpipe",Ht),Wt.removeListener("end",Xt),Wt.removeListener("end",cn),Wt.removeListener("data",zt),Pt=!0,!Jt.awaitDrain||Ot._writableState&&!Ot._writableState.needDrain||Lt())}function Xt(){ht("onend"),Ot.end()}Jt.endEmitted?rt.nextTick(qt):Wt.once("end",qt),Ot.on("unpipe",Ht);var Lt=function(Zt){return function(){var dn=Zt._readableState;ht("pipeOnDrain",dn.awaitDrain),dn.awaitDrain&&dn.awaitDrain--,dn.awaitDrain===0&&st(Zt,"data")&&(dn.flowing=!0,Bt(Zt))}}(Wt);Ot.on("drain",Lt);var Pt=!1,kt=!1;function zt(Zt){ht("ondata"),kt=!1,Ot.write(Zt)!==!1||kt||((Jt.pipesCount===1&&Jt.pipes===Ot||Jt.pipesCount>1&&At(Jt.pipes,Ot)!==-1)&&!Pt&&(ht("false write response, pause",Wt._readableState.awaitDrain),Wt._readableState.awaitDrain++,kt=!0),Wt.pause())}function tn(Zt){ht("onerror",Zt),cn(),Ot.removeListener("error",tn),st(Ot,"error")===0&&Ot.emit("error",Zt)}function Gt(){Ot.removeListener("finish",en),cn()}function en(){ht("onfinish"),Ot.removeListener("close",Gt),cn()}function cn(){ht("unpipe"),Wt.unpipe(Ot)}return Wt.on("data",zt),function(Zt,dn,Fn){if(typeof Zt.prependListener=="function")return Zt.prependListener(dn,Fn);Zt._events&&Zt._events[dn]?ot(Zt._events[dn])?Zt._events[dn].unshift(Fn):Zt._events[dn]=[Fn,Zt._events[dn]]:Zt.on(dn,Fn)}(Ot,"error",tn),Ot.once("close",Gt),Ot.once("finish",en),Ot.emit("pipe",Wt),Jt.flowing||(ht("pipe resume"),Wt.resume()),Ot},Ft.prototype.unpipe=function(Ot){var Vt=this._readableState,Wt={hasUnpiped:!1};if(Vt.pipesCount===0)return this;if(Vt.pipesCount===1)return Ot&&Ot!==Vt.pipes||(Ot||(Ot=Vt.pipes),Vt.pipes=null,Vt.pipesCount=0,Vt.flowing=!1,Ot&&Ot.emit("unpipe",this,Wt)),this;if(!Ot){var Jt=Vt.pipes,qt=Vt.pipesCount;Vt.pipes=null,Vt.pipesCount=0,Vt.flowing=!1;for(var Ht=0;Ht<qt;Ht++)Jt[Ht].emit("unpipe",this,Wt);return this}var Xt=At(Vt.pipes,Ot);return Xt===-1||(Vt.pipes.splice(Xt,1),Vt.pipesCount-=1,Vt.pipesCount===1&&(Vt.pipes=Vt.pipes[0]),Ot.emit("unpipe",this,Wt)),this},Ft.prototype.on=function(Ot,Vt){var Wt=at.prototype.on.call(this,Ot,Vt);if(Ot==="data")this._readableState.flowing!==!1&&this.resume();else if(Ot==="readable"){var Jt=this._readableState;Jt.endEmitted||Jt.readableListening||(Jt.readableListening=Jt.needReadable=!0,Jt.emittedReadable=!1,Jt.reading?Jt.length&&It(this):rt.nextTick(bt,this))}return Wt},Ft.prototype.addListener=Ft.prototype.on,Ft.prototype.resume=function(){var Ot=this._readableState;return Ot.flowing||(ht("resume"),Ot.flowing=!0,function(Vt,Wt){Wt.resumeScheduled||(Wt.resumeScheduled=!0,rt.nextTick(xt,Vt,Wt))}(this,Ot)),this},Ft.prototype.pause=function(){return ht("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ht("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ft.prototype.wrap=function(Ot){var Vt=this,Wt=this._readableState,Jt=!1;for(var qt in Ot.on("end",function(){if(ht("wrapped end"),Wt.decoder&&!Wt.ended){var Xt=Wt.decoder.end();Xt&&Xt.length&&Vt.push(Xt)}Vt.push(null)}),Ot.on("data",function(Xt){ht("wrapped data"),Wt.decoder&&(Xt=Wt.decoder.write(Xt)),Wt.objectMode&&Xt==null||(Wt.objectMode||Xt&&Xt.length)&&(Vt.push(Xt)||(Jt=!0,Ot.pause()))}),Ot)this[qt]===void 0&&typeof Ot[qt]=="function"&&(this[qt]=function(Xt){return function(){return Ot[Xt].apply(Ot,arguments)}}(qt));for(var Ht=0;Ht<yt.length;Ht++)Ot.on(yt[Ht],this.emit.bind(this,yt[Ht]));return this._read=function(Xt){ht("wrapped _read",Xt),Jt&&(Jt=!1,Ot.resume())},this},Object.defineProperty(Ft.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ft._fromList=Ct}).call(this,et(6),et(2))},function(s,o,et){s.exports=et(20).EventEmitter},function(s,o,et){var tt=et(37);function nt(rt,it){rt.emit("error",it)}s.exports={destroy:function(rt,it){var ot=this,st=this._readableState&&this._readableState.destroyed,at=this._writableState&&this._writableState.destroyed;return st||at?(it?it(rt):!rt||this._writableState&&this._writableState.errorEmitted||tt.nextTick(nt,this,rt),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(rt||null,function(lt){!it&&lt?(tt.nextTick(nt,ot,lt),ot._writableState&&(ot._writableState.errorEmitted=!0)):it&&it(lt)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(s,o,et){s.exports=it;var tt=et(22),nt=Object.create(et(32));function rt(at,lt){var ct=this._transformState;ct.transforming=!1;var ut=ct.writecb;if(!ut)return this.emit("error",new Error("write callback called multiple times"));ct.writechunk=null,ct.writecb=null,lt!=null&&this.push(lt),ut(at);var dt=this._readableState;dt.reading=!1,(dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}function it(at){if(!(this instanceof it))return new it(at);tt.call(this,at),this._transformState={afterTransform:rt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,at&&(typeof at.transform=="function"&&(this._transform=at.transform),typeof at.flush=="function"&&(this._flush=at.flush)),this.on("prefinish",ot)}function ot(){var at=this;typeof this._flush=="function"?this._flush(function(lt,ct){st(at,lt,ct)}):st(this,null,null)}function st(at,lt,ct){if(lt)return at.emit("error",lt);if(ct!=null&&at.push(ct),at._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(at._transformState.transforming)throw new Error("Calling transform done when still transforming");return at.push(null)}nt.inherits=et(7),nt.inherits(it,tt),it.prototype.push=function(at,lt){return this._transformState.needTransform=!1,tt.prototype.push.call(this,at,lt)},it.prototype._transform=function(at,lt,ct){throw new Error("_transform() is not implemented")},it.prototype._write=function(at,lt,ct){var ut=this._transformState;if(ut.writecb=ct,ut.writechunk=at,ut.writeencoding=lt,!ut.transforming){var dt=this._readableState;(ut.needTransform||dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}},it.prototype._read=function(at){var lt=this._transformState;lt.writechunk!==null&&lt.writecb&&!lt.transforming?(lt.transforming=!0,this._transform(lt.writechunk,lt.writeencoding,lt.afterTransform)):lt.needTransform=!0},it.prototype._destroy=function(at,lt){var ct=this;tt.prototype._destroy.call(this,at,function(ut){lt(ut),ct.emit("close")})}},function(s,o,et){(function(tt){var nt=et(175);function rt(St,Rt){if(St===Rt)return 0;for(var Tt=St.length,bt=Rt.length,xt=0,Bt=Math.min(Tt,bt);xt<Bt;++xt)if(St[xt]!==Rt[xt]){Tt=St[xt],bt=Rt[xt];break}return Tt<bt?-1:bt<Tt?1:0}function it(St){return tt.Buffer&&typeof tt.Buffer.isBuffer=="function"?tt.Buffer.isBuffer(St):!(St==null||!St._isBuffer)}var ot=et(13),st=Object.prototype.hasOwnProperty,at=Array.prototype.slice,lt=function(){}.name==="foo";function ct(St){return Object.prototype.toString.call(St)}function ut(St){return!it(St)&&typeof tt.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(St):!!St&&(St instanceof DataView||!!(St.buffer&&St.buffer instanceof ArrayBuffer)))}var dt=s.exports=mt,ht=/\s*function\s+([^\(\s]*)\s*/;function pt(St){if(ot.isFunction(St)){if(lt)return St.name;var Rt=St.toString().match(ht);return Rt&&Rt[1]}}function gt(St,Rt){return typeof St=="string"?St.length<Rt?St:St.slice(0,Rt):St}function ft(St){if(lt||!ot.isFunction(St))return ot.inspect(St);var Rt=pt(St);return"[Function"+(Rt?": "+Rt:"")+"]"}function yt(St,Rt,Tt,bt,xt){throw new dt.AssertionError({message:Tt,actual:St,expected:Rt,operator:bt,stackStartFunction:xt})}function mt(St,Rt){St||yt(St,!0,Rt,"==",dt.ok)}function Ft(St,Rt,Tt,bt){if(St===Rt)return!0;if(it(St)&&it(Rt))return rt(St,Rt)===0;if(ot.isDate(St)&&ot.isDate(Rt))return St.getTime()===Rt.getTime();if(ot.isRegExp(St)&&ot.isRegExp(Rt))return St.source===Rt.source&&St.global===Rt.global&&St.multiline===Rt.multiline&&St.lastIndex===Rt.lastIndex&&St.ignoreCase===Rt.ignoreCase;if(St!==null&&typeof St=="object"||Rt!==null&&typeof Rt=="object"){if(ut(St)&&ut(Rt)&&ct(St)===ct(Rt)&&!(St instanceof Float32Array||St instanceof Float64Array))return rt(new Uint8Array(St.buffer),new Uint8Array(Rt.buffer))===0;if(it(St)!==it(Rt))return!1;var xt=(bt=bt||{actual:[],expected:[]}).actual.indexOf(St);return xt!==-1&&xt===bt.expected.indexOf(Rt)||(bt.actual.push(St),bt.expected.push(Rt),function(Bt,Ct,Mt,Nt){if(Bt==null||Ct==null)return!1;if(ot.isPrimitive(Bt)||ot.isPrimitive(Ct))return Bt===Ct;if(Mt&&Object.getPrototypeOf(Bt)!==Object.getPrototypeOf(Ct))return!1;var At=vt(Bt),Ot=vt(Ct);if(At&&!Ot||!At&&Ot)return!1;if(At)return Bt=at.call(Bt),Ct=at.call(Ct),Ft(Bt,Ct,Mt);var Vt,Wt,Jt=It(Bt),qt=It(Ct);if(Jt.length!==qt.length)return!1;for(Jt.sort(),qt.sort(),Wt=Jt.length-1;Wt>=0;Wt--)if(Jt[Wt]!==qt[Wt])return!1;for(Wt=Jt.length-1;Wt>=0;Wt--)if(Vt=Jt[Wt],!Ft(Bt[Vt],Ct[Vt],Mt,Nt))return!1;return!0}(St,Rt,Tt,bt))}return Tt?St===Rt:St==Rt}function vt(St){return Object.prototype.toString.call(St)=="[object Arguments]"}function Et(St,Rt){if(!St||!Rt)return!1;if(Object.prototype.toString.call(Rt)=="[object RegExp]")return Rt.test(St);try{if(St instanceof Rt)return!0}catch{}return!Error.isPrototypeOf(Rt)&&Rt.call({},St)===!0}function wt(St,Rt,Tt,bt){var xt;if(typeof Rt!="function")throw new TypeError('"block" argument must be a function');typeof Tt=="string"&&(bt=Tt,Tt=null),xt=function(Mt){var Nt;try{Mt()}catch(At){Nt=At}return Nt}(Rt),bt=(Tt&&Tt.name?" ("+Tt.name+").":".")+(bt?" "+bt:"."),St&&!xt&&yt(xt,Tt,"Missing expected exception"+bt);var Bt=typeof bt=="string",Ct=!St&&xt&&!Tt;if((!St&&ot.isError(xt)&&Bt&&Et(xt,Tt)||Ct)&&yt(xt,Tt,"Got unwanted exception"+bt),St&&xt&&Tt&&!Et(xt,Tt)||!St&&xt)throw xt}dt.AssertionError=function(St){this.name="AssertionError",this.actual=St.actual,this.expected=St.expected,this.operator=St.operator,St.message?(this.message=St.message,this.generatedMessage=!1):(this.message=function(Mt){return gt(ft(Mt.actual),128)+" "+Mt.operator+" "+gt(ft(Mt.expected),128)}(this),this.generatedMessage=!0);var Rt=St.stackStartFunction||yt;if(Error.captureStackTrace)Error.captureStackTrace(this,Rt);else{var Tt=new Error;if(Tt.stack){var bt=Tt.stack,xt=pt(Rt),Bt=bt.indexOf(`
`+xt);if(Bt>=0){var Ct=bt.indexOf(`
`,Bt+1);bt=bt.substring(Ct+1)}this.stack=bt}}},ot.inherits(dt.AssertionError,Error),dt.fail=yt,dt.ok=mt,dt.equal=function(St,Rt,Tt){St!=Rt&&yt(St,Rt,Tt,"==",dt.equal)},dt.notEqual=function(St,Rt,Tt){St==Rt&&yt(St,Rt,Tt,"!=",dt.notEqual)},dt.deepEqual=function(St,Rt,Tt){Ft(St,Rt,!1)||yt(St,Rt,Tt,"deepEqual",dt.deepEqual)},dt.deepStrictEqual=function(St,Rt,Tt){Ft(St,Rt,!0)||yt(St,Rt,Tt,"deepStrictEqual",dt.deepStrictEqual)},dt.notDeepEqual=function(St,Rt,Tt){Ft(St,Rt,!1)&&yt(St,Rt,Tt,"notDeepEqual",dt.notDeepEqual)},dt.notDeepStrictEqual=function St(Rt,Tt,bt){Ft(Rt,Tt,!0)&&yt(Rt,Tt,bt,"notDeepStrictEqual",St)},dt.strictEqual=function(St,Rt,Tt){St!==Rt&&yt(St,Rt,Tt,"===",dt.strictEqual)},dt.notStrictEqual=function(St,Rt,Tt){St===Rt&&yt(St,Rt,Tt,"!==",dt.notStrictEqual)},dt.throws=function(St,Rt,Tt){wt(!0,St,Rt,Tt)},dt.doesNotThrow=function(St,Rt,Tt){wt(!1,St,Rt,Tt)},dt.ifError=function(St){if(St)throw St},dt.strict=nt(function St(Rt,Tt){Rt||yt(Rt,!0,Tt,"==",St)},dt,{equal:dt.strictEqual,deepEqual:dt.deepStrictEqual,notEqual:dt.notStrictEqual,notDeepEqual:dt.notDeepStrictEqual}),dt.strict.strict=dt.strict;var It=Object.keys||function(St){var Rt=[];for(var Tt in St)st.call(St,Tt)&&Rt.push(Tt);return Rt}}).call(this,et(6))},function(s,o,et){s.exports=function(tt,nt,rt,it){for(var ot=65535&tt|0,st=tt>>>16&65535|0,at=0;rt!==0;){rt-=at=rt>2e3?2e3:rt;do st=st+(ot=ot+nt[it++]|0)|0;while(--at);ot%=65521,st%=65521}return ot|st<<16|0}},function(s,o,et){var tt=function(){for(var nt,rt=[],it=0;it<256;it++){nt=it;for(var ot=0;ot<8;ot++)nt=1&nt?3988292384^nt>>>1:nt>>>1;rt[it]=nt}return rt}();s.exports=function(nt,rt,it,ot){var st=tt,at=ot+it;nt^=-1;for(var lt=ot;lt<at;lt++)nt=nt>>>8^st[255&(nt^rt[lt])];return-1^nt}},function(s,o,et){(function(tt,nt){var rt;s.exports=Rt,Rt.ReadableState=St,et(20).EventEmitter;var it=function(Lt,Pt){return Lt.listeners(Pt).length},ot=et(77),st=et(5).Buffer,at=(tt!==void 0?tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},lt,ct=et(184);lt=ct&&ct.debuglog?ct.debuglog("stream"):function(){};var ut,dt,ht,pt=et(185),gt=et(78),ft=et(79).getHighWaterMark,yt=et(24).codes,mt=yt.ERR_INVALID_ARG_TYPE,Ft=yt.ERR_STREAM_PUSH_AFTER_EOF,vt=yt.ERR_METHOD_NOT_IMPLEMENTED,Et=yt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;et(7)(Rt,ot);var wt=gt.errorOrDestroy,It=["error","close","destroy","pause","resume"];function St(Lt,Pt,kt){rt=rt||et(25),Lt=Lt||{},typeof kt!="boolean"&&(kt=Pt instanceof rt),this.objectMode=!!Lt.objectMode,kt&&(this.objectMode=this.objectMode||!!Lt.readableObjectMode),this.highWaterMark=ft(this,Lt,"readableHighWaterMark",kt),this.buffer=new pt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Lt.emitClose!==!1,this.autoDestroy=!!Lt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Lt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Lt.encoding&&(ut||(ut=et(21).StringDecoder),this.decoder=new ut(Lt.encoding),this.encoding=Lt.encoding)}function Rt(Lt){if(rt=rt||et(25),!(this instanceof Rt))return new Rt(Lt);var Pt=this instanceof rt;this._readableState=new St(Lt,this,Pt),this.readable=!0,Lt&&(typeof Lt.read=="function"&&(this._read=Lt.read),typeof Lt.destroy=="function"&&(this._destroy=Lt.destroy)),ot.call(this)}function Tt(Lt,Pt,kt,zt,tn){lt("readableAddChunk",Pt);var Gt,en=Lt._readableState;if(Pt===null)en.reading=!1,function(cn,Zt){if(lt("onEofChunk"),!Zt.ended){if(Zt.decoder){var dn=Zt.decoder.end();dn&&dn.length&&(Zt.buffer.push(dn),Zt.length+=Zt.objectMode?1:dn.length)}Zt.ended=!0,Zt.sync?Bt(cn):(Zt.needReadable=!1,Zt.emittedReadable||(Zt.emittedReadable=!0,Ct(cn)))}}(Lt,en);else if(tn||(Gt=function(cn,Zt){var dn;Fn=Zt,st.isBuffer(Fn)||Fn instanceof at||typeof Zt=="string"||Zt===void 0||cn.objectMode||(dn=new mt("chunk",["string","Buffer","Uint8Array"],Zt));var Fn;return dn}(en,Pt)),Gt)wt(Lt,Gt);else if(en.objectMode||Pt&&Pt.length>0)if(typeof Pt=="string"||en.objectMode||Object.getPrototypeOf(Pt)===st.prototype||(Pt=function(cn){return st.from(cn)}(Pt)),zt)en.endEmitted?wt(Lt,new Et):bt(Lt,en,Pt,!0);else if(en.ended)wt(Lt,new Ft);else{if(en.destroyed)return!1;en.reading=!1,en.decoder&&!kt?(Pt=en.decoder.write(Pt),en.objectMode||Pt.length!==0?bt(Lt,en,Pt,!1):Mt(Lt,en)):bt(Lt,en,Pt,!1)}else zt||(en.reading=!1,Mt(Lt,en));return!en.ended&&(en.length<en.highWaterMark||en.length===0)}function bt(Lt,Pt,kt,zt){Pt.flowing&&Pt.length===0&&!Pt.sync?(Pt.awaitDrain=0,Lt.emit("data",kt)):(Pt.length+=Pt.objectMode?1:kt.length,zt?Pt.buffer.unshift(kt):Pt.buffer.push(kt),Pt.needReadable&&Bt(Lt)),Mt(Lt,Pt)}Object.defineProperty(Rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Lt){this._readableState&&(this._readableState.destroyed=Lt)}}),Rt.prototype.destroy=gt.destroy,Rt.prototype._undestroy=gt.undestroy,Rt.prototype._destroy=function(Lt,Pt){Pt(Lt)},Rt.prototype.push=function(Lt,Pt){var kt,zt=this._readableState;return zt.objectMode?kt=!0:typeof Lt=="string"&&((Pt=Pt||zt.defaultEncoding)!==zt.encoding&&(Lt=st.from(Lt,Pt),Pt=""),kt=!0),Tt(this,Lt,Pt,!1,kt)},Rt.prototype.unshift=function(Lt){return Tt(this,Lt,null,!0,!1)},Rt.prototype.isPaused=function(){return this._readableState.flowing===!1},Rt.prototype.setEncoding=function(Lt){ut||(ut=et(21).StringDecoder);var Pt=new ut(Lt);this._readableState.decoder=Pt,this._readableState.encoding=this._readableState.decoder.encoding;for(var kt=this._readableState.buffer.head,zt="";kt!==null;)zt+=Pt.write(kt.data),kt=kt.next;return this._readableState.buffer.clear(),zt!==""&&this._readableState.buffer.push(zt),this._readableState.length=zt.length,this};function xt(Lt,Pt){return Lt<=0||Pt.length===0&&Pt.ended?0:Pt.objectMode?1:Lt!=Lt?Pt.flowing&&Pt.length?Pt.buffer.head.data.length:Pt.length:(Lt>Pt.highWaterMark&&(Pt.highWaterMark=function(kt){return kt>=1073741824?kt=1073741824:(kt--,kt|=kt>>>1,kt|=kt>>>2,kt|=kt>>>4,kt|=kt>>>8,kt|=kt>>>16,kt++),kt}(Lt)),Lt<=Pt.length?Lt:Pt.ended?Pt.length:(Pt.needReadable=!0,0))}function Bt(Lt){var Pt=Lt._readableState;lt("emitReadable",Pt.needReadable,Pt.emittedReadable),Pt.needReadable=!1,Pt.emittedReadable||(lt("emitReadable",Pt.flowing),Pt.emittedReadable=!0,nt.nextTick(Ct,Lt))}function Ct(Lt){var Pt=Lt._readableState;lt("emitReadable_",Pt.destroyed,Pt.length,Pt.ended),Pt.destroyed||!Pt.length&&!Pt.ended||(Lt.emit("readable"),Pt.emittedReadable=!1),Pt.needReadable=!Pt.flowing&&!Pt.ended&&Pt.length<=Pt.highWaterMark,Wt(Lt)}function Mt(Lt,Pt){Pt.readingMore||(Pt.readingMore=!0,nt.nextTick(Nt,Lt,Pt))}function Nt(Lt,Pt){for(;!Pt.reading&&!Pt.ended&&(Pt.length<Pt.highWaterMark||Pt.flowing&&Pt.length===0);){var kt=Pt.length;if(lt("maybeReadMore read 0"),Lt.read(0),kt===Pt.length)break}Pt.readingMore=!1}function At(Lt){var Pt=Lt._readableState;Pt.readableListening=Lt.listenerCount("readable")>0,Pt.resumeScheduled&&!Pt.paused?Pt.flowing=!0:Lt.listenerCount("data")>0&&Lt.resume()}function Ot(Lt){lt("readable nexttick read 0"),Lt.read(0)}function Vt(Lt,Pt){lt("resume",Pt.reading),Pt.reading||Lt.read(0),Pt.resumeScheduled=!1,Lt.emit("resume"),Wt(Lt),Pt.flowing&&!Pt.reading&&Lt.read(0)}function Wt(Lt){var Pt=Lt._readableState;for(lt("flow",Pt.flowing);Pt.flowing&&Lt.read()!==null;);}function Jt(Lt,Pt){return Pt.length===0?null:(Pt.objectMode?kt=Pt.buffer.shift():!Lt||Lt>=Pt.length?(kt=Pt.decoder?Pt.buffer.join(""):Pt.buffer.length===1?Pt.buffer.first():Pt.buffer.concat(Pt.length),Pt.buffer.clear()):kt=Pt.buffer.consume(Lt,Pt.decoder),kt);var kt}function qt(Lt){var Pt=Lt._readableState;lt("endReadable",Pt.endEmitted),Pt.endEmitted||(Pt.ended=!0,nt.nextTick(Ht,Pt,Lt))}function Ht(Lt,Pt){if(lt("endReadableNT",Lt.endEmitted,Lt.length),!Lt.endEmitted&&Lt.length===0&&(Lt.endEmitted=!0,Pt.readable=!1,Pt.emit("end"),Lt.autoDestroy)){var kt=Pt._writableState;(!kt||kt.autoDestroy&&kt.finished)&&Pt.destroy()}}function Xt(Lt,Pt){for(var kt=0,zt=Lt.length;kt<zt;kt++)if(Lt[kt]===Pt)return kt;return-1}Rt.prototype.read=function(Lt){lt("read",Lt),Lt=parseInt(Lt,10);var Pt=this._readableState,kt=Lt;if(Lt!==0&&(Pt.emittedReadable=!1),Lt===0&&Pt.needReadable&&((Pt.highWaterMark!==0?Pt.length>=Pt.highWaterMark:Pt.length>0)||Pt.ended))return lt("read: emitReadable",Pt.length,Pt.ended),Pt.length===0&&Pt.ended?qt(this):Bt(this),null;if((Lt=xt(Lt,Pt))===0&&Pt.ended)return Pt.length===0&&qt(this),null;var zt,tn=Pt.needReadable;return lt("need readable",tn),(Pt.length===0||Pt.length-Lt<Pt.highWaterMark)&&lt("length less than watermark",tn=!0),Pt.ended||Pt.reading?lt("reading or ended",tn=!1):tn&&(lt("do read"),Pt.reading=!0,Pt.sync=!0,Pt.length===0&&(Pt.needReadable=!0),this._read(Pt.highWaterMark),Pt.sync=!1,Pt.reading||(Lt=xt(kt,Pt))),(zt=Lt>0?Jt(Lt,Pt):null)===null?(Pt.needReadable=Pt.length<=Pt.highWaterMark,Lt=0):(Pt.length-=Lt,Pt.awaitDrain=0),Pt.length===0&&(Pt.ended||(Pt.needReadable=!0),kt!==Lt&&Pt.ended&&qt(this)),zt!==null&&this.emit("data",zt),zt},Rt.prototype._read=function(Lt){wt(this,new vt("_read()"))},Rt.prototype.pipe=function(Lt,Pt){var kt=this,zt=this._readableState;switch(zt.pipesCount){case 0:zt.pipes=Lt;break;case 1:zt.pipes=[zt.pipes,Lt];break;default:zt.pipes.push(Lt)}zt.pipesCount+=1,lt("pipe count=%d opts=%j",zt.pipesCount,Pt);var tn=(!Pt||Pt.end!==!1)&&Lt!==nt.stdout&&Lt!==nt.stderr?en:bn;function Gt(an,rn){lt("onunpipe"),an===kt&&rn&&rn.hasUnpiped===!1&&(rn.hasUnpiped=!0,lt("cleanup"),Lt.removeListener("close",pn),Lt.removeListener("finish",un),Lt.removeListener("drain",cn),Lt.removeListener("error",Fn),Lt.removeListener("unpipe",Gt),kt.removeListener("end",en),kt.removeListener("end",bn),kt.removeListener("data",dn),Zt=!0,!zt.awaitDrain||Lt._writableState&&!Lt._writableState.needDrain||cn())}function en(){lt("onend"),Lt.end()}zt.endEmitted?nt.nextTick(tn):kt.once("end",tn),Lt.on("unpipe",Gt);var cn=function(an){return function(){var rn=an._readableState;lt("pipeOnDrain",rn.awaitDrain),rn.awaitDrain&&rn.awaitDrain--,rn.awaitDrain===0&&it(an,"data")&&(rn.flowing=!0,Wt(an))}}(kt);Lt.on("drain",cn);var Zt=!1;function dn(an){lt("ondata");var rn=Lt.write(an);lt("dest.write",rn),rn===!1&&((zt.pipesCount===1&&zt.pipes===Lt||zt.pipesCount>1&&Xt(zt.pipes,Lt)!==-1)&&!Zt&&(lt("false write response, pause",zt.awaitDrain),zt.awaitDrain++),kt.pause())}function Fn(an){lt("onerror",an),bn(),Lt.removeListener("error",Fn),it(Lt,"error")===0&&wt(Lt,an)}function pn(){Lt.removeListener("finish",un),bn()}function un(){lt("onfinish"),Lt.removeListener("close",pn),bn()}function bn(){lt("unpipe"),kt.unpipe(Lt)}return kt.on("data",dn),function(an,rn,mn){if(typeof an.prependListener=="function")return an.prependListener(rn,mn);an._events&&an._events[rn]?Array.isArray(an._events[rn])?an._events[rn].unshift(mn):an._events[rn]=[mn,an._events[rn]]:an.on(rn,mn)}(Lt,"error",Fn),Lt.once("close",pn),Lt.once("finish",un),Lt.emit("pipe",kt),zt.flowing||(lt("pipe resume"),kt.resume()),Lt},Rt.prototype.unpipe=function(Lt){var Pt=this._readableState,kt={hasUnpiped:!1};if(Pt.pipesCount===0)return this;if(Pt.pipesCount===1)return Lt&&Lt!==Pt.pipes||(Lt||(Lt=Pt.pipes),Pt.pipes=null,Pt.pipesCount=0,Pt.flowing=!1,Lt&&Lt.emit("unpipe",this,kt)),this;if(!Lt){var zt=Pt.pipes,tn=Pt.pipesCount;Pt.pipes=null,Pt.pipesCount=0,Pt.flowing=!1;for(var Gt=0;Gt<tn;Gt++)zt[Gt].emit("unpipe",this,{hasUnpiped:!1});return this}var en=Xt(Pt.pipes,Lt);return en===-1||(Pt.pipes.splice(en,1),Pt.pipesCount-=1,Pt.pipesCount===1&&(Pt.pipes=Pt.pipes[0]),Lt.emit("unpipe",this,kt)),this},Rt.prototype.on=function(Lt,Pt){var kt=ot.prototype.on.call(this,Lt,Pt),zt=this._readableState;return Lt==="data"?(zt.readableListening=this.listenerCount("readable")>0,zt.flowing!==!1&&this.resume()):Lt==="readable"&&(zt.endEmitted||zt.readableListening||(zt.readableListening=zt.needReadable=!0,zt.flowing=!1,zt.emittedReadable=!1,lt("on readable",zt.length,zt.reading),zt.length?Bt(this):zt.reading||nt.nextTick(Ot,this))),kt},Rt.prototype.addListener=Rt.prototype.on,Rt.prototype.removeListener=function(Lt,Pt){var kt=ot.prototype.removeListener.call(this,Lt,Pt);return Lt==="readable"&&nt.nextTick(At,this),kt},Rt.prototype.removeAllListeners=function(Lt){var Pt=ot.prototype.removeAllListeners.apply(this,arguments);return Lt!=="readable"&&Lt!==void 0||nt.nextTick(At,this),Pt},Rt.prototype.resume=function(){var Lt=this._readableState;return Lt.flowing||(lt("resume"),Lt.flowing=!Lt.readableListening,function(Pt,kt){kt.resumeScheduled||(kt.resumeScheduled=!0,nt.nextTick(Vt,Pt,kt))}(this,Lt)),Lt.paused=!1,this},Rt.prototype.pause=function(){return lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Rt.prototype.wrap=function(Lt){var Pt=this,kt=this._readableState,zt=!1;for(var tn in Lt.on("end",function(){if(lt("wrapped end"),kt.decoder&&!kt.ended){var en=kt.decoder.end();en&&en.length&&Pt.push(en)}Pt.push(null)}),Lt.on("data",function(en){lt("wrapped data"),kt.decoder&&(en=kt.decoder.write(en)),kt.objectMode&&en==null||(kt.objectMode||en&&en.length)&&(Pt.push(en)||(zt=!0,Lt.pause()))}),Lt)this[tn]===void 0&&typeof Lt[tn]=="function"&&(this[tn]=function(en){return function(){return Lt[en].apply(Lt,arguments)}}(tn));for(var Gt=0;Gt<It.length;Gt++)Lt.on(It[Gt],this.emit.bind(this,It[Gt]));return this._read=function(en){lt("wrapped _read",en),zt&&(zt=!1,Lt.resume())},this},typeof Symbol=="function"&&(Rt.prototype[Symbol.asyncIterator]=function(){return dt===void 0&&(dt=et(187)),dt(this)}),Object.defineProperty(Rt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Rt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Rt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Lt){this._readableState&&(this._readableState.flowing=Lt)}}),Rt._fromList=Jt,Object.defineProperty(Rt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Rt.from=function(Lt,Pt){return ht===void 0&&(ht=et(188)),ht(Rt,Lt,Pt)})}).call(this,et(6),et(2))},function(s,o,et){s.exports=et(20).EventEmitter},function(s,o,et){(function(tt){function nt(ot,st){it(ot,st),rt(ot)}function rt(ot){ot._writableState&&!ot._writableState.emitClose||ot._readableState&&!ot._readableState.emitClose||ot.emit("close")}function it(ot,st){ot.emit("error",st)}s.exports={destroy:function(ot,st){var at=this,lt=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return lt||ct?(st?st(ot):ot&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,tt.nextTick(it,this,ot)):tt.nextTick(it,this,ot)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ut){!st&&ut?at._writableState?at._writableState.errorEmitted?tt.nextTick(rt,at):(at._writableState.errorEmitted=!0,tt.nextTick(nt,at,ut)):tt.nextTick(nt,at,ut):st?(tt.nextTick(rt,at),st(ut)):tt.nextTick(rt,at)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(ot,st){var at=ot._readableState,lt=ot._writableState;at&&at.autoDestroy||lt&&lt.autoDestroy?ot.destroy(st):ot.emit("error",st)}}}).call(this,et(2))},function(s,o,et){var tt=et(24).codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(nt,rt,it,ot){var st=function(at,lt,ct){return at.highWaterMark!=null?at.highWaterMark:lt?at[ct]:null}(rt,ot,it);if(st!=null){if(!isFinite(st)||Math.floor(st)!==st||st<0)throw new tt(ot?it:"highWaterMark",st);return Math.floor(st)}return nt.objectMode?16:16384}}},function(s,o,et){(function(tt,nt){function rt(Nt){var At=this;this.next=null,this.entry=null,this.finish=function(){(function(Ot,Vt,Wt){var Jt=Ot.entry;for(Ot.entry=null;Jt;){var qt=Jt.callback;Vt.pendingcb--,qt(Wt),Jt=Jt.next}Vt.corkedRequestsFree.next=Ot})(At,Nt)}}var it;s.exports=Rt,Rt.WritableState=St;var ot={deprecate:et(43)},st=et(77),at=et(5).Buffer,lt=(tt!==void 0?tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},ct,ut=et(78),dt=et(79).getHighWaterMark,ht=et(24).codes,pt=ht.ERR_INVALID_ARG_TYPE,gt=ht.ERR_METHOD_NOT_IMPLEMENTED,ft=ht.ERR_MULTIPLE_CALLBACK,yt=ht.ERR_STREAM_CANNOT_PIPE,mt=ht.ERR_STREAM_DESTROYED,Ft=ht.ERR_STREAM_NULL_VALUES,vt=ht.ERR_STREAM_WRITE_AFTER_END,Et=ht.ERR_UNKNOWN_ENCODING,wt=ut.errorOrDestroy;function It(){}function St(Nt,At,Ot){it=it||et(25),Nt=Nt||{},typeof Ot!="boolean"&&(Ot=At instanceof it),this.objectMode=!!Nt.objectMode,Ot&&(this.objectMode=this.objectMode||!!Nt.writableObjectMode),this.highWaterMark=dt(this,Nt,"writableHighWaterMark",Ot),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Vt=Nt.decodeStrings===!1;this.decodeStrings=!Vt,this.defaultEncoding=Nt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Wt){(function(Jt,qt){var Ht=Jt._writableState,Xt=Ht.sync,Lt=Ht.writecb;if(typeof Lt!="function")throw new ft;if(function(kt){kt.writing=!1,kt.writecb=null,kt.length-=kt.writelen,kt.writelen=0}(Ht),qt)(function(kt,zt,tn,Gt,en){--zt.pendingcb,tn?(nt.nextTick(en,Gt),nt.nextTick(Mt,kt,zt),kt._writableState.errorEmitted=!0,wt(kt,Gt)):(en(Gt),kt._writableState.errorEmitted=!0,wt(kt,Gt),Mt(kt,zt))})(Jt,Ht,Xt,qt,Lt);else{var Pt=Bt(Ht)||Jt.destroyed;Pt||Ht.corked||Ht.bufferProcessing||!Ht.bufferedRequest||xt(Jt,Ht),Xt?nt.nextTick(bt,Jt,Ht,Pt,Lt):bt(Jt,Ht,Pt,Lt)}})(At,Wt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Nt.emitClose!==!1,this.autoDestroy=!!Nt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new rt(this)}function Rt(Nt){var At=this instanceof(it=it||et(25));if(!At&&!ct.call(Rt,this))return new Rt(Nt);this._writableState=new St(Nt,this,At),this.writable=!0,Nt&&(typeof Nt.write=="function"&&(this._write=Nt.write),typeof Nt.writev=="function"&&(this._writev=Nt.writev),typeof Nt.destroy=="function"&&(this._destroy=Nt.destroy),typeof Nt.final=="function"&&(this._final=Nt.final)),st.call(this)}function Tt(Nt,At,Ot,Vt,Wt,Jt,qt){At.writelen=Vt,At.writecb=qt,At.writing=!0,At.sync=!0,At.destroyed?At.onwrite(new mt("write")):Ot?Nt._writev(Wt,At.onwrite):Nt._write(Wt,Jt,At.onwrite),At.sync=!1}function bt(Nt,At,Ot,Vt){Ot||function(Wt,Jt){Jt.length===0&&Jt.needDrain&&(Jt.needDrain=!1,Wt.emit("drain"))}(Nt,At),At.pendingcb--,Vt(),Mt(Nt,At)}function xt(Nt,At){At.bufferProcessing=!0;var Ot=At.bufferedRequest;if(Nt._writev&&Ot&&Ot.next){var Vt=At.bufferedRequestCount,Wt=new Array(Vt),Jt=At.corkedRequestsFree;Jt.entry=Ot;for(var qt=0,Ht=!0;Ot;)Wt[qt]=Ot,Ot.isBuf||(Ht=!1),Ot=Ot.next,qt+=1;Wt.allBuffers=Ht,Tt(Nt,At,!0,At.length,Wt,"",Jt.finish),At.pendingcb++,At.lastBufferedRequest=null,Jt.next?(At.corkedRequestsFree=Jt.next,Jt.next=null):At.corkedRequestsFree=new rt(At),At.bufferedRequestCount=0}else{for(;Ot;){var Xt=Ot.chunk,Lt=Ot.encoding,Pt=Ot.callback;if(Tt(Nt,At,!1,At.objectMode?1:Xt.length,Xt,Lt,Pt),Ot=Ot.next,At.bufferedRequestCount--,At.writing)break}Ot===null&&(At.lastBufferedRequest=null)}At.bufferedRequest=Ot,At.bufferProcessing=!1}function Bt(Nt){return Nt.ending&&Nt.length===0&&Nt.bufferedRequest===null&&!Nt.finished&&!Nt.writing}function Ct(Nt,At){Nt._final(function(Ot){At.pendingcb--,Ot&&wt(Nt,Ot),At.prefinished=!0,Nt.emit("prefinish"),Mt(Nt,At)})}function Mt(Nt,At){var Ot=Bt(At);if(Ot&&(function(Wt,Jt){Jt.prefinished||Jt.finalCalled||(typeof Wt._final!="function"||Jt.destroyed?(Jt.prefinished=!0,Wt.emit("prefinish")):(Jt.pendingcb++,Jt.finalCalled=!0,nt.nextTick(Ct,Wt,Jt)))}(Nt,At),At.pendingcb===0&&(At.finished=!0,Nt.emit("finish"),At.autoDestroy))){var Vt=Nt._readableState;(!Vt||Vt.autoDestroy&&Vt.endEmitted)&&Nt.destroy()}return Ot}et(7)(Rt,st),St.prototype.getBuffer=function(){for(var Nt=this.bufferedRequest,At=[];Nt;)At.push(Nt),Nt=Nt.next;return At},function(){try{Object.defineProperty(St.prototype,"buffer",{get:ot.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ct=Function.prototype[Symbol.hasInstance],Object.defineProperty(Rt,Symbol.hasInstance,{value:function(Nt){return!!ct.call(this,Nt)||this===Rt&&Nt&&Nt._writableState instanceof St}})):ct=function(Nt){return Nt instanceof this},Rt.prototype.pipe=function(){wt(this,new yt)},Rt.prototype.write=function(Nt,At,Ot){var Vt,Wt=this._writableState,Jt=!1,qt=!Wt.objectMode&&(Vt=Nt,at.isBuffer(Vt)||Vt instanceof lt);return qt&&!at.isBuffer(Nt)&&(Nt=function(Ht){return at.from(Ht)}(Nt)),typeof At=="function"&&(Ot=At,At=null),qt?At="buffer":At||(At=Wt.defaultEncoding),typeof Ot!="function"&&(Ot=It),Wt.ending?function(Ht,Xt){var Lt=new vt;wt(Ht,Lt),nt.nextTick(Xt,Lt)}(this,Ot):(qt||function(Ht,Xt,Lt,Pt){var kt;return Lt===null?kt=new Ft:typeof Lt=="string"||Xt.objectMode||(kt=new pt("chunk",["string","Buffer"],Lt)),!kt||(wt(Ht,kt),nt.nextTick(Pt,kt),!1)}(this,Wt,Nt,Ot))&&(Wt.pendingcb++,Jt=function(Ht,Xt,Lt,Pt,kt,zt){if(!Lt){var tn=function(Zt,dn,Fn){return Zt.objectMode||Zt.decodeStrings===!1||typeof dn!="string"||(dn=at.from(dn,Fn)),dn}(Xt,Pt,kt);Pt!==tn&&(Lt=!0,kt="buffer",Pt=tn)}var Gt=Xt.objectMode?1:Pt.length;Xt.length+=Gt;var en=Xt.length<Xt.highWaterMark;if(en||(Xt.needDrain=!0),Xt.writing||Xt.corked){var cn=Xt.lastBufferedRequest;Xt.lastBufferedRequest={chunk:Pt,encoding:kt,isBuf:Lt,callback:zt,next:null},cn?cn.next=Xt.lastBufferedRequest:Xt.bufferedRequest=Xt.lastBufferedRequest,Xt.bufferedRequestCount+=1}else Tt(Ht,Xt,!1,Gt,Pt,kt,zt);return en}(this,Wt,qt,Nt,At,Ot)),Jt},Rt.prototype.cork=function(){this._writableState.corked++},Rt.prototype.uncork=function(){var Nt=this._writableState;Nt.corked&&(Nt.corked--,Nt.writing||Nt.corked||Nt.bufferProcessing||!Nt.bufferedRequest||xt(this,Nt))},Rt.prototype.setDefaultEncoding=function(Nt){if(typeof Nt=="string"&&(Nt=Nt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Nt+"").toLowerCase())>-1))throw new Et(Nt);return this._writableState.defaultEncoding=Nt,this},Object.defineProperty(Rt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Rt.prototype._write=function(Nt,At,Ot){Ot(new gt("_write()"))},Rt.prototype._writev=null,Rt.prototype.end=function(Nt,At,Ot){var Vt=this._writableState;return typeof Nt=="function"?(Ot=Nt,Nt=null,At=null):typeof At=="function"&&(Ot=At,At=null),Nt!=null&&this.write(Nt,At),Vt.corked&&(Vt.corked=1,this.uncork()),Vt.ending||function(Wt,Jt,qt){Jt.ending=!0,Mt(Wt,Jt),qt&&(Jt.finished?nt.nextTick(qt):Wt.once("finish",qt)),Jt.ended=!0,Wt.writable=!1}(this,Vt,Ot),this},Object.defineProperty(Rt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Nt){this._writableState&&(this._writableState.destroyed=Nt)}}),Rt.prototype.destroy=ut.destroy,Rt.prototype._undestroy=ut.undestroy,Rt.prototype._destroy=function(Nt,At){At(Nt)}}).call(this,et(6),et(2))},function(s,o,et){s.exports=lt;var tt=et(24).codes,nt=tt.ERR_METHOD_NOT_IMPLEMENTED,rt=tt.ERR_MULTIPLE_CALLBACK,it=tt.ERR_TRANSFORM_ALREADY_TRANSFORMING,ot=tt.ERR_TRANSFORM_WITH_LENGTH_0,st=et(25);function at(dt,ht){var pt=this._transformState;pt.transforming=!1;var gt=pt.writecb;if(gt===null)return this.emit("error",new rt);pt.writechunk=null,pt.writecb=null,ht!=null&&this.push(ht),gt(dt);var ft=this._readableState;ft.reading=!1,(ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}function lt(dt){if(!(this instanceof lt))return new lt(dt);st.call(this,dt),this._transformState={afterTransform:at.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,dt&&(typeof dt.transform=="function"&&(this._transform=dt.transform),typeof dt.flush=="function"&&(this._flush=dt.flush)),this.on("prefinish",ct)}function ct(){var dt=this;typeof this._flush!="function"||this._readableState.destroyed?ut(this,null,null):this._flush(function(ht,pt){ut(dt,ht,pt)})}function ut(dt,ht,pt){if(ht)return dt.emit("error",ht);if(pt!=null&&dt.push(pt),dt._writableState.length)throw new ot;if(dt._transformState.transforming)throw new it;return dt.push(null)}et(7)(lt,st),lt.prototype.push=function(dt,ht){return this._transformState.needTransform=!1,st.prototype.push.call(this,dt,ht)},lt.prototype._transform=function(dt,ht,pt){pt(new nt("_transform()"))},lt.prototype._write=function(dt,ht,pt){var gt=this._transformState;if(gt.writecb=pt,gt.writechunk=dt,gt.writeencoding=ht,!gt.transforming){var ft=this._readableState;(gt.needTransform||ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}},lt.prototype._read=function(dt){var ht=this._transformState;ht.writechunk===null||ht.transforming?ht.needTransform=!0:(ht.transforming=!0,this._transform(ht.writechunk,ht.writeencoding,ht.afterTransform))},lt.prototype._destroy=function(dt,ht){st.prototype._destroy.call(this,dt,function(pt){ht(pt)})}},function(s,o,et){(function(tt){var nt=et(195),rt=et(84),it=et(197),ot=et(198),st=et(85),at=o;at.request=function(lt,ct){lt=typeof lt=="string"?st.parse(lt):it(lt);var ut=tt.location.protocol.search(/^https?:$/)===-1?"http:":"",dt=lt.protocol||ut,ht=lt.hostname||lt.host,pt=lt.port,gt=lt.path||"/";ht&&ht.indexOf(":")!==-1&&(ht="["+ht+"]"),lt.url=(ht?dt+"//"+ht:"")+(pt?":"+pt:"")+gt,lt.method=(lt.method||"GET").toUpperCase(),lt.headers=lt.headers||{};var ft=new nt(lt);return ct&&ft.on("response",ct),ft},at.get=function(lt,ct){var ut=at.request(lt,ct);return ut.end(),ut},at.ClientRequest=nt,at.IncomingMessage=rt.IncomingMessage,at.Agent=function(){},at.Agent.defaultMaxSockets=4,at.globalAgent=new at.Agent,at.STATUS_CODES=ot,at.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,et(6))},function(s,o,et){(function(tt){o.fetch=at(tt.fetch)&&at(tt.ReadableStream),o.writableStream=at(tt.WritableStream),o.abortController=at(tt.AbortController),o.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),o.blobConstructor=!0}catch{}var nt;function rt(){if(nt!==void 0)return nt;if(tt.XMLHttpRequest){nt=new tt.XMLHttpRequest;try{nt.open("GET",tt.XDomainRequest?"/":"https://example.com")}catch{nt=null}}else nt=null;return nt}function it(lt){var ct=rt();if(!ct)return!1;try{return ct.responseType=lt,ct.responseType===lt}catch{}return!1}var ot=tt.ArrayBuffer!==void 0,st=ot&&at(tt.ArrayBuffer.prototype.slice);function at(lt){return typeof lt=="function"}o.arraybuffer=o.fetch||ot&&it("arraybuffer"),o.msstream=!o.fetch&&st&&it("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&ot&&it("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!rt()&&at(rt().overrideMimeType),o.vbArray=at(tt.VBArray),nt=null}).call(this,et(6))},function(s,o,et){(function(tt,nt,rt){var it=et(83),ot=et(7),st=et(31),at=o.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},lt=o.IncomingMessage=function(ct,ut,dt,ht){var pt=this;if(st.Readable.call(pt),pt._mode=dt,pt.headers={},pt.rawHeaders=[],pt.trailers={},pt.rawTrailers=[],pt.on("end",function(){tt.nextTick(function(){pt.emit("close")})}),dt==="fetch"){if(pt._fetchResponse=ut,pt.url=ut.url,pt.statusCode=ut.status,pt.statusMessage=ut.statusText,ut.headers.forEach(function(Ft,vt){pt.headers[vt.toLowerCase()]=Ft,pt.rawHeaders.push(vt,Ft)}),it.writableStream){var gt=new WritableStream({write:function(Ft){return new Promise(function(vt,Et){pt._destroyed?Et():pt.push(new nt(Ft))?vt():pt._resumeFetch=vt})},close:function(){rt.clearTimeout(ht),pt._destroyed||pt.push(null)},abort:function(Ft){pt._destroyed||pt.emit("error",Ft)}});try{return void ut.body.pipeTo(gt).catch(function(Ft){rt.clearTimeout(ht),pt._destroyed||pt.emit("error",Ft)})}catch{}}var ft=ut.body.getReader();(function Ft(){ft.read().then(function(vt){if(!pt._destroyed){if(vt.done)return rt.clearTimeout(ht),void pt.push(null);pt.push(new nt(vt.value)),Ft()}}).catch(function(vt){rt.clearTimeout(ht),pt._destroyed||pt.emit("error",vt)})})()}else if(pt._xhr=ct,pt._pos=0,pt.url=ct.responseURL,pt.statusCode=ct.status,pt.statusMessage=ct.statusText,ct.getAllResponseHeaders().split(/\r?\n/).forEach(function(Ft){var vt=Ft.match(/^([^:]+):\s*(.*)/);if(vt){var Et=vt[1].toLowerCase();Et==="set-cookie"?(pt.headers[Et]===void 0&&(pt.headers[Et]=[]),pt.headers[Et].push(vt[2])):pt.headers[Et]!==void 0?pt.headers[Et]+=", "+vt[2]:pt.headers[Et]=vt[2],pt.rawHeaders.push(vt[1],vt[2])}}),pt._charset="x-user-defined",!it.overrideMimeType){var yt=pt.rawHeaders["mime-type"];if(yt){var mt=yt.match(/;\s*charset=([^;])(;|$)/);mt&&(pt._charset=mt[1].toLowerCase())}pt._charset||(pt._charset="utf-8")}};ot(lt,st.Readable),lt.prototype._read=function(){var ct=this._resumeFetch;ct&&(this._resumeFetch=null,ct())},lt.prototype._onXHRProgress=function(){var ct=this,ut=ct._xhr,dt=null;switch(ct._mode){case"text:vbarray":if(ut.readyState!==at.DONE)break;try{dt=new rt.VBArray(ut.responseBody).toArray()}catch{}if(dt!==null){ct.push(new nt(dt));break}case"text":try{dt=ut.responseText}catch{ct._mode="text:vbarray";break}if(dt.length>ct._pos){var ht=dt.substr(ct._pos);if(ct._charset==="x-user-defined"){for(var pt=new nt(ht.length),gt=0;gt<ht.length;gt++)pt[gt]=255&ht.charCodeAt(gt);ct.push(pt)}else ct.push(ht,ct._charset);ct._pos=dt.length}break;case"arraybuffer":if(ut.readyState!==at.DONE||!ut.response)break;dt=ut.response,ct.push(new nt(new Uint8Array(dt)));break;case"moz-chunked-arraybuffer":if(dt=ut.response,ut.readyState!==at.LOADING||!dt)break;ct.push(new nt(new Uint8Array(dt)));break;case"ms-stream":if(dt=ut.response,ut.readyState!==at.LOADING)break;var ft=new rt.MSStreamReader;ft.onprogress=function(){ft.result.byteLength>ct._pos&&(ct.push(new nt(new Uint8Array(ft.result.slice(ct._pos)))),ct._pos=ft.result.byteLength)},ft.onload=function(){ct.push(null)},ft.readAsArrayBuffer(dt)}ct._xhr.readyState===at.DONE&&ct._mode!=="ms-stream"&&ct.push(null)}}).call(this,et(2),et(5).Buffer,et(6))},function(s,o,et){var tt=et(199),nt=et(201);function rt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=mt,o.resolve=function(Ft,vt){return mt(Ft,!1,!0).resolve(vt)},o.resolveObject=function(Ft,vt){return Ft?mt(Ft,!1,!0).resolveObject(vt):vt},o.format=function(Ft){return nt.isString(Ft)&&(Ft=mt(Ft)),Ft instanceof rt?Ft.format():rt.prototype.format.call(Ft)},o.Url=rt;var it=/^([a-z0-9.+-]+:)/i,ot=/:[0-9]*$/,st=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,at=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),lt=["'"].concat(at),ct=["%","/","?",";","#"].concat(lt),ut=["/","?","#"],dt=/^[+a-z0-9A-Z_-]{0,63}$/,ht=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,pt={javascript:!0,"javascript:":!0},gt={javascript:!0,"javascript:":!0},ft={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},yt=et(202);function mt(Ft,vt,Et){if(Ft&&nt.isObject(Ft)&&Ft instanceof rt)return Ft;var wt=new rt;return wt.parse(Ft,vt,Et),wt}rt.prototype.parse=function(Ft,vt,Et){if(!nt.isString(Ft))throw new TypeError("Parameter 'url' must be a string, not "+typeof Ft);var wt=Ft.indexOf("?"),It=wt!==-1&&wt<Ft.indexOf("#")?"?":"#",St=Ft.split(It);St[0]=St[0].replace(/\\/g,"/");var Rt=Ft=St.join(It);if(Rt=Rt.trim(),!Et&&Ft.split("#").length===1){var Tt=st.exec(Rt);if(Tt)return this.path=Rt,this.href=Rt,this.pathname=Tt[1],Tt[2]?(this.search=Tt[2],this.query=vt?yt.parse(this.search.substr(1)):this.search.substr(1)):vt&&(this.search="",this.query={}),this}var bt=it.exec(Rt);if(bt){var xt=(bt=bt[0]).toLowerCase();this.protocol=xt,Rt=Rt.substr(bt.length)}if(Et||bt||Rt.match(/^\/\/[^@\/]+@[^@\/]+/)){var Bt=Rt.substr(0,2)==="//";!Bt||bt&&gt[bt]||(Rt=Rt.substr(2),this.slashes=!0)}if(!gt[bt]&&(Bt||bt&&!ft[bt])){for(var Ct,Mt,Nt=-1,At=0;At<ut.length;At++)(Ot=Rt.indexOf(ut[At]))!==-1&&(Nt===-1||Ot<Nt)&&(Nt=Ot);for((Mt=Nt===-1?Rt.lastIndexOf("@"):Rt.lastIndexOf("@",Nt))!==-1&&(Ct=Rt.slice(0,Mt),Rt=Rt.slice(Mt+1),this.auth=decodeURIComponent(Ct)),Nt=-1,At=0;At<ct.length;At++){var Ot;(Ot=Rt.indexOf(ct[At]))!==-1&&(Nt===-1||Ot<Nt)&&(Nt=Ot)}Nt===-1&&(Nt=Rt.length),this.host=Rt.slice(0,Nt),Rt=Rt.slice(Nt),this.parseHost(),this.hostname=this.hostname||"";var Vt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Vt)for(var Wt=this.hostname.split(/\./),Jt=(At=0,Wt.length);At<Jt;At++){var qt=Wt[At];if(qt&&!qt.match(dt)){for(var Ht="",Xt=0,Lt=qt.length;Xt<Lt;Xt++)qt.charCodeAt(Xt)>127?Ht+="x":Ht+=qt[Xt];if(!Ht.match(dt)){var Pt=Wt.slice(0,At),kt=Wt.slice(At+1),zt=qt.match(ht);zt&&(Pt.push(zt[1]),kt.unshift(zt[2])),kt.length&&(Rt="/"+kt.join(".")+Rt),this.hostname=Pt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Vt||(this.hostname=tt.toASCII(this.hostname));var tn=this.port?":"+this.port:"",Gt=this.hostname||"";this.host=Gt+tn,this.href+=this.host,Vt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Rt[0]!=="/"&&(Rt="/"+Rt))}if(!pt[xt])for(At=0,Jt=lt.length;At<Jt;At++){var en=lt[At];if(Rt.indexOf(en)!==-1){var cn=encodeURIComponent(en);cn===en&&(cn=escape(en)),Rt=Rt.split(en).join(cn)}}var Zt=Rt.indexOf("#");Zt!==-1&&(this.hash=Rt.substr(Zt),Rt=Rt.slice(0,Zt));var dn=Rt.indexOf("?");if(dn!==-1?(this.search=Rt.substr(dn),this.query=Rt.substr(dn+1),vt&&(this.query=yt.parse(this.query)),Rt=Rt.slice(0,dn)):vt&&(this.search="",this.query={}),Rt&&(this.pathname=Rt),ft[xt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){tn=this.pathname||"";var Fn=this.search||"";this.path=tn+Fn}return this.href=this.format(),this},rt.prototype.format=function(){var Ft=this.auth||"";Ft&&(Ft=(Ft=encodeURIComponent(Ft)).replace(/%3A/i,":"),Ft+="@");var vt=this.protocol||"",Et=this.pathname||"",wt=this.hash||"",It=!1,St="";this.host?It=Ft+this.host:this.hostname&&(It=Ft+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(It+=":"+this.port)),this.query&&nt.isObject(this.query)&&Object.keys(this.query).length&&(St=yt.stringify(this.query));var Rt=this.search||St&&"?"+St||"";return vt&&vt.substr(-1)!==":"&&(vt+=":"),this.slashes||(!vt||ft[vt])&&It!==!1?(It="//"+(It||""),Et&&Et.charAt(0)!=="/"&&(Et="/"+Et)):It||(It=""),wt&&wt.charAt(0)!=="#"&&(wt="#"+wt),Rt&&Rt.charAt(0)!=="?"&&(Rt="?"+Rt),vt+It+(Et=Et.replace(/[?#]/g,function(Tt){return encodeURIComponent(Tt)}))+(Rt=Rt.replace("#","%23"))+wt},rt.prototype.resolve=function(Ft){return this.resolveObject(mt(Ft,!1,!0)).format()},rt.prototype.resolveObject=function(Ft){if(nt.isString(Ft)){var vt=new rt;vt.parse(Ft,!1,!0),Ft=vt}for(var Et=new rt,wt=Object.keys(this),It=0;It<wt.length;It++){var St=wt[It];Et[St]=this[St]}if(Et.hash=Ft.hash,Ft.href==="")return Et.href=Et.format(),Et;if(Ft.slashes&&!Ft.protocol){for(var Rt=Object.keys(Ft),Tt=0;Tt<Rt.length;Tt++){var bt=Rt[Tt];bt!=="protocol"&&(Et[bt]=Ft[bt])}return ft[Et.protocol]&&Et.hostname&&!Et.pathname&&(Et.path=Et.pathname="/"),Et.href=Et.format(),Et}if(Ft.protocol&&Ft.protocol!==Et.protocol){if(!ft[Ft.protocol]){for(var xt=Object.keys(Ft),Bt=0;Bt<xt.length;Bt++){var Ct=xt[Bt];Et[Ct]=Ft[Ct]}return Et.href=Et.format(),Et}if(Et.protocol=Ft.protocol,Ft.host||gt[Ft.protocol])Et.pathname=Ft.pathname;else{for(var Mt=(Ft.pathname||"").split("/");Mt.length&&!(Ft.host=Mt.shift()););Ft.host||(Ft.host=""),Ft.hostname||(Ft.hostname=""),Mt[0]!==""&&Mt.unshift(""),Mt.length<2&&Mt.unshift(""),Et.pathname=Mt.join("/")}if(Et.search=Ft.search,Et.query=Ft.query,Et.host=Ft.host||"",Et.auth=Ft.auth,Et.hostname=Ft.hostname||Ft.host,Et.port=Ft.port,Et.pathname||Et.search){var Nt=Et.pathname||"",At=Et.search||"";Et.path=Nt+At}return Et.slashes=Et.slashes||Ft.slashes,Et.href=Et.format(),Et}var Ot=Et.pathname&&Et.pathname.charAt(0)==="/",Vt=Ft.host||Ft.pathname&&Ft.pathname.charAt(0)==="/",Wt=Vt||Ot||Et.host&&Ft.pathname,Jt=Wt,qt=Et.pathname&&Et.pathname.split("/")||[],Ht=(Mt=Ft.pathname&&Ft.pathname.split("/")||[],Et.protocol&&!ft[Et.protocol]);if(Ht&&(Et.hostname="",Et.port=null,Et.host&&(qt[0]===""?qt[0]=Et.host:qt.unshift(Et.host)),Et.host="",Ft.protocol&&(Ft.hostname=null,Ft.port=null,Ft.host&&(Mt[0]===""?Mt[0]=Ft.host:Mt.unshift(Ft.host)),Ft.host=null),Wt=Wt&&(Mt[0]===""||qt[0]==="")),Vt)Et.host=Ft.host||Ft.host===""?Ft.host:Et.host,Et.hostname=Ft.hostname||Ft.hostname===""?Ft.hostname:Et.hostname,Et.search=Ft.search,Et.query=Ft.query,qt=Mt;else if(Mt.length)qt||(qt=[]),qt.pop(),qt=qt.concat(Mt),Et.search=Ft.search,Et.query=Ft.query;else if(!nt.isNullOrUndefined(Ft.search))return Ht&&(Et.hostname=Et.host=qt.shift(),(zt=!!(Et.host&&Et.host.indexOf("@")>0)&&Et.host.split("@"))&&(Et.auth=zt.shift(),Et.host=Et.hostname=zt.shift())),Et.search=Ft.search,Et.query=Ft.query,nt.isNull(Et.pathname)&&nt.isNull(Et.search)||(Et.path=(Et.pathname?Et.pathname:"")+(Et.search?Et.search:"")),Et.href=Et.format(),Et;if(!qt.length)return Et.pathname=null,Et.search?Et.path="/"+Et.search:Et.path=null,Et.href=Et.format(),Et;for(var Xt=qt.slice(-1)[0],Lt=(Et.host||Ft.host||qt.length>1)&&(Xt==="."||Xt==="..")||Xt==="",Pt=0,kt=qt.length;kt>=0;kt--)(Xt=qt[kt])==="."?qt.splice(kt,1):Xt===".."?(qt.splice(kt,1),Pt++):Pt&&(qt.splice(kt,1),Pt--);if(!Wt&&!Jt)for(;Pt--;Pt)qt.unshift("..");!Wt||qt[0]===""||qt[0]&&qt[0].charAt(0)==="/"||qt.unshift(""),Lt&&qt.join("/").substr(-1)!=="/"&&qt.push("");var zt,tn=qt[0]===""||qt[0]&&qt[0].charAt(0)==="/";return Ht&&(Et.hostname=Et.host=tn?"":qt.length?qt.shift():"",(zt=!!(Et.host&&Et.host.indexOf("@")>0)&&Et.host.split("@"))&&(Et.auth=zt.shift(),Et.host=Et.hostname=zt.shift())),(Wt=Wt||Et.host&&qt.length)&&!tn&&qt.unshift(""),qt.length?Et.pathname=qt.join("/"):(Et.pathname=null,Et.path=null),nt.isNull(Et.pathname)&&nt.isNull(Et.search)||(Et.path=(Et.pathname?Et.pathname:"")+(Et.search?Et.search:"")),Et.auth=Ft.auth||Et.auth,Et.slashes=Et.slashes||Ft.slashes,Et.href=Et.format(),Et},rt.prototype.parseHost=function(){var Ft=this.host,vt=ot.exec(Ft);vt&&((vt=vt[0])!==":"&&(this.port=vt.substr(1)),Ft=Ft.substr(0,Ft.length-vt.length)),Ft&&(this.hostname=Ft)}},function(s,o,et){const tt=nt=>nt!==null&&typeof nt=="object"&&typeof nt.pipe=="function";tt.writable=nt=>tt(nt)&&nt.writable!==!1&&typeof nt._write=="function"&&typeof nt._writableState=="object",tt.readable=nt=>tt(nt)&&nt.readable!==!1&&typeof nt._read=="function"&&typeof nt._readableState=="object",tt.duplex=nt=>tt.writable(nt)&&tt.readable(nt),tt.transform=nt=>tt.duplex(nt)&&typeof nt._transform=="function"&&typeof nt._transformState=="object",s.exports=tt},function(s,o,et){function tt(ft){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(yt){return typeof yt}:function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(ft)}function nt(ft,yt){for(var mt=0;mt<yt.length;mt++){var Ft=yt[mt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(ft,Ft.key,Ft)}}function rt(ft,yt,mt){return yt&&nt(ft.prototype,yt),mt&&nt(ft,mt),Object.defineProperty(ft,"prototype",{writable:!1}),ft}function it(ft,yt){if(!(ft instanceof yt))throw new TypeError("Cannot call a class as a function")}function ot(ft,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function");ft.prototype=Object.create(yt&&yt.prototype,{constructor:{value:ft,writable:!0,configurable:!0}}),Object.defineProperty(ft,"prototype",{writable:!1}),yt&&st(ft,yt)}function st(ft,yt){return(st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(mt,Ft){return mt.__proto__=Ft,mt})(ft,yt)}function at(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var mt,Ft=ct(ft);if(yt){var vt=ct(this).constructor;mt=Reflect.construct(Ft,arguments,vt)}else mt=Ft.apply(this,arguments);return lt(this,mt)}}function lt(ft,yt){if(yt&&(tt(yt)==="object"||typeof yt=="function"))return yt;if(yt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(ft)}function ct(ft){return(ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(ft)}var ut=et(4).LEVEL,dt=et(49),ht=et(207),pt=et(39)("winston:create-logger");function gt(ft){return"is"+ft.charAt(0).toUpperCase()+ft.slice(1)+"Enabled"}s.exports=function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ft.levels=ft.levels||dt.npm.levels;var yt=function(Ft){ot(Et,Ft);var vt=at(Et);function Et(wt){return it(this,Et),vt.call(this,wt)}return rt(Et)}(ht),mt=new yt(ft);return Object.keys(ft.levels).forEach(function(Ft){pt('Define prototype method for "%s"',Ft),Ft!=="log"?(yt.prototype[Ft]=function(){for(var vt=this||mt,Et=arguments.length,wt=new Array(Et),It=0;It<Et;It++)wt[It]=arguments[It];if(wt.length===1){var St=wt[0],Rt=St&&St.message&&St||{message:St};return Rt.level=Rt[ut]=Ft,vt._addDefaultMeta(Rt),vt.write(Rt),this||mt}return wt.length===0?(vt.log(Ft,""),vt):vt.log.apply(vt,[Ft].concat(wt))},yt.prototype[gt(Ft)]=function(){return(this||mt).isLevelEnabled(Ft)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),mt}},function(s,o,et){(function(tt){function nt(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ht.key,ht)}}var rt=et(16),it=et(50),ot=et(39)("winston:exception"),st=et(89),at=et(90),lt=et(91);s.exports=function(){function ct(ht){if(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,ct),!ht)throw new Error("Logger is required to handle exceptions");this.logger=ht,this.handlers=new Map}var ut,dt;return ut=ct,(dt=[{key:"handle",value:function(){for(var ht=this,pt=arguments.length,gt=new Array(pt),ft=0;ft<pt;ft++)gt[ft]=arguments[ft];gt.forEach(function(yt){if(Array.isArray(yt))return yt.forEach(function(mt){return ht._addHandler(mt)});ht._addHandler(yt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),tt.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var ht=this;this.catcher&&(tt.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(pt){return ht.logger.unpipe(pt)}))}},{key:"getAllInfo",value:function(ht){var pt=ht.message;return pt||typeof ht!="string"||(pt=ht),{error:ht,level:"error",message:["uncaughtException: ".concat(pt||"(no error message)"),ht.stack||"  No stack trace"].join(`
`),stack:ht.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ht)}}},{key:"getProcessInfo",value:function(){return{pid:tt.pid,uid:tt.getuid?tt.getuid():null,gid:tt.getgid?tt.getgid():null,cwd:tt.cwd(),execPath:tt.execPath,version:tt.version,argv:tt.argv,memoryUsage:tt.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:rt.loadavg(),uptime:rt.uptime()}}},{key:"getTrace",value:function(ht){return(ht?at.parse(ht):at.get()).map(function(pt){return{column:pt.getColumnNumber(),file:pt.getFileName(),function:pt.getFunctionName(),line:pt.getLineNumber(),method:pt.getMethodName(),native:pt.isNative()}})}},{key:"_addHandler",value:function(ht){if(!this.handlers.has(ht)){ht.handleExceptions=!0;var pt=new lt(ht);this.handlers.set(ht,pt),this.logger.pipe(pt)}}},{key:"_uncaughtException",value:function(ht){var pt,gt=this.getAllInfo(ht),ft=this._getExceptionHandlers(),yt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ht):this.logger.exitOnError;function mt(){ot("doExit",yt),ot("process._exiting",tt._exiting),yt&&!tt._exiting&&(pt&&clearTimeout(pt),tt.exit(1))}if(!ft.length&&yt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),yt=!1),!ft||ft.length===0)return tt.nextTick(mt);it(ft,function(Ft,vt){var Et=st(vt),wt=Ft.transport||Ft;function It(St){return function(){ot(St),Et()}}wt._ending=!0,wt.once("finish",It("finished")),wt.once("error",It("error"))},function(){return yt&&mt()}),this.logger.log(gt),yt&&(pt=setTimeout(mt,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(ht){return(ht.transport||ht).handleExceptions})}}])&&nt(ut.prototype,dt),Object.defineProperty(ut,"prototype",{writable:!1}),ct}()}).call(this,et(2))},function(s,o,et){var tt=et(210);s.exports=function(nt){var rt,it=0;function ot(){return it||(it=1,rt=nt.apply(this,arguments),nt=null),rt}return ot.displayName=tt(nt),ot}},function(s,o){function et(tt){for(var nt in tt)this[nt]=tt[nt]}o.get=function(tt){var nt=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var rt={},it=Error.prepareStackTrace;Error.prepareStackTrace=function(st,at){return at},Error.captureStackTrace(rt,tt||o.get);var ot=rt.stack;return Error.prepareStackTrace=it,Error.stackTraceLimit=nt,ot},o.parse=function(tt){if(!tt.stack)return[];var nt=this;return tt.stack.split(`
`).slice(1).map(function(rt){if(rt.match(/^\s*[-]{4,}$/))return nt._createParsedCallSite({fileName:rt,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var it=rt.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(it){var ot=null,st=null,at=null,lt=null,ct=null,ut=it[5]==="native";if(it[1]){var dt=(at=it[1]).lastIndexOf(".");if(at[dt-1]=="."&&dt--,dt>0){ot=at.substr(0,dt),st=at.substr(dt+1);var ht=ot.indexOf(".Module");ht>0&&(at=at.substr(ht+1),ot=ot.substr(0,ht))}lt=null}st&&(lt=ot,ct=st),st==="<anonymous>"&&(ct=null,at=null);var pt={fileName:it[2]||null,lineNumber:parseInt(it[3],10)||null,functionName:at,typeName:lt,methodName:ct,columnNumber:parseInt(it[4],10)||null,native:ut};return nt._createParsedCallSite(pt)}}).filter(function(rt){return!!rt})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(tt){et.prototype[tt]=null,et.prototype["get"+tt[0].toUpperCase()+tt.substr(1)]=function(){return this[tt]}}),["topLevel","eval","native","constructor"].forEach(function(tt){et.prototype[tt]=!1,et.prototype["is"+tt[0].toUpperCase()+tt.substr(1)]=function(){return this[tt]}}),o._createParsedCallSite=function(tt){return new et(tt)}},function(s,o,et){function tt(lt){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct})(lt)}function nt(lt,ct){for(var ut=0;ut<ct.length;ut++){var dt=ct[ut];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(lt,dt.key,dt)}}function rt(lt,ct){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ut,dt){return ut.__proto__=dt,ut})(lt,ct)}function it(lt){var ct=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ut,dt=st(lt);if(ct){var ht=st(this).constructor;ut=Reflect.construct(dt,arguments,ht)}else ut=dt.apply(this,arguments);return ot(this,ut)}}function ot(lt,ct){if(ct&&(tt(ct)==="object"||typeof ct=="function"))return ct;if(ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}(lt)}function st(lt){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ct){return ct.__proto__||Object.getPrototypeOf(ct)})(lt)}var at=et(33).Writable;s.exports=function(lt){(function(pt,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(gt&&gt.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Object.defineProperty(pt,"prototype",{writable:!1}),gt&&rt(pt,gt)})(ht,lt);var ct,ut,dt=it(ht);function ht(pt){var gt;if(function(ft,yt){if(!(ft instanceof yt))throw new TypeError("Cannot call a class as a function")}(this,ht),gt=dt.call(this,{objectMode:!0}),!pt)throw new Error("ExceptionStream requires a TransportStream instance.");return gt.handleExceptions=!0,gt.transport=pt,gt}return ct=ht,(ut=[{key:"_write",value:function(pt,gt,ft){return pt.exception?this.transport.log(pt,ft):(ft(),!0)}}])&&nt(ct.prototype,ut),Object.defineProperty(ct,"prototype",{writable:!1}),ht}(at)},function(s,o,et){(function(tt){function nt(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ht.key,ht)}}var rt=et(16),it=et(50),ot=et(39)("winston:rejection"),st=et(89),at=et(90),lt=et(91);s.exports=function(){function ct(ht){if(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,ct),!ht)throw new Error("Logger is required to handle rejections");this.logger=ht,this.handlers=new Map}var ut,dt;return ut=ct,(dt=[{key:"handle",value:function(){for(var ht=this,pt=arguments.length,gt=new Array(pt),ft=0;ft<pt;ft++)gt[ft]=arguments[ft];gt.forEach(function(yt){if(Array.isArray(yt))return yt.forEach(function(mt){return ht._addHandler(mt)});ht._addHandler(yt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),tt.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var ht=this;this.catcher&&(tt.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(pt){return ht.logger.unpipe(pt)}))}},{key:"getAllInfo",value:function(ht){var pt=null;return ht&&(pt=typeof ht=="string"?ht:ht.message),{error:ht,level:"error",message:["unhandledRejection: ".concat(pt||"(no error message)"),ht&&ht.stack||"  No stack trace"].join(`
`),stack:ht&&ht.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ht)}}},{key:"getProcessInfo",value:function(){return{pid:tt.pid,uid:tt.getuid?tt.getuid():null,gid:tt.getgid?tt.getgid():null,cwd:tt.cwd(),execPath:tt.execPath,version:tt.version,argv:tt.argv,memoryUsage:tt.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:rt.loadavg(),uptime:rt.uptime()}}},{key:"getTrace",value:function(ht){return(ht?at.parse(ht):at.get()).map(function(pt){return{column:pt.getColumnNumber(),file:pt.getFileName(),function:pt.getFunctionName(),line:pt.getLineNumber(),method:pt.getMethodName(),native:pt.isNative()}})}},{key:"_addHandler",value:function(ht){if(!this.handlers.has(ht)){ht.handleRejections=!0;var pt=new lt(ht);this.handlers.set(ht,pt),this.logger.pipe(pt)}}},{key:"_unhandledRejection",value:function(ht){var pt,gt=this.getAllInfo(ht),ft=this._getRejectionHandlers(),yt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ht):this.logger.exitOnError;function mt(){ot("doExit",yt),ot("process._exiting",tt._exiting),yt&&!tt._exiting&&(pt&&clearTimeout(pt),tt.exit(1))}if(!ft.length&&yt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),yt=!1),!ft||ft.length===0)return tt.nextTick(mt);it(ft,function(Ft,vt){var Et=st(vt),wt=Ft.transport||Ft;function It(St){return function(){ot(St),Et()}}wt._ending=!0,wt.once("finish",It("finished")),wt.once("error",It("error"))},function(){return yt&&mt()}),this.logger.log(gt),yt&&(pt=setTimeout(mt,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(ht){return(ht.transport||ht).handleRejections})}}])&&nt(ut.prototype,dt),Object.defineProperty(ut,"prototype",{writable:!1}),ct}()}).call(this,et(2))},function(s,o,et){s.exports={asArray:et(217),asBoolStrict:et(218),asBool:et(219),asPortNumber:et(220),asEnum:et(221),asFloatNegative:et(222),asFloatPositive:et(223),asFloat:et(53),asIntNegative:et(224),asIntPositive:et(94),asInt:et(52),asJsonArray:et(225),asJsonObject:et(226),asJson:et(54),asRegExp:et(227),asString:et(34),asUrlObject:et(95),asUrlString:et(228),asEmailString:et(229)}},function(s,o,et){const tt=et(52);s.exports=function(nt){const rt=tt(nt);if(rt<0)throw new Error("should be a positive integer");return rt}},function(s,o,et){const tt=et(34);s.exports=function(nt){const rt=tt(nt);try{return new URL(rt)}catch{throw new Error("should be a valid URL")}}},function(s,o,et){const tt={};tt.web=et(17),et(97);const nt={v1:{}};nt.v1.signaling={},nt.v1.signaling.api=et(10),nt.v1.signaling.api.SignalingClient=function(ht,pt,gt){gt||(gt={}),gt.format="text",this.client_=new tt.web.GrpcWebClientBase(gt),this.hostname_=ht.replace(/\/+$/,"")},nt.v1.signaling.api.SignalingPromiseClient=function(ht,pt,gt){gt||(gt={}),gt.format="text",this.client_=new tt.web.GrpcWebClientBase(gt),this.hostname_=ht.replace(/\/+$/,"")};const rt=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetHealth",tt.web.MethodType.UNARY,nt.v1.signaling.api.GetHealthRequest,nt.v1.signaling.api.GetHealthResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.GetHealthResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.getHealth=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",ht,pt||{},rt,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.getHealth=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",ht,pt||{},rt)};const it=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",tt.web.MethodType.UNARY,nt.v1.signaling.api.CreatePeerRequest,nt.v1.signaling.api.CreatePeerResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.CreatePeerResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.createPeer=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",ht,pt||{},it,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",ht,pt||{},it)};const ot=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",tt.web.MethodType.UNARY,nt.v1.signaling.api.DeletePeerRequest,nt.v1.signaling.api.DeletePeerResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.DeletePeerResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.deletePeer=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",ht,pt||{},ot,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",ht,pt||{},ot)};const st=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",tt.web.MethodType.UNARY,nt.v1.signaling.api.RefreshPeerRequest,nt.v1.signaling.api.RefreshPeerResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.RefreshPeerResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",ht,pt||{},st,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",ht,pt||{},st)};const at=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",tt.web.MethodType.UNARY,nt.v1.signaling.api.GetPeersRequest,nt.v1.signaling.api.GetPeersResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.GetPeersResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.getPeers=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",ht,pt||{},at,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",ht,pt||{},at)};const lt=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",tt.web.MethodType.UNARY,nt.v1.signaling.api.GetIceServersRequest,nt.v1.signaling.api.GetIceServersResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.GetIceServersResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.getIceServers=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",ht,pt||{},lt,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",ht,pt||{},lt)};const ct=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",tt.web.MethodType.UNARY,nt.v1.signaling.api.SendSignalRequest,nt.v1.signaling.api.SendSignalResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.SendSignalResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.sendSignal=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",ht,pt||{},ct,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",ht,pt||{},ct)};const ut=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",tt.web.MethodType.SERVER_STREAMING,nt.v1.signaling.api.ReceiveSignalStreamRequest,nt.v1.signaling.api.ReceiveSignalStreamResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(ht,pt){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",ht,pt||{},ut)},nt.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(ht,pt){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",ht,pt||{},ut)};const dt=new tt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetSessions",tt.web.MethodType.UNARY,nt.v1.signaling.api.GetSessionsRequest,nt.v1.signaling.api.GetSessionsResponse,function(ht){return ht.serializeBinary()},nt.v1.signaling.api.GetSessionsResponse.deserializeBinary);nt.v1.signaling.api.SignalingClient.prototype.getSessions=function(ht,pt,gt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetSessions",ht,pt||{},dt,gt)},nt.v1.signaling.api.SignalingPromiseClient.prototype.getSessions=function(ht,pt){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetSessions",ht,pt||{},dt)},s.exports=nt.v1.signaling.api},function(s,o,et){var tt=et(98),nt=tt,rt=Function("return this")();nt.exportSymbol("proto.google.protobuf.BoolValue",null,rt),nt.exportSymbol("proto.google.protobuf.BytesValue",null,rt),nt.exportSymbol("proto.google.protobuf.DoubleValue",null,rt),nt.exportSymbol("proto.google.protobuf.FloatValue",null,rt),nt.exportSymbol("proto.google.protobuf.Int32Value",null,rt),nt.exportSymbol("proto.google.protobuf.Int64Value",null,rt),nt.exportSymbol("proto.google.protobuf.StringValue",null,rt),nt.exportSymbol("proto.google.protobuf.UInt32Value",null,rt),nt.exportSymbol("proto.google.protobuf.UInt64Value",null,rt),proto.google.protobuf.DoubleValue=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.DoubleValue,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.FloatValue,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.Int64Value,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.UInt64Value,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.Int32Value,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.UInt32Value,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.BoolValue,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.StringValue,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(it){tt.Message.initialize(this,it,0,-1,null,null)},nt.inherits(proto.google.protobuf.BytesValue,tt.Message),nt.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(it){return proto.google.protobuf.DoubleValue.toObject(it,this)},proto.google.protobuf.DoubleValue.toObject=function(it,ot){var st={value:tt.Message.getFloatingPointFieldWithDefault(ot,1,0)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.DoubleValue.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readDouble();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())!==0&&ot.writeDouble(1,st)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return tt.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(it){return tt.Message.setProto3FloatField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(it){return proto.google.protobuf.FloatValue.toObject(it,this)},proto.google.protobuf.FloatValue.toObject=function(it,ot){var st={value:tt.Message.getFloatingPointFieldWithDefault(ot,1,0)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.FloatValue.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readFloat();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())!==0&&ot.writeFloat(1,st)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return tt.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(it){return tt.Message.setProto3FloatField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(it){return proto.google.protobuf.Int64Value.toObject(it,this)},proto.google.protobuf.Int64Value.toObject=function(it,ot){var st={value:tt.Message.getFieldWithDefault(ot,1,0)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.Int64Value.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readInt64();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())!==0&&ot.writeInt64(1,st)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return tt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(it){return tt.Message.setProto3IntField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(it){return proto.google.protobuf.UInt64Value.toObject(it,this)},proto.google.protobuf.UInt64Value.toObject=function(it,ot){var st={value:tt.Message.getFieldWithDefault(ot,1,0)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.UInt64Value.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readUint64();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())!==0&&ot.writeUint64(1,st)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return tt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(it){return tt.Message.setProto3IntField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(it){return proto.google.protobuf.Int32Value.toObject(it,this)},proto.google.protobuf.Int32Value.toObject=function(it,ot){var st={value:tt.Message.getFieldWithDefault(ot,1,0)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.Int32Value.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readInt32();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())!==0&&ot.writeInt32(1,st)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return tt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(it){return tt.Message.setProto3IntField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(it){return proto.google.protobuf.UInt32Value.toObject(it,this)},proto.google.protobuf.UInt32Value.toObject=function(it,ot){var st={value:tt.Message.getFieldWithDefault(ot,1,0)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.UInt32Value.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readUint32();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())!==0&&ot.writeUint32(1,st)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return tt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(it){return tt.Message.setProto3IntField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(it){return proto.google.protobuf.BoolValue.toObject(it,this)},proto.google.protobuf.BoolValue.toObject=function(it,ot){var st={value:tt.Message.getBooleanFieldWithDefault(ot,1,!1)};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.BoolValue.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readBool();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue())&&ot.writeBool(1,st)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return tt.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(it){return tt.Message.setProto3BooleanField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(it){return proto.google.protobuf.StringValue.toObject(it,this)},proto.google.protobuf.StringValue.toObject=function(it,ot){var st={value:tt.Message.getFieldWithDefault(ot,1,"")};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.StringValue.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readString();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue()).length>0&&ot.writeString(1,st)},proto.google.protobuf.StringValue.prototype.getValue=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(it){return tt.Message.setProto3StringField(this,1,it)},tt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(it){return proto.google.protobuf.BytesValue.toObject(it,this)},proto.google.protobuf.BytesValue.toObject=function(it,ot){var st={value:ot.getValue_asB64()};return it&&(st.$jspbMessageInstance=ot),st}),proto.google.protobuf.BytesValue.deserializeBinary=function(it){var ot=new tt.BinaryReader(it),st=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(st,ot)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(it,ot){for(;ot.nextField()&&!ot.isEndGroup();)switch(ot.getFieldNumber()){case 1:var st=ot.readBytes();it.setValue(st);break;default:ot.skipField()}return it},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var it=new tt.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,it),it.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(it,ot){var st;(st=it.getValue_asU8()).length>0&&ot.writeBytes(1,st)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return tt.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return tt.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return tt.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(it){return tt.Message.setProto3BytesField(this,1,it)},nt.object.extend(o,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(s,o,et){s instanceof String&&(s=String(s));for(var tt=s.length,nt=0;nt<tt;nt++){var rt=s[nt];if(o.call(et,rt,nt,s))return{i:nt,v:rt}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(s,o,et){s!=Array.prototype&&s!=Object.prototype&&(s[o]=et.value)},$jscomp.getGlobal=function(s){return typeof window<"u"&&window===s?s:global!==void 0&&global!=null?global:s},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(s,o,et,tt){if(o){for(et=$jscomp.global,s=s.split("."),tt=0;tt<s.length-1;tt++){var nt=s[tt];nt in et||(et[nt]={}),et=et[nt]}(o=o(tt=et[s=s[s.length-1]]))!=tt&&o!=null&&$jscomp.defineProperty(et,s,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(s){return s||function(o,et){return $jscomp.findInternal(this,o,et).i}},"es6","es3"),$jscomp.checkStringArgs=function(s,o,et){if(s==null)throw new TypeError("The 'this' value for String.prototype."+et+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+et+" must not be a regular expression");return s+""},$jscomp.polyfill("String.prototype.endsWith",function(s){return s||function(o,et){var tt=$jscomp.checkStringArgs(this,o,"endsWith");o+="",et===void 0&&(et=tt.length),et=Math.max(0,Math.min(0|et,tt.length));for(var nt=o.length;0<nt&&0<et;)if(tt[--et]!=o[--nt])return!1;return 0>=nt}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(s){return s||function(o,et){return $jscomp.findInternal(this,o,et).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(s){return s||function(o,et){var tt=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var nt=tt.length,rt=o.length;et=Math.max(0,Math.min(0|et,tt.length));for(var it=0;it<rt&&et<nt;)if(tt[et++]!=o[it++])return!1;return it>=rt}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(s){return s||function(o){var et=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var tt="";o;)1&o&&(tt+=et),(o>>>=1)&&(et+=et);return tt}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(s){return s!==void 0},goog.isString=function(s){return typeof s=="string"},goog.isBoolean=function(s){return typeof s=="boolean"},goog.isNumber=function(s){return typeof s=="number"},goog.exportPath_=function(s,o,et){s=s.split("."),et=et||goog.global,s[0]in et||et.execScript===void 0||et.execScript("var "+s[0]);for(var tt;s.length&&(tt=s.shift());)!s.length&&goog.isDef(o)?et[tt]=o:et=et[tt]&&et[tt]!==Object.prototype[tt]?et[tt]:et[tt]={}},goog.define=function(s,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(s){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(s)},goog.constructNamespace_=function(s,o){goog.exportPath_(s,o)},goog.getScriptNonce=function(s){return s&&s!=goog.global?goog.getScriptNonce_(s.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(s)?s:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(s){if(!goog.isString(s)||!s||s.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+s+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=s},goog.module.get=function(s){return goog.module.getInternal_(s)},goog.module.getInternal_=function(s){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var s=goog.global.$jscomp;return!!s&&typeof s.getCurrentModulePath=="function"&&!!s.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(s){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=s;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+s+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[s]={exports:o,type:goog.ModuleType.ES6,moduleId:s}}},goog.setTestOnly=function(s){if(goog.DISALLOW_TEST_ONLY_CODE)throw s=s||"",Error("Importing test-only code into non-debug environment"+(s?": "+s:"."))},goog.forwardDeclare=function(s){},goog.getObjectByName=function(s,o){s=s.split("."),o=o||goog.global;for(var et=0;et<s.length;et++)if(o=o[s[et]],!goog.isDefAndNotNull(o))return null;return o},goog.globalize=function(s,o){for(var et in o=o||goog.global,s)o[et]=s[et]},goog.addDependency=function(s,o,et,tt){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(s){goog.global.console&&goog.global.console.error(s)},goog.require=function(s){},goog.requireType=function(s){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(s){s.instance_=void 0,s.getInstance=function(){return s.instance_?s.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=s),s.instance_=new s)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(s){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(s){return"(function(){"+s+`
;})();
`},goog.loadModule=function(s){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(s))var et=s.call(void 0,{});else{if(!goog.isString(s))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(s=goog.workaroundSafari10EvalBug(s)),et=goog.loadModuleFromSource_.call(void 0,s)}var tt=goog.moduleLoaderState_.moduleName;if(!goog.isString(tt)||!tt)throw Error('Invalid module name "'+tt+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(tt,et):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof et=="object"&&et!=null&&Object.seal(et),goog.loadedModules_[tt]={exports:et,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(s){s=s.split("/");for(var o=0;o<s.length;)s[o]=="."?s.splice(o,1):o&&s[o]==".."&&s[o-1]&&s[o-1]!=".."?s.splice(--o,2):o++;return s.join("/")},goog.loadFileSync_=function(s){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(s);try{var o=new goog.global.XMLHttpRequest;return o.open("get",s,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(s,o,et){var tt=goog.global.$jscomp;tt||(goog.global.$jscomp=tt={});var nt=tt.transpile;if(!nt){var rt=goog.basePath+goog.TRANSPILER,it=goog.loadFileSync_(rt);if(it){if(function(){(0,eval)(it+`
//# sourceURL=`+rt)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,nt=(tt=goog.global.$jscomp).transpile}}return nt||(nt=tt.transpile=function(ot,st){return goog.logToConsole_(st+" requires transpilation but no transpiler was found."),ot}),nt(s,o,et)},goog.typeOf=function(s){var o=typeof s;if(o=="object"){if(!s)return"null";if(s instanceof Array)return"array";if(s instanceof Object)return o;var et=Object.prototype.toString.call(s);if(et=="[object Window]")return"object";if(et=="[object Array]"||typeof s.length=="number"&&s.splice!==void 0&&s.propertyIsEnumerable!==void 0&&!s.propertyIsEnumerable("splice"))return"array";if(et=="[object Function]"||s.call!==void 0&&s.propertyIsEnumerable!==void 0&&!s.propertyIsEnumerable("call"))return"function"}else if(o=="function"&&s.call===void 0)return"object";return o},goog.isNull=function(s){return s===null},goog.isDefAndNotNull=function(s){return s!=null},goog.isArray=function(s){return goog.typeOf(s)=="array"},goog.isArrayLike=function(s){var o=goog.typeOf(s);return o=="array"||o=="object"&&typeof s.length=="number"},goog.isDateLike=function(s){return goog.isObject(s)&&typeof s.getFullYear=="function"},goog.isFunction=function(s){return goog.typeOf(s)=="function"},goog.isObject=function(s){var o=typeof s;return o=="object"&&s!=null||o=="function"},goog.getUid=function(s){return s[goog.UID_PROPERTY_]||(s[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(s){return!!s[goog.UID_PROPERTY_]},goog.removeUid=function(s){s!==null&&"removeAttribute"in s&&s.removeAttribute(goog.UID_PROPERTY_);try{delete s[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(s){var o=goog.typeOf(s);if(o=="object"||o=="array"){if(typeof s.clone=="function")return s.clone();for(var et in o=o=="array"?[]:{},s)o[et]=goog.cloneObject(s[et]);return o}return s},goog.bindNative_=function(s,o,et){return s.call.apply(s.bind,arguments)},goog.bindJs_=function(s,o,et){if(!s)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var nt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(nt,tt),s.apply(o,nt)}}return function(){return s.apply(o,arguments)}},goog.bind=function(s,o,et){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(s,o){var et=Array.prototype.slice.call(arguments,1);return function(){var tt=et.slice();return tt.push.apply(tt,arguments),s.apply(this,tt)}},goog.mixin=function(s,o){for(var et in o)s[et]=o[et]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(s){if(goog.global.execScript)goog.global.execScript(s,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(s);else{var o=goog.global.document,et=o.createElement("SCRIPT");et.type="text/javascript",et.defer=!1,et.appendChild(o.createTextNode(s)),o.head.appendChild(et),o.head.removeChild(et)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(s,o){if(String(s).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+s);var et=function(nt){return goog.cssNameMapping_[nt]||nt},tt=function(nt){nt=nt.split("-");for(var rt=[],it=0;it<nt.length;it++)rt.push(et(nt[it]));return rt.join("-")};return tt=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?et:tt:function(nt){return nt},s=o?s+"-"+tt(o):tt(s),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(s):s},goog.setCssNameMapping=function(s,o){goog.cssNameMapping_=s,goog.cssNameMappingStyle_=o},goog.getMsg=function(s,o,et){return et&&et.html&&(s=s.replace(/</g,"&lt;")),o&&(s=s.replace(/\{\$([^}]+)}/g,function(tt,nt){return o!=null&&nt in o?o[nt]:tt})),s},goog.getMsgWithFallback=function(s,o){return s},goog.exportSymbol=function(s,o,et){goog.exportPath_(s,o,et)},goog.exportProperty=function(s,o,et){s[o]=et},goog.inherits=function(s,o){function et(){}et.prototype=o.prototype,s.superClass_=o.prototype,s.prototype=new et,s.prototype.constructor=s,s.base=function(tt,nt,rt){for(var it=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)it[ot-2]=arguments[ot];return o.prototype[nt].apply(tt,it)}},goog.base=function(s,o,et){var tt=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!tt)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(tt.superClass_!==void 0){for(var nt=Array(arguments.length-1),rt=1;rt<arguments.length;rt++)nt[rt-1]=arguments[rt];return tt.superClass_.constructor.apply(s,nt)}if(typeof o!="string"&&typeof o!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for(nt=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)nt[rt-2]=arguments[rt];rt=!1;for(var it=s.constructor.prototype;it;it=Object.getPrototypeOf(it))if(it[o]===tt)rt=!0;else if(rt)return it[o].apply(s,nt);if(s[o]===tt)return s.constructor.prototype[o].apply(s,nt);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(s){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");s.call(goog.global)},goog.defineClass=function(s,o){var et=o.constructor,tt=o.statics;return et&&et!=Object.prototype.constructor||(et=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),et=goog.defineClass.createSealingConstructor_(et,s),s&&goog.inherits(et,s),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(et.prototype,o),tt!=null&&(tt instanceof Function?tt(et):goog.defineClass.applyProperties_(et,tt)),et},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(s,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return s;var et=!goog.defineClass.isUnsealable_(o),tt=function(){var nt=s.apply(this,arguments)||this;return nt[goog.UID_PROPERTY_]=nt[goog.UID_PROPERTY_],this.constructor===tt&&et&&Object.seal instanceof Function&&Object.seal(nt),nt};return tt},goog.defineClass.isUnsealable_=function(s){return s&&s.prototype&&s.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(s,o){for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et]);for(var tt=0;tt<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;tt++)et=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[tt],Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])},goog.tagUnsealableClass=function(s){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(s){return s},goog.createTrustedTypesPolicy=function(s){var o=null;if(typeof TrustedTypes>"u"||!TrustedTypes.createPolicy)return o;try{o=TrustedTypes.createPolicy(s,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(et){goog.logToConsole_(et.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(s){var o=jspb.BinaryConstants.FieldType,et=jspb.BinaryConstants.WireType;switch(s){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return et.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return et.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return et.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return et.FIXED32;default:return et.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(s){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}s&&(this.message=String(s)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(s,o){goog.debug.Error.call(this,goog.asserts.subs_(s,o)),this.messagePattern=s},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(s){throw s},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(s,o){for(var et="",tt=(s=s.split("%s")).length-1,nt=0;nt<tt;nt++)et+=s[nt]+(nt<o.length?o[nt]:"%s");return et+s[tt]},goog.asserts.doAssertFailure_=function(s,o,et,tt){var nt="Assertion failed";if(et){nt+=": "+et;var rt=tt}else s&&(nt+=": "+s,rt=o);s=new goog.asserts.AssertionError(""+nt,rt||[]),goog.asserts.errorHandler_(s)},goog.asserts.setErrorHandler=function(s){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=s)},goog.asserts.assert=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!s&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertExists=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&s==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.fail=function(s,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(s)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertString=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(s)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertFunction=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(s)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertObject=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(s)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertArray=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(s)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertBoolean=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(s)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertElement=function(s,o,et){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(s)&&s.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertInstanceof=function(s,o,et,tt){return!goog.asserts.ENABLE_ASSERTS||s instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(s)],et,Array.prototype.slice.call(arguments,3)),s},goog.asserts.assertFinite=function(s,o,et){return!goog.asserts.ENABLE_ASSERTS||typeof s=="number"&&isFinite(s)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var s in Object.prototype)goog.asserts.fail(s+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(s){return s instanceof Function?s.displayName||s.name||"unknown type name":s instanceof Object?s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s):s===null?"null":typeof s},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(s){return s[s.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.indexOf.call(s,o,et)}:function(s,o,et){if(et=et==null?0:0>et?Math.max(0,s.length+et):et,goog.isString(s))return goog.isString(o)&&o.length==1?s.indexOf(o,et):-1;for(;et<s.length;et++)if(et in s&&s[et]===o)return et;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.lastIndexOf.call(s,o,et??s.length-1)}:function(s,o,et){if(0>(et=et??s.length-1)&&(et=Math.max(0,s.length+et)),goog.isString(s))return goog.isString(o)&&o.length==1?s.lastIndexOf(o,et):-1;for(;0<=et;et--)if(et in s&&s[et]===o)return et;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(s,o,et){goog.asserts.assert(s.length!=null),Array.prototype.forEach.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=goog.isString(s)?s.split(""):s,rt=0;rt<tt;rt++)rt in nt&&o.call(et,nt[rt],rt,s)},goog.array.forEachRight=function(s,o,et){var tt=s.length,nt=goog.isString(s)?s.split(""):s;for(--tt;0<=tt;--tt)tt in nt&&o.call(et,nt[tt],tt,s)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.filter.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=[],rt=0,it=goog.isString(s)?s.split(""):s,ot=0;ot<tt;ot++)if(ot in it){var st=it[ot];o.call(et,st,ot,s)&&(nt[rt++]=st)}return nt},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.map.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=Array(tt),rt=goog.isString(s)?s.split(""):s,it=0;it<tt;it++)it in rt&&(nt[it]=o.call(et,rt[it],it,s));return nt},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(s,o,et,tt){return goog.asserts.assert(s.length!=null),tt&&(o=goog.bind(o,tt)),Array.prototype.reduce.call(s,o,et)}:function(s,o,et,tt){var nt=et;return goog.array.forEach(s,function(rt,it){nt=o.call(tt,nt,rt,it,s)}),nt},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(s,o,et,tt){return goog.asserts.assert(s.length!=null),goog.asserts.assert(o!=null),tt&&(o=goog.bind(o,tt)),Array.prototype.reduceRight.call(s,o,et)}:function(s,o,et,tt){var nt=et;return goog.array.forEachRight(s,function(rt,it){nt=o.call(tt,nt,rt,it,s)}),nt},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.some.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=goog.isString(s)?s.split(""):s,rt=0;rt<tt;rt++)if(rt in nt&&o.call(et,nt[rt],rt,s))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.every.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=goog.isString(s)?s.split(""):s,rt=0;rt<tt;rt++)if(rt in nt&&!o.call(et,nt[rt],rt,s))return!1;return!0},goog.array.count=function(s,o,et){var tt=0;return goog.array.forEach(s,function(nt,rt,it){o.call(et,nt,rt,it)&&++tt},et),tt},goog.array.find=function(s,o,et){return 0>(o=goog.array.findIndex(s,o,et))?null:goog.isString(s)?s.charAt(o):s[o]},goog.array.findIndex=function(s,o,et){for(var tt=s.length,nt=goog.isString(s)?s.split(""):s,rt=0;rt<tt;rt++)if(rt in nt&&o.call(et,nt[rt],rt,s))return rt;return-1},goog.array.findRight=function(s,o,et){return 0>(o=goog.array.findIndexRight(s,o,et))?null:goog.isString(s)?s.charAt(o):s[o]},goog.array.findIndexRight=function(s,o,et){var tt=s.length,nt=goog.isString(s)?s.split(""):s;for(--tt;0<=tt;tt--)if(tt in nt&&o.call(et,nt[tt],tt,s))return tt;return-1},goog.array.contains=function(s,o){return 0<=goog.array.indexOf(s,o)},goog.array.isEmpty=function(s){return s.length==0},goog.array.clear=function(s){if(!goog.isArray(s))for(var o=s.length-1;0<=o;o--)delete s[o];s.length=0},goog.array.insert=function(s,o){goog.array.contains(s,o)||s.push(o)},goog.array.insertAt=function(s,o,et){goog.array.splice(s,et,0,o)},goog.array.insertArrayAt=function(s,o,et){goog.partial(goog.array.splice,s,et,0).apply(null,o)},goog.array.insertBefore=function(s,o,et){var tt;arguments.length==2||0>(tt=goog.array.indexOf(s,et))?s.push(o):goog.array.insertAt(s,o,tt)},goog.array.remove=function(s,o){var et;return(et=0<=(o=goog.array.indexOf(s,o)))&&goog.array.removeAt(s,o),et},goog.array.removeLast=function(s,o){return 0<=(o=goog.array.lastIndexOf(s,o))&&(goog.array.removeAt(s,o),!0)},goog.array.removeAt=function(s,o){return goog.asserts.assert(s.length!=null),Array.prototype.splice.call(s,o,1).length==1},goog.array.removeIf=function(s,o,et){return 0<=(o=goog.array.findIndex(s,o,et))&&(goog.array.removeAt(s,o),!0)},goog.array.removeAllIf=function(s,o,et){var tt=0;return goog.array.forEachRight(s,function(nt,rt){o.call(et,nt,rt,s)&&goog.array.removeAt(s,rt)&&tt++}),tt},goog.array.concat=function(s){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(s){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(s){var o=s.length;if(0<o){for(var et=Array(o),tt=0;tt<o;tt++)et[tt]=s[tt];return et}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(s,o){for(var et=1;et<arguments.length;et++){var tt=arguments[et];if(goog.isArrayLike(tt)){var nt=s.length||0,rt=tt.length||0;s.length=nt+rt;for(var it=0;it<rt;it++)s[nt+it]=tt[it]}else s.push(tt)}},goog.array.splice=function(s,o,et,tt){return goog.asserts.assert(s.length!=null),Array.prototype.splice.apply(s,goog.array.slice(arguments,1))},goog.array.slice=function(s,o,et){return goog.asserts.assert(s.length!=null),2>=arguments.length?Array.prototype.slice.call(s,o):Array.prototype.slice.call(s,o,et)},goog.array.removeDuplicates=function(s,o,et){o=o||s;var tt=function(st){return goog.isObject(st)?"o"+goog.getUid(st):(typeof st).charAt(0)+st};et=et||tt,tt={};for(var nt=0,rt=0;rt<s.length;){var it=s[rt++],ot=et(it);Object.prototype.hasOwnProperty.call(tt,ot)||(tt[ot]=!0,o[nt++]=it)}o.length=nt},goog.array.binarySearch=function(s,o,et){return goog.array.binarySearch_(s,et||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(s,o,et){return goog.array.binarySearch_(s,o,!0,void 0,et)},goog.array.binarySearch_=function(s,o,et,tt,nt){for(var rt,it=0,ot=s.length;it<ot;){var st=it+ot>>1,at=et?o.call(nt,s[st],st,s):o(tt,s[st]);0<at?it=st+1:(ot=st,rt=!at)}return rt?it:~it},goog.array.sort=function(s,o){s.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(s,o){for(var et=Array(s.length),tt=0;tt<s.length;tt++)et[tt]={index:tt,value:s[tt]};var nt=o||goog.array.defaultCompare;for(goog.array.sort(et,function(rt,it){return nt(rt.value,it.value)||rt.index-it.index}),tt=0;tt<s.length;tt++)s[tt]=et[tt].value},goog.array.sortByKey=function(s,o,et){var tt=et||goog.array.defaultCompare;goog.array.sort(s,function(nt,rt){return tt(o(nt),o(rt))})},goog.array.sortObjectsByKey=function(s,o,et){goog.array.sortByKey(s,function(tt){return tt[o]},et)},goog.array.isSorted=function(s,o,et){o=o||goog.array.defaultCompare;for(var tt=1;tt<s.length;tt++){var nt=o(s[tt-1],s[tt]);if(0<nt||nt==0&&et)return!1}return!0},goog.array.equals=function(s,o,et){if(!goog.isArrayLike(s)||!goog.isArrayLike(o)||s.length!=o.length)return!1;var tt=s.length;et=et||goog.array.defaultCompareEquality;for(var nt=0;nt<tt;nt++)if(!et(s[nt],o[nt]))return!1;return!0},goog.array.compare3=function(s,o,et){et=et||goog.array.defaultCompare;for(var tt=Math.min(s.length,o.length),nt=0;nt<tt;nt++){var rt=et(s[nt],o[nt]);if(rt!=0)return rt}return goog.array.defaultCompare(s.length,o.length)},goog.array.defaultCompare=function(s,o){return s>o?1:s<o?-1:0},goog.array.inverseDefaultCompare=function(s,o){return-goog.array.defaultCompare(s,o)},goog.array.defaultCompareEquality=function(s,o){return s===o},goog.array.binaryInsert=function(s,o,et){return 0>(et=goog.array.binarySearch(s,o,et))&&(goog.array.insertAt(s,o,-(et+1)),!0)},goog.array.binaryRemove=function(s,o,et){return 0<=(o=goog.array.binarySearch(s,o,et))&&goog.array.removeAt(s,o)},goog.array.bucket=function(s,o,et){for(var tt={},nt=0;nt<s.length;nt++){var rt=s[nt],it=o.call(et,rt,nt,s);goog.isDef(it)&&(tt[it]||(tt[it]=[])).push(rt)}return tt},goog.array.toObject=function(s,o,et){var tt={};return goog.array.forEach(s,function(nt,rt){tt[o.call(et,nt,rt,s)]=nt}),tt},goog.array.range=function(s,o,et){var tt=[],nt=0,rt=s;if(o!==void 0&&(nt=s,rt=o),0>(et=et||1)*(rt-nt))return[];if(0<et)for(s=nt;s<rt;s+=et)tt.push(s);else for(s=nt;s>rt;s+=et)tt.push(s);return tt},goog.array.repeat=function(s,o){for(var et=[],tt=0;tt<o;tt++)et[tt]=s;return et},goog.array.flatten=function(s){for(var o=[],et=0;et<arguments.length;et++){var tt=arguments[et];if(goog.isArray(tt))for(var nt=0;nt<tt.length;nt+=8192){var rt=goog.array.slice(tt,nt,nt+8192);rt=goog.array.flatten.apply(null,rt);for(var it=0;it<rt.length;it++)o.push(rt[it])}else o.push(tt)}return o},goog.array.rotate=function(s,o){return goog.asserts.assert(s.length!=null),s.length&&(0<(o%=s.length)?Array.prototype.unshift.apply(s,s.splice(-o,o)):0>o&&Array.prototype.push.apply(s,s.splice(0,-o))),s},goog.array.moveItem=function(s,o,et){goog.asserts.assert(0<=o&&o<s.length),goog.asserts.assert(0<=et&&et<s.length),o=Array.prototype.splice.call(s,o,1),Array.prototype.splice.call(s,et,0,o[0])},goog.array.zip=function(s){if(!arguments.length)return[];for(var o=[],et=arguments[0].length,tt=1;tt<arguments.length;tt++)arguments[tt].length<et&&(et=arguments[tt].length);for(tt=0;tt<et;tt++){for(var nt=[],rt=0;rt<arguments.length;rt++)nt.push(arguments[rt][tt]);o.push(nt)}return o},goog.array.shuffle=function(s,o){o=o||Math.random;for(var et=s.length-1;0<et;et--){var tt=Math.floor(o()*(et+1)),nt=s[et];s[et]=s[tt],s[tt]=nt}},goog.array.copyByIndex=function(s,o){var et=[];return goog.array.forEach(o,function(tt){et.push(s[tt])}),et},goog.array.concatMap=function(s,o,et){return goog.array.concat.apply([],goog.array.map(s,o,et))},goog.crypt={},goog.crypt.stringToByteArray=function(s){for(var o=[],et=0,tt=0;tt<s.length;tt++){var nt=s.charCodeAt(tt);255<nt&&(o[et++]=255&nt,nt>>=8),o[et++]=nt}return o},goog.crypt.byteArrayToString=function(s){if(8192>=s.length)return String.fromCharCode.apply(null,s);for(var o="",et=0;et<s.length;et+=8192){var tt=goog.array.slice(s,et,et+8192);o+=String.fromCharCode.apply(null,tt)}return o},goog.crypt.byteArrayToHex=function(s,o){return goog.array.map(s,function(et){return 1<(et=et.toString(16)).length?et:"0"+et}).join(o||"")},goog.crypt.hexToByteArray=function(s){goog.asserts.assert(s.length%2==0,"Key string length must be multiple of 2");for(var o=[],et=0;et<s.length;et+=2)o.push(parseInt(s.substring(et,et+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(s){for(var o=[],et=0,tt=0;tt<s.length;tt++){var nt=s.charCodeAt(tt);128>nt?o[et++]=nt:(2048>nt?o[et++]=nt>>6|192:((64512&nt)==55296&&tt+1<s.length&&(64512&s.charCodeAt(tt+1))==56320?(nt=65536+((1023&nt)<<10)+(1023&s.charCodeAt(++tt)),o[et++]=nt>>18|240,o[et++]=nt>>12&63|128):o[et++]=nt>>12|224,o[et++]=nt>>6&63|128),o[et++]=63&nt|128)}return o},goog.crypt.utf8ByteArrayToString=function(s){for(var o=[],et=0,tt=0;et<s.length;){var nt=s[et++];if(128>nt)o[tt++]=String.fromCharCode(nt);else if(191<nt&&224>nt){var rt=s[et++];o[tt++]=String.fromCharCode((31&nt)<<6|63&rt)}else if(239<nt&&365>nt){rt=s[et++];var it=s[et++];nt=((7&nt)<<18|(63&rt)<<12|(63&it)<<6|63&s[et++])-65536,o[tt++]=String.fromCharCode(55296+(nt>>10)),o[tt++]=String.fromCharCode(56320+(1023&nt))}else rt=s[et++],it=s[et++],o[tt++]=String.fromCharCode((15&nt)<<12|(63&rt)<<6|63&it)}return o.join("")},goog.crypt.xorByteArray=function(s,o){goog.asserts.assert(s.length==o.length,"XOR array lengths must match");for(var et=[],tt=0;tt<s.length;tt++)et.push(s[tt]^o[tt]);return et},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(s,o){return s.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(s,o){var et=s.length-o.length;return 0<=et&&s.indexOf(o,et)==et},goog.string.internal.caseInsensitiveStartsWith=function(s,o){return goog.string.internal.caseInsensitiveCompare(o,s.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(s,o){return goog.string.internal.caseInsensitiveCompare(o,s.substr(s.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(s,o){return s.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(s){return/^[\s\xa0]*$/.test(s)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},goog.string.internal.caseInsensitiveCompare=function(s,o){return(s=String(s).toLowerCase())<(o=String(o).toLowerCase())?-1:s==o?0:1},goog.string.internal.newLineToBr=function(s,o){return s.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(s,o){if(o)s=s.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(s))return s;s.indexOf("&")!=-1&&(s=s.replace(goog.string.internal.AMP_RE_,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(goog.string.internal.LT_RE_,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(goog.string.internal.GT_RE_,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(goog.string.internal.QUOT_RE_,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(goog.string.internal.NULL_RE_,"&#0;"))}return s},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(s,o){return goog.string.internal.newLineToBr(s.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(s,o){return s.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(s,o){return goog.string.internal.contains(s.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(s,o){var et=0;s=goog.string.internal.trim(String(s)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var tt=Math.max(s.length,o.length),nt=0;et==0&&nt<tt;nt++){var rt=s[nt]||"",it=o[nt]||"";do{if(rt=/(\d*)(\D*)(.*)/.exec(rt)||["","","",""],it=/(\d*)(\D*)(.*)/.exec(it)||["","","",""],rt[0].length==0&&it[0].length==0)break;et=rt[1].length==0?0:parseInt(rt[1],10);var ot=it[1].length==0?0:parseInt(it[1],10);et=goog.string.internal.compareElements_(et,ot)||goog.string.internal.compareElements_(rt[2].length==0,it[2].length==0)||goog.string.internal.compareElements_(rt[2],it[2]),rt=rt[3],it=it[3]}while(et==0)}return et},goog.string.internal.compareElements_=function(s,o){return s<o?-1:s>o?1:0},goog.string.TypedString=function(){},goog.string.Const=function(s,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=s===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(s){return s instanceof goog.string.Const&&s.constructor===goog.string.Const&&s.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?s.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+s+"'"),"type_error:Const")},goog.string.Const.from=function(s){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,s)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(s){return goog.fs.url.getUrlObject_().createObjectURL(s)},goog.fs.url.revokeObjectUrl=function(s){goog.fs.url.getUrlObject_().revokeObjectURL(s)},goog.fs.url.getUrlObject_=function(){var s=goog.fs.url.findUrlObject_();if(s!=null)return s;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(s,o){return typeof s=="number"?0<s?goog.i18n.bidi.Dir.LTR:0>s?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:s==null?null:s?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(s,o){return o?s.replace(goog.i18n.bidi.htmlSkipReg_,""):s},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(s,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(s,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(s){return goog.i18n.bidi.rtlRe_.test(s)},goog.i18n.bidi.isLtrChar=function(s){return goog.i18n.bidi.ltrRe_.test(s)},goog.i18n.bidi.isNeutralChar=function(s){return!goog.i18n.bidi.isLtrChar(s)&&!goog.i18n.bidi.isRtlChar(s)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(s,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(s,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(s,o){return s=goog.i18n.bidi.stripHtmlIfNeeded_(s,o),goog.i18n.bidi.isRequiredLtrRe_.test(s)||!goog.i18n.bidi.hasAnyLtr(s)&&!goog.i18n.bidi.hasAnyRtl(s)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(s,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(s,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(s){return goog.i18n.bidi.rtlLocalesRe_.test(s)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(s,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(s):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,s.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(s){return s.charAt(0)=="<"?s.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+s+"</span>"},goog.i18n.bidi.enforceRtlInText=function(s){return goog.i18n.bidi.Format.RLE+s+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(s){return s.charAt(0)=="<"?s.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+s+"</span>"},goog.i18n.bidi.enforceLtrInText=function(s){return goog.i18n.bidi.Format.LRE+s+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(s){return s.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(s){return s.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(s,o){var et=0,tt=0,nt=!1;for(s=goog.i18n.bidi.stripHtmlIfNeeded_(s,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<s.length;o++){var rt=s[o];goog.i18n.bidi.startsWithRtl(rt)?(et++,tt++):goog.i18n.bidi.isRequiredLtrRe_.test(rt)?nt=!0:goog.i18n.bidi.hasAnyLtr(rt)?tt++:goog.i18n.bidi.hasNumeralsRe_.test(rt)&&(nt=!0)}return tt==0?nt?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:et/tt>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(s,o){return goog.i18n.bidi.estimateDirection(s,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(s,o){s&&(o=goog.i18n.bidi.toDir(o))&&(s.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,s.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(s,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:s.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:s.dir="rtl";break;default:s.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(s,o){var et=goog.html.TrustedResourceUrl.unwrap(this),tt=(et=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(et))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(et[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",et[2]||"",s)+goog.html.TrustedResourceUrl.stringifyParams_("#",tt,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(s){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(s).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(s){return s instanceof goog.html.TrustedResourceUrl&&s.constructor===goog.html.TrustedResourceUrl&&s.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+s+"' of type "+goog.typeOf(s)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(s){return s.trustedURL_?s.trustedURL_:goog.html.TrustedResourceUrl.unwrap(s)},goog.html.TrustedResourceUrl.format=function(s,o){var et=goog.string.Const.unwrap(s);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(et))throw Error("Invalid TrustedResourceUrl format: "+et);return s=et.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(tt,nt){if(!Object.prototype.hasOwnProperty.call(o,nt))throw Error('Found marker, "'+nt+'", in format string, "'+et+'", but no valid label mapping found in args: '+JSON.stringify(o));return(tt=o[nt])instanceof goog.string.Const?goog.string.Const.unwrap(tt):encodeURIComponent(String(tt))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(s,o,et,tt){return goog.html.TrustedResourceUrl.format(s,o).cloneWithParams(et,tt)},goog.html.TrustedResourceUrl.fromConstant=function(s){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(s))},goog.html.TrustedResourceUrl.fromConstants=function(s){for(var o="",et=0;et<s.length;et++)o+=goog.string.Const.unwrap(s[et]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(s){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(s):s,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(o.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(s)),o},goog.html.TrustedResourceUrl.stringifyParams_=function(s,o,et){if(et==null)return o;if(goog.isString(et))return et?s+encodeURIComponent(et):"";for(var tt in et){var nt=et[tt];nt=goog.isArray(nt)?nt:[nt];for(var rt=0;rt<nt.length;rt++){var it=nt[rt];it!=null&&(o||(o=s),o+=(o.length>s.length?"&":"")+encodeURIComponent(tt)+"="+encodeURIComponent(String(it)))}}return o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(s){return goog.html.SafeUrl.unwrapTrustedURL(s).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(s){return s instanceof goog.html.SafeUrl&&s.constructor===goog.html.SafeUrl&&s.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(s){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(s))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(s){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(s)},goog.html.SafeUrl.fromBlob=function(s){return s=goog.html.SAFE_MIME_TYPE_PATTERN_.test(s.type)?goog.fs.url.createObjectUrl(s):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(s){var o=(s=s.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?s:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"tel:")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(s){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(s))||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"fb-messenger://share")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromWhatsAppUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"whatsapp://send")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromSmsUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(s)||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(s){var o=s.indexOf("#");if(0<o&&(s=s.substring(0,o)),!(o=s.match(/[?&]body=/gi)))return!0;if(1<o.length)return!1;if(!(s=s.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(s)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(s)},goog.html.SafeUrl.fromSshUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"ssh://")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(s,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,s,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(s,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,s,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(s,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,s,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(s,o,et){return(s=s.exec(o))?(s=s[1],(et instanceof goog.string.Const?[goog.string.Const.unwrap(et)]:et.map(function(tt){return goog.string.Const.unwrap(tt)})).indexOf(s)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(s){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(s))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(s){return s instanceof goog.html.SafeUrl?s:(s=typeof s=="object"&&s.implementsGoogStringTypedString?s.getTypedStringValue():String(s),goog.html.SAFE_URL_PATTERN_.test(s)||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(s,o){return s instanceof goog.html.SafeUrl?s:(s=typeof s=="object"&&s.implementsGoogStringTypedString?s.getTypedStringValue():String(s),o&&/^data:/i.test(s)&&(o=goog.html.SafeUrl.fromDataUrl(s)).getTypedStringValue()==s?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(s),"%s does not match the safe URL pattern",s)||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(s){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(s):s,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(s){return(s=goog.string.Const.unwrap(s)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(s,";"),"Last character of style string is not ';': "+s),goog.asserts.assert(goog.string.internal.contains(s,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+s),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(s){return s instanceof goog.html.SafeStyle&&s.constructor===goog.html.SafeStyle&&s.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(s)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=s,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(s){var o,et="";for(o in s){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var tt=s[o];tt!=null&&(et+=o+":"+(tt=goog.isArray(tt)?goog.array.map(tt,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(tt))+";")}return et?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(et):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(s){if(s instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(s).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(s=s instanceof goog.string.Const?goog.string.Const.unwrap(s):goog.html.SafeStyle.sanitizePropertyValueString_(String(s)),/[{;}]/.test(s))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[s]);return s},goog.html.SafeStyle.sanitizePropertyValueString_=function(s){var o=s.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.COMMENT_RE_.test(s)?(goog.asserts.fail("String value disallows comments, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(s)?goog.html.SafeStyle.hasBalancedSquareBrackets_(s)?goog.html.SafeStyle.sanitizeUrl_(s):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(s){for(var o=!0,et=!0,tt=0;tt<s.length;tt++){var nt=s.charAt(tt);nt=="'"&&et?o=!o:nt=='"'&&o&&(et=!et)}return o&&et},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(s){for(var o=!0,et=/^[-_a-zA-Z0-9]$/,tt=0;tt<s.length;tt++){var nt=s.charAt(tt);if(nt=="]"){if(o)return!1;o=!0}else if(nt=="["){if(!o)return!1;o=!1}else if(!o&&!et.test(nt))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(s){return s.replace(goog.html.SafeStyle.URL_RE_,function(o,et,tt,nt){var rt="";return tt=tt.replace(/^(['"])(.*)\1$/,function(it,ot,st){return rt=ot,st}),o=goog.html.SafeUrl.sanitize(tt).getTypedStringValue(),et+rt+o+rt+nt})},goog.html.SafeStyle.concat=function(s){var o="",et=function(tt){goog.isArray(tt)?goog.array.forEach(tt,et):o+=goog.html.SafeStyle.unwrap(tt)};return goog.array.forEach(arguments,et),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(s){return(s=goog.string.Const.unwrap(s)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeScript.fromConstantAndArgs=function(s,o){for(var et=[],tt=1;tt<arguments.length;tt++)et.push(goog.html.SafeScript.stringify_(arguments[tt]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(s)+")("+et.join(", ")+");")},goog.html.SafeScript.fromJson=function(s){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(s))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(s){return goog.html.SafeScript.unwrapTrustedScript(s).toString()},goog.html.SafeScript.unwrapTrustedScript=function(s){return s instanceof goog.html.SafeScript&&s.constructor===goog.html.SafeScript&&s.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(s){return JSON.stringify(s).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(s)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(s):s,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(s,o){return s===o?s!==0||1/s==1/o:s!=s&&o!=o},goog.object.forEach=function(s,o,et){for(var tt in s)o.call(et,s[tt],tt,s)},goog.object.filter=function(s,o,et){var tt,nt={};for(tt in s)o.call(et,s[tt],tt,s)&&(nt[tt]=s[tt]);return nt},goog.object.map=function(s,o,et){var tt,nt={};for(tt in s)nt[tt]=o.call(et,s[tt],tt,s);return nt},goog.object.some=function(s,o,et){for(var tt in s)if(o.call(et,s[tt],tt,s))return!0;return!1},goog.object.every=function(s,o,et){for(var tt in s)if(!o.call(et,s[tt],tt,s))return!1;return!0},goog.object.getCount=function(s){var o,et=0;for(o in s)et++;return et},goog.object.getAnyKey=function(s){for(var o in s)return o},goog.object.getAnyValue=function(s){for(var o in s)return s[o]},goog.object.contains=function(s,o){return goog.object.containsValue(s,o)},goog.object.getValues=function(s){var o,et=[],tt=0;for(o in s)et[tt++]=s[o];return et},goog.object.getKeys=function(s){var o,et=[],tt=0;for(o in s)et[tt++]=o;return et},goog.object.getValueByKeys=function(s,o){var et=goog.isArrayLike(o),tt=et?o:arguments;for(et=et?0:1;et<tt.length;et++){if(s==null)return;s=s[tt[et]]}return s},goog.object.containsKey=function(s,o){return s!==null&&o in s},goog.object.containsValue=function(s,o){for(var et in s)if(s[et]==o)return!0;return!1},goog.object.findKey=function(s,o,et){for(var tt in s)if(o.call(et,s[tt],tt,s))return tt},goog.object.findValue=function(s,o,et){return(o=goog.object.findKey(s,o,et))&&s[o]},goog.object.isEmpty=function(s){for(var o in s)return!1;return!0},goog.object.clear=function(s){for(var o in s)delete s[o]},goog.object.remove=function(s,o){var et;return(et=o in s)&&delete s[o],et},goog.object.add=function(s,o,et){if(s!==null&&o in s)throw Error('The object already contains the key "'+o+'"');goog.object.set(s,o,et)},goog.object.get=function(s,o,et){return s!==null&&o in s?s[o]:et},goog.object.set=function(s,o,et){s[o]=et},goog.object.setIfUndefined=function(s,o,et){return o in s?s[o]:s[o]=et},goog.object.setWithReturnValueIfNotSet=function(s,o,et){return o in s?s[o]:(et=et(),s[o]=et)},goog.object.equals=function(s,o){for(var et in s)if(!(et in o)||s[et]!==o[et])return!1;for(var tt in o)if(!(tt in s))return!1;return!0},goog.object.clone=function(s){var o,et={};for(o in s)et[o]=s[o];return et},goog.object.unsafeClone=function(s){var o=goog.typeOf(s);if(o=="object"||o=="array"){if(goog.isFunction(s.clone))return s.clone();for(var et in o=o=="array"?[]:{},s)o[et]=goog.object.unsafeClone(s[et]);return o}return s},goog.object.transpose=function(s){var o,et={};for(o in s)et[s[o]]=o;return et},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(s,o){for(var et,tt,nt=1;nt<arguments.length;nt++){for(et in tt=arguments[nt])s[et]=tt[et];for(var rt=0;rt<goog.object.PROTOTYPE_FIELDS_.length;rt++)et=goog.object.PROTOTYPE_FIELDS_[rt],Object.prototype.hasOwnProperty.call(tt,et)&&(s[et]=tt[et])}},goog.object.create=function(s){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var et={},tt=0;tt<o;tt+=2)et[arguments[tt]]=arguments[tt+1];return et},goog.object.createSet=function(s){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var et={},tt=0;tt<o;tt++)et[arguments[tt]]=!0;return et},goog.object.createImmutableView=function(s){var o=s;return Object.isFrozen&&!Object.isFrozen(s)&&(o=Object.create(s),Object.freeze(o)),o},goog.object.isImmutableView=function(s){return!!Object.isFrozen&&Object.isFrozen(s)},goog.object.getAllPropertyNames=function(s,o,et){if(!s)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(s);for(var tt={};s&&(s!==Object.prototype||o)&&(s!==Function.prototype||et);){for(var nt=Object.getOwnPropertyNames(s),rt=0;rt<nt.length;rt++)tt[nt[rt]]=!0;s=Object.getPrototypeOf(s)}return goog.object.getKeys(tt)},goog.object.getSuperClass=function(s){return(s=Object.getPrototypeOf(s.prototype))&&s.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(s,o){if(goog.string.internal.contains(s,"<"))throw Error("Selector does not allow '<', got: "+s);var et=s.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(et))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+s);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(et))throw Error("() and [] in selector must be balanced, got: "+s);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),s=s+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(s){for(var o={"(":")","[":"]"},et=[],tt=0;tt<s.length;tt++){var nt=s[tt];if(o[nt])et.push(o[nt]);else if(goog.object.contains(o,nt)&&et.pop()!=nt)return!1}return et.length==0},goog.html.SafeStyleSheet.concat=function(s){var o="",et=function(tt){goog.isArray(tt)?goog.array.forEach(tt,et):o+=goog.html.SafeStyleSheet.unwrap(tt)};return goog.array.forEach(arguments,et),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(s){return(s=goog.string.Const.unwrap(s)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(s,"<"),"Forbidden '<' character in style sheet string: "+s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(s))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(s){return s instanceof goog.html.SafeStyleSheet&&s.constructor===goog.html.SafeStyleSheet&&s.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(s)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=s,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(s){return goog.dom.tags.VOID_TAGS_[s]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(s){this.tagName_=s},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var s=goog.labs.userAgent.util.getNavigator_();return s&&(s=s.userAgent)?s:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(s){goog.labs.userAgent.util.userAgent_=s||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(s){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,s)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(s){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,s)},goog.labs.userAgent.util.extractVersionTuples=function(s){for(var o,et=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,tt=[];o=et.exec(s);)tt.push([o[1],o[2],o[3]||void 0]);return tt},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function s(nt){return nt=goog.array.find(nt,tt),et[nt]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var et={};goog.array.forEach(o,function(nt){et[nt[0]]=nt[1]});var tt=goog.partial(goog.object.containsKey,et);return goog.labs.userAgent.browser.isOpera()?s(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?s(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?s(["Edg"]):goog.labs.userAgent.browser.isChrome()?s(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(s){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),s)},goog.labs.userAgent.browser.getIEVersion_=function(s){var o=/rv: *([\d\.]*)/.exec(s);if(o&&o[1])return o[1];o="";var et=/MSIE +([\d\.]+)/.exec(s);if(et&&et[1])if(s=/Trident\/(\d.\d)/.exec(s),et[1]=="7.0")if(s&&s[1])switch(s[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=et[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(s){return goog.html.SafeHtml.unwrapTrustedHTML(s).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(s){return s instanceof goog.html.SafeHtml&&s.constructor===goog.html.SafeHtml&&s.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(s){if(s instanceof goog.html.SafeHtml)return s;var o=typeof s=="object",et=null;return o&&s.implementsGoogI18nBidiDirectionalString&&(et=s.getDirection()),s=o&&s.implementsGoogStringTypedString?s.getTypedStringValue():String(s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(s),et)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(s){return s instanceof goog.html.SafeHtml?s:(s=goog.html.SafeHtml.htmlEscape(s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(s)),s.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(s){return s instanceof goog.html.SafeHtml?s:(s=goog.html.SafeHtml.htmlEscape(s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(s)),s.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(s,o,et){return goog.html.SafeHtml.verifyTagName(String(s)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(s),o,et)},goog.html.SafeHtml.verifyTagName=function(s){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(s))throw Error("Invalid tag name <"+s+">.");if(s.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+s+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(s,o,et,tt){s&&goog.html.TrustedResourceUrl.unwrap(s);var nt={};return nt.src=s||null,nt.srcdoc=o&&goog.html.SafeHtml.unwrap(o),s=goog.html.SafeHtml.combineAttributes(nt,{sandbox:""},et),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",s,tt)},goog.html.SafeHtml.createSandboxIframe=function(s,o,et,tt){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var nt={};return nt.src=s?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(s)):null,nt.srcdoc=o||null,nt.sandbox="",s=goog.html.SafeHtml.combineAttributes(nt,{},et),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",s,tt)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(s,o){return goog.html.TrustedResourceUrl.unwrap(s),s=goog.html.SafeHtml.combineAttributes({src:s},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",s)},goog.html.SafeHtml.createScript=function(s,o){for(var et in o){var tt=et.toLowerCase();if(tt=="language"||tt=="src"||tt=="text"||tt=="type")throw Error('Cannot set "'+tt+'" attribute')}for(et="",s=goog.array.concat(s),tt=0;tt<s.length;tt++)et+=goog.html.SafeScript.unwrap(s[tt]);return s=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(et,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,s)},goog.html.SafeHtml.createStyle=function(s,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var et="";s=goog.array.concat(s);for(var tt=0;tt<s.length;tt++)et+=goog.html.SafeStyleSheet.unwrap(s[tt]);return s=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(et,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,s)},goog.html.SafeHtml.createMetaRefresh=function(s,o){return s=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(s)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+s})},goog.html.SafeHtml.getAttrNameAndValue_=function(s,o,et){if(et instanceof goog.string.Const)et=goog.string.Const.unwrap(et);else if(o.toLowerCase()=="style")et=goog.html.SafeHtml.getStyleValue_(et);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+et+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(et instanceof goog.html.TrustedResourceUrl)et=goog.html.TrustedResourceUrl.unwrap(et);else if(et instanceof goog.html.SafeUrl)et=goog.html.SafeUrl.unwrap(et);else{if(!goog.isString(et))throw Error('Attribute "'+o+'" on tag "'+s+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+et+'" given.');et=goog.html.SafeUrl.sanitize(et).getTypedStringValue()}}return et.implementsGoogStringTypedString&&(et=et.getTypedStringValue()),goog.asserts.assert(goog.isString(et)||goog.isNumber(et),"String or number value expected, got "+typeof et+" with value: "+et),o+'="'+goog.string.internal.htmlEscape(String(et))+'"'},goog.html.SafeHtml.getStyleValue_=function(s){if(!goog.isObject(s))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof s+" given: "+s);return s instanceof goog.html.SafeStyle||(s=goog.html.SafeStyle.create(s)),goog.html.SafeStyle.unwrap(s)},goog.html.SafeHtml.createWithDir=function(s,o,et,tt){return(o=goog.html.SafeHtml.create(o,et,tt)).dir_=s,o},goog.html.SafeHtml.join=function(s,o){var et=(s=goog.html.SafeHtml.htmlEscape(s)).getDirection(),tt=[],nt=function(rt){goog.isArray(rt)?goog.array.forEach(rt,nt):(rt=goog.html.SafeHtml.htmlEscape(rt),tt.push(goog.html.SafeHtml.unwrap(rt)),rt=rt.getDirection(),et==goog.i18n.bidi.Dir.NEUTRAL?et=rt:rt!=goog.i18n.bidi.Dir.NEUTRAL&&et!=rt&&(et=null))};return goog.array.forEach(o,nt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(tt.join(goog.html.SafeHtml.unwrap(s)),et)},goog.html.SafeHtml.concat=function(s){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(s,o){var et=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return et.dir_=s,et},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(s,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(s,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(s):s,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(s,o,et){var tt=null,nt="<"+s+goog.html.SafeHtml.stringifyAttributes(s,o);return goog.isDefAndNotNull(et)?goog.isArray(et)||(et=[et]):et=[],goog.dom.tags.isVoidTag(s.toLowerCase())?(goog.asserts.assert(!et.length,"Void tag <"+s+"> does not allow content."),nt+=">"):(tt=goog.html.SafeHtml.concat(et),nt+=">"+goog.html.SafeHtml.unwrap(tt)+"</"+s+">",tt=tt.getDirection()),(s=o&&o.dir)&&(tt=/^(ltr|rtl|auto)$/i.test(s)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(nt,tt)},goog.html.SafeHtml.stringifyAttributes=function(s,o){var et="";if(o)for(var tt in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(tt))throw Error('Invalid attribute name "'+tt+'".');var nt=o[tt];goog.isDefAndNotNull(nt)&&(et+=" "+goog.html.SafeHtml.getAttrNameAndValue_(s,tt,nt))}return et},goog.html.SafeHtml.combineAttributes=function(s,o,et){var tt,nt={};for(tt in s)goog.asserts.assert(tt.toLowerCase()==tt,"Must be lower case"),nt[tt]=s[tt];for(tt in o)goog.asserts.assert(tt.toLowerCase()==tt,"Must be lower case"),nt[tt]=o[tt];for(tt in et){var rt=tt.toLowerCase();if(rt in s)throw Error('Cannot override "'+rt+'" attribute, got "'+tt+'" with value "'+et[tt]+'"');rt in o&&delete nt[rt],nt[tt]=et[tt]}return nt},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(s,o,et){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,et||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(s){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(s);o&&(!s||!(s instanceof o.Location)&&s instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(s))}return s},goog.dom.asserts.assertIsElementType_=function(s,o){if(goog.asserts.ENABLE_ASSERTS){var et=goog.dom.asserts.getWindow_(s);et&&et[o]!==void 0&&(s&&(s instanceof et[o]||!(s instanceof et.Location||s instanceof et.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(s)))}return s},goog.dom.asserts.assertIsHTMLAnchorElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(s){if(!goog.isObject(s))return s===void 0?"undefined":s===null?"null":typeof s;try{return s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(s){try{var o=s&&s.ownerDocument,et=o&&(o.defaultView||o.parentWindow);if((et=et||goog.global).Element&&et.Location)return et}catch{}return null},goog.functions={},goog.functions.constant=function(s){return function(){return s}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(s,o){return s},goog.functions.error=function(s){return function(){throw Error(s)}},goog.functions.fail=function(s){return function(){throw s}},goog.functions.lock=function(s,o){return o=o||0,function(){return s.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(s){return function(){return arguments[s]}},goog.functions.partialRight=function(s,o){var et=Array.prototype.slice.call(arguments,1);return function(){var tt=Array.prototype.slice.call(arguments);return tt.push.apply(tt,et),s.apply(this,tt)}},goog.functions.withReturnValue=function(s,o){return goog.functions.sequence(s,goog.functions.constant(o))},goog.functions.equalTo=function(s,o){return function(et){return o?s==et:s===et}},goog.functions.compose=function(s,o){var et=arguments,tt=et.length;return function(){var nt;tt&&(nt=et[tt-1].apply(this,arguments));for(var rt=tt-2;0<=rt;rt--)nt=et[rt].call(this,nt);return nt}},goog.functions.sequence=function(s){var o=arguments,et=o.length;return function(){for(var tt,nt=0;nt<et;nt++)tt=o[nt].apply(this,arguments);return tt}},goog.functions.and=function(s){var o=arguments,et=o.length;return function(){for(var tt=0;tt<et;tt++)if(!o[tt].apply(this,arguments))return!1;return!0}},goog.functions.or=function(s){var o=arguments,et=o.length;return function(){for(var tt=0;tt<et;tt++)if(o[tt].apply(this,arguments))return!0;return!1}},goog.functions.not=function(s){return function(){return!s.apply(this,arguments)}},goog.functions.create=function(s,o){var et=function(){};return et.prototype=s.prototype,et=new et,s.apply(et,Array.prototype.slice.call(arguments,1)),et},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(s){var o,et=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(et||(o=s(),et=!0),o):s()}},goog.functions.once=function(s){var o=s;return function(){if(o){var et=o;o=null,et()}}},goog.functions.debounce=function(s,o,et){var tt=0;return function(nt){goog.global.clearTimeout(tt);var rt=arguments;tt=goog.global.setTimeout(function(){s.apply(et,rt)},o)}},goog.functions.throttle=function(s,o,et){var tt=0,nt=!1,rt=[],it=function(){tt=0,nt&&(nt=!1,ot())},ot=function(){tt=goog.global.setTimeout(it,o),s.apply(et,rt)};return function(st){rt=arguments,tt?nt=!0:ot()}},goog.functions.rateLimit=function(s,o,et){var tt=0,nt=function(){tt=0};return function(rt){tt||(tt=goog.global.setTimeout(nt,o),s.apply(et,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(s,o,et){s.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(et))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var s=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),s.appendChild(o),!(goog.DEBUG&&!s.firstChild)&&(o=s.firstChild.firstChild,s.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(s,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;s.lastChild;)s.removeChild(s.lastChild);s.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(s,o){if(goog.asserts.ENABLE_ASSERTS){var et=s.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[et])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+s.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(s,o)},goog.dom.safe.setOuterHtml=function(s,o){s.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(s).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(s).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(s).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(s,o){s.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(s,o){s.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(s,o){goog.dom.asserts.assertIsHTMLAnchorElement(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(s,o){if(goog.dom.asserts.assertIsHTMLImageElement(s),!(o instanceof goog.html.SafeUrl)){var et=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,et)}s.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(s,o){if(goog.dom.asserts.assertIsHTMLAudioElement(s),!(o instanceof goog.html.SafeUrl)){var et=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,et)}s.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(s,o){if(goog.dom.asserts.assertIsHTMLVideoElement(s),!(o instanceof goog.html.SafeUrl)){var et=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,et)}s.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(s,o){goog.dom.asserts.assertIsHTMLEmbedElement(s),s.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(s,o){goog.dom.asserts.assertIsHTMLFrameElement(s),s.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrc=function(s,o){goog.dom.asserts.assertIsHTMLIFrameElement(s),s.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrcdoc=function(s,o){goog.dom.asserts.assertIsHTMLIFrameElement(s),s.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(s,o,et){goog.dom.asserts.assertIsHTMLLinkElement(s),s.rel=et,goog.string.internal.caseInsensitiveContains(et,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),s.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)):s.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(o):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(s,o){goog.dom.asserts.assertIsHTMLObjectElement(s),s.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(s,o){goog.dom.asserts.assertIsHTMLScriptElement(s),s.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&s.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(s,o){goog.dom.asserts.assertIsHTMLScriptElement(s),s.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&s.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(s,o){goog.dom.asserts.assertIsLocation(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(s,o){goog.dom.asserts.assertIsLocation(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(s,o){goog.dom.asserts.assertIsLocation(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(s,o,et,tt,nt){return s=s instanceof goog.html.SafeUrl?s:goog.html.SafeUrl.sanitizeAssertUnchanged(s),(o||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(s),et?goog.string.Const.unwrap(et):"",tt,nt)},goog.dom.safe.parseFromStringHtml=function(s,o){return goog.dom.safe.parseFromString(s,o,"text/html")},goog.dom.safe.parseFromString=function(s,o,et){return s.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),et)},goog.dom.safe.createImageFromBlob=function(s){if(!/^image\/.*/g.test(s.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(s);return(s=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(s,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),s},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(s,o){for(var et=s.split("%s"),tt="",nt=Array.prototype.slice.call(arguments,1);nt.length&&1<et.length;)tt+=et.shift()+nt.shift();return tt+et.join("%s")},goog.string.collapseWhitespace=function(s){return s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(s){return s.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(s){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(s))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(s){return!/[^\t\n\r ]/.test(s)},goog.string.isAlpha=function(s){return!/[^a-zA-Z]/.test(s)},goog.string.isNumeric=function(s){return!/[^0-9]/.test(s)},goog.string.isAlphaNumeric=function(s){return!/[^a-zA-Z0-9]/.test(s)},goog.string.isSpace=function(s){return s==" "},goog.string.isUnicodeChar=function(s){return s.length==1&&" "<=s&&"~">=s||""<=s&&"�">=s},goog.string.stripNewlines=function(s){return s.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(s){return s.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(s){return s.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(s){return s.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(s){return s.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(s){return s.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(s){return s.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(s,o,et){if(s==o)return 0;if(!s)return-1;if(!o)return 1;for(var tt=s.toLowerCase().match(et),nt=o.toLowerCase().match(et),rt=Math.min(tt.length,nt.length),it=0;it<rt;it++){et=tt[it];var ot=nt[it];if(et!=ot)return s=parseInt(et,10),!isNaN(s)&&(o=parseInt(ot,10),!isNaN(o)&&s-o)?s-o:et<ot?-1:1}return tt.length!=nt.length?tt.length-nt.length:s<o?-1:1},goog.string.intAwareCompare=function(s,o){return goog.string.numberAwareCompare_(s,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(s,o){return goog.string.numberAwareCompare_(s,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(s){return encodeURIComponent(String(s))},goog.string.urlDecode=function(s){return decodeURIComponent(s.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(s,o){return s=goog.string.internal.htmlEscape(s,o),goog.string.DETECT_DOUBLE_ESCAPING&&(s=s.replace(goog.string.E_RE_,"&#101;")),s},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(s){return goog.string.contains(s,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(s):goog.string.unescapePureXmlEntities_(s):s},goog.string.unescapeEntitiesWithDocument=function(s,o){return goog.string.contains(s,"&")?goog.string.unescapeEntitiesUsingDom_(s,o):s},goog.string.unescapeEntitiesUsingDom_=function(s,o){var et={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},tt=o?o.createElement("div"):goog.global.document.createElement("div");return s.replace(goog.string.HTML_ENTITY_PATTERN_,function(nt,rt){var it=et[nt];return it||(rt.charAt(0)=="#"&&(rt=+("0"+rt.substr(1)),isNaN(rt)||(it=String.fromCharCode(rt))),it||(goog.dom.safe.setInnerHtml(tt,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),nt+" ")),it=tt.firstChild.nodeValue.slice(0,-1)),et[nt]=it)})},goog.string.unescapePureXmlEntities_=function(s){return s.replace(/&([^;]+);/g,function(o,et){switch(et){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return et.charAt(0)!="#"||(et=+("0"+et.substr(1)),isNaN(et))?o:String.fromCharCode(et)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(s,o){return goog.string.newLineToBr(s.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(s){return s.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(s,o){for(var et=o.length,tt=0;tt<et;tt++){var nt=et==1?o:o.charAt(tt);if(s.charAt(0)==nt&&s.charAt(s.length-1)==nt)return s.substring(1,s.length-1)}return s},goog.string.truncate=function(s,o,et){return et&&(s=goog.string.unescapeEntities(s)),s.length>o&&(s=s.substring(0,o-3)+"..."),et&&(s=goog.string.htmlEscape(s)),s},goog.string.truncateMiddle=function(s,o,et,tt){if(et&&(s=goog.string.unescapeEntities(s)),tt&&s.length>o){tt>o&&(tt=o);var nt=s.length-tt;s=s.substring(0,o-tt)+"..."+s.substring(nt)}else s.length>o&&(tt=Math.floor(o/2),nt=s.length-tt,s=s.substring(0,tt+o%2)+"..."+s.substring(nt));return et&&(s=goog.string.htmlEscape(s)),s},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(s){s=String(s);for(var o=['"'],et=0;et<s.length;et++){var tt=s.charAt(et),nt=tt.charCodeAt(0);o[et+1]=goog.string.specialEscapeChars_[tt]||(31<nt&&127>nt?tt:goog.string.escapeChar(tt))}return o.push('"'),o.join("")},goog.string.escapeString=function(s){for(var o=[],et=0;et<s.length;et++)o[et]=goog.string.escapeChar(s.charAt(et));return o.join("")},goog.string.escapeChar=function(s){if(s in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[s];if(s in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[s]=goog.string.specialEscapeChars_[s];var o=s.charCodeAt(0);if(31<o&&127>o)var et=s;else 256>o?(et="\\x",(16>o||256<o)&&(et+="0")):(et="\\u",4096>o&&(et+="0")),et+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[s]=et},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(s,o){return s&&o?s.split(o).length-1:0},goog.string.removeAt=function(s,o,et){var tt=s;return 0<=o&&o<s.length&&0<et&&(tt=s.substr(0,o)+s.substr(o+et,s.length-o-et)),tt},goog.string.remove=function(s,o){return s.replace(o,"")},goog.string.removeAll=function(s,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),s.replace(o,"")},goog.string.replaceAll=function(s,o,et){return o=new RegExp(goog.string.regExpEscape(o),"g"),s.replace(o,et.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(s){return String(s).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(s,o){return s.repeat(o)}:function(s,o){return Array(o+1).join(s)},goog.string.padNumber=function(s,o,et){return(et=(s=goog.isDef(et)?s.toFixed(et):String(s)).indexOf("."))==-1&&(et=s.length),goog.string.repeat("0",Math.max(0,o-et))+s},goog.string.makeSafe=function(s){return s==null?"":String(s)},goog.string.buildString=function(s){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(s){for(var o=0,et=0;et<s.length;++et)o=31*o+s.charCodeAt(et)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(s){var o=Number(s);return o==0&&goog.string.isEmptyOrWhitespace(s)?NaN:o},goog.string.isLowerCamelCase=function(s){return/^[a-z]+([A-Z][a-z]*)*$/.test(s)},goog.string.isUpperCamelCase=function(s){return/^([A-Z][a-z]*)+$/.test(s)},goog.string.toCamelCase=function(s){return String(s).replace(/\-([a-z])/g,function(o,et){return et.toUpperCase()})},goog.string.toSelectorCase=function(s){return String(s).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(s,o){return o=goog.isString(o)?goog.string.regExpEscape(o):"\\s",s.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(et,tt,nt){return tt+nt.toUpperCase()})},goog.string.capitalize=function(s){return String(s.charAt(0)).toUpperCase()+String(s.substr(1)).toLowerCase()},goog.string.parseInt=function(s){return isFinite(s)&&(s=String(s)),goog.isString(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN},goog.string.splitLimit=function(s,o,et){s=s.split(o);for(var tt=[];0<et&&s.length;)tt.push(s.shift()),et--;return s.length&&tt.push(s.join(o)),tt},goog.string.lastComponent=function(s,o){if(!o)return s;typeof o=="string"&&(o=[o]);for(var et=-1,tt=0;tt<o.length;tt++)if(o[tt]!=""){var nt=s.lastIndexOf(o[tt]);nt>et&&(et=nt)}return et==-1?s:s.slice(et+1)},goog.string.editDistance=function(s,o){var et=[],tt=[];if(s==o)return 0;if(!s.length||!o.length)return Math.max(s.length,o.length);for(var nt=0;nt<o.length+1;nt++)et[nt]=nt;for(nt=0;nt<s.length;nt++){tt[0]=nt+1;for(var rt=0;rt<o.length;rt++)tt[rt+1]=Math.min(tt[rt]+1,et[rt+1]+1,et[rt]+ +(s[nt]!=o[rt]));for(rt=0;rt<et.length;rt++)et[rt]=tt[rt]}return tt[o.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var s=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(s=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(s))?s[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(s=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(s))&&s[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(s=(o=/Mac OS X ([0-9_.]+)/).exec(s))?s[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?o=(s=(o=/(?:KaiOS)\/(\S+)/i).exec(s))&&s[1]:goog.labs.userAgent.platform.isAndroid()?o=(s=(o=/Android\s+([^\);]+)(\)|;)/).exec(s))&&s[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(s=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(s))&&s[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(s){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),s)},goog.reflect={},goog.reflect.object=function(s,o){return o},goog.reflect.objectProperty=function(s,o){return s},goog.reflect.sinkValue=function(s){return goog.reflect.sinkValue[" "](s),s},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(s,o){try{return goog.reflect.sinkValue(s[o]),!0}catch{}return!1},goog.reflect.cache=function(s,o,et,tt){return tt=tt?tt(o):o,Object.prototype.hasOwnProperty.call(s,tt)?s[tt]:s[tt]=et(o)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var s=goog.labs.userAgent.util.getUserAgent();if(s){s=goog.labs.userAgent.util.extractVersionTuples(s);var o,et=goog.labs.userAgent.engine.getEngineTuple_(s);if(et)return et[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(s,"Firefox"):et[1];if((s=s[0])&&(o=s[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(s){if(!goog.labs.userAgent.engine.isEdge())return s[1];for(var o=0;o<s.length;o++){var et=s[o];if(et[0]=="Edge")return et}},goog.labs.userAgent.engine.isVersionOrHigher=function(s){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),s)},goog.labs.userAgent.engine.getVersionForKey_=function(s,o){return(s=goog.array.find(s,function(et){return o==et[0]}))&&s[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var s=goog.userAgent.getNavigatorTyped();return s&&s.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var s=goog.userAgent.getNavigatorTyped();return!!s&&goog.string.contains(s.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var s="",o=goog.userAgent.getVersionRegexResult_();return o&&(s=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_())!=null&&o>parseFloat(s)?String(o):s},goog.userAgent.getVersionRegexResult_=function(){var s=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(s):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(s):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(s):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(s):void 0},goog.userAgent.getDocumentMode_=function(){var s=goog.global.document;return s?s.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(s,o){return goog.string.compareVersions(s,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(s){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,s,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,s)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(s){return Number(goog.userAgent.DOCUMENT_MODE)>=s},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(s){return goog.string.contains(goog.crypt.base64.paddingChars_,s)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(s,o){goog.asserts.assert(goog.isArrayLike(s),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var et=[],tt=0;tt<s.length;tt+=3){var nt=s[tt],rt=tt+1<s.length,it=rt?s[tt+1]:0,ot=tt+2<s.length,st=ot?s[tt+2]:0,at=nt>>2;nt=(3&nt)<<4|it>>4,it=(15&it)<<2|st>>6,st&=63,ot||(st=64,rt||(it=64)),et.push(o[at],o[nt],o[it]||"",o[st]||"")}return et.join("")},goog.crypt.base64.encodeString=function(s,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(s):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(s),o)},goog.crypt.base64.decodeString=function(s,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(s);var et="";return goog.crypt.base64.decodeStringInternal_(s,function(tt){et+=String.fromCharCode(tt)}),et},goog.crypt.base64.decodeStringToByteArray=function(s,o){var et=[];return goog.crypt.base64.decodeStringInternal_(s,function(tt){et.push(tt)}),et},goog.crypt.base64.decodeStringToUint8Array=function(s){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=s.length,et=3*o/4;et%3?et=Math.floor(et):goog.crypt.base64.isPadding_(s[o-1])&&(et=goog.crypt.base64.isPadding_(s[o-2])?et-2:et-1);var tt=new Uint8Array(et),nt=0;return goog.crypt.base64.decodeStringInternal_(s,function(rt){tt[nt++]=rt}),tt.subarray(0,nt)},goog.crypt.base64.decodeStringInternal_=function(s,o){function et(st){for(;tt<s.length;){var at=s.charAt(tt++),lt=goog.crypt.base64.charToByteMap_[at];if(lt!=null)return lt;if(!goog.string.isEmptyOrWhitespace(at))throw Error("Unknown base64 encoding at char: "+at)}return st}goog.crypt.base64.init_();for(var tt=0;;){var nt=et(-1),rt=et(0),it=et(64),ot=et(64);if(ot===64&&nt===-1)break;o(nt<<2|rt>>4),it!=64&&(o(rt<<4&240|it>>2),ot!=64&&o(it<<6&192|ot))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var s=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],et=0;5>et;et++){var tt=s.concat(o[et].split(""));goog.crypt.base64.byteToCharMaps_[et]=tt;for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=goog.crypt.base64.charToByteMap_[rt];it===void 0?goog.crypt.base64.charToByteMap_[rt]=nt:goog.asserts.assert(it===nt)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(s){var o=s>>>0;s=Math.floor((s-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=s},jspb.utils.splitInt64=function(s){var o=0>s,et=(s=Math.abs(s))>>>0;s=Math.floor((s-et)/jspb.BinaryConstants.TWO_TO_32),s>>>=0,o&&(s=~s>>>0,4294967295<(et=1+(~et>>>0))&&(et=0,4294967295<++s&&(s=0))),jspb.utils.split64Low=et,jspb.utils.split64High=s},jspb.utils.splitZigzag64=function(s){var o=0>s;s=2*Math.abs(s),jspb.utils.splitUint64(s),s=jspb.utils.split64Low;var et=jspb.utils.split64High;o&&(s==0?et==0?et=s=4294967295:(et--,s=4294967295):s--),jspb.utils.split64Low=s,jspb.utils.split64High=et},jspb.utils.splitFloat32=function(s){var o=0>s?1:0;if((s=o?-s:s)===0)0<1/s?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(s))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(s>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(s<jspb.BinaryConstants.FLOAT32_MIN)s=Math.round(s/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s)>>>0;else{var et=Math.floor(Math.log(s)/Math.LN2);s*=Math.pow(2,-et),s=8388607&Math.round(s*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|et+127<<23|s)>>>0}},jspb.utils.splitFloat64=function(s){var o=0>s?1:0;if((s=o?-s:s)===0)jspb.utils.split64High=0<1/s?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(s))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(s>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(s<jspb.BinaryConstants.FLOAT64_MIN){var et=s/Math.pow(2,-1074);s=et/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|s)>>>0,jspb.utils.split64Low=et>>>0}else{var tt=0;if(2<=(et=s))for(;2<=et&&1023>tt;)tt++,et/=2;else for(;1>et&&-1022<tt;)et*=2,tt--;s=(et=s*Math.pow(2,-tt))*jspb.BinaryConstants.TWO_TO_20&1048575,et=et*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|tt+1023<<20|s)>>>0,jspb.utils.split64Low=et}},jspb.utils.splitHash64=function(s){var o=s.charCodeAt(0),et=s.charCodeAt(1),tt=s.charCodeAt(2),nt=s.charCodeAt(3),rt=s.charCodeAt(4),it=s.charCodeAt(5),ot=s.charCodeAt(6);s=s.charCodeAt(7),jspb.utils.split64Low=o+(et<<8)+(tt<<16)+(nt<<24)>>>0,jspb.utils.split64High=rt+(it<<8)+(ot<<16)+(s<<24)>>>0},jspb.utils.joinUint64=function(s,o){return o*jspb.BinaryConstants.TWO_TO_32+(s>>>0)},jspb.utils.joinInt64=function(s,o){var et=2147483648&o;return et&&(o=~o>>>0,(s=1+~s>>>0)==0&&(o=o+1>>>0)),s=jspb.utils.joinUint64(s,o),et?-s:s},jspb.utils.toZigzag64=function(s,o,et){var tt=o>>31;return et(s<<1^tt,(o<<1|s>>>31)^tt)},jspb.utils.joinZigzag64=function(s,o){return jspb.utils.fromZigzag64(s,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(s,o,et){var tt=-(1&s);return et((s>>>1|o<<31)^tt,o>>>1^tt)},jspb.utils.joinFloat32=function(s,o){o=2*(s>>31)+1;var et=s>>>23&255;return s&=8388607,et==255?s?NaN:1/0*o:et==0?o*Math.pow(2,-149)*s:o*Math.pow(2,et-150)*(s+Math.pow(2,23))},jspb.utils.joinFloat64=function(s,o){var et=2*(o>>31)+1,tt=o>>>20&2047;return s=jspb.BinaryConstants.TWO_TO_32*(1048575&o)+s,tt==2047?s?NaN:1/0*et:tt==0?et*Math.pow(2,-1074)*s:et*Math.pow(2,tt-1075)*(s+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(s,o){return String.fromCharCode(s>>>0&255,s>>>8&255,s>>>16&255,s>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(s,o){function et(nt,rt){return nt=nt?String(nt):"",rt?"0000000".slice(nt.length)+nt:nt}if(2097151>=o)return""+(jspb.BinaryConstants.TWO_TO_32*o+s);var tt=(s>>>24|o<<8)>>>0&16777215;return s=(16777215&s)+6777216*tt+6710656*(o=o>>16&65535),tt+=8147497*o,o*=2,1e7<=s&&(tt+=Math.floor(s/1e7),s%=1e7),1e7<=tt&&(o+=Math.floor(tt/1e7),tt%=1e7),et(o,0)+et(tt,o)+et(s,1)},jspb.utils.joinSignedDecimalString=function(s,o){var et=2147483648&o;return et&&(o=~o+((s=1+~s>>>0)==0?1:0)>>>0),s=jspb.utils.joinUnsignedDecimalString(s,o),et?"-"+s:s},jspb.utils.hash64ToDecimalString=function(s,o){jspb.utils.splitHash64(s),s=jspb.utils.split64Low;var et=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(s,et):jspb.utils.joinUnsignedDecimalString(s,et)},jspb.utils.hash64ArrayToDecimalStrings=function(s,o){for(var et=Array(s.length),tt=0;tt<s.length;tt++)et[tt]=jspb.utils.hash64ToDecimalString(s[tt],o);return et},jspb.utils.decimalStringToHash64=function(s){function o(rt,it){for(var ot=0;8>ot&&(rt!==1||0<it);ot++)it=rt*tt[ot]+it,tt[ot]=255&it,it>>>=8}goog.asserts.assert(0<s.length);var et=!1;s[0]==="-"&&(et=!0,s=s.slice(1));for(var tt=[0,0,0,0,0,0,0,0],nt=0;nt<s.length;nt++)o(10,s.charCodeAt(nt)-jspb.utils.ZERO_CHAR_CODE_);return et&&(function(){for(var rt=0;8>rt;rt++)tt[rt]=255&~tt[rt]}(),o(1,1)),goog.crypt.byteArrayToString(tt)},jspb.utils.splitDecimalString=function(s){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(s))},jspb.utils.toHexDigit_=function(s){return String.fromCharCode(10>s?jspb.utils.ZERO_CHAR_CODE_+s:jspb.utils.A_CHAR_CODE_-10+s)},jspb.utils.fromHexCharCode_=function(s){return s>=jspb.utils.A_CHAR_CODE_?s-jspb.utils.A_CHAR_CODE_+10:s-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(s){var o=Array(18);o[0]="0",o[1]="x";for(var et=0;8>et;et++){var tt=s.charCodeAt(7-et);o[2*et+2]=jspb.utils.toHexDigit_(tt>>4),o[2*et+3]=jspb.utils.toHexDigit_(15&tt)}return o.join("")},jspb.utils.hexStringToHash64=function(s){s=s.toLowerCase(),goog.asserts.assert(s.length==18),goog.asserts.assert(s[0]=="0"),goog.asserts.assert(s[1]=="x");for(var o="",et=0;8>et;et++){var tt=jspb.utils.fromHexCharCode_(s.charCodeAt(2*et+2)),nt=jspb.utils.fromHexCharCode_(s.charCodeAt(2*et+3));o=String.fromCharCode(16*tt+nt)+o}return o},jspb.utils.hash64ToNumber=function(s,o){jspb.utils.splitHash64(s),s=jspb.utils.split64Low;var et=jspb.utils.split64High;return o?jspb.utils.joinInt64(s,et):jspb.utils.joinUint64(s,et)},jspb.utils.numberToHash64=function(s){return jspb.utils.splitInt64(s),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(s,o,et){for(var tt=0,nt=o;nt<et;nt++)tt+=s[nt]>>7;return et-o-tt},jspb.utils.countVarintFields=function(s,o,et,tt){var nt=0;if(128>(tt=8*tt+jspb.BinaryConstants.WireType.VARINT))for(;o<et&&s[o++]==tt;)for(nt++;;){var rt=s[o++];if(!(128&rt))break}else for(;o<et;){for(rt=tt;128<rt;){if(s[o]!=(127&rt|128))return nt;o++,rt>>=7}if(s[o++]!=rt)break;for(nt++;128&(rt=s[o++]););}return nt},jspb.utils.countFixedFields_=function(s,o,et,tt,nt){var rt=0;if(128>tt)for(;o<et&&s[o++]==tt;)rt++,o+=nt;else for(;o<et;){for(var it=tt;128<it;){if(s[o++]!=(127&it|128))return rt;it>>=7}if(s[o++]!=it)break;rt++,o+=nt}return rt},jspb.utils.countFixed32Fields=function(s,o,et,tt){return jspb.utils.countFixedFields_(s,o,et,8*tt+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(s,o,et,tt){return jspb.utils.countFixedFields_(s,o,et,8*tt+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(s,o,et,tt){var nt=0;for(tt=8*tt+jspb.BinaryConstants.WireType.DELIMITED;o<et;){for(var rt=tt;128<rt;){if(s[o++]!=(127&rt|128))return nt;rt>>=7}if(s[o++]!=rt)break;nt++;for(var it=0,ot=1;it+=(127&(rt=s[o++]))*ot,ot*=128,(128&rt)!=0;);o+=it}return nt},jspb.utils.debugBytesToTextFormat=function(s){var o='"';if(s){s=jspb.utils.byteSourceToUint8Array(s);for(var et=0;et<s.length;et++)o+="\\x",16>s[et]&&(o+="0"),o+=s[et].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(s){return typeof s=="string"?goog.string.quote(s):s.toString()},jspb.utils.stringToByteArray=function(s){for(var o=new Uint8Array(s.length),et=0;et<s.length;et++){var tt=s.charCodeAt(et);if(255<tt)throw Error("Conversion error: string contains codepoint outside of byte range");o[et]=tt}return o},jspb.utils.byteSourceToUint8Array=function(s){return s.constructor===Uint8Array?s:s.constructor===ArrayBuffer||Buffer!==void 0&&s.constructor===Buffer||s.constructor===Array?new Uint8Array(s):s.constructor===String?goog.crypt.base64.decodeStringToUint8Array(s):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(s,o,et){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,s&&this.setBlock(s,o,et)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(s,o,et){if(jspb.BinaryDecoder.instanceCache_.length){var tt=jspb.BinaryDecoder.instanceCache_.pop();return s&&tt.setBlock(s,o,et),tt}return new jspb.BinaryDecoder(s,o,et)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(s,o,et){this.bytes_=jspb.utils.byteSourceToUint8Array(s),this.start_=o!==void 0?o:0,this.end_=et!==void 0?this.start_+et:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(s){this.end_=s},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(s){this.cursor_=s},jspb.BinaryDecoder.prototype.advance=function(s){this.cursor_+=s,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(s){for(var o=128,et=0,tt=0,nt=0;4>nt&&128<=o;nt++)et|=(127&(o=this.bytes_[this.cursor_++]))<<7*nt;if(128<=o&&(et|=(127&(o=this.bytes_[this.cursor_++]))<<28,tt|=(127&o)>>4),128<=o)for(nt=0;5>nt&&128<=o;nt++)tt|=(127&(o=this.bytes_[this.cursor_++]))<<7*nt+3;if(128>o)return s(et>>>0,tt>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(s){return this.readSplitVarint64(function(o,et){return jspb.utils.fromZigzag64(o,et,s)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(s){var o=this.bytes_,et=this.cursor_;this.cursor_+=8;for(var tt=0,nt=0,rt=et+7;rt>=et;rt--)tt=tt<<8|o[rt],nt=nt<<8|o[rt+4];return s(tt,nt)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(s){for(;128<s;)this.cursor_--,s>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var s=this.bytes_,o=s[this.cursor_+0],et=127&o;return 128>o?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),et):(et|=(127&(o=s[this.cursor_+1]))<<7,128>o?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),et):(et|=(127&(o=s[this.cursor_+2]))<<14,128>o?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),et):(et|=(127&(o=s[this.cursor_+3]))<<21,128>o?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),et):(et|=(15&(o=s[this.cursor_+4]))<<28,128>o?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),et>>>0):(this.cursor_+=5,128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),et)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var s=this.readUnsignedVarint32();return s>>>1^-(1&s)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var s=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s},jspb.BinaryDecoder.prototype.readUint16=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),s<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],et=this.bytes_[this.cursor_+2],tt=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(s<<0|o<<8|et<<16|tt<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(s,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(s,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var s=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(s<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],et=this.bytes_[this.cursor_+2],tt=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),s<<0|o<<8|et<<16|tt<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(s,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(s,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var s=this.readUint32();return jspb.utils.joinFloat32(s,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(s,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(s){var o=this.bytes_,et=this.cursor_;s=et+s;for(var tt=[],nt="";et<s;){var rt=o[et++];if(128>rt)tt.push(rt);else{if(192>rt)continue;if(224>rt){var it=o[et++];tt.push((31&rt)<<6|63&it)}else if(240>rt){it=o[et++];var ot=o[et++];tt.push((15&rt)<<12|(63&it)<<6|63&ot)}else 248>rt&&(rt=(7&rt)<<18|(63&(it=o[et++]))<<12|(63&(ot=o[et++]))<<6|63&o[et++],rt-=65536,tt.push(55296+(rt>>10&1023),56320+(1023&rt)))}8192<=tt.length&&(nt+=String.fromCharCode.apply(null,tt),tt.length=0)}return nt+=goog.crypt.byteArrayToString(tt),this.cursor_=et,nt},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var s=this.readUnsignedVarint32();return this.readString(s)},jspb.BinaryDecoder.prototype.readBytes=function(s){if(0>s||this.cursor_+s>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+s);return this.cursor_+=s,goog.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var s=this.bytes_,o=this.cursor_,et=s[o+0],tt=s[o+1],nt=s[o+2],rt=s[o+3],it=s[o+4],ot=s[o+5],st=s[o+6];return s=s[o+7],this.cursor_+=8,String.fromCharCode(et,tt,nt,rt,it,ot,st,s)},jspb.BinaryReader=function(s,o,et){this.decoder_=jspb.BinaryDecoder.alloc(s,o,et),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(s,o,et){if(jspb.BinaryReader.instanceCache_.length){var tt=jspb.BinaryReader.instanceCache_.pop();return s&&tt.decoder_.setBlock(s,o,et),tt}return new jspb.BinaryReader(s,o,et)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(s,o,et){this.decoder_.setBlock(s,o,et),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(s){this.decoder_.advance(s)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var s=this.decoder_.readUnsignedVarint32(),o=s>>>3;return(s&=7)!=jspb.BinaryConstants.WireType.VARINT&&s!=jspb.BinaryConstants.WireType.FIXED32&&s!=jspb.BinaryConstants.WireType.FIXED64&&s!=jspb.BinaryConstants.WireType.DELIMITED&&s!=jspb.BinaryConstants.WireType.START_GROUP&&s!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",s,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=s,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var s=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==s;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var s=this.decoder_.readUnsignedVarint32();this.decoder_.advance(s)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var s=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=s&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(s,o){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[s]),this.readCallbacks_[s]=o},jspb.BinaryReader.prototype.runReadCallback=function(s){return goog.asserts.assert(this.readCallbacks_!==null),s=this.readCallbacks_[s],goog.asserts.assert(s),s(this)},jspb.BinaryReader.prototype.readAny=function(s){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(s);var o=jspb.BinaryConstants.FieldType;switch(s){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(s,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var et=this.decoder_.getEnd(),tt=this.decoder_.readUnsignedVarint32();tt=this.decoder_.getCursor()+tt,this.decoder_.setEnd(tt),o(s,this),this.decoder_.setCursor(tt),this.decoder_.setEnd(et)},jspb.BinaryReader.prototype.readGroup=function(s,o,et){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==s),et(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),et=o+s;return s=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,s),this.decoder_.setCursor(et),s},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(s)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(s)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(s){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(s)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(s){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,et){return jspb.utils.fromZigzag64(o,et,s)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(s){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(s)},jspb.BinaryReader.prototype.readPackedField_=function(s){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var et=[];this.decoder_.getCursor()<o;)et.push(s.call(this.decoder_));return et},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(s,o){this.arr_=s,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var s=0;s<this.arr_.length;s++){var o=this.arr_[s],et=o[0];this.map_[et.toString()]=new jspb.Map.Entry_(et,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var s,o=this.map_;for(s in o)if(Object.prototype.hasOwnProperty.call(o,s)){var et=o[s].valueWrapper;et&&et.toArray()}}}else{for(this.arr_.length=0,(o=this.stringKeys_()).sort(),s=0;s<o.length;s++){var tt=this.map_[o[s]];(et=tt.valueWrapper)&&et.toArray(),this.arr_.push([tt.key,tt.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(s,o){for(var et=this.toArray(),tt=[],nt=0;nt<et.length;nt++){var rt=this.map_[et[nt][0].toString()];this.wrapEntry_(rt);var it=rt.valueWrapper;it?(goog.asserts.assert(o),tt.push([rt.key,o(s,it)])):tt.push([rt.key,rt.value])}return tt},jspb.Map.fromObject=function(s,o,et){o=new jspb.Map([],o);for(var tt=0;tt<s.length;tt++){var nt=s[tt][0],rt=et(s[tt][1]);o.set(nt,rt)}return o},jspb.Map.ArrayIteratorIterable_=function(s){this.idx_=0,this.arr_=s},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(s){s=s.toString();var o=this.map_.hasOwnProperty(s);return delete this.map_[s],this.arrClean=!1,o},jspb.Map.prototype.getEntryList=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++){var tt=this.map_[o[et]];s.push([tt.key,tt.value])}return s},jspb.Map.prototype.entries=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++){var tt=this.map_[o[et]];s.push([tt.key,this.wrapEntry_(tt)])}return new jspb.Map.ArrayIteratorIterable_(s)},jspb.Map.prototype.keys=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++)s.push(this.map_[o[et]].key);return new jspb.Map.ArrayIteratorIterable_(s)},jspb.Map.prototype.values=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++)s.push(this.wrapEntry_(this.map_[o[et]]));return new jspb.Map.ArrayIteratorIterable_(s)},jspb.Map.prototype.forEach=function(s,o){var et=this.stringKeys_();et.sort();for(var tt=0;tt<et.length;tt++){var nt=this.map_[et[tt]];s.call(o,this.wrapEntry_(nt),nt.key,this)}},jspb.Map.prototype.set=function(s,o){var et=new jspb.Map.Entry_(s);return this.valueCtor_?(et.valueWrapper=o,et.value=o.toArray()):et.value=o,this.map_[s.toString()]=et,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(s){return this.valueCtor_?(s.valueWrapper||(s.valueWrapper=new this.valueCtor_(s.value)),s.valueWrapper):s.value},jspb.Map.prototype.get=function(s){if(s=this.map_[s.toString()])return this.wrapEntry_(s)},jspb.Map.prototype.has=function(s){return s.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(s,o,et,tt,nt){var rt=this.stringKeys_();rt.sort();for(var it=0;it<rt.length;it++){var ot=this.map_[rt[it]];o.beginSubMessage(s),et.call(o,1,ot.key),this.valueCtor_?tt.call(o,2,this.wrapEntry_(ot),nt):tt.call(o,2,ot.value),o.endSubMessage()}},jspb.Map.deserializeBinary=function(s,o,et,tt,nt,rt,it){for(;o.nextField()&&!o.isEndGroup();){var ot=o.getFieldNumber();ot==1?rt=et.call(o):ot==2&&(s.valueCtor_?(goog.asserts.assert(nt),it||(it=new s.valueCtor_),tt.call(o,it,nt)):it=tt.call(o))}goog.asserts.assert(rt!=null),goog.asserts.assert(it!=null),s.set(rt,it)},jspb.Map.prototype.stringKeys_=function(){var s,o=this.map_,et=[];for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&et.push(s);return et},jspb.Map.Entry_=function(s,o){this.key=s,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(s,o,et,tt,nt){this.fieldIndex=s,this.fieldName=o,this.ctor=et,this.toObjectFn=tt,this.isRepeated=nt},jspb.ExtensionFieldBinaryInfo=function(s,o,et,tt,nt,rt){this.fieldInfo=s,this.binaryReaderFn=o,this.binaryWriterFn=et,this.binaryMessageSerializeFn=tt,this.binaryMessageDeserializeFn=nt,this.isPacked=rt},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(s,o){return o+s.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(s,o){return o-s.arrayIndexOffset_},jspb.Message.initialize=function(s,o,et,tt,nt,rt){if(s.wrappers_=null,o||(o=et?[et]:[]),s.messageId_=et?String(et):void 0,s.arrayIndexOffset_=et===0?-1:0,s.array=o,jspb.Message.initPivotAndExtensionObject_(s,tt),s.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(s.repeatedFields=nt),nt)for(o=0;o<nt.length;o++)(et=nt[o])<s.pivot_?(et=jspb.Message.getIndex_(s,et),s.array[et]=s.array[et]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(s),s.extensionObject_[et]=s.extensionObject_[et]||jspb.Message.EMPTY_LIST_SENTINEL_);if(rt&&rt.length)for(o=0;o<rt.length;o++)jspb.Message.computeOneofCase(s,rt[o])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(s){return jspb.Message.ASSUME_LOCAL_ARRAYS?s instanceof Array:Array.isArray(s)},jspb.Message.isExtensionObject_=function(s){return!(s===null||typeof s!="object"||jspb.Message.isArray_(s)||jspb.Message.SUPPORTS_UINT8ARRAY_&&s instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(s,o){var et=s.array.length,tt=-1;if(et&&(tt=et-1,et=s.array[tt],jspb.Message.isExtensionObject_(et)))return s.pivot_=jspb.Message.getFieldNumber_(s,tt),void(s.extensionObject_=et);-1<o?(s.pivot_=Math.max(o,jspb.Message.getFieldNumber_(s,tt+1)),s.extensionObject_=null):s.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(s){var o=jspb.Message.getIndex_(s,s.pivot_);s.array[o]||(s.extensionObject_=s.array[o]={})},jspb.Message.toObjectList=function(s,o,et){for(var tt=[],nt=0;nt<s.length;nt++)tt[nt]=o.call(s[nt],et,s[nt]);return tt},jspb.Message.toObjectExtension=function(s,o,et,tt,nt){for(var rt in et){var it=et[rt],ot=tt.call(s,it);if(ot!=null){for(var st in it.fieldName)if(it.fieldName.hasOwnProperty(st))break;o[st]=it.toObjectFn?it.isRepeated?jspb.Message.toObjectList(ot,it.toObjectFn,nt):it.toObjectFn(nt,ot):ot}}},jspb.Message.serializeBinaryExtensions=function(s,o,et,tt){for(var nt in et){var rt=et[nt],it=rt.fieldInfo;if(!rt.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var ot=tt.call(s,it);if(ot!=null)if(it.isMessageType()){if(!rt.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");rt.binaryWriterFn.call(o,it.fieldIndex,ot,rt.binaryMessageSerializeFn)}else rt.binaryWriterFn.call(o,it.fieldIndex,ot)}},jspb.Message.readBinaryExtension=function(s,o,et,tt,nt){var rt=et[o.getFieldNumber()];if(rt){if(et=rt.fieldInfo,!rt.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(et.isMessageType()){var it=new et.ctor;rt.binaryReaderFn.call(o,it,rt.binaryMessageDeserializeFn)}else it=rt.binaryReaderFn.call(o);et.isRepeated&&!rt.isPacked?(o=tt.call(s,et))?o.push(it):nt.call(s,et,[it]):nt.call(s,et,it)}else o.skipField()},jspb.Message.getField=function(s,o){if(o<s.pivot_){o=jspb.Message.getIndex_(s,o);var et=s.array[o];return et===jspb.Message.EMPTY_LIST_SENTINEL_?s.array[o]=[]:et}if(s.extensionObject_)return(et=s.extensionObject_[o])===jspb.Message.EMPTY_LIST_SENTINEL_?s.extensionObject_[o]=[]:et},jspb.Message.getRepeatedField=function(s,o){return jspb.Message.getField(s,o)},jspb.Message.getOptionalFloatingPointField=function(s,o){return(s=jspb.Message.getField(s,o))==null?s:+s},jspb.Message.getBooleanField=function(s,o){return(s=jspb.Message.getField(s,o))==null?s:!!s},jspb.Message.getRepeatedFloatingPointField=function(s,o){var et=jspb.Message.getRepeatedField(s,o);if(s.convertedPrimitiveFields_||(s.convertedPrimitiveFields_={}),!s.convertedPrimitiveFields_[o]){for(var tt=0;tt<et.length;tt++)et[tt]=+et[tt];s.convertedPrimitiveFields_[o]=!0}return et},jspb.Message.getRepeatedBooleanField=function(s,o){var et=jspb.Message.getRepeatedField(s,o);if(s.convertedPrimitiveFields_||(s.convertedPrimitiveFields_={}),!s.convertedPrimitiveFields_[o]){for(var tt=0;tt<et.length;tt++)et[tt]=!!et[tt];s.convertedPrimitiveFields_[o]=!0}return et},jspb.Message.bytesAsB64=function(s){return s==null||typeof s=="string"?s:jspb.Message.SUPPORTS_UINT8ARRAY_&&s instanceof Uint8Array?goog.crypt.base64.encodeByteArray(s):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(s)),null)},jspb.Message.bytesAsU8=function(s){return s==null||s instanceof Uint8Array?s:typeof s=="string"?goog.crypt.base64.decodeStringToUint8Array(s):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(s)),null)},jspb.Message.bytesListAsB64=function(s){return jspb.Message.assertConsistentTypes_(s),s.length&&typeof s[0]!="string"?goog.array.map(s,jspb.Message.bytesAsB64):s},jspb.Message.bytesListAsU8=function(s){return jspb.Message.assertConsistentTypes_(s),!s.length||s[0]instanceof Uint8Array?s:goog.array.map(s,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(s){if(goog.DEBUG&&s&&1<s.length){var o=goog.typeOf(s[0]);goog.array.forEach(s,function(et){goog.typeOf(et)!=o&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(et)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(s,o,et){return(s=jspb.Message.getField(s,o))==null?et:s},jspb.Message.getBooleanFieldWithDefault=function(s,o,et){return(s=jspb.Message.getBooleanField(s,o))==null?et:s},jspb.Message.getFloatingPointFieldWithDefault=function(s,o,et){return(s=jspb.Message.getOptionalFloatingPointField(s,o))==null?et:s},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(s,o,et,tt){if(s.wrappers_||(s.wrappers_={}),o in s.wrappers_)return s.wrappers_[o];var nt=jspb.Message.getField(s,o);if(!nt){if(et)return;nt=[],jspb.Message.setField(s,o,nt)}return s.wrappers_[o]=new jspb.Map(nt,tt)},jspb.Message.setField=function(s,o,et){return goog.asserts.assertInstanceof(s,jspb.Message),o<s.pivot_?s.array[jspb.Message.getIndex_(s,o)]=et:(jspb.Message.maybeInitEmptyExtensionObject_(s),s.extensionObject_[o]=et),s},jspb.Message.setProto3IntField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,0)},jspb.Message.setProto3FloatField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,0)},jspb.Message.setProto3BooleanField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,!1)},jspb.Message.setProto3StringField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,"")},jspb.Message.setProto3BytesField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,"")},jspb.Message.setProto3EnumField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,0)},jspb.Message.setProto3StringIntField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,"0")},jspb.Message.setFieldIgnoringDefault_=function(s,o,et,tt){return goog.asserts.assertInstanceof(s,jspb.Message),et!==tt?jspb.Message.setField(s,o,et):o<s.pivot_?s.array[jspb.Message.getIndex_(s,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(s),delete s.extensionObject_[o]),s},jspb.Message.addToRepeatedField=function(s,o,et,tt){return goog.asserts.assertInstanceof(s,jspb.Message),o=jspb.Message.getRepeatedField(s,o),tt!=null?o.splice(tt,0,et):o.push(et),s},jspb.Message.setOneofField=function(s,o,et,tt){return goog.asserts.assertInstanceof(s,jspb.Message),(et=jspb.Message.computeOneofCase(s,et))&&et!==o&&tt!==void 0&&(s.wrappers_&&et in s.wrappers_&&(s.wrappers_[et]=void 0),jspb.Message.setField(s,et,void 0)),jspb.Message.setField(s,o,tt)},jspb.Message.computeOneofCase=function(s,o){for(var et,tt,nt=0;nt<o.length;nt++){var rt=o[nt],it=jspb.Message.getField(s,rt);it!=null&&(et=rt,tt=it,jspb.Message.setField(s,rt,void 0))}return et?(jspb.Message.setField(s,et,tt),et):0},jspb.Message.getWrapperField=function(s,o,et,tt){if(s.wrappers_||(s.wrappers_={}),!s.wrappers_[et]){var nt=jspb.Message.getField(s,et);(tt||nt)&&(s.wrappers_[et]=new o(nt))}return s.wrappers_[et]},jspb.Message.getRepeatedWrapperField=function(s,o,et){return jspb.Message.wrapRepeatedField_(s,o,et),(o=s.wrappers_[et])==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=s.wrappers_[et]=[]),o},jspb.Message.wrapRepeatedField_=function(s,o,et){if(s.wrappers_||(s.wrappers_={}),!s.wrappers_[et]){for(var tt=jspb.Message.getRepeatedField(s,et),nt=[],rt=0;rt<tt.length;rt++)nt[rt]=new o(tt[rt]);s.wrappers_[et]=nt}},jspb.Message.setWrapperField=function(s,o,et){goog.asserts.assertInstanceof(s,jspb.Message),s.wrappers_||(s.wrappers_={});var tt=et&&et.toArray();return s.wrappers_[o]=et,jspb.Message.setField(s,o,tt)},jspb.Message.setOneofWrapperField=function(s,o,et,tt){goog.asserts.assertInstanceof(s,jspb.Message),s.wrappers_||(s.wrappers_={});var nt=tt&&tt.toArray();return s.wrappers_[o]=tt,jspb.Message.setOneofField(s,o,et,nt)},jspb.Message.setRepeatedWrapperField=function(s,o,et){goog.asserts.assertInstanceof(s,jspb.Message),s.wrappers_||(s.wrappers_={}),et=et||[];for(var tt=[],nt=0;nt<et.length;nt++)tt[nt]=et[nt].toArray();return s.wrappers_[o]=et,jspb.Message.setField(s,o,tt)},jspb.Message.addToRepeatedWrapperField=function(s,o,et,tt,nt){jspb.Message.wrapRepeatedField_(s,tt,o);var rt=s.wrappers_[o];return rt||(rt=s.wrappers_[o]=[]),et=et||new tt,s=jspb.Message.getRepeatedField(s,o),nt!=null?(rt.splice(nt,0,et),s.splice(nt,0,et.toArray())):(rt.push(et),s.push(et.toArray())),et},jspb.Message.toMap=function(s,o,et,tt){for(var nt={},rt=0;rt<s.length;rt++)nt[o.call(s[rt])]=et?et.call(s[rt],tt,s[rt]):s[rt];return nt},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var s in this.wrappers_){var o=this.wrappers_[s];if(Array.isArray(o))for(var et=0;et<o.length;et++)o[et]&&o[et].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(s){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=s.fieldIndex;if(s.isRepeated){if(s.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(et){return new s.ctor(et)})),this.wrappers_[o]}else if(s.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new s.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},jspb.Message.prototype.setExtension=function(s,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var et=s.fieldIndex;return s.isRepeated?(o=o||[],s.isMessageType()?(this.wrappers_[et]=o,this.extensionObject_[et]=goog.array.map(o,function(tt){return tt.toArray()})):this.extensionObject_[et]=o):s.isMessageType()?(this.wrappers_[et]=o,this.extensionObject_[et]=o&&o.toArray()):this.extensionObject_[et]=o,this},jspb.Message.difference=function(s,o){if(!(s instanceof o.constructor))throw Error("Messages have different types.");var et=s.toArray();o=o.toArray();var tt=[],nt=0,rt=et.length>o.length?et.length:o.length;for(s.getJsPbMessageId()&&(tt[0]=s.getJsPbMessageId(),nt=1);nt<rt;nt++)jspb.Message.compareFields(et[nt],o[nt])||(tt[nt]=o[nt]);return new s.constructor(tt)},jspb.Message.equals=function(s,o){return s==o||!(!s||!o)&&s instanceof o.constructor&&jspb.Message.compareFields(s.toArray(),o.toArray())},jspb.Message.compareExtensions=function(s,o){s=s||{},o=o||{};var et,tt={};for(et in s)tt[et]=0;for(et in o)tt[et]=0;for(et in tt)if(!jspb.Message.compareFields(s[et],o[et]))return!1;return!0},jspb.Message.compareFields=function(s,o){if(s==o)return!0;if(!goog.isObject(s)||!goog.isObject(o))return!!(typeof s=="number"&&isNaN(s)||typeof o=="number"&&isNaN(o))&&String(s)==String(o);if(s.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&s.constructor===Uint8Array){if(s.length!=o.length)return!1;for(var et=0;et<s.length;et++)if(s[et]!=o[et])return!1;return!0}if(s.constructor===Array){var tt=void 0,nt=void 0,rt=Math.max(s.length,o.length);for(et=0;et<rt;et++){var it=s[et],ot=o[et];if(it&&it.constructor==Object&&(goog.asserts.assert(tt===void 0),goog.asserts.assert(et===s.length-1),tt=it,it=void 0),ot&&ot.constructor==Object&&(goog.asserts.assert(nt===void 0),goog.asserts.assert(et===o.length-1),nt=ot,ot=void 0),!jspb.Message.compareFields(it,ot))return!1}return!tt&&!nt||(tt=tt||{},nt=nt||{},jspb.Message.compareExtensions(tt,nt))}if(s.constructor===Object)return jspb.Message.compareExtensions(s,o);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(s){return jspb.Message.cloneMessage(s)},jspb.Message.cloneMessage=function(s){return new s.constructor(jspb.Message.clone_(s.toArray()))},jspb.Message.copyInto=function(s,o){goog.asserts.assertInstanceof(s,jspb.Message),goog.asserts.assertInstanceof(o,jspb.Message),goog.asserts.assert(s.constructor==o.constructor,"Copy source and target message should have the same type."),s=jspb.Message.clone(s);for(var et=o.toArray(),tt=s.toArray(),nt=et.length=0;nt<tt.length;nt++)et[nt]=tt[nt];o.wrappers_=s.wrappers_,o.extensionObject_=s.extensionObject_},jspb.Message.clone_=function(s){if(Array.isArray(s)){for(var o=Array(s.length),et=0;et<s.length;et++){var tt=s[et];tt!=null&&(o[et]=typeof tt=="object"?jspb.Message.clone_(goog.asserts.assert(tt)):tt)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&s instanceof Uint8Array)return new Uint8Array(s);for(et in o={},s)(tt=s[et])!=null&&(o[et]=typeof tt=="object"?jspb.Message.clone_(goog.asserts.assert(tt)):tt);return o},jspb.Message.registerMessageType=function(s,o){o.messageId=s},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(s,o){this.lo=s,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(s){return this.hi<s.hi||this.hi==s.hi&&this.lo<s.lo?-1:this.hi==s.hi&&this.lo==s.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(s){return new jspb.arith.UInt64((this.lo+s.lo&4294967295)>>>0>>>0,((this.hi+s.hi&4294967295)>>>0)+(4294967296<=this.lo+s.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(s){return new jspb.arith.UInt64((this.lo-s.lo&4294967295)>>>0>>>0,((this.hi-s.hi&4294967295)>>>0)-(0>this.lo-s.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(s,o){var et=65535&s,tt=65535&o,nt=o>>>16;for(o=et*tt+65536*(et*nt&65535)+65536*((s>>>=16)*tt&65535),et=s*nt+(et*nt>>>16)+(s*tt>>>16);4294967296<=o;)o-=4294967296,et+=1;return new jspb.arith.UInt64(o>>>0,et>>>0)},jspb.arith.UInt64.prototype.mul=function(s){var o=jspb.arith.UInt64.mul32x32(this.lo,s);return(s=jspb.arith.UInt64.mul32x32(this.hi,s)).hi=s.lo,s.lo=0,o.add(s)},jspb.arith.UInt64.prototype.div=function(s){if(s==0)return[];var o=new jspb.arith.UInt64(0,0),et=new jspb.arith.UInt64(this.lo,this.hi);s=new jspb.arith.UInt64(s,0);for(var tt=new jspb.arith.UInt64(1,0);!s.msb();)s=s.leftShift(),tt=tt.leftShift();for(;!tt.zero();)0>=s.cmp(et)&&(o=o.add(tt),et=et.sub(s)),s=s.rightShift(),tt=tt.rightShift();return[o,et]},jspb.arith.UInt64.prototype.toString=function(){for(var s="",o=this;!o.zero();){var et=(o=o.div(10))[0];s=o[1].lo+s,o=et}return s==""&&(s="0"),s},jspb.arith.UInt64.fromString=function(s){for(var o=new jspb.arith.UInt64(0,0),et=new jspb.arith.UInt64(0,0),tt=0;tt<s.length;tt++){if("0">s[tt]||"9"<s[tt])return null;var nt=parseInt(s[tt],10);et.lo=nt,o=o.mul(10).add(et)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(s,o){this.lo=s,this.hi=o},jspb.arith.Int64.prototype.add=function(s){return new jspb.arith.Int64((this.lo+s.lo&4294967295)>>>0>>>0,((this.hi+s.hi&4294967295)>>>0)+(4294967296<=this.lo+s.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(s){return new jspb.arith.Int64((this.lo-s.lo&4294967295)>>>0>>>0,((this.hi-s.hi&4294967295)>>>0)-(0>this.lo-s.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var s=(2147483648&this.hi)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return s&&(o=new jspb.arith.UInt64(0,0).sub(o)),(s?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(s){var o=0<s.length&&s[0]=="-";return o&&(s=s.substring(1)),(s=jspb.arith.UInt64.fromString(s))===null?null:(o&&(s=new jspb.arith.UInt64(0,0).sub(s)),new jspb.arith.Int64(s.lo,s.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var s=this.buffer_;return this.buffer_=[],s},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(s,o){for(goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<s;)this.buffer_.push(127&s|128),s=(s>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(s)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(s,o){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(s),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(s){for(goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32);127<s;)this.buffer_.push(127&s|128),s>>>=7;this.buffer_.push(s)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(s){if(goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),0<=s)this.writeUnsignedVarint32(s);else{for(var o=0;9>o;o++)this.buffer_.push(127&s|128),s>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_63&&s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((s<<1^s>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_63&&s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(s){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(s))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(s){var o=this;jspb.utils.splitHash64(s),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(et,tt){o.writeSplitVarint64(et>>>0,tt>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(0<=s&&256>s),this.buffer_.push(s>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(0<=s&&65536>s),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255),this.buffer_.push(s>>>16&255),this.buffer_.push(s>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(s),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(-128<=s&&128>s),this.buffer_.push(s>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(-32768<=s&&32768>s),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255),this.buffer_.push(s>>>16&255),this.buffer_.push(s>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_63&&s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(s),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(+s>=-jspb.BinaryConstants.TWO_TO_63&&+s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(s)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(s){goog.asserts.assert(1/0===s||-1/0===s||isNaN(s)||s>=-jspb.BinaryConstants.FLOAT32_MAX&&s<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(s),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(s){goog.asserts.assert(1/0===s||-1/0===s||isNaN(s)||s>=-jspb.BinaryConstants.FLOAT64_MAX&&s<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(s),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(s){goog.asserts.assert(typeof s=="boolean"||typeof s=="number"),this.buffer_.push(s?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(s){goog.asserts.assert(s==Math.floor(s)),goog.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(s)},jspb.BinaryEncoder.prototype.writeBytes=function(s){this.buffer_.push.apply(this.buffer_,s)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(s){jspb.utils.splitHash64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(s){jspb.utils.splitHash64(s),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(s){for(var o=this.buffer_.length,et=0;et<s.length;et++){var tt=s.charCodeAt(et);if(128>tt)this.buffer_.push(tt);else if(2048>tt)this.buffer_.push(tt>>6|192),this.buffer_.push(63&tt|128);else if(65536>tt)if(55296<=tt&&56319>=tt&&et+1<s.length){var nt=s.charCodeAt(et+1);56320<=nt&&57343>=nt&&(tt=1024*(tt-55296)+nt-56320+65536,this.buffer_.push(tt>>18|240),this.buffer_.push(tt>>12&63|128),this.buffer_.push(tt>>6&63|128),this.buffer_.push(63&tt|128),et++)}else this.buffer_.push(tt>>12|224),this.buffer_.push(tt>>6&63|128),this.buffer_.push(63&tt|128)}return this.buffer_.length-o},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(s){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(s),this.totalLength_+=o.length+s.length},jspb.BinaryWriter.prototype.beginDelimited_=function(s){return this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),s=this.encoder_.end(),this.blocks_.push(s),this.totalLength_+=s.length,s.push(this.totalLength_),s},jspb.BinaryWriter.prototype.endDelimited_=function(s){var o=s.pop();for(o=this.totalLength_+this.encoder_.length()-o,goog.asserts.assert(0<=o);127<o;)s.push(127&o|128),o>>>=7,this.totalLength_++;s.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(s,o,et){this.appendUint8Array_(s.subarray(o,et))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(s,o,et){s!=null&&o!=null&&et!=null&&this.writeSerializedMessage(s,o,et)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var s=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,et=o.length,tt=0,nt=0;nt<et;nt++){var rt=o[nt];s.set(rt,tt),tt+=rt.length}return o=this.encoder_.end(),s.set(o,tt),tt+=o.length,goog.asserts.assert(tt==s.length),this.blocks_=[s],s},jspb.BinaryWriter.prototype.getResultBase64String=function(s){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),s)},jspb.BinaryWriter.prototype.beginSubMessage=function(s){this.bookmarks_.push(this.beginDelimited_(s))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(s,o){goog.asserts.assert(1<=s&&s==Math.floor(s)),this.encoder_.writeUnsignedVarint32(8*s+o)},jspb.BinaryWriter.prototype.writeAny=function(s,o,et){var tt=jspb.BinaryConstants.FieldType;switch(s){case tt.DOUBLE:this.writeDouble(o,et);break;case tt.FLOAT:this.writeFloat(o,et);break;case tt.INT64:this.writeInt64(o,et);break;case tt.UINT64:this.writeUint64(o,et);break;case tt.INT32:this.writeInt32(o,et);break;case tt.FIXED64:this.writeFixed64(o,et);break;case tt.FIXED32:this.writeFixed32(o,et);break;case tt.BOOL:this.writeBool(o,et);break;case tt.STRING:this.writeString(o,et);break;case tt.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case tt.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case tt.BYTES:this.writeBytes(o,et);break;case tt.UINT32:this.writeUint32(o,et);break;case tt.ENUM:this.writeEnum(o,et);break;case tt.SFIXED32:this.writeSfixed32(o,et);break;case tt.SFIXED64:this.writeSfixed64(o,et);break;case tt.SINT32:this.writeSint32(o,et);break;case tt.SINT64:this.writeSint64(o,et);break;case tt.FHASH64:this.writeFixedHash64(o,et);break;case tt.VHASH64:this.writeVarintHash64(o,et);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(s,o))},jspb.BinaryWriter.prototype.writeInt32String=function(s,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(s,o))},jspb.BinaryWriter.prototype.writeInt64=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(s,o))},jspb.BinaryWriter.prototype.writeInt64String=function(s,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(s,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(s,o))},jspb.BinaryWriter.prototype.writeUint32String=function(s,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(s,o))},jspb.BinaryWriter.prototype.writeUint64=function(s,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(s,o))},jspb.BinaryWriter.prototype.writeUint64String=function(s,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(s,o))},jspb.BinaryWriter.prototype.writeSint64=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(s,o))},jspb.BinaryWriter.prototype.writeSintHash64=function(s,o){o!=null&&this.writeZigzagVarintHash64_(s,o)},jspb.BinaryWriter.prototype.writeSint64String=function(s,o){o!=null&&this.writeZigzagVarint64String_(s,o)},jspb.BinaryWriter.prototype.writeFixed32=function(s,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},jspb.BinaryWriter.prototype.writeFixed64=function(s,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},jspb.BinaryWriter.prototype.writeFixed64String=function(s,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},jspb.BinaryWriter.prototype.writeSfixed64=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},jspb.BinaryWriter.prototype.writeSfixed64String=function(s,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},jspb.BinaryWriter.prototype.writeDouble=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},jspb.BinaryWriter.prototype.writeBool=function(s,o){o!=null&&(goog.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},jspb.BinaryWriter.prototype.writeEnum=function(s,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeString=function(s,o){o!=null&&(s=this.beginDelimited_(s),this.encoder_.writeString(o),this.endDelimited_(s))},jspb.BinaryWriter.prototype.writeBytes=function(s,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},jspb.BinaryWriter.prototype.writeMessage=function(s,o,et){o!=null&&(s=this.beginDelimited_(s),et(o,this),this.endDelimited_(s))},jspb.BinaryWriter.prototype.writeMessageSet=function(s,o,et){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(s),s=this.beginDelimited_(3),et(o,this),this.endDelimited_(s),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(s,o,et){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.START_GROUP),et(o,this),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(s,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(s,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(s,o,et){this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,et)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(s,o,et){this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,et)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(s,o,et){this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT);var tt=this.encoder_;jspb.utils.toZigzag64(o,et,function(nt,rt){tt.writeSplitVarint64(nt>>>0,rt>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSignedVarint32_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeInt32String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSignedVarint64_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(s,o,et,tt){if(o!=null)for(var nt=0;nt<o.length;nt++)this.writeSplitFixed64(s,et(o[nt]),tt(o[nt]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(s,o,et,tt){if(o!=null)for(var nt=0;nt<o.length;nt++)this.writeSplitVarint64(s,et(o[nt]),tt(o[nt]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(s,o,et,tt){if(o!=null)for(var nt=0;nt<o.length;nt++)this.writeSplitZigzagVarint64(s,et(o[nt]),tt(o[nt]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeInt64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUnsignedVarint32_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUint32String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUnsignedVarint64_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUint64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarint32_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarint64_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarint64String_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarintHash64_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixed32(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixed64(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixed64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSfixed32(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSfixed64(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSfixed64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFloat(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeDouble(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeBool(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeEnum(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedString=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeString(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeBytes(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(s,o,et){if(o!=null)for(var tt=0;tt<o.length;tt++){var nt=this.beginDelimited_(s);et(o[tt],this),this.endDelimited_(nt)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(s,o,et){if(o!=null)for(var tt=0;tt<o.length;tt++)this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.START_GROUP),et(o[tt],this),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixedHash64(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeVarintHash64(s,o[et])},jspb.BinaryWriter.prototype.writePackedInt32=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeSignedVarint32(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeSignedVarint32(parseInt(o[et],10));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedInt64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeSignedVarint64(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(s,o,et,tt){if(o!=null){s=this.beginDelimited_(s);for(var nt=0;nt<o.length;nt++)this.encoder_.writeSplitFixed64(et(o[nt]),tt(o[nt]));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(s,o,et,tt){if(o!=null){s=this.beginDelimited_(s);for(var nt=0;nt<o.length;nt++)this.encoder_.writeSplitVarint64(et(o[nt]),tt(o[nt]));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(s,o,et,tt){if(o!=null){s=this.beginDelimited_(s);for(var nt=this.encoder_,rt=0;rt<o.length;rt++)jspb.utils.toZigzag64(et(o[rt]),tt(o[rt]),function(it,ot){nt.writeSplitVarint64(it>>>0,ot>>>0)});this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++){var tt=jspb.arith.Int64.fromString(o[et]);this.encoder_.writeSplitVarint64(tt.lo,tt.hi)}this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedUint32=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeUnsignedVarint32(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeUnsignedVarint32(parseInt(o[et],10));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedUint64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeUnsignedVarint64(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++){var tt=jspb.arith.UInt64.fromString(o[et]);this.encoder_.writeSplitVarint64(tt.lo,tt.hi)}this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSint32=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarint32(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSint64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarint64(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[et]));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarintHash64(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),s=0;s<o.length;s++)this.encoder_.writeUint32(o[s])},jspb.BinaryWriter.prototype.writePackedFixed64=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeUint64(o[s])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++){var et=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitFixed64(et.lo,et.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),s=0;s<o.length;s++)this.encoder_.writeInt32(o[s])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeInt64(o[s])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeInt64String(o[s])},jspb.BinaryWriter.prototype.writePackedFloat=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),s=0;s<o.length;s++)this.encoder_.writeFloat(o[s])},jspb.BinaryWriter.prototype.writePackedDouble=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeDouble(o[s])},jspb.BinaryWriter.prototype.writePackedBool=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),s=0;s<o.length;s++)this.encoder_.writeBool(o[s])},jspb.BinaryWriter.prototype.writePackedEnum=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeEnum(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeFixedHash64(o[s])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeVarintHash64(o[et]);this.endDelimited_(s)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(6),__webpack_require__(5).Buffer)},function(s,o){var et=typeof self<"u"?self:this,tt=function(){function rt(){this.fetch=!1,this.DOMException=et.DOMException}return rt.prototype=et,new rt}();(function(rt){(function(it){var ot="URLSearchParams"in rt,st="Symbol"in rt&&"iterator"in Symbol,at="FileReader"in rt&&"Blob"in rt&&function(){try{return new Blob,!0}catch{return!1}}(),lt="FormData"in rt,ct="ArrayBuffer"in rt;if(ct)var ut=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],dt=ArrayBuffer.isView||function(xt){return xt&&ut.indexOf(Object.prototype.toString.call(xt))>-1};function ht(xt){if(typeof xt!="string"&&(xt=String(xt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(xt))throw new TypeError("Invalid character in header field name");return xt.toLowerCase()}function pt(xt){return typeof xt!="string"&&(xt=String(xt)),xt}function gt(xt){var Bt={next:function(){var Ct=xt.shift();return{done:Ct===void 0,value:Ct}}};return st&&(Bt[Symbol.iterator]=function(){return Bt}),Bt}function ft(xt){this.map={},xt instanceof ft?xt.forEach(function(Bt,Ct){this.append(Ct,Bt)},this):Array.isArray(xt)?xt.forEach(function(Bt){this.append(Bt[0],Bt[1])},this):xt&&Object.getOwnPropertyNames(xt).forEach(function(Bt){this.append(Bt,xt[Bt])},this)}function yt(xt){if(xt.bodyUsed)return Promise.reject(new TypeError("Already read"));xt.bodyUsed=!0}function mt(xt){return new Promise(function(Bt,Ct){xt.onload=function(){Bt(xt.result)},xt.onerror=function(){Ct(xt.error)}})}function Ft(xt){var Bt=new FileReader,Ct=mt(Bt);return Bt.readAsArrayBuffer(xt),Ct}function vt(xt){if(xt.slice)return xt.slice(0);var Bt=new Uint8Array(xt.byteLength);return Bt.set(new Uint8Array(xt)),Bt.buffer}function Et(){return this.bodyUsed=!1,this._initBody=function(xt){var Bt;this._bodyInit=xt,xt?typeof xt=="string"?this._bodyText=xt:at&&Blob.prototype.isPrototypeOf(xt)?this._bodyBlob=xt:lt&&FormData.prototype.isPrototypeOf(xt)?this._bodyFormData=xt:ot&&URLSearchParams.prototype.isPrototypeOf(xt)?this._bodyText=xt.toString():ct&&at&&(Bt=xt)&&DataView.prototype.isPrototypeOf(Bt)?(this._bodyArrayBuffer=vt(xt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ct&&(ArrayBuffer.prototype.isPrototypeOf(xt)||dt(xt))?this._bodyArrayBuffer=vt(xt):this._bodyText=xt=Object.prototype.toString.call(xt):this._bodyText="",this.headers.get("content-type")||(typeof xt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ot&&URLSearchParams.prototype.isPrototypeOf(xt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},at&&(this.blob=function(){var xt=yt(this);if(xt)return xt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?yt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Ft)}),this.text=function(){var xt,Bt,Ct,Mt=yt(this);if(Mt)return Mt;if(this._bodyBlob)return xt=this._bodyBlob,Bt=new FileReader,Ct=mt(Bt),Bt.readAsText(xt),Ct;if(this._bodyArrayBuffer)return Promise.resolve(function(Nt){for(var At=new Uint8Array(Nt),Ot=new Array(At.length),Vt=0;Vt<At.length;Vt++)Ot[Vt]=String.fromCharCode(At[Vt]);return Ot.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},lt&&(this.formData=function(){return this.text().then(St)}),this.json=function(){return this.text().then(JSON.parse)},this}ft.prototype.append=function(xt,Bt){xt=ht(xt),Bt=pt(Bt);var Ct=this.map[xt];this.map[xt]=Ct?Ct+", "+Bt:Bt},ft.prototype.delete=function(xt){delete this.map[ht(xt)]},ft.prototype.get=function(xt){return xt=ht(xt),this.has(xt)?this.map[xt]:null},ft.prototype.has=function(xt){return this.map.hasOwnProperty(ht(xt))},ft.prototype.set=function(xt,Bt){this.map[ht(xt)]=pt(Bt)},ft.prototype.forEach=function(xt,Bt){for(var Ct in this.map)this.map.hasOwnProperty(Ct)&&xt.call(Bt,this.map[Ct],Ct,this)},ft.prototype.keys=function(){var xt=[];return this.forEach(function(Bt,Ct){xt.push(Ct)}),gt(xt)},ft.prototype.values=function(){var xt=[];return this.forEach(function(Bt){xt.push(Bt)}),gt(xt)},ft.prototype.entries=function(){var xt=[];return this.forEach(function(Bt,Ct){xt.push([Ct,Bt])}),gt(xt)},st&&(ft.prototype[Symbol.iterator]=ft.prototype.entries);var wt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function It(xt,Bt){var Ct,Mt,Nt=(Bt=Bt||{}).body;if(xt instanceof It){if(xt.bodyUsed)throw new TypeError("Already read");this.url=xt.url,this.credentials=xt.credentials,Bt.headers||(this.headers=new ft(xt.headers)),this.method=xt.method,this.mode=xt.mode,this.signal=xt.signal,Nt||xt._bodyInit==null||(Nt=xt._bodyInit,xt.bodyUsed=!0)}else this.url=String(xt);if(this.credentials=Bt.credentials||this.credentials||"same-origin",!Bt.headers&&this.headers||(this.headers=new ft(Bt.headers)),this.method=(Ct=Bt.method||this.method||"GET",Mt=Ct.toUpperCase(),wt.indexOf(Mt)>-1?Mt:Ct),this.mode=Bt.mode||this.mode||null,this.signal=Bt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Nt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Nt)}function St(xt){var Bt=new FormData;return xt.trim().split("&").forEach(function(Ct){if(Ct){var Mt=Ct.split("="),Nt=Mt.shift().replace(/\+/g," "),At=Mt.join("=").replace(/\+/g," ");Bt.append(decodeURIComponent(Nt),decodeURIComponent(At))}}),Bt}function Rt(xt,Bt){Bt||(Bt={}),this.type="default",this.status=Bt.status===void 0?200:Bt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Bt?Bt.statusText:"OK",this.headers=new ft(Bt.headers),this.url=Bt.url||"",this._initBody(xt)}It.prototype.clone=function(){return new It(this,{body:this._bodyInit})},Et.call(It.prototype),Et.call(Rt.prototype),Rt.prototype.clone=function(){return new Rt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ft(this.headers),url:this.url})},Rt.error=function(){var xt=new Rt(null,{status:0,statusText:""});return xt.type="error",xt};var Tt=[301,302,303,307,308];Rt.redirect=function(xt,Bt){if(Tt.indexOf(Bt)===-1)throw new RangeError("Invalid status code");return new Rt(null,{status:Bt,headers:{location:xt}})},it.DOMException=rt.DOMException;try{new it.DOMException}catch{it.DOMException=function(xt,Bt){this.message=xt,this.name=Bt;var Ct=Error(xt);this.stack=Ct.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function bt(xt,Bt){return new Promise(function(Ct,Mt){var Nt=new It(xt,Bt);if(Nt.signal&&Nt.signal.aborted)return Mt(new it.DOMException("Aborted","AbortError"));var At=new XMLHttpRequest;function Ot(){At.abort()}At.onload=function(){var Vt,Wt,Jt={status:At.status,statusText:At.statusText,headers:(Vt=At.getAllResponseHeaders()||"",Wt=new ft,Vt.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ht){var Xt=Ht.split(":"),Lt=Xt.shift().trim();if(Lt){var Pt=Xt.join(":").trim();Wt.append(Lt,Pt)}}),Wt)};Jt.url="responseURL"in At?At.responseURL:Jt.headers.get("X-Request-URL");var qt="response"in At?At.response:At.responseText;Ct(new Rt(qt,Jt))},At.onerror=function(){Mt(new TypeError("Network request failed"))},At.ontimeout=function(){Mt(new TypeError("Network request failed"))},At.onabort=function(){Mt(new it.DOMException("Aborted","AbortError"))},At.open(Nt.method,Nt.url,!0),Nt.credentials==="include"?At.withCredentials=!0:Nt.credentials==="omit"&&(At.withCredentials=!1),"responseType"in At&&at&&(At.responseType="blob"),Nt.headers.forEach(function(Vt,Wt){At.setRequestHeader(Wt,Vt)}),Nt.signal&&(Nt.signal.addEventListener("abort",Ot),At.onreadystatechange=function(){At.readyState===4&&Nt.signal.removeEventListener("abort",Ot)}),At.send(Nt._bodyInit===void 0?null:Nt._bodyInit)})}bt.polyfill=!0,rt.fetch||(rt.fetch=bt,rt.Headers=ft,rt.Request=It,rt.Response=Rt),it.Headers=ft,it.Request=It,it.Response=Rt,it.fetch=bt,Object.defineProperty(it,"__esModule",{value:!0})})({})})(tt),tt.fetch.ponyfill=!0,delete tt.fetch.polyfill;var nt=tt;(o=nt.fetch).default=nt.fetch,o.fetch=nt.fetch,o.Headers=nt.Headers,o.Request=nt.Request,o.Response=nt.Response,s.exports=o},function(s,o,et){(function(tt){const nt=et(216),rt=et(51),it=(ot,st,at)=>({from:it,EnvVarError:et(51),get:function(lt){if(!lt)return ot;if(arguments.length>1)throw new rt("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return nt(ot,lt,st||{},at||function(){})},accessors:et(93),logger:et(230)(console.log,ot.NODE_ENV)});s.exports=it(tt===void 0?{}:tt.env)}).call(this,et(2))},function(s,o,et){(function(tt){const nt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,rt=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new st}abort(){this.signal.dispatchEvent("abort")}},it=typeof AbortSignal=="function",ot=typeof rt.AbortSignal=="function",st=it?AbortSignal:ot?rt.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(Ft){if(Ft==="abort"){this.aborted=!0;const vt={type:Ft,target:this};this.onabort(vt),this._listeners.forEach(Et=>Et(vt),this)}}onabort(){}addEventListener(Ft,vt){Ft==="abort"&&this._listeners.push(vt)}removeEventListener(Ft,vt){Ft==="abort"&&(this._listeners=this._listeners.filter(Et=>Et!==vt))}},at=new Set,lt=(Ft,vt)=>{const Et="LRU_CACHE_OPTION_"+Ft;dt(Et)&&ht(Et,Ft+" option","options."+vt,mt)},ct=(Ft,vt)=>{const Et="LRU_CACHE_METHOD_"+Ft;if(dt(Et)){const{prototype:wt}=mt,{get:It}=Object.getOwnPropertyDescriptor(wt,Ft);ht(Et,Ft+" method",`cache.${vt}()`,It)}},ut=(...Ft)=>{typeof tt=="object"&&tt&&typeof tt.emitWarning=="function"?tt.emitWarning(...Ft):console.error(...Ft)},dt=Ft=>!at.has(Ft),ht=(Ft,vt,Et,wt)=>{at.add(Ft),ut(`The ${vt} is deprecated. Please use ${Et} instead.`,"DeprecationWarning",Ft,wt)},pt=Ft=>Ft&&Ft===Math.floor(Ft)&&Ft>0&&isFinite(Ft),gt=Ft=>pt(Ft)?Ft<=Math.pow(2,8)?Uint8Array:Ft<=Math.pow(2,16)?Uint16Array:Ft<=Math.pow(2,32)?Uint32Array:Ft<=Number.MAX_SAFE_INTEGER?ft:null:null;class ft extends Array{constructor(vt){super(vt),this.fill(0)}}class yt{constructor(vt){if(vt===0)return[];const Et=gt(vt);this.heap=new Et(vt),this.length=0}push(vt){this.heap[this.length++]=vt}pop(){return this.heap[--this.length]}}class mt{constructor(vt={}){const{max:Et=0,ttl:wt,ttlResolution:It=1,ttlAutopurge:St,updateAgeOnGet:Rt,updateAgeOnHas:Tt,allowStale:bt,dispose:xt,disposeAfter:Bt,noDisposeOnSet:Ct,noUpdateTTL:Mt,maxSize:Nt=0,maxEntrySize:At=0,sizeCalculation:Ot,fetchMethod:Vt,fetchContext:Wt,noDeleteOnFetchRejection:Jt,noDeleteOnStaleGet:qt}=vt,{length:Ht,maxAge:Xt,stale:Lt}=vt instanceof mt?{}:vt;if(Et!==0&&!pt(Et))throw new TypeError("max option must be a nonnegative integer");const Pt=Et?gt(Et):Array;if(!Pt)throw new Error("invalid max value: "+Et);if(this.max=Et,this.maxSize=Nt,this.maxEntrySize=At||this.maxSize,this.sizeCalculation=Ot||Ht,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Vt||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=Wt,!this.fetchMethod&&Wt!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Et).fill(null),this.valList=new Array(Et).fill(null),this.next=new Pt(Et),this.prev=new Pt(Et),this.head=0,this.tail=0,this.free=new yt(Et),this.initialFill=1,this.size=0,typeof xt=="function"&&(this.dispose=xt),typeof Bt=="function"?(this.disposeAfter=Bt,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!Ct,this.noUpdateTTL=!!Mt,this.noDeleteOnFetchRejection=!!Jt,this.maxEntrySize!==0){if(this.maxSize!==0&&!pt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!pt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!bt||!!Lt,this.noDeleteOnStaleGet=!!qt,this.updateAgeOnGet=!!Rt,this.updateAgeOnHas=!!Tt,this.ttlResolution=pt(It)||It===0?It:1,this.ttlAutopurge=!!St,this.ttl=wt||Xt||0,this.ttl){if(!pt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const kt="LRU_CACHE_UNBOUNDED";dt(kt)&&(at.add(kt),ut("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",kt,mt))}Lt&&lt("stale","allowStale"),Xt&&lt("maxAge","ttl"),Ht&&lt("length","sizeCalculation")}getRemainingTTL(vt){return this.has(vt,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new ft(this.max),this.starts=new ft(this.max),this.setItemTTL=(wt,It,St=nt.now())=>{if(this.starts[wt]=It!==0?St:0,this.ttls[wt]=It,It!==0&&this.ttlAutopurge){const Rt=setTimeout(()=>{this.isStale(wt)&&this.delete(this.keyList[wt])},It+1);Rt.unref&&Rt.unref()}},this.updateItemAge=wt=>{this.starts[wt]=this.ttls[wt]!==0?nt.now():0};let vt=0;const Et=()=>{const wt=nt.now();if(this.ttlResolution>0){vt=wt;const It=setTimeout(()=>vt=0,this.ttlResolution);It.unref&&It.unref()}return wt};this.getRemainingTTL=wt=>{const It=this.keyMap.get(wt);return It===void 0?0:this.ttls[It]===0||this.starts[It]===0?1/0:this.starts[It]+this.ttls[It]-(vt||Et())},this.isStale=wt=>this.ttls[wt]!==0&&this.starts[wt]!==0&&(vt||Et())-this.starts[wt]>this.ttls[wt]}updateItemAge(vt){}setItemTTL(vt,Et,wt){}isStale(vt){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new ft(this.max),this.removeItemSize=vt=>{this.calculatedSize-=this.sizes[vt],this.sizes[vt]=0},this.requireSize=(vt,Et,wt,It)=>{if(!pt(wt)){if(!It)throw new TypeError("invalid size value (must be positive integer)");if(typeof It!="function")throw new TypeError("sizeCalculation must be a function");if(wt=It(Et,vt),!pt(wt))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return wt},this.addItemSize=(vt,Et)=>{this.sizes[vt]=Et;const wt=this.maxSize-this.sizes[vt];for(;this.calculatedSize>wt;)this.evict(!0);this.calculatedSize+=this.sizes[vt]}}removeItemSize(vt){}addItemSize(vt,Et){}requireSize(vt,Et,wt,It){if(wt||It)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:vt=this.allowStale}={}){if(this.size)for(let Et=this.tail;this.isValidIndex(Et)&&(!vt&&this.isStale(Et)||(yield Et),Et!==this.head);)Et=this.prev[Et]}*rindexes({allowStale:vt=this.allowStale}={}){if(this.size)for(let Et=this.head;this.isValidIndex(Et)&&(!vt&&this.isStale(Et)||(yield Et),Et!==this.tail);)Et=this.next[Et]}isValidIndex(vt){return this.keyMap.get(this.keyList[vt])===vt}*entries(){for(const vt of this.indexes())yield[this.keyList[vt],this.valList[vt]]}*rentries(){for(const vt of this.rindexes())yield[this.keyList[vt],this.valList[vt]]}*keys(){for(const vt of this.indexes())yield this.keyList[vt]}*rkeys(){for(const vt of this.rindexes())yield this.keyList[vt]}*values(){for(const vt of this.indexes())yield this.valList[vt]}*rvalues(){for(const vt of this.rindexes())yield this.valList[vt]}[Symbol.iterator](){return this.entries()}find(vt,Et={}){for(const wt of this.indexes())if(vt(this.valList[wt],this.keyList[wt],this))return this.get(this.keyList[wt],Et)}forEach(vt,Et=this){for(const wt of this.indexes())vt.call(Et,this.valList[wt],this.keyList[wt],this)}rforEach(vt,Et=this){for(const wt of this.rindexes())vt.call(Et,this.valList[wt],this.keyList[wt],this)}get prune(){return ct("prune","purgeStale"),this.purgeStale}purgeStale(){let vt=!1;for(const Et of this.rindexes({allowStale:!0}))this.isStale(Et)&&(this.delete(this.keyList[Et]),vt=!0);return vt}dump(){const vt=[];for(const Et of this.indexes({allowStale:!0})){const wt=this.keyList[Et],It=this.valList[Et],St={value:this.isBackgroundFetch(It)?It.__staleWhileFetching:It};if(this.ttls){St.ttl=this.ttls[Et];const Rt=nt.now()-this.starts[Et];St.start=Math.floor(Date.now()-Rt)}this.sizes&&(St.size=this.sizes[Et]),vt.unshift([wt,St])}return vt}load(vt){this.clear();for(const[Et,wt]of vt){if(wt.start){const It=Date.now()-wt.start;wt.start=nt.now()-It}this.set(Et,wt.value,wt)}}dispose(vt,Et,wt){}set(vt,Et,{ttl:wt=this.ttl,start:It,noDisposeOnSet:St=this.noDisposeOnSet,size:Rt=0,sizeCalculation:Tt=this.sizeCalculation,noUpdateTTL:bt=this.noUpdateTTL}={}){if(Rt=this.requireSize(vt,Et,Rt,Tt),this.maxEntrySize&&Rt>this.maxEntrySize)return this;let xt=this.size===0?void 0:this.keyMap.get(vt);if(xt===void 0)xt=this.newIndex(),this.keyList[xt]=vt,this.valList[xt]=Et,this.keyMap.set(vt,xt),this.next[this.tail]=xt,this.prev[xt]=this.tail,this.tail=xt,this.size++,this.addItemSize(xt,Rt),bt=!1;else{const Bt=this.valList[xt];Et!==Bt&&(this.isBackgroundFetch(Bt)?Bt.__abortController.abort():St||(this.dispose(Bt,vt,"set"),this.disposeAfter&&this.disposed.push([Bt,vt,"set"])),this.removeItemSize(xt),this.valList[xt]=Et,this.addItemSize(xt,Rt)),this.moveToTail(xt)}if(wt===0||this.ttl!==0||this.ttls||this.initializeTTLTracking(),bt||this.setItemTTL(xt,wt,It),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const vt=this.valList[this.head];return this.evict(!0),vt}}evict(vt){const Et=this.head,wt=this.keyList[Et],It=this.valList[Et];return this.isBackgroundFetch(It)?It.__abortController.abort():(this.dispose(It,wt,"evict"),this.disposeAfter&&this.disposed.push([It,wt,"evict"])),this.removeItemSize(Et),vt&&(this.keyList[Et]=null,this.valList[Et]=null,this.free.push(Et)),this.head=this.next[Et],this.keyMap.delete(wt),this.size--,Et}has(vt,{updateAgeOnHas:Et=this.updateAgeOnHas}={}){const wt=this.keyMap.get(vt);return wt!==void 0&&!this.isStale(wt)&&(Et&&this.updateItemAge(wt),!0)}peek(vt,{allowStale:Et=this.allowStale}={}){const wt=this.keyMap.get(vt);if(wt!==void 0&&(Et||!this.isStale(wt))){const It=this.valList[wt];return this.isBackgroundFetch(It)?It.__staleWhileFetching:It}}backgroundFetch(vt,Et,wt,It){const St=Et===void 0?void 0:this.valList[Et];if(this.isBackgroundFetch(St))return St;const Rt=new rt,Tt={signal:Rt.signal,options:wt,context:It},bt=new Promise(xt=>xt(this.fetchMethod(vt,St,Tt))).then(xt=>(Rt.signal.aborted||this.set(vt,xt,Tt.options),xt),xt=>{if(this.valList[Et]===bt&&(!wt.noDeleteOnFetchRejection||bt.__staleWhileFetching===void 0?this.delete(vt):this.valList[Et]=bt.__staleWhileFetching),bt.__returned===bt)throw xt});return bt.__abortController=Rt,bt.__staleWhileFetching=St,bt.__returned=null,Et===void 0?(this.set(vt,bt,Tt.options),Et=this.keyMap.get(vt)):this.valList[Et]=bt,bt}isBackgroundFetch(vt){return vt&&typeof vt=="object"&&typeof vt.then=="function"&&Object.prototype.hasOwnProperty.call(vt,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(vt,"__returned")&&(vt.__returned===vt||vt.__returned===null)}async fetch(vt,{allowStale:Et=this.allowStale,updateAgeOnGet:wt=this.updateAgeOnGet,noDeleteOnStaleGet:It=this.noDeleteOnStaleGet,ttl:St=this.ttl,noDisposeOnSet:Rt=this.noDisposeOnSet,size:Tt=0,sizeCalculation:bt=this.sizeCalculation,noUpdateTTL:xt=this.noUpdateTTL,noDeleteOnFetchRejection:Bt=this.noDeleteOnFetchRejection,fetchContext:Ct=this.fetchContext,forceRefresh:Mt=!1}={}){if(!this.fetchMethod)return this.get(vt,{allowStale:Et,updateAgeOnGet:wt,noDeleteOnStaleGet:It});const Nt={allowStale:Et,updateAgeOnGet:wt,noDeleteOnStaleGet:It,ttl:St,noDisposeOnSet:Rt,size:Tt,sizeCalculation:bt,noUpdateTTL:xt,noDeleteOnFetchRejection:Bt};let At=this.keyMap.get(vt);if(At===void 0){const Ot=this.backgroundFetch(vt,At,Nt,Ct);return Ot.__returned=Ot}{const Ot=this.valList[At];if(this.isBackgroundFetch(Ot))return Et&&Ot.__staleWhileFetching!==void 0?Ot.__staleWhileFetching:Ot.__returned=Ot;if(!Mt&&!this.isStale(At))return this.moveToTail(At),wt&&this.updateItemAge(At),Ot;const Vt=this.backgroundFetch(vt,At,Nt,Ct);return Et&&Vt.__staleWhileFetching!==void 0?Vt.__staleWhileFetching:Vt.__returned=Vt}}get(vt,{allowStale:Et=this.allowStale,updateAgeOnGet:wt=this.updateAgeOnGet,noDeleteOnStaleGet:It=this.noDeleteOnStaleGet}={}){const St=this.keyMap.get(vt);if(St!==void 0){const Rt=this.valList[St],Tt=this.isBackgroundFetch(Rt);return this.isStale(St)?Tt?Et?Rt.__staleWhileFetching:void 0:(It||this.delete(vt),Et?Rt:void 0):Tt?void 0:(this.moveToTail(St),wt&&this.updateItemAge(St),Rt)}}connect(vt,Et){this.prev[Et]=vt,this.next[vt]=Et}moveToTail(vt){vt!==this.tail&&(vt===this.head?this.head=this.next[vt]:this.connect(this.prev[vt],this.next[vt]),this.connect(this.tail,vt),this.tail=vt)}get del(){return ct("del","delete"),this.delete}delete(vt){let Et=!1;if(this.size!==0){const wt=this.keyMap.get(vt);if(wt!==void 0)if(Et=!0,this.size===1)this.clear();else{this.removeItemSize(wt);const It=this.valList[wt];this.isBackgroundFetch(It)?It.__abortController.abort():(this.dispose(It,vt,"delete"),this.disposeAfter&&this.disposed.push([It,vt,"delete"])),this.keyMap.delete(vt),this.keyList[wt]=null,this.valList[wt]=null,wt===this.tail?this.tail=this.prev[wt]:wt===this.head?this.head=this.next[wt]:(this.next[this.prev[wt]]=this.next[wt],this.prev[this.next[wt]]=this.prev[wt]),this.size--,this.free.push(wt)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Et}clear(){for(const vt of this.rindexes({allowStale:!0})){const Et=this.valList[vt];if(this.isBackgroundFetch(Et))Et.__abortController.abort();else{const wt=this.keyList[vt];this.dispose(Et,wt,"delete"),this.disposeAfter&&this.disposed.push([Et,wt,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return ct("reset","clear"),this.clear}get length(){return((vt,Et)=>{const wt="LRU_CACHE_PROPERTY_"+vt;if(dt(wt)){const{prototype:It}=mt,{get:St}=Object.getOwnPropertyDescriptor(It,vt);ht(wt,vt+" property","cache."+Et,St)}})("length","size"),this.size}static get AbortController(){return rt}static get AbortSignal(){return st}}s.exports=mt}).call(this,et(2))},function(s,o,et){var tt=et(42).Colorizer;s.exports=function(nt){return tt.addColors(nt.colors||nt),nt}},function(s,o,et){var tt={};s.exports=tt,tt.themes={};var nt=et(13),rt=tt.styles=et(106),it=Object.defineProperties,ot=new RegExp(/[\r\n]+/g);tt.supportsColor=et(107).supportsColor,tt.enabled===void 0&&(tt.enabled=tt.supportsColor()!==!1),tt.enable=function(){tt.enabled=!0},tt.disable=function(){tt.enabled=!1},tt.stripColors=tt.strip=function(gt){return(""+gt).replace(/\x1B\[\d+m/g,"")},tt.stylize=function(gt,ft){if(!tt.enabled)return gt+"";var yt=rt[ft];return!yt&&ft in tt?tt[ft](gt):yt.open+gt+yt.close};var st=/[|\\{}()[\]^$+*?.]/g;function at(gt){var ft=function yt(){return dt.apply(yt,arguments)};return ft._styles=gt,ft.__proto__=ut,ft}var lt,ct=(lt={},rt.grey=rt.gray,Object.keys(rt).forEach(function(gt){rt[gt].closeRe=new RegExp(function(ft){if(typeof ft!="string")throw new TypeError("Expected a string");return ft.replace(st,"\\$&")}(rt[gt].close),"g"),lt[gt]={get:function(){return at(this._styles.concat(gt))}}}),lt),ut=it(function(){},ct);function dt(){var gt=Array.prototype.slice.call(arguments),ft=gt.map(function(Et){return Et!=null&&Et.constructor===String?Et:nt.inspect(Et)}).join(" ");if(!tt.enabled||!ft)return ft;for(var yt=ft.indexOf(`
`)!=-1,mt=this._styles,Ft=mt.length;Ft--;){var vt=rt[mt[Ft]];ft=vt.open+ft.replace(vt.closeRe,vt.open)+vt.close,yt&&(ft=ft.replace(ot,function(Et){return vt.close+Et+vt.open}))}return ft}tt.setTheme=function(gt){if(typeof gt!="string")for(var ft in gt)(function(yt){tt[yt]=function(mt){if(typeof gt[yt]=="object"){var Ft=mt;for(var vt in gt[yt])Ft=tt[gt[yt][vt]](Ft);return Ft}return tt[gt[yt]](mt)}})(ft);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ht=function(gt,ft){var yt=ft.split("");return(yt=yt.map(gt)).join("")};for(var pt in tt.trap=et(109),tt.zalgo=et(110),tt.maps={},tt.maps.america=et(111)(tt),tt.maps.zebra=et(112)(tt),tt.maps.rainbow=et(113)(tt),tt.maps.random=et(114)(tt),tt.maps)(function(gt){tt[gt]=function(ft){return ht(tt.maps[gt],ft)}})(pt);it(tt,function(){var gt={};return Object.keys(ct).forEach(function(ft){gt[ft]={get:function(){return at([ft])}}}),gt}())},function(s,o){s.exports=function(et){return et&&typeof et=="object"&&typeof et.copy=="function"&&typeof et.fill=="function"&&typeof et.readUInt8=="function"}},function(s,o){typeof Object.create=="function"?s.exports=function(et,tt){et.super_=tt,et.prototype=Object.create(tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(et,tt){et.super_=tt;var nt=function(){};nt.prototype=tt.prototype,et.prototype=new nt,et.prototype.constructor=et}},function(s,o){var et={};s.exports=et;var tt={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(tt).forEach(function(nt){var rt=tt[nt],it=et[nt]=[];it.open="\x1B["+rt[0]+"m",it.close="\x1B["+rt[1]+"m"})},function(s,o,et){(function(tt){var nt=et(16),rt=et(108),it=tt.env,ot=void 0;function st(at){return function(lt){return lt!==0&&{level:lt,hasBasic:!0,has256:lt>=2,has16m:lt>=3}}(function(lt){if(ot===!1)return 0;if(rt("color=16m")||rt("color=full")||rt("color=truecolor"))return 3;if(rt("color=256"))return 2;if(lt&&!lt.isTTY&&ot!==!0)return 0;var ct=ot?1:0;if(tt.platform==="win32"){var ut=nt.release().split(".");return Number(tt.versions.node.split(".")[0])>=8&&Number(ut[0])>=10&&Number(ut[2])>=10586?Number(ut[2])>=14931?3:2:1}if("CI"in it)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(ht){return ht in it})||it.CI_NAME==="codeship"?1:ct;if("TEAMCITY_VERSION"in it)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(it.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in it){var dt=parseInt((it.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(it.TERM_PROGRAM){case"iTerm.app":return dt>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test("xterm")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm")||"COLORTERM"in it?1:ct}(at))}rt("no-color")||rt("no-colors")||rt("color=false")?ot=!1:(rt("color")||rt("colors")||rt("color=true")||rt("color=always"))&&(ot=!0),"FORCE_COLOR"in it&&(ot=it.FORCE_COLOR.length===0||parseInt(it.FORCE_COLOR,10)!==0),s.exports={supportsColor:st,stdout:st(tt.stdout),stderr:st(tt.stderr)}}).call(this,et(2))},function(s,o,et){(function(tt){s.exports=function(nt,rt){var it=(rt=rt||tt.argv).indexOf("--"),ot=/^-{1,2}/.test(nt)?"":"--",st=rt.indexOf(ot+nt);return st!==-1&&(it===-1||st<it)}}).call(this,et(2))},function(s,o){s.exports=function(et,tt){var nt="";et=(et=et||"Run the trap, drop the bass").split("");var rt={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return et.forEach(function(it){it=it.toLowerCase();var ot=rt[it]||[" "],st=Math.floor(Math.random()*ot.length);nt+=rt[it]!==void 0?rt[it][st]:it}),nt}},function(s,o){s.exports=function(et,tt){et=et||"   he is here   ";var nt={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},rt=[].concat(nt.up,nt.down,nt.mid);function it(st){return Math.floor(Math.random()*st)}function ot(st){var at=!1;return rt.filter(function(lt){at=lt===st}),at}return function(st,at){var lt,ct,ut="";for(ct in(at=at||{}).up=at.up===void 0||at.up,at.mid=at.mid===void 0||at.mid,at.down=at.down===void 0||at.down,at.size=at.size!==void 0?at.size:"maxi",st=st.split(""))if(!ot(ct)){switch(ut+=st[ct],lt={up:0,down:0,mid:0},at.size){case"mini":lt.up=it(8),lt.mid=it(2),lt.down=it(8);break;case"maxi":lt.up=it(16)+3,lt.mid=it(4)+1,lt.down=it(64)+3;break;default:lt.up=it(8)+1,lt.mid=it(6)/2,lt.down=it(8)+1}var dt=["up","mid","down"];for(var ht in dt)for(var pt=dt[ht],gt=0;gt<=lt[pt];gt++)at[pt]&&(ut+=nt[pt][it(nt[pt].length)])}return ut}(et,tt)}},function(s,o){s.exports=function(et){return function(tt,nt,rt){if(tt===" ")return tt;switch(nt%3){case 0:return et.red(tt);case 1:return et.white(tt);case 2:return et.blue(tt)}}}},function(s,o){s.exports=function(et){return function(tt,nt,rt){return nt%2==0?tt:et.inverse(tt)}}},function(s,o){s.exports=function(et){var tt=["red","yellow","green","blue","magenta"];return function(nt,rt,it){return nt===" "?nt:et[tt[rt++%tt.length]](nt)}}},function(s,o){s.exports=function(et){var tt=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(nt,rt,it){return nt===" "?nt:et[tt[Math.round(Math.random()*(tt.length-2))]](nt)}}},function(s,o,et){Object.defineProperty(o,"cli",{value:et(116)}),Object.defineProperty(o,"npm",{value:et(117)}),Object.defineProperty(o,"syslog",{value:et(118)})},function(s,o,et){o.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},o.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(s,o,et){o.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},o.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(s,o,et){o.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},o.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(s,o,et){var tt=et(8);s.exports=tt(function(nt){return nt.message="	".concat(nt.message),nt})},function(s,o,et){function tt(ct,ut){if(!(ct instanceof ut))throw new TypeError("Cannot call a class as a function")}function nt(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ht.key,ht)}}var rt=et(42).Colorizer,it=et(59).Padder,ot=et(4),st=ot.configs,at=ot.MESSAGE,lt=function(){function ct(){var ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(this,ct),ht.levels||(ht.levels=st.cli.levels),this.colorizer=new rt(ht),this.padder=new it(ht),this.options=ht}var ut,dt;return ut=ct,(dt=[{key:"transform",value:function(ht,pt){return this.colorizer.transform(this.padder.transform(ht,pt),pt),ht[at]="".concat(ht.level,":").concat(ht.message),ht}}])&&nt(ut.prototype,dt),Object.defineProperty(ut,"prototype",{writable:!1}),ct}();s.exports=function(ct){return new lt(ct)},s.exports.Format=lt},function(s,o,et){var tt=et(8);function nt(it){if(it.every(rt))return function(ot){for(var st=ot,at=0;at<it.length;at++)if(!(st=it[at].transform(st,it[at].options)))return!1;return st}}function rt(it){if(typeof it.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}s.exports=function(){for(var it=arguments.length,ot=new Array(it),st=0;st<it;st++)ot[st]=arguments[st];var at=tt(nt(ot)),lt=at();return lt.Format=at.Format,lt},s.exports.cascade=nt},function(s,o,et){function tt(st,at,lt){return at in st?Object.defineProperty(st,at,{value:lt,enumerable:!0,configurable:!0,writable:!0}):st[at]=lt,st}var nt=et(8),rt=et(4),it=rt.LEVEL,ot=rt.MESSAGE;s.exports=nt(function(st,at){var lt=at.stack,ct=at.cause;if(st instanceof Error){var ut,dt=Object.assign({},st,(tt(ut={level:st.level},it,st[it]||st.level),tt(ut,"message",st.message),tt(ut,ot,st[ot]||st.message),ut));return lt&&(dt.stack=st.stack),ct&&(dt.cause=st.cause),dt}if(!(st.message instanceof Error))return st;var ht=st.message;return Object.assign(st,ht),st.message=ht.message,st[ot]=ht.message,lt&&(st.stack=ht.stack),ct&&(st.cause=ht.cause),st})},function(s,o,et){var tt=et(8),nt=et(4).MESSAGE,rt=et(29);function it(ot,st){return typeof st=="bigint"?st.toString():st}s.exports=tt(function(ot,st){var at=rt.configure(st);return ot[nt]=at(ot,st.replacer||it,st.space),ot})},function(s,o,et){var tt=et(8);s.exports=tt(function(nt,rt){return rt.message?(nt.message="[".concat(rt.label,"] ").concat(nt.message),nt):(nt.label=rt.label,nt)})},function(s,o,et){var tt=et(8),nt=et(4).MESSAGE,rt=et(29);s.exports=tt(function(it){var ot={};return it.message&&(ot["@message"]=it.message,delete it.message),it.timestamp&&(ot["@timestamp"]=it.timestamp,delete it.timestamp),ot["@fields"]=it,it[nt]=rt(ot),it})},function(s,o,et){var tt=et(8);function nt(it,ot,st){var at,lt,ct,ut=ot.reduce(function(ht,pt){return ht[pt]=it[pt],delete it[pt],ht},{}),dt=Object.keys(it).reduce(function(ht,pt){return ht[pt]=it[pt],delete it[pt],ht},{});return Object.assign(it,ut,(ct=dt,(lt=st)in(at={})?Object.defineProperty(at,lt,{value:ct,enumerable:!0,configurable:!0,writable:!0}):at[lt]=ct,at)),it}function rt(it,ot,st){return it[st]=ot.reduce(function(at,lt){return at[lt]=it[lt],delete it[lt],at},{}),it}s.exports=tt(function(it){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},st="metadata";ot.key&&(st=ot.key);var at=[];return ot.fillExcept||ot.fillWith||(at.push("level"),at.push("message")),ot.fillExcept&&(at=ot.fillExcept),at.length>0?nt(it,at,st):ot.fillWith?rt(it,ot.fillWith,st):it})},function(s,o,et){var tt=et(8),nt=et(128);s.exports=tt(function(rt){var it=+new Date;return(void 0).diff=it-((void 0).prevTime||it),(void 0).prevTime=it,rt.ms="+".concat(nt((void 0).diff)),rt})},function(s,o){var et=1e3,tt=6e4,nt=60*tt,rt=24*nt;function it(ot,st,at,lt){var ct=st>=1.5*at;return Math.round(ot/at)+" "+lt+(ct?"s":"")}s.exports=function(ot,st){st=st||{};var at=typeof ot;if(at==="string"&&ot.length>0)return function(lt){if(!((lt=String(lt)).length>100)){var ct=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(lt);if(ct){var ut=parseFloat(ct[1]);switch((ct[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*ut;case"weeks":case"week":case"w":return 6048e5*ut;case"days":case"day":case"d":return ut*rt;case"hours":case"hour":case"hrs":case"hr":case"h":return ut*nt;case"minutes":case"minute":case"mins":case"min":case"m":return ut*tt;case"seconds":case"second":case"secs":case"sec":case"s":return ut*et;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return ut;default:return}}}}(ot);if(at==="number"&&isFinite(ot))return st.long?function(lt){var ct=Math.abs(lt);return ct>=rt?it(lt,ct,rt,"day"):ct>=nt?it(lt,ct,nt,"hour"):ct>=tt?it(lt,ct,tt,"minute"):ct>=et?it(lt,ct,et,"second"):lt+" ms"}(ot):function(lt){var ct=Math.abs(lt);return ct>=rt?Math.round(lt/rt)+"d":ct>=nt?Math.round(lt/nt)+"h":ct>=tt?Math.round(lt/tt)+"m":ct>=et?Math.round(lt/et)+"s":lt+"ms"}(ot);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ot))}},function(s,o,et){var tt=et(13).inspect,nt=et(8),rt=et(4),it=rt.LEVEL,ot=rt.MESSAGE,st=rt.SPLAT;s.exports=nt(function(at){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=Object.assign({},at);return delete ct[it],delete ct[ot],delete ct[st],at[ot]=tt(ct,!1,lt.depth||null,lt.colorize),at})},function(s,o,et){function tt(it,ot){for(var st=0;st<ot.length;st++){var at=ot[st];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(it,at.key,at)}}var nt=et(4).MESSAGE,rt=function(){function it(at){(function(lt,ct){if(!(lt instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,it),this.template=at}var ot,st;return ot=it,(st=[{key:"transform",value:function(at){return at[nt]=this.template(at),at}}])&&tt(ot.prototype,st),Object.defineProperty(ot,"prototype",{writable:!1}),it}();s.exports=function(it){return new rt(it)},s.exports.Printf=s.exports.Format=rt},function(s,o,et){var tt=et(8),nt=et(4).MESSAGE,rt=et(29);s.exports=tt(function(it){var ot=rt(Object.assign({},it,{level:void 0,message:void 0,splat:void 0})),st=it.padding&&it.padding[it.level]||"";return it[nt]=ot!=="{}"?"".concat(it.level,":").concat(st," ").concat(it.message," ").concat(ot):"".concat(it.level,":").concat(st," ").concat(it.message),it})},function(s,o,et){function tt(ct){return function(ut){if(Array.isArray(ut))return nt(ut)}(ct)||function(ut){if(typeof Symbol<"u"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}(ct)||function(ut,dt){if(ut){if(typeof ut=="string")return nt(ut,dt);var ht=Object.prototype.toString.call(ut).slice(8,-1);if(ht==="Object"&&ut.constructor&&(ht=ut.constructor.name),ht==="Map"||ht==="Set")return Array.from(ut);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return nt(ut,dt)}}(ct)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nt(ct,ut){(ut==null||ut>ct.length)&&(ut=ct.length);for(var dt=0,ht=new Array(ut);dt<ut;dt++)ht[dt]=ct[dt];return ht}function rt(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ht.key,ht)}}var it=et(13),ot=et(4).SPLAT,st=/%[scdjifoO%]/g,at=/%%/g,lt=function(){function ct(ht){(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,ct),this.options=ht}var ut,dt;return ut=ct,(dt=[{key:"_splat",value:function(ht,pt){var gt=ht.message,ft=ht[ot]||ht.splat||[],yt=gt.match(at),mt=yt&&yt.length||0,Ft=pt.length-mt-ft.length,vt=Ft<0?ft.splice(Ft,-1*Ft):[],Et=vt.length;if(Et)for(var wt=0;wt<Et;wt++)Object.assign(ht,vt[wt]);return ht.message=it.format.apply(it,[gt].concat(tt(ft))),ht}},{key:"transform",value:function(ht){var pt=ht.message,gt=ht[ot]||ht.splat;if(!gt||!gt.length)return ht;var ft=pt&&pt.match&&pt.match(st);if(!ft&&(gt||gt.length)){var yt=gt.length>1?gt.splice(0):gt,mt=yt.length;if(mt)for(var Ft=0;Ft<mt;Ft++)Object.assign(ht,yt[Ft]);return ht}return ft?this._splat(ht,ft):ht}}])&&rt(ut.prototype,dt),Object.defineProperty(ut,"prototype",{writable:!1}),ct}();s.exports=function(ct){return new lt(ct)}},function(s,o,et){var tt=et(134),nt=et(8);s.exports=nt(function(rt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return it.format&&(rt.timestamp=typeof it.format=="function"?it.format():tt.format(new Date,it.format)),rt.timestamp||(rt.timestamp=new Date().toISOString()),it.alias&&(rt[it.alias]=rt.timestamp),rt})},function(s,o,et){et.r(o),et.d(o,"assign",function(){return st}),et.d(o,"format",function(){return Rt}),et.d(o,"parse",function(){return Tt}),et.d(o,"defaultI18n",function(){return ut}),et.d(o,"setGlobalDateI18n",function(){return ht}),et.d(o,"setGlobalDateMasks",function(){return St});var tt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,nt="[^\\s]+",rt=/\[([^]*?)\]/gm;function it(xt,Bt){for(var Ct=[],Mt=0,Nt=xt.length;Mt<Nt;Mt++)Ct.push(xt[Mt].substr(0,Bt));return Ct}var ot=function(xt){return function(Bt,Ct){var Mt=Ct[xt].map(function(Nt){return Nt.toLowerCase()}).indexOf(Bt.toLowerCase());return Mt>-1?Mt:null}};function st(xt){for(var Bt=[],Ct=1;Ct<arguments.length;Ct++)Bt[Ct-1]=arguments[Ct];for(var Mt=0,Nt=Bt;Mt<Nt.length;Mt++){var At=Nt[Mt];for(var Ot in At)xt[Ot]=At[Ot]}return xt}var at=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lt=["January","February","March","April","May","June","July","August","September","October","November","December"],ct=it(lt,3),ut={dayNamesShort:it(at,3),dayNames:at,monthNamesShort:ct,monthNames:lt,amPm:["am","pm"],DoFn:function(xt){return xt+["th","st","nd","rd"][xt%10>3?0:(xt-xt%10!=10?1:0)*xt%10]}},dt=st({},ut),ht=function(xt){return dt=st(dt,xt)},pt=function(xt){return xt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},gt=function(xt,Bt){for(Bt===void 0&&(Bt=2),xt=String(xt);xt.length<Bt;)xt="0"+xt;return xt},ft={D:function(xt){return String(xt.getDate())},DD:function(xt){return gt(xt.getDate())},Do:function(xt,Bt){return Bt.DoFn(xt.getDate())},d:function(xt){return String(xt.getDay())},dd:function(xt){return gt(xt.getDay())},ddd:function(xt,Bt){return Bt.dayNamesShort[xt.getDay()]},dddd:function(xt,Bt){return Bt.dayNames[xt.getDay()]},M:function(xt){return String(xt.getMonth()+1)},MM:function(xt){return gt(xt.getMonth()+1)},MMM:function(xt,Bt){return Bt.monthNamesShort[xt.getMonth()]},MMMM:function(xt,Bt){return Bt.monthNames[xt.getMonth()]},YY:function(xt){return gt(String(xt.getFullYear()),4).substr(2)},YYYY:function(xt){return gt(xt.getFullYear(),4)},h:function(xt){return String(xt.getHours()%12||12)},hh:function(xt){return gt(xt.getHours()%12||12)},H:function(xt){return String(xt.getHours())},HH:function(xt){return gt(xt.getHours())},m:function(xt){return String(xt.getMinutes())},mm:function(xt){return gt(xt.getMinutes())},s:function(xt){return String(xt.getSeconds())},ss:function(xt){return gt(xt.getSeconds())},S:function(xt){return String(Math.round(xt.getMilliseconds()/100))},SS:function(xt){return gt(Math.round(xt.getMilliseconds()/10),2)},SSS:function(xt){return gt(xt.getMilliseconds(),3)},a:function(xt,Bt){return xt.getHours()<12?Bt.amPm[0]:Bt.amPm[1]},A:function(xt,Bt){return xt.getHours()<12?Bt.amPm[0].toUpperCase():Bt.amPm[1].toUpperCase()},ZZ:function(xt){var Bt=xt.getTimezoneOffset();return(Bt>0?"-":"+")+gt(100*Math.floor(Math.abs(Bt)/60)+Math.abs(Bt)%60,4)},Z:function(xt){var Bt=xt.getTimezoneOffset();return(Bt>0?"-":"+")+gt(Math.floor(Math.abs(Bt)/60),2)+":"+gt(Math.abs(Bt)%60,2)}},yt=function(xt){return+xt-1},mt=[null,"[1-9]\\d?"],Ft=[null,nt],vt=["isPm",nt,function(xt,Bt){var Ct=xt.toLowerCase();return Ct===Bt.amPm[0]?0:Ct===Bt.amPm[1]?1:null}],Et=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(xt){var Bt=(xt+"").match(/([+-]|\d\d)/gi);if(Bt){var Ct=60*+Bt[1]+parseInt(Bt[2],10);return Bt[0]==="+"?Ct:-Ct}return 0}],wt={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+nt,function(xt){return parseInt(xt,10)}],M:["month","[1-9]\\d?",yt],MM:["month","\\d\\d",yt],YY:["year","\\d\\d",function(xt){var Bt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+xt>68?Bt-1:Bt)+xt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(xt){return 100*+xt}],SS:["millisecond","\\d\\d",function(xt){return 10*+xt}],SSS:["millisecond","\\d{3}"],d:mt,dd:mt,ddd:Ft,dddd:Ft,MMM:["month",nt,ot("monthNamesShort")],MMMM:["month",nt,ot("monthNames")],a:vt,A:vt,ZZ:Et,Z:Et},It={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},St=function(xt){return st(It,xt)},Rt=function(xt,Bt,Ct){if(Bt===void 0&&(Bt=It.default),Ct===void 0&&(Ct={}),typeof xt=="number"&&(xt=new Date(xt)),Object.prototype.toString.call(xt)!=="[object Date]"||isNaN(xt.getTime()))throw new Error("Invalid Date pass to format");var Mt=[];Bt=(Bt=It[Bt]||Bt).replace(rt,function(At,Ot){return Mt.push(Ot),"@@@"});var Nt=st(st({},dt),Ct);return(Bt=Bt.replace(tt,function(At){return ft[At](xt,Nt)})).replace(/@@@/g,function(){return Mt.shift()})};function Tt(xt,Bt,Ct){if(Ct===void 0&&(Ct={}),typeof Bt!="string")throw new Error("Invalid format in fecha parse");if(Bt=It[Bt]||Bt,xt.length>1e3)return null;var Mt={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Nt=[],At=[],Ot=Bt.replace(rt,function(en,cn){return At.push(pt(cn)),"@@@"}),Vt={},Wt={};Ot=pt(Ot).replace(tt,function(en){var cn=wt[en],Zt=cn[0],dn=cn[1],Fn=cn[3];if(Vt[Zt])throw new Error("Invalid format. "+Zt+" specified twice in format");return Vt[Zt]=!0,Fn&&(Wt[Fn]=!0),Nt.push(cn),"("+dn+")"}),Object.keys(Wt).forEach(function(en){if(!Vt[en])throw new Error("Invalid format. "+en+" is required in specified format")}),Ot=Ot.replace(/@@@/g,function(){return At.shift()});var Jt=xt.match(new RegExp(Ot,"i"));if(!Jt)return null;for(var qt=st(st({},dt),Ct),Ht=1;Ht<Jt.length;Ht++){var Xt=Nt[Ht-1],Lt=Xt[0],Pt=Xt[2],kt=Pt?Pt(Jt[Ht],qt):+Jt[Ht];if(kt==null)return null;Mt[Lt]=kt}Mt.isPm===1&&Mt.hour!=null&&+Mt.hour!=12?Mt.hour=+Mt.hour+12:Mt.isPm===0&&+Mt.hour==12&&(Mt.hour=0);for(var zt=new Date(Mt.year,Mt.month,Mt.day,Mt.hour,Mt.minute,Mt.second,Mt.millisecond),tn=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Gt=(Ht=0,tn.length);Ht<Gt;Ht++)if(Vt[tn[Ht][0]]&&Mt[tn[Ht][0]]!==zt[tn[Ht][1]]())return null;return Mt.timezoneOffset==null?zt:new Date(Date.UTC(Mt.year,Mt.month,Mt.day,Mt.hour,Mt.minute-Mt.timezoneOffset,Mt.second,Mt.millisecond))}var bt={format:Rt,parse:Tt,defaultI18n:ut,setGlobalDateI18n:ht,setGlobalDateMasks:St};o.default=bt},function(s,o,et){var tt=et(58),nt=et(8),rt=et(4).MESSAGE;s.exports=nt(function(it,ot){return ot.level!==!1&&(it.level=tt.strip(it.level)),ot.message!==!1&&(it.message=tt.strip(String(it.message))),ot.raw!==!1&&it[rt]&&(it[rt]=tt.strip(String(it[rt]))),it})},function(s){s.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.8.2","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["David Hyde <dabh@alumni.stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"@dabh/diagnostics":"^2.0.2","@colors/colors":"1.5.0","async":"^3.2.3","is-stream":"^2.0.0","logform":"^2.4.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.5.0"},"devDependencies":{"@babel/cli":"^7.17.0","@babel/core":"^7.17.2","@babel/preset-env":"^7.16.7","@dabh/eslint-config-populist":"^5.0.0","@types/node":"^18.0.0","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","cross-spawn-async":"^2.2.5","eslint":"^8.9.0","hock":"^1.4.1","mocha":"8.1.3","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^4.1.0","std-mocks":"^1.0.1","through2":"^4.0.2","winston-compat":"^0.1.5"},"main":"./lib/winston.js","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist","test":"mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration","build":"rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 12.0.0"},"license":"MIT"}')},function(s,o,et){Object.defineProperty(o,"Console",{configurable:!0,enumerable:!0,get:function(){return et(138)}}),Object.defineProperty(o,"File",{configurable:!0,enumerable:!0,get:function(){return et(152)}}),Object.defineProperty(o,"Http",{configurable:!0,enumerable:!0,get:function(){return et(194)}}),Object.defineProperty(o,"Stream",{configurable:!0,enumerable:!0,get:function(){return et(206)}})},function(s,o,et){(function(tt){function nt(gt){return(nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft})(gt)}function rt(gt,ft){if(!(gt instanceof ft))throw new TypeError("Cannot call a class as a function")}function it(gt,ft){for(var yt=0;yt<ft.length;yt++){var mt=ft[yt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(gt,mt.key,mt)}}function ot(gt,ft){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(yt,mt){return yt.__proto__=mt,yt})(gt,ft)}function st(gt){var ft=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var yt,mt=lt(gt);if(ft){var Ft=lt(this).constructor;yt=Reflect.construct(mt,arguments,Ft)}else yt=mt.apply(this,arguments);return at(this,yt)}}function at(gt,ft){if(ft&&(nt(ft)==="object"||typeof ft=="function"))return ft;if(ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(gt)}function lt(gt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(gt)}var ct=et(16),ut=et(4),dt=ut.LEVEL,ht=ut.MESSAGE,pt=et(14);s.exports=function(gt){(function(vt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),Object.defineProperty(vt,"prototype",{writable:!1}),Et&&ot(vt,Et)})(Ft,gt);var ft,yt,mt=st(Ft);function Ft(){var vt,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return rt(this,Ft),(vt=mt.call(this,Et)).name=Et.name||"console",vt.stderrLevels=vt._stringArrayToSet(Et.stderrLevels),vt.consoleWarnLevels=vt._stringArrayToSet(Et.consoleWarnLevels),vt.eol=typeof Et.eol=="string"?Et.eol:ct.EOL,vt.setMaxListeners(30),vt}return ft=Ft,(yt=[{key:"log",value:function(vt,Et){var wt=this;return tt(function(){return wt.emit("logged",vt)}),this.stderrLevels[vt[dt]]?(console._stderr?console._stderr.write("".concat(vt[ht]).concat(this.eol)):console.error(vt[ht]),void(Et&&Et())):this.consoleWarnLevels[vt[dt]]?(console._stderr?console._stderr.write("".concat(vt[ht]).concat(this.eol)):console.warn(vt[ht]),void(Et&&Et())):(console._stdout?console._stdout.write("".concat(vt[ht]).concat(this.eol)):console.log(vt[ht]),void(Et&&Et()))}},{key:"_stringArrayToSet",value:function(vt,Et){if(!vt)return{};if(Et=Et||"Cannot make set from type other than Array of string elements",!Array.isArray(vt))throw new Error(Et);return vt.reduce(function(wt,It){if(typeof It!="string")throw new Error(Et);return wt[It]=!0,wt},{})}}])&&it(ft.prototype,yt),Object.defineProperty(ft,"prototype",{writable:!1}),Ft}(pt)}).call(this,et(19).setImmediate)},function(s,o,et){(function(tt,nt){(function(rt,it){if(!rt.setImmediate){var ot,st,at,lt,ct,ut=1,dt={},ht=!1,pt=rt.document,gt=Object.getPrototypeOf&&Object.getPrototypeOf(rt);gt=gt&&gt.setTimeout?gt:rt,{}.toString.call(rt.process)==="[object process]"?ot=function(mt){nt.nextTick(function(){yt(mt)})}:function(){if(rt.postMessage&&!rt.importScripts){var mt=!0,Ft=rt.onmessage;return rt.onmessage=function(){mt=!1},rt.postMessage("","*"),rt.onmessage=Ft,mt}}()?(lt="setImmediate$"+Math.random()+"$",ct=function(mt){mt.source===rt&&typeof mt.data=="string"&&mt.data.indexOf(lt)===0&&yt(+mt.data.slice(lt.length))},rt.addEventListener?rt.addEventListener("message",ct,!1):rt.attachEvent("onmessage",ct),ot=function(mt){rt.postMessage(lt+mt,"*")}):rt.MessageChannel?((at=new MessageChannel).port1.onmessage=function(mt){yt(mt.data)},ot=function(mt){at.port2.postMessage(mt)}):pt&&"onreadystatechange"in pt.createElement("script")?(st=pt.documentElement,ot=function(mt){var Ft=pt.createElement("script");Ft.onreadystatechange=function(){yt(mt),Ft.onreadystatechange=null,st.removeChild(Ft),Ft=null},st.appendChild(Ft)}):ot=function(mt){setTimeout(yt,0,mt)},gt.setImmediate=function(mt){typeof mt!="function"&&(mt=new Function(""+mt));for(var Ft=new Array(arguments.length-1),vt=0;vt<Ft.length;vt++)Ft[vt]=arguments[vt+1];var Et={callback:mt,args:Ft};return dt[ut]=Et,ot(ut),ut++},gt.clearImmediate=ft}function ft(mt){delete dt[mt]}function yt(mt){if(ht)setTimeout(yt,0,mt);else{var Ft=dt[mt];if(Ft){ht=!0;try{(function(vt){var Et=vt.callback,wt=vt.args;switch(wt.length){case 0:Et();break;case 1:Et(wt[0]);break;case 2:Et(wt[0],wt[1]);break;case 3:Et(wt[0],wt[1],wt[2]);break;default:Et.apply(void 0,wt)}})(Ft)}finally{ft(mt),ht=!1}}}}})(typeof self>"u"?tt===void 0?this:tt:self)}).call(this,et(6),et(2))},function(s,o,et){o.byteLength=function(ct){var ut=at(ct),dt=ut[0],ht=ut[1];return 3*(dt+ht)/4-ht},o.toByteArray=function(ct){var ut,dt,ht=at(ct),pt=ht[0],gt=ht[1],ft=new rt(function(Ft,vt,Et){return 3*(vt+Et)/4-Et}(0,pt,gt)),yt=0,mt=gt>0?pt-4:pt;for(dt=0;dt<mt;dt+=4)ut=nt[ct.charCodeAt(dt)]<<18|nt[ct.charCodeAt(dt+1)]<<12|nt[ct.charCodeAt(dt+2)]<<6|nt[ct.charCodeAt(dt+3)],ft[yt++]=ut>>16&255,ft[yt++]=ut>>8&255,ft[yt++]=255&ut;return gt===2&&(ut=nt[ct.charCodeAt(dt)]<<2|nt[ct.charCodeAt(dt+1)]>>4,ft[yt++]=255&ut),gt===1&&(ut=nt[ct.charCodeAt(dt)]<<10|nt[ct.charCodeAt(dt+1)]<<4|nt[ct.charCodeAt(dt+2)]>>2,ft[yt++]=ut>>8&255,ft[yt++]=255&ut),ft},o.fromByteArray=function(ct){for(var ut,dt=ct.length,ht=dt%3,pt=[],gt=0,ft=dt-ht;gt<ft;gt+=16383)pt.push(lt(ct,gt,gt+16383>ft?ft:gt+16383));return ht===1?(ut=ct[dt-1],pt.push(tt[ut>>2]+tt[ut<<4&63]+"==")):ht===2&&(ut=(ct[dt-2]<<8)+ct[dt-1],pt.push(tt[ut>>10]+tt[ut>>4&63]+tt[ut<<2&63]+"=")),pt.join("")};for(var tt=[],nt=[],rt=typeof Uint8Array<"u"?Uint8Array:Array,it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ot=0,st=it.length;ot<st;++ot)tt[ot]=it[ot],nt[it.charCodeAt(ot)]=ot;function at(ct){var ut=ct.length;if(ut%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var dt=ct.indexOf("=");return dt===-1&&(dt=ut),[dt,dt===ut?0:4-dt%4]}function lt(ct,ut,dt){for(var ht,pt,gt=[],ft=ut;ft<dt;ft+=3)ht=(ct[ft]<<16&16711680)+(ct[ft+1]<<8&65280)+(255&ct[ft+2]),gt.push(tt[(pt=ht)>>18&63]+tt[pt>>12&63]+tt[pt>>6&63]+tt[63&pt]);return gt.join("")}nt["-".charCodeAt(0)]=62,nt["_".charCodeAt(0)]=63},function(s,o){o.read=function(et,tt,nt,rt,it){var ot,st,at=8*it-rt-1,lt=(1<<at)-1,ct=lt>>1,ut=-7,dt=nt?it-1:0,ht=nt?-1:1,pt=et[tt+dt];for(dt+=ht,ot=pt&(1<<-ut)-1,pt>>=-ut,ut+=at;ut>0;ot=256*ot+et[tt+dt],dt+=ht,ut-=8);for(st=ot&(1<<-ut)-1,ot>>=-ut,ut+=rt;ut>0;st=256*st+et[tt+dt],dt+=ht,ut-=8);if(ot===0)ot=1-ct;else{if(ot===lt)return st?NaN:1/0*(pt?-1:1);st+=Math.pow(2,rt),ot-=ct}return(pt?-1:1)*st*Math.pow(2,ot-rt)},o.write=function(et,tt,nt,rt,it,ot){var st,at,lt,ct=8*ot-it-1,ut=(1<<ct)-1,dt=ut>>1,ht=it===23?Math.pow(2,-24)-Math.pow(2,-77):0,pt=rt?0:ot-1,gt=rt?1:-1,ft=tt<0||tt===0&&1/tt<0?1:0;for(tt=Math.abs(tt),isNaN(tt)||tt===1/0?(at=isNaN(tt)?1:0,st=ut):(st=Math.floor(Math.log(tt)/Math.LN2),tt*(lt=Math.pow(2,-st))<1&&(st--,lt*=2),(tt+=st+dt>=1?ht/lt:ht*Math.pow(2,1-dt))*lt>=2&&(st++,lt/=2),st+dt>=ut?(at=0,st=ut):st+dt>=1?(at=(tt*lt-1)*Math.pow(2,it),st+=dt):(at=tt*Math.pow(2,dt-1)*Math.pow(2,it),st=0));it>=8;et[nt+pt]=255&at,pt+=gt,at/=256,it-=8);for(st=st<<it|at,ct+=it;ct>0;et[nt+pt]=255&st,pt+=gt,st/=256,ct-=8);et[nt+pt-gt]|=128*ft}},function(s,o){var et={}.toString;s.exports=Array.isArray||function(tt){return et.call(tt)=="[object Array]"}},function(s,o,et){(function(tt,nt){var rt;s.exports=Rt,Rt.ReadableState=St,et(20).EventEmitter;var it=function(Lt,Pt){return Lt.listeners(Pt).length},ot=et(62),st=et(5).Buffer,at=(tt!==void 0?tt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},lt,ct=et(144);lt=ct&&ct.debuglog?ct.debuglog("stream"):function(){};var ut,dt,ht,pt=et(145),gt=et(63),ft=et(64).getHighWaterMark,yt=et(35).codes,mt=yt.ERR_INVALID_ARG_TYPE,Ft=yt.ERR_STREAM_PUSH_AFTER_EOF,vt=yt.ERR_METHOD_NOT_IMPLEMENTED,Et=yt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;et(7)(Rt,ot);var wt=gt.errorOrDestroy,It=["error","close","destroy","pause","resume"];function St(Lt,Pt,kt){rt=rt||et(36),Lt=Lt||{},typeof kt!="boolean"&&(kt=Pt instanceof rt),this.objectMode=!!Lt.objectMode,kt&&(this.objectMode=this.objectMode||!!Lt.readableObjectMode),this.highWaterMark=ft(this,Lt,"readableHighWaterMark",kt),this.buffer=new pt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Lt.emitClose!==!1,this.autoDestroy=!!Lt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Lt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Lt.encoding&&(ut||(ut=et(21).StringDecoder),this.decoder=new ut(Lt.encoding),this.encoding=Lt.encoding)}function Rt(Lt){if(rt=rt||et(36),!(this instanceof Rt))return new Rt(Lt);var Pt=this instanceof rt;this._readableState=new St(Lt,this,Pt),this.readable=!0,Lt&&(typeof Lt.read=="function"&&(this._read=Lt.read),typeof Lt.destroy=="function"&&(this._destroy=Lt.destroy)),ot.call(this)}function Tt(Lt,Pt,kt,zt,tn){lt("readableAddChunk",Pt);var Gt,en=Lt._readableState;if(Pt===null)en.reading=!1,function(cn,Zt){if(lt("onEofChunk"),!Zt.ended){if(Zt.decoder){var dn=Zt.decoder.end();dn&&dn.length&&(Zt.buffer.push(dn),Zt.length+=Zt.objectMode?1:dn.length)}Zt.ended=!0,Zt.sync?Bt(cn):(Zt.needReadable=!1,Zt.emittedReadable||(Zt.emittedReadable=!0,Ct(cn)))}}(Lt,en);else if(tn||(Gt=function(cn,Zt){var dn;Fn=Zt,st.isBuffer(Fn)||Fn instanceof at||typeof Zt=="string"||Zt===void 0||cn.objectMode||(dn=new mt("chunk",["string","Buffer","Uint8Array"],Zt));var Fn;return dn}(en,Pt)),Gt)wt(Lt,Gt);else if(en.objectMode||Pt&&Pt.length>0)if(typeof Pt=="string"||en.objectMode||Object.getPrototypeOf(Pt)===st.prototype||(Pt=function(cn){return st.from(cn)}(Pt)),zt)en.endEmitted?wt(Lt,new Et):bt(Lt,en,Pt,!0);else if(en.ended)wt(Lt,new Ft);else{if(en.destroyed)return!1;en.reading=!1,en.decoder&&!kt?(Pt=en.decoder.write(Pt),en.objectMode||Pt.length!==0?bt(Lt,en,Pt,!1):Mt(Lt,en)):bt(Lt,en,Pt,!1)}else zt||(en.reading=!1,Mt(Lt,en));return!en.ended&&(en.length<en.highWaterMark||en.length===0)}function bt(Lt,Pt,kt,zt){Pt.flowing&&Pt.length===0&&!Pt.sync?(Pt.awaitDrain=0,Lt.emit("data",kt)):(Pt.length+=Pt.objectMode?1:kt.length,zt?Pt.buffer.unshift(kt):Pt.buffer.push(kt),Pt.needReadable&&Bt(Lt)),Mt(Lt,Pt)}Object.defineProperty(Rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Lt){this._readableState&&(this._readableState.destroyed=Lt)}}),Rt.prototype.destroy=gt.destroy,Rt.prototype._undestroy=gt.undestroy,Rt.prototype._destroy=function(Lt,Pt){Pt(Lt)},Rt.prototype.push=function(Lt,Pt){var kt,zt=this._readableState;return zt.objectMode?kt=!0:typeof Lt=="string"&&((Pt=Pt||zt.defaultEncoding)!==zt.encoding&&(Lt=st.from(Lt,Pt),Pt=""),kt=!0),Tt(this,Lt,Pt,!1,kt)},Rt.prototype.unshift=function(Lt){return Tt(this,Lt,null,!0,!1)},Rt.prototype.isPaused=function(){return this._readableState.flowing===!1},Rt.prototype.setEncoding=function(Lt){ut||(ut=et(21).StringDecoder);var Pt=new ut(Lt);this._readableState.decoder=Pt,this._readableState.encoding=this._readableState.decoder.encoding;for(var kt=this._readableState.buffer.head,zt="";kt!==null;)zt+=Pt.write(kt.data),kt=kt.next;return this._readableState.buffer.clear(),zt!==""&&this._readableState.buffer.push(zt),this._readableState.length=zt.length,this};function xt(Lt,Pt){return Lt<=0||Pt.length===0&&Pt.ended?0:Pt.objectMode?1:Lt!=Lt?Pt.flowing&&Pt.length?Pt.buffer.head.data.length:Pt.length:(Lt>Pt.highWaterMark&&(Pt.highWaterMark=function(kt){return kt>=1073741824?kt=1073741824:(kt--,kt|=kt>>>1,kt|=kt>>>2,kt|=kt>>>4,kt|=kt>>>8,kt|=kt>>>16,kt++),kt}(Lt)),Lt<=Pt.length?Lt:Pt.ended?Pt.length:(Pt.needReadable=!0,0))}function Bt(Lt){var Pt=Lt._readableState;lt("emitReadable",Pt.needReadable,Pt.emittedReadable),Pt.needReadable=!1,Pt.emittedReadable||(lt("emitReadable",Pt.flowing),Pt.emittedReadable=!0,nt.nextTick(Ct,Lt))}function Ct(Lt){var Pt=Lt._readableState;lt("emitReadable_",Pt.destroyed,Pt.length,Pt.ended),Pt.destroyed||!Pt.length&&!Pt.ended||(Lt.emit("readable"),Pt.emittedReadable=!1),Pt.needReadable=!Pt.flowing&&!Pt.ended&&Pt.length<=Pt.highWaterMark,Wt(Lt)}function Mt(Lt,Pt){Pt.readingMore||(Pt.readingMore=!0,nt.nextTick(Nt,Lt,Pt))}function Nt(Lt,Pt){for(;!Pt.reading&&!Pt.ended&&(Pt.length<Pt.highWaterMark||Pt.flowing&&Pt.length===0);){var kt=Pt.length;if(lt("maybeReadMore read 0"),Lt.read(0),kt===Pt.length)break}Pt.readingMore=!1}function At(Lt){var Pt=Lt._readableState;Pt.readableListening=Lt.listenerCount("readable")>0,Pt.resumeScheduled&&!Pt.paused?Pt.flowing=!0:Lt.listenerCount("data")>0&&Lt.resume()}function Ot(Lt){lt("readable nexttick read 0"),Lt.read(0)}function Vt(Lt,Pt){lt("resume",Pt.reading),Pt.reading||Lt.read(0),Pt.resumeScheduled=!1,Lt.emit("resume"),Wt(Lt),Pt.flowing&&!Pt.reading&&Lt.read(0)}function Wt(Lt){var Pt=Lt._readableState;for(lt("flow",Pt.flowing);Pt.flowing&&Lt.read()!==null;);}function Jt(Lt,Pt){return Pt.length===0?null:(Pt.objectMode?kt=Pt.buffer.shift():!Lt||Lt>=Pt.length?(kt=Pt.decoder?Pt.buffer.join(""):Pt.buffer.length===1?Pt.buffer.first():Pt.buffer.concat(Pt.length),Pt.buffer.clear()):kt=Pt.buffer.consume(Lt,Pt.decoder),kt);var kt}function qt(Lt){var Pt=Lt._readableState;lt("endReadable",Pt.endEmitted),Pt.endEmitted||(Pt.ended=!0,nt.nextTick(Ht,Pt,Lt))}function Ht(Lt,Pt){if(lt("endReadableNT",Lt.endEmitted,Lt.length),!Lt.endEmitted&&Lt.length===0&&(Lt.endEmitted=!0,Pt.readable=!1,Pt.emit("end"),Lt.autoDestroy)){var kt=Pt._writableState;(!kt||kt.autoDestroy&&kt.finished)&&Pt.destroy()}}function Xt(Lt,Pt){for(var kt=0,zt=Lt.length;kt<zt;kt++)if(Lt[kt]===Pt)return kt;return-1}Rt.prototype.read=function(Lt){lt("read",Lt),Lt=parseInt(Lt,10);var Pt=this._readableState,kt=Lt;if(Lt!==0&&(Pt.emittedReadable=!1),Lt===0&&Pt.needReadable&&((Pt.highWaterMark!==0?Pt.length>=Pt.highWaterMark:Pt.length>0)||Pt.ended))return lt("read: emitReadable",Pt.length,Pt.ended),Pt.length===0&&Pt.ended?qt(this):Bt(this),null;if((Lt=xt(Lt,Pt))===0&&Pt.ended)return Pt.length===0&&qt(this),null;var zt,tn=Pt.needReadable;return lt("need readable",tn),(Pt.length===0||Pt.length-Lt<Pt.highWaterMark)&&lt("length less than watermark",tn=!0),Pt.ended||Pt.reading?lt("reading or ended",tn=!1):tn&&(lt("do read"),Pt.reading=!0,Pt.sync=!0,Pt.length===0&&(Pt.needReadable=!0),this._read(Pt.highWaterMark),Pt.sync=!1,Pt.reading||(Lt=xt(kt,Pt))),(zt=Lt>0?Jt(Lt,Pt):null)===null?(Pt.needReadable=Pt.length<=Pt.highWaterMark,Lt=0):(Pt.length-=Lt,Pt.awaitDrain=0),Pt.length===0&&(Pt.ended||(Pt.needReadable=!0),kt!==Lt&&Pt.ended&&qt(this)),zt!==null&&this.emit("data",zt),zt},Rt.prototype._read=function(Lt){wt(this,new vt("_read()"))},Rt.prototype.pipe=function(Lt,Pt){var kt=this,zt=this._readableState;switch(zt.pipesCount){case 0:zt.pipes=Lt;break;case 1:zt.pipes=[zt.pipes,Lt];break;default:zt.pipes.push(Lt)}zt.pipesCount+=1,lt("pipe count=%d opts=%j",zt.pipesCount,Pt);var tn=(!Pt||Pt.end!==!1)&&Lt!==nt.stdout&&Lt!==nt.stderr?en:bn;function Gt(an,rn){lt("onunpipe"),an===kt&&rn&&rn.hasUnpiped===!1&&(rn.hasUnpiped=!0,lt("cleanup"),Lt.removeListener("close",pn),Lt.removeListener("finish",un),Lt.removeListener("drain",cn),Lt.removeListener("error",Fn),Lt.removeListener("unpipe",Gt),kt.removeListener("end",en),kt.removeListener("end",bn),kt.removeListener("data",dn),Zt=!0,!zt.awaitDrain||Lt._writableState&&!Lt._writableState.needDrain||cn())}function en(){lt("onend"),Lt.end()}zt.endEmitted?nt.nextTick(tn):kt.once("end",tn),Lt.on("unpipe",Gt);var cn=function(an){return function(){var rn=an._readableState;lt("pipeOnDrain",rn.awaitDrain),rn.awaitDrain&&rn.awaitDrain--,rn.awaitDrain===0&&it(an,"data")&&(rn.flowing=!0,Wt(an))}}(kt);Lt.on("drain",cn);var Zt=!1;function dn(an){lt("ondata");var rn=Lt.write(an);lt("dest.write",rn),rn===!1&&((zt.pipesCount===1&&zt.pipes===Lt||zt.pipesCount>1&&Xt(zt.pipes,Lt)!==-1)&&!Zt&&(lt("false write response, pause",zt.awaitDrain),zt.awaitDrain++),kt.pause())}function Fn(an){lt("onerror",an),bn(),Lt.removeListener("error",Fn),it(Lt,"error")===0&&wt(Lt,an)}function pn(){Lt.removeListener("finish",un),bn()}function un(){lt("onfinish"),Lt.removeListener("close",pn),bn()}function bn(){lt("unpipe"),kt.unpipe(Lt)}return kt.on("data",dn),function(an,rn,mn){if(typeof an.prependListener=="function")return an.prependListener(rn,mn);an._events&&an._events[rn]?Array.isArray(an._events[rn])?an._events[rn].unshift(mn):an._events[rn]=[mn,an._events[rn]]:an.on(rn,mn)}(Lt,"error",Fn),Lt.once("close",pn),Lt.once("finish",un),Lt.emit("pipe",kt),zt.flowing||(lt("pipe resume"),kt.resume()),Lt},Rt.prototype.unpipe=function(Lt){var Pt=this._readableState,kt={hasUnpiped:!1};if(Pt.pipesCount===0)return this;if(Pt.pipesCount===1)return Lt&&Lt!==Pt.pipes||(Lt||(Lt=Pt.pipes),Pt.pipes=null,Pt.pipesCount=0,Pt.flowing=!1,Lt&&Lt.emit("unpipe",this,kt)),this;if(!Lt){var zt=Pt.pipes,tn=Pt.pipesCount;Pt.pipes=null,Pt.pipesCount=0,Pt.flowing=!1;for(var Gt=0;Gt<tn;Gt++)zt[Gt].emit("unpipe",this,{hasUnpiped:!1});return this}var en=Xt(Pt.pipes,Lt);return en===-1||(Pt.pipes.splice(en,1),Pt.pipesCount-=1,Pt.pipesCount===1&&(Pt.pipes=Pt.pipes[0]),Lt.emit("unpipe",this,kt)),this},Rt.prototype.on=function(Lt,Pt){var kt=ot.prototype.on.call(this,Lt,Pt),zt=this._readableState;return Lt==="data"?(zt.readableListening=this.listenerCount("readable")>0,zt.flowing!==!1&&this.resume()):Lt==="readable"&&(zt.endEmitted||zt.readableListening||(zt.readableListening=zt.needReadable=!0,zt.flowing=!1,zt.emittedReadable=!1,lt("on readable",zt.length,zt.reading),zt.length?Bt(this):zt.reading||nt.nextTick(Ot,this))),kt},Rt.prototype.addListener=Rt.prototype.on,Rt.prototype.removeListener=function(Lt,Pt){var kt=ot.prototype.removeListener.call(this,Lt,Pt);return Lt==="readable"&&nt.nextTick(At,this),kt},Rt.prototype.removeAllListeners=function(Lt){var Pt=ot.prototype.removeAllListeners.apply(this,arguments);return Lt!=="readable"&&Lt!==void 0||nt.nextTick(At,this),Pt},Rt.prototype.resume=function(){var Lt=this._readableState;return Lt.flowing||(lt("resume"),Lt.flowing=!Lt.readableListening,function(Pt,kt){kt.resumeScheduled||(kt.resumeScheduled=!0,nt.nextTick(Vt,Pt,kt))}(this,Lt)),Lt.paused=!1,this},Rt.prototype.pause=function(){return lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Rt.prototype.wrap=function(Lt){var Pt=this,kt=this._readableState,zt=!1;for(var tn in Lt.on("end",function(){if(lt("wrapped end"),kt.decoder&&!kt.ended){var en=kt.decoder.end();en&&en.length&&Pt.push(en)}Pt.push(null)}),Lt.on("data",function(en){lt("wrapped data"),kt.decoder&&(en=kt.decoder.write(en)),kt.objectMode&&en==null||(kt.objectMode||en&&en.length)&&(Pt.push(en)||(zt=!0,Lt.pause()))}),Lt)this[tn]===void 0&&typeof Lt[tn]=="function"&&(this[tn]=function(en){return function(){return Lt[en].apply(Lt,arguments)}}(tn));for(var Gt=0;Gt<It.length;Gt++)Lt.on(It[Gt],this.emit.bind(this,It[Gt]));return this._read=function(en){lt("wrapped _read",en),zt&&(zt=!1,Lt.resume())},this},typeof Symbol=="function"&&(Rt.prototype[Symbol.asyncIterator]=function(){return dt===void 0&&(dt=et(148)),dt(this)}),Object.defineProperty(Rt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Rt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Rt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Lt){this._readableState&&(this._readableState.flowing=Lt)}}),Rt._fromList=Jt,Object.defineProperty(Rt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Rt.from=function(Lt,Pt){return ht===void 0&&(ht=et(150)),ht(Rt,Lt,Pt)})}).call(this,et(6),et(2))},function(s,o){},function(s,o,et){function tt(ct,ut){var dt=Object.keys(ct);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(ct);ut&&(ht=ht.filter(function(pt){return Object.getOwnPropertyDescriptor(ct,pt).enumerable})),dt.push.apply(dt,ht)}return dt}function nt(ct){for(var ut=1;ut<arguments.length;ut++){var dt=arguments[ut]!=null?arguments[ut]:{};ut%2?tt(Object(dt),!0).forEach(function(ht){rt(ct,ht,dt[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(dt)):tt(Object(dt)).forEach(function(ht){Object.defineProperty(ct,ht,Object.getOwnPropertyDescriptor(dt,ht))})}return ct}function rt(ct,ut,dt){return(ut=ot(ut))in ct?Object.defineProperty(ct,ut,{value:dt,enumerable:!0,configurable:!0,writable:!0}):ct[ut]=dt,ct}function it(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ot(ht.key),ht)}}function ot(ct){var ut=function(dt,ht){if(typeof dt!="object"||dt===null)return dt;var pt=dt[Symbol.toPrimitive];if(pt!==void 0){var gt=pt.call(dt,ht||"default");if(typeof gt!="object")return gt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(dt)}(ct,"string");return typeof ut=="symbol"?ut:String(ut)}var st=et(5).Buffer,at=et(146).inspect,lt=at&&at.custom||"inspect";s.exports=function(){function ct(){(function(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,ct),this.head=null,this.tail=null,this.length=0}var ut,dt;return ut=ct,(dt=[{key:"push",value:function(ht){var pt={data:ht,next:null};this.length>0?this.tail.next=pt:this.head=pt,this.tail=pt,++this.length}},{key:"unshift",value:function(ht){var pt={data:ht,next:this.head};this.length===0&&(this.tail=pt),this.head=pt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ht=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ht}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ht){if(this.length===0)return"";for(var pt=this.head,gt=""+pt.data;pt=pt.next;)gt+=ht+pt.data;return gt}},{key:"concat",value:function(ht){if(this.length===0)return st.alloc(0);for(var pt,gt,ft,yt=st.allocUnsafe(ht>>>0),mt=this.head,Ft=0;mt;)pt=mt.data,gt=yt,ft=Ft,st.prototype.copy.call(pt,gt,ft),Ft+=mt.data.length,mt=mt.next;return yt}},{key:"consume",value:function(ht,pt){var gt;return ht<this.head.data.length?(gt=this.head.data.slice(0,ht),this.head.data=this.head.data.slice(ht)):gt=ht===this.head.data.length?this.shift():pt?this._getString(ht):this._getBuffer(ht),gt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ht){var pt=this.head,gt=1,ft=pt.data;for(ht-=ft.length;pt=pt.next;){var yt=pt.data,mt=ht>yt.length?yt.length:ht;if(mt===yt.length?ft+=yt:ft+=yt.slice(0,ht),(ht-=mt)==0){mt===yt.length?(++gt,pt.next?this.head=pt.next:this.head=this.tail=null):(this.head=pt,pt.data=yt.slice(mt));break}++gt}return this.length-=gt,ft}},{key:"_getBuffer",value:function(ht){var pt=st.allocUnsafe(ht),gt=this.head,ft=1;for(gt.data.copy(pt),ht-=gt.data.length;gt=gt.next;){var yt=gt.data,mt=ht>yt.length?yt.length:ht;if(yt.copy(pt,pt.length-ht,0,mt),(ht-=mt)==0){mt===yt.length?(++ft,gt.next?this.head=gt.next:this.head=this.tail=null):(this.head=gt,gt.data=yt.slice(mt));break}++ft}return this.length-=ft,pt}},{key:lt,value:function(ht,pt){return at(this,nt(nt({},pt),{},{depth:0,customInspect:!1}))}}])&&it(ut.prototype,dt),Object.defineProperty(ut,"prototype",{writable:!1}),ct}()},function(s,o){},function(s,o,et){var tt=et(5),nt=tt.Buffer;function rt(ot,st){for(var at in ot)st[at]=ot[at]}function it(ot,st,at){return nt(ot,st,at)}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?s.exports=tt:(rt(tt,o),o.Buffer=it),rt(nt,it),it.from=function(ot,st,at){if(typeof ot=="number")throw new TypeError("Argument must not be a number");return nt(ot,st,at)},it.alloc=function(ot,st,at){if(typeof ot!="number")throw new TypeError("Argument must be a number");var lt=nt(ot);return st!==void 0?typeof at=="string"?lt.fill(st,at):lt.fill(st):lt.fill(0),lt},it.allocUnsafe=function(ot){if(typeof ot!="number")throw new TypeError("Argument must be a number");return nt(ot)},it.allocUnsafeSlow=function(ot){if(typeof ot!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(ot)}},function(s,o,et){(function(tt){var nt;function rt(mt,Ft,vt){return(Ft=function(Et){var wt=function(It,St){if(typeof It!="object"||It===null)return It;var Rt=It[Symbol.toPrimitive];if(Rt!==void 0){var Tt=Rt.call(It,St||"default");if(typeof Tt!="object")return Tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(It)}(Et,"string");return typeof wt=="symbol"?wt:String(wt)}(Ft))in mt?Object.defineProperty(mt,Ft,{value:vt,enumerable:!0,configurable:!0,writable:!0}):mt[Ft]=vt,mt}var it=et(149),ot=Symbol("lastResolve"),st=Symbol("lastReject"),at=Symbol("error"),lt=Symbol("ended"),ct=Symbol("lastPromise"),ut=Symbol("handlePromise"),dt=Symbol("stream");function ht(mt,Ft){return{value:mt,done:Ft}}function pt(mt){var Ft=mt[ot];if(Ft!==null){var vt=mt[dt].read();vt!==null&&(mt[ct]=null,mt[ot]=null,mt[st]=null,Ft(ht(vt,!1)))}}function gt(mt){tt.nextTick(pt,mt)}var ft=Object.getPrototypeOf(function(){}),yt=Object.setPrototypeOf((rt(nt={get stream(){return this[dt]},next:function(){var mt=this,Ft=this[at];if(Ft!==null)return Promise.reject(Ft);if(this[lt])return Promise.resolve(ht(void 0,!0));if(this[dt].destroyed)return new Promise(function(It,St){tt.nextTick(function(){mt[at]?St(mt[at]):It(ht(void 0,!0))})});var vt,Et=this[ct];if(Et)vt=new Promise(function(It,St){return function(Rt,Tt){It.then(function(){St[lt]?Rt(ht(void 0,!0)):St[ut](Rt,Tt)},Tt)}}(Et,this));else{var wt=this[dt].read();if(wt!==null)return Promise.resolve(ht(wt,!1));vt=new Promise(this[ut])}return this[ct]=vt,vt}},Symbol.asyncIterator,function(){return this}),rt(nt,"return",function(){var mt=this;return new Promise(function(Ft,vt){mt[dt].destroy(null,function(Et){Et?vt(Et):Ft(ht(void 0,!0))})})}),nt),ft);s.exports=function(mt){var Ft,vt=Object.create(yt,(rt(Ft={},dt,{value:mt,writable:!0}),rt(Ft,ot,{value:null,writable:!0}),rt(Ft,st,{value:null,writable:!0}),rt(Ft,at,{value:null,writable:!0}),rt(Ft,lt,{value:mt._readableState.endEmitted,writable:!0}),rt(Ft,ut,{value:function(Et,wt){var It=vt[dt].read();It?(vt[ct]=null,vt[ot]=null,vt[st]=null,Et(ht(It,!1))):(vt[ot]=Et,vt[st]=wt)},writable:!0}),Ft));return vt[ct]=null,it(mt,function(Et){if(Et&&Et.code!=="ERR_STREAM_PREMATURE_CLOSE"){var wt=vt[st];return wt!==null&&(vt[ct]=null,vt[ot]=null,vt[st]=null,wt(Et)),void(vt[at]=Et)}var It=vt[ot];It!==null&&(vt[ct]=null,vt[ot]=null,vt[st]=null,It(ht(void 0,!0))),vt[lt]=!0}),mt.on("readable",gt.bind(null,vt)),vt}}).call(this,et(2))},function(s,o,et){var tt=et(35).codes.ERR_STREAM_PREMATURE_CLOSE;function nt(){}s.exports=function rt(it,ot,st){if(typeof ot=="function")return rt(it,null,ot);ot||(ot={}),st=function(mt){var Ft=!1;return function(){if(!Ft){Ft=!0;for(var vt=arguments.length,Et=new Array(vt),wt=0;wt<vt;wt++)Et[wt]=arguments[wt];mt.apply(this,Et)}}}(st||nt);var at=ot.readable||ot.readable!==!1&&it.readable,lt=ot.writable||ot.writable!==!1&&it.writable,ct=function(){it.writable||dt()},ut=it._writableState&&it._writableState.finished,dt=function(){lt=!1,ut=!0,at||st.call(it)},ht=it._readableState&&it._readableState.endEmitted,pt=function(){at=!1,ht=!0,lt||st.call(it)},gt=function(mt){st.call(it,mt)},ft=function(){var mt;return at&&!ht?(it._readableState&&it._readableState.ended||(mt=new tt),st.call(it,mt)):lt&&!ut?(it._writableState&&it._writableState.ended||(mt=new tt),st.call(it,mt)):void 0},yt=function(){it.req.on("finish",dt)};return function(mt){return mt.setHeader&&typeof mt.abort=="function"}(it)?(it.on("complete",dt),it.on("abort",ft),it.req?yt():it.on("request",yt)):lt&&!it._writableState&&(it.on("end",ct),it.on("close",ct)),it.on("end",pt),it.on("finish",dt),ot.error!==!1&&it.on("error",gt),it.on("close",ft),function(){it.removeListener("complete",dt),it.removeListener("abort",ft),it.removeListener("request",yt),it.req&&it.req.removeListener("finish",dt),it.removeListener("end",ct),it.removeListener("close",ct),it.removeListener("finish",dt),it.removeListener("end",pt),it.removeListener("error",gt),it.removeListener("close",ft)}}},function(s,o){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(s,o,et){var tt=et(13),nt=et(4).LEVEL,rt=et(14),it=s.exports=function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rt.call(this,ot),!ot.transport||typeof ot.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function st(at){this.emit("error",at,this.transport)}this.transport=ot.transport,this.level=this.level||ot.transport.level,this.handleExceptions=this.handleExceptions||ot.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=st.bind(this),this.transport.on("error",this.transport.__winstonError))};tt.inherits(it,rt),it.prototype._write=function(ot,st,at){if(this.silent||ot.exception===!0&&!this.handleExceptions)return at(null);(!this.level||this.levels[this.level]>=this.levels[ot[nt]])&&this.transport.log(ot[nt],ot.message,ot,this._nop),at(null)},it.prototype._writev=function(ot,st){for(var at=0;at<ot.length;at++)this._accept(ot[at])&&(this.transport.log(ot[at].chunk[nt],ot[at].chunk.message,ot[at].chunk,this._nop),ot[at].callback());return st(null)},it.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},it.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(s,o,et){(function(tt,nt){function rt(St){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt})(St)}function it(St,Rt){if(!(St instanceof Rt))throw new TypeError("Cannot call a class as a function")}function ot(St,Rt){for(var Tt=0;Tt<Rt.length;Tt++){var bt=Rt[Tt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(St,bt.key,bt)}}function st(St,Rt){return(st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Tt,bt){return Tt.__proto__=bt,Tt})(St,Rt)}function at(St){var Rt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Tt,bt=ut(St);if(Rt){var xt=ut(this).constructor;Tt=Reflect.construct(bt,arguments,xt)}else Tt=bt.apply(this,arguments);return lt(this,Tt)}}function lt(St,Rt){if(Rt&&(rt(Rt)==="object"||typeof Rt=="function"))return Rt;if(Rt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(St)}function ct(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St}function ut(St){return(ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Rt){return Rt.__proto__||Object.getPrototypeOf(Rt)})(St)}var dt=et(65),ht=et(55),pt=et(153),gt=et(163),ft=et(4).MESSAGE,yt=et(33),mt=yt.Stream,Ft=yt.PassThrough,vt=et(14),Et=et(39)("winston:file"),wt=et(16),It=et(193);s.exports=function(St){(function(Bt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Object.defineProperty(Bt,"prototype",{writable:!1}),Ct&&st(Bt,Ct)})(xt,St);var Rt,Tt,bt=at(xt);function xt(){var Bt,Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Mt(Nt){for(var At=arguments.length,Ot=new Array(At>1?At-1:0),Vt=1;Vt<At;Vt++)Ot[Vt-1]=arguments[Vt];Ot.slice(1).forEach(function(Wt){if(Ct[Wt])throw new Error("Cannot set ".concat(Wt," and ").concat(Nt," together"))})}if(it(this,xt),(Bt=bt.call(this,Ct)).name=Ct.name||"file",Bt._stream=new Ft,Bt._stream.setMaxListeners(30),Bt._onError=Bt._onError.bind(ct(Bt)),Ct.filename||Ct.dirname)Mt("filename or dirname","stream"),Bt._basename=Bt.filename=Ct.filename?ht.basename(Ct.filename):"winston.log",Bt.dirname=Ct.dirname||ht.dirname(Ct.filename),Bt.options=Ct.options||{flags:"a"};else{if(!Ct.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Mt("stream","filename","maxsize"),Bt._dest=Bt._stream.pipe(Bt._setupStream(Ct.stream)),Bt.dirname=ht.dirname(Bt._dest.path)}return Bt.maxsize=Ct.maxsize||null,Bt.rotationFormat=Ct.rotationFormat||!1,Bt.zippedArchive=Ct.zippedArchive||!1,Bt.maxFiles=Ct.maxFiles||null,Bt.eol=typeof Ct.eol=="string"?Ct.eol:wt.EOL,Bt.tailable=Ct.tailable||!1,Bt._size=0,Bt._pendingSize=0,Bt._created=0,Bt._drain=!1,Bt._opening=!1,Bt._ending=!1,Bt.dirname&&Bt._createLogDirIfNotExist(Bt.dirname),Bt.open(),Bt}return Rt=xt,(Tt=[{key:"finishIfEnding",value:function(){var Bt=this;this._ending&&(this._opening?this.once("open",function(){Bt._stream.once("finish",function(){return Bt.emit("finish")}),tt(function(){return Bt._stream.end()})}):(this._stream.once("finish",function(){return Bt.emit("finish")}),tt(function(){return Bt._stream.end()})))}},{key:"log",value:function(Bt){var Ct=this,Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return Mt(),!0;if(this._drain)this._stream.once("drain",function(){Ct._drain=!1,Ct.log(Bt,Mt)});else{if(!this._rotate){var Nt="".concat(Bt[ft]).concat(this.eol),At=nt.byteLength(Nt);this._pendingSize+=At,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var Ot=this._stream.write(Nt,Vt.bind(this));return Ot?Mt():(this._drain=!0,this._stream.once("drain",function(){Ct._drain=!1,Mt()})),Et("written",Ot,this._drain),this.finishIfEnding(),Ot}this._stream.once("rotate",function(){Ct._rotate=!1,Ct.log(Bt,Mt)})}function Vt(){var Wt=this;this._size+=At,this._pendingSize-=At,Et("logged %s %s",this._size,Nt),this.emit("logged",Bt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return Wt._rotateFile()}))}}},{key:"query",value:function(Bt,Ct){typeof Bt=="function"&&(Ct=Bt,Bt={}),Bt=function(Jt){return(Jt=Jt||{}).rows=Jt.rows||Jt.limit||10,Jt.start=Jt.start||0,Jt.until=Jt.until||new Date,rt(Jt.until)!=="object"&&(Jt.until=new Date(Jt.until)),Jt.from=Jt.from||Jt.until-864e5,rt(Jt.from)!=="object"&&(Jt.from=new Date(Jt.from)),Jt.order=Jt.order||"desc",Jt}(Bt);var Mt=ht.join(this.dirname,this.filename),Nt="",At=[],Ot=0,Vt=dt.createReadStream(Mt,{encoding:"utf8"});function Wt(Jt,qt){try{var Ht=JSON.parse(Jt);(function(Xt){if(Xt&&rt(Xt)==="object"){var Lt=new Date(Xt.timestamp);if(!(Bt.from&&Lt<Bt.from||Bt.until&&Lt>Bt.until||Bt.level&&Bt.level!==Xt.level))return!0}})(Ht)&&function(Xt){Bt.rows&&At.length>=Bt.rows&&Bt.order!=="desc"?Vt.readable&&Vt.destroy():(Bt.fields&&(Xt=Bt.fields.reduce(function(Lt,Pt){return Lt[Pt]=Xt[Pt],Lt},{})),Bt.order==="desc"&&At.length>=Bt.rows&&At.shift(),At.push(Xt))}(Ht)}catch(Xt){qt||Vt.emit("error",Xt)}}Vt.on("error",function(Jt){if(Vt.readable&&Vt.destroy(),Ct)return Jt.code!=="ENOENT"?Ct(Jt):Ct(null,At)}),Vt.on("data",function(Jt){for(var qt=(Jt=(Nt+Jt).split(/\n+/)).length-1,Ht=0;Ht<qt;Ht++)(!Bt.start||Ot>=Bt.start)&&Wt(Jt[Ht]),Ot++;Nt=Jt[qt]}),Vt.on("close",function(){Nt&&Wt(Nt,!0),Bt.order==="desc"&&(At=At.reverse()),Ct&&Ct(null,At)})}},{key:"stream",value:function(){var Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ct=ht.join(this.dirname,this.filename),Mt=new mt,Nt={file:Ct,start:Bt.start};return Mt.destroy=It(Nt,function(At,Ot){if(At)return Mt.emit("error",At);try{Mt.emit("data",Ot),Ot=JSON.parse(Ot),Mt.emit("log",Ot)}catch(Vt){Mt.emit("error",Vt)}}),Mt}},{key:"open",value:function(){var Bt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Ct,Mt){if(Ct)return Bt.emit("error",Ct);Et("stat done: %s { size: %s }",Bt.filename,Mt),Bt._size=Mt,Bt._dest=Bt._createStream(Bt._stream),Bt._opening=!1,Bt.once("open",function(){Bt._stream.eventNames().includes("rotate")?Bt._stream.emit("rotate"):Bt._rotate=!1})})))}},{key:"stat",value:function(Bt){var Ct=this,Mt=this._getFile(),Nt=ht.join(this.dirname,Mt);dt.stat(Nt,function(At,Ot){return At&&At.code==="ENOENT"?(Et("ENOENT ok",Nt),Ct.filename=Mt,Bt(null,0)):At?(Et("err ".concat(At.code," ").concat(Nt)),Bt(At)):!Ot||Ct._needsNewFile(Ot.size)?Ct._incFile(function(){return Ct.stat(Bt)}):(Ct.filename=Mt,void Bt(null,Ot.size))})}},{key:"close",value:function(Bt){var Ct=this;this._stream&&this._stream.end(function(){Bt&&Bt(),Ct.emit("flush"),Ct.emit("closed")})}},{key:"_needsNewFile",value:function(Bt){return Bt=Bt||this._size,this.maxsize&&Bt>=this.maxsize}},{key:"_onError",value:function(Bt){this.emit("error",Bt)}},{key:"_setupStream",value:function(Bt){return Bt.on("error",this._onError),Bt}},{key:"_cleanupStream",value:function(Bt){return Bt.removeListener("error",this._onError),Bt}},{key:"_rotateFile",value:function(){var Bt=this;this._incFile(function(){return Bt.open()})}},{key:"_endStream",value:function(){var Bt=this,Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){Bt._cleanupStream(Bt._dest),Ct()})):Ct()}},{key:"_createStream",value:function(Bt){var Ct=this,Mt=ht.join(this.dirname,this.filename);Et("create stream start",Mt,this.options);var Nt=dt.createWriteStream(Mt,this.options).on("error",function(Ot){return Et(Ot)}).on("close",function(){return Et("close",Nt.path,Nt.bytesWritten)}).on("open",function(){Et("file open ok",Mt),Ct.emit("open",Mt),Bt.pipe(Nt),Ct.rotatedWhileOpening&&(Ct._stream=new Ft,Ct._stream.setMaxListeners(30),Ct._rotateFile(),Ct.rotatedWhileOpening=!1,Ct._cleanupStream(Nt),Bt.end())});if(Et("create stream ok",Mt),this.zippedArchive){var At=gt.createGzip();return At.pipe(Nt),At}return Nt}},{key:"_incFile",value:function(Bt){Et("_incFile",this.filename);var Ct=ht.extname(this._basename),Mt=ht.basename(this._basename,Ct);this.tailable?this._checkMaxFilesTailable(Ct,Mt,Bt):(this._created+=1,this._checkMaxFilesIncrementing(Ct,Mt,Bt))}},{key:"_getFile",value:function(){var Bt=ht.extname(this._basename),Ct=ht.basename(this._basename,Bt),Mt=this.rotationFormat?this.rotationFormat():this._created,Nt=!this.tailable&&this._created?"".concat(Ct).concat(Mt).concat(Bt):"".concat(Ct).concat(Bt);return this.zippedArchive&&!this.tailable?"".concat(Nt,".gz"):Nt}},{key:"_checkMaxFilesIncrementing",value:function(Bt,Ct,Mt){if(!this.maxFiles||this._created<this.maxFiles)return tt(Mt);var Nt=this._created-this.maxFiles,At=Nt!==0?Nt:"",Ot=this.zippedArchive?".gz":"",Vt="".concat(Ct).concat(At).concat(Bt).concat(Ot),Wt=ht.join(this.dirname,Vt);dt.unlink(Wt,Mt)}},{key:"_checkMaxFilesTailable",value:function(Bt,Ct,Mt){var Nt=this,At=[];if(this.maxFiles){for(var Ot=this.zippedArchive?".gz":"",Vt=this.maxFiles-1;Vt>1;Vt--)At.push(function(Wt,Jt){var qt=this,Ht="".concat(Ct).concat(Wt-1).concat(Bt).concat(Ot),Xt=ht.join(this.dirname,Ht);dt.exists(Xt,function(Lt){if(!Lt)return Jt(null);Ht="".concat(Ct).concat(Wt).concat(Bt).concat(Ot),dt.rename(Xt,ht.join(qt.dirname,Ht),Jt)})}.bind(this,Vt));pt(At,function(){dt.rename(ht.join(Nt.dirname,"".concat(Ct).concat(Bt)),ht.join(Nt.dirname,"".concat(Ct,"1").concat(Bt).concat(Ot)),Mt)})}}},{key:"_createLogDirIfNotExist",value:function(Bt){dt.existsSync(Bt)||dt.mkdirSync(Bt,{recursive:!0})}}])&&ot(Rt.prototype,Tt),Object.defineProperty(Rt,"prototype",{writable:!1}),xt}(vt)}).call(this,et(19).setImmediate,et(5).Buffer)},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(it,ot){return(0,tt.default)(nt.default,it,ot)};var tt=rt(et(154)),nt=rt(et(158));function rt(it){return it&&it.__esModule?it:{default:it}}s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0});var tt=it(et(44)),nt=it(et(23)),rt=it(et(30));function it(ot){return ot&&ot.__esModule?ot:{default:ot}}o.default=(0,rt.default)((ot,st,at)=>{var lt=(0,tt.default)(st)?[]:{};ot(st,(ct,ut,dt)=>{(0,nt.default)(ct)((ht,...pt)=>{pt.length<2&&([pt]=pt),lt[ut]=pt,dt(ht)})},ct=>at(ct,lt))},3),s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(at){return(0,rt.isAsync)(at)?function(...lt){const ct=lt.pop();return ot(at.apply(this,lt),ct)}:(0,tt.default)(function(lt,ct){var ut;try{ut=at.apply(this,lt)}catch(dt){return ct(dt)}if(ut&&typeof ut.then=="function")return ot(ut,ct);ct(null,ut)})};var tt=it(et(156)),nt=it(et(157)),rt=et(23);function it(at){return at&&at.__esModule?at:{default:at}}function ot(at,lt){return at.then(ct=>{st(lt,null,ct)},ct=>{st(lt,ct&&ct.message?ct:new Error(ct))})}function st(at,lt,ct){try{at(lt,ct)}catch(ut){(0,nt.default)(dt=>{throw dt},ut)}}s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){return function(...nt){var rt=nt.pop();return tt.call(this,nt,rt)}},s.exports=o.default},function(s,o,et){(function(tt,nt){Object.defineProperty(o,"__esModule",{value:!0}),o.fallback=at,o.wrap=lt;var rt,it=o.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,ot=o.hasSetImmediate=typeof tt=="function"&&tt,st=o.hasNextTick=typeof nt=="object"&&typeof nt.nextTick=="function";function at(ct){setTimeout(ct,0)}function lt(ct){return(ut,...dt)=>ct(()=>ut(...dt))}rt=it?queueMicrotask:ot?tt:st?nt.nextTick:at,o.default=lt(rt)}).call(this,et(19).setImmediate,et(2))},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0});var tt=rt(et(66)),nt=rt(et(30));function rt(it){return it&&it.__esModule?it:{default:it}}o.default=(0,nt.default)(function(it,ot,st){return(0,tt.default)(it,1,ot,st)},3),s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0});var tt=at(et(67)),nt=at(et(160)),rt=at(et(68)),it=et(23),ot=at(et(162)),st=at(et(45));function at(lt){return lt&&lt.__esModule?lt:{default:lt}}o.default=lt=>(ct,ut,dt)=>{if(dt=(0,tt.default)(dt),lt<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!ct)return dt(null);if((0,it.isAsyncGenerator)(ct))return(0,ot.default)(ct,lt,ut,dt);if((0,it.isAsyncIterable)(ct))return(0,ot.default)(ct[Symbol.asyncIterator](),lt,ut,dt);var ht=(0,nt.default)(ct),pt=!1,gt=!1,ft=0,yt=!1;function mt(vt,Et){if(!gt)if(ft-=1,vt)pt=!0,dt(vt);else if(vt===!1)pt=!0,gt=!0;else{if(Et===st.default||pt&&ft<=0)return pt=!0,dt(null);yt||Ft()}}function Ft(){for(yt=!0;ft<lt&&!pt;){var vt=ht();if(vt===null)return pt=!0,void(ft<=0&&dt(null));ft+=1,ut(vt.value,vt.key,(0,rt.default)(mt))}yt=!1}Ft()},s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(it){if((0,tt.default)(it))return function(ut){var dt=-1,ht=ut.length;return function(){return++dt<ht?{value:ut[dt],key:dt}:null}}(it);var ot=(0,nt.default)(it);return ot?function(ut){var dt=-1;return function(){var ht=ut.next();return ht.done?null:(dt++,{value:ht.value,key:dt})}}(ot):(st=it,at=st?Object.keys(st):[],lt=-1,ct=at.length,function ut(){var dt=at[++lt];return dt==="__proto__"?ut():lt<ct?{value:st[dt],key:dt}:null});var st,at,lt,ct};var tt=rt(et(44)),nt=rt(et(161));function rt(it){return it&&it.__esModule?it:{default:it}}s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){return tt[Symbol.iterator]&&tt[Symbol.iterator]()},s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(it,ot,st,at){let lt=!1,ct=!1,ut=!1,dt=0,ht=0;function pt(){dt>=ot||ut||lt||(ut=!0,it.next().then(({value:yt,done:mt})=>{if(!ct&&!lt){if(ut=!1,mt)return lt=!0,void(dt<=0&&at(null));dt++,st(yt,ht,gt),ht++,pt()}}).catch(ft))}function gt(yt,mt){if(dt-=1,!ct)return yt?ft(yt):yt===!1?(lt=!0,void(ct=!0)):mt===rt.default||lt&&dt<=0?(lt=!0,at(null)):void pt()}function ft(yt){ct||(ut=!1,lt=!0,at(yt))}pt()};var tt,nt=et(45),rt=(tt=nt)&&tt.__esModule?tt:{default:tt};s.exports=o.default},function(s,o,et){(function(tt){var nt=et(5).Buffer,rt=et(164).Transform,it=et(174),ot=et(13),st=et(73).ok,at=et(5).kMaxLength,lt="Cannot create final Buffer. It would be larger than 0x"+at.toString(16)+" bytes";it.Z_MIN_WINDOWBITS=8,it.Z_MAX_WINDOWBITS=15,it.Z_DEFAULT_WINDOWBITS=15,it.Z_MIN_CHUNK=64,it.Z_MAX_CHUNK=1/0,it.Z_DEFAULT_CHUNK=16384,it.Z_MIN_MEMLEVEL=1,it.Z_MAX_MEMLEVEL=9,it.Z_DEFAULT_MEMLEVEL=8,it.Z_MIN_LEVEL=-1,it.Z_MAX_LEVEL=9,it.Z_DEFAULT_LEVEL=it.Z_DEFAULT_COMPRESSION;for(var ct=Object.keys(it),ut=0;ut<ct.length;ut++){var dt=ct[ut];dt.match(/^Z/)&&Object.defineProperty(o,dt,{enumerable:!0,value:it[dt],writable:!1})}for(var ht={Z_OK:it.Z_OK,Z_STREAM_END:it.Z_STREAM_END,Z_NEED_DICT:it.Z_NEED_DICT,Z_ERRNO:it.Z_ERRNO,Z_STREAM_ERROR:it.Z_STREAM_ERROR,Z_DATA_ERROR:it.Z_DATA_ERROR,Z_MEM_ERROR:it.Z_MEM_ERROR,Z_BUF_ERROR:it.Z_BUF_ERROR,Z_VERSION_ERROR:it.Z_VERSION_ERROR},pt=Object.keys(ht),gt=0;gt<pt.length;gt++){var ft=pt[gt];ht[ht[ft]]=ft}function yt(Ct,Mt,Nt){var At=[],Ot=0;function Vt(){for(var Jt;(Jt=Ct.read())!==null;)At.push(Jt),Ot+=Jt.length;Ct.once("readable",Vt)}function Wt(){var Jt,qt=null;Ot>=at?qt=new RangeError(lt):Jt=nt.concat(At,Ot),At=[],Ct.close(),Nt(qt,Jt)}Ct.on("error",function(Jt){Ct.removeListener("end",Wt),Ct.removeListener("readable",Vt),Nt(Jt)}),Ct.on("end",Wt),Ct.end(Mt),Vt()}function mt(Ct,Mt){if(typeof Mt=="string"&&(Mt=nt.from(Mt)),!nt.isBuffer(Mt))throw new TypeError("Not a string or buffer");var Nt=Ct._finishFlushFlag;return Ct._processChunk(Mt,Nt)}function Ft(Ct){if(!(this instanceof Ft))return new Ft(Ct);bt.call(this,Ct,it.DEFLATE)}function vt(Ct){if(!(this instanceof vt))return new vt(Ct);bt.call(this,Ct,it.INFLATE)}function Et(Ct){if(!(this instanceof Et))return new Et(Ct);bt.call(this,Ct,it.GZIP)}function wt(Ct){if(!(this instanceof wt))return new wt(Ct);bt.call(this,Ct,it.GUNZIP)}function It(Ct){if(!(this instanceof It))return new It(Ct);bt.call(this,Ct,it.DEFLATERAW)}function St(Ct){if(!(this instanceof St))return new St(Ct);bt.call(this,Ct,it.INFLATERAW)}function Rt(Ct){if(!(this instanceof Rt))return new Rt(Ct);bt.call(this,Ct,it.UNZIP)}function Tt(Ct){return Ct===it.Z_NO_FLUSH||Ct===it.Z_PARTIAL_FLUSH||Ct===it.Z_SYNC_FLUSH||Ct===it.Z_FULL_FLUSH||Ct===it.Z_FINISH||Ct===it.Z_BLOCK}function bt(Ct,Mt){var Nt=this;if(this._opts=Ct=Ct||{},this._chunkSize=Ct.chunkSize||o.Z_DEFAULT_CHUNK,rt.call(this,Ct),Ct.flush&&!Tt(Ct.flush))throw new Error("Invalid flush flag: "+Ct.flush);if(Ct.finishFlush&&!Tt(Ct.finishFlush))throw new Error("Invalid flush flag: "+Ct.finishFlush);if(this._flushFlag=Ct.flush||it.Z_NO_FLUSH,this._finishFlushFlag=Ct.finishFlush!==void 0?Ct.finishFlush:it.Z_FINISH,Ct.chunkSize&&(Ct.chunkSize<o.Z_MIN_CHUNK||Ct.chunkSize>o.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Ct.chunkSize);if(Ct.windowBits&&(Ct.windowBits<o.Z_MIN_WINDOWBITS||Ct.windowBits>o.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Ct.windowBits);if(Ct.level&&(Ct.level<o.Z_MIN_LEVEL||Ct.level>o.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Ct.level);if(Ct.memLevel&&(Ct.memLevel<o.Z_MIN_MEMLEVEL||Ct.memLevel>o.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Ct.memLevel);if(Ct.strategy&&Ct.strategy!=o.Z_FILTERED&&Ct.strategy!=o.Z_HUFFMAN_ONLY&&Ct.strategy!=o.Z_RLE&&Ct.strategy!=o.Z_FIXED&&Ct.strategy!=o.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Ct.strategy);if(Ct.dictionary&&!nt.isBuffer(Ct.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new it.Zlib(Mt);var At=this;this._hadError=!1,this._handle.onerror=function(Wt,Jt){xt(At),At._hadError=!0;var qt=new Error(Wt);qt.errno=Jt,qt.code=o.codes[Jt],At.emit("error",qt)};var Ot=o.Z_DEFAULT_COMPRESSION;typeof Ct.level=="number"&&(Ot=Ct.level);var Vt=o.Z_DEFAULT_STRATEGY;typeof Ct.strategy=="number"&&(Vt=Ct.strategy),this._handle.init(Ct.windowBits||o.Z_DEFAULT_WINDOWBITS,Ot,Ct.memLevel||o.Z_DEFAULT_MEMLEVEL,Vt,Ct.dictionary),this._buffer=nt.allocUnsafe(this._chunkSize),this._offset=0,this._level=Ot,this._strategy=Vt,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Nt._handle},configurable:!0,enumerable:!0})}function xt(Ct,Mt){Mt&&tt.nextTick(Mt),Ct._handle&&(Ct._handle.close(),Ct._handle=null)}function Bt(Ct){Ct.emit("close")}Object.defineProperty(o,"codes",{enumerable:!0,value:Object.freeze(ht),writable:!1}),o.Deflate=Ft,o.Inflate=vt,o.Gzip=Et,o.Gunzip=wt,o.DeflateRaw=It,o.InflateRaw=St,o.Unzip=Rt,o.createDeflate=function(Ct){return new Ft(Ct)},o.createInflate=function(Ct){return new vt(Ct)},o.createDeflateRaw=function(Ct){return new It(Ct)},o.createInflateRaw=function(Ct){return new St(Ct)},o.createGzip=function(Ct){return new Et(Ct)},o.createGunzip=function(Ct){return new wt(Ct)},o.createUnzip=function(Ct){return new Rt(Ct)},o.deflate=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new Ft(Mt),Ct,Nt)},o.deflateSync=function(Ct,Mt){return mt(new Ft(Mt),Ct)},o.gzip=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new Et(Mt),Ct,Nt)},o.gzipSync=function(Ct,Mt){return mt(new Et(Mt),Ct)},o.deflateRaw=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new It(Mt),Ct,Nt)},o.deflateRawSync=function(Ct,Mt){return mt(new It(Mt),Ct)},o.unzip=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new Rt(Mt),Ct,Nt)},o.unzipSync=function(Ct,Mt){return mt(new Rt(Mt),Ct)},o.inflate=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new vt(Mt),Ct,Nt)},o.inflateSync=function(Ct,Mt){return mt(new vt(Mt),Ct)},o.gunzip=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new wt(Mt),Ct,Nt)},o.gunzipSync=function(Ct,Mt){return mt(new wt(Mt),Ct)},o.inflateRaw=function(Ct,Mt,Nt){return typeof Mt=="function"&&(Nt=Mt,Mt={}),yt(new St(Mt),Ct,Nt)},o.inflateRawSync=function(Ct,Mt){return mt(new St(Mt),Ct)},ot.inherits(bt,rt),bt.prototype.params=function(Ct,Mt,Nt){if(Ct<o.Z_MIN_LEVEL||Ct>o.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Ct);if(Mt!=o.Z_FILTERED&&Mt!=o.Z_HUFFMAN_ONLY&&Mt!=o.Z_RLE&&Mt!=o.Z_FIXED&&Mt!=o.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Mt);if(this._level!==Ct||this._strategy!==Mt){var At=this;this.flush(it.Z_SYNC_FLUSH,function(){st(At._handle,"zlib binding closed"),At._handle.params(Ct,Mt),At._hadError||(At._level=Ct,At._strategy=Mt,Nt&&Nt())})}else tt.nextTick(Nt)},bt.prototype.reset=function(){return st(this._handle,"zlib binding closed"),this._handle.reset()},bt.prototype._flush=function(Ct){this._transform(nt.alloc(0),"",Ct)},bt.prototype.flush=function(Ct,Mt){var Nt=this,At=this._writableState;(typeof Ct=="function"||Ct===void 0&&!Mt)&&(Mt=Ct,Ct=it.Z_FULL_FLUSH),At.ended?Mt&&tt.nextTick(Mt):At.ending?Mt&&this.once("end",Mt):At.needDrain?Mt&&this.once("drain",function(){return Nt.flush(Ct,Mt)}):(this._flushFlag=Ct,this.write(nt.alloc(0),"",Mt))},bt.prototype.close=function(Ct){xt(this,Ct),tt.nextTick(Bt,this)},bt.prototype._transform=function(Ct,Mt,Nt){var At,Ot=this._writableState,Vt=(Ot.ending||Ot.ended)&&(!Ct||Ot.length===Ct.length);return Ct===null||nt.isBuffer(Ct)?this._handle?(Vt?At=this._finishFlushFlag:(At=this._flushFlag,Ct.length>=Ot.length&&(this._flushFlag=this._opts.flush||it.Z_NO_FLUSH)),void this._processChunk(Ct,At,Nt)):Nt(new Error("zlib binding closed")):Nt(new Error("invalid input"))},bt.prototype._processChunk=function(Ct,Mt,Nt){var At=Ct&&Ct.length,Ot=this._chunkSize-this._offset,Vt=0,Wt=this,Jt=typeof Nt=="function";if(!Jt){var qt,Ht=[],Xt=0;this.on("error",function(tn){qt=tn}),st(this._handle,"zlib binding closed");do var Lt=this._handle.writeSync(Mt,Ct,Vt,At,this._buffer,this._offset,Ot);while(!this._hadError&&zt(Lt[0],Lt[1]));if(this._hadError)throw qt;if(Xt>=at)throw xt(this),new RangeError(lt);var Pt=nt.concat(Ht,Xt);return xt(this),Pt}st(this._handle,"zlib binding closed");var kt=this._handle.write(Mt,Ct,Vt,At,this._buffer,this._offset,Ot);function zt(tn,Gt){if(this&&(this.buffer=null,this.callback=null),!Wt._hadError){var en=Ot-Gt;if(st(en>=0,"have should not go down"),en>0){var cn=Wt._buffer.slice(Wt._offset,Wt._offset+en);Wt._offset+=en,Jt?Wt.push(cn):(Ht.push(cn),Xt+=cn.length)}if((Gt===0||Wt._offset>=Wt._chunkSize)&&(Ot=Wt._chunkSize,Wt._offset=0,Wt._buffer=nt.allocUnsafe(Wt._chunkSize)),Gt===0){if(Vt+=At-tn,At=tn,!Jt)return!0;var Zt=Wt._handle.write(Mt,Ct,Vt,At,Wt._buffer,Wt._offset,Wt._chunkSize);return Zt.callback=zt,void(Zt.buffer=Ct)}if(!Jt)return!1;Nt()}}kt.buffer=Ct,kt.callback=zt},ot.inherits(Ft,bt),ot.inherits(vt,bt),ot.inherits(Et,bt),ot.inherits(wt,bt),ot.inherits(It,bt),ot.inherits(St,bt),ot.inherits(Rt,bt)}).call(this,et(2))},function(s,o,et){s.exports=nt;var tt=et(20).EventEmitter;function nt(){tt.call(this)}et(7)(nt,tt),nt.Readable=et(31),nt.Writable=et(170),nt.Duplex=et(171),nt.Transform=et(172),nt.PassThrough=et(173),nt.Stream=nt,nt.prototype.pipe=function(rt,it){var ot=this;function st(pt){rt.writable&&rt.write(pt)===!1&&ot.pause&&ot.pause()}function at(){ot.readable&&ot.resume&&ot.resume()}ot.on("data",st),rt.on("drain",at),rt._isStdio||it&&it.end===!1||(ot.on("end",ct),ot.on("close",ut));var lt=!1;function ct(){lt||(lt=!0,rt.end())}function ut(){lt||(lt=!0,typeof rt.destroy=="function"&&rt.destroy())}function dt(pt){if(ht(),tt.listenerCount(this,"error")===0)throw pt}function ht(){ot.removeListener("data",st),rt.removeListener("drain",at),ot.removeListener("end",ct),ot.removeListener("close",ut),ot.removeListener("error",dt),rt.removeListener("error",dt),ot.removeListener("end",ht),ot.removeListener("close",ht),rt.removeListener("close",ht)}return ot.on("error",dt),rt.on("error",dt),ot.on("end",ht),ot.on("close",ht),rt.on("close",ht),rt.emit("pipe",ot),rt}},function(s,o){var et={}.toString;s.exports=Array.isArray||function(tt){return et.call(tt)=="[object Array]"}},function(s,o){},function(s,o,et){var tt=et(46).Buffer,nt=et(168);s.exports=function(){function rt(){(function(it,ot){if(!(it instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,rt),this.head=null,this.tail=null,this.length=0}return rt.prototype.push=function(it){var ot={data:it,next:null};this.length>0?this.tail.next=ot:this.head=ot,this.tail=ot,++this.length},rt.prototype.unshift=function(it){var ot={data:it,next:this.head};this.length===0&&(this.tail=ot),this.head=ot,++this.length},rt.prototype.shift=function(){if(this.length!==0){var it=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,it}},rt.prototype.clear=function(){this.head=this.tail=null,this.length=0},rt.prototype.join=function(it){if(this.length===0)return"";for(var ot=this.head,st=""+ot.data;ot=ot.next;)st+=it+ot.data;return st},rt.prototype.concat=function(it){if(this.length===0)return tt.alloc(0);if(this.length===1)return this.head.data;for(var ot,st,at,lt=tt.allocUnsafe(it>>>0),ct=this.head,ut=0;ct;)ot=ct.data,st=lt,at=ut,ot.copy(st,at),ut+=ct.data.length,ct=ct.next;return lt},rt}(),nt&&nt.inspect&&nt.inspect.custom&&(s.exports.prototype[nt.inspect.custom]=function(){var rt=nt.inspect({length:this.length});return this.constructor.name+" "+rt})},function(s,o){},function(s,o,et){s.exports=rt;var tt=et(72),nt=Object.create(et(32));function rt(it){if(!(this instanceof rt))return new rt(it);tt.call(this,it)}nt.inherits=et(7),nt.inherits(rt,tt),rt.prototype._transform=function(it,ot,st){st(null,it)}},function(s,o,et){s.exports=et(47)},function(s,o,et){s.exports=et(22)},function(s,o,et){s.exports=et(31).Transform},function(s,o,et){s.exports=et(31).PassThrough},function(s,o,et){(function(tt,nt){var rt=et(73),it=et(176),ot=et(177),st=et(180),at=et(183);for(var lt in at)o[lt]=at[lt];o.NONE=0,o.DEFLATE=1,o.INFLATE=2,o.GZIP=3,o.GUNZIP=4,o.DEFLATERAW=5,o.INFLATERAW=6,o.UNZIP=7;function ct(ut){if(typeof ut!="number"||ut<o.DEFLATE||ut>o.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ut,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}ct.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,rt(this.init_done,"close before init"),rt(this.mode<=o.UNZIP),this.mode===o.DEFLATE||this.mode===o.GZIP||this.mode===o.DEFLATERAW?ot.deflateEnd(this.strm):this.mode!==o.INFLATE&&this.mode!==o.GUNZIP&&this.mode!==o.INFLATERAW&&this.mode!==o.UNZIP||st.inflateEnd(this.strm),this.mode=o.NONE,this.dictionary=null)},ct.prototype.write=function(ut,dt,ht,pt,gt,ft,yt){return this._write(!0,ut,dt,ht,pt,gt,ft,yt)},ct.prototype.writeSync=function(ut,dt,ht,pt,gt,ft,yt){return this._write(!1,ut,dt,ht,pt,gt,ft,yt)},ct.prototype._write=function(ut,dt,ht,pt,gt,ft,yt,mt){if(rt.equal(arguments.length,8),rt(this.init_done,"write before init"),rt(this.mode!==o.NONE,"already finalized"),rt.equal(!1,this.write_in_progress,"write already in progress"),rt.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,rt.equal(!1,dt===void 0,"must provide flush value"),this.write_in_progress=!0,dt!==o.Z_NO_FLUSH&&dt!==o.Z_PARTIAL_FLUSH&&dt!==o.Z_SYNC_FLUSH&&dt!==o.Z_FULL_FLUSH&&dt!==o.Z_FINISH&&dt!==o.Z_BLOCK)throw new Error("Invalid flush value");if(ht==null&&(ht=tt.alloc(0),gt=0,pt=0),this.strm.avail_in=gt,this.strm.input=ht,this.strm.next_in=pt,this.strm.avail_out=mt,this.strm.output=ft,this.strm.next_out=yt,this.flush=dt,!ut)return this._process(),this._checkError()?this._afterSync():void 0;var Ft=this;return nt.nextTick(function(){Ft._process(),Ft._after()}),this},ct.prototype._afterSync=function(){var ut=this.strm.avail_out,dt=this.strm.avail_in;return this.write_in_progress=!1,[dt,ut]},ct.prototype._process=function(){var ut=null;switch(this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=ot.deflate(this.strm,this.flush);break;case o.UNZIP:switch(this.strm.avail_in>0&&(ut=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ut===null)break;if(this.strm.input[ut]!==31){this.mode=o.INFLATE;break}if(this.gzip_id_bytes_read=1,ut++,this.strm.avail_in===1)break;case 1:if(ut===null)break;this.strm.input[ut]===139?(this.gzip_id_bytes_read=2,this.mode=o.GUNZIP):this.mode=o.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:for(this.err=st.inflate(this.strm,this.flush),this.err===o.Z_NEED_DICT&&this.dictionary&&(this.err=st.inflateSetDictionary(this.strm,this.dictionary),this.err===o.Z_OK?this.err=st.inflate(this.strm,this.flush):this.err===o.Z_DATA_ERROR&&(this.err=o.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===o.GUNZIP&&this.err===o.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=st.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},ct.prototype._checkError=function(){switch(this.err){case o.Z_OK:case o.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===o.Z_FINISH)return this._error("unexpected end of file"),!1;break;case o.Z_STREAM_END:break;case o.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},ct.prototype._after=function(){if(this._checkError()){var ut=this.strm.avail_out,dt=this.strm.avail_in;this.write_in_progress=!1,this.callback(dt,ut),this.pending_close&&this.close()}},ct.prototype._error=function(ut){this.strm.msg&&(ut=this.strm.msg),this.onerror(ut,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},ct.prototype.init=function(ut,dt,ht,pt,gt){rt(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),rt(ut>=8&&ut<=15,"invalid windowBits"),rt(dt>=-1&&dt<=9,"invalid compression level"),rt(ht>=1&&ht<=9,"invalid memlevel"),rt(pt===o.Z_FILTERED||pt===o.Z_HUFFMAN_ONLY||pt===o.Z_RLE||pt===o.Z_FIXED||pt===o.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(dt,ut,ht,pt,gt),this._setDictionary()},ct.prototype.params=function(){throw new Error("deflateParams Not supported")},ct.prototype.reset=function(){this._reset(),this._setDictionary()},ct.prototype._init=function(ut,dt,ht,pt,gt){switch(this.level=ut,this.windowBits=dt,this.memLevel=ht,this.strategy=pt,this.flush=o.Z_NO_FLUSH,this.err=o.Z_OK,this.mode!==o.GZIP&&this.mode!==o.GUNZIP||(this.windowBits+=16),this.mode===o.UNZIP&&(this.windowBits+=32),this.mode!==o.DEFLATERAW&&this.mode!==o.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new it,this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=ot.deflateInit2(this.strm,this.level,o.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:case o.UNZIP:this.err=st.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==o.Z_OK&&this._error("Init error"),this.dictionary=gt,this.write_in_progress=!1,this.init_done=!0},ct.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:this.err=ot.deflateSetDictionary(this.strm,this.dictionary)}this.err!==o.Z_OK&&this._error("Failed to set dictionary")}},ct.prototype._reset=function(){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:case o.GZIP:this.err=ot.deflateReset(this.strm);break;case o.INFLATE:case o.INFLATERAW:case o.GUNZIP:this.err=st.inflateReset(this.strm)}this.err!==o.Z_OK&&this._error("Failed to reset stream")},o.Zlib=ct}).call(this,et(5).Buffer,et(2))},function(s,o,et){var tt=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;function it(ot){if(ot==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ot)}s.exports=function(){try{if(!Object.assign)return!1;var ot=new String("abc");if(ot[5]="de",Object.getOwnPropertyNames(ot)[0]==="5")return!1;for(var st={},at=0;at<10;at++)st["_"+String.fromCharCode(at)]=at;if(Object.getOwnPropertyNames(st).map(function(ct){return st[ct]}).join("")!=="0123456789")return!1;var lt={};return"abcdefghijklmnopqrst".split("").forEach(function(ct){lt[ct]=ct}),Object.keys(Object.assign({},lt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(ot,st){for(var at,lt,ct=it(ot),ut=1;ut<arguments.length;ut++){for(var dt in at=Object(arguments[ut]))nt.call(at,dt)&&(ct[dt]=at[dt]);if(tt){lt=tt(at);for(var ht=0;ht<lt.length;ht++)rt.call(at,lt[ht])&&(ct[lt[ht]]=at[lt[ht]])}}return ct}},function(s,o,et){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(s,o,et){var tt,nt=et(38),rt=et(178),it=et(74),ot=et(75),st=et(179);function at(St,Rt){return St.msg=st[Rt],Rt}function lt(St){return(St<<1)-(St>4?9:0)}function ct(St){for(var Rt=St.length;--Rt>=0;)St[Rt]=0}function ut(St){var Rt=St.state,Tt=Rt.pending;Tt>St.avail_out&&(Tt=St.avail_out),Tt!==0&&(nt.arraySet(St.output,Rt.pending_buf,Rt.pending_out,Tt,St.next_out),St.next_out+=Tt,Rt.pending_out+=Tt,St.total_out+=Tt,St.avail_out-=Tt,Rt.pending-=Tt,Rt.pending===0&&(Rt.pending_out=0))}function dt(St,Rt){rt._tr_flush_block(St,St.block_start>=0?St.block_start:-1,St.strstart-St.block_start,Rt),St.block_start=St.strstart,ut(St.strm)}function ht(St,Rt){St.pending_buf[St.pending++]=Rt}function pt(St,Rt){St.pending_buf[St.pending++]=Rt>>>8&255,St.pending_buf[St.pending++]=255&Rt}function gt(St,Rt){var Tt,bt,xt=St.max_chain_length,Bt=St.strstart,Ct=St.prev_length,Mt=St.nice_match,Nt=St.strstart>St.w_size-262?St.strstart-(St.w_size-262):0,At=St.window,Ot=St.w_mask,Vt=St.prev,Wt=St.strstart+258,Jt=At[Bt+Ct-1],qt=At[Bt+Ct];St.prev_length>=St.good_match&&(xt>>=2),Mt>St.lookahead&&(Mt=St.lookahead);do if(At[(Tt=Rt)+Ct]===qt&&At[Tt+Ct-1]===Jt&&At[Tt]===At[Bt]&&At[++Tt]===At[Bt+1]){Bt+=2,Tt++;do;while(At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&At[++Bt]===At[++Tt]&&Bt<Wt);if(bt=258-(Wt-Bt),Bt=Wt-258,bt>Ct){if(St.match_start=Rt,Ct=bt,bt>=Mt)break;Jt=At[Bt+Ct-1],qt=At[Bt+Ct]}}while((Rt=Vt[Rt&Ot])>Nt&&--xt!=0);return Ct<=St.lookahead?Ct:St.lookahead}function ft(St){var Rt,Tt,bt,xt,Bt,Ct,Mt,Nt,At,Ot,Vt=St.w_size;do{if(xt=St.window_size-St.lookahead-St.strstart,St.strstart>=Vt+(Vt-262)){nt.arraySet(St.window,St.window,Vt,Vt,0),St.match_start-=Vt,St.strstart-=Vt,St.block_start-=Vt,Rt=Tt=St.hash_size;do bt=St.head[--Rt],St.head[Rt]=bt>=Vt?bt-Vt:0;while(--Tt);Rt=Tt=Vt;do bt=St.prev[--Rt],St.prev[Rt]=bt>=Vt?bt-Vt:0;while(--Tt);xt+=Vt}if(St.strm.avail_in===0)break;if(Ct=St.strm,Mt=St.window,Nt=St.strstart+St.lookahead,At=xt,Ot=void 0,(Ot=Ct.avail_in)>At&&(Ot=At),Tt=Ot===0?0:(Ct.avail_in-=Ot,nt.arraySet(Mt,Ct.input,Ct.next_in,Ot,Nt),Ct.state.wrap===1?Ct.adler=it(Ct.adler,Mt,Ot,Nt):Ct.state.wrap===2&&(Ct.adler=ot(Ct.adler,Mt,Ot,Nt)),Ct.next_in+=Ot,Ct.total_in+=Ot,Ot),St.lookahead+=Tt,St.lookahead+St.insert>=3)for(Bt=St.strstart-St.insert,St.ins_h=St.window[Bt],St.ins_h=(St.ins_h<<St.hash_shift^St.window[Bt+1])&St.hash_mask;St.insert&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[Bt+3-1])&St.hash_mask,St.prev[Bt&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=Bt,Bt++,St.insert--,!(St.lookahead+St.insert<3)););}while(St.lookahead<262&&St.strm.avail_in!==0)}function yt(St,Rt){for(var Tt,bt;;){if(St.lookahead<262){if(ft(St),St.lookahead<262&&Rt===0)return 1;if(St.lookahead===0)break}if(Tt=0,St.lookahead>=3&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+3-1])&St.hash_mask,Tt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart),Tt!==0&&St.strstart-Tt<=St.w_size-262&&(St.match_length=gt(St,Tt)),St.match_length>=3)if(bt=rt._tr_tally(St,St.strstart-St.match_start,St.match_length-3),St.lookahead-=St.match_length,St.match_length<=St.max_lazy_match&&St.lookahead>=3){St.match_length--;do St.strstart++,St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+3-1])&St.hash_mask,Tt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart;while(--St.match_length!=0);St.strstart++}else St.strstart+=St.match_length,St.match_length=0,St.ins_h=St.window[St.strstart],St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+1])&St.hash_mask;else bt=rt._tr_tally(St,0,St.window[St.strstart]),St.lookahead--,St.strstart++;if(bt&&(dt(St,!1),St.strm.avail_out===0))return 1}return St.insert=St.strstart<2?St.strstart:2,Rt===4?(dt(St,!0),St.strm.avail_out===0?3:4):St.last_lit&&(dt(St,!1),St.strm.avail_out===0)?1:2}function mt(St,Rt){for(var Tt,bt,xt;;){if(St.lookahead<262){if(ft(St),St.lookahead<262&&Rt===0)return 1;if(St.lookahead===0)break}if(Tt=0,St.lookahead>=3&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+3-1])&St.hash_mask,Tt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart),St.prev_length=St.match_length,St.prev_match=St.match_start,St.match_length=2,Tt!==0&&St.prev_length<St.max_lazy_match&&St.strstart-Tt<=St.w_size-262&&(St.match_length=gt(St,Tt),St.match_length<=5&&(St.strategy===1||St.match_length===3&&St.strstart-St.match_start>4096)&&(St.match_length=2)),St.prev_length>=3&&St.match_length<=St.prev_length){xt=St.strstart+St.lookahead-3,bt=rt._tr_tally(St,St.strstart-1-St.prev_match,St.prev_length-3),St.lookahead-=St.prev_length-1,St.prev_length-=2;do++St.strstart<=xt&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+3-1])&St.hash_mask,Tt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart);while(--St.prev_length!=0);if(St.match_available=0,St.match_length=2,St.strstart++,bt&&(dt(St,!1),St.strm.avail_out===0))return 1}else if(St.match_available){if((bt=rt._tr_tally(St,0,St.window[St.strstart-1]))&&dt(St,!1),St.strstart++,St.lookahead--,St.strm.avail_out===0)return 1}else St.match_available=1,St.strstart++,St.lookahead--}return St.match_available&&(bt=rt._tr_tally(St,0,St.window[St.strstart-1]),St.match_available=0),St.insert=St.strstart<2?St.strstart:2,Rt===4?(dt(St,!0),St.strm.avail_out===0?3:4):St.last_lit&&(dt(St,!1),St.strm.avail_out===0)?1:2}function Ft(St,Rt,Tt,bt,xt){this.good_length=St,this.max_lazy=Rt,this.nice_length=Tt,this.max_chain=bt,this.func=xt}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new nt.Buf16(1146),this.dyn_dtree=new nt.Buf16(122),this.bl_tree=new nt.Buf16(78),ct(this.dyn_ltree),ct(this.dyn_dtree),ct(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new nt.Buf16(16),this.heap=new nt.Buf16(573),ct(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new nt.Buf16(573),ct(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Et(St){var Rt;return St&&St.state?(St.total_in=St.total_out=0,St.data_type=2,(Rt=St.state).pending=0,Rt.pending_out=0,Rt.wrap<0&&(Rt.wrap=-Rt.wrap),Rt.status=Rt.wrap?42:113,St.adler=Rt.wrap===2?0:1,Rt.last_flush=0,rt._tr_init(Rt),0):at(St,-2)}function wt(St){var Rt,Tt=Et(St);return Tt===0&&((Rt=St.state).window_size=2*Rt.w_size,ct(Rt.head),Rt.max_lazy_match=tt[Rt.level].max_lazy,Rt.good_match=tt[Rt.level].good_length,Rt.nice_match=tt[Rt.level].nice_length,Rt.max_chain_length=tt[Rt.level].max_chain,Rt.strstart=0,Rt.block_start=0,Rt.lookahead=0,Rt.insert=0,Rt.match_length=Rt.prev_length=2,Rt.match_available=0,Rt.ins_h=0),Tt}function It(St,Rt,Tt,bt,xt,Bt){if(!St)return-2;var Ct=1;if(Rt===-1&&(Rt=6),bt<0?(Ct=0,bt=-bt):bt>15&&(Ct=2,bt-=16),xt<1||xt>9||Tt!==8||bt<8||bt>15||Rt<0||Rt>9||Bt<0||Bt>4)return at(St,-2);bt===8&&(bt=9);var Mt=new vt;return St.state=Mt,Mt.strm=St,Mt.wrap=Ct,Mt.gzhead=null,Mt.w_bits=bt,Mt.w_size=1<<Mt.w_bits,Mt.w_mask=Mt.w_size-1,Mt.hash_bits=xt+7,Mt.hash_size=1<<Mt.hash_bits,Mt.hash_mask=Mt.hash_size-1,Mt.hash_shift=~~((Mt.hash_bits+3-1)/3),Mt.window=new nt.Buf8(2*Mt.w_size),Mt.head=new nt.Buf16(Mt.hash_size),Mt.prev=new nt.Buf16(Mt.w_size),Mt.lit_bufsize=1<<xt+6,Mt.pending_buf_size=4*Mt.lit_bufsize,Mt.pending_buf=new nt.Buf8(Mt.pending_buf_size),Mt.d_buf=1*Mt.lit_bufsize,Mt.l_buf=3*Mt.lit_bufsize,Mt.level=Rt,Mt.strategy=Bt,Mt.method=Tt,wt(St)}tt=[new Ft(0,0,0,0,function(St,Rt){var Tt=65535;for(Tt>St.pending_buf_size-5&&(Tt=St.pending_buf_size-5);;){if(St.lookahead<=1){if(ft(St),St.lookahead===0&&Rt===0)return 1;if(St.lookahead===0)break}St.strstart+=St.lookahead,St.lookahead=0;var bt=St.block_start+Tt;if((St.strstart===0||St.strstart>=bt)&&(St.lookahead=St.strstart-bt,St.strstart=bt,dt(St,!1),St.strm.avail_out===0)||St.strstart-St.block_start>=St.w_size-262&&(dt(St,!1),St.strm.avail_out===0))return 1}return St.insert=0,Rt===4?(dt(St,!0),St.strm.avail_out===0?3:4):(St.strstart>St.block_start&&(dt(St,!1),St.strm.avail_out),1)}),new Ft(4,4,8,4,yt),new Ft(4,5,16,8,yt),new Ft(4,6,32,32,yt),new Ft(4,4,16,16,mt),new Ft(8,16,32,32,mt),new Ft(8,16,128,128,mt),new Ft(8,32,128,256,mt),new Ft(32,128,258,1024,mt),new Ft(32,258,258,4096,mt)],o.deflateInit=function(St,Rt){return It(St,Rt,8,15,8,0)},o.deflateInit2=It,o.deflateReset=wt,o.deflateResetKeep=Et,o.deflateSetHeader=function(St,Rt){return St&&St.state?St.state.wrap!==2?-2:(St.state.gzhead=Rt,0):-2},o.deflate=function(St,Rt){var Tt,bt,xt,Bt;if(!St||!St.state||Rt>5||Rt<0)return St?at(St,-2):-2;if(bt=St.state,!St.output||!St.input&&St.avail_in!==0||bt.status===666&&Rt!==4)return at(St,St.avail_out===0?-5:-2);if(bt.strm=St,Tt=bt.last_flush,bt.last_flush=Rt,bt.status===42)if(bt.wrap===2)St.adler=0,ht(bt,31),ht(bt,139),ht(bt,8),bt.gzhead?(ht(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),ht(bt,255&bt.gzhead.time),ht(bt,bt.gzhead.time>>8&255),ht(bt,bt.gzhead.time>>16&255),ht(bt,bt.gzhead.time>>24&255),ht(bt,bt.level===9?2:bt.strategy>=2||bt.level<2?4:0),ht(bt,255&bt.gzhead.os),bt.gzhead.extra&&bt.gzhead.extra.length&&(ht(bt,255&bt.gzhead.extra.length),ht(bt,bt.gzhead.extra.length>>8&255)),bt.gzhead.hcrc&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=69):(ht(bt,0),ht(bt,0),ht(bt,0),ht(bt,0),ht(bt,0),ht(bt,bt.level===9?2:bt.strategy>=2||bt.level<2?4:0),ht(bt,3),bt.status=113);else{var Ct=8+(bt.w_bits-8<<4)<<8;Ct|=(bt.strategy>=2||bt.level<2?0:bt.level<6?1:bt.level===6?2:3)<<6,bt.strstart!==0&&(Ct|=32),Ct+=31-Ct%31,bt.status=113,pt(bt,Ct),bt.strstart!==0&&(pt(bt,St.adler>>>16),pt(bt,65535&St.adler)),St.adler=1}if(bt.status===69)if(bt.gzhead.extra){for(xt=bt.pending;bt.gzindex<(65535&bt.gzhead.extra.length)&&(bt.pending!==bt.pending_buf_size||(bt.gzhead.hcrc&&bt.pending>xt&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending-xt,xt)),ut(St),xt=bt.pending,bt.pending!==bt.pending_buf_size));)ht(bt,255&bt.gzhead.extra[bt.gzindex]),bt.gzindex++;bt.gzhead.hcrc&&bt.pending>xt&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending-xt,xt)),bt.gzindex===bt.gzhead.extra.length&&(bt.gzindex=0,bt.status=73)}else bt.status=73;if(bt.status===73)if(bt.gzhead.name){xt=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>xt&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending-xt,xt)),ut(St),xt=bt.pending,bt.pending===bt.pending_buf_size)){Bt=1;break}Bt=bt.gzindex<bt.gzhead.name.length?255&bt.gzhead.name.charCodeAt(bt.gzindex++):0,ht(bt,Bt)}while(Bt!==0);bt.gzhead.hcrc&&bt.pending>xt&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending-xt,xt)),Bt===0&&(bt.gzindex=0,bt.status=91)}else bt.status=91;if(bt.status===91)if(bt.gzhead.comment){xt=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>xt&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending-xt,xt)),ut(St),xt=bt.pending,bt.pending===bt.pending_buf_size)){Bt=1;break}Bt=bt.gzindex<bt.gzhead.comment.length?255&bt.gzhead.comment.charCodeAt(bt.gzindex++):0,ht(bt,Bt)}while(Bt!==0);bt.gzhead.hcrc&&bt.pending>xt&&(St.adler=ot(St.adler,bt.pending_buf,bt.pending-xt,xt)),Bt===0&&(bt.status=103)}else bt.status=103;if(bt.status===103&&(bt.gzhead.hcrc?(bt.pending+2>bt.pending_buf_size&&ut(St),bt.pending+2<=bt.pending_buf_size&&(ht(bt,255&St.adler),ht(bt,St.adler>>8&255),St.adler=0,bt.status=113)):bt.status=113),bt.pending!==0){if(ut(St),St.avail_out===0)return bt.last_flush=-1,0}else if(St.avail_in===0&&lt(Rt)<=lt(Tt)&&Rt!==4)return at(St,-5);if(bt.status===666&&St.avail_in!==0)return at(St,-5);if(St.avail_in!==0||bt.lookahead!==0||Rt!==0&&bt.status!==666){var Mt=bt.strategy===2?function(Nt,At){for(var Ot;;){if(Nt.lookahead===0&&(ft(Nt),Nt.lookahead===0)){if(At===0)return 1;break}if(Nt.match_length=0,Ot=rt._tr_tally(Nt,0,Nt.window[Nt.strstart]),Nt.lookahead--,Nt.strstart++,Ot&&(dt(Nt,!1),Nt.strm.avail_out===0))return 1}return Nt.insert=0,At===4?(dt(Nt,!0),Nt.strm.avail_out===0?3:4):Nt.last_lit&&(dt(Nt,!1),Nt.strm.avail_out===0)?1:2}(bt,Rt):bt.strategy===3?function(Nt,At){for(var Ot,Vt,Wt,Jt,qt=Nt.window;;){if(Nt.lookahead<=258){if(ft(Nt),Nt.lookahead<=258&&At===0)return 1;if(Nt.lookahead===0)break}if(Nt.match_length=0,Nt.lookahead>=3&&Nt.strstart>0&&(Vt=qt[Wt=Nt.strstart-1])===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]){Jt=Nt.strstart+258;do;while(Vt===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]&&Vt===qt[++Wt]&&Wt<Jt);Nt.match_length=258-(Jt-Wt),Nt.match_length>Nt.lookahead&&(Nt.match_length=Nt.lookahead)}if(Nt.match_length>=3?(Ot=rt._tr_tally(Nt,1,Nt.match_length-3),Nt.lookahead-=Nt.match_length,Nt.strstart+=Nt.match_length,Nt.match_length=0):(Ot=rt._tr_tally(Nt,0,Nt.window[Nt.strstart]),Nt.lookahead--,Nt.strstart++),Ot&&(dt(Nt,!1),Nt.strm.avail_out===0))return 1}return Nt.insert=0,At===4?(dt(Nt,!0),Nt.strm.avail_out===0?3:4):Nt.last_lit&&(dt(Nt,!1),Nt.strm.avail_out===0)?1:2}(bt,Rt):tt[bt.level].func(bt,Rt);if(Mt!==3&&Mt!==4||(bt.status=666),Mt===1||Mt===3)return St.avail_out===0&&(bt.last_flush=-1),0;if(Mt===2&&(Rt===1?rt._tr_align(bt):Rt!==5&&(rt._tr_stored_block(bt,0,0,!1),Rt===3&&(ct(bt.head),bt.lookahead===0&&(bt.strstart=0,bt.block_start=0,bt.insert=0))),ut(St),St.avail_out===0))return bt.last_flush=-1,0}return Rt!==4?0:bt.wrap<=0?1:(bt.wrap===2?(ht(bt,255&St.adler),ht(bt,St.adler>>8&255),ht(bt,St.adler>>16&255),ht(bt,St.adler>>24&255),ht(bt,255&St.total_in),ht(bt,St.total_in>>8&255),ht(bt,St.total_in>>16&255),ht(bt,St.total_in>>24&255)):(pt(bt,St.adler>>>16),pt(bt,65535&St.adler)),ut(St),bt.wrap>0&&(bt.wrap=-bt.wrap),bt.pending!==0?0:1)},o.deflateEnd=function(St){var Rt;return St&&St.state?(Rt=St.state.status)!==42&&Rt!==69&&Rt!==73&&Rt!==91&&Rt!==103&&Rt!==113&&Rt!==666?at(St,-2):(St.state=null,Rt===113?at(St,-3):0):-2},o.deflateSetDictionary=function(St,Rt){var Tt,bt,xt,Bt,Ct,Mt,Nt,At,Ot=Rt.length;if(!St||!St.state||(Bt=(Tt=St.state).wrap)===2||Bt===1&&Tt.status!==42||Tt.lookahead)return-2;for(Bt===1&&(St.adler=it(St.adler,Rt,Ot,0)),Tt.wrap=0,Ot>=Tt.w_size&&(Bt===0&&(ct(Tt.head),Tt.strstart=0,Tt.block_start=0,Tt.insert=0),At=new nt.Buf8(Tt.w_size),nt.arraySet(At,Rt,Ot-Tt.w_size,Tt.w_size,0),Rt=At,Ot=Tt.w_size),Ct=St.avail_in,Mt=St.next_in,Nt=St.input,St.avail_in=Ot,St.next_in=0,St.input=Rt,ft(Tt);Tt.lookahead>=3;){bt=Tt.strstart,xt=Tt.lookahead-2;do Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[bt+3-1])&Tt.hash_mask,Tt.prev[bt&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=bt,bt++;while(--xt);Tt.strstart=bt,Tt.lookahead=2,ft(Tt)}return Tt.strstart+=Tt.lookahead,Tt.block_start=Tt.strstart,Tt.insert=Tt.lookahead,Tt.lookahead=0,Tt.match_length=Tt.prev_length=2,Tt.match_available=0,St.next_in=Mt,St.input=Nt,St.avail_in=Ct,Tt.wrap=Bt,0},o.deflateInfo="pako deflate (from Nodeca project)"},function(s,o,et){var tt=et(38);function nt(Vt){for(var Wt=Vt.length;--Wt>=0;)Vt[Wt]=0}var rt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],it=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],st=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],at=new Array(576);nt(at);var lt=new Array(60);nt(lt);var ct=new Array(512);nt(ct);var ut=new Array(256);nt(ut);var dt=new Array(29);nt(dt);var ht,pt,gt,ft=new Array(30);function yt(Vt,Wt,Jt,qt,Ht){this.static_tree=Vt,this.extra_bits=Wt,this.extra_base=Jt,this.elems=qt,this.max_length=Ht,this.has_stree=Vt&&Vt.length}function mt(Vt,Wt){this.dyn_tree=Vt,this.max_code=0,this.stat_desc=Wt}function Ft(Vt){return Vt<256?ct[Vt]:ct[256+(Vt>>>7)]}function vt(Vt,Wt){Vt.pending_buf[Vt.pending++]=255&Wt,Vt.pending_buf[Vt.pending++]=Wt>>>8&255}function Et(Vt,Wt,Jt){Vt.bi_valid>16-Jt?(Vt.bi_buf|=Wt<<Vt.bi_valid&65535,vt(Vt,Vt.bi_buf),Vt.bi_buf=Wt>>16-Vt.bi_valid,Vt.bi_valid+=Jt-16):(Vt.bi_buf|=Wt<<Vt.bi_valid&65535,Vt.bi_valid+=Jt)}function wt(Vt,Wt,Jt){Et(Vt,Jt[2*Wt],Jt[2*Wt+1])}function It(Vt,Wt){var Jt=0;do Jt|=1&Vt,Vt>>>=1,Jt<<=1;while(--Wt>0);return Jt>>>1}function St(Vt,Wt,Jt){var qt,Ht,Xt=new Array(16),Lt=0;for(qt=1;qt<=15;qt++)Xt[qt]=Lt=Lt+Jt[qt-1]<<1;for(Ht=0;Ht<=Wt;Ht++){var Pt=Vt[2*Ht+1];Pt!==0&&(Vt[2*Ht]=It(Xt[Pt]++,Pt))}}function Rt(Vt){var Wt;for(Wt=0;Wt<286;Wt++)Vt.dyn_ltree[2*Wt]=0;for(Wt=0;Wt<30;Wt++)Vt.dyn_dtree[2*Wt]=0;for(Wt=0;Wt<19;Wt++)Vt.bl_tree[2*Wt]=0;Vt.dyn_ltree[512]=1,Vt.opt_len=Vt.static_len=0,Vt.last_lit=Vt.matches=0}function Tt(Vt){Vt.bi_valid>8?vt(Vt,Vt.bi_buf):Vt.bi_valid>0&&(Vt.pending_buf[Vt.pending++]=Vt.bi_buf),Vt.bi_buf=0,Vt.bi_valid=0}function bt(Vt,Wt,Jt,qt){var Ht=2*Wt,Xt=2*Jt;return Vt[Ht]<Vt[Xt]||Vt[Ht]===Vt[Xt]&&qt[Wt]<=qt[Jt]}function xt(Vt,Wt,Jt){for(var qt=Vt.heap[Jt],Ht=Jt<<1;Ht<=Vt.heap_len&&(Ht<Vt.heap_len&&bt(Wt,Vt.heap[Ht+1],Vt.heap[Ht],Vt.depth)&&Ht++,!bt(Wt,qt,Vt.heap[Ht],Vt.depth));)Vt.heap[Jt]=Vt.heap[Ht],Jt=Ht,Ht<<=1;Vt.heap[Jt]=qt}function Bt(Vt,Wt,Jt){var qt,Ht,Xt,Lt,Pt=0;if(Vt.last_lit!==0)do qt=Vt.pending_buf[Vt.d_buf+2*Pt]<<8|Vt.pending_buf[Vt.d_buf+2*Pt+1],Ht=Vt.pending_buf[Vt.l_buf+Pt],Pt++,qt===0?wt(Vt,Ht,Wt):(wt(Vt,(Xt=ut[Ht])+256+1,Wt),(Lt=rt[Xt])!==0&&Et(Vt,Ht-=dt[Xt],Lt),wt(Vt,Xt=Ft(--qt),Jt),(Lt=it[Xt])!==0&&Et(Vt,qt-=ft[Xt],Lt));while(Pt<Vt.last_lit);wt(Vt,256,Wt)}function Ct(Vt,Wt){var Jt,qt,Ht,Xt=Wt.dyn_tree,Lt=Wt.stat_desc.static_tree,Pt=Wt.stat_desc.has_stree,kt=Wt.stat_desc.elems,zt=-1;for(Vt.heap_len=0,Vt.heap_max=573,Jt=0;Jt<kt;Jt++)Xt[2*Jt]!==0?(Vt.heap[++Vt.heap_len]=zt=Jt,Vt.depth[Jt]=0):Xt[2*Jt+1]=0;for(;Vt.heap_len<2;)Xt[2*(Ht=Vt.heap[++Vt.heap_len]=zt<2?++zt:0)]=1,Vt.depth[Ht]=0,Vt.opt_len--,Pt&&(Vt.static_len-=Lt[2*Ht+1]);for(Wt.max_code=zt,Jt=Vt.heap_len>>1;Jt>=1;Jt--)xt(Vt,Xt,Jt);Ht=kt;do Jt=Vt.heap[1],Vt.heap[1]=Vt.heap[Vt.heap_len--],xt(Vt,Xt,1),qt=Vt.heap[1],Vt.heap[--Vt.heap_max]=Jt,Vt.heap[--Vt.heap_max]=qt,Xt[2*Ht]=Xt[2*Jt]+Xt[2*qt],Vt.depth[Ht]=(Vt.depth[Jt]>=Vt.depth[qt]?Vt.depth[Jt]:Vt.depth[qt])+1,Xt[2*Jt+1]=Xt[2*qt+1]=Ht,Vt.heap[1]=Ht++,xt(Vt,Xt,1);while(Vt.heap_len>=2);Vt.heap[--Vt.heap_max]=Vt.heap[1],function(tn,Gt){var en,cn,Zt,dn,Fn,pn,un=Gt.dyn_tree,bn=Gt.max_code,an=Gt.stat_desc.static_tree,rn=Gt.stat_desc.has_stree,mn=Gt.stat_desc.extra_bits,xn=Gt.stat_desc.extra_base,wn=Gt.stat_desc.max_length,Mn=0;for(dn=0;dn<=15;dn++)tn.bl_count[dn]=0;for(un[2*tn.heap[tn.heap_max]+1]=0,en=tn.heap_max+1;en<573;en++)(dn=un[2*un[2*(cn=tn.heap[en])+1]+1]+1)>wn&&(dn=wn,Mn++),un[2*cn+1]=dn,cn>bn||(tn.bl_count[dn]++,Fn=0,cn>=xn&&(Fn=mn[cn-xn]),pn=un[2*cn],tn.opt_len+=pn*(dn+Fn),rn&&(tn.static_len+=pn*(an[2*cn+1]+Fn)));if(Mn!==0){do{for(dn=wn-1;tn.bl_count[dn]===0;)dn--;tn.bl_count[dn]--,tn.bl_count[dn+1]+=2,tn.bl_count[wn]--,Mn-=2}while(Mn>0);for(dn=wn;dn!==0;dn--)for(cn=tn.bl_count[dn];cn!==0;)(Zt=tn.heap[--en])>bn||(un[2*Zt+1]!==dn&&(tn.opt_len+=(dn-un[2*Zt+1])*un[2*Zt],un[2*Zt+1]=dn),cn--)}}(Vt,Wt),St(Xt,zt,Vt.bl_count)}function Mt(Vt,Wt,Jt){var qt,Ht,Xt=-1,Lt=Wt[1],Pt=0,kt=7,zt=4;for(Lt===0&&(kt=138,zt=3),Wt[2*(Jt+1)+1]=65535,qt=0;qt<=Jt;qt++)Ht=Lt,Lt=Wt[2*(qt+1)+1],++Pt<kt&&Ht===Lt||(Pt<zt?Vt.bl_tree[2*Ht]+=Pt:Ht!==0?(Ht!==Xt&&Vt.bl_tree[2*Ht]++,Vt.bl_tree[32]++):Pt<=10?Vt.bl_tree[34]++:Vt.bl_tree[36]++,Pt=0,Xt=Ht,Lt===0?(kt=138,zt=3):Ht===Lt?(kt=6,zt=3):(kt=7,zt=4))}function Nt(Vt,Wt,Jt){var qt,Ht,Xt=-1,Lt=Wt[1],Pt=0,kt=7,zt=4;for(Lt===0&&(kt=138,zt=3),qt=0;qt<=Jt;qt++)if(Ht=Lt,Lt=Wt[2*(qt+1)+1],!(++Pt<kt&&Ht===Lt)){if(Pt<zt)do wt(Vt,Ht,Vt.bl_tree);while(--Pt!=0);else Ht!==0?(Ht!==Xt&&(wt(Vt,Ht,Vt.bl_tree),Pt--),wt(Vt,16,Vt.bl_tree),Et(Vt,Pt-3,2)):Pt<=10?(wt(Vt,17,Vt.bl_tree),Et(Vt,Pt-3,3)):(wt(Vt,18,Vt.bl_tree),Et(Vt,Pt-11,7));Pt=0,Xt=Ht,Lt===0?(kt=138,zt=3):Ht===Lt?(kt=6,zt=3):(kt=7,zt=4)}}nt(ft);var At=!1;function Ot(Vt,Wt,Jt,qt){Et(Vt,0+(qt?1:0),3),function(Ht,Xt,Lt,Pt){Tt(Ht),Pt&&(vt(Ht,Lt),vt(Ht,~Lt)),tt.arraySet(Ht.pending_buf,Ht.window,Xt,Lt,Ht.pending),Ht.pending+=Lt}(Vt,Wt,Jt,!0)}o._tr_init=function(Vt){At||(function(){var Wt,Jt,qt,Ht,Xt,Lt=new Array(16);for(qt=0,Ht=0;Ht<28;Ht++)for(dt[Ht]=qt,Wt=0;Wt<1<<rt[Ht];Wt++)ut[qt++]=Ht;for(ut[qt-1]=Ht,Xt=0,Ht=0;Ht<16;Ht++)for(ft[Ht]=Xt,Wt=0;Wt<1<<it[Ht];Wt++)ct[Xt++]=Ht;for(Xt>>=7;Ht<30;Ht++)for(ft[Ht]=Xt<<7,Wt=0;Wt<1<<it[Ht]-7;Wt++)ct[256+Xt++]=Ht;for(Jt=0;Jt<=15;Jt++)Lt[Jt]=0;for(Wt=0;Wt<=143;)at[2*Wt+1]=8,Wt++,Lt[8]++;for(;Wt<=255;)at[2*Wt+1]=9,Wt++,Lt[9]++;for(;Wt<=279;)at[2*Wt+1]=7,Wt++,Lt[7]++;for(;Wt<=287;)at[2*Wt+1]=8,Wt++,Lt[8]++;for(St(at,287,Lt),Wt=0;Wt<30;Wt++)lt[2*Wt+1]=5,lt[2*Wt]=It(Wt,5);ht=new yt(at,rt,257,286,15),pt=new yt(lt,it,0,30,15),gt=new yt(new Array(0),ot,0,19,7)}(),At=!0),Vt.l_desc=new mt(Vt.dyn_ltree,ht),Vt.d_desc=new mt(Vt.dyn_dtree,pt),Vt.bl_desc=new mt(Vt.bl_tree,gt),Vt.bi_buf=0,Vt.bi_valid=0,Rt(Vt)},o._tr_stored_block=Ot,o._tr_flush_block=function(Vt,Wt,Jt,qt){var Ht,Xt,Lt=0;Vt.level>0?(Vt.strm.data_type===2&&(Vt.strm.data_type=function(Pt){var kt,zt=4093624447;for(kt=0;kt<=31;kt++,zt>>>=1)if(1&zt&&Pt.dyn_ltree[2*kt]!==0)return 0;if(Pt.dyn_ltree[18]!==0||Pt.dyn_ltree[20]!==0||Pt.dyn_ltree[26]!==0)return 1;for(kt=32;kt<256;kt++)if(Pt.dyn_ltree[2*kt]!==0)return 1;return 0}(Vt)),Ct(Vt,Vt.l_desc),Ct(Vt,Vt.d_desc),Lt=function(Pt){var kt;for(Mt(Pt,Pt.dyn_ltree,Pt.l_desc.max_code),Mt(Pt,Pt.dyn_dtree,Pt.d_desc.max_code),Ct(Pt,Pt.bl_desc),kt=18;kt>=3&&Pt.bl_tree[2*st[kt]+1]===0;kt--);return Pt.opt_len+=3*(kt+1)+5+5+4,kt}(Vt),Ht=Vt.opt_len+3+7>>>3,(Xt=Vt.static_len+3+7>>>3)<=Ht&&(Ht=Xt)):Ht=Xt=Jt+5,Jt+4<=Ht&&Wt!==-1?Ot(Vt,Wt,Jt,qt):Vt.strategy===4||Xt===Ht?(Et(Vt,2+(qt?1:0),3),Bt(Vt,at,lt)):(Et(Vt,4+(qt?1:0),3),function(Pt,kt,zt,tn){var Gt;for(Et(Pt,kt-257,5),Et(Pt,zt-1,5),Et(Pt,tn-4,4),Gt=0;Gt<tn;Gt++)Et(Pt,Pt.bl_tree[2*st[Gt]+1],3);Nt(Pt,Pt.dyn_ltree,kt-1),Nt(Pt,Pt.dyn_dtree,zt-1)}(Vt,Vt.l_desc.max_code+1,Vt.d_desc.max_code+1,Lt+1),Bt(Vt,Vt.dyn_ltree,Vt.dyn_dtree)),Rt(Vt),qt&&Tt(Vt)},o._tr_tally=function(Vt,Wt,Jt){return Vt.pending_buf[Vt.d_buf+2*Vt.last_lit]=Wt>>>8&255,Vt.pending_buf[Vt.d_buf+2*Vt.last_lit+1]=255&Wt,Vt.pending_buf[Vt.l_buf+Vt.last_lit]=255&Jt,Vt.last_lit++,Wt===0?Vt.dyn_ltree[2*Jt]++:(Vt.matches++,Wt--,Vt.dyn_ltree[2*(ut[Jt]+256+1)]++,Vt.dyn_dtree[2*Ft(Wt)]++),Vt.last_lit===Vt.lit_bufsize-1},o._tr_align=function(Vt){Et(Vt,2,3),wt(Vt,256,at),function(Wt){Wt.bi_valid===16?(vt(Wt,Wt.bi_buf),Wt.bi_buf=0,Wt.bi_valid=0):Wt.bi_valid>=8&&(Wt.pending_buf[Wt.pending++]=255&Wt.bi_buf,Wt.bi_buf>>=8,Wt.bi_valid-=8)}(Vt)}},function(s,o,et){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(s,o,et){var tt=et(38),nt=et(74),rt=et(75),it=et(181),ot=et(182);function st(mt){return(mt>>>24&255)+(mt>>>8&65280)+((65280&mt)<<8)+((255&mt)<<24)}function at(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new tt.Buf16(320),this.work=new tt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function lt(mt){var Ft;return mt&&mt.state?(Ft=mt.state,mt.total_in=mt.total_out=Ft.total=0,mt.msg="",Ft.wrap&&(mt.adler=1&Ft.wrap),Ft.mode=1,Ft.last=0,Ft.havedict=0,Ft.dmax=32768,Ft.head=null,Ft.hold=0,Ft.bits=0,Ft.lencode=Ft.lendyn=new tt.Buf32(852),Ft.distcode=Ft.distdyn=new tt.Buf32(592),Ft.sane=1,Ft.back=-1,0):-2}function ct(mt){var Ft;return mt&&mt.state?((Ft=mt.state).wsize=0,Ft.whave=0,Ft.wnext=0,lt(mt)):-2}function ut(mt,Ft){var vt,Et;return mt&&mt.state?(Et=mt.state,Ft<0?(vt=0,Ft=-Ft):(vt=1+(Ft>>4),Ft<48&&(Ft&=15)),Ft&&(Ft<8||Ft>15)?-2:(Et.window!==null&&Et.wbits!==Ft&&(Et.window=null),Et.wrap=vt,Et.wbits=Ft,ct(mt))):-2}function dt(mt,Ft){var vt,Et;return mt?(Et=new at,mt.state=Et,Et.window=null,(vt=ut(mt,Ft))!==0&&(mt.state=null),vt):-2}var ht,pt,gt=!0;function ft(mt){if(gt){var Ft;for(ht=new tt.Buf32(512),pt=new tt.Buf32(32),Ft=0;Ft<144;)mt.lens[Ft++]=8;for(;Ft<256;)mt.lens[Ft++]=9;for(;Ft<280;)mt.lens[Ft++]=7;for(;Ft<288;)mt.lens[Ft++]=8;for(ot(1,mt.lens,0,288,ht,0,mt.work,{bits:9}),Ft=0;Ft<32;)mt.lens[Ft++]=5;ot(2,mt.lens,0,32,pt,0,mt.work,{bits:5}),gt=!1}mt.lencode=ht,mt.lenbits=9,mt.distcode=pt,mt.distbits=5}function yt(mt,Ft,vt,Et){var wt,It=mt.state;return It.window===null&&(It.wsize=1<<It.wbits,It.wnext=0,It.whave=0,It.window=new tt.Buf8(It.wsize)),Et>=It.wsize?(tt.arraySet(It.window,Ft,vt-It.wsize,It.wsize,0),It.wnext=0,It.whave=It.wsize):((wt=It.wsize-It.wnext)>Et&&(wt=Et),tt.arraySet(It.window,Ft,vt-Et,wt,It.wnext),(Et-=wt)?(tt.arraySet(It.window,Ft,vt-Et,Et,0),It.wnext=Et,It.whave=It.wsize):(It.wnext+=wt,It.wnext===It.wsize&&(It.wnext=0),It.whave<It.wsize&&(It.whave+=wt))),0}o.inflateReset=ct,o.inflateReset2=ut,o.inflateResetKeep=lt,o.inflateInit=function(mt){return dt(mt,15)},o.inflateInit2=dt,o.inflate=function(mt,Ft){var vt,Et,wt,It,St,Rt,Tt,bt,xt,Bt,Ct,Mt,Nt,At,Ot,Vt,Wt,Jt,qt,Ht,Xt,Lt,Pt,kt,zt=0,tn=new tt.Buf8(4),Gt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!mt||!mt.state||!mt.output||!mt.input&&mt.avail_in!==0)return-2;(vt=mt.state).mode===12&&(vt.mode=13),St=mt.next_out,wt=mt.output,Tt=mt.avail_out,It=mt.next_in,Et=mt.input,Rt=mt.avail_in,bt=vt.hold,xt=vt.bits,Bt=Rt,Ct=Tt,Lt=0;e:for(;;)switch(vt.mode){case 1:if(vt.wrap===0){vt.mode=13;break}for(;xt<16;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(2&vt.wrap&&bt===35615){vt.check=0,tn[0]=255&bt,tn[1]=bt>>>8&255,vt.check=rt(vt.check,tn,2,0),bt=0,xt=0,vt.mode=2;break}if(vt.flags=0,vt.head&&(vt.head.done=!1),!(1&vt.wrap)||(((255&bt)<<8)+(bt>>8))%31){mt.msg="incorrect header check",vt.mode=30;break}if((15&bt)!=8){mt.msg="unknown compression method",vt.mode=30;break}if(xt-=4,Xt=8+(15&(bt>>>=4)),vt.wbits===0)vt.wbits=Xt;else if(Xt>vt.wbits){mt.msg="invalid window size",vt.mode=30;break}vt.dmax=1<<Xt,mt.adler=vt.check=1,vt.mode=512&bt?10:12,bt=0,xt=0;break;case 2:for(;xt<16;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(vt.flags=bt,(255&vt.flags)!=8){mt.msg="unknown compression method",vt.mode=30;break}if(57344&vt.flags){mt.msg="unknown header flags set",vt.mode=30;break}vt.head&&(vt.head.text=bt>>8&1),512&vt.flags&&(tn[0]=255&bt,tn[1]=bt>>>8&255,vt.check=rt(vt.check,tn,2,0)),bt=0,xt=0,vt.mode=3;case 3:for(;xt<32;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}vt.head&&(vt.head.time=bt),512&vt.flags&&(tn[0]=255&bt,tn[1]=bt>>>8&255,tn[2]=bt>>>16&255,tn[3]=bt>>>24&255,vt.check=rt(vt.check,tn,4,0)),bt=0,xt=0,vt.mode=4;case 4:for(;xt<16;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}vt.head&&(vt.head.xflags=255&bt,vt.head.os=bt>>8),512&vt.flags&&(tn[0]=255&bt,tn[1]=bt>>>8&255,vt.check=rt(vt.check,tn,2,0)),bt=0,xt=0,vt.mode=5;case 5:if(1024&vt.flags){for(;xt<16;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}vt.length=bt,vt.head&&(vt.head.extra_len=bt),512&vt.flags&&(tn[0]=255&bt,tn[1]=bt>>>8&255,vt.check=rt(vt.check,tn,2,0)),bt=0,xt=0}else vt.head&&(vt.head.extra=null);vt.mode=6;case 6:if(1024&vt.flags&&((Mt=vt.length)>Rt&&(Mt=Rt),Mt&&(vt.head&&(Xt=vt.head.extra_len-vt.length,vt.head.extra||(vt.head.extra=new Array(vt.head.extra_len)),tt.arraySet(vt.head.extra,Et,It,Mt,Xt)),512&vt.flags&&(vt.check=rt(vt.check,Et,Mt,It)),Rt-=Mt,It+=Mt,vt.length-=Mt),vt.length))break e;vt.length=0,vt.mode=7;case 7:if(2048&vt.flags){if(Rt===0)break e;Mt=0;do Xt=Et[It+Mt++],vt.head&&Xt&&vt.length<65536&&(vt.head.name+=String.fromCharCode(Xt));while(Xt&&Mt<Rt);if(512&vt.flags&&(vt.check=rt(vt.check,Et,Mt,It)),Rt-=Mt,It+=Mt,Xt)break e}else vt.head&&(vt.head.name=null);vt.length=0,vt.mode=8;case 8:if(4096&vt.flags){if(Rt===0)break e;Mt=0;do Xt=Et[It+Mt++],vt.head&&Xt&&vt.length<65536&&(vt.head.comment+=String.fromCharCode(Xt));while(Xt&&Mt<Rt);if(512&vt.flags&&(vt.check=rt(vt.check,Et,Mt,It)),Rt-=Mt,It+=Mt,Xt)break e}else vt.head&&(vt.head.comment=null);vt.mode=9;case 9:if(512&vt.flags){for(;xt<16;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(bt!==(65535&vt.check)){mt.msg="header crc mismatch",vt.mode=30;break}bt=0,xt=0}vt.head&&(vt.head.hcrc=vt.flags>>9&1,vt.head.done=!0),mt.adler=vt.check=0,vt.mode=12;break;case 10:for(;xt<32;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}mt.adler=vt.check=st(bt),bt=0,xt=0,vt.mode=11;case 11:if(vt.havedict===0)return mt.next_out=St,mt.avail_out=Tt,mt.next_in=It,mt.avail_in=Rt,vt.hold=bt,vt.bits=xt,2;mt.adler=vt.check=1,vt.mode=12;case 12:if(Ft===5||Ft===6)break e;case 13:if(vt.last){bt>>>=7&xt,xt-=7&xt,vt.mode=27;break}for(;xt<3;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}switch(vt.last=1&bt,xt-=1,3&(bt>>>=1)){case 0:vt.mode=14;break;case 1:if(ft(vt),vt.mode=20,Ft===6){bt>>>=2,xt-=2;break e}break;case 2:vt.mode=17;break;case 3:mt.msg="invalid block type",vt.mode=30}bt>>>=2,xt-=2;break;case 14:for(bt>>>=7&xt,xt-=7&xt;xt<32;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if((65535&bt)!=(bt>>>16^65535)){mt.msg="invalid stored block lengths",vt.mode=30;break}if(vt.length=65535&bt,bt=0,xt=0,vt.mode=15,Ft===6)break e;case 15:vt.mode=16;case 16:if(Mt=vt.length){if(Mt>Rt&&(Mt=Rt),Mt>Tt&&(Mt=Tt),Mt===0)break e;tt.arraySet(wt,Et,It,Mt,St),Rt-=Mt,It+=Mt,Tt-=Mt,St+=Mt,vt.length-=Mt;break}vt.mode=12;break;case 17:for(;xt<14;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(vt.nlen=257+(31&bt),bt>>>=5,xt-=5,vt.ndist=1+(31&bt),bt>>>=5,xt-=5,vt.ncode=4+(15&bt),bt>>>=4,xt-=4,vt.nlen>286||vt.ndist>30){mt.msg="too many length or distance symbols",vt.mode=30;break}vt.have=0,vt.mode=18;case 18:for(;vt.have<vt.ncode;){for(;xt<3;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}vt.lens[Gt[vt.have++]]=7&bt,bt>>>=3,xt-=3}for(;vt.have<19;)vt.lens[Gt[vt.have++]]=0;if(vt.lencode=vt.lendyn,vt.lenbits=7,Pt={bits:vt.lenbits},Lt=ot(0,vt.lens,0,19,vt.lencode,0,vt.work,Pt),vt.lenbits=Pt.bits,Lt){mt.msg="invalid code lengths set",vt.mode=30;break}vt.have=0,vt.mode=19;case 19:for(;vt.have<vt.nlen+vt.ndist;){for(;Vt=(zt=vt.lencode[bt&(1<<vt.lenbits)-1])>>>16&255,Wt=65535&zt,!((Ot=zt>>>24)<=xt);){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(Wt<16)bt>>>=Ot,xt-=Ot,vt.lens[vt.have++]=Wt;else{if(Wt===16){for(kt=Ot+2;xt<kt;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(bt>>>=Ot,xt-=Ot,vt.have===0){mt.msg="invalid bit length repeat",vt.mode=30;break}Xt=vt.lens[vt.have-1],Mt=3+(3&bt),bt>>>=2,xt-=2}else if(Wt===17){for(kt=Ot+3;xt<kt;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}xt-=Ot,Xt=0,Mt=3+(7&(bt>>>=Ot)),bt>>>=3,xt-=3}else{for(kt=Ot+7;xt<kt;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}xt-=Ot,Xt=0,Mt=11+(127&(bt>>>=Ot)),bt>>>=7,xt-=7}if(vt.have+Mt>vt.nlen+vt.ndist){mt.msg="invalid bit length repeat",vt.mode=30;break}for(;Mt--;)vt.lens[vt.have++]=Xt}}if(vt.mode===30)break;if(vt.lens[256]===0){mt.msg="invalid code -- missing end-of-block",vt.mode=30;break}if(vt.lenbits=9,Pt={bits:vt.lenbits},Lt=ot(1,vt.lens,0,vt.nlen,vt.lencode,0,vt.work,Pt),vt.lenbits=Pt.bits,Lt){mt.msg="invalid literal/lengths set",vt.mode=30;break}if(vt.distbits=6,vt.distcode=vt.distdyn,Pt={bits:vt.distbits},Lt=ot(2,vt.lens,vt.nlen,vt.ndist,vt.distcode,0,vt.work,Pt),vt.distbits=Pt.bits,Lt){mt.msg="invalid distances set",vt.mode=30;break}if(vt.mode=20,Ft===6)break e;case 20:vt.mode=21;case 21:if(Rt>=6&&Tt>=258){mt.next_out=St,mt.avail_out=Tt,mt.next_in=It,mt.avail_in=Rt,vt.hold=bt,vt.bits=xt,it(mt,Ct),St=mt.next_out,wt=mt.output,Tt=mt.avail_out,It=mt.next_in,Et=mt.input,Rt=mt.avail_in,bt=vt.hold,xt=vt.bits,vt.mode===12&&(vt.back=-1);break}for(vt.back=0;Vt=(zt=vt.lencode[bt&(1<<vt.lenbits)-1])>>>16&255,Wt=65535&zt,!((Ot=zt>>>24)<=xt);){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(Vt&&!(240&Vt)){for(Jt=Ot,qt=Vt,Ht=Wt;Vt=(zt=vt.lencode[Ht+((bt&(1<<Jt+qt)-1)>>Jt)])>>>16&255,Wt=65535&zt,!(Jt+(Ot=zt>>>24)<=xt);){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}bt>>>=Jt,xt-=Jt,vt.back+=Jt}if(bt>>>=Ot,xt-=Ot,vt.back+=Ot,vt.length=Wt,Vt===0){vt.mode=26;break}if(32&Vt){vt.back=-1,vt.mode=12;break}if(64&Vt){mt.msg="invalid literal/length code",vt.mode=30;break}vt.extra=15&Vt,vt.mode=22;case 22:if(vt.extra){for(kt=vt.extra;xt<kt;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}vt.length+=bt&(1<<vt.extra)-1,bt>>>=vt.extra,xt-=vt.extra,vt.back+=vt.extra}vt.was=vt.length,vt.mode=23;case 23:for(;Vt=(zt=vt.distcode[bt&(1<<vt.distbits)-1])>>>16&255,Wt=65535&zt,!((Ot=zt>>>24)<=xt);){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(!(240&Vt)){for(Jt=Ot,qt=Vt,Ht=Wt;Vt=(zt=vt.distcode[Ht+((bt&(1<<Jt+qt)-1)>>Jt)])>>>16&255,Wt=65535&zt,!(Jt+(Ot=zt>>>24)<=xt);){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}bt>>>=Jt,xt-=Jt,vt.back+=Jt}if(bt>>>=Ot,xt-=Ot,vt.back+=Ot,64&Vt){mt.msg="invalid distance code",vt.mode=30;break}vt.offset=Wt,vt.extra=15&Vt,vt.mode=24;case 24:if(vt.extra){for(kt=vt.extra;xt<kt;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}vt.offset+=bt&(1<<vt.extra)-1,bt>>>=vt.extra,xt-=vt.extra,vt.back+=vt.extra}if(vt.offset>vt.dmax){mt.msg="invalid distance too far back",vt.mode=30;break}vt.mode=25;case 25:if(Tt===0)break e;if(Mt=Ct-Tt,vt.offset>Mt){if((Mt=vt.offset-Mt)>vt.whave&&vt.sane){mt.msg="invalid distance too far back",vt.mode=30;break}Mt>vt.wnext?(Mt-=vt.wnext,Nt=vt.wsize-Mt):Nt=vt.wnext-Mt,Mt>vt.length&&(Mt=vt.length),At=vt.window}else At=wt,Nt=St-vt.offset,Mt=vt.length;Mt>Tt&&(Mt=Tt),Tt-=Mt,vt.length-=Mt;do wt[St++]=At[Nt++];while(--Mt);vt.length===0&&(vt.mode=21);break;case 26:if(Tt===0)break e;wt[St++]=vt.length,Tt--,vt.mode=21;break;case 27:if(vt.wrap){for(;xt<32;){if(Rt===0)break e;Rt--,bt|=Et[It++]<<xt,xt+=8}if(Ct-=Tt,mt.total_out+=Ct,vt.total+=Ct,Ct&&(mt.adler=vt.check=vt.flags?rt(vt.check,wt,Ct,St-Ct):nt(vt.check,wt,Ct,St-Ct)),Ct=Tt,(vt.flags?bt:st(bt))!==vt.check){mt.msg="incorrect data check",vt.mode=30;break}bt=0,xt=0}vt.mode=28;case 28:if(vt.wrap&&vt.flags){for(;xt<32;){if(Rt===0)break e;Rt--,bt+=Et[It++]<<xt,xt+=8}if(bt!==(4294967295&vt.total)){mt.msg="incorrect length check",vt.mode=30;break}bt=0,xt=0}vt.mode=29;case 29:Lt=1;break e;case 30:Lt=-3;break e;case 31:return-4;case 32:default:return-2}return mt.next_out=St,mt.avail_out=Tt,mt.next_in=It,mt.avail_in=Rt,vt.hold=bt,vt.bits=xt,(vt.wsize||Ct!==mt.avail_out&&vt.mode<30&&(vt.mode<27||Ft!==4))&&yt(mt,mt.output,mt.next_out,Ct-mt.avail_out)?(vt.mode=31,-4):(Bt-=mt.avail_in,Ct-=mt.avail_out,mt.total_in+=Bt,mt.total_out+=Ct,vt.total+=Ct,vt.wrap&&Ct&&(mt.adler=vt.check=vt.flags?rt(vt.check,wt,Ct,mt.next_out-Ct):nt(vt.check,wt,Ct,mt.next_out-Ct)),mt.data_type=vt.bits+(vt.last?64:0)+(vt.mode===12?128:0)+(vt.mode===20||vt.mode===15?256:0),(Bt===0&&Ct===0||Ft===4)&&Lt===0&&(Lt=-5),Lt)},o.inflateEnd=function(mt){if(!mt||!mt.state)return-2;var Ft=mt.state;return Ft.window&&(Ft.window=null),mt.state=null,0},o.inflateGetHeader=function(mt,Ft){var vt;return mt&&mt.state&&2&(vt=mt.state).wrap?(vt.head=Ft,Ft.done=!1,0):-2},o.inflateSetDictionary=function(mt,Ft){var vt,Et=Ft.length;return mt&&mt.state?(vt=mt.state).wrap!==0&&vt.mode!==11?-2:vt.mode===11&&nt(1,Ft,Et,0)!==vt.check?-3:yt(mt,Ft,Et,Et)?(vt.mode=31,-4):(vt.havedict=1,0):-2},o.inflateInfo="pako inflate (from Nodeca project)"},function(s,o,et){s.exports=function(tt,nt){var rt,it,ot,st,at,lt,ct,ut,dt,ht,pt,gt,ft,yt,mt,Ft,vt,Et,wt,It,St,Rt,Tt,bt,xt;rt=tt.state,it=tt.next_in,bt=tt.input,ot=it+(tt.avail_in-5),st=tt.next_out,xt=tt.output,at=st-(nt-tt.avail_out),lt=st+(tt.avail_out-257),ct=rt.dmax,ut=rt.wsize,dt=rt.whave,ht=rt.wnext,pt=rt.window,gt=rt.hold,ft=rt.bits,yt=rt.lencode,mt=rt.distcode,Ft=(1<<rt.lenbits)-1,vt=(1<<rt.distbits)-1;e:do{ft<15&&(gt+=bt[it++]<<ft,ft+=8,gt+=bt[it++]<<ft,ft+=8),Et=yt[gt&Ft];t:for(;;){if(gt>>>=wt=Et>>>24,ft-=wt,(wt=Et>>>16&255)===0)xt[st++]=65535&Et;else{if(!(16&wt)){if(!(64&wt)){Et=yt[(65535&Et)+(gt&(1<<wt)-1)];continue t}if(32&wt){rt.mode=12;break e}tt.msg="invalid literal/length code",rt.mode=30;break e}It=65535&Et,(wt&=15)&&(ft<wt&&(gt+=bt[it++]<<ft,ft+=8),It+=gt&(1<<wt)-1,gt>>>=wt,ft-=wt),ft<15&&(gt+=bt[it++]<<ft,ft+=8,gt+=bt[it++]<<ft,ft+=8),Et=mt[gt&vt];n:for(;;){if(gt>>>=wt=Et>>>24,ft-=wt,!(16&(wt=Et>>>16&255))){if(!(64&wt)){Et=mt[(65535&Et)+(gt&(1<<wt)-1)];continue n}tt.msg="invalid distance code",rt.mode=30;break e}if(St=65535&Et,ft<(wt&=15)&&(gt+=bt[it++]<<ft,(ft+=8)<wt&&(gt+=bt[it++]<<ft,ft+=8)),(St+=gt&(1<<wt)-1)>ct){tt.msg="invalid distance too far back",rt.mode=30;break e}if(gt>>>=wt,ft-=wt,St>(wt=st-at)){if((wt=St-wt)>dt&&rt.sane){tt.msg="invalid distance too far back",rt.mode=30;break e}if(Rt=0,Tt=pt,ht===0){if(Rt+=ut-wt,wt<It){It-=wt;do xt[st++]=pt[Rt++];while(--wt);Rt=st-St,Tt=xt}}else if(ht<wt){if(Rt+=ut+ht-wt,(wt-=ht)<It){It-=wt;do xt[st++]=pt[Rt++];while(--wt);if(Rt=0,ht<It){It-=wt=ht;do xt[st++]=pt[Rt++];while(--wt);Rt=st-St,Tt=xt}}}else if(Rt+=ht-wt,wt<It){It-=wt;do xt[st++]=pt[Rt++];while(--wt);Rt=st-St,Tt=xt}for(;It>2;)xt[st++]=Tt[Rt++],xt[st++]=Tt[Rt++],xt[st++]=Tt[Rt++],It-=3;It&&(xt[st++]=Tt[Rt++],It>1&&(xt[st++]=Tt[Rt++]))}else{Rt=st-St;do xt[st++]=xt[Rt++],xt[st++]=xt[Rt++],xt[st++]=xt[Rt++],It-=3;while(It>2);It&&(xt[st++]=xt[Rt++],It>1&&(xt[st++]=xt[Rt++]))}break}}break}}while(it<ot&&st<lt);it-=It=ft>>3,gt&=(1<<(ft-=It<<3))-1,tt.next_in=it,tt.next_out=st,tt.avail_in=it<ot?ot-it+5:5-(it-ot),tt.avail_out=st<lt?lt-st+257:257-(st-lt),rt.hold=gt,rt.bits=ft}},function(s,o,et){var tt=et(38),nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],it=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ot=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(st,at,lt,ct,ut,dt,ht,pt){var gt,ft,yt,mt,Ft,vt,Et,wt,It,St=pt.bits,Rt=0,Tt=0,bt=0,xt=0,Bt=0,Ct=0,Mt=0,Nt=0,At=0,Ot=0,Vt=null,Wt=0,Jt=new tt.Buf16(16),qt=new tt.Buf16(16),Ht=null,Xt=0;for(Rt=0;Rt<=15;Rt++)Jt[Rt]=0;for(Tt=0;Tt<ct;Tt++)Jt[at[lt+Tt]]++;for(Bt=St,xt=15;xt>=1&&Jt[xt]===0;xt--);if(Bt>xt&&(Bt=xt),xt===0)return ut[dt++]=20971520,ut[dt++]=20971520,pt.bits=1,0;for(bt=1;bt<xt&&Jt[bt]===0;bt++);for(Bt<bt&&(Bt=bt),Nt=1,Rt=1;Rt<=15;Rt++)if(Nt<<=1,(Nt-=Jt[Rt])<0)return-1;if(Nt>0&&(st===0||xt!==1))return-1;for(qt[1]=0,Rt=1;Rt<15;Rt++)qt[Rt+1]=qt[Rt]+Jt[Rt];for(Tt=0;Tt<ct;Tt++)at[lt+Tt]!==0&&(ht[qt[at[lt+Tt]]++]=Tt);if(st===0?(Vt=Ht=ht,vt=19):st===1?(Vt=nt,Wt-=257,Ht=rt,Xt-=257,vt=256):(Vt=it,Ht=ot,vt=-1),Ot=0,Tt=0,Rt=bt,Ft=dt,Ct=Bt,Mt=0,yt=-1,mt=(At=1<<Bt)-1,st===1&&At>852||st===2&&At>592)return 1;for(;;){Et=Rt-Mt,ht[Tt]<vt?(wt=0,It=ht[Tt]):ht[Tt]>vt?(wt=Ht[Xt+ht[Tt]],It=Vt[Wt+ht[Tt]]):(wt=96,It=0),gt=1<<Rt-Mt,bt=ft=1<<Ct;do ut[Ft+(Ot>>Mt)+(ft-=gt)]=Et<<24|wt<<16|It|0;while(ft!==0);for(gt=1<<Rt-1;Ot&gt;)gt>>=1;if(gt!==0?(Ot&=gt-1,Ot+=gt):Ot=0,Tt++,--Jt[Rt]==0){if(Rt===xt)break;Rt=at[lt+ht[Tt]]}if(Rt>Bt&&(Ot&mt)!==yt){for(Mt===0&&(Mt=Bt),Ft+=bt,Nt=1<<(Ct=Rt-Mt);Ct+Mt<xt&&!((Nt-=Jt[Ct+Mt])<=0);)Ct++,Nt<<=1;if(At+=1<<Ct,st===1&&At>852||st===2&&At>592)return 1;ut[yt=Ot&mt]=Bt<<24|Ct<<16|Ft-dt|0}}return Ot!==0&&(ut[Ft+Ot]=Rt-Mt<<24|64<<16|0),pt.bits=Bt,0}},function(s,o,et){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(s,o){},function(s,o,et){function tt(ct,ut){var dt=Object.keys(ct);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(ct);ut&&(ht=ht.filter(function(pt){return Object.getOwnPropertyDescriptor(ct,pt).enumerable})),dt.push.apply(dt,ht)}return dt}function nt(ct){for(var ut=1;ut<arguments.length;ut++){var dt=arguments[ut]!=null?arguments[ut]:{};ut%2?tt(Object(dt),!0).forEach(function(ht){rt(ct,ht,dt[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(dt)):tt(Object(dt)).forEach(function(ht){Object.defineProperty(ct,ht,Object.getOwnPropertyDescriptor(dt,ht))})}return ct}function rt(ct,ut,dt){return(ut=ot(ut))in ct?Object.defineProperty(ct,ut,{value:dt,enumerable:!0,configurable:!0,writable:!0}):ct[ut]=dt,ct}function it(ct,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ct,ot(ht.key),ht)}}function ot(ct){var ut=function(dt,ht){if(typeof dt!="object"||dt===null)return dt;var pt=dt[Symbol.toPrimitive];if(pt!==void 0){var gt=pt.call(dt,ht||"default");if(typeof gt!="object")return gt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(dt)}(ct,"string");return typeof ut=="symbol"?ut:String(ut)}var st=et(5).Buffer,at=et(186).inspect,lt=at&&at.custom||"inspect";s.exports=function(){function ct(){(function(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,ct),this.head=null,this.tail=null,this.length=0}var ut,dt;return ut=ct,(dt=[{key:"push",value:function(ht){var pt={data:ht,next:null};this.length>0?this.tail.next=pt:this.head=pt,this.tail=pt,++this.length}},{key:"unshift",value:function(ht){var pt={data:ht,next:this.head};this.length===0&&(this.tail=pt),this.head=pt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ht=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ht}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ht){if(this.length===0)return"";for(var pt=this.head,gt=""+pt.data;pt=pt.next;)gt+=ht+pt.data;return gt}},{key:"concat",value:function(ht){if(this.length===0)return st.alloc(0);for(var pt,gt,ft,yt=st.allocUnsafe(ht>>>0),mt=this.head,Ft=0;mt;)pt=mt.data,gt=yt,ft=Ft,st.prototype.copy.call(pt,gt,ft),Ft+=mt.data.length,mt=mt.next;return yt}},{key:"consume",value:function(ht,pt){var gt;return ht<this.head.data.length?(gt=this.head.data.slice(0,ht),this.head.data=this.head.data.slice(ht)):gt=ht===this.head.data.length?this.shift():pt?this._getString(ht):this._getBuffer(ht),gt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ht){var pt=this.head,gt=1,ft=pt.data;for(ht-=ft.length;pt=pt.next;){var yt=pt.data,mt=ht>yt.length?yt.length:ht;if(mt===yt.length?ft+=yt:ft+=yt.slice(0,ht),(ht-=mt)==0){mt===yt.length?(++gt,pt.next?this.head=pt.next:this.head=this.tail=null):(this.head=pt,pt.data=yt.slice(mt));break}++gt}return this.length-=gt,ft}},{key:"_getBuffer",value:function(ht){var pt=st.allocUnsafe(ht),gt=this.head,ft=1;for(gt.data.copy(pt),ht-=gt.data.length;gt=gt.next;){var yt=gt.data,mt=ht>yt.length?yt.length:ht;if(yt.copy(pt,pt.length-ht,0,mt),(ht-=mt)==0){mt===yt.length?(++ft,gt.next?this.head=gt.next:this.head=this.tail=null):(this.head=gt,gt.data=yt.slice(mt));break}++ft}return this.length-=ft,pt}},{key:lt,value:function(ht,pt){return at(this,nt(nt({},pt),{},{depth:0,customInspect:!1}))}}])&&it(ut.prototype,dt),Object.defineProperty(ut,"prototype",{writable:!1}),ct}()},function(s,o){},function(s,o,et){(function(tt){var nt;function rt(mt,Ft,vt){return(Ft=function(Et){var wt=function(It,St){if(typeof It!="object"||It===null)return It;var Rt=It[Symbol.toPrimitive];if(Rt!==void 0){var Tt=Rt.call(It,St||"default");if(typeof Tt!="object")return Tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(It)}(Et,"string");return typeof wt=="symbol"?wt:String(wt)}(Ft))in mt?Object.defineProperty(mt,Ft,{value:vt,enumerable:!0,configurable:!0,writable:!0}):mt[Ft]=vt,mt}var it=et(48),ot=Symbol("lastResolve"),st=Symbol("lastReject"),at=Symbol("error"),lt=Symbol("ended"),ct=Symbol("lastPromise"),ut=Symbol("handlePromise"),dt=Symbol("stream");function ht(mt,Ft){return{value:mt,done:Ft}}function pt(mt){var Ft=mt[ot];if(Ft!==null){var vt=mt[dt].read();vt!==null&&(mt[ct]=null,mt[ot]=null,mt[st]=null,Ft(ht(vt,!1)))}}function gt(mt){tt.nextTick(pt,mt)}var ft=Object.getPrototypeOf(function(){}),yt=Object.setPrototypeOf((rt(nt={get stream(){return this[dt]},next:function(){var mt=this,Ft=this[at];if(Ft!==null)return Promise.reject(Ft);if(this[lt])return Promise.resolve(ht(void 0,!0));if(this[dt].destroyed)return new Promise(function(It,St){tt.nextTick(function(){mt[at]?St(mt[at]):It(ht(void 0,!0))})});var vt,Et=this[ct];if(Et)vt=new Promise(function(It,St){return function(Rt,Tt){It.then(function(){St[lt]?Rt(ht(void 0,!0)):St[ut](Rt,Tt)},Tt)}}(Et,this));else{var wt=this[dt].read();if(wt!==null)return Promise.resolve(ht(wt,!1));vt=new Promise(this[ut])}return this[ct]=vt,vt}},Symbol.asyncIterator,function(){return this}),rt(nt,"return",function(){var mt=this;return new Promise(function(Ft,vt){mt[dt].destroy(null,function(Et){Et?vt(Et):Ft(ht(void 0,!0))})})}),nt),ft);s.exports=function(mt){var Ft,vt=Object.create(yt,(rt(Ft={},dt,{value:mt,writable:!0}),rt(Ft,ot,{value:null,writable:!0}),rt(Ft,st,{value:null,writable:!0}),rt(Ft,at,{value:null,writable:!0}),rt(Ft,lt,{value:mt._readableState.endEmitted,writable:!0}),rt(Ft,ut,{value:function(Et,wt){var It=vt[dt].read();It?(vt[ct]=null,vt[ot]=null,vt[st]=null,Et(ht(It,!1))):(vt[ot]=Et,vt[st]=wt)},writable:!0}),Ft));return vt[ct]=null,it(mt,function(Et){if(Et&&Et.code!=="ERR_STREAM_PREMATURE_CLOSE"){var wt=vt[st];return wt!==null&&(vt[ct]=null,vt[ot]=null,vt[st]=null,wt(Et)),void(vt[at]=Et)}var It=vt[ot];It!==null&&(vt[ct]=null,vt[ot]=null,vt[st]=null,It(ht(void 0,!0))),vt[lt]=!0}),mt.on("readable",gt.bind(null,vt)),vt}}).call(this,et(2))},function(s,o){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(s,o,et){s.exports=nt;var tt=et(81);function nt(rt){if(!(this instanceof nt))return new nt(rt);tt.call(this,rt)}et(7)(nt,tt),nt.prototype._transform=function(rt,it,ot){ot(null,rt)}},function(s,o,et){var tt,nt=et(24).codes,rt=nt.ERR_MISSING_ARGS,it=nt.ERR_STREAM_DESTROYED;function ot(ut){if(ut)throw ut}function st(ut,dt,ht,pt){pt=function(yt){var mt=!1;return function(){mt||(mt=!0,yt.apply(void 0,arguments))}}(pt);var gt=!1;ut.on("close",function(){gt=!0}),tt===void 0&&(tt=et(48)),tt(ut,{readable:dt,writable:ht},function(yt){if(yt)return pt(yt);gt=!0,pt()});var ft=!1;return function(yt){if(!gt&&!ft)return ft=!0,function(mt){return mt.setHeader&&typeof mt.abort=="function"}(ut)?ut.abort():typeof ut.destroy=="function"?ut.destroy():void pt(yt||new it("pipe"))}}function at(ut){ut()}function lt(ut,dt){return ut.pipe(dt)}function ct(ut){return ut.length?typeof ut[ut.length-1]!="function"?ot:ut.pop():ot}s.exports=function(){for(var ut=arguments.length,dt=new Array(ut),ht=0;ht<ut;ht++)dt[ht]=arguments[ht];var pt,gt=ct(dt);if(Array.isArray(dt[0])&&(dt=dt[0]),dt.length<2)throw new rt("streams");var ft=dt.map(function(yt,mt){var Ft=mt<dt.length-1;return st(yt,Ft,mt>0,function(vt){pt||(pt=vt),vt&&ft.forEach(at),Ft||(ft.forEach(at),gt(pt))})});return dt.reduce(lt)}},function(s,o,et){var tt=et(192)(function nt(rt,it){return(it=it||{}).namespace=rt,it.prod=!0,it.dev=!1,it.force||nt.force?nt.yep(it):nt.nope(it)});s.exports=tt},function(s,o){var et=[],tt=[],nt=function(){};function rt(ht){return!~et.indexOf(ht)&&(et.push(ht),!0)}function it(ht){nt=ht}function ot(ht){for(var pt=[],gt=0;gt<et.length;gt++)if(et[gt].async)pt.push(et[gt]);else if(et[gt](ht))return!0;return!!pt.length&&new Promise(function(ft){Promise.all(pt.map(function(yt){return yt(ht)})).then(function(yt){ft(yt.some(Boolean))})})}function st(ht){return!~tt.indexOf(ht)&&(tt.push(ht),!0)}function at(){nt.apply(nt,arguments)}function lt(ht){for(var pt=0;pt<tt.length;pt++)ht=tt[pt].apply(tt[pt],arguments);return ht}function ct(ht,pt){var gt=Object.prototype.hasOwnProperty;for(var ft in pt)gt.call(pt,ft)&&(ht[ft]=pt[ft]);return ht}function ut(ht){return ht.enabled=!1,ht.modify=st,ht.set=it,ht.use=rt,ct(function(){return!1},ht)}function dt(ht){return ht.enabled=!0,ht.modify=st,ht.set=it,ht.use=rt,ct(function(){var pt=Array.prototype.slice.call(arguments,0);return at.call(at,ht,lt(pt,ht)),!0},ht)}s.exports=function(ht){return ht.introduce=ct,ht.enabled=ot,ht.process=lt,ht.modify=st,ht.write=at,ht.nope=ut,ht.yep=dt,ht.set=it,ht.use=rt,ht}},function(s,o,et){(function(tt){var nt=et(65),rt=et(21).StringDecoder,it=et(33).Stream;function ot(){}s.exports=function(st,at){var lt=tt.alloc(65536),ct=new rt("utf8"),ut=new it,dt="",ht=0,pt=0;return st.start===-1&&delete st.start,ut.readable=!0,ut.destroy=function(){ut.destroyed=!0,ut.emit("end"),ut.emit("close")},nt.open(st.file,"a+","0644",function(gt,ft){if(gt)return at?at(gt):ut.emit("error",gt),void ut.destroy();(function yt(){if(!ut.destroyed)return nt.read(ft,lt,0,lt.length,ht,function(mt,Ft){if(mt)return at?at(mt):ut.emit("error",mt),void ut.destroy();if(!Ft)return dt&&((st.start==null||pt>st.start)&&(at?at(null,dt):ut.emit("line",dt)),pt++,dt=""),setTimeout(yt,1e3);var vt=ct.write(lt.slice(0,Ft));at||ut.emit("data",vt);for(var Et=(vt=(dt+vt).split(/\n+/)).length-1,wt=0;wt<Et;wt++)(st.start==null||pt>st.start)&&(at?at(null,vt[wt]):ut.emit("line",vt[wt])),pt++;return dt=vt[Et],ht+=Ft,yt()});nt.close(ft,ot)})()}),at?ut.destroy:ut}}).call(this,et(5).Buffer)},function(s,o,et){(function(tt,nt){function rt(Ft){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt})(Ft)}function it(Ft,vt){var Et=Object.keys(Ft);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(Ft);vt&&(wt=wt.filter(function(It){return Object.getOwnPropertyDescriptor(Ft,It).enumerable})),Et.push.apply(Et,wt)}return Et}function ot(Ft){for(var vt=1;vt<arguments.length;vt++){var Et=arguments[vt]!=null?arguments[vt]:{};vt%2?it(Object(Et),!0).forEach(function(wt){st(Ft,wt,Et[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(Et)):it(Object(Et)).forEach(function(wt){Object.defineProperty(Ft,wt,Object.getOwnPropertyDescriptor(Et,wt))})}return Ft}function st(Ft,vt,Et){return vt in Ft?Object.defineProperty(Ft,vt,{value:Et,enumerable:!0,configurable:!0,writable:!0}):Ft[vt]=Et,Ft}function at(Ft,vt){if(!(Ft instanceof vt))throw new TypeError("Cannot call a class as a function")}function lt(Ft,vt){for(var Et=0;Et<vt.length;Et++){var wt=vt[Et];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Ft,wt.key,wt)}}function ct(Ft,vt){return(ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Et,wt){return Et.__proto__=wt,Et})(Ft,vt)}function ut(Ft){var vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Et,wt=ht(Ft);if(vt){var It=ht(this).constructor;Et=Reflect.construct(wt,arguments,It)}else Et=wt.apply(this,arguments);return dt(this,Et)}}function dt(Ft,vt){if(vt&&(rt(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}(Ft)}function ht(Ft){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(vt){return vt.__proto__||Object.getPrototypeOf(vt)})(Ft)}var pt=et(82),gt=et(205),ft=et(33).Stream,yt=et(14),mt=et(29);s.exports=function(Ft){(function(St,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Super expression must either be null or a function");St.prototype=Object.create(Rt&&Rt.prototype,{constructor:{value:St,writable:!0,configurable:!0}}),Object.defineProperty(St,"prototype",{writable:!1}),Rt&&ct(St,Rt)})(It,Ft);var vt,Et,wt=ut(It);function It(){var St,Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return at(this,It),(St=wt.call(this,Rt)).options=Rt,St.name=Rt.name||"http",St.ssl=!!Rt.ssl,St.host=Rt.host||"localhost",St.port=Rt.port,St.auth=Rt.auth,St.path=Rt.path||"",St.agent=Rt.agent,St.headers=Rt.headers||{},St.headers["content-type"]="application/json",St.batch=Rt.batch||!1,St.batchInterval=Rt.batchInterval||5e3,St.batchCount=Rt.batchCount||10,St.batchOptions=[],St.batchTimeoutID=-1,St.batchCallback={},St.port||(St.port=St.ssl?443:80),St}return vt=It,(Et=[{key:"log",value:function(St,Rt){var Tt=this;this._request(St,function(bt,xt){xt&&xt.statusCode!==200&&(bt=new Error("Invalid HTTP Status Code: ".concat(xt.statusCode))),bt?Tt.emit("warn",bt):Tt.emit("logged",St)}),Rt&&tt(Rt)}},{key:"query",value:function(St,Rt){typeof St=="function"&&(Rt=St,St={}),(St={method:"query",params:this.normalizeQuery(St)}).params.path&&(St.path=St.params.path,delete St.params.path),St.params.auth&&(St.auth=St.params.auth,delete St.params.auth),this._request(St,function(Tt,bt,xt){if(bt&&bt.statusCode!==200&&(Tt=new Error("Invalid HTTP Status Code: ".concat(bt.statusCode))),Tt)return Rt(Tt);if(typeof xt=="string")try{xt=JSON.parse(xt)}catch(Bt){return Rt(Bt)}Rt(null,xt)})}},{key:"stream",value:function(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Rt=new ft;(St={method:"stream",params:St}).params.path&&(St.path=St.params.path,delete St.params.path),St.params.auth&&(St.auth=St.params.auth,delete St.params.auth);var Tt="",bt=this._request(St);return Rt.destroy=function(){return bt.destroy()},bt.on("data",function(xt){for(var Bt=(xt=(Tt+xt).split(/\n+/)).length-1,Ct=0;Ct<Bt;Ct++)try{Rt.emit("log",JSON.parse(xt[Ct]))}catch(Mt){Rt.emit("error",Mt)}Tt=xt[Bt]}),bt.on("error",function(xt){return Rt.emit("error",xt)}),Rt}},{key:"_request",value:function(St,Rt){var Tt=(St=St||{}).auth||this.auth,bt=St.path||this.path||"";delete St.auth,delete St.path,this.batch?this._doBatch(St,Rt,Tt,bt):this._doRequest(St,Rt,Tt,bt)}},{key:"_doBatch",value:function(St,Rt,Tt,bt){if(this.batchOptions.push(St),this.batchOptions.length===1){var xt=this;this.batchCallback=Rt,this.batchTimeoutID=setTimeout(function(){xt.batchTimeoutID=-1,xt._doBatchRequest(xt.batchCallback,Tt,bt)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,Tt,bt)}},{key:"_doBatchRequest",value:function(St,Rt,Tt){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);var bt=this.batchOptions.slice();this.batchOptions=[],this._doRequest(bt,St,Rt,Tt)}},{key:"_doRequest",value:function(St,Rt,Tt,bt){var xt=Object.assign({},this.headers);Tt&&Tt.bearer&&(xt.Authorization="Bearer ".concat(Tt.bearer));var Bt=(this.ssl?gt:pt).request(ot(ot({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(bt.replace(/^\//,"")),headers:xt,auth:Tt&&Tt.username&&Tt.password?"".concat(Tt.username,":").concat(Tt.password):"",agent:this.agent}));Bt.on("error",Rt),Bt.on("response",function(Ct){return Ct.on("end",function(){return Rt(null,Ct)}).resume()}),Bt.end(nt.from(mt(St,this.options.replacer),"utf8"))}}])&&lt(vt.prototype,Et),Object.defineProperty(vt,"prototype",{writable:!1}),It}(yt)}).call(this,et(19).setImmediate,et(5).Buffer)},function(s,o,et){(function(tt,nt,rt){var it=et(83),ot=et(7),st=et(84),at=et(31),lt=et(196),ct=st.IncomingMessage,ut=st.readyStates,dt=s.exports=function(pt){var gt,ft=this;at.Writable.call(ft),ft._opts=pt,ft._body=[],ft._headers={},pt.auth&&ft.setHeader("Authorization","Basic "+new tt(pt.auth).toString("base64")),Object.keys(pt.headers).forEach(function(mt){ft.setHeader(mt,pt.headers[mt])});var yt=!0;if(pt.mode==="disable-fetch"||"requestTimeout"in pt&&!it.abortController)yt=!1,gt=!0;else if(pt.mode==="prefer-streaming")gt=!1;else if(pt.mode==="allow-wrong-content-type")gt=!it.overrideMimeType;else{if(pt.mode&&pt.mode!=="default"&&pt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");gt=!0}ft._mode=function(mt,Ft){return it.fetch&&Ft?"fetch":it.mozchunkedarraybuffer?"moz-chunked-arraybuffer":it.msstream?"ms-stream":it.arraybuffer&&mt?"arraybuffer":it.vbArray&&mt?"text:vbarray":"text"}(gt,yt),ft._fetchTimer=null,ft.on("finish",function(){ft._onFinish()})};ot(dt,at.Writable),dt.prototype.setHeader=function(pt,gt){var ft=pt.toLowerCase();ht.indexOf(ft)===-1&&(this._headers[ft]={name:pt,value:gt})},dt.prototype.getHeader=function(pt){var gt=this._headers[pt.toLowerCase()];return gt?gt.value:null},dt.prototype.removeHeader=function(pt){delete this._headers[pt.toLowerCase()]},dt.prototype._onFinish=function(){var pt=this;if(!pt._destroyed){var gt=pt._opts,ft=pt._headers,yt=null;gt.method!=="GET"&&gt.method!=="HEAD"&&(yt=it.arraybuffer?lt(tt.concat(pt._body)):it.blobConstructor?new nt.Blob(pt._body.map(function(wt){return lt(wt)}),{type:(ft["content-type"]||{}).value||""}):tt.concat(pt._body).toString());var mt=[];if(Object.keys(ft).forEach(function(wt){var It=ft[wt].name,St=ft[wt].value;Array.isArray(St)?St.forEach(function(Rt){mt.push([It,Rt])}):mt.push([It,St])}),pt._mode==="fetch"){var Ft=null;if(it.abortController){var vt=new AbortController;Ft=vt.signal,pt._fetchAbortController=vt,"requestTimeout"in gt&&gt.requestTimeout!==0&&(pt._fetchTimer=nt.setTimeout(function(){pt.emit("requestTimeout"),pt._fetchAbortController&&pt._fetchAbortController.abort()},gt.requestTimeout))}nt.fetch(pt._opts.url,{method:pt._opts.method,headers:mt,body:yt||void 0,mode:"cors",credentials:gt.withCredentials?"include":"same-origin",signal:Ft}).then(function(wt){pt._fetchResponse=wt,pt._connect()},function(wt){nt.clearTimeout(pt._fetchTimer),pt._destroyed||pt.emit("error",wt)})}else{var Et=pt._xhr=new nt.XMLHttpRequest;try{Et.open(pt._opts.method,pt._opts.url,!0)}catch(wt){return void rt.nextTick(function(){pt.emit("error",wt)})}"responseType"in Et&&(Et.responseType=pt._mode.split(":")[0]),"withCredentials"in Et&&(Et.withCredentials=!!gt.withCredentials),pt._mode==="text"&&"overrideMimeType"in Et&&Et.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in gt&&(Et.timeout=gt.requestTimeout,Et.ontimeout=function(){pt.emit("requestTimeout")}),mt.forEach(function(wt){Et.setRequestHeader(wt[0],wt[1])}),pt._response=null,Et.onreadystatechange=function(){switch(Et.readyState){case ut.LOADING:case ut.DONE:pt._onXHRProgress()}},pt._mode==="moz-chunked-arraybuffer"&&(Et.onprogress=function(){pt._onXHRProgress()}),Et.onerror=function(){pt._destroyed||pt.emit("error",new Error("XHR error"))};try{Et.send(yt)}catch(wt){return void rt.nextTick(function(){pt.emit("error",wt)})}}}},dt.prototype._onXHRProgress=function(){(function(pt){try{var gt=pt.status;return gt!==null&&gt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},dt.prototype._connect=function(){var pt=this;pt._destroyed||(pt._response=new ct(pt._xhr,pt._fetchResponse,pt._mode,pt._fetchTimer),pt._response.on("error",function(gt){pt.emit("error",gt)}),pt.emit("response",pt._response))},dt.prototype._write=function(pt,gt,ft){this._body.push(pt),ft()},dt.prototype.abort=dt.prototype.destroy=function(){this._destroyed=!0,nt.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},dt.prototype.end=function(pt,gt,ft){typeof pt=="function"&&(ft=pt,pt=void 0),at.Writable.prototype.end.call(this,pt,gt,ft)},dt.prototype.flushHeaders=function(){},dt.prototype.setTimeout=function(){},dt.prototype.setNoDelay=function(){},dt.prototype.setSocketKeepAlive=function(){};var ht=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,et(5).Buffer,et(6),et(2))},function(s,o,et){var tt=et(5).Buffer;s.exports=function(nt){if(nt instanceof Uint8Array){if(nt.byteOffset===0&&nt.byteLength===nt.buffer.byteLength)return nt.buffer;if(typeof nt.buffer.slice=="function")return nt.buffer.slice(nt.byteOffset,nt.byteOffset+nt.byteLength)}if(tt.isBuffer(nt)){for(var rt=new Uint8Array(nt.length),it=nt.length,ot=0;ot<it;ot++)rt[ot]=nt[ot];return rt.buffer}throw new Error("Argument must be a Buffer")}},function(s,o){s.exports=function(){for(var tt={},nt=0;nt<arguments.length;nt++){var rt=arguments[nt];for(var it in rt)et.call(rt,it)&&(tt[it]=rt[it])}return tt};var et=Object.prototype.hasOwnProperty},function(s,o){s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(s,o,et){(function(tt,nt){var rt;(function(it){o&&o.nodeType,tt&&tt.nodeType;var ot=typeof nt=="object"&&nt;ot.global!==ot&&ot.window!==ot&&ot.self;var st,at=2147483647,lt=/^xn--/,ct=/[^\x20-\x7E]/,ut=/[\x2E\u3002\uFF0E\uFF61]/g,dt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ht=Math.floor,pt=String.fromCharCode;function gt(St){throw new RangeError(dt[St])}function ft(St,Rt){for(var Tt=St.length,bt=[];Tt--;)bt[Tt]=Rt(St[Tt]);return bt}function yt(St,Rt){var Tt=St.split("@"),bt="";return Tt.length>1&&(bt=Tt[0]+"@",St=Tt[1]),bt+ft((St=St.replace(ut,".")).split("."),Rt).join(".")}function mt(St){for(var Rt,Tt,bt=[],xt=0,Bt=St.length;xt<Bt;)(Rt=St.charCodeAt(xt++))>=55296&&Rt<=56319&&xt<Bt?(64512&(Tt=St.charCodeAt(xt++)))==56320?bt.push(((1023&Rt)<<10)+(1023&Tt)+65536):(bt.push(Rt),xt--):bt.push(Rt);return bt}function Ft(St){return ft(St,function(Rt){var Tt="";return Rt>65535&&(Tt+=pt((Rt-=65536)>>>10&1023|55296),Rt=56320|1023&Rt),Tt+=pt(Rt)}).join("")}function vt(St,Rt){return St+22+75*(St<26)-((Rt!=0)<<5)}function Et(St,Rt,Tt){var bt=0;for(St=Tt?ht(St/700):St>>1,St+=ht(St/Rt);St>455;bt+=36)St=ht(St/35);return ht(bt+36*St/(St+38))}function wt(St){var Rt,Tt,bt,xt,Bt,Ct,Mt,Nt,At,Ot,Vt,Wt=[],Jt=St.length,qt=0,Ht=128,Xt=72;for((Tt=St.lastIndexOf("-"))<0&&(Tt=0),bt=0;bt<Tt;++bt)St.charCodeAt(bt)>=128&&gt("not-basic"),Wt.push(St.charCodeAt(bt));for(xt=Tt>0?Tt+1:0;xt<Jt;){for(Bt=qt,Ct=1,Mt=36;xt>=Jt&&gt("invalid-input"),((Nt=(Vt=St.charCodeAt(xt++))-48<10?Vt-22:Vt-65<26?Vt-65:Vt-97<26?Vt-97:36)>=36||Nt>ht((at-qt)/Ct))&&gt("overflow"),qt+=Nt*Ct,!(Nt<(At=Mt<=Xt?1:Mt>=Xt+26?26:Mt-Xt));Mt+=36)Ct>ht(at/(Ot=36-At))&&gt("overflow"),Ct*=Ot;Xt=Et(qt-Bt,Rt=Wt.length+1,Bt==0),ht(qt/Rt)>at-Ht&&gt("overflow"),Ht+=ht(qt/Rt),qt%=Rt,Wt.splice(qt++,0,Ht)}return Ft(Wt)}function It(St){var Rt,Tt,bt,xt,Bt,Ct,Mt,Nt,At,Ot,Vt,Wt,Jt,qt,Ht,Xt=[];for(Wt=(St=mt(St)).length,Rt=128,Tt=0,Bt=72,Ct=0;Ct<Wt;++Ct)(Vt=St[Ct])<128&&Xt.push(pt(Vt));for(bt=xt=Xt.length,xt&&Xt.push("-");bt<Wt;){for(Mt=at,Ct=0;Ct<Wt;++Ct)(Vt=St[Ct])>=Rt&&Vt<Mt&&(Mt=Vt);for(Mt-Rt>ht((at-Tt)/(Jt=bt+1))&&gt("overflow"),Tt+=(Mt-Rt)*Jt,Rt=Mt,Ct=0;Ct<Wt;++Ct)if((Vt=St[Ct])<Rt&&++Tt>at&&gt("overflow"),Vt==Rt){for(Nt=Tt,At=36;!(Nt<(Ot=At<=Bt?1:At>=Bt+26?26:At-Bt));At+=36)Ht=Nt-Ot,qt=36-Ot,Xt.push(pt(vt(Ot+Ht%qt,0))),Nt=ht(Ht/qt);Xt.push(pt(vt(Nt,0))),Bt=Et(Tt,Jt,bt==xt),Tt=0,++bt}++Tt,++Rt}return Xt.join("")}st={version:"1.4.1",ucs2:{decode:mt,encode:Ft},decode:wt,encode:It,toASCII:function(St){return yt(St,function(Rt){return ct.test(Rt)?"xn--"+It(Rt):Rt})},toUnicode:function(St){return yt(St,function(Rt){return lt.test(Rt)?wt(Rt.slice(4).toLowerCase()):Rt})}},(rt=function(){return st}.call(o,et,o,tt))===void 0||(tt.exports=rt)})()}).call(this,et(200)(s),et(6))},function(s,o){s.exports=function(et){return et.webpackPolyfill||(et.deprecate=function(){},et.paths=[],et.children||(et.children=[]),Object.defineProperty(et,"loaded",{enumerable:!0,get:function(){return et.l}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return et.i}}),et.webpackPolyfill=1),et}},function(s,o,et){s.exports={isString:function(tt){return typeof tt=="string"},isObject:function(tt){return typeof tt=="object"&&tt!==null},isNull:function(tt){return tt===null},isNullOrUndefined:function(tt){return tt==null}}},function(s,o,et){o.decode=o.parse=et(203),o.encode=o.stringify=et(204)},function(s,o,et){function tt(rt,it){return Object.prototype.hasOwnProperty.call(rt,it)}s.exports=function(rt,it,ot,st){it=it||"&",ot=ot||"=";var at={};if(typeof rt!="string"||rt.length===0)return at;var lt=/\+/g;rt=rt.split(it);var ct=1e3;st&&typeof st.maxKeys=="number"&&(ct=st.maxKeys);var ut=rt.length;ct>0&&ut>ct&&(ut=ct);for(var dt=0;dt<ut;++dt){var ht,pt,gt,ft,yt=rt[dt].replace(lt,"%20"),mt=yt.indexOf(ot);mt>=0?(ht=yt.substr(0,mt),pt=yt.substr(mt+1)):(ht=yt,pt=""),gt=decodeURIComponent(ht),ft=decodeURIComponent(pt),tt(at,gt)?nt(at[gt])?at[gt].push(ft):at[gt]=[at[gt],ft]:at[gt]=ft}return at};var nt=Array.isArray||function(rt){return Object.prototype.toString.call(rt)==="[object Array]"}},function(s,o,et){var tt=function(ot){switch(typeof ot){case"string":return ot;case"boolean":return ot?"true":"false";case"number":return isFinite(ot)?ot:"";default:return""}};s.exports=function(ot,st,at,lt){return st=st||"&",at=at||"=",ot===null&&(ot=void 0),typeof ot=="object"?rt(it(ot),function(ct){var ut=encodeURIComponent(tt(ct))+at;return nt(ot[ct])?rt(ot[ct],function(dt){return ut+encodeURIComponent(tt(dt))}).join(st):ut+encodeURIComponent(tt(ot[ct]))}).join(st):lt?encodeURIComponent(tt(lt))+at+encodeURIComponent(tt(ot)):""};var nt=Array.isArray||function(ot){return Object.prototype.toString.call(ot)==="[object Array]"};function rt(ot,st){if(ot.map)return ot.map(st);for(var at=[],lt=0;lt<ot.length;lt++)at.push(st(ot[lt],lt));return at}var it=Object.keys||function(ot){var st=[];for(var at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&st.push(at);return st}},function(s,o,et){var tt=et(82),nt=et(85),rt=s.exports;for(var it in tt)tt.hasOwnProperty(it)&&(rt[it]=tt[it]);function ot(st){if(typeof st=="string"&&(st=nt.parse(st)),st.protocol||(st.protocol="https:"),st.protocol!=="https:")throw new Error('Protocol "'+st.protocol+'" not supported. Expected "https:"');return st}rt.request=function(st,at){return st=ot(st),tt.request.call(this,st,at)},rt.get=function(st,at){return st=ot(st),tt.get.call(this,st,at)}},function(s,o,et){(function(tt){function nt(pt){return(nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt})(pt)}function rt(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")}function it(pt,gt){for(var ft=0;ft<gt.length;ft++){var yt=gt[ft];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(pt,yt.key,yt)}}function ot(pt,gt){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,yt){return ft.__proto__=yt,ft})(pt,gt)}function st(pt){var gt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ft,yt=lt(pt);if(gt){var mt=lt(this).constructor;ft=Reflect.construct(yt,arguments,mt)}else ft=yt.apply(this,arguments);return at(this,ft)}}function at(pt,gt){if(gt&&(nt(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}(pt)}function lt(pt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)})(pt)}var ct=et(86),ut=et(4).MESSAGE,dt=et(16),ht=et(14);s.exports=function(pt){(function(Ft,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");Ft.prototype=Object.create(vt&&vt.prototype,{constructor:{value:Ft,writable:!0,configurable:!0}}),Object.defineProperty(Ft,"prototype",{writable:!1}),vt&&ot(Ft,vt)})(mt,pt);var gt,ft,yt=st(mt);function mt(){var Ft,vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rt(this,mt),Ft=yt.call(this,vt),!vt.stream||!ct(vt.stream))throw new Error("options.stream is required.");return Ft._stream=vt.stream,Ft._stream.setMaxListeners(1/0),Ft.isObjectMode=vt.stream._writableState.objectMode,Ft.eol=typeof vt.eol=="string"?vt.eol:dt.EOL,Ft}return gt=mt,(ft=[{key:"log",value:function(Ft,vt){var Et=this;if(tt(function(){return Et.emit("logged",Ft)}),this.isObjectMode)return this._stream.write(Ft),void(vt&&vt());this._stream.write("".concat(Ft[ut]).concat(this.eol)),vt&&vt()}}])&&it(gt.prototype,ft),Object.defineProperty(gt,"prototype",{writable:!1}),mt}(ht)}).call(this,et(19).setImmediate)},function(s,o,et){(function(tt){function nt(bt,xt,Bt){return xt in bt?Object.defineProperty(bt,xt,{value:Bt,enumerable:!0,configurable:!0,writable:!0}):bt[xt]=Bt,bt}function rt(bt){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt})(bt)}function it(bt,xt){for(var Bt=0;Bt<xt.length;Bt++){var Ct=xt[Bt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(bt,Ct.key,Ct)}}function ot(bt,xt){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Bt,Ct){return Bt.__proto__=Ct,Bt})(bt,xt)}function st(bt){var xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Bt,Ct=lt(bt);if(xt){var Mt=lt(this).constructor;Bt=Reflect.construct(Ct,arguments,Mt)}else Bt=Ct.apply(this,arguments);return at(this,Bt)}}function at(bt,xt){if(xt&&(rt(xt)==="object"||typeof xt=="function"))return xt;if(xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Bt){if(Bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt}(bt)}function lt(bt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xt){return xt.__proto__||Object.getPrototypeOf(xt)})(bt)}var ct=et(33),ut=ct.Stream,dt=ct.Transform,ht=et(50),pt=et(4),gt=pt.LEVEL,ft=pt.SPLAT,yt=et(86),mt=et(88),Ft=et(92),vt=et(211),Et=et(212),wt=et(60).warn,It=et(49),St=/%[scdjifoO%]/g,Rt=function(bt){(function(Nt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(At&&At.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),Object.defineProperty(Nt,"prototype",{writable:!1}),At&&ot(Nt,At)})(Mt,bt);var xt,Bt,Ct=st(Mt);function Mt(Nt){var At;return function(Ot,Vt){if(!(Ot instanceof Vt))throw new TypeError("Cannot call a class as a function")}(this,Mt),(At=Ct.call(this,{objectMode:!0})).configure(Nt),At}return xt=Mt,(Bt=[{key:"child",value:function(Nt){var At=this;return Object.create(At,{write:{value:function(Ot){var Vt=Object.assign({},Nt,Ot);Ot instanceof Error&&(Vt.stack=Ot.stack,Vt.message=Ot.message),At.write(Vt)}}})}},{key:"configure",value:function(){var Nt=this,At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ot=At.silent,Vt=At.format,Wt=At.defaultMeta,Jt=At.levels,qt=At.level,Ht=qt===void 0?"info":qt,Xt=At.exitOnError,Lt=Xt===void 0||Xt,Pt=At.transports,kt=At.colors,zt=At.emitErrs,tn=At.formatters,Gt=At.padLevels,en=At.rewriters,cn=At.stripColors,Zt=At.exceptionHandlers,dn=At.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=Ot,this.format=Vt||this.format||et(213)(),this.defaultMeta=Wt||null,this.levels=Jt||this.levels||It.npm.levels,this.level=Ht,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new mt(this),this.rejections=new Ft(this),this.profilers={},this.exitOnError=Lt,Pt&&(Pt=Array.isArray(Pt)?Pt:[Pt]).forEach(function(Fn){return Nt.add(Fn)}),kt||zt||tn||Gt||en||cn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));Zt&&this.exceptions.handle(Zt),dn&&this.rejections.handle(dn)}},{key:"isLevelEnabled",value:function(Nt){var At=this,Ot=Tt(this.levels,Nt);if(Ot===null)return!1;var Vt=Tt(this.levels,this.level);return Vt!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(Wt){var Jt=Tt(At.levels,Wt.level);return Jt===null&&(Jt=Vt),Jt>=Ot})!==-1:Vt>=Ot)}},{key:"log",value:function(Nt,At){for(var Ot,Vt,Wt=arguments.length,Jt=new Array(Wt>2?Wt-2:0),qt=2;qt<Wt;qt++)Jt[qt-2]=arguments[qt];if(arguments.length===1)return Nt[gt]=Nt.level,this._addDefaultMeta(Nt),this.write(Nt),this;if(arguments.length===2)return At&&rt(At)==="object"?(At[gt]=At.level=Nt,this._addDefaultMeta(At),this.write(At),this):(nt(Vt={},gt,Nt),nt(Vt,"level",Nt),nt(Vt,"message",At),At=Vt,this._addDefaultMeta(At),this.write(At),this);var Ht=Jt[0];if(rt(Ht)==="object"&&Ht!==null){var Xt=At&&At.match&&At.match(St);if(!Xt){var Lt,Pt=Object.assign({},this.defaultMeta,Ht,(nt(Lt={},gt,Nt),nt(Lt,ft,Jt),nt(Lt,"level",Nt),nt(Lt,"message",At),Lt));return Ht.message&&(Pt.message="".concat(Pt.message," ").concat(Ht.message)),Ht.stack&&(Pt.stack=Ht.stack),this.write(Pt),this}}return this.write(Object.assign({},this.defaultMeta,(nt(Ot={},gt,Nt),nt(Ot,ft,Jt),nt(Ot,"level",Nt),nt(Ot,"message",At),Ot))),this}},{key:"_transform",value:function(Nt,At,Ot){if(this.silent)return Ot();Nt[gt]||(Nt[gt]=Nt.level),this.levels[Nt[gt]]||this.levels[Nt[gt]]===0||console.error("[winston] Unknown logger level: %s",Nt[gt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",Nt);try{this.push(this.format.transform(Nt,this.format.options))}finally{this._writableState.sync=!1,Ot()}}},{key:"_final",value:function(Nt){var At=this.transports.slice();ht(At,function(Ot,Vt){if(!Ot||Ot.finished)return tt(Vt);Ot.once("finish",Vt),Ot.end()},Nt)}},{key:"add",value:function(Nt){var At=!yt(Nt)||Nt.log.length>2?new vt({transport:Nt}):Nt;if(!At._writableState||!At._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",At),this._onEvent("warn",At),this.pipe(At),Nt.handleExceptions&&this.exceptions.handle(),Nt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Nt){if(!Nt)return this;var At=Nt;return(!yt(Nt)||Nt.log.length>2)&&(At=this.transports.filter(function(Ot){return Ot.transport===Nt})[0]),At&&this.unpipe(At),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){wt.deprecated("setLevels")}},{key:"query",value:function(Nt,At){typeof Nt=="function"&&(At=Nt,Nt={}),Nt=Nt||{};var Ot={},Vt=Object.assign({},Nt.query||{});ht(this.transports.filter(function(Wt){return!!Wt.query}),function(Wt,Jt){(function(qt,Ht){Nt.query&&typeof qt.formatQuery=="function"&&(Nt.query=qt.formatQuery(Vt)),qt.query(Nt,function(Xt,Lt){if(Xt)return Ht(Xt);typeof qt.formatResults=="function"&&(Lt=qt.formatResults(Lt,Nt.format)),Ht(null,Lt)})})(Wt,function(qt,Ht){Jt&&((Ht=qt||Ht)&&(Ot[Wt.name]=Ht),Jt()),Jt=null})},function(){return At(null,Ot)})}},{key:"stream",value:function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},At=new ut,Ot=[];return At._streams=Ot,At.destroy=function(){for(var Vt=Ot.length;Vt--;)Ot[Vt].destroy()},this.transports.filter(function(Vt){return!!Vt.stream}).forEach(function(Vt){var Wt=Vt.stream(Nt);Wt&&(Ot.push(Wt),Wt.on("log",function(Jt){Jt.transport=Jt.transport||[],Jt.transport.push(Vt.name),At.emit("log",Jt)}),Wt.on("error",function(Jt){Jt.transport=Jt.transport||[],Jt.transport.push(Vt.name),At.emit("error",Jt)}))}),At}},{key:"startTimer",value:function(){return new Et(this)}},{key:"profile",value:function(Nt){var At=Date.now();if(this.profilers[Nt]){var Ot=this.profilers[Nt];delete this.profilers[Nt];for(var Vt=arguments.length,Wt=new Array(Vt>1?Vt-1:0),Jt=1;Jt<Vt;Jt++)Wt[Jt-1]=arguments[Jt];typeof Wt[Wt.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Wt.pop());var qt=rt(Wt[Wt.length-1])==="object"?Wt.pop():{};return qt.level=qt.level||"info",qt.durationMs=At-Ot,qt.message=qt.message||Nt,this.write(qt)}return this.profilers[Nt]=At,this}},{key:"handleExceptions",value:function(){var Nt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Nt=this.exceptions).handle.apply(Nt,arguments)}},{key:"unhandleExceptions",value:function(){var Nt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Nt=this.exceptions).unhandle.apply(Nt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Nt,At){At["__winston"+Nt]||(At["__winston"+Nt]=function(Ot){Nt!=="error"||this.transports.includes(At)||this.add(At),this.emit(Nt,Ot,At)}.bind(this),At.on(Nt,At["__winston"+Nt]))}},{key:"_addDefaultMeta",value:function(Nt){this.defaultMeta&&Object.assign(Nt,this.defaultMeta)}}])&&it(xt.prototype,Bt),Object.defineProperty(xt,"prototype",{writable:!1}),Mt}(dt);function Tt(bt,xt){var Bt=bt[xt];return Bt||Bt===0?Bt:null}Object.defineProperty(Rt.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var bt=this._readableState.pipes;return Array.isArray(bt)?bt:[bt].filter(Boolean)}}),s.exports=Rt}).call(this,et(19).setImmediate)},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0});var tt=lt(et(44)),nt=lt(et(45)),rt=lt(et(66)),it=lt(et(67)),ot=lt(et(68)),st=lt(et(23)),at=lt(et(30));function lt(dt){return dt&&dt.__esModule?dt:{default:dt}}function ct(dt,ht,pt){pt=(0,it.default)(pt);var gt=0,ft=0,{length:yt}=dt,mt=!1;function Ft(vt,Et){vt===!1&&(mt=!0),mt!==!0&&(vt?pt(vt):++ft!==yt&&Et!==nt.default||pt(null))}for(yt===0&&pt(null);gt<yt;gt++)ht(dt[gt],gt,(0,ot.default)(Ft))}function ut(dt,ht,pt){return(0,rt.default)(dt,1/0,ht,pt)}o.default=(0,at.default)(function(dt,ht,pt){return((0,tt.default)(dt)?ct:ut)(dt,(0,st.default)(ht),pt)},3),s.exports=o.default},function(s,o,et){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){return(nt,rt,it)=>tt(nt,it)},s.exports=o.default},function(s,o,et){var tt=Object.prototype.toString;s.exports=function(nt){if(typeof nt.displayName=="string"&&nt.constructor.name)return nt.displayName;if(typeof nt.name=="string"&&nt.name)return nt.name;if(typeof nt=="object"&&nt.constructor&&typeof nt.constructor.name=="string")return nt.constructor.name;var rt=nt.toString(),it=tt.call(nt).slice(8,-1);return(rt=it==="Function"?rt.substring(rt.indexOf("(")+1,rt.indexOf(")")):it)||"anonymous"}},function(s,o,et){const tt=et(13),{LEVEL:nt}=et(4),rt=et(14),it=s.exports=function(ot={}){if(rt.call(this,ot),!ot.transport||typeof ot.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=ot.transport,this.level=this.level||ot.transport.level,this.handleExceptions=this.handleExceptions||ot.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(st){this.emit("error",st,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};tt.inherits(it,rt),it.prototype._write=function(ot,st,at){if(this.silent||ot.exception===!0&&!this.handleExceptions)return at(null);(!this.level||this.levels[this.level]>=this.levels[ot[nt]])&&this.transport.log(ot[nt],ot.message,ot,this._nop),at(null)},it.prototype._writev=function(ot,st){for(let at=0;at<ot.length;at++)this._accept(ot[at])&&(this.transport.log(ot[at].chunk[nt],ot[at].chunk.message,ot[at].chunk,this._nop),ot[at].callback());return st(null)},it.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},it.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(s,o,et){function tt(rt){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(rt)}function nt(rt,it){for(var ot=0;ot<it.length;ot++){var st=it[ot];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(rt,st.key,st)}}s.exports=function(){function rt(st){if(function(at,lt){if(!(at instanceof lt))throw new TypeError("Cannot call a class as a function")}(this,rt),!st)throw new Error("Logger is required for profiling.");this.logger=st,this.start=Date.now()}var it,ot;return it=rt,(ot=[{key:"done",value:function(){for(var st=arguments.length,at=new Array(st),lt=0;lt<st;lt++)at[lt]=arguments[lt];typeof at[at.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),at.pop());var ct=tt(at[at.length-1])==="object"?at.pop():{};return ct.level=ct.level||"info",ct.durationMs=Date.now()-this.start,this.logger.write(ct)}}])&&nt(it.prototype,ot),Object.defineProperty(it,"prototype",{writable:!1}),rt}()},function(s,o,et){const tt=et(214),{MESSAGE:nt}=et(4),rt=et(29);function it(ot,st){return typeof st=="bigint"?st.toString():st}s.exports=tt((ot,st)=>{const at=rt.configure(st);return ot[nt]=at(ot,st.replacer||it,st.space),ot})},function(s,o,et){class tt extends Error{constructor(rt){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${rt.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,tt)}}s.exports=nt=>{if(nt.length>2)throw new tt(nt);function rt(ot={}){this.options=ot}function it(ot){return new rt(ot)}return rt.prototype.transform=nt,it.Format=rt,it}},function(s,o,et){function tt(it,ot){if(!(it instanceof ot))throw new TypeError("Cannot call a class as a function")}function nt(it,ot){for(var st=0;st<ot.length;st++){var at=ot[st];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(it,at.key,at)}}var rt=et(87);s.exports=function(){function it(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(this,it),this.loggers=new Map,this.options=at}var ot,st;return ot=it,(st=[{key:"add",value:function(at,lt){var ct=this;if(!this.loggers.has(at)){var ut=(lt=Object.assign({},lt||this.options)).transports||this.options.transports;lt.transports=ut?ut.slice():[];var dt=rt(lt);dt.on("close",function(){return ct._delete(at)}),this.loggers.set(at,dt)}return this.loggers.get(at)}},{key:"get",value:function(at,lt){return this.add(at,lt)}},{key:"has",value:function(at){return!!this.loggers.has(at)}},{key:"close",value:function(at){var lt=this;if(at)return this._removeLogger(at);this.loggers.forEach(function(ct,ut){return lt._removeLogger(ut)})}},{key:"_removeLogger",value:function(at){this.loggers.has(at)&&(this.loggers.get(at).close(),this._delete(at))}},{key:"_delete",value:function(at){this.loggers.delete(at)}}])&&nt(ot.prototype,st),Object.defineProperty(ot,"prototype",{writable:!1}),it}()},function(s,o,et){(function(tt){const nt=et(51),rt=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;s.exports=function(it,ot,st,at){let lt,ct,ut=!1,dt=!1;const ht=et(93);function pt(yt){at(ot,yt)}function gt(yt,mt){let Ft=`"${ot}" ${mt}`;throw yt&&(Ft=""+Ft),ct&&(Ft=`${Ft}. An example of a valid value would be: ${ct}`),new nt(Ft)}const ft={convertFromBase64:function(){return pt("marking for base64 conversion"),ut=!0,ft},default:function(yt){if(typeof yt=="number")lt=yt.toString();else if(Array.isArray(yt)||typeof yt=="object"&&yt!==null)lt=JSON.stringify(yt);else{if(typeof yt!="string")throw new nt("values passed to default() must be of Number, String, Array, or Object type");lt=yt}return pt(`setting default value to "${lt}"`),ft},required:function(yt){return yt===void 0?(pt("marked as required"),dt=!0):(pt("setting required flag to "+yt),dt=yt),ft},example:function(yt){return ct=yt,ft}};return Object.entries({...ht,...st}).forEach(([yt,mt])=>{ft[yt]=function(Ft){return function(){let vt=it[ot];if(pt(`will be read from the environment using "${Ft.name}" accessor`),vt===void 0)if(lt===void 0&&dt)pt("was not found in the environment, but is required to be set"),gt(void 0,"is a required variable, but it was not set");else{if(lt===void 0)return void pt("was not found in the environment, but is not required. returning undefined");pt(`was not found in the environment, parsing default value "${lt}" instead`),vt=lt}dt&&(pt("verifying variable value is not an empty string"),vt.trim().length===0&&gt(void 0,"is a required variable, but its value was empty")),ut&&(pt("verifying variable is a valid base64 string"),vt.match(rt)||gt(vt,"should be a valid base64 string if using convertFromBase64"),pt("converting from base64 to utf8 string"),vt=tt.from(vt,"base64").toString());const Et=[vt].concat(Array.prototype.slice.call(arguments));try{pt(`passing value "${vt}" to "${Ft.name}" accessor`);const wt=Ft.apply(Ft,Et);return pt("parsed successfully, returning "+wt),wt}catch(wt){gt(vt,wt.message)}}}(mt)}),ft}}).call(this,et(5).Buffer)},function(s,o,et){const tt=et(34);s.exports=function(nt,rt){return rt=rt||",",nt.length?tt(nt).split(rt).filter(Boolean):[]}},function(s,o,et){s.exports=function(tt){const nt=tt.toLowerCase();if(nt!=="false"&&nt!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return nt!=="false"}},function(s,o,et){s.exports=function(tt){const nt=tt.toLowerCase();if(["false","0","true","1"].indexOf(nt)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!(nt==="0"||nt==="false")}},function(s,o,et){const tt=et(94);s.exports=function(nt){var rt=tt(nt);if(rt>65535)throw new Error("cannot assign a port number greater than 65535");return rt}},function(s,o,et){const tt=et(34);s.exports=function(nt,rt){const it=tt(nt);if(rt.indexOf(it)<0)throw new Error(`should be one of [${rt.join(", ")}]`);return it}},function(s,o,et){const tt=et(53);s.exports=function(nt){const rt=tt(nt);if(rt>0)throw new Error("should be a negative float");return rt}},function(s,o,et){const tt=et(53);s.exports=function(nt){const rt=tt(nt);if(rt<0)throw new Error("should be a positive float");return rt}},function(s,o,et){const tt=et(52);s.exports=function(nt){const rt=tt(nt);if(rt>0)throw new Error("should be a negative integer");return rt}},function(s,o,et){const tt=et(54);s.exports=function(nt){var rt=tt(nt);if(!Array.isArray(rt))throw new Error("should be a parseable JSON Array");return rt}},function(s,o,et){const tt=et(54);s.exports=function(nt){var rt=tt(nt);if(Array.isArray(rt))throw new Error("should be a parseable JSON Object");return rt}},function(s,o,et){s.exports=function(tt,nt){try{RegExp(void 0,nt)}catch{throw new Error("invalid regexp flags")}try{return new RegExp(tt,nt)}catch{throw new Error("should be a valid regexp")}}},function(s,o,et){const tt=et(95);s.exports=function(nt){return tt(nt).toString()}},function(s,o,et){const tt=et(34),nt=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021\u0023-\u005b\u005d-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021-\u005a\u0053-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])+)\])$/;s.exports=function(rt){const it=tt(rt);if(!nt.test(it))throw new Error("should be a valid email address");return it}},function(s,o,et){s.exports=function(tt,nt){return function(rt,it){nt&&nt.match(/prod|production/)||tt(`env-var (${rt}): ${it}`)}}},function(s,o,et){(function(tt){(function(){var nt,rt,it,ot,st,at;typeof performance<"u"&&performance!==null&&performance.now?s.exports=function(){return performance.now()}:tt!=null&&tt.hrtime?(s.exports=function(){return(nt()-st)/1e6},rt=tt.hrtime,ot=(nt=function(){var lt;return 1e9*(lt=rt())[0]+lt[1]})(),at=1e9*tt.uptime(),st=ot-at):Date.now?(s.exports=function(){return Date.now()-it},it=Date.now()):(s.exports=function(){return new Date().getTime()-it},it=new Date().getTime())}).call(this)}).call(this,et(2))},function(s,o,et){(function(tt){(function(nt){function rt(ot){if((ot=ot===void 0?"utf-8":ot)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+ot+"') is invalid.")}function it(ot,st){if(st=st===void 0?{fatal:!1}:st,(ot=ot===void 0?"utf-8":ot)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+ot+"') is invalid.");if(st.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(nt.TextEncoder&&nt.TextDecoder)return!1;Object.defineProperty(rt.prototype,"encoding",{value:"utf-8"}),rt.prototype.encode=function(ot,st){if((st=st===void 0?{stream:!1}:st).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");st=0;for(var at=ot.length,lt=0,ct=Math.max(32,at+(at>>1)+7),ut=new Uint8Array(ct>>3<<3);st<at;){var dt=ot.charCodeAt(st++);if(55296<=dt&&56319>=dt){if(st<at){var ht=ot.charCodeAt(st);(64512&ht)==56320&&(++st,dt=((1023&dt)<<10)+(1023&ht)+65536)}if(55296<=dt&&56319>=dt)continue}if(lt+4>ut.length&&(ct+=8,ct=(ct*=1+st/ot.length*2)>>3<<3,(ht=new Uint8Array(ct)).set(ut),ut=ht),(4294967168&dt)==0)ut[lt++]=dt;else{if(!(4294965248&dt))ut[lt++]=dt>>6&31|192;else if(!(4294901760&dt))ut[lt++]=dt>>12&15|224,ut[lt++]=dt>>6&63|128;else{if(4292870144&dt)continue;ut[lt++]=dt>>18&7|240,ut[lt++]=dt>>12&63|128,ut[lt++]=dt>>6&63|128}ut[lt++]=63&dt|128}}return ut.slice(0,lt)},Object.defineProperty(it.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(it.prototype,"fatal",{value:!1}),Object.defineProperty(it.prototype,"ignoreBOM",{value:!1}),it.prototype.decode=function(ot,st){if((st=st===void 0?{stream:!1}:st).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");st=0;for(var at=(ot=new Uint8Array(ot)).length,lt=[];st<at;){var ct=ot[st++];if(ct===0)break;if(!(128&ct))lt.push(ct);else if((224&ct)==192){var ut=63&ot[st++];lt.push((31&ct)<<6|ut)}else if((240&ct)==224){ut=63&ot[st++];var dt=63&ot[st++];lt.push((31&ct)<<12|ut<<6|dt)}else(248&ct)==240&&(65535<(ct=(7&ct)<<18|(ut=63&ot[st++])<<12|(dt=63&ot[st++])<<6|63&ot[st++])&&(ct-=65536,lt.push(ct>>>10&1023|55296),ct=56320|1023&ct),lt.push(ct))}return String.fromCharCode.apply(null,lt)},nt.TextEncoder=rt,nt.TextDecoder=it})(typeof window<"u"?window:tt!==void 0?tt:this)}).call(this,et(6))},function(s,o,et){et.r(o),et.d(o,"AuthClient",function(){return rt}),et.d(o,"RtcSignalingClient",function(){return ot}),et.d(o,"Credentials",function(){return Ct}),et.d(o,"SignalingPromiseClient",function(){return Mt.SignalingPromiseClient}),et.d(o,"RtcClient",function(){return Br}),et.d(o,"RtcClientV1",function(){return So}),et.d(o,"createRtcStreamMessage",function(){return ir});var tt=et(26),nt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class rt extends tt.a{adminSignup(nn,on){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:on,method:"POST",body:nn})})}login(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:nn,allowUnsafeRetries:!0})})}loginWithGoogleToken(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:nn,allowUnsafeRetries:!0})})}refresh(nn,on){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:{refreshToken:nn,tokenExpirationSeconds:on},allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:nn})})}forgotPassword(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:{email:nn}})})}confirmForgotPassword(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:nn})})}resendInvitation(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:{email:nn}})})}changePassword({token:nn,refreshToken:on,currentPassword:gn,newPassword:Qn}){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:nn,method:"POST",body:{refreshToken:on,currentPassword:gn,newPassword:Qn}})})}getDeviceCredentials(nn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:nn,method:"POST",allowUnsafeRetries:!0})})}impersonate(nn,on){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:nn,method:"POST",allowUnsafeRetries:!0,body:{userId:on}})})}createServiceAccount(nn,on,gn,Qn){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:nn,method:"POST",allowUnsafeRetries:!0,body:{name:on,roleId:gn,tags:Qn}})})}getFeatures(nn){return nt(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:nn})).features})}checkSso(nn,on){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/check-sso",{method:"POST",body:{email:nn,allowUserAutoCreation:on}})})}loginWithSso(nn,on){return nt(this,void 0,void 0,function*(){return yield this.fetch("auth/login-sso",{method:"POST",body:{token:nn,refreshToken:on}})})}}var it=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class ot extends tt.a{createPeer(nn,on){return it(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:nn,method:"POST",body:on})})}getPeers(nn){return it(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:nn})).items})}refreshPeer(nn,on){return it(this,void 0,void 0,function*(){yield this.fetch(`peers/${on}/refresh`,{token:nn,method:"POST",allowUnsafeRetries:!0})})}createSession(nn,on){return it(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:nn,method:"POST",body:on})})}refreshSession(nn,on){return it(this,void 0,void 0,function*(){yield this.fetch(`sessions/${on}/refresh`,{token:nn,method:"POST",allowUnsafeRetries:!0})})}deleteSession(nn,on){return it(this,void 0,void 0,function*(){yield this.fetch("sessions/"+on,{token:nn,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(nn){return it(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:nn})).items})}getIceServers(nn){return it(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:nn})).items})}addSignals(nn,on,gn){return it(this,void 0,void 0,function*(){yield this.fetch(`sessions/${on}/add-signals`,{token:nn,method:"POST",body:gn})})}takeSignals(nn,on){return it(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${on}/take-signals`,{token:nn,method:"POST"})).items})}}var st=et(1),at=et(9),lt=et(15),ct=et.n(lt),ut=et(101),dt=et.n(ut),ht=et(3),pt=et(0),gt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class ft extends class{constructor(nn,on){this.type=nn,this.name=on}}{constructor(nn){super("simple","LogReporter"),this.message=nn}send(nn){return gt(this,void 0,void 0,function*(){var on,gn;pt.a.debug(this.message,(on=nn.reduce((Qn,Nn)=>Object.assign(Object.assign({},Qn),{[Nn.name]:Nn.stat}),{}),gn=Qn=>{const{sum:Nn,count:In}=Qn,$n=Nn/In;return Object.assign(Object.assign({},Qn),{average:$n})},Object.keys(on).reduce((Qn,Nn)=>Object.assign(Object.assign({},Qn),{[Nn]:gn(on[Nn])}),{})))})}}const yt=/^[a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/,mt=/^[*a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/;function Ft(Kn,nn=!1){return!!(Kn!=null&&Kn.match(nn?mt:yt))}var vt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};function Et({func:Kn,delay:nn,immediate:on=!1}){let gn=!1,Qn=setTimeout(function In(){return vt(this,void 0,void 0,function*(){if(gn)return;const $n=new Date().getTime();try{Nn=Kn(),yield Nn}finally{if(!gn){const Xn=new Date().getTime();Qn=setTimeout(In,Math.max(nn-(Xn-$n),0))}}})},on?0:nn),Nn=Promise.resolve();return{stop(){return vt(this,void 0,void 0,function*(){gn=!0,clearTimeout(Qn),yield Nn})}}}var wt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};const It=et(231);class St{constructor(nn){this.buffer={},this.reporters=[],this.flushInterval=Et({func:()=>this.flushStats(),delay:St.samplePeriodMs}),this.tags=this.filterTags(nn?.tags||{app:ht.a,version:ht.k,namespace:ht.j})}shutdown(){return wt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(at.a)(2*st.a.second)})}aggregate(nn,on,gn){this.addToBuffer(this.buffer,this.encodeKey({metric:nn,tags:this.filterTags(gn||{})}),typeof on=="number"?{min:on,max:on,sum:on,count:1}:on)}increment(nn,on){this.aggregate(nn,1,on)}timer(nn,on,gn){return wt(this,void 0,void 0,function*(){const Qn=It(),Nn=yield on(),In=It();return this.aggregate(nn,In-Qn,gn),Nn})}registerStatsReporter(nn){this.reporters.push(nn)}setTag(nn,on){const gn=this.filterTags({[nn]:on});this.tags=Object.assign(Object.assign({},this.tags),gn)}addToBuffer(nn,on,gn){if(nn[on]){const{min:Qn,max:Nn,sum:In,count:$n}=nn[on];nn[on]={min:Math.min(Qn,gn.min),max:Math.max(Nn,gn.max),sum:In+gn.sum,count:$n+gn.count}}else nn[on]=gn}write(nn){return wt(this,void 0,void 0,function*(){yield Promise.all(this.reporters.map(on=>wt(this,void 0,void 0,function*(){let gn;const Qn={};switch(on.type){case"simple":for(const[In,$n]of Object.entries(nn)){const{metric:Xn}=this.decodeKey(In);this.addToBuffer(Qn,this.encodeKey({metric:Xn}),$n)}gn=Qn;break;case"tagged":gn=nn;break;default:(function(In){throw new Error(`Unreachable type encountered (${In})`)})(on.type)}const Nn=Object.entries(gn);if(Nn.length>0)return on.send(Nn.map(([In,$n])=>{const{metric:Xn,tags:On}=this.decodeKey(In);return{name:Xn,tags:Object.assign(Object.assign({},On),this.tags),stat:$n}}),St.samplePeriodMs).catch(In=>{pt.a.debug("Failed to write stats to "+on.name,{error:In})})})))})}flushStats(){return wt(this,void 0,void 0,function*(){yield this.write(this.buffer),this.buffer={}})}encodeKey(nn){return ct()(Object.assign(Object.assign({},nn),Object.keys(nn.tags||{}).length>0?{tags:nn.tags}:{}))}decodeKey(nn){return JSON.parse(nn)}filterTags(nn){return Object.entries(nn||{}).reduce((on,[gn,Qn])=>(Ft(gn)&&Ft(Qn)&&(on[gn]=Qn),on),{})}}St.samplePeriodMs=5*st.a.minute;const Rt=!!ht.d,Tt=new St;Rt||["local","on-prem"].includes(ht.j)||Tt.registerStatsReporter(new ft("stats"));var bt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class xt extends class{constructor(nn){this.options=nn,this.cache=new dt.a(Object.assign(Object.assign(Object.assign({},nn.dispose||nn.disposeAfter?{ttlAutopurge:!0}:{}),nn),{dispose:(...on)=>{var gn;on[2]==="evict"&&Tt.increment("lru-eviction",{name:nn.name}),(gn=nn.dispose)===null||gn===void 0||gn.call(nn,...on)},disposeAfter:(...on)=>{var gn;this.updateStats(),(gn=nn.disposeAfter)===null||gn===void 0||gn.call(nn,...on)}})),this.stringify=nn.fastStringify?JSON.stringify:ct.a}set(nn,on,gn){const Qn=this.stringify(nn);if(!this.cache.set(Qn,on,{ttl:gn})){const Nn=this.cache.sizeCalculation?this.cache.sizeCalculation(on,Qn):"unknown";throw Error(`Value too large (${Nn} > ${this.cache.max})`)}this.updateStats()}get(nn){const{name:on}=this.options,gn=this.stringify(nn),Qn=this.cache.getRemainingTTL(gn);return Qn<=0?Tt.increment("cache-miss",{name:on}):Qn!==1/0&&Tt.aggregate("cache-item-ttl",Qn,{name:on}),this.cache.get(gn)}delete(nn){this.cache.delete(this.stringify(nn))}peek(nn){return this.cache.peek(this.stringify(nn))}size(){return this.cache.size}clear(){this.cache.clear()}forEach(nn){this.cache.forEach(nn)}purgeStale(){return this.cache.purgeStale()}updateStats(){const{name:nn}=this.options;Tt.aggregate("cache-item-count",this.cache.size,{name:nn}),this.cache.calculatedSize!==void 0&&Tt.aggregate("cache-length",this.cache.calculatedSize,{name:nn})}}{constructor(nn){if(super(nn),this.expireRejectedPromiseValues=nn.expireRejectedPromiseValues===void 0||nn.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=nn.rejectedPromiseValueTtl!==void 0?nn.rejectedPromiseValueTtl:st.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(nn,on,gn){super.set(nn,on,gn),this.expireRejectedPromiseValues&&on.catch(()=>bt(this,void 0,void 0,function*(){yield Object(at.a)(this.rejectedPromiseValueTtl),this.peek(nn)===on&&this.delete(nn)}))}}var Bt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class Ct{constructor(nn,on,gn){this.authClient=nn,this.email=on,this.password=gn,this.tokenTtlMs=1*st.a.hour,this.tokenCache=new xt({name:"Credentials-tokenCache",max:100,ttl:this.tokenTtlMs-5*st.a.minute,fastStringify:!0})}getToken(){return Bt(this,void 0,void 0,function*(){let nn=this.tokenCache.get(this.email);return nn||(nn=(()=>Bt(this,void 0,void 0,function*(){const{authentication:on}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/st.a.second});if(!on)throw new Error("User account not verified.");return on.accessToken}))(),this.tokenCache.set(this.email,nn)),nn})}}var Mt=et(96),Nt=et(17),At=et(236),Ot=et(41),Vt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class Wt extends Ot.a{constructor(nn){super(nn)}postLanRtcOffer(nn){return Vt(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:nn})})}}var Jt=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};function qt(Kn){return Jt(this,void 0,void 0,function*(){return(yield Promise.all(Kn.map(nn=>nn.catch(on=>on)))).filter(nn=>nn instanceof Error)})}function Ht(Kn,nn){if(Kn===void 0)throw new Error("Value is undefined"+(nn?": "+nn:""))}function Xt(Kn,nn){if(Kn===null)throw new Error("Value is null"+(nn?": "+nn:""))}function Lt(Kn){return Ht(Kn),Kn}function Pt(Kn,nn){const on=Kn.reduce((gn,Qn)=>[...gn,...Qn.urls],[]).filter(gn=>kt(gn,nn)).sort(gn=>zt(gn,"udp")?-1:0).shift();if(on)return Object.assign(Object.assign({},Lt(Kn.find(gn=>gn.urls.includes(on)))),{urls:[on]})}function kt(Kn,nn){switch(nn){case"stun":return/^stuns?:/.test(Kn);case"turn":return/^turns?:/.test(Kn)}}function zt(Kn,nn){return Kn.endsWith("transport="+nn)}var tn=et(10);class Gt extends Error{constructor(nn,on){super(`Deadline expired after ${nn}ms + ${on}ms`)}}class en{static withDeadline(nn,on){const gn=new Promise((Qn,Nn)=>{setTimeout(()=>{Nn(new Gt(on,this.grpcCallDeadlineSlopMs))},on+this.grpcCallDeadlineSlopMs)});return Promise.race([nn,gn])}}en.grpcCallDeadlineSlopMs=500*st.a.millisecond;var cn=et(27);const Zt={ordered:!1,maxPacketLifeTime:300*st.a.millisecond},dn={ordered:!0},Fn={ordered:!0},pn={ordered:!1,maxRetransmits:0},un={ordered:!1,maxRetransmits:0},bn=Kn=>"received"in Kn&&Kn.received!==void 0,an=Kn=>!("received"in Kn)||Kn.received===void 0,rn=2*st.a.second,mn=10*st.a.second;function xn(Kn,nn={}){const on=Array.from(Kn.values()),gn=on.filter(bn),Qn=gn.length>0,Nn=Math.max(...on.map(Dn=>Dn.sent)),In=Math.max(...gn.map(Dn=>Dn.received));let $n;if(Qn){const Dn=Date.now()-Nn<=st.a.millisecond?on.length-1:on.length,_r=gn.length>Dn?Dn:gn.length,Gr=gn.map(dr=>dr.received-dr.sent),{standardDeviation:Un,mean:Vn,jitter:jn}=function(dr){const pr=dr.length;if(pr===0)return{mean:NaN,standardDeviation:-1,jitter:NaN};const mr=dr.reduce((Qr,Yr)=>Qr+Yr,0)/pr,Cr=Math.sqrt(dr.map(Qr=>Math.pow(Qr-mr,2)).reduce((Qr,Yr)=>Qr+Yr)/pr);if(pr===1)return{mean:mr,standardDeviation:Cr,jitter:NaN};let Dr=0;for(let Qr=1;Qr<pr;Qr++)Dr+=Math.abs(dr[Qr]-dr[Qr-1]);return{mean:mr,standardDeviation:Cr,jitter:Dr/(pr-1)}}(Gr),Zn=on.filter(dr=>dr.sent<In-rn),Ln=Zn.filter(an),cr=Ln.length===0?0:Ln.length/Zn.length;$n={pingsSent:Dn,pongsReceived:_r,average:Vn,standardDeviation:Un,jitter:jn,max:Math.max(...Gr),min:Math.min(...Gr),loss:cr}}else $n=null;const{temporalNow:Xn=Date.now()}=nn,On=(Qn?In:Xn)-mn;return Array.from(Kn.entries()).forEach(Dn=>{const[_r,Gr]=Dn;Gr.sent<On&&Kn.delete(_r)}),$n}function wn({entityId:Kn,streamName:nn,streamType:on}){return`${Kn}.${nn}.${on}`}var Mn=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class or{constructor(nn,on){this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=nn,this.connection=on}updateRemoteMessagesCounts(nn){if(nn.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const on of nn.payload.streamsInfo.items)this.counts.remoteSent.set(on.streamId,on.sentCount),this.counts.remoteReceived.set(on.streamId,on.receivedCount)}}getLocalStreamsInfo(nn){const{localSent:on,localReceived:gn}=this.counts;return{items:[...new Set([...on.keys(),...gn.keys()])].map(Qn=>{var Nn,In;return{streamId:Qn,sentCount:(Nn=on.get(Qn))!==null&&Nn!==void 0?Nn:0,receivedCount:(In=gn.get(Qn))!==null&&In!==void 0?In:0}}),timestamp:nn}}incrementLocalSent(nn){const{localSent:on}=this.counts,gn=wn(nn.header.stream);on.set(gn,(on.get(gn)||0)+1)}incrementLocalReceived(nn){const{localReceived:on}=this.counts,gn=wn(nn.header.stream),Qn=on.get(gn)||0;if(Qn===0){const{streamName:Nn,streamType:In}=nn.header.stream;pt.a.debug("RTC client received first message for stream",{streamName:Nn,streamType:In})}on.set(gn,Qn+1)}uploadMetrics(){return Mn(this,void 0,void 0,function*(){const{sessionId:nn}=this,on=yield this.connection.peerConnection.getStats(),gn={};on.forEach(On=>gn[On.id]=On),pt.a.debug("rtc-stats",Object.assign(Object.assign({},gn),{sessionId:nn}));const{localSent:Qn,localReceived:Nn,remoteSent:In,remoteReceived:$n}=this.counts,Xn=[...new Set([...Qn.keys(),...Nn.keys()])].reduce((On,Dn)=>{const _r=Qn.get(Dn),Gr=Nn.get(Dn),Un=In.get(Dn),Vn=$n.get(Dn);return Object.assign(Object.assign({},On),{[`local-${Dn}-sent`]:_r,[`local-${Dn}-received`]:Gr,[`remote-${Dn}-sent`]:Un,[`remote-${Dn}-received`]:Vn})},{sessionId:nn});pt.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},Xn))})}}function ir(Kn,nn,on){return{header:{stream:Kn,created:Date.now(),frameId:on||""},payload:nn}}function nr(Kn){const nn=Kn.localCandidate.candidateType,on=Kn.remoteCandidate.candidateType;return nn==="host"&&on==="host"?"local":nn==="relay"||on==="relay"?"TURN":"STUN"}function Ar(Kn){return new Set(["disconnected","failed","closed"]).has(Kn.iceConnectionState)}function ur(Kn){switch(Kn.header.stream.streamType){case"twist":{const{twist:nn}=Kn.payload;if(!nn)throw Error("twist not in payload of RTC message with type twist");return{header:Kn.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},nn.linear),angular:Object.assign({x:0,y:0,z:0},nn.angular)}}}}case"pose":{const{pose:nn}=Kn.payload;if(!nn)throw Error("pose not in payload of RTC message with type pose");return{header:Kn.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},nn.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},nn.rotation)}}}}case"pose-with-covariance":{const{poseWithCovariance:nn}=Kn.payload;if(!nn)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const on=new Array(36).fill(0);return nn.covariance.forEach((gn,Qn)=>{if(Qn>=36)throw Error("covariance contains more than 36 elements");on[Qn]=gn}),{header:Kn.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},nn.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},nn.pose.rotation)},covariance:on}}}}case"point":{const{point:nn}=Kn.payload;if(!nn)throw Error("point not in payload of RTC message with type point");return{header:Kn.header,payload:{point:Object.assign({x:0,y:0,z:0},nn)}}}default:return Kn}}var Fr=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class $r{get peerConnection(){return Xt(this._peerConnection,"RTCPeerConnection is closed!"),this._peerConnection}constructor(nn,on,gn,Qn){this.iceServers=on,this.config=gn,this.dataChannelNotifier=Qn,this.connectTimeoutMs=20*st.a.second,this.iceGatheringTimeoutMs=3*st.a.second,this.pingUpdateTimeoutMs=1*st.a.second,this.pingV2UpdateTimeoutMs=250*st.a.millisecond,this.pingV2MetricsGatherTimeoutMs=1*st.a.second,this.streamsInfoUpdateTimeoutMs=2*st.a.second,this.reassemblyTimeoutMs=500*st.a.millisecond,this.reassemblyTableCleanupMs=1*st.a.second,this.heartbeatTimeoutMs=20*st.a.millisecond,this._peerConnection=null,this.heartbeatChannel=null,this.latestTtlStreamChannel=null,this.reliableStreamChannel=null,this.latestReliableStreamChannel=null,this.latestTryOnceStreamChannel=null,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1,this.pingV2Map=new Map,this.sendPingV2=()=>{const{latestTryOnceStreamChannel:In}=this;if(!In)return;const $n=new Date().getTime(),Xn=Object(At.a)();this.sendSystemMessage(In,{type:"ping-v2",payload:{timestamp:$n,id:Xn}}),this.pingV2Map.set(Xn,{sent:$n})},this.gatherPingV2Metrics=()=>{const In=xn(this.pingV2Map);if(In){const $n=this.getRemoteDeviceId();this.pingInfo=In,Tt.aggregate("rtc-ping-average",In.average,Object.assign({},$n?{deviceId:$n}:{})),Tt.aggregate("rtc-ping-loss",In.loss,Object.assign({},$n?{deviceId:$n}:{})),Tt.aggregate("rtc-jitter",In.jitter,Object.assign({},$n?{deviceId:$n}:{}))}},this._peerConnection=nn;const{isOffer:Nn}=gn.baseConfig;Nn?this.initializeChannels(nn):nn.ondatachannel=In=>{switch(In.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=In.channel;break;case"stream.reliable":this.reliableStreamChannel=In.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=In.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=In.channel;break;case"heartbeat":return void(this.heartbeatChannel=In.channel);default:return void this.dataChannelNotifier(In.channel)}this.setupChannel(In.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:In}=this;In&&this.sendSystemMessage(In,{type:"ping"})},this.pingUpdateTimeoutMs),this.pingV2UpdateTimeout=setInterval(this.sendPingV2,this.pingV2UpdateTimeoutMs),this.pingV2MetricsGatherTimeout=setInterval(this.gatherPingV2Metrics,this.pingV2MetricsGatherTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:In}=this;In&&this.sendSystemMessage(In,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const In=new Date().getTime();this.reassemblyTableLastTimestamp.forEach(($n,Xn,On)=>{In>Xn+this.reassemblyTimeoutMs&&this.reassemblyTable.delete($n)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:In}=this;In&&In.readyState==="open"&&In.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(nn){return Fr(this,void 0,void 0,function*(){const{peerConnection:on}=this,{track:gn}=this.config.baseConfig,Qn=(()=>{try{return JSON.parse(nn.getPayload())}catch{return}})();if(!Qn)return void pt.a.error("Received unparseable signal.");pt.a.debug("Handling signal",{description:Qn});const{sdp:Nn,type:In}=Qn;if(!Nn||!In)return void pt.a.warn("Received non-SDP signal");const{signalingState:$n,connectionState:Xn}=on;if($n!=="stable"||Xn!=="connected")if(on.remoteDescription)pt.a.warn("Received SDP after remote description was set: "+Nn);else{if(In==="offer"){if($n!=="stable")return void pt.a.warn("Received offer SDP when signaling is ongoing.");yield on.setRemoteDescription(Qn);const On=yield on.createAnswer();yield on.setLocalDescription(On);const Dn=nn.clone();return gn?.("Answer Received",Dn),Dn.setPayload(JSON.stringify(On)),Dn.setReceiverId(nn.getSenderId()),Dn.setSenderId(nn.getReceiverId()),Dn}if(In==="answer"){if($n==="stable")return void pt.a.warn("Received answer SDP when signaling hasn't started.");yield on.setRemoteDescription(Qn)}}else pt.a.warn("Received SDP when already connected: "+Nn)})}send(nn,on){const gn=this.getChannelFromLabel(on.channelLabel);gn?this.sendOnChannel(gn,nn):pt.a.warn("Send called with unexpected channel label",{channelLabel:on.channelLabel})}controlRemoteStream(nn){var on;this.sendSystemMessage((Xt(on=this.reliableStreamChannel),on),{type:"stream-control",streamControl:nn})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:nn,latestTtlStreamChannel:on,latestTryOnceStreamChannel:gn,latestReliableStreamChannel:Qn}=this;return nn?.readyState==="open"&&on?.readyState==="open"&&gn?.readyState==="open"&&Qn?.readyState==="open"}close(){var nn,on,gn,Qn,Nn,In,$n;return Fr(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield(nn=this.sessionMetrics)===null||nn===void 0?void 0:nn.uploadMetrics(),Sr(this.pingUpdateTimeout),Sr(this.pingV2UpdateTimeout),Sr(this.pingV2MetricsGatherTimeout),Sr(this.reassemblyTableCleanupTimeout),Sr(this.streamsInfoUpdateTimeout),Sr(this.heartbeatTimeout),(on=this._peerConnection)===null||on===void 0||on.close(),(gn=this.heartbeatChannel)===null||gn===void 0||gn.close(),(Qn=this.latestReliableStreamChannel)===null||Qn===void 0||Qn.close(),(Nn=this.latestTryOnceStreamChannel)===null||Nn===void 0||Nn.close(),(In=this.latestTtlStreamChannel)===null||In===void 0||In.close(),($n=this.reliableStreamChannel)===null||$n===void 0||$n.close(),this._peerConnection=null,this.heartbeatChannel=null,this.latestReliableStreamChannel=null,this.latestTryOnceStreamChannel=null,this.latestTtlStreamChannel=null,this.reliableStreamChannel=null)})}getPing(){return this.pingTimeMs}getPingInfo(){return this.pingInfo}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var nn;return(nn=this.config.remoteConfig)===null||nn===void 0?void 0:nn.sessionCreatedTimestamp}setSessionCreatedTimestamp(nn){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=nn)}getSessionId(){var nn;return(nn=this.config.remoteConfig)===null||nn===void 0?void 0:nn.sessionId}setSessionId(nn){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=nn,this.sessionMetrics=new or(nn,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var nn;return(nn=this.config.baseConfig)===null||nn===void 0?void 0:nn.remoteDeviceId}setRemoteDeviceId(nn){this.config.baseConfig.remoteDeviceId=nn}getSessionMetricsMessageCounts(){var nn;return(nn=this.sessionMetrics)===null||nn===void 0?void 0:nn.counts}getConnectionStatsInfo(){return Fr(this,void 0,void 0,function*(){const{peerConnection:nn}=this;if(!nn)return;const on=yield nn.getStats(null),gn=[];on.forEach(Xn=>{gn.push(Xn)});const Qn=gn.find(Xn=>Xn.type==="transport");if(!Qn)return;const Nn=gn.find(Xn=>(Xn.type==="candidate-pair"||Xn.type==="candidatepair")&&Xn.id===Qn.selectedCandidatePairId);if(!Nn)return;const In=gn.find(Xn=>Xn.id===Nn.localCandidateId),$n=gn.find(Xn=>Xn.id===Nn.remoteCandidateId);return In&&$n&&(In.address=In.address||In.ip,$n.address=$n.address||$n.ip,In.address!==void 0&&$n.address!==void 0)?{transport:Qn,localCandidate:In,remoteCandidate:$n,candidatePair:Nn}:void 0})}initializeChannels(nn){this.heartbeatChannel=nn.createDataChannel("heartbeat",un),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=nn.createDataChannel("stream.latest-ttl",Zt),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=nn.createDataChannel("stream.reliable",dn),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=nn.createDataChannel("stream.latest-reliable",Fn),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=nn.createDataChannel("stream.latest-try-once",pn),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var nn,on;return Fr(this,void 0,void 0,function*(){const{gotOffer:gn}=this,{peerConnection:Qn,config:Nn}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const In=(nn=this.config.remoteConfig)===null||nn===void 0?void 0:nn.sessionId;if(gn)return void pt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Ar(this.peerConnection))return void pt.a.debug("Failed to generate offer because the peer connection was inactive.");const $n=Nn.baseConfig.track;Qn.onicecandidate=()=>{this.hasIceCandidate=!0},Qn.oniceconnectionstatechange=()=>Fr(this,void 0,void 0,function*(){const Un=Qn.iceConnectionState;if(Un==="connected"||Un==="completed"){const Vn=yield this.getConnectionStatsInfo(),jn=Vn?nr(Vn):void 0;pt.a.info("ICE connection state changed to "+Un,{sessionId:In,connectionStatsInfo:Vn,iceMode:jn}),$n?.("ICE connection state change",{iceConnectionState:Un,sessionId:In,connectionStatsInfo:Vn,iceMode:jn})}}),yield Qn.setLocalDescription(yield Qn.createOffer());const Xn=Qn.getConfiguration?Qn.getConfiguration().iceTransportPolicy:"all",On=new Date().getTime();for(;;){const Un=new Date().getTime()-On;if(Un>this.connectTimeoutMs)return void pt.a.debug("Failed to generate offer because ICE gathering timed out.");if(Un>this.iceGatheringTimeoutMs&&this.hasIceCandidate){pt.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:Xn,waitTime:Un}),$n?.("ICE gathering partially completed",{sessionId:In,iceTransportPolicy:Xn,waitTime:Un});break}if(Qn.iceGatheringState==="complete"){pt.a.debug("ICE gathering complete",{iceTransportPolicy:Xn,waitTime:Un}),$n?.("ICE gathering completed",{sessionId:In,iceTransportPolicy:Xn,waitTime:Un});break}yield Object(at.a)(.1*st.a.second)}const Dn=(on=this.iceServers)!==null&&on!==void 0?on:[];for(const Un of Dn)"credentialType"in Un&&(Un.credentialType=void 0);const _r=JSON.stringify(Dn),Gr=new tn.Signal;return Gr.setPayload(JSON.stringify(Qn.localDescription)),Gr.setSenderId(this.config.baseConfig.localPeerId),Gr.setReceiverId(this.config.baseConfig.remotePeerId),Gr.setIceServers(_r),Gr.setIceTransportPolicy(Xn??"all"),this.config.baseConfig.sessionType!==void 0?Gr.setSessionType(this.config.baseConfig.sessionType):Gr.setSessionType(tn.SessionType.TELEOP),pt.a.debug("Sending offer signal with description",{description:Gr.getPayload()}),Gr})}getLanOffer(){return Fr(this,void 0,void 0,function*(){const{peerConnection:nn,gotOffer:on}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(on)return void pt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Ar(this.peerConnection))return void pt.a.debug("Failed to generate offer because the peer connection was inactive.");yield nn.setLocalDescription(yield nn.createOffer());const gn=new Date().getTime();for(;;){if(new Date().getTime()-gn>this.iceGatheringTimeoutMs)return void pt.a.debug("Failed to generate offer because ICE gathering timed out.");if(nn.iceGatheringState==="complete")break;yield Object(at.a)(.1*st.a.second)}const Qn=nn.localDescription;if(Qn)return pt.a.debug("Sending LAN offer signal with description",{description:Qn}),Qn;pt.a.error("Failed to generate LAN offer description")})}handleLanAnswer(nn){return Fr(this,void 0,void 0,function*(){const{peerConnection:on}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield on.setRemoteDescription(nn)})}getChannelFromLabel(nn){switch(nn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(nn,on){var gn;let Qn;try{Qn=Object(cn.encode)(JSON.stringify(on))}catch(Nn){return void pt.a.warn("Failed to encode RTC message",{error:Nn})}try{nn.send(Qn),(gn=this.sessionMetrics)===null||gn===void 0||gn.incrementLocalSent(on)}catch(Nn){pt.a.warn("Failed to send message to channel",{error:Nn,channel:nn.label})}}channelNotRecognized(nn){return nn!==this.latestTtlStreamChannel&&nn!==this.latestReliableStreamChannel&&nn!==this.latestTryOnceStreamChannel&&nn!==this.reliableStreamChannel}setupChannel(nn){nn.onmessage=on=>{if(this.channelNotRecognized(nn))return void pt.a.warn("Received message on unrecognized data channel.");let gn;try{gn=JSON.parse(Object(cn.decode)(on.data))}catch(Qn){return void pt.a.warn("Received unparseable message on RTC stream data channel",{error:Qn,channel:nn.label})}gn.communicationType==="message-chunk"?this.receiveChannelMessageChunk(nn,gn):this.receiveChannelMessage(nn,gn)},nn.onerror=on=>{pt.a.warn("Channel error: "+on.error,{error:on.error,sessionId:this.getSessionId(),channelLabel:nn.label})},nn.onopen=()=>{pt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:nn.label})},nn.onclose=()=>{const on={bufferedAmount:nn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:nn.label};this.closeCalled===!1?pt.a.debug("Unexpected channel closed",on):pt.a.debug("Channel closed",on)}}receiveChannelMessage(nn,on){var gn;const{config:Qn}=this,{remotePeerId:Nn}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),on=ur(on),(gn=this.sessionMetrics)===null||gn===void 0||gn.incrementLocalReceived(on),!this.handleSystemMessage(nn,on)&&((nn===this.latestTryOnceStreamChannel||nn===this.latestTtlStreamChannel||nn===this.latestReliableStreamChannel)&&!this.isLatestMessage(on)||Qn.baseConfig.receive(Nn,on))}receiveChannelMessageChunk(nn,on){const gn=this.reassemblyTable.get(on.id)||[];if(gn.push(on),gn.length===on.total){const Qn=function(Nn){const In=Nn.sort(($n,Xn)=>$n.seq<Xn.seq?-1:1).map($n=>$n.part).reduce(($n,Xn)=>$n+Xn);try{return JSON.parse(In)}catch{return void pt.a.warn("Could not reassemble RTC message chunks")}}(gn);return Qn&&this.receiveChannelMessage(nn,Qn),void this.reassemblyTable.delete(on.id)}this.reassemblyTable.set(on.id,gn),this.reassemblyTableLastTimestamp.set(on.id,new Date().getTime())}handleSystemMessage(nn,on){var gn,Qn;const{config:Nn}=this,{baseConfig:In}=Nn,{remotePeerId:$n,remoteDeviceId:Xn}=In;switch(on.header.stream.streamType){case"ping":return this.sendSystemMessage(nn,{type:"pong",timestamp:Lt(on.payload.ping)}),!0;case"pong":{const On=new Date().getTime()-Lt(on.payload.pong);return this.pingTimeMs=On,Tt.aggregate("rtc-ping-time",On,Object.assign({},Xn?{deviceId:Xn}:{})),!0}case"ping-v2":return this.sendPingV2(),!0;case"pong-v2":{const On=Lt(on.payload.pongV2),Dn=this.pingV2Map.get(On.id);return Dn?.sent!==On.timestamp&&pt.a.warn("Pong timestamp doesn't match stored value",{currentEntry:Dn,pong:On}),this.pingV2Map.set(On.id,{sent:On.timestamp,received:new Date().getTime()}),!0}case"streams-info":{const{sessionMetrics:On}=this,Dn=(gn=on.payload.streamsInfo)===null||gn===void 0?void 0:gn.timestamp;return!!Dn&&(On?.updateRemoteMessagesCounts(on),(Qn=In.onStreamsInfoUpdate)===null||Qn===void 0||Qn.call(In,$n,Dn),!0)}case"stream-control":return!0;default:return!1}}sendSystemMessage(nn,on){var gn;const{localUserId:Qn,localPeerId:Nn}=this.config.baseConfig;if(nn.readyState!=="open")return;const In={entityId:Qn??Nn,streamName:"$."+on.type,streamType:on.type};let $n;switch(on.type){case"ping":$n={ping:new Date().getTime()};break;case"pong":$n={pong:on.timestamp};break;case"ping-v2":$n={pingV2:on.payload};break;case"pong-v2":$n={pongV2:on.payload};break;case"stream-control":$n={streamControl:on.streamControl};break;case"streams-info":$n={streamsInfo:(gn=this.sessionMetrics)===null||gn===void 0?void 0:gn.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(nn,ir(In,$n))}isLatestMessage(nn){const on=wn(nn.header.stream),gn=(this.streamLatestTimestamp.get(on)||0)<=nn.header.created;return gn&&this.streamLatestTimestamp.set(on,nn.header.created),gn}}function Sr(Kn){Kn&&clearInterval(Kn)}function Ur(){pt.a.debug("forceGarbageCollection() triggered"),queueMicrotask(()=>{let Kn=document.createElement("img");Kn.src=window.URL.createObjectURL(new Blob([new ArrayBuffer(5e7)])),Kn.onerror=function(){window.URL.revokeObjectURL(this.src),Kn=null}})}function Xr(Kn){try{return Kn instanceof Error?`${Kn.name}: ${Kn.message}`:typeof Kn=="object"?JSON.stringify(Kn):String(Kn)}catch{return"Unknown error"}}function Wr(Kn){var nn,on;return{userId:(nn=Kn.getUserId())===null||nn===void 0?void 0:nn.getValue(),deviceId:(on=Kn.getDeviceId())===null||on===void 0?void 0:on.getValue(),organizationId:Kn.getOrganizationId(),id:Kn.getPeerId(),capabilities:[],capabilitySet:{}}}var Jr=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};const An=Kn=>Kn.map(nn=>Object.assign(Object.assign(Object.assign({},nn),nn.username?{username:"<REDACTED>"}:null),nn.credential?{credential:"<REDACTED>"}:null));class Br{constructor(nn){this.config=nn,this.grpcCallDeadline=5*st.a.second,this.refreshIntervalDelayMs=2*st.a.second,this.iceServersTtl=30*st.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new WeakSet,this.isOutgoingConnection=new Set,this.peerDataChannelListeners=[],this.rtcInstancesConstructed=0,this.statsLoopsExecuted=0;const{refreshIntervalDelayMs:on}=this;this.refreshInterval=Et({func:()=>Jr(this,void 0,void 0,function*(){try{yield this.update()}catch(gn){pt.a.warn("RTC refresh failed",{error:gn})}}),delay:on,immediate:!0})}send(nn,on,gn){const Qn=this.getActiveConnection(nn);Qn?Qn.isReady()?Qn.send(on,gn):pt.a.warn("Send called with unready connection."):pt.a.warn("Send called with no connection.")}controlRemoteStream(nn,on){const gn=this.getActiveConnection(nn);gn?gn.isReady()?gn.controlRemoteStream(on):pt.a.warn("controlRemoteStream called with unready connection."):pt.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return Jr(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(at.a)(.1*st.a.second);return Wr(this.localPeer)})}connect(nn,on){var gn,Qn,Nn;return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:In,signalingClient:$n}=this.config,{localPeer:Xn,receiveSignalStream:On,iceServers:Dn}=this;if(!Xn||!On||!Dn)return void pt.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(nn))return void pt.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.has(nn))return void pt.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.add(nn);const _r=function(cr,dr,pr){const{rtcIceTransportPolicies:mr,rtcIceServerProtocol:Cr,useAllServers:Dr}=dr||{},Qr=cr.map(Yr=>Object.assign(Object.assign({},Yr),{urls:Yr.urls.filter(mo=>{const yo=(mr===void 0||mr.some(bo=>kt(mo,bo)))&&(Cr===void 0||zt(mo,Cr));return yo||pt.a.debug("Ignoring ICE server: "+mo,{organizationId:pr}),yo})})).filter(({urls:Yr})=>Yr.filter(mo=>mo).length>0);return Dr?Qr:[Pt(Qr,"stun"),Pt(Qr,"turn")].filter(Yr=>Yr!==void 0).map(Yr=>Lt(Yr))}(Dn,on);pt.a.debug("Received ICE servers:",An(Dn)),pt.a.debug("Using ICE servers:",An(_r));const Gr=new $r(yield this.createRTCPeerConnection(_r),_r,{baseConfig:{isOffer:!0,isLan:!1,receive:(cr,dr)=>this.config.receive(cr,dr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(cr,dr)=>{var pr,mr;return(mr=(pr=this.config).onStreamsInfoUpdate)===null||mr===void 0?void 0:mr.call(pr,cr,dr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(gn=Xn.getUserId())===null||gn===void 0?void 0:gn.getValue(),localPeerId:Xn.getPeerId(),remotePeerId:nn,sessionType:this.config.sessionType},remoteConfig:{}},cr=>this.onCustomDataChannel(nn,cr)),Un=yield Gr.getOffer();if(!Un)return pt.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(nn);pt.a.debug("Sending offer."),In?.("Sending offer",Un);const Vn=new tn.SendSignalRequest;Vn.setSignal(Un);const jn=yield(()=>Jr(this,void 0,void 0,function*(){try{return yield en.withDeadline($n.sendSignal(Vn,yield this.getMetadata()),this.grpcCallDeadline)}catch(cr){pt.a.warn("Error when sending signal",{error:cr})}}))();if(!this.isOutgoingConnection.has(nn))return void pt.a.debug("No offer set after receiving offer signal response.");pt.a.debug("Offer sent.");const Zn=(Qn=jn?.getSessionId())===null||Qn===void 0?void 0:Qn.getValue(),Ln=(Nn=jn?.getSessionCreatedTimestamp())===null||Nn===void 0?void 0:Nn.getValue();return Zn&&Ln?(Gr.setSessionId(Zn),Gr.setSessionCreatedTimestamp(Ln),this.isOutgoingConnection.delete(nn),this.connections.push(Gr),this.isConnectionInitiator.add(Gr),this.setupHandlers(Gr),Zn):(pt.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(nn))})}connectLan(nn){var on,gn;return Jr(this,void 0,void 0,function*(){const Qn=new Wt(nn),Nn=new $r(yield this.createRTCPeerConnection([]),[],{baseConfig:{isOffer:!0,isLan:!0,receive:(On,Dn)=>this.config.receive(On,Dn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(On,Dn)=>{var _r,Gr;return(Gr=(_r=this.config).onStreamsInfoUpdate)===null||Gr===void 0?void 0:Gr.call(_r,On,Dn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(gn=(on=this.localPeer)===null||on===void 0?void 0:on.getUserId())===null||gn===void 0?void 0:gn.getValue(),localPeerId:"lan_client",remotePeerId:nn}},On=>this.onCustomDataChannel(nn,On)),In=yield Nn.getLanOffer();if(!In)return pt.a.warn("Could not generate LAN offer"),!1;const $n=yield Qn.postLanRtcOffer({offer:JSON.stringify(In)}),Xn=new RTCSessionDescription(JSON.parse($n.answer));return yield Nn.handleLanAnswer(Xn),this.localConnections.push(Nn),this.isConnectionInitiator.add(Nn),Object(At.a)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(nn,on,gn,Qn,Nn){const In=this.getActiveConnection(nn);if(In&&this.isConnectionInitiator.has(In)){const Xn=In.peerConnection.createDataChannel("custom."+on,gn);return Qn&&(Xn.binaryType="arraybuffer"),Nn(nn,Xn),()=>{}}const $n=(Xn,On)=>{nn===Xn&&On.label==="custom."+on&&Nn(nn,On)};return this.peerDataChannelListeners.push($n),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(Xn=>Xn!==$n)}}onCustomDataChannel(nn,on){this.peerDataChannelListeners.forEach(gn=>gn(nn,on))}getConnectionStatus(nn){if(this.isOutgoingConnection.has(nn))return"connecting";const on=this.getActiveConnection(nn);return on?on.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(nn){return Jr(this,void 0,void 0,function*(){const on=this.getActiveConnection(nn);if(on)return yield on.getConnectionStatsInfo()})}disconnect(nn){return Jr(this,void 0,void 0,function*(){const on=this.getActiveConnection(nn);on&&(yield on.close(),this.connections=this.connections.filter(gn=>gn!==on),this.localConnections=this.localConnections.filter(gn=>gn!==on))})}getPeers(){return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:nn}=this.config,on=yield(()=>Jr(this,void 0,void 0,function*(){try{return yield en.withDeadline(nn.getPeers(new tn.GetPeersRequest,yield this.getMetadata()),this.grpcCallDeadline)}catch(Nn){pt.a.warn("Error when getting peers",{error:Nn})}}))();if(!on)return[];const gn=on.getPeersList();if(!gn)return[];const Qn=Nn=>{var In,$n;return($n=(In=Nn.getPeerCreatedTimestamp())===null||In===void 0?void 0:In.getValue())!==null&&$n!==void 0?$n:0};return gn.sort((Nn,In)=>Qn(In)-Qn(Nn)).map(Nn=>Wr(Nn))})}getSessions(){return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:nn}=this.config,on=yield(()=>Jr(this,void 0,void 0,function*(){try{return yield en.withDeadline(nn.getPeers(new tn.GetPeersRequest,yield this.getMetadata()),this.grpcCallDeadline)}catch(Nn){pt.a.warn("Error when getting peers",{error:Nn})}}))();if(!on)return{};const gn=on.getPeersList(),Qn={};for(const Nn of gn)Qn[Nn.getPeerId()]=Nn.getSessionIdsList();return Qn})}getPing(nn){const on=this.getActiveConnection(nn);if(on)return on.getPing();pt.a.warn("Attempted to get ping time from inactive peer.")}getPingInfo(nn){const on=this.getActiveConnection(nn);if(on)return on.getPingInfo();pt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(nn){const on=this.getActiveConnection(nn);if(on)return on.getLastMessageTimestamp();pt.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(nn){const on=this.getActiveConnection(nn);if(on)return on.getSessionMetricsMessageCounts();pt.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:nn,receiveSignalStream:on,iceServers:gn}=this;return!!(nn&&on&&gn)}shutdown(){return Jr(this,void 0,void 0,function*(){yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const nn=this.connections;this.connections=[],yield this.closeConnections(nn);const on=this.localConnections;this.localConnections=[],yield this.closeConnections(on),this.isOutgoingConnection.clear(),this.peerDataChannelListeners=[];const{localPeer:gn}=this;if(!gn||this.config.lanOnlyMode)return;const{signalingClient:Qn}=this.config;yield(()=>Jr(this,void 0,void 0,function*(){try{const Nn=new tn.DeletePeerRequest;Nn.setPeerId(gn.getPeerId()),yield en.withDeadline(Qn.deletePeer(Nn,yield this.getMetadata()),this.grpcCallDeadline)}catch(Nn){return void pt.a.warn("Error deleting local peer",{error:Nn})}}))()})}createPeer(){return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:nn}=this.config,on=yield(()=>Jr(this,void 0,void 0,function*(){try{return yield en.withDeadline(nn.createPeer(new tn.CreatePeerRequest,yield this.getMetadata()),this.grpcCallDeadline)}catch(Qn){const Nn=Qn;pt.a.debug("createPeer failed",{error:Nn});const In=Xr(Nn);throw new Error("Was not able to create peer: "+In)}}))(),gn=on?.getPeer();if(!gn)throw new Error("Response did not provide peer.");return this.localPeer=gn})}createReceiveSignalStream(){return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:nn}=this.config,{localPeer:on,iceServers:gn}=this;if(!on||!gn)return;const{receiveSignalStream:Qn}=this;Qn&&Qn.cancel();const Nn=new tn.ReceiveSignalStreamRequest;Nn.setPeerId(on.getPeerId());const In=yield(()=>Jr(this,void 0,void 0,function*(){try{return nn.receiveSignalStream(Nn,yield this.getMetadata({hasDeadline:!1}))}catch($n){pt.a.debug("createReceiveSignalStream failed",{error:$n});const Xn=Xr($n);throw new Error("Unable to create receive signal stream: "+Xn)}}))();if(!In)throw new Error("Response did not provide stream.");return In.on("data",$n=>Jr(this,void 0,void 0,function*(){var Xn,On,Dn,_r;const Gr=$n.getSignal(),Un=(Xn=Gr?.getSessionId())===null||Xn===void 0?void 0:Xn.getValue(),Vn=Gr?.getSenderId(),jn=Gr?.getReceiverId(),Zn=(On=Gr?.getSessionCreatedTimestamp())===null||On===void 0?void 0:On.getValue();if(!(Gr&&Un&&Vn&&jn&&Zn))return void pt.a.warn("Received signal with missing information.");const Ln=this.getActiveConnection(Vn);if(Ln)if(Ln.getSessionId()!==Un){if(pt.a.debug("Received signal: different session for a peer we're already connected to."),(Ln.getSessionCreatedTimestamp()||0)>Zn)return;const cr=new $r(yield this.createRTCPeerConnection(gn),gn,{baseConfig:{isOffer:!1,isLan:!1,receive:(dr,pr)=>this.config.receive(dr,pr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(dr,pr)=>{var mr,Cr;return(Cr=(mr=this.config).onStreamsInfoUpdate)===null||Cr===void 0?void 0:Cr.call(mr,dr,pr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:on.getPeerId(),localUserId:(_r=on.getUserId())===null||_r===void 0?void 0:_r.getValue(),remotePeerId:Vn},remoteConfig:{sessionId:Un,sessionCreatedTimestamp:Zn}},dr=>this.onCustomDataChannel(Vn,dr));yield cr.handleSignal(Gr),this.connections.push(cr)}else pt.a.debug("Received signal: for an existing connection."),yield Ln.handleSignal(Gr);else{pt.a.debug("Received signal: new connection.");const cr=new $r(yield this.createRTCPeerConnection(gn),gn,{baseConfig:{isOffer:!1,isLan:!1,receive:(dr,pr)=>this.config.receive(dr,pr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(dr,pr)=>{var mr,Cr;return(Cr=(mr=this.config).onStreamsInfoUpdate)===null||Cr===void 0?void 0:Cr.call(mr,dr,pr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:on.getPeerId(),localUserId:(Dn=on.getUserId())===null||Dn===void 0?void 0:Dn.getValue(),remotePeerId:Vn},remoteConfig:{sessionId:Un,sessionCreatedTimestamp:Zn}},dr=>this.onCustomDataChannel(Vn,dr));yield cr.handleSignal(Gr),this.connections.push(cr)}})),In.on("end",()=>{In.cancel(),this.receiveSignalStream=void 0}),In.on("error",$n=>{switch($n.code){case Nt.StatusCode.CANCELLED:case Nt.StatusCode.UNAVAILABLE:case Nt.StatusCode.UNKNOWN:pt.a.debug("Receive signal stream error",{error:$n});break;case Nt.StatusCode.UNAUTHENTICATED:pt.a.warn("Receive signal stream error",{error:$n});break;default:pt.a.error("Receive signal stream error",{error:$n})}In.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=In})}createRTCPeerConnection(nn){var on;return Jr(this,void 0,void 0,function*(){const gn=(on=this.config.alternateRTCPeerConnection)!==null&&on!==void 0?on:window.RTCPeerConnection;if(!gn)throw function(){if(typeof navigator>"u")throw new Error("not a browser");const{userAgent:Qn}=navigator;return Qn.includes("Firefox/")?"Firefox":Qn.includes("Edg/")?"Edge":Qn.includes("Chrome/")?"Chrome":Qn.includes("Safari/")?"Safari":Qn.includes("MSIE/")||Qn.includes("Trident/")?"IE":"Other"}()!=="Chrome"?new Error("WebRTC is not enabled. Please try again with the latest version of Google Chrome."):new Error("WebRTC is not enabled. Please ensure WebRTC is not disabled by ad blocking software.");this.rtcInstancesConstructed++,this.rtcInstancesConstructed%20||Ur();try{return new gn({iceServers:nn})}catch(Qn){throw pt.a.debug(`Failed to create RTCPeerConnection: ${this.rtcInstancesConstructed} total allocated`),Qn}})}closeConnections(nn){return Jr(this,void 0,void 0,function*(){const on=yield qt(nn.map(gn=>Jr(this,void 0,void 0,function*(){yield gn.close()})));for(const gn of on)pt.a.warn("Request to close session failed",{error:gn})})}getActiveConnection(nn){return this.getConnections().find(on=>on.getRemotePeerId()===nn&&on.isActive())}update(){var nn;return Jr(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(_r=>_r.isActive()),this.config.lanOnlyMode)return;const{signalingClient:on}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers){const _r=[];return this.localPeer||_r.push(this.createPeer()),this.iceServers||_r.push(this.updateIceServers()),yield Promise.all(_r),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()))}const[gn,Qn]=(Nn=this.connections,In=_r=>_r.isActive(),Nn.reduce((_r,Gr,Un,Vn)=>{const[jn,Zn]=_r;return(In(Gr,Un,Vn)?jn:Zn).push(Gr),_r},[[],[]]));var Nn,In;yield this.closeConnections(Qn),this.connections=gn,this.gatherConnectionStats().catch(_r=>{pt.a.warn("Error calling gatherConnectionStats",{error:_r})}),this.statsLoopsExecuted++;const{localPeer:$n}=this,Xn=this.connections.filter(_r=>_r.getSessionId).map(_r=>Lt(_r.getSessionId()));$n.setSessionIdsList(Xn);const On=new tn.RefreshPeerRequest;On.setPeer($n);try{yield en.withDeadline(on.refreshPeer(On,yield this.getMetadata()),this.grpcCallDeadline)}catch(_r){_r instanceof Nt.RpcError&&_r.code===Nt.StatusCode.NOT_FOUND?(pt.a.warn("Peer expired, creating new peer",{peerId:$n.getPeerId()}),yield this.reset()):pt.a.warn("Error calling RefreshPeer",{error:_r})}const Dn=yield this.getPeers();for(const _r of this.connections)_r.setRemoteDeviceId((nn=Dn.find(Gr=>Gr.id===_r.getRemotePeerId()))===null||nn===void 0?void 0:nn.deviceId)})}gatherConnectionStats(){return Jr(this,void 0,void 0,function*(){if(this.statsLoopsExecuted%10!=0||this.connections.length!==1)return;const nn=yield this.connections[0].getConnectionStatsInfo(),on=nn?nr(nn):void 0;on?Tt.setTag("rtc-connection-type",on):Tt.setTag("rtc-connection-type","unknown")})}reset(){return Jr(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection.clear(),yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:nn,iceServersTtl:on}=this,gn=new Date().getTime();if(!nn||gn-nn>on)try{const Qn=(yield en.withDeadline(this.config.signalingClient.getIceServers(new tn.GetIceServersRequest,yield this.getMetadata()),this.grpcCallDeadline)).getIceServers();this.iceServers=JSON.parse(Qn),this.iceServersLastUpdate=gn}catch(Qn){pt.a.warn("Error in updateIceServers",{error:Qn})}})}setupHandlers(nn){const{peerConnection:on}=nn,gn=nn.getSessionCreatedTimestamp();on.onconnectionstatechange=()=>Jr(this,void 0,void 0,function*(){const Qn=on.connectionState;if(!gn)return;const Nn=nn.getRemoteDeviceId();switch(Qn){case"connected":Tt.aggregate("rtc-connect-time",new Date().getTime()-gn,Object.assign({},Nn?{deviceId:Nn}:{}));break;case"failed":Tt.increment("rtc-connect-failed",Object.assign({},Nn?{deviceId:Nn}:{}))}})}getMetadata(nn={}){return Jr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:on}=this.config,{grpcCallDeadline:gn}=this,{hasDeadline:Qn=!0}=nn,Nn=Qn?{deadline:(Date.now()+gn).toString(10)}:null;try{const In=yield on();return Object.assign({authorization:In},Nn)}catch(In){throw pt.a.error("getToken() failed",{error:In}),new Error("Cannot get authorization token")}})}}var er=et(12),ar=et(11),fr=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class Or{constructor(nn,on){this.sentMessagesCounts=new Map,this.receivedMessagesCounts=new Map,this.sessionId=nn,this.connection=on}incrementMessageSent(nn){const on=wn(nn.header.stream);this.sentMessagesCounts.set(on,(this.sentMessagesCounts.get(on)||0)+1)}incrementMessageReceived(nn){const on=wn(nn.header.stream);this.receivedMessagesCounts.set(on,(this.receivedMessagesCounts.get(on)||0)+1)}uploadMetrics(){return fr(this,void 0,void 0,function*(){const{sessionId:nn}=this,on=yield this.connection.peerConnection.getStats(),gn={};on.forEach(Nn=>gn[Nn.id]=Nn),pt.a.debug("rtc-stats",Object.assign(Object.assign({},gn),{sessionId:nn}));const Qn=[...new Set(Array.from(this.sentMessagesCounts.keys()).concat(Array.from(this.receivedMessagesCounts.keys())))].reduce((Nn,In)=>{const $n=this.sentMessagesCounts.get(In),Xn=this.receivedMessagesCounts.get(In);return Object.assign(Object.assign({},Nn),{[In+"-sent"]:$n,[In+"-received"]:Xn})},{sessionId:nn});pt.a.debug("rtc-message-report",Qn)})}}function no(Kn,nn){return wn(Kn)===wn(nn)}var co=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class Eo{constructor(nn,on){this.peerConnection=nn,this.config=on,this.connectTimeoutMs=10*st.a.second,this.gatherIceTimeoutMs=5*st.a.second,this.pingUpdateTimeoutMs=2*st.a.second,this.streamLatestTimestamp=new Map,this.closeCalled=!1,this.connectCalled=!1,this.sentOffer=!1,this.receivedIceCandidate=!1;const{isOffer:gn}=on;gn?this.initializeChannels(nn):nn.ondatachannel=Qn=>{switch(Qn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=Qn.channel;break;case"stream.reliable":this.reliableStreamChannel=Qn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=Qn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=Qn.channel}this.setupChannel(Qn.channel)},this.sessionMetrics=new Or(this.getSessionId(),this)}connect(){return co(this,void 0,void 0,function*(){if(this.connectCalled)return;this.connectCalled=!0,this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:Qn}=this;Qn&&this.sendSystemMessage(Qn,{type:"ping"})},this.pingUpdateTimeoutMs),this.connectTimeout=setTimeout(()=>co(this,void 0,void 0,function*(){this.isReady()||(pt.a.warn("RTC connect timed out, closing connection"),yield this.close())}),this.connectTimeoutMs);const{peerConnection:nn,config:{isOffer:on,sessionId:gn}}=this;if(on){const Qn=yield nn.createOffer();yield nn.setLocalDescription(Qn)}on&&(this.gatherIceTimeout=setTimeout(()=>co(this,void 0,void 0,function*(){this.sentOffer||(pt.a.warn("ICE gathering timed out"),this.receivedIceCandidate?(pt.a.warn("Attempting to connect with partial ICE candidate pool"),yield this.sendOffer()):yield this.close())}),this.gatherIceTimeoutMs),nn.onicecandidate=Qn=>co(this,void 0,void 0,function*(){Qn.candidate?this.receivedIceCandidate=!0:yield this.sendOffer()}),nn.onicegatheringstatechange=()=>co(this,void 0,void 0,function*(){nn.iceGatheringState==="complete"&&(yield this.sendOffer())}),nn.onnegotiationneeded=()=>{pt.a.debug("Negotiation needed",{sessionId:gn})})})}handleSignal(nn){return co(this,void 0,void 0,function*(){const{peerConnection:on,config:{sessionId:gn,sendSignal:Qn}}=this,{description:Nn}=JSON.parse(nn.payload);if(pt.a.debug("Handling signal",{sessionId:gn,description:JSON.stringify(Nn)}),Nn)if(on.signalingState!=="stable"||on.connectionState!=="connected")if(on.remoteDescription)pt.a.warn("Received SDP signal during negotiation when remote description is already set: "+JSON.stringify(nn));else if(Nn.type==="offer"){yield on.setRemoteDescription(Nn);const In=yield on.createAnswer();yield on.setLocalDescription(In),yield Qn({payload:JSON.stringify({description:In})})}else Nn.type==="answer"&&(yield on.setRemoteDescription(Nn));else pt.a.warn("Received SDP signal when signaling is stable and connected: "+JSON.stringify(nn));else pt.a.warn("Received non-SDP signal: "+JSON.stringify(nn))})}send(nn,on){const gn=this.getChannelFromLabel(on.channelLabel);gn?this.sendOnChannel(gn,nn):pt.a.warn("Send called with unexpected channel label",{channelLabel:on.channelLabel})}controlRemoteStream(nn){this.sendSystemMessage(Lt(this.reliableStreamChannel),{type:"stream-control",streamControl:nn})}isActive(){return new Set(["new","connecting","connected"]).has(this.peerConnection.connectionState)}isReady(){const{peerConnection:nn,latestTtlStreamChannel:on,reliableStreamChannel:gn,latestTryOnceStreamChannel:Qn}=this;return!!(gn&&on&&Qn)&&nn.connectionState==="connected"&&gn.readyState==="open"&&on.readyState==="open"&&Qn.readyState==="open"}isClosed(){const{peerConnection:nn,reliableStreamChannel:on,latestTryOnceStreamChannel:gn,latestTtlStreamChannel:Qn}=this;return!(nn.connectionState!=="closed"||on!==void 0&&on.readyState!=="closed"||gn!==void 0&&gn.readyState!=="closed"||Qn!==void 0&&Qn.readyState!=="closed")}needsClosing(){const{peerConnection:nn,latestTtlStreamChannel:on,reliableStreamChannel:gn,latestTryOnceStreamChannel:Qn}=this;if(this.isClosed())return!1;const Nn=new Set(["closing","closed"]),In=$n=>$n&&Nn.has($n.readyState);return Ar(nn)||In(on)||In(gn)||In(Qn)}close(){return co(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield this.sessionMetrics.uploadMetrics(),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.connectTimeout&&clearTimeout(this.connectTimeout),this.gatherIceTimeout&&clearTimeout(this.gatherIceTimeout),this.peerConnection.close())})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionId(){return this.config.sessionId}getRemotePeer(){return this.config.remotePeer}initializeChannels(nn){this.latestTtlStreamChannel=nn.createDataChannel("stream.latest-ttl",Zt),this.reliableStreamChannel=nn.createDataChannel("stream.reliable",dn),this.latestReliableStreamChannel=nn.createDataChannel("stream.latest-reliable",Fn),this.latestTryOnceStreamChannel=nn.createDataChannel("stream.latest-try-once",pn),this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}sendOffer(){return co(this,void 0,void 0,function*(){if(this.sentOffer||(this.sentOffer=!0,Ar(this.peerConnection)))return;const{peerConnection:nn,config:{sendSignal:on}}=this,gn=yield nn.createOffer();yield nn.setLocalDescription(gn);const Qn={payload:JSON.stringify({description:gn})};yield on(Qn)})}getChannelFromLabel(nn){switch(nn){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(nn,on){let gn;try{gn=Object(cn.encode)(JSON.stringify(on))}catch(Qn){return void pt.a.warn("Failed to encode RTC message",{error:Qn})}try{nn.send(gn),this.sessionMetrics.incrementMessageSent(on)}catch(Qn){pt.a.warn("Failed to send message to channel",{error:Qn,channel:nn.label})}}channelNotRecognized(nn){return nn!==this.latestTtlStreamChannel&&nn!==this.latestReliableStreamChannel&&nn!==this.latestTryOnceStreamChannel&&nn!==this.reliableStreamChannel}setupChannel(nn){nn.onmessage=on=>{if(this.channelNotRecognized(nn))return void pt.a.warn("Received message on unrecognized data channel.");let gn;try{gn=JSON.parse(Object(cn.decode)(on.data))}catch(Qn){return void pt.a.warn("Received unparseable RTC message",{error:Qn,channel:nn.label})}if(this.lastMessageTimestamp=new Date().getTime(),gn=ur(gn),this.sessionMetrics.incrementMessageReceived(gn),!this.handleSystemMessage(nn,gn)){if(!this.hasCapabilities(gn))return void pt.a.warn("Received RTC message that was not within the capability scope of the connection.");(nn===this.latestTryOnceStreamChannel||nn===this.latestTtlStreamChannel||nn===this.latestReliableStreamChannel)&&!this.isLatestMessage(gn)||this.config.receive(this.config.remotePeer.id,gn)}},nn.onerror=on=>{pt.a.warn("Channel error: "+on.error,{error:on.error,sessionId:this.getSessionId(),channelLabel:nn.label})},nn.onopen=()=>{pt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:nn.label})},nn.onclose=()=>{const on={bufferedAmount:nn.bufferedAmount,sessionId:this.getSessionId(),channelLabel:nn.label};this.closeCalled===!1?pt.a.debug("Unexpected channel closed",on):pt.a.debug("Channel closed",on)}}handleSystemMessage(nn,on){switch(on.header.stream.streamType){case"ping":return this.sendSystemMessage(nn,{type:"pong",timestamp:Lt(on.payload.ping)}),!0;case"pong":{const gn=new Date().getTime()-Lt(on.payload.pong);return this.pingTimeMs=gn,Tt.aggregate("rtc-ping-time",gn),!0}case"stream-control":return!0;default:return!1}}sendSystemMessage(nn,on){if(nn.readyState!=="open")return;const gn={entityId:Lt(this.config.localPeer.deviceId||this.config.localPeer.userId),streamName:"$."+on.type,streamType:on.type};let Qn;switch(on.type){case"ping":Qn={ping:new Date().getTime()};break;case"pong":Qn={pong:on.timestamp};break;case"stream-control":Qn={streamControl:on.streamControl}}this.sendOnChannel(nn,ir(gn,Qn))}hasCapabilities(nn){var on,gn;const{localPeer:Qn,remotePeer:Nn}=this.config,In=(on=Qn.capabilitySet.streaming)===null||on===void 0?void 0:on.streams,$n=In&&In.some(Dn=>Dn.receive&&no(Dn.stream,nn.header.stream)),Xn=(gn=Nn.capabilitySet.streaming)===null||gn===void 0?void 0:gn.streams,On=Xn&&Xn.some(Dn=>Dn.send&&no(Dn.stream,nn.header.stream));return $n||On}isLatestMessage(nn){const on=wn(nn.header.stream),gn=(this.streamLatestTimestamp.get(on)||0)<=nn.header.created;return gn&&this.streamLatestTimestamp.set(on,nn.header.created),gn}}var Ir=function(Kn,nn,on,gn){return new(on||(on=Promise))(function(Qn,Nn){function In(On){try{Xn(gn.next(On))}catch(Dn){Nn(Dn)}}function $n(On){try{Xn(gn.throw(On))}catch(Dn){Nn(Dn)}}function Xn(On){var Dn;On.done?Qn(On.value):(Dn=On.value,Dn instanceof on?Dn:new on(function(_r){_r(Dn)})).then(In,$n)}Xn((gn=gn.apply(Kn,nn||[])).next())})};class So{constructor(nn){this.config=nn,this.connections=[],this.connectingSessions=new Map,this.rtcInstancesConstructed=0,this.updateInterval=Et({func:()=>Ir(this,void 0,void 0,function*(){try{yield this.update()}catch(on){pt.a.warn("RTC update failed",{error:on})}}),delay:250*st.a.millisecond,immediate:!0}),this.localPeer=this.createPeer()}send(nn,on,gn){const Qn=this.getActiveConnection(nn);Qn?Qn.isReady()?Qn.send(on,gn):pt.a.warn("Attempted to send with an active connection to that peer which was not yet ready."):pt.a.warn("Attempted to send with no active connection to that peer.")}controlRemoteStream(nn,on){const gn=this.getActiveConnection(nn);gn?gn.isReady()?gn.controlRemoteStream(on):pt.a.warn("Attempted to control remote stream with an active connection to that peer which was not yet ready."):pt.a.warn("Attempted to control remote stream with no active connection to that peer.")}connect(nn){return Ir(this,void 0,void 0,function*(){const on=yield this.getLocalPeer();if(this.getActiveConnection(nn))return void pt.a.warn("Attempted to connect to peer with an already active connection.");let gn;try{gn=yield this.config.signalingClient.createSession(yield this.config.getToken(),{offerPeerId:on.id,answerPeerId:nn})}catch(Qn){Object(er.a)(Qn,ar.a,Nn=>Nn.statusCode===404),pt.a.warn("Attempted to connect to peer that does not exist.")}if(gn)for(this.connectingSessions.set(gn.id,new Date().getTime()),yield this.connectToSession(gn);;)switch(yield Object(at.a)(.1),this.getConnectionStatus(nn)){case"connecting":continue;case"connected":return gn.id;case"disconnected":return}})}getConnectionStatus(nn){const on=this.getActiveConnection(nn);return on?on.isReady()?"connected":"connecting":"disconnected"}getIceMode(nn){const on=this.getActiveConnection(nn);if(on)return on.iceMode}disconnect(nn){return Ir(this,void 0,void 0,function*(){const on=this.getActiveConnection(nn);on&&(yield this.closeConnection(on))})}getLocalPeer(){return Ir(this,void 0,void 0,function*(){return yield this.localPeer})}getPeers(){return Ir(this,void 0,void 0,function*(){return yield this.config.signalingClient.getPeers(yield this.config.getToken())})}getPing(nn){const on=this.getActiveConnection(nn);if(on)return on.getPing();pt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(nn){const on=this.getActiveConnection(nn);if(on)return on.getLastMessageTimestamp();pt.a.warn("Attempted to get ping time from inactive peer.")}shutdown(){return Ir(this,void 0,void 0,function*(){yield this.updateInterval.stop();const nn=this.connections;this.connections=[],yield this.closeConnections(nn)})}closeConnection(nn){return Ir(this,void 0,void 0,function*(){this.connectingSessions.delete(nn.getSessionId()),yield nn.close();try{yield this.config.signalingClient.deleteSession(yield this.config.getToken(),nn.getSessionId())}catch(on){Object(er.a)(on,ar.a,gn=>gn.statusCode===404)}})}getSessions(){return Ir(this,void 0,void 0,function*(){const nn=yield this.getLocalPeer();return(yield this.config.signalingClient.getSessions(yield this.config.getToken())).filter(on=>on.offer.peer.id===nn.id||on.answer.peer.id===nn.id)})}createPeer(){return Ir(this,void 0,void 0,function*(){return yield this.config.signalingClient.createPeer(yield this.config.getToken(),{capabilitySet:this.config.capabilitySet||{}})})}createRTCPeerConnection(nn={}){return Ir(this,void 0,void 0,function*(){const on=this.config.alternateRTCPeerConnection||RTCPeerConnection;this.rtcInstancesConstructed++,this.rtcInstancesConstructed%20||Ur();try{return new on(Object.assign({iceServers:yield this.config.signalingClient.getIceServers(yield this.config.getToken())},nn))}catch(gn){throw pt.a.debug(`Failed to create RTCPeerConnection: ${this.rtcInstancesConstructed} total allocated`),gn}})}closeConnections(nn){return Ir(this,void 0,void 0,function*(){const on=yield qt(nn.map(gn=>Ir(this,void 0,void 0,function*(){yield this.closeConnection(gn)})));for(const gn of on)pt.a.warn("Request to close session failed",{error:gn})})}reset(){return Ir(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.connectingSessions=new Map,this.localPeer=this.createPeer(),yield this.localPeer})}getActiveConnection(nn){return this.connections.find(on=>on.getRemotePeer().id===nn&&on.isActive())}update(){return Ir(this,void 0,void 0,function*(){const nn=yield this.getLocalPeer();try{yield this.config.signalingClient.refreshPeer(yield this.config.getToken(),nn.id)}catch(on){Object(er.a)(on,ar.a,gn=>gn.statusCode===404),pt.a.warn("Peer expired, creating new peer",{peerId:nn.id}),yield this.reset()}yield this.handleSessions(yield this.getSessions())})}handleSessions(nn){return Ir(this,void 0,void 0,function*(){yield this.syncConnectionsAndSessions(nn);const on=nn.map(gn=>({session:gn,connection:this.connections.find(Qn=>Qn.getSessionId()===gn.id)}));yield Promise.all(on.map(({session:gn,connection:Qn})=>Ir(this,void 0,void 0,function*(){return yield this.maintainConnection(gn,Qn)})))})}syncConnectionsAndSessions(nn){return Ir(this,void 0,void 0,function*(){const on=new Set(nn.map(Nn=>Nn.id)),gn=Nn=>on.has(Nn.getSessionId())||this.connectingSessions.has(Nn.getSessionId());this.connections=this.connections.filter(Nn=>gn(Nn));const Qn=this.connections.filter(Nn=>!gn(Nn)||Nn.needsClosing());yield Promise.all(Qn.map(Nn=>Ir(this,void 0,void 0,function*(){yield this.closeConnection(Nn)})))})}maintainConnection(nn,on){return Ir(this,void 0,void 0,function*(){const gn=yield this.getLocalPeer(),Qn=nn.offer.peer.id===gn.id;if(on){if(on.isReady())try{yield this.config.signalingClient.refreshSession(yield this.config.getToken(),nn.id)}catch(Nn){Object(er.a)(Nn,ar.a,In=>In.statusCode===404),pt.a.debug("Refresh session not found",{sessionId:nn.id})}else if(on.isActive())try{yield this.consumeSignals(on)}catch(Nn){pt.a.warn("Failed to ingest signals, closing connection",{error:Nn}),yield this.closeConnection(on)}}else{if(Qn)return;yield this.connectToSession(nn)}})}connectToSession(nn){return Ir(this,void 0,void 0,function*(){const on=yield this.getLocalPeer(),gn=nn.offer.peer.id===on.id,Qn=yield this.createRTCPeerConnection(),Nn=new Eo(Qn,{localPeer:gn?nn.offer.peer:nn.answer.peer,remotePeer:gn?nn.answer.peer:nn.offer.peer,sessionId:nn.id,isOffer:gn,sendSignal:In=>this.sendSignal(nn.id,In),receive:(In,$n)=>this.config.receive(In,$n)});if(this.connections.find(In=>In.getSessionId()===nn.id))return pt.a.warn("connectToSession called on a session that already has a connection.",{sessionId:nn.id}),void(yield Nn.close());this.setupHandlers(Nn),this.connections.push(Nn);try{yield Nn.connect()}catch(In){pt.a.warn("Failed to handle negotiation, closing connection",{error:In}),yield this.closeConnection(Nn)}})}setupHandlers(nn){const{peerConnection:on}=nn,gn=nn.getSessionId();on.onconnectionstatechange=()=>Ir(this,void 0,void 0,function*(){const Qn=this.connectingSessions.get(gn);if(Qn===void 0)return;const Nn=on.connectionState;switch(Ar(on)&&this.connectingSessions.delete(gn),Nn){case"connected":{this.connectingSessions.delete(gn);const In=new Date().getTime()-Qn;Tt.aggregate("rtc-connect-time",In);break}case"failed":Tt.increment("rtc-connect-failed"),yield this.closeConnection(nn)}})}consumeSignals(nn){return Ir(this,void 0,void 0,function*(){let on=[];try{on=yield this.config.signalingClient.takeSignals(yield this.config.getToken(),nn.getSessionId())}catch(gn){Object(er.a)(gn,ar.a,Qn=>Qn.statusCode===404)}for(const gn of on)yield nn.handleSignal(gn)})}sendSignal(nn,on){return Ir(this,void 0,void 0,function*(){try{yield this.config.signalingClient.addSignals(yield this.config.getToken(),nn,{signals:[on]})}catch(gn){Object(er.a)(gn,ar.a,Qn=>Qn.statusCode===404)}})}}},,function(s,o,et){et.r(o),et.d(o,"LogClient",function(){return ot});var tt=et(26),nt=et(12),rt=et(11),it=function(st,at,lt,ct){return new(lt||(lt=Promise))(function(ut,dt){function ht(ft){try{gt(ct.next(ft))}catch(yt){dt(yt)}}function pt(ft){try{gt(ct.throw(ft))}catch(yt){dt(yt)}}function gt(ft){var yt;ft.done?ut(ft.value):(yt=ft.value,yt instanceof lt?yt:new lt(function(mt){mt(yt)})).then(ht,pt)}gt((ct=ct.apply(st,at||[])).next())})};class ot extends tt.a{log(at){return it(this,void 0,void 0,function*(){const lt=ot.token;try{yield this.fetch("logs",{token:lt,method:"POST",body:{logs:at},allowUnsafeRetries:!0})}catch(ct){Object(nt.a)(ct,rt.a,ut=>ut.statusCode===401&&lt!==void 0),ot.token===lt&&delete ot.token,yield this.log(at)}})}}},function(s,o,et){var tt={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let nt;const rt=new Uint8Array(16);function it(){if(!nt&&(nt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nt(rt)}const ot=[];for(let at=0;at<256;++at)ot.push((at+256).toString(16).slice(1));function st(at,lt=0){return(ot[at[lt+0]]+ot[at[lt+1]]+ot[at[lt+2]]+ot[at[lt+3]]+"-"+ot[at[lt+4]]+ot[at[lt+5]]+"-"+ot[at[lt+6]]+ot[at[lt+7]]+"-"+ot[at[lt+8]]+ot[at[lt+9]]+"-"+ot[at[lt+10]]+ot[at[lt+11]]+ot[at[lt+12]]+ot[at[lt+13]]+ot[at[lt+14]]+ot[at[lt+15]]).toLowerCase()}o.a=function(at,lt,ct){if(tt.randomUUID&&!lt&&!at)return tt.randomUUID();const ut=(at=at||{}).random||(at.rng||it)();if(ut[6]=15&ut[6]|64,ut[8]=63&ut[8]|128,lt){ct=ct||0;for(let dt=0;dt<16;++dt)lt[ct+dt]=ut[dt];return lt}return st(ut)}}])})})(dist);var distExports=dist.exports;const SessionTypes={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3,HEADLESS:4},singleton=Symbol("RtcClientPool.instance");var Sn;class RtcClientPool{constructor(o){he(this,Sn,null),he(this,"createClient"),he(this,"ttlMs"),he(this,"proxyHandler"),he(this,"proxyReceivers",new Map),he(this,"teardownTimeout",null),he(this,"dispatch",(nt,rt)=>{this.proxyReceivers.forEach(it=>it?.(nt,rt))});const{createClient:et,ttlMs:tt=0}=o;this.createClient=et,this.ttlMs=Math.max(tt,0),this.proxyHandler={get:(nt,rt,it)=>{switch(rt){case"shutdown":return()=>this.releaseInstance(it);default:return Reflect.get(nt,rt,it)}}}}get isActive(){return this[singleton]!==null}get size(){return this.proxyReceivers.size}get(o){const et=new Proxy(this.allocate(),this.proxyHandler);return this.proxyReceivers.set(et,o??null),et}allocate(){if(this[singleton])return this.teardownTimeout&&(clearTimeout(this.teardownTimeout),this.teardownTimeout=null),this[singleton];const o=this.createClient(this.dispatch);return this[singleton]=o,o}async teardown(){const o=this[singleton];if(!o){console.warn("singleton has already been shutdown!");return}try{await o.shutdown()}finally{this[singleton]=null}}async releaseInstance(o){return this.proxyReceivers.delete(o)?this.proxyReceivers.size!==0?!1:(!this.teardownTimeout&&Number.isFinite(this.ttlMs)&&(this.ttlMs===0?await this.teardown():this.teardownTimeout=setTimeout(()=>{this.teardown().catch(et=>console.error("teardown failed",{err:et})).finally(()=>this.teardownTimeout=null)},this.ttlMs)),!0):(console.warn("this instance has already been released!"),!1)}}Sn=singleton;const getToken=async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),EnumRtcClientPools={[SessionTypes.UNKNOWN]:new RtcClientPool({ttlMs:2500,createClient:s=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.UNKNOWN,receive:s})}),[SessionTypes.TELEOP]:new RtcClientPool({ttlMs:2500,createClient:s=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.TELEOP,receive:s})}),[SessionTypes.PORT_FORWARD]:new RtcClientPool({ttlMs:2500,createClient:s=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.PORT_FORWARD,receive:s})}),[SessionTypes.OBSERVE]:new RtcClientPool({ttlMs:2500,createClient:s=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.OBSERVE,receive:s})}),[SessionTypes.HEADLESS]:new RtcClientPool({ttlMs:2500,createClient:s=>new distExports.RtcClient({signalingClient:new distExports.SignalingPromiseClient(FORMANT_API_URL),getToken,sessionType:SessionTypes.HEADLESS,receive:s})})},AppRtcClientPools={...EnumRtcClientPools,unknown:EnumRtcClientPools[SessionTypes.UNKNOWN],teleop:EnumRtcClientPools[SessionTypes.TELEOP],portForward:EnumRtcClientPools[SessionTypes.PORT_FORWARD],observe:EnumRtcClientPools[SessionTypes.OBSERVE],headless:EnumRtcClientPools[SessionTypes.HEADLESS]},defaultRtcClientPool=EnumRtcClientPools[SessionTypes.TELEOP],getRtcClientPool=s=>{const{sessionType:o}=s;return o?AppRtcClientPools[o]:defaultRtcClientPool};class CaptureStream{constructor(o){he(this,"token"),this.captureSession=o}async ingestJSON(o){if(!this.token){const et=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=et.token}await fetch(`${FORMANT_API_URL}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(o)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}function delay$1(s){return new Promise(o=>setTimeout(o,s))}const isRtcPeer=s=>s!==void 0&&s.capabilities!==void 0&&s.capabilitySet!==void 0;class DataChannel{constructor(o){he(this,"ready",!1),he(this,"listeners",[]),he(this,"openListeners",[]),he(this,"closeListeners",[]),he(this,"errorListeners",[]),he(this,"binaryListeners",[]),he(this,"error"),he(this,"decoder",new TextDecoder),this.dataChannel=o,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.setReady()},this.dataChannel.onclose=()=>{this.ready=!1,this.closeListeners.forEach(et=>et())},this.dataChannel.onerror=et=>{console.error(et),this.error="An error occurred in DataChannel",this.errorListeners.forEach(tt=>tt(et))},this.dataChannel.onmessage=et=>{this.listeners.forEach(tt=>{const nt=new Uint8Array(et.data),rt=this.decoder.decode(nt);tt(rt)}),this.binaryListeners.forEach(tt=>{tt(new Uint8Array(et.data))})}}setReady(){this.ready=!0,this.openListeners.forEach(o=>o())}addOpenListener(o){this.openListeners.push(o)}removeOpenListener(o){this.openListeners=this.openListeners.filter(et=>et!==o)}addCloseListener(o){this.closeListeners.push(o)}removeCloseListener(o){this.closeListeners=this.closeListeners.filter(et=>et!==o)}addErrorListener(o){this.errorListeners.push(o)}removeErrorListener(o){this.errorListeners=this.errorListeners.filter(et=>et!==o)}async waitTilReady(){return this.ready?!0:new Promise((o,et)=>{let tt=setInterval(()=>{this.dataChannel.readyState==="open"&&this.setReady(),this.ready&&(clearInterval(tt),o(!0)),this.error&&et(this.error)},10)})}send(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}sendBinary(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}addListener(o){this.listeners.push(o)}removeListener(o){const et=this.listeners.indexOf(o);if(et===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(et,1)}addBinaryListener(o){this.binaryListeners.push(o)}removeBinaryListener(o){const et=this.binaryListeners.indexOf(o);if(et===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(et,1)}}var eventemitter3={exports:{}};(function(s){var o=Object.prototype.hasOwnProperty,et="~";function tt(){}Object.create&&(tt.prototype=Object.create(null),new tt().__proto__||(et=!1));function nt(st,at,lt){this.fn=st,this.context=at,this.once=lt||!1}function rt(st,at,lt,ct,ut){if(typeof lt!="function")throw new TypeError("The listener must be a function");var dt=new nt(lt,ct||st,ut),ht=et?et+at:at;return st._events[ht]?st._events[ht].fn?st._events[ht]=[st._events[ht],dt]:st._events[ht].push(dt):(st._events[ht]=dt,st._eventsCount++),st}function it(st,at){--st._eventsCount===0?st._events=new tt:delete st._events[at]}function ot(){this._events=new tt,this._eventsCount=0}ot.prototype.eventNames=function(){var st=[],at,lt;if(this._eventsCount===0)return st;for(lt in at=this._events)o.call(at,lt)&&st.push(et?lt.slice(1):lt);return Object.getOwnPropertySymbols?st.concat(Object.getOwnPropertySymbols(at)):st},ot.prototype.listeners=function(st){var at=et?et+st:st,lt=this._events[at];if(!lt)return[];if(lt.fn)return[lt.fn];for(var ct=0,ut=lt.length,dt=new Array(ut);ct<ut;ct++)dt[ct]=lt[ct].fn;return dt},ot.prototype.listenerCount=function(st){var at=et?et+st:st,lt=this._events[at];return lt?lt.fn?1:lt.length:0},ot.prototype.emit=function(st,at,lt,ct,ut,dt){var ht=et?et+st:st;if(!this._events[ht])return!1;var pt=this._events[ht],gt=arguments.length,ft,yt;if(pt.fn){switch(pt.once&&this.removeListener(st,pt.fn,void 0,!0),gt){case 1:return pt.fn.call(pt.context),!0;case 2:return pt.fn.call(pt.context,at),!0;case 3:return pt.fn.call(pt.context,at,lt),!0;case 4:return pt.fn.call(pt.context,at,lt,ct),!0;case 5:return pt.fn.call(pt.context,at,lt,ct,ut),!0;case 6:return pt.fn.call(pt.context,at,lt,ct,ut,dt),!0}for(yt=1,ft=new Array(gt-1);yt<gt;yt++)ft[yt-1]=arguments[yt];pt.fn.apply(pt.context,ft)}else{var mt=pt.length,Ft;for(yt=0;yt<mt;yt++)switch(pt[yt].once&&this.removeListener(st,pt[yt].fn,void 0,!0),gt){case 1:pt[yt].fn.call(pt[yt].context);break;case 2:pt[yt].fn.call(pt[yt].context,at);break;case 3:pt[yt].fn.call(pt[yt].context,at,lt);break;case 4:pt[yt].fn.call(pt[yt].context,at,lt,ct);break;default:if(!ft)for(Ft=1,ft=new Array(gt-1);Ft<gt;Ft++)ft[Ft-1]=arguments[Ft];pt[yt].fn.apply(pt[yt].context,ft)}}return!0},ot.prototype.on=function(st,at,lt){return rt(this,st,at,lt,!1)},ot.prototype.once=function(st,at,lt){return rt(this,st,at,lt,!0)},ot.prototype.removeListener=function(st,at,lt,ct){var ut=et?et+st:st;if(!this._events[ut])return this;if(!at)return it(this,ut),this;var dt=this._events[ut];if(dt.fn)dt.fn===at&&(!ct||dt.once)&&(!lt||dt.context===lt)&&it(this,ut);else{for(var ht=0,pt=[],gt=dt.length;ht<gt;ht++)(dt[ht].fn!==at||ct&&!dt[ht].once||lt&&dt[ht].context!==lt)&&pt.push(dt[ht]);pt.length?this._events[ut]=pt.length===1?pt[0]:pt:it(this,ut)}return this},ot.prototype.removeAllListeners=function(st){var at;return st?(at=et?et+st:st,this._events[at]&&it(this,at)):(this._events=new tt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=et,ot.EventEmitter=ot,s.exports=ot})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class Manipulator{constructor(o,et){he(this,"currentListeners",[]),he(this,"onRealtimeMessage",(tt,nt)=>{nt.payload.jointState&&this.currentListeners.forEach(rt=>{nt.payload.jointState&&rt(nt.payload.jointState)})}),this.device=o,this.config=et}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(o){this.currentListeners.push(o)}}class RequestDataChannel{constructor(o,et,tt){he(this,"channel"),he(this,"requestIdToResponseMap",new Map),this.device=o,this.channel_name=et,this.timeout=tt}addOpenListener(o){defined$1(this.channel,"channel not initalized").addOpenListener(o)}removeOpenListener(o){defined$1(this.channel,"channel not initalized").removeOpenListener(o)}addCloseListener(o){defined$1(this.channel,"channel not initalized").addCloseListener(o)}removeCloseListener(o){defined$1(this.channel,"channel not initalized").removeCloseListener(o)}addErrorListener(o){defined$1(this.channel,"channel not initalized").addErrorListener(o)}removeErrorListener(o){defined$1(this.channel,"channel not initalized").removeErrorListener(o)}}class BinaryRequestDataChannel extends RequestDataChannel{constructor(){super(...arguments),he(this,"RESPONSE_SUCCESS_BYTE",0),he(this,"decoder",new TextDecoder)}generateBinaryId(){const o=new Uint8Array(16);for(let et=0;et<o.length;et++)o[et]=Math.floor(Math.random()*256);return o}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(o=>{const et=o.slice(0,16).toString();if(et.length===0)throw new Error("Invalid response");const tt=o.slice(16);if(tt.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(et)&&this.requestIdToResponseMap.set(et,tt)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:et,requestIdToResponseMap:tt,timeout:nt}=this;await et.waitTilReady();const rt=this.generateBinaryId(),it=rt.toString();tt.set(it,!0),et.sendBinary(new Uint8Array([...rt,...o]));const ot=new Date().getTime();for(;new Date().getTime()<ot+nt;)if(await delay$1(50),tt.has(it)){const st=tt.get(it);if(st!==!0){tt.delete(it);const at=st[0]===this.RESPONSE_SUCCESS_BYTE,lt=st.slice(1);if(at)return lt;throw console.error({name:"AdapterError",message:this.decoder.decode(lt)}),new Error("Binary request datachannel adapter error")}}throw tt.delete(it),console.error({name:"TimeoutError",message:`Request timed out after ${nt/1e3} seconds`}),new Error("Binary request data channel request timed out")}}class TextRequestDataChannel extends RequestDataChannel{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(o=>{const et=JSON.parse(o),{id:tt,data:nt,error:rt}=et;if(!tt)throw new Error("Invalid response");if(!nt&&!rt)throw new Error("Invalid response");this.requestIdToResponseMap.has(tt)&&this.requestIdToResponseMap.set(tt,et)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:et,requestIdToResponseMap:tt,timeout:nt}=this;await et.waitTilReady();const rt=this.generateTextId();tt.set(rt,!0),et.send(JSON.stringify({id:rt,data:o}));const it=new Date().getTime();for(;new Date().getTime()<it+nt;)if(await delay$1(50),tt.has(rt)){const ot=tt.get(rt);if(ot!==!0){tt.delete(rt);const{data:st,error:at}=ot;if(st)return st;if(at)throw console.error({name:"AdapterError",message:at}),new Error("Text request datachannel adapter error")}}throw tt.delete(rt),console.error({name:"TimeoutError",message:`Request timed out after ${nt/1e3} seconds`}),new Error("Text request datachannel request timed out")}}class BaseDevice extends EventEmitter{constructor(){super(...arguments),he(this,"rtcClient"),he(this,"remoteDevicePeerId",null),he(this,"realtimeListeners",[]),he(this,"connectionMonitorInterval"),he(this,"handleMessage",(o,et)=>{this.realtimeListeners.forEach(tt=>tt(o,et))})}stopConnectionMonitoring(){clearInterval(this.connectionMonitorInterval),this.connectionMonitorInterval=void 0}assertNotCancelled(o){if(o)throw new Error("Cancelled by deadline")}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const et=this.realtimeListeners.indexOf(o);if(et===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(et,1)}async getRealtimeManipulators(){var o;const et=await this.getConfiguration(),tt=[];for(const nt of(o=et.teleop.rosStreams)!=null?o:[])nt.topicType=="sensor_msgs/JointState"&&tt.push(new Manipulator(this,{currentJointStateStream:{name:nt.topicName},plannedJointStateStream:nt.plannedTopic?{name:nt.plannedTopic}:void 0,planValidStream:nt.planValidTopic?{name:nt.planValidTopic}:void 0,endEffectorStream:nt.endEffectorTopic?{name:nt.endEffectorTopic}:void 0,endEffectorLinkName:nt.endEffectorLinkName,baseReferenceFrame:nt.baseReferenceFrame,localFrame:nt.localFrame}));return tt}async getRealtimeVideoStreams(){var o,et,tt,nt,rt,it;const ot=await this.getConfiguration(),st=[];for(const at of(et=(o=ot.teleop)==null?void 0:o.hardwareStreams)!=null?et:[])at.rtcStreamType==="h264-video-frame"&&st.push({name:at.name});for(const at of(nt=(tt=ot.teleop)==null?void 0:tt.rosStreams)!=null?nt:[])at.topicType=="formant/H264VideoFrame"&&st.push({name:at.topicName}),(at.topicType==="sensor_msgs/Image"||at.topicType==="sensor_msgs/CompressedImage")&&at.encodeVideo&&st.push({name:at.topicName});for(const at of(it=(rt=ot.teleop)==null?void 0:rt.customStreams)!=null?it:[])at.rtcStreamType==="h264-video-frame"&&st.push({name:at.name});return st}createCustomRequestDataChannel(o,et=3e3){return new TextRequestDataChannel(this,o,et)}createCustomBinaryRequestDataChannel(o,et=3e3){return new BinaryRequestDataChannel(this,o,et)}async startListeningToRealtimeVideo(o){const et=defined$1(this.rtcClient,"Realtime connection has not been started"),tt=await this.getRemotePeer();et.controlRemoteStream(defined$1(tt).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const et=defined$1(this.rtcClient,"Realtime connection has not been started"),tt=await this.getRemotePeer();et.controlRemoteStream(defined$1(tt).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const et=defined$1(this.rtcClient,"Realtime connection has not been started"),tt=await this.getRemotePeer();et.controlRemoteStream(defined$1(tt).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const et=defined$1(this.rtcClient,"Realtime connection has not been started"),tt=await this.getRemotePeer();et.controlRemoteStream(defined$1(tt).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const et=defined$1(this.rtcClient,"Realtime connection has not been started"),tt=await this.getRemotePeer();et.controlRemoteStream(defined$1(tt).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(o){const et=defined$1(this.rtcClient,"Realtime connection has not been started"),tt=await this.getRemotePeer();et.controlRemoteStream(defined$1(tt).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async changeStreamAudioType(o,et){const tt=defined$1(this.rtcClient,"Realtime connection has not been started"),nt=await this.getRemotePeer();tt.controlRemoteStream(defined$1(nt).id,{streamName:o,setAudioFormat:et})}async createCustomDataChannel(o,et){const tt=defined$1(this.rtcClient,"Realtime connection has not been started"),nt=await this.getRemotePeer(),rt=await new Promise(it=>{tt.createCustomDataChannel(defined$1(nt).id,o,{ordered:!0,...et},!1,(ot,st)=>{const at=new DataChannel(st);it(at)})});return await rt.waitTilReady(),rt}async sendRealtimeMessage(o,et={channelLabel:"stream.reliable"}){const tt=defined$1(this.rtcClient,"Realtime connection has not been started"),nt=await this.getRemotePeer();tt.send(defined$1(nt).id,o,et)}async getRealtimeAudioStreams(){var o,et,tt,nt,rt,it;const ot=await this.getConfiguration(),st=[];for(const at of(et=(o=ot.teleop)==null?void 0:o.hardwareStreams)!=null?et:[])at.rtcStreamType==="audio-chunk"&&st.push({name:at.name});for(const at of(nt=(tt=ot.teleop)==null?void 0:tt.rosStreams)!=null?nt:[])at.topicType=="audio_common_msgs/AudioData"&&st.push({name:at.topicName});for(const at of(it=(rt=ot.teleop)==null?void 0:rt.customStreams)!=null?it:[])at.rtcStreamType==="audio-chunk"&&st.push({name:at.name});return st}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(s){let o=s.length;for(;--o>=0;)s[o]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(s,o,et,tt,nt){this.static_tree=s,this.extra_bits=o,this.extra_base=et,this.elems=tt,this.max_length=nt,this.has_stree=s&&s.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(s,o){this.dyn_tree=s,this.max_code=0,this.stat_desc=o}const d_code=s=>s<256?_dist_code[s]:_dist_code[256+(s>>>7)],put_short=(s,o)=>{s.pending_buf[s.pending++]=o&255,s.pending_buf[s.pending++]=o>>>8&255},send_bits=(s,o,et)=>{s.bi_valid>Buf_size-et?(s.bi_buf|=o<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=o>>Buf_size-s.bi_valid,s.bi_valid+=et-Buf_size):(s.bi_buf|=o<<s.bi_valid&65535,s.bi_valid+=et)},send_code=(s,o,et)=>{send_bits(s,et[o*2],et[o*2+1])},bi_reverse=(s,o)=>{let et=0;do et|=s&1,s>>>=1,et<<=1;while(--o>0);return et>>>1},bi_flush=s=>{s.bi_valid===16?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)},gen_bitlen=(s,o)=>{const et=o.dyn_tree,tt=o.max_code,nt=o.stat_desc.static_tree,rt=o.stat_desc.has_stree,it=o.stat_desc.extra_bits,ot=o.stat_desc.extra_base,st=o.stat_desc.max_length;let at,lt,ct,ut,dt,ht,pt=0;for(ut=0;ut<=MAX_BITS$1;ut++)s.bl_count[ut]=0;for(et[s.heap[s.heap_max]*2+1]=0,at=s.heap_max+1;at<HEAP_SIZE$1;at++)lt=s.heap[at],ut=et[et[lt*2+1]*2+1]+1,ut>st&&(ut=st,pt++),et[lt*2+1]=ut,!(lt>tt)&&(s.bl_count[ut]++,dt=0,lt>=ot&&(dt=it[lt-ot]),ht=et[lt*2],s.opt_len+=ht*(ut+dt),rt&&(s.static_len+=ht*(nt[lt*2+1]+dt)));if(pt!==0){do{for(ut=st-1;s.bl_count[ut]===0;)ut--;s.bl_count[ut]--,s.bl_count[ut+1]+=2,s.bl_count[st]--,pt-=2}while(pt>0);for(ut=st;ut!==0;ut--)for(lt=s.bl_count[ut];lt!==0;)ct=s.heap[--at],!(ct>tt)&&(et[ct*2+1]!==ut&&(s.opt_len+=(ut-et[ct*2+1])*et[ct*2],et[ct*2+1]=ut),lt--)}},gen_codes=(s,o,et)=>{const tt=new Array(MAX_BITS$1+1);let nt=0,rt,it;for(rt=1;rt<=MAX_BITS$1;rt++)nt=nt+et[rt-1]<<1,tt[rt]=nt;for(it=0;it<=o;it++){let ot=s[it*2+1];ot!==0&&(s[it*2]=bi_reverse(tt[ot]++,ot))}},tr_static_init=()=>{let s,o,et,tt,nt;const rt=new Array(MAX_BITS$1+1);for(et=0,tt=0;tt<LENGTH_CODES$1-1;tt++)for(base_length[tt]=et,s=0;s<1<<extra_lbits[tt];s++)_length_code[et++]=tt;for(_length_code[et-1]=tt,nt=0,tt=0;tt<16;tt++)for(base_dist[tt]=nt,s=0;s<1<<extra_dbits[tt];s++)_dist_code[nt++]=tt;for(nt>>=7;tt<D_CODES$1;tt++)for(base_dist[tt]=nt<<7,s=0;s<1<<extra_dbits[tt]-7;s++)_dist_code[256+nt++]=tt;for(o=0;o<=MAX_BITS$1;o++)rt[o]=0;for(s=0;s<=143;)static_ltree[s*2+1]=8,s++,rt[8]++;for(;s<=255;)static_ltree[s*2+1]=9,s++,rt[9]++;for(;s<=279;)static_ltree[s*2+1]=7,s++,rt[7]++;for(;s<=287;)static_ltree[s*2+1]=8,s++,rt[8]++;for(gen_codes(static_ltree,L_CODES$1+1,rt),s=0;s<D_CODES$1;s++)static_dtree[s*2+1]=5,static_dtree[s*2]=bi_reverse(s,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=s=>{let o;for(o=0;o<L_CODES$1;o++)s.dyn_ltree[o*2]=0;for(o=0;o<D_CODES$1;o++)s.dyn_dtree[o*2]=0;for(o=0;o<BL_CODES$1;o++)s.bl_tree[o*2]=0;s.dyn_ltree[END_BLOCK*2]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},bi_windup=s=>{s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},smaller=(s,o,et,tt)=>{const nt=o*2,rt=et*2;return s[nt]<s[rt]||s[nt]===s[rt]&&tt[o]<=tt[et]},pqdownheap=(s,o,et)=>{const tt=s.heap[et];let nt=et<<1;for(;nt<=s.heap_len&&(nt<s.heap_len&&smaller(o,s.heap[nt+1],s.heap[nt],s.depth)&&nt++,!smaller(o,tt,s.heap[nt],s.depth));)s.heap[et]=s.heap[nt],et=nt,nt<<=1;s.heap[et]=tt},compress_block=(s,o,et)=>{let tt,nt,rt=0,it,ot;if(s.sym_next!==0)do tt=s.pending_buf[s.sym_buf+rt++]&255,tt+=(s.pending_buf[s.sym_buf+rt++]&255)<<8,nt=s.pending_buf[s.sym_buf+rt++],tt===0?send_code(s,nt,o):(it=_length_code[nt],send_code(s,it+LITERALS$1+1,o),ot=extra_lbits[it],ot!==0&&(nt-=base_length[it],send_bits(s,nt,ot)),tt--,it=d_code(tt),send_code(s,it,et),ot=extra_dbits[it],ot!==0&&(tt-=base_dist[it],send_bits(s,tt,ot)));while(rt<s.sym_next);send_code(s,END_BLOCK,o)},build_tree=(s,o)=>{const et=o.dyn_tree,tt=o.stat_desc.static_tree,nt=o.stat_desc.has_stree,rt=o.stat_desc.elems;let it,ot,st=-1,at;for(s.heap_len=0,s.heap_max=HEAP_SIZE$1,it=0;it<rt;it++)et[it*2]!==0?(s.heap[++s.heap_len]=st=it,s.depth[it]=0):et[it*2+1]=0;for(;s.heap_len<2;)at=s.heap[++s.heap_len]=st<2?++st:0,et[at*2]=1,s.depth[at]=0,s.opt_len--,nt&&(s.static_len-=tt[at*2+1]);for(o.max_code=st,it=s.heap_len>>1;it>=1;it--)pqdownheap(s,et,it);at=rt;do it=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,et,1),ot=s.heap[1],s.heap[--s.heap_max]=it,s.heap[--s.heap_max]=ot,et[at*2]=et[it*2]+et[ot*2],s.depth[at]=(s.depth[it]>=s.depth[ot]?s.depth[it]:s.depth[ot])+1,et[it*2+1]=et[ot*2+1]=at,s.heap[1]=at++,pqdownheap(s,et,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,o),gen_codes(et,st,s.bl_count)},scan_tree=(s,o,et)=>{let tt,nt=-1,rt,it=o[0*2+1],ot=0,st=7,at=4;for(it===0&&(st=138,at=3),o[(et+1)*2+1]=65535,tt=0;tt<=et;tt++)rt=it,it=o[(tt+1)*2+1],!(++ot<st&&rt===it)&&(ot<at?s.bl_tree[rt*2]+=ot:rt!==0?(rt!==nt&&s.bl_tree[rt*2]++,s.bl_tree[REP_3_6*2]++):ot<=10?s.bl_tree[REPZ_3_10*2]++:s.bl_tree[REPZ_11_138*2]++,ot=0,nt=rt,it===0?(st=138,at=3):rt===it?(st=6,at=3):(st=7,at=4))},send_tree=(s,o,et)=>{let tt,nt=-1,rt,it=o[0*2+1],ot=0,st=7,at=4;for(it===0&&(st=138,at=3),tt=0;tt<=et;tt++)if(rt=it,it=o[(tt+1)*2+1],!(++ot<st&&rt===it)){if(ot<at)do send_code(s,rt,s.bl_tree);while(--ot!==0);else rt!==0?(rt!==nt&&(send_code(s,rt,s.bl_tree),ot--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,ot-3,2)):ot<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,ot-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,ot-11,7));ot=0,nt=rt,it===0?(st=138,at=3):rt===it?(st=6,at=3):(st=7,at=4)}},build_bl_tree=s=>{let o;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),o=BL_CODES$1-1;o>=3&&s.bl_tree[bl_order[o]*2+1]===0;o--);return s.opt_len+=3*(o+1)+5+5+4,o},send_all_trees=(s,o,et,tt)=>{let nt;for(send_bits(s,o-257,5),send_bits(s,et-1,5),send_bits(s,tt-4,4),nt=0;nt<tt;nt++)send_bits(s,s.bl_tree[bl_order[nt]*2+1],3);send_tree(s,s.dyn_ltree,o-1),send_tree(s,s.dyn_dtree,et-1)},detect_data_type=s=>{let o=4093624447,et;for(et=0;et<=31;et++,o>>>=1)if(o&1&&s.dyn_ltree[et*2]!==0)return Z_BINARY;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return Z_TEXT;for(et=32;et<LITERALS$1;et++)if(s.dyn_ltree[et*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=s=>{static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},_tr_stored_block$1=(s,o,et,tt)=>{send_bits(s,(STORED_BLOCK<<1)+(tt?1:0),3),bi_windup(s),put_short(s,et),put_short(s,~et),et&&s.pending_buf.set(s.window.subarray(o,o+et),s.pending),s.pending+=et},_tr_align$1=s=>{send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)},_tr_flush_block$1=(s,o,et,tt)=>{let nt,rt,it=0;s.level>0?(s.strm.data_type===Z_UNKNOWN$1&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),it=build_bl_tree(s),nt=s.opt_len+3+7>>>3,rt=s.static_len+3+7>>>3,rt<=nt&&(nt=rt)):nt=rt=et+5,et+4<=nt&&o!==-1?_tr_stored_block$1(s,o,et,tt):s.strategy===Z_FIXED$1||rt===nt?(send_bits(s,(STATIC_TREES<<1)+(tt?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(tt?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,it+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),tt&&bi_windup(s)},_tr_tally$1=(s,o,et)=>(s.pending_buf[s.sym_buf+s.sym_next++]=o,s.pending_buf[s.sym_buf+s.sym_next++]=o>>8,s.pending_buf[s.sym_buf+s.sym_next++]=et,o===0?s.dyn_ltree[et*2]++:(s.matches++,o--,s.dyn_ltree[(_length_code[et]+LITERALS$1+1)*2]++,s.dyn_dtree[d_code(o)*2]++),s.sym_next===s.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(s,o,et,tt)=>{let nt=s&65535|0,rt=s>>>16&65535|0,it=0;for(;et!==0;){it=et>2e3?2e3:et,et-=it;do nt=nt+o[tt++]|0,rt=rt+nt|0;while(--it);nt%=65521,rt%=65521}return nt|rt<<16|0};var adler32_1=adler32;const makeTable=()=>{let s,o=[];for(var et=0;et<256;et++){s=et;for(var tt=0;tt<8;tt++)s=s&1?3988292384^s>>>1:s>>>1;o[et]=s}return o},crcTable=new Uint32Array(makeTable()),crc32=(s,o,et,tt)=>{const nt=crcTable,rt=tt+et;s^=-1;for(let it=tt;it<rt;it++)s=s>>>8^nt[(s^o[it])&255];return s^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(s,o)=>(s.msg=messages[o],o),rank=s=>s*2-(s>4?9:0),zero=s=>{let o=s.length;for(;--o>=0;)s[o]=0},slide_hash=s=>{let o,et,tt,nt=s.w_size;o=s.hash_size,tt=o;do et=s.head[--tt],s.head[tt]=et>=nt?et-nt:0;while(--o);o=nt,tt=o;do et=s.prev[--tt],s.prev[tt]=et>=nt?et-nt:0;while(--o)};let HASH_ZLIB=(s,o,et)=>(o<<s.hash_shift^et)&s.hash_mask,HASH=HASH_ZLIB;const flush_pending=s=>{const o=s.state;let et=o.pending;et>s.avail_out&&(et=s.avail_out),et!==0&&(s.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+et),s.next_out),s.next_out+=et,o.pending_out+=et,s.total_out+=et,s.avail_out-=et,o.pending-=et,o.pending===0&&(o.pending_out=0))},flush_block_only=(s,o)=>{_tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,o),s.block_start=s.strstart,flush_pending(s.strm)},put_byte=(s,o)=>{s.pending_buf[s.pending++]=o},putShortMSB=(s,o)=>{s.pending_buf[s.pending++]=o>>>8&255,s.pending_buf[s.pending++]=o&255},read_buf=(s,o,et,tt)=>{let nt=s.avail_in;return nt>tt&&(nt=tt),nt===0?0:(s.avail_in-=nt,o.set(s.input.subarray(s.next_in,s.next_in+nt),et),s.state.wrap===1?s.adler=adler32_1(s.adler,o,nt,et):s.state.wrap===2&&(s.adler=crc32_1(s.adler,o,nt,et)),s.next_in+=nt,s.total_in+=nt,nt)},longest_match=(s,o)=>{let et=s.max_chain_length,tt=s.strstart,nt,rt,it=s.prev_length,ot=s.nice_match;const st=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,at=s.window,lt=s.w_mask,ct=s.prev,ut=s.strstart+MAX_MATCH;let dt=at[tt+it-1],ht=at[tt+it];s.prev_length>=s.good_match&&(et>>=2),ot>s.lookahead&&(ot=s.lookahead);do if(nt=o,!(at[nt+it]!==ht||at[nt+it-1]!==dt||at[nt]!==at[tt]||at[++nt]!==at[tt+1])){tt+=2,nt++;do;while(at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&at[++tt]===at[++nt]&&tt<ut);if(rt=MAX_MATCH-(ut-tt),tt=ut-MAX_MATCH,rt>it){if(s.match_start=o,it=rt,rt>=ot)break;dt=at[tt+it-1],ht=at[tt+it]}}while((o=ct[o&lt])>st&&--et!==0);return it<=s.lookahead?it:s.lookahead},fill_window=s=>{const o=s.w_size;let et,tt,nt;do{if(tt=s.window_size-s.lookahead-s.strstart,s.strstart>=o+(o-MIN_LOOKAHEAD)&&(s.window.set(s.window.subarray(o,o+o-tt),0),s.match_start-=o,s.strstart-=o,s.block_start-=o,s.insert>s.strstart&&(s.insert=s.strstart),slide_hash(s),tt+=o),s.strm.avail_in===0)break;if(et=read_buf(s.strm,s.window,s.strstart+s.lookahead,tt),s.lookahead+=et,s.lookahead+s.insert>=MIN_MATCH)for(nt=s.strstart-s.insert,s.ins_h=s.window[nt],s.ins_h=HASH(s,s.ins_h,s.window[nt+1]);s.insert&&(s.ins_h=HASH(s,s.ins_h,s.window[nt+MIN_MATCH-1]),s.prev[nt&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=nt,nt++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)},deflate_stored=(s,o)=>{let et=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,tt,nt,rt,it=0,ot=s.strm.avail_in;do{if(tt=65535,rt=s.bi_valid+42>>3,s.strm.avail_out<rt||(rt=s.strm.avail_out-rt,nt=s.strstart-s.block_start,tt>nt+s.strm.avail_in&&(tt=nt+s.strm.avail_in),tt>rt&&(tt=rt),tt<et&&(tt===0&&o!==Z_FINISH$3||o===Z_NO_FLUSH$2||tt!==nt+s.strm.avail_in)))break;it=o===Z_FINISH$3&&tt===nt+s.strm.avail_in?1:0,_tr_stored_block(s,0,0,it),s.pending_buf[s.pending-4]=tt,s.pending_buf[s.pending-3]=tt>>8,s.pending_buf[s.pending-2]=~tt,s.pending_buf[s.pending-1]=~tt>>8,flush_pending(s.strm),nt&&(nt>tt&&(nt=tt),s.strm.output.set(s.window.subarray(s.block_start,s.block_start+nt),s.strm.next_out),s.strm.next_out+=nt,s.strm.avail_out-=nt,s.strm.total_out+=nt,s.block_start+=nt,tt-=nt),tt&&(read_buf(s.strm,s.strm.output,s.strm.next_out,tt),s.strm.next_out+=tt,s.strm.avail_out-=tt,s.strm.total_out+=tt)}while(it===0);return ot-=s.strm.avail_in,ot&&(ot>=s.w_size?(s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart):(s.window_size-s.strstart<=ot&&(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,s.insert>s.strstart&&(s.insert=s.strstart)),s.window.set(s.strm.input.subarray(s.strm.next_in-ot,s.strm.next_in),s.strstart),s.strstart+=ot,s.insert+=ot>s.w_size-s.insert?s.w_size-s.insert:ot),s.block_start=s.strstart),s.high_water<s.strstart&&(s.high_water=s.strstart),it?BS_FINISH_DONE:o!==Z_NO_FLUSH$2&&o!==Z_FINISH$3&&s.strm.avail_in===0&&s.strstart===s.block_start?BS_BLOCK_DONE:(rt=s.window_size-s.strstart,s.strm.avail_in>rt&&s.block_start>=s.w_size&&(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,rt+=s.w_size,s.insert>s.strstart&&(s.insert=s.strstart)),rt>s.strm.avail_in&&(rt=s.strm.avail_in),rt&&(read_buf(s.strm,s.window,s.strstart,rt),s.strstart+=rt,s.insert+=rt>s.w_size-s.insert?s.w_size-s.insert:rt),s.high_water<s.strstart&&(s.high_water=s.strstart),rt=s.bi_valid+42>>3,rt=s.pending_buf_size-rt>65535?65535:s.pending_buf_size-rt,et=rt>s.w_size?s.w_size:rt,nt=s.strstart-s.block_start,(nt>=et||(nt||o===Z_FINISH$3)&&o!==Z_NO_FLUSH$2&&s.strm.avail_in===0&&nt<=rt)&&(tt=nt>rt?rt:nt,it=o===Z_FINISH$3&&s.strm.avail_in===0&&tt===nt?1:0,_tr_stored_block(s,s.block_start,tt,it),s.block_start+=tt,flush_pending(s.strm)),it?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(s,o)=>{let et,tt;for(;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&o===Z_NO_FLUSH$2)return BS_NEED_MORE;if(s.lookahead===0)break}if(et=0,s.lookahead>=MIN_MATCH&&(s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),et=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),et!==0&&s.strstart-et<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,et)),s.match_length>=MIN_MATCH)if(tt=_tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do s.strstart++,s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),et=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+1]);else tt=_tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(tt&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,o===Z_FINISH$3?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.sym_next&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(s,o)=>{let et,tt,nt;for(;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&o===Z_NO_FLUSH$2)return BS_NEED_MORE;if(s.lookahead===0)break}if(et=0,s.lookahead>=MIN_MATCH&&(s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),et=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,et!==0&&s.prev_length<s.max_lazy_match&&s.strstart-et<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,et),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){nt=s.strstart+s.lookahead-MIN_MATCH,tt=_tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=nt&&(s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),et=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,tt&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}else if(s.match_available){if(tt=_tr_tally(s,0,s.window[s.strstart-1]),tt&&flush_block_only(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(tt=_tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,o===Z_FINISH$3?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.sym_next&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(s,o)=>{let et,tt,nt,rt;const it=s.window;for(;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&o===Z_NO_FLUSH$2)return BS_NEED_MORE;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(nt=s.strstart-1,tt=it[nt],tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt])){rt=s.strstart+MAX_MATCH;do;while(tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt]&&tt===it[++nt]&&nt<rt);s.match_length=MAX_MATCH-(rt-nt),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(et=_tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(et=_tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),et&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,o===Z_FINISH$3?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.sym_next&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(s,o)=>{let et;for(;;){if(s.lookahead===0&&(fill_window(s),s.lookahead===0)){if(o===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(s.match_length=0,et=_tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,et&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,o===Z_FINISH$3?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.sym_next&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(s,o,et,tt,nt){this.good_length=s,this.max_lazy=o,this.nice_length=et,this.max_chain=tt,this.func=nt}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=s=>{s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=s=>{if(!s)return 1;const o=s.state;return!o||o.strm!==s||o.status!==INIT_STATE&&o.status!==GZIP_STATE&&o.status!==EXTRA_STATE&&o.status!==NAME_STATE&&o.status!==COMMENT_STATE&&o.status!==HCRC_STATE&&o.status!==BUSY_STATE&&o.status!==FINISH_STATE?1:0},deflateResetKeep=s=>{if(deflateStateCheck(s))return err(s,Z_STREAM_ERROR$2);s.total_in=s.total_out=0,s.data_type=Z_UNKNOWN;const o=s.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?GZIP_STATE:o.wrap?INIT_STATE:BUSY_STATE,s.adler=o.wrap===2?0:1,o.last_flush=-2,_tr_init(o),Z_OK$3},deflateReset=s=>{const o=deflateResetKeep(s);return o===Z_OK$3&&lm_init(s.state),o},deflateSetHeader=(s,o)=>deflateStateCheck(s)||s.state.wrap!==2?Z_STREAM_ERROR$2:(s.state.gzhead=o,Z_OK$3),deflateInit2=(s,o,et,tt,nt,rt)=>{if(!s)return Z_STREAM_ERROR$2;let it=1;if(o===Z_DEFAULT_COMPRESSION$1&&(o=6),tt<0?(it=0,tt=-tt):tt>15&&(it=2,tt-=16),nt<1||nt>MAX_MEM_LEVEL||et!==Z_DEFLATED$2||tt<8||tt>15||o<0||o>9||rt<0||rt>Z_FIXED||tt===8&&it!==1)return err(s,Z_STREAM_ERROR$2);tt===8&&(tt=9);const ot=new DeflateState;return s.state=ot,ot.strm=s,ot.status=INIT_STATE,ot.wrap=it,ot.gzhead=null,ot.w_bits=tt,ot.w_size=1<<ot.w_bits,ot.w_mask=ot.w_size-1,ot.hash_bits=nt+7,ot.hash_size=1<<ot.hash_bits,ot.hash_mask=ot.hash_size-1,ot.hash_shift=~~((ot.hash_bits+MIN_MATCH-1)/MIN_MATCH),ot.window=new Uint8Array(ot.w_size*2),ot.head=new Uint16Array(ot.hash_size),ot.prev=new Uint16Array(ot.w_size),ot.lit_bufsize=1<<nt+6,ot.pending_buf_size=ot.lit_bufsize*4,ot.pending_buf=new Uint8Array(ot.pending_buf_size),ot.sym_buf=ot.lit_bufsize,ot.sym_end=(ot.lit_bufsize-1)*3,ot.level=o,ot.strategy=rt,ot.method=et,deflateReset(s)},deflateInit=(s,o)=>deflateInit2(s,o,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(s,o)=>{if(deflateStateCheck(s)||o>Z_BLOCK$1||o<0)return s?err(s,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const et=s.state;if(!s.output||s.avail_in!==0&&!s.input||et.status===FINISH_STATE&&o!==Z_FINISH$3)return err(s,s.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const tt=et.last_flush;if(et.last_flush=o,et.pending!==0){if(flush_pending(s),s.avail_out===0)return et.last_flush=-1,Z_OK$3}else if(s.avail_in===0&&rank(o)<=rank(tt)&&o!==Z_FINISH$3)return err(s,Z_BUF_ERROR$1);if(et.status===FINISH_STATE&&s.avail_in!==0)return err(s,Z_BUF_ERROR$1);if(et.status===INIT_STATE&&et.wrap===0&&(et.status=BUSY_STATE),et.status===INIT_STATE){let nt=Z_DEFLATED$2+(et.w_bits-8<<4)<<8,rt=-1;if(et.strategy>=Z_HUFFMAN_ONLY||et.level<2?rt=0:et.level<6?rt=1:et.level===6?rt=2:rt=3,nt|=rt<<6,et.strstart!==0&&(nt|=PRESET_DICT),nt+=31-nt%31,putShortMSB(et,nt),et.strstart!==0&&(putShortMSB(et,s.adler>>>16),putShortMSB(et,s.adler&65535)),s.adler=1,et.status=BUSY_STATE,flush_pending(s),et.pending!==0)return et.last_flush=-1,Z_OK$3}if(et.status===GZIP_STATE){if(s.adler=0,put_byte(et,31),put_byte(et,139),put_byte(et,8),et.gzhead)put_byte(et,(et.gzhead.text?1:0)+(et.gzhead.hcrc?2:0)+(et.gzhead.extra?4:0)+(et.gzhead.name?8:0)+(et.gzhead.comment?16:0)),put_byte(et,et.gzhead.time&255),put_byte(et,et.gzhead.time>>8&255),put_byte(et,et.gzhead.time>>16&255),put_byte(et,et.gzhead.time>>24&255),put_byte(et,et.level===9?2:et.strategy>=Z_HUFFMAN_ONLY||et.level<2?4:0),put_byte(et,et.gzhead.os&255),et.gzhead.extra&&et.gzhead.extra.length&&(put_byte(et,et.gzhead.extra.length&255),put_byte(et,et.gzhead.extra.length>>8&255)),et.gzhead.hcrc&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending,0)),et.gzindex=0,et.status=EXTRA_STATE;else if(put_byte(et,0),put_byte(et,0),put_byte(et,0),put_byte(et,0),put_byte(et,0),put_byte(et,et.level===9?2:et.strategy>=Z_HUFFMAN_ONLY||et.level<2?4:0),put_byte(et,OS_CODE),et.status=BUSY_STATE,flush_pending(s),et.pending!==0)return et.last_flush=-1,Z_OK$3}if(et.status===EXTRA_STATE){if(et.gzhead.extra){let nt=et.pending,rt=(et.gzhead.extra.length&65535)-et.gzindex;for(;et.pending+rt>et.pending_buf_size;){let ot=et.pending_buf_size-et.pending;if(et.pending_buf.set(et.gzhead.extra.subarray(et.gzindex,et.gzindex+ot),et.pending),et.pending=et.pending_buf_size,et.gzhead.hcrc&&et.pending>nt&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending-nt,nt)),et.gzindex+=ot,flush_pending(s),et.pending!==0)return et.last_flush=-1,Z_OK$3;nt=0,rt-=ot}let it=new Uint8Array(et.gzhead.extra);et.pending_buf.set(it.subarray(et.gzindex,et.gzindex+rt),et.pending),et.pending+=rt,et.gzhead.hcrc&&et.pending>nt&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending-nt,nt)),et.gzindex=0}et.status=NAME_STATE}if(et.status===NAME_STATE){if(et.gzhead.name){let nt=et.pending,rt;do{if(et.pending===et.pending_buf_size){if(et.gzhead.hcrc&&et.pending>nt&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending-nt,nt)),flush_pending(s),et.pending!==0)return et.last_flush=-1,Z_OK$3;nt=0}et.gzindex<et.gzhead.name.length?rt=et.gzhead.name.charCodeAt(et.gzindex++)&255:rt=0,put_byte(et,rt)}while(rt!==0);et.gzhead.hcrc&&et.pending>nt&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending-nt,nt)),et.gzindex=0}et.status=COMMENT_STATE}if(et.status===COMMENT_STATE){if(et.gzhead.comment){let nt=et.pending,rt;do{if(et.pending===et.pending_buf_size){if(et.gzhead.hcrc&&et.pending>nt&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending-nt,nt)),flush_pending(s),et.pending!==0)return et.last_flush=-1,Z_OK$3;nt=0}et.gzindex<et.gzhead.comment.length?rt=et.gzhead.comment.charCodeAt(et.gzindex++)&255:rt=0,put_byte(et,rt)}while(rt!==0);et.gzhead.hcrc&&et.pending>nt&&(s.adler=crc32_1(s.adler,et.pending_buf,et.pending-nt,nt))}et.status=HCRC_STATE}if(et.status===HCRC_STATE){if(et.gzhead.hcrc){if(et.pending+2>et.pending_buf_size&&(flush_pending(s),et.pending!==0))return et.last_flush=-1,Z_OK$3;put_byte(et,s.adler&255),put_byte(et,s.adler>>8&255),s.adler=0}if(et.status=BUSY_STATE,flush_pending(s),et.pending!==0)return et.last_flush=-1,Z_OK$3}if(s.avail_in!==0||et.lookahead!==0||o!==Z_NO_FLUSH$2&&et.status!==FINISH_STATE){let nt=et.level===0?deflate_stored(et,o):et.strategy===Z_HUFFMAN_ONLY?deflate_huff(et,o):et.strategy===Z_RLE?deflate_rle(et,o):configuration_table[et.level].func(et,o);if((nt===BS_FINISH_STARTED||nt===BS_FINISH_DONE)&&(et.status=FINISH_STATE),nt===BS_NEED_MORE||nt===BS_FINISH_STARTED)return s.avail_out===0&&(et.last_flush=-1),Z_OK$3;if(nt===BS_BLOCK_DONE&&(o===Z_PARTIAL_FLUSH?_tr_align(et):o!==Z_BLOCK$1&&(_tr_stored_block(et,0,0,!1),o===Z_FULL_FLUSH$1&&(zero(et.head),et.lookahead===0&&(et.strstart=0,et.block_start=0,et.insert=0))),flush_pending(s),s.avail_out===0))return et.last_flush=-1,Z_OK$3}return o!==Z_FINISH$3?Z_OK$3:et.wrap<=0?Z_STREAM_END$3:(et.wrap===2?(put_byte(et,s.adler&255),put_byte(et,s.adler>>8&255),put_byte(et,s.adler>>16&255),put_byte(et,s.adler>>24&255),put_byte(et,s.total_in&255),put_byte(et,s.total_in>>8&255),put_byte(et,s.total_in>>16&255),put_byte(et,s.total_in>>24&255)):(putShortMSB(et,s.adler>>>16),putShortMSB(et,s.adler&65535)),flush_pending(s),et.wrap>0&&(et.wrap=-et.wrap),et.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=s=>{if(deflateStateCheck(s))return Z_STREAM_ERROR$2;const o=s.state.status;return s.state=null,o===BUSY_STATE?err(s,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(s,o)=>{let et=o.length;if(deflateStateCheck(s))return Z_STREAM_ERROR$2;const tt=s.state,nt=tt.wrap;if(nt===2||nt===1&&tt.status!==INIT_STATE||tt.lookahead)return Z_STREAM_ERROR$2;if(nt===1&&(s.adler=adler32_1(s.adler,o,et,0)),tt.wrap=0,et>=tt.w_size){nt===0&&(zero(tt.head),tt.strstart=0,tt.block_start=0,tt.insert=0);let st=new Uint8Array(tt.w_size);st.set(o.subarray(et-tt.w_size,et),0),o=st,et=tt.w_size}const rt=s.avail_in,it=s.next_in,ot=s.input;for(s.avail_in=et,s.next_in=0,s.input=o,fill_window(tt);tt.lookahead>=MIN_MATCH;){let st=tt.strstart,at=tt.lookahead-(MIN_MATCH-1);do tt.ins_h=HASH(tt,tt.ins_h,tt.window[st+MIN_MATCH-1]),tt.prev[st&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=st,st++;while(--at);tt.strstart=st,tt.lookahead=MIN_MATCH-1,fill_window(tt)}return tt.strstart+=tt.lookahead,tt.block_start=tt.strstart,tt.insert=tt.lookahead,tt.lookahead=0,tt.match_length=tt.prev_length=MIN_MATCH-1,tt.match_available=0,s.next_in=it,s.input=ot,s.avail_in=rt,tt.wrap=nt,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(s,o)=>Object.prototype.hasOwnProperty.call(s,o);var assign=function(s){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const et=o.shift();if(et){if(typeof et!="object")throw new TypeError(et+"must be non-object");for(const tt in et)_has(et,tt)&&(s[tt]=et[tt])}}return s},flattenChunks=s=>{let o=0;for(let tt=0,nt=s.length;tt<nt;tt++)o+=s[tt].length;const et=new Uint8Array(o);for(let tt=0,nt=0,rt=s.length;tt<rt;tt++){let it=s[tt];et.set(it,nt),nt+=it.length}return et},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let s=0;s<256;s++)_utf8len[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let o,et,tt,nt,rt,it=s.length,ot=0;for(nt=0;nt<it;nt++)et=s.charCodeAt(nt),(et&64512)===55296&&nt+1<it&&(tt=s.charCodeAt(nt+1),(tt&64512)===56320&&(et=65536+(et-55296<<10)+(tt-56320),nt++)),ot+=et<128?1:et<2048?2:et<65536?3:4;for(o=new Uint8Array(ot),rt=0,nt=0;rt<ot;nt++)et=s.charCodeAt(nt),(et&64512)===55296&&nt+1<it&&(tt=s.charCodeAt(nt+1),(tt&64512)===56320&&(et=65536+(et-55296<<10)+(tt-56320),nt++)),et<128?o[rt++]=et:et<2048?(o[rt++]=192|et>>>6,o[rt++]=128|et&63):et<65536?(o[rt++]=224|et>>>12,o[rt++]=128|et>>>6&63,o[rt++]=128|et&63):(o[rt++]=240|et>>>18,o[rt++]=128|et>>>12&63,o[rt++]=128|et>>>6&63,o[rt++]=128|et&63);return o};const buf2binstring=(s,o)=>{if(o<65534&&s.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,s.length===o?s:s.subarray(0,o));let et="";for(let tt=0;tt<o;tt++)et+=String.fromCharCode(s[tt]);return et};var buf2string=(s,o)=>{const et=o||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,o));let tt,nt;const rt=new Array(et*2);for(nt=0,tt=0;tt<et;){let it=s[tt++];if(it<128){rt[nt++]=it;continue}let ot=_utf8len[it];if(ot>4){rt[nt++]=65533,tt+=ot-1;continue}for(it&=ot===2?31:ot===3?15:7;ot>1&&tt<et;)it=it<<6|s[tt++]&63,ot--;if(ot>1){rt[nt++]=65533;continue}it<65536?rt[nt++]=it:(it-=65536,rt[nt++]=55296|it>>10&1023,rt[nt++]=56320|it&1023)}return buf2binstring(rt,nt)},utf8border=(s,o)=>{o=o||s.length,o>s.length&&(o=s.length);let et=o-1;for(;et>=0&&(s[et]&192)===128;)et--;return et<0||et===0?o:et+_utf8len[s[et]]>o?et:o},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(s){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},s||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let et=deflate_1$2.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(et!==Z_OK$2)throw new Error(messages[et]);if(o.header&&deflate_1$2.deflateSetHeader(this.strm,o.header),o.dictionary){let tt;if(typeof o.dictionary=="string"?tt=strings.string2buf(o.dictionary):toString$1.call(o.dictionary)==="[object ArrayBuffer]"?tt=new Uint8Array(o.dictionary):tt=o.dictionary,et=deflate_1$2.deflateSetDictionary(this.strm,tt),et!==Z_OK$2)throw new Error(messages[et]);this._dict_set=!0}}Deflate$1.prototype.push=function(s,o){const et=this.strm,tt=this.options.chunkSize;let nt,rt;if(this.ended)return!1;for(o===~~o?rt=o:rt=o===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof s=="string"?et.input=strings.string2buf(s):toString$1.call(s)==="[object ArrayBuffer]"?et.input=new Uint8Array(s):et.input=s,et.next_in=0,et.avail_in=et.input.length;;){if(et.avail_out===0&&(et.output=new Uint8Array(tt),et.next_out=0,et.avail_out=tt),(rt===Z_SYNC_FLUSH||rt===Z_FULL_FLUSH)&&et.avail_out<=6){this.onData(et.output.subarray(0,et.next_out)),et.avail_out=0;continue}if(nt=deflate_1$2.deflate(et,rt),nt===Z_STREAM_END$2)return et.next_out>0&&this.onData(et.output.subarray(0,et.next_out)),nt=deflate_1$2.deflateEnd(this.strm),this.onEnd(nt),this.ended=!0,nt===Z_OK$2;if(et.avail_out===0){this.onData(et.output);continue}if(rt>0&&et.next_out>0){this.onData(et.output.subarray(0,et.next_out)),et.avail_out=0;continue}if(et.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(s){this.chunks.push(s)};Deflate$1.prototype.onEnd=function(s){s===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function deflate$1(s,o){const et=new Deflate$1(o);if(et.push(s,!0),et.err)throw et.msg||messages[et.err];return et.result}function deflateRaw$1(s,o){return o=o||{},o.raw=!0,deflate$1(s,o)}function gzip$1(s,o){return o=o||{},o.gzip=!0,deflate$1(s,o)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1;var deflate_1=deflate,fromByteArray_1=fromByteArray,lookup=[],code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i];function tripletToBase64(s){return lookup[s>>18&63]+lookup[s>>12&63]+lookup[s>>6&63]+lookup[s&63]}function encodeChunk(s,o,et){for(var tt,nt=[],rt=o;rt<et;rt+=3)tt=(s[rt]<<16&16711680)+(s[rt+1]<<8&65280)+(s[rt+2]&255),nt.push(tripletToBase64(tt));return nt.join("")}function fromByteArray(s){for(var o,et=s.length,tt=et%3,nt=[],rt=16383,it=0,ot=et-tt;it<ot;it+=rt)nt.push(encodeChunk(s,it,it+rt>ot?ot:it+rt));return tt===1?(o=s[et-1],nt.push(lookup[o>>2]+lookup[o<<4&63]+"==")):tt===2&&(o=(s[et-2]<<8)+s[et-1],nt.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),nt.join("")}const encoder=new TextEncoder;new TextDecoder;function serializeHash(s){const o=JSON.stringify(s),et=encoder.encode(o),tt=deflate_1(et);return fromByteArray_1(tt)}async function getViews(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/views`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function createShareLink(s,o){if(!Authentication.token)throw new Error("Not authenticated");const et=(await getViews()).filter(it=>it.name===o);if(et.length===0)return console.warn("View does not exist or it is misspell"),null;const tt=await fetch(`${FORMANT_API_URL}/v1/admin/shares`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),nt=FORMANT_API_URL.replace("api","app"),{code:rt}=await tt.json();return`${nt}/shares/${rt}#${serializeHash({viewId:et[0].id})}`}const aggregateByDateFunctions={day:{interval:eachDayOfInterval,start:startOfDay,end:endOfDay,sub:subDays,get:getDay},week:{interval:eachWeekOfInterval,start:startOfWeek,end:endOfWeek,sub:subWeeks,get:getWeek},month:{interval:eachMonthOfInterval,start:startOfMonth,end:endOfMonth,sub:subMonths,get:getMonth},year:{interval:eachYearOfInterval,start:startOfYear,end:endOfYear,sub:subYears,get:getYear},hour:{interval:eachHourOfInterval,start:startOfHour,end:endOfHour,sub:subHours,get:getHours},minute:{interval:eachMinuteOfInterval,start:startOfMinute,end:endOfMinute,sub:subMinutes,get:getMinutes},quarter:{interval:eachQuarterOfInterval,start:startOfQuarter,end:endOfQuarter,sub:subQuarters,get:getQuarter}},formatTimeFrameText=(s,o)=>s.split("/")[0]+"/"+s.split("/")[1]+"–"+o.split("/")[0]+"/"+o.split("/")[1];async function queryEvents(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function eventsCounter(s,o,et,tt,nt){const rt=aggregateByDateFunctions[o];return await Promise.all(Array(et).fill(0).map(async(it,ot)=>{const st=new Date(tt),at=rt.sub(rt.start(st),et-ot-1),lt=rt.sub(rt.end(st),et-ot-1),ct=formatTimeFrameText(at.toLocaleDateString(),lt.toLocaleDateString()),ut=await queryEvents({...nt,eventTypes:s,start:new Date(at).toISOString(),end:new Date(lt).toISOString()});return{date:ct,events:ut}}))}async function getAnnotationCount(s,o){return(await queryEvents({...s,eventTypes:["annotation"]})).filter(et=>!!et.tags&&Object.keys(et.tags).includes(o)).reduce((et,tt)=>{const nt=tt.tags[o];return nt in et?(et[nt]+=1,et):(et[nt]=1,et)},{})}async function getAnnotationCountByIntervals(s,o,et){const{end:tt,start:nt}=s,rt=aggregateByDateFunctions[et].interval({start:new Date(nt),end:new Date(tt)}),it=rt.map((st,at)=>{const lt=new Date(st).toISOString(),ct=at===rt.length-1?new Date(Date.now()).toISOString():new Date(rt[at+1]);return getAnnotationCount({...s,start:lt,end:ct},o)}),ot=await Promise.all(it);return rt.map((st,at)=>({date:new Date(st).toISOString(),annotations:ot[at]}))}async function getTelemetry(s,o,et,tt,nt,rt){let it=s;Array.isArray(s)||(it=[s]);let ot=o;return Array.isArray(o)||(ot=[o]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:it,end:tt.toISOString(),names:ot,start:et.toISOString(),tags:nt,latestOnly:rt}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");const s=defaultRtcClientPool.get();try{return await s.getSessions()}finally{await s.shutdown()}}async function getPeers(){if(!Authentication.token)throw new Error("Not authenticated");const s=defaultRtcClientPool.get();try{return await s.getPeers()}finally{await s.shutdown()}}async function createDevice(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/devices`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function patchDevice(s,o){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${s}`,{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function getDevicesData(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function queryDevicesData(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function disableDevice(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${s}/disable`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}class Device extends BaseDevice{constructor(o,et,tt,nt){super(),this.id=o,this.name=et,this.organizationId=tt,this.tags=nt}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async getConfiguration(o=!1){let et=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}});const tt=await et.json();if(!tt.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const nt=o?tt.desiredConfigurationVersion:tt.state.reportedConfiguration.version;return et=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}/configurations/${nt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),(await et.json()).document}async getAgentVersion(){var o;const et=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return(o=et?.state)==null?void 0:o.agentVersion}async getFileUrl(o){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}async startRealtimeConnection(o={}){if(console.debug(`${new Date().toISOString()} :: Connection start requested`),this.rtcClient&&this.connectionMonitorInterval!==void 0)throw new Error(`Already created realtime connection to device ${this.id}`);this.rtcClient&&console.warn("overwriting existing rtcClient due to missing connectionMonitorInterval");const{sessionType:et,deadlineMs:tt=1e4,maxConnectRetries:nt=3}=typeof o=="number"?{sessionType:o}:o,rt=getRtcClientPool({sessionType:et}).get(this.handleMessage);let it=!1;const ot=new Promise((at,lt)=>setTimeout(()=>{it=!0,lt(new Error("Connection timed out: the connection could not be finalized in time, possibly due to network issues or misconfigured settings."))},tt)),st=async()=>{if("isReady"in rt)for(;!rt.isReady();)this.assertNotCancelled(it),await delay$1(100);const at=await this.getRemoteDevicePeerId(rt);this.assertNotCancelled(it);let lt;for(let ut=0;ut<nt&&(lt=await rt.connect(at),!lt);ut++)delay$1(100),this.assertNotCancelled(it);if(!lt)throw new Error(`Session could not be created: exhausted ${nt} retries`);let ct=0;for(;!it&&rt.getConnectionStatus(at)!=="connected";)await delay$1(100),ct+=1;return this.assertNotCancelled(it),console.debug(`${new Date().toISOString()} :: Connection completed after ${ct} retries`),at};return Promise.race([st(),ot]).then(at=>{this.remoteDevicePeerId=at,this.initConnectionMonitoring(),this.rtcClient=rt,this.emit("connect")}).catch(at=>{throw console.debug(`${new Date().toISOString()} :: Connection failed: %o`,at),this.remoteDevicePeerId=null,rt.shutdown().catch(lt=>{console.error("rtcClient cannot shutdown: %o",lt)}),this.emit("connection_failed",at),at})}async getRemoteDevicePeerId(o){const et=(await o.getPeers()).find(tt=>tt.deviceId===this.id);if(!isRtcPeer(et))throw new Error("Cannot find peer, is the robot offline?");return et.id}initConnectionMonitoring(){this.connectionMonitorInterval=setInterval(async()=>{let o=!1;if(this.rtcClient){const et=this.rtcClient.getConnections().find(tt=>tt.getRemotePeerId()===this.remoteDevicePeerId&&tt.isActive());(et===void 0||!et.isReady())&&(console.debug(`${new Date().toISOString()} :: data channel closed`),o=!0)}(!this.rtcClient||!this.remoteDevicePeerId||await this.rtcClient.getConnectionStatsInfo(this.remoteDevicePeerId)===void 0||o)&&(this.emit("disconnect"),this.stopRealtimeConnection().catch(et=>{console.error(et)}))},1e3)}async getRemotePeer(){const o=(await defined$1(this.rtcClient,"Realtime connection has not been started").getPeers()).find(et=>et.deviceId===this.id);return defined$1(o,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){let o=!1;if(this.rtcClient){this.stopConnectionMonitoring(),this.remoteDevicePeerId?(await this.rtcClient.disconnect(this.remoteDevicePeerId),this.remoteDevicePeerId=null):o=!0;try{await this.rtcClient.shutdown()}finally{this.rtcClient=void 0}}if(o)throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){const o=await getPeers(),et=await getRealtimeSessions(),tt=o.find(nt=>nt.deviceId===this.id);return tt?et[tt.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(o=>({name:o.name,id:o.id,command:o.command,description:o.description,parameterEnabled:o.parameterEnabled,parameterValue:o.parameterValue,parameterMeta:o.parameterMeta,enabled:o.enabled,tags:o.tags}))}async sendCommand(o,et,tt,nt){var rt;const it=(await this.getAvailableCommands()).find(at=>at.name===o);if(!it)throw new Error(`Could not find command with name "${o}"`);let ot="";et===void 0?it.parameterEnabled&&it.parameterValue&&(ot=it.parameterValue):ot=et;let st={value:ot,scrubberTime:(tt||new Date).toISOString(),meta:{...it.parameterMeta,...nt}};return await fetch(`${FORMANT_API_URL}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:it.id,organizationId:this.organizationId,deviceId:this.id,command:it.command,parameter:st,userId:(rt=Authentication.currentUser)==null?void 0:rt.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async getCommand(o){return await fetch(`${FORMANT_API_URL}/v1/admin/commands/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async createCaptureStream(o){const et=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:o,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return new CaptureStream(et)}async getTelemetry(o,et,tt,nt,rt,it,ot){if(rt!==void 0||it!==void 0)throw new Error("Limit and offset are not supported in this method");return await getTelemetry(this.id,o,et,tt,nt,ot)}async queryEvents(o){if(o.deviceIds)throw new Error("Cannot filter multiple devices via Device class");return o.deviceIds=[this.id],queryEvents(o)}async getTelemetryStreams(){var o,et;const tt=await this.getConfiguration(),nt=await fetch(`${FORMANT_API_URL}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),rt=[],it=[];return(et=(o=tt.telemetry)==null?void 0:o.streams)==null||et.forEach(ot=>{ot.disabled!==!0&&rt.push(ot.name),ot.onDemand===!0&&it.push(ot.name)}),console.log(it),(await nt.json()).items.filter(ot=>!rt.includes(ot)).map(ot=>({name:ot,onDemand:it.includes(ot)}))}async createInterventionRequest(o,et,tt,nt){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"POST",body:JSON.stringify({message:o,interventionType:et,time:new Date().toISOString(),deviceId:this.id,tags:nt,data:tt}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async addInterventionResponse(o,et,tt){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-responses`,{method:"POST",body:JSON.stringify({interventionId:o,interventionType:et,data:tt}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async getAnnotationCount(o,et){return await getAnnotationCount({...o,deviceIds:[this.id]},et)}async getAnnotationCountByIntervals(o,et,tt){return await getAnnotationCountByIntervals({...o,deviceIds:[this.id]},et,tt)}async eventsCounter(o,et,tt,nt,rt){return await eventsCounter(o,et,tt,nt,{...rt,deviceIds:[this.id]})}async createShareLink(o,et){return o.scope.deviceIds=[this.id],await createShareLink(o,et)}}he(Device,"createDevice",createDevice),he(Device,"patchDevice",patchDevice),he(Device,"getDevicesData",getDevicesData),he(Device,"queryDevicesData",queryDevicesData),he(Device,"disableDevice",disableDevice);class PeerDevice extends BaseDevice{constructor(o){super(),he(this,"id"),he(this,"telemetryStreamActive",!1),he(this,"streamTelemetry",{}),this.peerUrl=o}async getLatestTelemetry(){this.telemetryStreamActive||this.subscribeToTelemetry();const o=this.streamTelemetry;return Object.entries(o).map(([et,tt])=>({deviceId:this.id,streamName:et,streamType:"json",currentValue:tt,currentValueTime:tt.timestamp,tags:{}}))}async getTelemetry(o,et,tt,nt,rt,it,ot){if(Array.isArray(o))throw new Error("Multiple stream names not supported");if(nt)throw new Error("Tags not supported");if(ot&&rt===void 0)rt=1;else if(ot&&rt!==void 0)throw new Error("latestOnly and limit cannot be used together");let st=`${this.peerUrl}/v1/querydatapoints?stream_name=${o}&start=${et.toISOString()}&end=${tt.toISOString()}`;rt!=null&&rt>0&&(st+=`&limit=${rt}`),it!=null&&it>=0&&(st+=`&offset=${it}`);const at=await(await fetch(st)).json(),lt=[];for(const ct of at.results){const ut=parseInt(ct.timestamp),dt=ct.tags.data_type;delete ct.tags.data_type,lt.push({deviceId:this.id,name:ct.stream,points:[[ut,this.getPointPayload(dt,ct)]],tags:ct.tags,type:dt})}return lt.reverse()}async queryEvents(o){const et=["id","viewed","keyword","message","sort","eventTypes","notificationEnabled","userIds","annotationTemplateIds","disableNullMatches","severities","deviceIds","names","types","tags","notNames"];this.checkKeysAndThrow(o,et);let tt=`${this.peerUrl}/v1/queryevents?start=${o.start}&end=${o.end}`;o.count!=null&&o.count>0&&(tt+=`&limit=${o.count}`),o.offset!=null&&o.offset>=0&&(tt+=`&offset=${o.offset}`);const nt=await(await fetch(tt)).json(),rt=[];for(const it of nt.results){const ot=parseInt(it.timestamp),st={deviceId:this.id,time:new Date(ot).toISOString(),message:it.message,notificationEnabled:it.notificationEnabled,type:it.type,tags:it.tags};it.id!==""&&(st.id=it.id),it.type!==""&&(st.type=it.type),it.streamName!==""&&(st.streamName=it.streamName),it.streamType!==""&&(st.streamType=it.streamType),it.severity!==""&&(st.severity=it.severity.toLowerCase()),it.tags&&(st.tags=it.tags),it.endTimestamp!=="0"&&(st.endTime=new Date(parseInt(it.endTimestamp)).toISOString()),rt.push(st)}return rt.reverse()}checkKeysAndThrow(o,et){const tt=et.filter(nt=>nt in o);if(tt.length>0)throw new Error(`Filters not currently supported: ${tt.join(", ")}.`)}getPointPayload(o,et){switch(o){case"numeric":return et.numeric.value;case"numeric set":return et.numericSet.numerics;case"text":return et.text.value;case"json":return et.json.value;case"bitset":const tt=[],nt=[];for(const rt of et.bitset.bits)tt.push(rt.key),nt.push(rt.value);return{keys:tt,values:nt};case"location":return et.location;case"health":return et.health;case"battery":return et.battery;default:return{}}}subscribeToTelemetry(){this.telemetryStreamActive=!0;let o=0;const et=new XMLHttpRequest;et.responseType="text",et.addEventListener("error",tt=>{this.handleXHRError("error")}),et.addEventListener("abort",tt=>{this.handleXHRError("abort")}),et.addEventListener("timeout",tt=>{this.handleXHRError("timeout")}),et.addEventListener("readystatechange",tt=>{et.readyState===XMLHttpRequest.DONE&&this.handleXHRError("closed")}),et.addEventListener("progress",tt=>{const nt=tt.loaded,rt=nt-o;o=nt,et.responseText.substr(-rt).split(`
`).forEach(it=>{var ot;if(it.length>0){const st=JSON.parse(it);if((ot=st.result)!=null&&ot.datapoint){const at=st.result.datapoint,lt=at.stream;delete at.stream,this.streamTelemetry[lt]=at}}})}),et.open("POST",`${this.peerUrl}/v1/telemetry`),et.send()}handleXHRError(o){console.warn(`Telemetry stream ended: ${o}`),this.telemetryStreamActive=!1}async getDeviceId(){return(await(await fetch(`${this.peerUrl}/v1/config`)).json()).configuration.id}async getConfiguration(){return(await(await fetch(`${this.peerUrl}/v1/config`)).json()).configuration.document}async getViews(){return(await(await fetch(`${this.peerUrl}/v1/views`)).json()).views}async startRealtimeConnection(o){if(console.debug(`${new Date().toISOString()} :: Connection start requested`),this.rtcClient&&this.connectionMonitorInterval!==void 0)throw new Error(`Already created realtime connection to device ${this.id}`);this.rtcClient&&console.warn("overwriting existing rtcClient due to missing connectionMonitorInterval");const et=new distExports.RtcClient({lanOnlyMode:!0,receive:this.handleMessage,sessionType:o});for(await et.connectLan(this.peerUrl);et.getConnectionStatus(this.peerUrl)!=="connected";)await delay$1(100);this.rtcClient=et,this.initConnectionMonitoring()}initConnectionMonitoring(){this.connectionMonitorInterval=setInterval(async()=>{let o=!1;this.rtcClient&&this.rtcClient.getConnectionStatus(this.peerUrl)!=="connected"&&(console.debug(`${new Date().toISOString()} :: data channel closed`),o=!0),(!this.rtcClient||o)&&(this.emit("disconnect"),this.stopRealtimeConnection().catch(et=>{console.error(et)}))},1e3)}async getRemotePeer(){return{id:this.peerUrl,organizationId:"",deviceId:this.id,capabilities:[],capabilitySet:{}}}async stopRealtimeConnection(){let o=!1;if(this.rtcClient){this.stopConnectionMonitoring(),this.id?(await this.rtcClient.disconnect(this.id),this.remoteDevicePeerId=null):o=!0;try{await this.rtcClient.shutdown()}finally{this.rtcClient=void 0}}if(o)throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async getCommandMetadata(){return(await fetch(`${this.peerUrl}/v1/commands`)).json()}async sendCommand(o,et,tt,nt){const rt={value:et,scrubberTime:(tt||new Date).toISOString(),meta:nt};return await fetch(`${this.peerUrl}/v1/enqueue-command`,{method:"POST",body:JSON.stringify({command:o,parameter:rt}),headers:{"Content-Type":"application/json"}})}}async function addDeviceToFleet(s,o){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${s}`,{method:"PATCH",body:JSON.stringify({fleetId:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function aggregateTelemetry(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).aggregates}async function deleteFleet(s){if(!Authentication.token)throw new Error("Not authenticated");await fetch(`${FORMANT_API_URL}/v1/admin/fleets/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async function getAnalyticStreams(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/streams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getAnalyticsModules(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/analytics-modules`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getAnalyticsRows(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/rows`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function queryDevices(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(o=>new Device(o.id,o.name,o.organizationId,o.tags))}async function getCurrentGroup(){if(!Authentication.token)throw new Error("Not authenticated");let s=new URLSearchParams("");typeof window<"u"&&window.location&&(s=new URLSearchParams(window.location.search));const o=s.get("group");if(o===null||o.trim()==="")return;const et=await fetch(`${FORMANT_API_URL}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),{tagKey:tt,tagValue:nt}=await et.json();return await queryDevices({tags:{[tt]:[nt]},enabled:!0,type:"default"})}async function getDevice(s){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),et=o.name;return new Device(s,et,o.organizationId,o.tags)}async function getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return s.items,s.items.map(o=>new Device(o.id,o.name,defined$1(Authentication.currentOrganization),o.tags))}async function getEvent(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query/id=${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getFileUrl(s){const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[s]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(o.fileUrls.length===0)throw new Error("File not found");return o.fileUrls[0]}async function getFleet(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/fleets/${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function getFleetDevices(s){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/fleets/${s}/devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getInterventions(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getLatestTelemetry(...s){const o=s.flat().filter(et=>!!et);return o.length===0?[]:(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await getDevices()).filter(o=>s.includes(o.id))}async function getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(o=>o.deviceId);return(await getDevices()).filter(o=>s.includes(o.id))}async function getStreams(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/streams`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.filter(s=>s.enabled)}async function getTaskReportRows(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/task-report-rows`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function getTaskReportTables(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics/task-reports`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function listFleets(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/fleets`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function patchFleet(s,o){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/fleets/${s}`,{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function patchStream(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/streams/${s.id}`,{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function patchView(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/views/${s.id}`,{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function queryAnalytics$1(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/queries/analytics`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function createFleet(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/fleets`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function getAllEventTriggerGroup(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/event-trigger-groups`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async function getEventTriggerGroup(s){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/event-trigger-groups/${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async function patchEventTriggerGroup(s,o){if(!Authentication.token)throw new Error("Not authenticated");return await(await fetch(`${FORMANT_API_URL}/v1/admin/event-trigger-groups/${s}`,{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}const Qt=class{static async setDefaultDevice(s){Qt.defaultDeviceId=s}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!Qt.defaultDeviceId)throw new Error("No known default device");const s=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(tt=>tt.id===Qt.defaultDeviceId),o=s.name,et=new Device(Qt.defaultDeviceId,o,defined$1(Authentication.currentOrganization),s.tags);return Qt.knownContext.push(new WeakRef(et)),et}static async getPeerDevice(s){const o=new PeerDevice(s);return o.id=await o.getDeviceId(),o}static async getDevice(s){const o=await getDevice(s);return Qt.knownContext.push(new WeakRef(o)),o}};let Fleet=Qt;he(Fleet,"defaultDeviceId"),he(Fleet,"knownContext",[]),he(Fleet,"createFleet",createFleet),he(Fleet,"listFleets",listFleets),he(Fleet,"getFleet",getFleet),he(Fleet,"patchFleet",patchFleet),he(Fleet,"deleteFleet",deleteFleet),he(Fleet,"addDeviceToFleet",addDeviceToFleet),he(Fleet,"getFleetDevices",getFleetDevices),he(Fleet,"aggregateTelemetry",aggregateTelemetry),he(Fleet,"createShareLink",createShareLink),he(Fleet,"eventsCounter",eventsCounter),he(Fleet,"getAnalyticStreams",getAnalyticStreams),he(Fleet,"getAnalyticsModules",getAnalyticsModules),he(Fleet,"getAnalyticsRows",getAnalyticsRows),he(Fleet,"getAnnotationCount",getAnnotationCount),he(Fleet,"getAnnotationCountByIntervals",getAnnotationCountByIntervals),he(Fleet,"getCurrentGroup",getCurrentGroup),he(Fleet,"getDevices",getDevices),he(Fleet,"getEvent",getEvent),he(Fleet,"getFileUrl",getFileUrl),he(Fleet,"getInterventions",getInterventions),he(Fleet,"getLatestTelemetry",getLatestTelemetry),he(Fleet,"getOnlineDevices",getOnlineDevices),he(Fleet,"getPeers",getPeers),he(Fleet,"getRealtimeDevices",getRealtimeDevices),he(Fleet,"getRealtimeSessions",getRealtimeSessions),he(Fleet,"getStreams",getStreams),he(Fleet,"getTaskReportRows",getTaskReportRows),he(Fleet,"getTaskReportTables",getTaskReportTables),he(Fleet,"getTelemetry",getTelemetry),he(Fleet,"getViews",getViews),he(Fleet,"patchStream",patchStream),he(Fleet,"patchView",patchView),he(Fleet,"queryAnalytics",queryAnalytics$1),he(Fleet,"queryDevices",queryDevices),he(Fleet,"queryEvents",queryEvents),he(Fleet,"queryTelemetry",queryTelemetry),he(Fleet,"getAllEventTriggerGroup",getAllEventTriggerGroup),he(Fleet,"getEventTriggerGroup",getEventTriggerGroup),he(Fleet,"patchEventTriggergroup",patchEventTriggerGroup);try{const s=typeof window<"u"&&window.location?new URLSearchParams(window.location.search):new URLSearchParams(""),o=s.get("device");o&&Fleet.setDefaultDevice(o);const et=s.get("auth");et&&Authentication.loginWithToken(et),s.get("module")&&Authentication.listenForRefresh(),typeof window<"u"&&App.listenForConnectionEvents()}catch(s){}var signaling_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(s,o,et){s instanceof String&&(s=String(s));for(var tt=s.length,nt=0;nt<tt;nt++){var rt=s[nt];if(o.call(et,rt,nt,s))return{i:nt,v:rt}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(s,o,et){s!=Array.prototype&&s!=Object.prototype&&(s[o]=et.value)},$jscomp.getGlobal=function(s){return typeof window<"u"&&window===s?s:typeof commonjsGlobal<"u"&&commonjsGlobal!=null?commonjsGlobal:s},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(s,o,et,tt){if(o){for(et=$jscomp.global,s=s.split("."),tt=0;tt<s.length-1;tt++){var nt=s[tt];nt in et||(et[nt]={}),et=et[nt]}s=s[s.length-1],tt=et[s],o=o(tt),o!=tt&&o!=null&&$jscomp.defineProperty(et,s,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(s){return s||function(o,et){return $jscomp.findInternal(this,o,et).i}},"es6","es3"),$jscomp.checkStringArgs=function(s,o,et){if(s==null)throw new TypeError("The 'this' value for String.prototype."+et+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+et+" must not be a regular expression");return s+""},$jscomp.polyfill("String.prototype.endsWith",function(s){return s||function(o,et){var tt=$jscomp.checkStringArgs(this,o,"endsWith");o+="",et===void 0&&(et=tt.length),et=Math.max(0,Math.min(et|0,tt.length));for(var nt=o.length;0<nt&&0<et;)if(tt[--et]!=o[--nt])return!1;return 0>=nt}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(s){return s||function(o,et){return $jscomp.findInternal(this,o,et).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(s){return s||function(o,et){var tt=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var nt=tt.length,rt=o.length;et=Math.max(0,Math.min(et|0,tt.length));for(var it=0;it<rt&&et<nt;)if(tt[et++]!=o[it++])return!1;return it>=rt}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(s){return s||function(o){var et=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var tt="";o;)o&1&&(tt+=et),(o>>>=1)&&(et+=et);return tt}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(s,o,et){s=s.split("."),et=et||goog.global,s[0]in et||typeof et.execScript>"u"||et.execScript("var "+s[0]);for(var tt;s.length&&(tt=s.shift());)s.length||o===void 0?et=et[tt]&&et[tt]!==Object.prototype[tt]?et[tt]:et[tt]={}:et[tt]=o},goog.define=function(s,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(s){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(s)},goog.constructNamespace_=function(s,o){goog.exportPath_(s,o)},goog.getScriptNonce=function(s){return s&&s!=goog.global?goog.getScriptNonce_(s.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(s)?s:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(s){if(typeof s!="string"||!s||s.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+s+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=s},goog.module.get=function(s){return goog.module.getInternal_(s)},goog.module.getInternal_=function(s){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var s=goog.global.$jscomp;return s?typeof s.getCurrentModulePath!="function"?!1:!!s.getCurrentModulePath():!1},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(s){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=s;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+s+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[s]={exports:o,type:goog.ModuleType.ES6,moduleId:s}}},goog.setTestOnly=function(s){if(goog.DISALLOW_TEST_ONLY_CODE)throw s=s||"",Error("Importing test-only code into non-debug environment"+(s?": "+s:"."))},goog.forwardDeclare=function(s){},goog.getObjectByName=function(s,o){s=s.split("."),o=o||goog.global;for(var et=0;et<s.length;et++)if(o=o[s[et]],o==null)return null;return o},goog.globalize=function(s,o){o=o||goog.global;for(var et in s)o[et]=s[et]},goog.addDependency=function(s,o,et,tt){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(s){goog.global.console&&goog.global.console.error(s)},goog.require=function(s){},goog.requireType=function(s){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(s){s.instance_=void 0,s.getInstance=function(){return s.instance_?s.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=s),s.instance_=new s)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(s){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(s){return"(function(){"+s+`
;})();
`},goog.loadModule=function(s){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(s))var et=s.call(void 0,{});else if(typeof s=="string")goog.useSafari10Workaround()&&(s=goog.workaroundSafari10EvalBug(s)),et=goog.loadModuleFromSource_.call(void 0,s);else throw Error("Invalid module definition");var tt=goog.moduleLoaderState_.moduleName;if(typeof tt=="string"&&tt)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(tt,et):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof et=="object"&&et!=null&&Object.seal(et),goog.loadedModules_[tt]={exports:et,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+tt+'"')}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(s){s=s.split("/");for(var o=0;o<s.length;)s[o]=="."?s.splice(o,1):o&&s[o]==".."&&s[o-1]&&s[o-1]!=".."?s.splice(--o,2):o++;return s.join("/")},goog.loadFileSync_=function(s){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(s);try{var o=new goog.global.XMLHttpRequest;return o.open("get",s,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(s,o,et){var tt=goog.global.$jscomp;tt||(goog.global.$jscomp=tt={});var nt=tt.transpile;if(!nt){var rt=goog.basePath+goog.TRANSPILER,it=goog.loadFileSync_(rt);if(it){if(function(){(0,eval)(it+`
//# sourceURL=`+rt)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,tt=goog.global.$jscomp,nt=tt.transpile}}return nt||(nt=tt.transpile=function(ot,st){return goog.logToConsole_(st+" requires transpilation but no transpiler was found."),ot}),nt(s,o,et)},goog.typeOf=function(s){var o=typeof s;if(o=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return o;var et=Object.prototype.toString.call(s);if(et=="[object Window]")return"object";if(et=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(et=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(o=="function"&&typeof s.call>"u")return"object";return o},goog.isArray=function(s){return goog.typeOf(s)=="array"},goog.isArrayLike=function(s){var o=goog.typeOf(s);return o=="array"||o=="object"&&typeof s.length=="number"},goog.isDateLike=function(s){return goog.isObject(s)&&typeof s.getFullYear=="function"},goog.isFunction=function(s){return goog.typeOf(s)=="function"},goog.isObject=function(s){var o=typeof s;return o=="object"&&s!=null||o=="function"},goog.getUid=function(s){return Object.prototype.hasOwnProperty.call(s,goog.UID_PROPERTY_)&&s[goog.UID_PROPERTY_]||(s[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(s){return!!s[goog.UID_PROPERTY_]},goog.removeUid=function(s){s!==null&&"removeAttribute"in s&&s.removeAttribute(goog.UID_PROPERTY_);try{delete s[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(s){var o=goog.typeOf(s);if(o=="object"||o=="array"){if(typeof s.clone=="function")return s.clone();o=o=="array"?[]:{};for(var et in s)o[et]=goog.cloneObject(s[et]);return o}return s},goog.bindNative_=function(s,o,et){return s.call.apply(s.bind,arguments)},goog.bindJs_=function(s,o,et){if(!s)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var nt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(nt,tt),s.apply(o,nt)}}return function(){return s.apply(o,arguments)}},goog.bind=function(s,o,et){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(s,o){var et=Array.prototype.slice.call(arguments,1);return function(){var tt=et.slice();return tt.push.apply(tt,arguments),s.apply(this,tt)}},goog.mixin=function(s,o){for(var et in o)s[et]=o[et]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(s){if(goog.global.execScript)goog.global.execScript(s,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(typeof goog.global._evalTest_<"u"){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(s);else{var o=goog.global.document,et=o.createElement("script");et.type="text/javascript",et.defer=!1,et.appendChild(o.createTextNode(s)),o.head.appendChild(et),o.head.removeChild(et)}}else throw Error("goog.globalEval not available")},goog.evalWorksForGlobals_=null,goog.getCssName=function(s,o){if(String(s).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+s);var et=function(nt){return goog.cssNameMapping_[nt]||nt},tt=function(nt){nt=nt.split("-");for(var rt=[],it=0;it<nt.length;it++)rt.push(et(nt[it]));return rt.join("-")};return tt=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?et:tt:function(nt){return nt},s=o?s+"-"+tt(o):tt(s),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(s):s},goog.setCssNameMapping=function(s,o){goog.cssNameMapping_=s,goog.cssNameMappingStyle_=o},goog.getMsg=function(s,o,et){return et&&et.html&&(s=s.replace(/</g,"&lt;")),o&&(s=s.replace(/\{\$([^}]+)}/g,function(tt,nt){return o!=null&&nt in o?o[nt]:tt})),s},goog.getMsgWithFallback=function(s,o){return s},goog.exportSymbol=function(s,o,et){goog.exportPath_(s,o,et)},goog.exportProperty=function(s,o,et){s[o]=et},goog.inherits=function(s,o){function et(){}et.prototype=o.prototype,s.superClass_=o.prototype,s.prototype=new et,s.prototype.constructor=s,s.base=function(tt,nt,rt){for(var it=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)it[ot-2]=arguments[ot];return o.prototype[nt].apply(tt,it)}},goog.scope=function(s){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");s.call(goog.global)},goog.defineClass=function(s,o){var et=o.constructor,tt=o.statics;return et&&et!=Object.prototype.constructor||(et=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),et=goog.defineClass.createSealingConstructor_(et,s),s&&goog.inherits(et,s),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(et.prototype,o),tt!=null&&(tt instanceof Function?tt(et):goog.defineClass.applyProperties_(et,tt)),et},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(s,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return s;var et=!goog.defineClass.isUnsealable_(o),tt=function(){var nt=s.apply(this,arguments)||this;return nt[goog.UID_PROPERTY_]=nt[goog.UID_PROPERTY_],this.constructor===tt&&et&&Object.seal instanceof Function&&Object.seal(nt),nt};return tt},goog.defineClass.isUnsealable_=function(s){return s&&s.prototype&&s.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(s,o){for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et]);for(var tt=0;tt<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;tt++)et=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[tt],Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])},goog.tagUnsealableClass=function(s){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(s){return s},goog.createTrustedTypesPolicy=function(s){var o=null,et=goog.global.trustedTypes||goog.global.TrustedTypes;if(!et||!et.createPolicy)return o;try{o=et.createPolicy(s,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(tt){goog.logToConsole_(tt.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(s,o){return s===o?s!==0||1/s===1/o:s!==s&&o!==o},goog.object.forEach=function(s,o,et){for(var tt in s)o.call(et,s[tt],tt,s)},goog.object.filter=function(s,o,et){var tt={},nt;for(nt in s)o.call(et,s[nt],nt,s)&&(tt[nt]=s[nt]);return tt},goog.object.map=function(s,o,et){var tt={},nt;for(nt in s)tt[nt]=o.call(et,s[nt],nt,s);return tt},goog.object.some=function(s,o,et){for(var tt in s)if(o.call(et,s[tt],tt,s))return!0;return!1},goog.object.every=function(s,o,et){for(var tt in s)if(!o.call(et,s[tt],tt,s))return!1;return!0},goog.object.getCount=function(s){var o=0,et;for(et in s)o++;return o},goog.object.getAnyKey=function(s){for(var o in s)return o},goog.object.getAnyValue=function(s){for(var o in s)return s[o]},goog.object.contains=function(s,o){return goog.object.containsValue(s,o)},goog.object.getValues=function(s){var o=[],et=0,tt;for(tt in s)o[et++]=s[tt];return o},goog.object.getKeys=function(s){var o=[],et=0,tt;for(tt in s)o[et++]=tt;return o},goog.object.getValueByKeys=function(s,o){var et=goog.isArrayLike(o),tt=et?o:arguments;for(et=et?0:1;et<tt.length;et++){if(s==null)return;s=s[tt[et]]}return s},goog.object.containsKey=function(s,o){return s!==null&&o in s},goog.object.containsValue=function(s,o){for(var et in s)if(s[et]==o)return!0;return!1},goog.object.findKey=function(s,o,et){for(var tt in s)if(o.call(et,s[tt],tt,s))return tt},goog.object.findValue=function(s,o,et){return(o=goog.object.findKey(s,o,et))&&s[o]},goog.object.isEmpty=function(s){for(var o in s)return!1;return!0},goog.object.clear=function(s){for(var o in s)delete s[o]},goog.object.remove=function(s,o){var et;return(et=o in s)&&delete s[o],et},goog.object.add=function(s,o,et){if(s!==null&&o in s)throw Error('The object already contains the key "'+o+'"');goog.object.set(s,o,et)},goog.object.get=function(s,o,et){return s!==null&&o in s?s[o]:et},goog.object.set=function(s,o,et){s[o]=et},goog.object.setIfUndefined=function(s,o,et){return o in s?s[o]:s[o]=et},goog.object.setWithReturnValueIfNotSet=function(s,o,et){return o in s?s[o]:(et=et(),s[o]=et)},goog.object.equals=function(s,o){for(var et in s)if(!(et in o)||s[et]!==o[et])return!1;for(var tt in o)if(!(tt in s))return!1;return!0},goog.object.clone=function(s){var o={},et;for(et in s)o[et]=s[et];return o},goog.object.unsafeClone=function(s){var o=goog.typeOf(s);if(o=="object"||o=="array"){if(goog.isFunction(s.clone))return s.clone();o=o=="array"?[]:{};for(var et in s)o[et]=goog.object.unsafeClone(s[et]);return o}return s},goog.object.transpose=function(s){var o={},et;for(et in s)o[s[et]]=et;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(s,o){for(var et,tt,nt=1;nt<arguments.length;nt++){tt=arguments[nt];for(et in tt)s[et]=tt[et];for(var rt=0;rt<goog.object.PROTOTYPE_FIELDS_.length;rt++)et=goog.object.PROTOTYPE_FIELDS_[rt],Object.prototype.hasOwnProperty.call(tt,et)&&(s[et]=tt[et])}},goog.object.create=function(s){var o=arguments.length;if(o==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var et={},tt=0;tt<o;tt+=2)et[arguments[tt]]=arguments[tt+1];return et},goog.object.createSet=function(s){var o=arguments.length;if(o==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var et={},tt=0;tt<o;tt++)et[arguments[tt]]=!0;return et},goog.object.createImmutableView=function(s){var o=s;return Object.isFrozen&&!Object.isFrozen(s)&&(o=Object.create(s),Object.freeze(o)),o},goog.object.isImmutableView=function(s){return!!Object.isFrozen&&Object.isFrozen(s)},goog.object.getAllPropertyNames=function(s,o,et){if(!s)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(s);for(var tt={};s&&(s!==Object.prototype||o)&&(s!==Function.prototype||et);){for(var nt=Object.getOwnPropertyNames(s),rt=0;rt<nt.length;rt++)tt[nt[rt]]=!0;s=Object.getPrototypeOf(s)}return goog.object.getKeys(tt)},goog.object.getSuperClass=function(s){return(s=Object.getPrototypeOf(s.prototype))&&s.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(s,o,et,tt){var nt="Assertion failed";if(et){nt+=": "+et;var rt=tt}else s&&(nt+=": "+s,rt=o);throw Error(""+nt,rt||[])},jspb.asserts.assert=function(s,o,et){for(var tt=[],nt=2;nt<arguments.length;++nt)tt[nt-2]=arguments[nt];return s||jspb.asserts.doAssertFailure("",null,o,tt),s},jspb.asserts.assertString=function(s,o,et){for(var tt=[],nt=2;nt<arguments.length;++nt)tt[nt-2]=arguments[nt];return typeof s!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(s),s],o,tt),s},jspb.asserts.assertArray=function(s,o,et){for(var tt=[],nt=2;nt<arguments.length;++nt)tt[nt-2]=arguments[nt];return Array.isArray(s)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(s),s],o,tt),s},jspb.asserts.fail=function(s,o){for(var et=[],tt=1;tt<arguments.length;++tt)et[tt-1]=arguments[tt];throw Error("Failure"+(s?": "+s:""),et)},jspb.asserts.assertInstanceof=function(s,o,et,tt){for(var nt=[],rt=3;rt<arguments.length;++rt)nt[rt-3]=arguments[rt];return s instanceof o||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(o),jspb.asserts.getType(s)],et,nt),s},jspb.asserts.getType=function(s){return s instanceof Function?s.displayName||s.name||"unknown type name":s instanceof Object?s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s):s===null?"null":typeof s},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(s){var o=jspb.BinaryConstants.FieldType,et=jspb.BinaryConstants.WireType;switch(s){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return et.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return et.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return et.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return et.FIXED32;default:return et.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(s){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}s&&(this.message=String(s)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(s,o){goog.debug.Error.call(this,goog.asserts.subs_(s,o)),this.messagePattern=s},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(s){throw s},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(s,o){s=s.split("%s");for(var et="",tt=s.length-1,nt=0;nt<tt;nt++)et+=s[nt]+(nt<o.length?o[nt]:"%s");return et+s[tt]},goog.asserts.doAssertFailure_=function(s,o,et,tt){var nt="Assertion failed";if(et){nt+=": "+et;var rt=tt}else s&&(nt+=": "+s,rt=o);s=new goog.asserts.AssertionError(""+nt,rt||[]),goog.asserts.errorHandler_(s)},goog.asserts.setErrorHandler=function(s){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=s)},goog.asserts.assert=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!s&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertExists=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&s==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.fail=function(s,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&typeof s!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertString=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&typeof s!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertFunction=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(s)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertObject=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(s)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertArray=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(s)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertBoolean=function(s,o,et){return goog.asserts.ENABLE_ASSERTS&&typeof s!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertElement=function(s,o,et){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(s)&&s.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(s),s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertInstanceof=function(s,o,et,tt){return!goog.asserts.ENABLE_ASSERTS||s instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(s)],et,Array.prototype.slice.call(arguments,3)),s},goog.asserts.assertFinite=function(s,o,et){return!goog.asserts.ENABLE_ASSERTS||typeof s=="number"&&isFinite(s)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[s],o,Array.prototype.slice.call(arguments,2)),s},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var s in Object.prototype)goog.asserts.fail(s+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(s){return s instanceof Function?s.displayName||s.name||"unknown type name":s instanceof Object?s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s):s===null?"null":typeof s},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(s){return s[s.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.indexOf.call(s,o,et)}:function(s,o,et){if(et=et==null?0:0>et?Math.max(0,s.length+et):et,typeof s=="string")return typeof o!="string"||o.length!=1?-1:s.indexOf(o,et);for(;et<s.length;et++)if(et in s&&s[et]===o)return et;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.lastIndexOf.call(s,o,et??s.length-1)}:function(s,o,et){if(et=et??s.length-1,0>et&&(et=Math.max(0,s.length+et)),typeof s=="string")return typeof o!="string"||o.length!=1?-1:s.lastIndexOf(o,et);for(;0<=et;et--)if(et in s&&s[et]===o)return et;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(s,o,et){goog.asserts.assert(s.length!=null),Array.prototype.forEach.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=typeof s=="string"?s.split(""):s,rt=0;rt<tt;rt++)rt in nt&&o.call(et,nt[rt],rt,s)},goog.array.forEachRight=function(s,o,et){var tt=s.length,nt=typeof s=="string"?s.split(""):s;for(--tt;0<=tt;--tt)tt in nt&&o.call(et,nt[tt],tt,s)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.filter.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=[],rt=0,it=typeof s=="string"?s.split(""):s,ot=0;ot<tt;ot++)if(ot in it){var st=it[ot];o.call(et,st,ot,s)&&(nt[rt++]=st)}return nt},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.map.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=Array(tt),rt=typeof s=="string"?s.split(""):s,it=0;it<tt;it++)it in rt&&(nt[it]=o.call(et,rt[it],it,s));return nt},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(s,o,et,tt){return goog.asserts.assert(s.length!=null),tt&&(o=goog.bind(o,tt)),Array.prototype.reduce.call(s,o,et)}:function(s,o,et,tt){var nt=et;return goog.array.forEach(s,function(rt,it){nt=o.call(tt,nt,rt,it,s)}),nt},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(s,o,et,tt){return goog.asserts.assert(s.length!=null),goog.asserts.assert(o!=null),tt&&(o=goog.bind(o,tt)),Array.prototype.reduceRight.call(s,o,et)}:function(s,o,et,tt){var nt=et;return goog.array.forEachRight(s,function(rt,it){nt=o.call(tt,nt,rt,it,s)}),nt},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.some.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=typeof s=="string"?s.split(""):s,rt=0;rt<tt;rt++)if(rt in nt&&o.call(et,nt[rt],rt,s))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(s,o,et){return goog.asserts.assert(s.length!=null),Array.prototype.every.call(s,o,et)}:function(s,o,et){for(var tt=s.length,nt=typeof s=="string"?s.split(""):s,rt=0;rt<tt;rt++)if(rt in nt&&!o.call(et,nt[rt],rt,s))return!1;return!0},goog.array.count=function(s,o,et){var tt=0;return goog.array.forEach(s,function(nt,rt,it){o.call(et,nt,rt,it)&&++tt},et),tt},goog.array.find=function(s,o,et){return o=goog.array.findIndex(s,o,et),0>o?null:typeof s=="string"?s.charAt(o):s[o]},goog.array.findIndex=function(s,o,et){for(var tt=s.length,nt=typeof s=="string"?s.split(""):s,rt=0;rt<tt;rt++)if(rt in nt&&o.call(et,nt[rt],rt,s))return rt;return-1},goog.array.findRight=function(s,o,et){return o=goog.array.findIndexRight(s,o,et),0>o?null:typeof s=="string"?s.charAt(o):s[o]},goog.array.findIndexRight=function(s,o,et){var tt=s.length,nt=typeof s=="string"?s.split(""):s;for(--tt;0<=tt;tt--)if(tt in nt&&o.call(et,nt[tt],tt,s))return tt;return-1},goog.array.contains=function(s,o){return 0<=goog.array.indexOf(s,o)},goog.array.isEmpty=function(s){return s.length==0},goog.array.clear=function(s){if(!Array.isArray(s))for(var o=s.length-1;0<=o;o--)delete s[o];s.length=0},goog.array.insert=function(s,o){goog.array.contains(s,o)||s.push(o)},goog.array.insertAt=function(s,o,et){goog.array.splice(s,et,0,o)},goog.array.insertArrayAt=function(s,o,et){goog.partial(goog.array.splice,s,et,0).apply(null,o)},goog.array.insertBefore=function(s,o,et){var tt;arguments.length==2||0>(tt=goog.array.indexOf(s,et))?s.push(o):goog.array.insertAt(s,o,tt)},goog.array.remove=function(s,o){o=goog.array.indexOf(s,o);var et;return(et=0<=o)&&goog.array.removeAt(s,o),et},goog.array.removeLast=function(s,o){return o=goog.array.lastIndexOf(s,o),0<=o?(goog.array.removeAt(s,o),!0):!1},goog.array.removeAt=function(s,o){return goog.asserts.assert(s.length!=null),Array.prototype.splice.call(s,o,1).length==1},goog.array.removeIf=function(s,o,et){return o=goog.array.findIndex(s,o,et),0<=o?(goog.array.removeAt(s,o),!0):!1},goog.array.removeAllIf=function(s,o,et){var tt=0;return goog.array.forEachRight(s,function(nt,rt){o.call(et,nt,rt,s)&&goog.array.removeAt(s,rt)&&tt++}),tt},goog.array.concat=function(s){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(s){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(s){var o=s.length;if(0<o){for(var et=Array(o),tt=0;tt<o;tt++)et[tt]=s[tt];return et}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(s,o){for(var et=1;et<arguments.length;et++){var tt=arguments[et];if(goog.isArrayLike(tt)){var nt=s.length||0,rt=tt.length||0;s.length=nt+rt;for(var it=0;it<rt;it++)s[nt+it]=tt[it]}else s.push(tt)}},goog.array.splice=function(s,o,et,tt){return goog.asserts.assert(s.length!=null),Array.prototype.splice.apply(s,goog.array.slice(arguments,1))},goog.array.slice=function(s,o,et){return goog.asserts.assert(s.length!=null),2>=arguments.length?Array.prototype.slice.call(s,o):Array.prototype.slice.call(s,o,et)},goog.array.removeDuplicates=function(s,o,et){o=o||s;var tt=function(st){return goog.isObject(st)?"o"+goog.getUid(st):(typeof st).charAt(0)+st};et=et||tt,tt={};for(var nt=0,rt=0;rt<s.length;){var it=s[rt++],ot=et(it);Object.prototype.hasOwnProperty.call(tt,ot)||(tt[ot]=!0,o[nt++]=it)}o.length=nt},goog.array.binarySearch=function(s,o,et){return goog.array.binarySearch_(s,et||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(s,o,et){return goog.array.binarySearch_(s,o,!0,void 0,et)},goog.array.binarySearch_=function(s,o,et,tt,nt){for(var rt=0,it=s.length,ot;rt<it;){var st=rt+(it-rt>>>1),at=et?o.call(nt,s[st],st,s):o(tt,s[st]);0<at?rt=st+1:(it=st,ot=!at)}return ot?rt:-rt-1},goog.array.sort=function(s,o){s.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(s,o){for(var et=Array(s.length),tt=0;tt<s.length;tt++)et[tt]={index:tt,value:s[tt]};var nt=o||goog.array.defaultCompare;for(goog.array.sort(et,function(rt,it){return nt(rt.value,it.value)||rt.index-it.index}),tt=0;tt<s.length;tt++)s[tt]=et[tt].value},goog.array.sortByKey=function(s,o,et){var tt=et||goog.array.defaultCompare;goog.array.sort(s,function(nt,rt){return tt(o(nt),o(rt))})},goog.array.sortObjectsByKey=function(s,o,et){goog.array.sortByKey(s,function(tt){return tt[o]},et)},goog.array.isSorted=function(s,o,et){o=o||goog.array.defaultCompare;for(var tt=1;tt<s.length;tt++){var nt=o(s[tt-1],s[tt]);if(0<nt||nt==0&&et)return!1}return!0},goog.array.equals=function(s,o,et){if(!goog.isArrayLike(s)||!goog.isArrayLike(o)||s.length!=o.length)return!1;var tt=s.length;et=et||goog.array.defaultCompareEquality;for(var nt=0;nt<tt;nt++)if(!et(s[nt],o[nt]))return!1;return!0},goog.array.compare3=function(s,o,et){et=et||goog.array.defaultCompare;for(var tt=Math.min(s.length,o.length),nt=0;nt<tt;nt++){var rt=et(s[nt],o[nt]);if(rt!=0)return rt}return goog.array.defaultCompare(s.length,o.length)},goog.array.defaultCompare=function(s,o){return s>o?1:s<o?-1:0},goog.array.inverseDefaultCompare=function(s,o){return-goog.array.defaultCompare(s,o)},goog.array.defaultCompareEquality=function(s,o){return s===o},goog.array.binaryInsert=function(s,o,et){return et=goog.array.binarySearch(s,o,et),0>et?(goog.array.insertAt(s,o,-(et+1)),!0):!1},goog.array.binaryRemove=function(s,o,et){return o=goog.array.binarySearch(s,o,et),0<=o?goog.array.removeAt(s,o):!1},goog.array.bucket=function(s,o,et){for(var tt={},nt=0;nt<s.length;nt++){var rt=s[nt],it=o.call(et,rt,nt,s);it!==void 0&&(tt[it]||(tt[it]=[])).push(rt)}return tt},goog.array.toObject=function(s,o,et){var tt={};return goog.array.forEach(s,function(nt,rt){tt[o.call(et,nt,rt,s)]=nt}),tt},goog.array.range=function(s,o,et){var tt=[],nt=0,rt=s;if(et=et||1,o!==void 0&&(nt=s,rt=o),0>et*(rt-nt))return[];if(0<et)for(s=nt;s<rt;s+=et)tt.push(s);else for(s=nt;s>rt;s+=et)tt.push(s);return tt},goog.array.repeat=function(s,o){for(var et=[],tt=0;tt<o;tt++)et[tt]=s;return et},goog.array.flatten=function(s){for(var o=[],et=0;et<arguments.length;et++){var tt=arguments[et];if(Array.isArray(tt))for(var nt=0;nt<tt.length;nt+=8192){var rt=goog.array.slice(tt,nt,nt+8192);rt=goog.array.flatten.apply(null,rt);for(var it=0;it<rt.length;it++)o.push(rt[it])}else o.push(tt)}return o},goog.array.rotate=function(s,o){return goog.asserts.assert(s.length!=null),s.length&&(o%=s.length,0<o?Array.prototype.unshift.apply(s,s.splice(-o,o)):0>o&&Array.prototype.push.apply(s,s.splice(0,-o))),s},goog.array.moveItem=function(s,o,et){goog.asserts.assert(0<=o&&o<s.length),goog.asserts.assert(0<=et&&et<s.length),o=Array.prototype.splice.call(s,o,1),Array.prototype.splice.call(s,et,0,o[0])},goog.array.zip=function(s){if(!arguments.length)return[];for(var o=[],et=arguments[0].length,tt=1;tt<arguments.length;tt++)arguments[tt].length<et&&(et=arguments[tt].length);for(tt=0;tt<et;tt++){for(var nt=[],rt=0;rt<arguments.length;rt++)nt.push(arguments[rt][tt]);o.push(nt)}return o},goog.array.shuffle=function(s,o){o=o||Math.random;for(var et=s.length-1;0<et;et--){var tt=Math.floor(o()*(et+1)),nt=s[et];s[et]=s[tt],s[tt]=nt}},goog.array.copyByIndex=function(s,o){var et=[];return goog.array.forEach(o,function(tt){et.push(s[tt])}),et},goog.array.concatMap=function(s,o,et){return goog.array.concat.apply([],goog.array.map(s,o,et))},goog.crypt={},goog.crypt.stringToByteArray=function(s){for(var o=[],et=0,tt=0;tt<s.length;tt++){var nt=s.charCodeAt(tt);255<nt&&(o[et++]=nt&255,nt>>=8),o[et++]=nt}return o},goog.crypt.byteArrayToString=function(s){if(8192>=s.length)return String.fromCharCode.apply(null,s);for(var o="",et=0;et<s.length;et+=8192){var tt=goog.array.slice(s,et,et+8192);o+=String.fromCharCode.apply(null,tt)}return o},goog.crypt.byteArrayToHex=function(s,o){return goog.array.map(s,function(et){return et=et.toString(16),1<et.length?et:"0"+et}).join(o||"")},goog.crypt.hexToByteArray=function(s){goog.asserts.assert(s.length%2==0,"Key string length must be multiple of 2");for(var o=[],et=0;et<s.length;et+=2)o.push(parseInt(s.substring(et,et+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(s){for(var o=[],et=0,tt=0;tt<s.length;tt++){var nt=s.charCodeAt(tt);128>nt?o[et++]=nt:(2048>nt?o[et++]=nt>>6|192:((nt&64512)==55296&&tt+1<s.length&&(s.charCodeAt(tt+1)&64512)==56320?(nt=65536+((nt&1023)<<10)+(s.charCodeAt(++tt)&1023),o[et++]=nt>>18|240,o[et++]=nt>>12&63|128):o[et++]=nt>>12|224,o[et++]=nt>>6&63|128),o[et++]=nt&63|128)}return o},goog.crypt.utf8ByteArrayToString=function(s){for(var o=[],et=0,tt=0;et<s.length;){var nt=s[et++];if(128>nt)o[tt++]=String.fromCharCode(nt);else if(191<nt&&224>nt){var rt=s[et++];o[tt++]=String.fromCharCode((nt&31)<<6|rt&63)}else if(239<nt&&365>nt){rt=s[et++];var it=s[et++],ot=s[et++];nt=((nt&7)<<18|(rt&63)<<12|(it&63)<<6|ot&63)-65536,o[tt++]=String.fromCharCode(55296+(nt>>10)),o[tt++]=String.fromCharCode(56320+(nt&1023))}else rt=s[et++],it=s[et++],o[tt++]=String.fromCharCode((nt&15)<<12|(rt&63)<<6|it&63)}return o.join("")},goog.crypt.xorByteArray=function(s,o){goog.asserts.assert(s.length==o.length,"XOR array lengths must match");for(var et=[],tt=0;tt<s.length;tt++)et.push(s[tt]^o[tt]);return et},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(s){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(s);o&&(!s||!(s instanceof o.Location)&&s instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(s))}return s},goog.dom.asserts.assertIsElementType_=function(s,o){if(goog.asserts.ENABLE_ASSERTS){var et=goog.dom.asserts.getWindow_(s);et&&typeof et[o]<"u"&&(s&&(s instanceof et[o]||!(s instanceof et.Location||s instanceof et.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(s)))}return s},goog.dom.asserts.assertIsHTMLAnchorElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(s){return goog.dom.asserts.assertIsElementType_(s,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(s){if(goog.isObject(s))try{return s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch{return"<object could not be stringified>"}else return s===void 0?"undefined":s===null?"null":typeof s},goog.dom.asserts.getWindow_=function(s){try{var o=s&&s.ownerDocument,et=o&&(o.defaultView||o.parentWindow);if(et=et||goog.global,et.Element&&et.Location)return et}catch{}return null},goog.functions={},goog.functions.constant=function(s){return function(){return s}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(s,o){return s},goog.functions.error=function(s){return function(){throw Error(s)}},goog.functions.fail=function(s){return function(){throw s}},goog.functions.lock=function(s,o){return o=o||0,function(){return s.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(s){return function(){return arguments[s]}},goog.functions.partialRight=function(s,o){var et=Array.prototype.slice.call(arguments,1);return function(){var tt=Array.prototype.slice.call(arguments);return tt.push.apply(tt,et),s.apply(this,tt)}},goog.functions.withReturnValue=function(s,o){return goog.functions.sequence(s,goog.functions.constant(o))},goog.functions.equalTo=function(s,o){return function(et){return o?s==et:s===et}},goog.functions.compose=function(s,o){var et=arguments,tt=et.length;return function(){var nt;tt&&(nt=et[tt-1].apply(this,arguments));for(var rt=tt-2;0<=rt;rt--)nt=et[rt].call(this,nt);return nt}},goog.functions.sequence=function(s){var o=arguments,et=o.length;return function(){for(var tt,nt=0;nt<et;nt++)tt=o[nt].apply(this,arguments);return tt}},goog.functions.and=function(s){var o=arguments,et=o.length;return function(){for(var tt=0;tt<et;tt++)if(!o[tt].apply(this,arguments))return!1;return!0}},goog.functions.or=function(s){var o=arguments,et=o.length;return function(){for(var tt=0;tt<et;tt++)if(o[tt].apply(this,arguments))return!0;return!1}},goog.functions.not=function(s){return function(){return!s.apply(this,arguments)}},goog.functions.create=function(s,o){var et=function(){};return et.prototype=s.prototype,et=new et,s.apply(et,Array.prototype.slice.call(arguments,1)),et},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(s){var o=!1,et;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(et=s(),o=!0),et):s()}},goog.functions.once=function(s){var o=s;return function(){if(o){var et=o;o=null,et()}}},goog.functions.debounce=function(s,o,et){var tt=0;return function(nt){goog.global.clearTimeout(tt);var rt=arguments;tt=goog.global.setTimeout(function(){s.apply(et,rt)},o)}},goog.functions.throttle=function(s,o,et){var tt=0,nt=!1,rt=[],it=function(){tt=0,nt&&(nt=!1,ot())},ot=function(){tt=goog.global.setTimeout(it,o),s.apply(et,rt)};return function(st){rt=arguments,tt?nt=!0:ot()}},goog.functions.rateLimit=function(s,o,et){var tt=0,nt=function(){tt=0};return function(rt){tt||(tt=goog.global.setTimeout(nt,o),s.apply(et,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(s){this.tagName_=s},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(s){return goog.dom.tags.VOID_TAGS_[s]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(s,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=s===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(s){return s instanceof goog.string.Const&&s.constructor===goog.string.Const&&s.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?s.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+s+"'"),"type_error:Const")},goog.string.Const.from=function(s){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,s)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(s){return s=goog.string.Const.unwrap(s),s.length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeScript.fromConstantAndArgs=function(s,o){for(var et=[],tt=1;tt<arguments.length;tt++)et.push(goog.html.SafeScript.stringify_(arguments[tt]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(s)+")("+et.join(", ")+");")},goog.html.SafeScript.fromJson=function(s){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(s))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(s){return goog.html.SafeScript.unwrapTrustedScript(s).toString()},goog.html.SafeScript.unwrapTrustedScript=function(s){return s instanceof goog.html.SafeScript&&s.constructor===goog.html.SafeScript&&s.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(s){return JSON.stringify(s).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(s)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(s):s,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(s){return goog.fs.url.getUrlObject_().createObjectURL(s)},goog.fs.url.revokeObjectUrl=function(s){goog.fs.url.getUrlObject_().revokeObjectURL(s)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(s){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(s){},goog.fs.url.getUrlObject_=function(){var s=goog.fs.url.findUrlObject_();if(s!=null)return s;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(s){var o=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(o!==void 0){o=new o;for(var et=0;et<arguments.length;et++)o.append(arguments[et]);return o.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(s,o,et){var tt=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(tt!==void 0){tt=new tt;for(var nt=0;nt<s.length;nt++)tt.append(s[nt],et);return tt.getBlob(o)}if(goog.global.Blob!==void 0)return tt={},o&&(tt.type=o),et&&(tt.endings=et),new Blob(s,tt);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(s,o){return typeof s=="number"?0<s?goog.i18n.bidi.Dir.LTR:0>s?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:s==null?null:s?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(s,o){return o?s.replace(goog.i18n.bidi.htmlSkipReg_,""):s},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(s,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(s,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(s){return goog.i18n.bidi.rtlRe_.test(s)},goog.i18n.bidi.isLtrChar=function(s){return goog.i18n.bidi.ltrRe_.test(s)},goog.i18n.bidi.isNeutralChar=function(s){return!goog.i18n.bidi.isLtrChar(s)&&!goog.i18n.bidi.isRtlChar(s)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(s,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(s,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(s,o){return s=goog.i18n.bidi.stripHtmlIfNeeded_(s,o),goog.i18n.bidi.isRequiredLtrRe_.test(s)||!goog.i18n.bidi.hasAnyLtr(s)&&!goog.i18n.bidi.hasAnyRtl(s)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(s,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(s,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(s,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(s){return goog.i18n.bidi.rtlLocalesRe_.test(s)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(s,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(s):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,s.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(s){return s.charAt(0)=="<"?s.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+s+"</span>"},goog.i18n.bidi.enforceRtlInText=function(s){return goog.i18n.bidi.Format.RLE+s+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(s){return s.charAt(0)=="<"?s.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+s+"</span>"},goog.i18n.bidi.enforceLtrInText=function(s){return goog.i18n.bidi.Format.LRE+s+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(s){return s.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(s){return s.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(s,o){var et=0,tt=0,nt=!1;for(s=goog.i18n.bidi.stripHtmlIfNeeded_(s,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<s.length;o++){var rt=s[o];goog.i18n.bidi.startsWithRtl(rt)?(et++,tt++):goog.i18n.bidi.isRequiredLtrRe_.test(rt)?nt=!0:goog.i18n.bidi.hasAnyLtr(rt)?tt++:goog.i18n.bidi.hasNumeralsRe_.test(rt)&&(nt=!0)}return tt==0?nt?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:et/tt>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(s,o){return goog.i18n.bidi.estimateDirection(s,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(s,o){s&&(o=goog.i18n.bidi.toDir(o))&&(s.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,s.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(s,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:s.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:s.dir="rtl";break;default:s.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(s,o){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=s===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(s,o){var et=goog.html.TrustedResourceUrl.unwrap(this);et=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(et);var tt=et[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(et[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",et[2]||"",s)+goog.html.TrustedResourceUrl.stringifyParams_("#",tt,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(s){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(s).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(s){return s instanceof goog.html.TrustedResourceUrl&&s.constructor===goog.html.TrustedResourceUrl&&s.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+s+"' of type "+goog.typeOf(s)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(s,o){var et=goog.string.Const.unwrap(s);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(et))throw Error("Invalid TrustedResourceUrl format: "+et);return s=et.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(tt,nt){if(!Object.prototype.hasOwnProperty.call(o,nt))throw Error('Found marker, "'+nt+'", in format string, "'+et+'", but no valid label mapping found in args: '+JSON.stringify(o));return tt=o[nt],tt instanceof goog.string.Const?goog.string.Const.unwrap(tt):encodeURIComponent(String(tt))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(s,o,et,tt){return goog.html.TrustedResourceUrl.format(s,o).cloneWithParams(et,tt)},goog.html.TrustedResourceUrl.fromConstant=function(s){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(s))},goog.html.TrustedResourceUrl.fromConstants=function(s){for(var o="",et=0;et<s.length;et++)o+=goog.string.Const.unwrap(s[et]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.fromSafeScript=function(s){return s=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(s)],"text/javascript"),s=goog.fs.url.createObjectUrl(s),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(s){return s=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(s):s,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,s)},goog.html.TrustedResourceUrl.stringifyParams_=function(s,o,et){if(et==null)return o;if(typeof et=="string")return et?s+encodeURIComponent(et):"";for(var tt in et){var nt=et[tt];nt=Array.isArray(nt)?nt:[nt];for(var rt=0;rt<nt.length;rt++){var it=nt[rt];it!=null&&(o||(o=s),o+=(o.length>s.length?"&":"")+encodeURIComponent(tt)+"="+encodeURIComponent(String(it)))}}return o},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(s,o){return s.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(s,o){var et=s.length-o.length;return 0<=et&&s.indexOf(o,et)==et},goog.string.internal.caseInsensitiveStartsWith=function(s,o){return goog.string.internal.caseInsensitiveCompare(o,s.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(s,o){return goog.string.internal.caseInsensitiveCompare(o,s.substr(s.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(s,o){return s.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(s){return/^[\s\xa0]*$/.test(s)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},goog.string.internal.caseInsensitiveCompare=function(s,o){return s=String(s).toLowerCase(),o=String(o).toLowerCase(),s<o?-1:s==o?0:1},goog.string.internal.newLineToBr=function(s,o){return s.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(s,o){if(o)s=s.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(s))return s;s.indexOf("&")!=-1&&(s=s.replace(goog.string.internal.AMP_RE_,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(goog.string.internal.LT_RE_,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(goog.string.internal.GT_RE_,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(goog.string.internal.QUOT_RE_,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(goog.string.internal.NULL_RE_,"&#0;"))}return s},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(s,o){return goog.string.internal.newLineToBr(s.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(s,o){return s.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(s,o){return goog.string.internal.contains(s.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(s,o){var et=0;s=goog.string.internal.trim(String(s)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var tt=Math.max(s.length,o.length),nt=0;et==0&&nt<tt;nt++){var rt=s[nt]||"",it=o[nt]||"";do{if(rt=/(\d*)(\D*)(.*)/.exec(rt)||["","","",""],it=/(\d*)(\D*)(.*)/.exec(it)||["","","",""],rt[0].length==0&&it[0].length==0)break;et=rt[1].length==0?0:parseInt(rt[1],10);var ot=it[1].length==0?0:parseInt(it[1],10);et=goog.string.internal.compareElements_(et,ot)||goog.string.internal.compareElements_(rt[2].length==0,it[2].length==0)||goog.string.internal.compareElements_(rt[2],it[2]),rt=rt[3],it=it[3]}while(et==0)}return et},goog.string.internal.compareElements_=function(s,o){return s<o?-1:s>o?1:0},goog.html.SafeUrl=function(s,o){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=s===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(s){return s instanceof goog.html.SafeUrl&&s.constructor===goog.html.SafeUrl&&s.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(s){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(s))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(s){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(s)},goog.html.SafeUrl.fromBlob=function(s){return s=goog.html.SafeUrl.isSafeMimeType(s.type)?goog.fs.url.createObjectUrl(s):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromMediaSource=function(s){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),s=s instanceof MediaSource?goog.fs.url.createObjectUrl(s):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(s){s=s.replace(/(%0A|%0D)/g,"");var o=s.match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SafeUrl.isSafeMimeType(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?s:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"tel:")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(s){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(s))||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"fb-messenger://share")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromWhatsAppUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"whatsapp://send")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.fromSmsUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(s)||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(s){var o=s.indexOf("#");if(0<o&&(s=s.substring(0,o)),o=s.match(/[?&]body=/gi),!o)return!0;if(1<o.length)return!1;if(s=s.match(/[?&]body=([^&]*)/)[1],!s)return!0;try{decodeURIComponent(s)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(s)},goog.html.SafeUrl.fromSshUrl=function(s){return goog.string.internal.caseInsensitiveStartsWith(s,"ssh://")||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(s,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,s,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(s,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,s,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(s,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,s,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(s,o,et){return(s=s.exec(o))?(s=s[1],(et instanceof goog.string.Const?[goog.string.Const.unwrap(et)]:et.map(function(tt){return goog.string.Const.unwrap(tt)})).indexOf(s)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(s){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(s))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(s){return s instanceof goog.html.SafeUrl?s:(s=typeof s=="object"&&s.implementsGoogStringTypedString?s.getTypedStringValue():String(s),goog.html.SAFE_URL_PATTERN_.test(s)||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(s,o){return s instanceof goog.html.SafeUrl?s:(s=typeof s=="object"&&s.implementsGoogStringTypedString?s.getTypedStringValue():String(s),o&&/^data:/i.test(s)&&(o=goog.html.SafeUrl.fromDataUrl(s),o.getTypedStringValue()==s)?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(s),"%s does not match the safe URL pattern",s)||(s=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(s)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,s)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(s){return s=goog.string.Const.unwrap(s),s.length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(s,";"),"Last character of style string is not ';': "+s),goog.asserts.assert(goog.string.internal.contains(s,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+s),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(s){return s instanceof goog.html.SafeStyle&&s.constructor===goog.html.SafeStyle&&s.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(s)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=s,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(s){var o="",et;for(et in s){if(!/^[-_a-zA-Z0-9]+$/.test(et))throw Error("Name allows only [-_a-zA-Z0-9], got: "+et);var tt=s[et];tt!=null&&(tt=Array.isArray(tt)?goog.array.map(tt,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(tt),o+=et+":"+tt+";")}return o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(s){if(s instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(s).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(s=s instanceof goog.string.Const?goog.string.Const.unwrap(s):goog.html.SafeStyle.sanitizePropertyValueString_(String(s)),/[{;}]/.test(s))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[s]);return s},goog.html.SafeStyle.sanitizePropertyValueString_=function(s){var o=s.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");if(goog.html.SafeStyle.VALUE_RE_.test(o)){if(goog.html.SafeStyle.COMMENT_RE_.test(s))return goog.asserts.fail("String value disallows comments, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedQuotes_(s))return goog.asserts.fail("String value requires balanced quotes, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedSquareBrackets_(s))return goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING}else return goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+s),goog.html.SafeStyle.INNOCUOUS_STRING;return goog.html.SafeStyle.sanitizeUrl_(s)},goog.html.SafeStyle.hasBalancedQuotes_=function(s){for(var o=!0,et=!0,tt=0;tt<s.length;tt++){var nt=s.charAt(tt);nt=="'"&&et?o=!o:nt=='"'&&o&&(et=!et)}return o&&et},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(s){for(var o=!0,et=/^[-_a-zA-Z0-9]$/,tt=0;tt<s.length;tt++){var nt=s.charAt(tt);if(nt=="]"){if(o)return!1;o=!0}else if(nt=="["){if(!o)return!1;o=!1}else if(!o&&!et.test(nt))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(s){return s.replace(goog.html.SafeStyle.URL_RE_,function(o,et,tt,nt){var rt="";return tt=tt.replace(/^(['"])(.*)\1$/,function(it,ot,st){return rt=ot,st}),o=goog.html.SafeUrl.sanitize(tt).getTypedStringValue(),et+rt+o+rt+nt})},goog.html.SafeStyle.concat=function(s){var o="",et=function(tt){Array.isArray(tt)?goog.array.forEach(tt,et):o+=goog.html.SafeStyle.unwrap(tt)};return goog.array.forEach(arguments,et),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(s,o){if(goog.string.internal.contains(s,"<"))throw Error("Selector does not allow '<', got: "+s);var et=s.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(et))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+s);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(et))throw Error("() and [] in selector must be balanced, got: "+s);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),s=s+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(s)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(s){for(var o={"(":")","[":"]"},et=[],tt=0;tt<s.length;tt++){var nt=s[tt];if(o[nt])et.push(o[nt]);else if(goog.object.contains(o,nt)&&et.pop()!=nt)return!1}return et.length==0},goog.html.SafeStyleSheet.concat=function(s){var o="",et=function(tt){Array.isArray(tt)?goog.array.forEach(tt,et):o+=goog.html.SafeStyleSheet.unwrap(tt)};return goog.array.forEach(arguments,et),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(s){return s=goog.string.Const.unwrap(s),s.length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(s,"<"),"Forbidden '<' character in style sheet string: "+s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(s))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(s){return s instanceof goog.html.SafeStyleSheet&&s.constructor===goog.html.SafeStyleSheet&&s.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(s){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(s)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=s,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var s=goog.labs.userAgent.util.getNavigator_();return s&&(s=s.userAgent)?s:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(s){goog.labs.userAgent.util.userAgent_=s||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(s){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,s)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(s){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,s)},goog.labs.userAgent.util.extractVersionTuples=function(s){for(var o=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,et=[],tt;tt=o.exec(s);)et.push([tt[1],tt[2],tt[3]||void 0]);return et},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function s(nt){return nt=goog.array.find(nt,tt),et[nt]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var et={};goog.array.forEach(o,function(nt){et[nt[0]]=nt[1]});var tt=goog.partial(goog.object.containsKey,et);return goog.labs.userAgent.browser.isOpera()?s(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?s(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?s(["Edg"]):goog.labs.userAgent.browser.isChrome()?s(["Chrome","CriOS","HeadlessChrome"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(s){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),s)},goog.labs.userAgent.browser.getIEVersion_=function(s){var o=/rv: *([\d\.]*)/.exec(s);if(o&&o[1])return o[1];o="";var et=/MSIE +([\d\.]+)/.exec(s);if(et&&et[1])if(s=/Trident\/(\d.\d)/.exec(s),et[1]=="7.0")if(s&&s[1])switch(s[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=et[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(s){return goog.html.SafeHtml.unwrapTrustedHTML(s).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(s){return s instanceof goog.html.SafeHtml&&s.constructor===goog.html.SafeHtml&&s.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?s.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+s+"' of type "+goog.typeOf(s)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(s){if(s instanceof goog.html.SafeHtml)return s;var o=typeof s=="object",et=null;return o&&s.implementsGoogI18nBidiDirectionalString&&(et=s.getDirection()),s=o&&s.implementsGoogStringTypedString?s.getTypedStringValue():String(s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(s),et)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(s){return s instanceof goog.html.SafeHtml?s:(s=goog.html.SafeHtml.htmlEscape(s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(s)),s.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(s){return s instanceof goog.html.SafeHtml?s:(s=goog.html.SafeHtml.htmlEscape(s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(s)),s.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(s){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(s)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(s,o,et){return goog.html.SafeHtml.verifyTagName(String(s)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(s),o,et)},goog.html.SafeHtml.verifyTagName=function(s){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(s))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+s+">.":"");if(s.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+s+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(s,o,et,tt){s&&goog.html.TrustedResourceUrl.unwrap(s);var nt={};return nt.src=s||null,nt.srcdoc=o&&goog.html.SafeHtml.unwrap(o),s=goog.html.SafeHtml.combineAttributes(nt,{sandbox:""},et),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",s,tt)},goog.html.SafeHtml.createSandboxIframe=function(s,o,et,tt){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var nt={};return nt.src=s?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(s)):null,nt.srcdoc=o||null,nt.sandbox="",s=goog.html.SafeHtml.combineAttributes(nt,{},et),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",s,tt)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(s,o){return goog.html.TrustedResourceUrl.unwrap(s),s=goog.html.SafeHtml.combineAttributes({src:s},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",s)},goog.html.SafeHtml.createScript=function(s,o){for(var et in o){var tt=et.toLowerCase();if(tt=="language"||tt=="src"||tt=="text"||tt=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+tt+'" attribute':"")}for(et="",s=goog.array.concat(s),tt=0;tt<s.length;tt++)et+=goog.html.SafeScript.unwrap(s[tt]);return s=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(et,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,s)},goog.html.SafeHtml.createStyle=function(s,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var et="";s=goog.array.concat(s);for(var tt=0;tt<s.length;tt++)et+=goog.html.SafeStyleSheet.unwrap(s[tt]);return s=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(et,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,s)},goog.html.SafeHtml.createMetaRefresh=function(s,o){return s=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(s)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+s})},goog.html.SafeHtml.getAttrNameAndValue_=function(s,o,et){if(et instanceof goog.string.Const)et=goog.string.Const.unwrap(et);else if(o.toLowerCase()=="style")if(goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)et=goog.html.SafeHtml.getStyleValue_(et);else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");else{if(/^on/i.test(o))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+o+'" requires goog.string.Const value, "'+et+'" given.':"");if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(et instanceof goog.html.TrustedResourceUrl)et=goog.html.TrustedResourceUrl.unwrap(et);else if(et instanceof goog.html.SafeUrl)et=goog.html.SafeUrl.unwrap(et);else if(typeof et=="string")et=goog.html.SafeUrl.sanitize(et).getTypedStringValue();else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+o+'" on tag "'+s+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+et+'" given.':"")}return et.implementsGoogStringTypedString&&(et=et.getTypedStringValue()),goog.asserts.assert(typeof et=="string"||typeof et=="number","String or number value expected, got "+typeof et+" with value: "+et),o+'="'+goog.string.internal.htmlEscape(String(et))+'"'},goog.html.SafeHtml.getStyleValue_=function(s){if(!goog.isObject(s))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof s+" given: "+s:"");return s instanceof goog.html.SafeStyle||(s=goog.html.SafeStyle.create(s)),goog.html.SafeStyle.unwrap(s)},goog.html.SafeHtml.createWithDir=function(s,o,et,tt){return o=goog.html.SafeHtml.create(o,et,tt),o.dir_=s,o},goog.html.SafeHtml.join=function(s,o){s=goog.html.SafeHtml.htmlEscape(s);var et=s.getDirection(),tt=[],nt=function(rt){Array.isArray(rt)?goog.array.forEach(rt,nt):(rt=goog.html.SafeHtml.htmlEscape(rt),tt.push(goog.html.SafeHtml.unwrap(rt)),rt=rt.getDirection(),et==goog.i18n.bidi.Dir.NEUTRAL?et=rt:rt!=goog.i18n.bidi.Dir.NEUTRAL&&et!=rt&&(et=null))};return goog.array.forEach(o,nt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(tt.join(goog.html.SafeHtml.unwrap(s)),et)},goog.html.SafeHtml.concat=function(s){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(s,o){var et=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return et.dir_=s,et},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(s,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(s,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(s,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(s):s,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(s,o,et){var tt=null,nt="<"+s+goog.html.SafeHtml.stringifyAttributes(s,o);return et==null?et=[]:Array.isArray(et)||(et=[et]),goog.dom.tags.isVoidTag(s.toLowerCase())?(goog.asserts.assert(!et.length,"Void tag <"+s+"> does not allow content."),nt+=">"):(tt=goog.html.SafeHtml.concat(et),nt+=">"+goog.html.SafeHtml.unwrap(tt)+"</"+s+">",tt=tt.getDirection()),(s=o&&o.dir)&&(tt=/^(ltr|rtl|auto)$/i.test(s)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(nt,tt)},goog.html.SafeHtml.stringifyAttributes=function(s,o){var et="";if(o)for(var tt in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(tt))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+tt+'".':"");var nt=o[tt];nt!=null&&(et+=" "+goog.html.SafeHtml.getAttrNameAndValue_(s,tt,nt))}return et},goog.html.SafeHtml.combineAttributes=function(s,o,et){var tt={},nt;for(nt in s)goog.asserts.assert(nt.toLowerCase()==nt,"Must be lower case"),tt[nt]=s[nt];for(nt in o)goog.asserts.assert(nt.toLowerCase()==nt,"Must be lower case"),tt[nt]=o[nt];if(et)for(nt in et){var rt=nt.toLowerCase();if(rt in s)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+rt+'" attribute, got "'+nt+'" with value "'+et[nt]+'"':"");rt in o&&delete tt[rt],tt[nt]=et[nt]}return tt},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(s,o,et){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,et||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(s,o){return goog.asserts.assertString(goog.string.Const.unwrap(s),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(s)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(s,o,et){s.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(et))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var s=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),s.appendChild(o),goog.DEBUG&&!s.firstChild?!1:(o=s.firstChild.firstChild,s.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(s,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;s.lastChild;)s.removeChild(s.lastChild);s.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(s,o){if(goog.asserts.ENABLE_ASSERTS){var et=s.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[et])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+s.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(s,o)},goog.dom.safe.setOuterHtml=function(s,o){s.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(s).action=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setButtonFormAction=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(s).formAction=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setInputFormAction=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(s).formAction=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setStyle=function(s,o){s.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(s,o){s.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(s,o){goog.dom.asserts.assertIsHTMLAnchorElement(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.href=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setImageSrc=function(s,o){if(goog.dom.asserts.assertIsHTMLImageElement(s),!(o instanceof goog.html.SafeUrl)){var et=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,et)}s.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setAudioSrc=function(s,o){if(goog.dom.asserts.assertIsHTMLAudioElement(s),!(o instanceof goog.html.SafeUrl)){var et=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,et)}s.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setVideoSrc=function(s,o){if(goog.dom.asserts.assertIsHTMLVideoElement(s),!(o instanceof goog.html.SafeUrl)){var et=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,et)}s.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setEmbedSrc=function(s,o){goog.dom.asserts.assertIsHTMLEmbedElement(s),s.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(s,o){goog.dom.asserts.assertIsHTMLFrameElement(s),s.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setIframeSrc=function(s,o){goog.dom.asserts.assertIsHTMLIFrameElement(s),s.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setIframeSrcdoc=function(s,o){goog.dom.asserts.assertIsHTMLIFrameElement(s),s.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(s,o,et){goog.dom.asserts.assertIsHTMLLinkElement(s),s.rel=et,goog.string.internal.caseInsensitiveContains(et,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),s.href=goog.html.TrustedResourceUrl.unwrap(o)):s.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(o):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(s,o){goog.dom.asserts.assertIsHTMLObjectElement(s),s.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(s,o){goog.dom.asserts.assertIsHTMLScriptElement(s),s.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&s.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(s,o){goog.dom.asserts.assertIsHTMLScriptElement(s),s.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&s.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(s,o){goog.dom.asserts.assertIsLocation(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.href=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.assignLocation=function(s,o){goog.dom.asserts.assertIsLocation(s),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.assign(goog.html.SafeUrl.unwrap(o))},goog.dom.safe.replaceLocation=function(s,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),s.replace(goog.html.SafeUrl.unwrap(o))},goog.dom.safe.openInWindow=function(s,o,et,tt,nt){return s=s instanceof goog.html.SafeUrl?s:goog.html.SafeUrl.sanitizeAssertUnchanged(s),o=o||goog.global,et=et instanceof goog.string.Const?goog.string.Const.unwrap(et):et||"",o.open(goog.html.SafeUrl.unwrap(s),et,tt,nt)},goog.dom.safe.parseFromStringHtml=function(s,o){return goog.dom.safe.parseFromString(s,o,"text/html")},goog.dom.safe.parseFromString=function(s,o,et){return s.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),et)},goog.dom.safe.createImageFromBlob=function(s){if(!/^image\/.*/g.test(s.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(s);return s=new goog.global.Image,s.onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(s,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),s},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(s,o){for(var et=s.split("%s"),tt="",nt=Array.prototype.slice.call(arguments,1);nt.length&&1<et.length;)tt+=et.shift()+nt.shift();return tt+et.join("%s")},goog.string.collapseWhitespace=function(s){return s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(s){return s.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(s){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(s))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(s){return!/[^\t\n\r ]/.test(s)},goog.string.isAlpha=function(s){return!/[^a-zA-Z]/.test(s)},goog.string.isNumeric=function(s){return!/[^0-9]/.test(s)},goog.string.isAlphaNumeric=function(s){return!/[^a-zA-Z0-9]/.test(s)},goog.string.isSpace=function(s){return s==" "},goog.string.isUnicodeChar=function(s){return s.length==1&&" "<=s&&"~">=s||""<=s&&"�">=s},goog.string.stripNewlines=function(s){return s.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(s){return s.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(s){return s.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(s){return s.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(s){return s.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(s){return s.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(s){return s.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(s,o,et){if(s==o)return 0;if(!s)return-1;if(!o)return 1;for(var tt=s.toLowerCase().match(et),nt=o.toLowerCase().match(et),rt=Math.min(tt.length,nt.length),it=0;it<rt;it++){et=tt[it];var ot=nt[it];if(et!=ot)return s=parseInt(et,10),!isNaN(s)&&(o=parseInt(ot,10),!isNaN(o)&&s-o)?s-o:et<ot?-1:1}return tt.length!=nt.length?tt.length-nt.length:s<o?-1:1},goog.string.intAwareCompare=function(s,o){return goog.string.numberAwareCompare_(s,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(s,o){return goog.string.numberAwareCompare_(s,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(s){return encodeURIComponent(String(s))},goog.string.urlDecode=function(s){return decodeURIComponent(s.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(s,o){return s=goog.string.internal.htmlEscape(s,o),goog.string.DETECT_DOUBLE_ESCAPING&&(s=s.replace(goog.string.E_RE_,"&#101;")),s},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(s){return goog.string.contains(s,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(s):goog.string.unescapePureXmlEntities_(s):s},goog.string.unescapeEntitiesWithDocument=function(s,o){return goog.string.contains(s,"&")?goog.string.unescapeEntitiesUsingDom_(s,o):s},goog.string.unescapeEntitiesUsingDom_=function(s,o){var et={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},tt=o?o.createElement("div"):goog.global.document.createElement("div");return s.replace(goog.string.HTML_ENTITY_PATTERN_,function(nt,rt){var it=et[nt];return it||(rt.charAt(0)=="#"&&(rt=+("0"+rt.substr(1)),isNaN(rt)||(it=String.fromCharCode(rt))),it||(goog.dom.safe.setInnerHtml(tt,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),nt+" ")),it=tt.firstChild.nodeValue.slice(0,-1)),et[nt]=it)})},goog.string.unescapePureXmlEntities_=function(s){return s.replace(/&([^;]+);/g,function(o,et){switch(et){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return et.charAt(0)!="#"||(et=+("0"+et.substr(1)),isNaN(et))?o:String.fromCharCode(et)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(s,o){return goog.string.newLineToBr(s.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(s){return s.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(s,o){for(var et=o.length,tt=0;tt<et;tt++){var nt=et==1?o:o.charAt(tt);if(s.charAt(0)==nt&&s.charAt(s.length-1)==nt)return s.substring(1,s.length-1)}return s},goog.string.truncate=function(s,o,et){return et&&(s=goog.string.unescapeEntities(s)),s.length>o&&(s=s.substring(0,o-3)+"..."),et&&(s=goog.string.htmlEscape(s)),s},goog.string.truncateMiddle=function(s,o,et,tt){if(et&&(s=goog.string.unescapeEntities(s)),tt&&s.length>o){tt>o&&(tt=o);var nt=s.length-tt;s=s.substring(0,o-tt)+"..."+s.substring(nt)}else s.length>o&&(tt=Math.floor(o/2),nt=s.length-tt,s=s.substring(0,tt+o%2)+"..."+s.substring(nt));return et&&(s=goog.string.htmlEscape(s)),s},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(s){s=String(s);for(var o=['"'],et=0;et<s.length;et++){var tt=s.charAt(et),nt=tt.charCodeAt(0);o[et+1]=goog.string.specialEscapeChars_[tt]||(31<nt&&127>nt?tt:goog.string.escapeChar(tt))}return o.push('"'),o.join("")},goog.string.escapeString=function(s){for(var o=[],et=0;et<s.length;et++)o[et]=goog.string.escapeChar(s.charAt(et));return o.join("")},goog.string.escapeChar=function(s){if(s in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[s];if(s in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[s]=goog.string.specialEscapeChars_[s];var o=s.charCodeAt(0);if(31<o&&127>o)var et=s;else 256>o?(et="\\x",(16>o||256<o)&&(et+="0")):(et="\\u",4096>o&&(et+="0")),et+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[s]=et},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(s,o){return s&&o?s.split(o).length-1:0},goog.string.removeAt=function(s,o,et){var tt=s;return 0<=o&&o<s.length&&0<et&&(tt=s.substr(0,o)+s.substr(o+et,s.length-o-et)),tt},goog.string.remove=function(s,o){return s.replace(o,"")},goog.string.removeAll=function(s,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),s.replace(o,"")},goog.string.replaceAll=function(s,o,et){return o=new RegExp(goog.string.regExpEscape(o),"g"),s.replace(o,et.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(s){return String(s).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(s,o){return s.repeat(o)}:function(s,o){return Array(o+1).join(s)},goog.string.padNumber=function(s,o,et){return s=et!==void 0?s.toFixed(et):String(s),et=s.indexOf("."),et==-1&&(et=s.length),goog.string.repeat("0",Math.max(0,o-et))+s},goog.string.makeSafe=function(s){return s==null?"":String(s)},goog.string.buildString=function(s){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(s){for(var o=0,et=0;et<s.length;++et)o=31*o+s.charCodeAt(et)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(s){var o=Number(s);return o==0&&goog.string.isEmptyOrWhitespace(s)?NaN:o},goog.string.isLowerCamelCase=function(s){return/^[a-z]+([A-Z][a-z]*)*$/.test(s)},goog.string.isUpperCamelCase=function(s){return/^([A-Z][a-z]*)+$/.test(s)},goog.string.toCamelCase=function(s){return String(s).replace(/\-([a-z])/g,function(o,et){return et.toUpperCase()})},goog.string.toSelectorCase=function(s){return String(s).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(s,o){return o=typeof o=="string"?goog.string.regExpEscape(o):"\\s",s.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(et,tt,nt){return tt+nt.toUpperCase()})},goog.string.capitalize=function(s){return String(s.charAt(0)).toUpperCase()+String(s.substr(1)).toLowerCase()},goog.string.parseInt=function(s){return isFinite(s)&&(s=String(s)),typeof s=="string"?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN},goog.string.splitLimit=function(s,o,et){s=s.split(o);for(var tt=[];0<et&&s.length;)tt.push(s.shift()),et--;return s.length&&tt.push(s.join(o)),tt},goog.string.lastComponent=function(s,o){if(o)typeof o=="string"&&(o=[o]);else return s;for(var et=-1,tt=0;tt<o.length;tt++)if(o[tt]!=""){var nt=s.lastIndexOf(o[tt]);nt>et&&(et=nt)}return et==-1?s:s.slice(et+1)},goog.string.editDistance=function(s,o){var et=[],tt=[];if(s==o)return 0;if(!s.length||!o.length)return Math.max(s.length,o.length);for(var nt=0;nt<o.length+1;nt++)et[nt]=nt;for(nt=0;nt<s.length;nt++){tt[0]=nt+1;for(var rt=0;rt<o.length;rt++)tt[rt+1]=Math.min(tt[rt]+1,et[rt+1]+1,et[rt]+ +(s[nt]!=o[rt]));for(rt=0;rt<et.length;rt++)et[rt]=tt[rt]}return tt[o.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var s=goog.labs.userAgent.util.getUserAgent();if(s){s=goog.labs.userAgent.util.extractVersionTuples(s);var o=goog.labs.userAgent.engine.getEngineTuple_(s);if(o)return o[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(s,"Firefox"):o[1];s=s[0];var et;if(s&&(et=s[2])&&(et=/Trident\/([^\s;]+)/.exec(et)))return et[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(s){if(!goog.labs.userAgent.engine.isEdge())return s[1];for(var o=0;o<s.length;o++){var et=s[o];if(et[0]=="Edge")return et}},goog.labs.userAgent.engine.isVersionOrHigher=function(s){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),s)},goog.labs.userAgent.engine.getVersionForKey_=function(s,o){return(s=goog.array.find(s,function(et){return o==et[0]}))&&s[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var s=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?(o=/Windows (?:NT|Phone) ([0-9.]+)/,o=(s=o.exec(s))?s[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,o=(s=o.exec(s))&&s[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(o=/Mac OS X ([0-9_.]+)/,o=(s=o.exec(s))?s[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isKaiOS()?(o=/(?:KaiOS)\/(\S+)/i,o=(s=o.exec(s))&&s[1]):goog.labs.userAgent.platform.isAndroid()?(o=/Android\s+([^\);]+)(\)|;)/,o=(s=o.exec(s))&&s[1]):goog.labs.userAgent.platform.isChromeOS()&&(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,o=(s=o.exec(s))&&s[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(s){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),s)},goog.reflect={},goog.reflect.object=function(s,o){return o},goog.reflect.objectProperty=function(s,o){return s},goog.reflect.sinkValue=function(s){return goog.reflect.sinkValue[" "](s),s},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(s,o){try{return goog.reflect.sinkValue(s[o]),!0}catch{}return!1},goog.reflect.cache=function(s,o,et,tt){return tt=tt?tt(o):o,Object.prototype.hasOwnProperty.call(s,tt)?s[tt]:s[tt]=et(o)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var s=goog.userAgent.getNavigatorTyped();return s&&s.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var s=goog.userAgent.getNavigatorTyped();return!!s&&goog.string.contains(s.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var s="",o=goog.userAgent.getVersionRegexResult_();return o&&(s=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_(),o!=null&&o>parseFloat(s))?String(o):s},goog.userAgent.getVersionRegexResult_=function(){var s=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(s);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(s);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(s);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(s)},goog.userAgent.getDocumentMode_=function(){var s=goog.global.document;return s?s.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(s,o){return goog.string.compareVersions(s,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(s){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,s,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,s)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(s){return Number(goog.userAgent.DOCUMENT_MODE)>=s},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var s=goog.userAgent.getDocumentMode_();return s||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(s){return goog.string.contains(goog.crypt.base64.paddingChars_,s)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(s,o){goog.asserts.assert(goog.isArrayLike(s),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var et=[],tt=0;tt<s.length;tt+=3){var nt=s[tt],rt=tt+1<s.length,it=rt?s[tt+1]:0,ot=tt+2<s.length,st=ot?s[tt+2]:0,at=nt>>2;nt=(nt&3)<<4|it>>4,it=(it&15)<<2|st>>6,st&=63,ot||(st=64,rt||(it=64)),et.push(o[at],o[nt],o[it]||"",o[st]||"")}return et.join("")},goog.crypt.base64.encodeString=function(s,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(s):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(s),o)},goog.crypt.base64.decodeString=function(s,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(s);var et="";return goog.crypt.base64.decodeStringInternal_(s,function(tt){et+=String.fromCharCode(tt)}),et},goog.crypt.base64.decodeStringToByteArray=function(s,o){var et=[];return goog.crypt.base64.decodeStringInternal_(s,function(tt){et.push(tt)}),et},goog.crypt.base64.decodeStringToUint8Array=function(s){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=s.length,et=3*o/4;et%3?et=Math.floor(et):goog.crypt.base64.isPadding_(s[o-1])&&(et=goog.crypt.base64.isPadding_(s[o-2])?et-2:et-1);var tt=new Uint8Array(et),nt=0;return goog.crypt.base64.decodeStringInternal_(s,function(rt){tt[nt++]=rt}),tt.subarray(0,nt)},goog.crypt.base64.decodeStringInternal_=function(s,o){function et(st){for(;tt<s.length;){var at=s.charAt(tt++),lt=goog.crypt.base64.charToByteMap_[at];if(lt!=null)return lt;if(!goog.string.isEmptyOrWhitespace(at))throw Error("Unknown base64 encoding at char: "+at)}return st}goog.crypt.base64.init_();for(var tt=0;;){var nt=et(-1),rt=et(0),it=et(64),ot=et(64);if(ot===64&&nt===-1)break;o(nt<<2|rt>>4),it!=64&&(o(rt<<4&240|it>>2),ot!=64&&o(it<<6&192|ot))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var s=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],et=0;5>et;et++){var tt=s.concat(o[et].split(""));goog.crypt.base64.byteToCharMaps_[et]=tt;for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=goog.crypt.base64.charToByteMap_[rt];it===void 0?goog.crypt.base64.charToByteMap_[rt]=nt:goog.asserts.assert(it===nt)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(s){var o=s>>>0;s=Math.floor((s-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=s},jspb.utils.splitInt64=function(s){var o=0>s;s=Math.abs(s);var et=s>>>0;s=Math.floor((s-et)/jspb.BinaryConstants.TWO_TO_32),s>>>=0,o&&(s=~s>>>0,et=(~et>>>0)+1,4294967295<et&&(et=0,s++,4294967295<s&&(s=0))),jspb.utils.split64Low=et,jspb.utils.split64High=s},jspb.utils.splitZigzag64=function(s){var o=0>s;s=2*Math.abs(s),jspb.utils.splitUint64(s),s=jspb.utils.split64Low;var et=jspb.utils.split64High;o&&(s==0?et==0?et=s=4294967295:(et--,s=4294967295):s--),jspb.utils.split64Low=s,jspb.utils.split64High=et},jspb.utils.splitFloat32=function(s){var o=0>s?1:0;if(s=o?-s:s,s===0)0<1/s?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(s))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(s>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(s<jspb.BinaryConstants.FLOAT32_MIN)s=Math.round(s/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s)>>>0;else{var et=Math.floor(Math.log(s)/Math.LN2);s*=Math.pow(2,-et),s=Math.round(s*jspb.BinaryConstants.TWO_TO_23),16777216<=s&&++et,jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|et+127<<23|s&8388607)>>>0}},jspb.utils.splitFloat64=function(s){var o=0>s?1:0;if(s=o?-s:s,s===0)jspb.utils.split64High=0<1/s?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(s))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(s>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(s<jspb.BinaryConstants.FLOAT64_MIN){var et=s/Math.pow(2,-1074);s=et/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|s)>>>0,jspb.utils.split64Low=et>>>0}else{et=s;var tt=0;if(2<=et)for(;2<=et&&1023>tt;)tt++,et/=2;else for(;1>et&&-1022<tt;)et*=2,tt--;et=s*Math.pow(2,-tt),s=et*jspb.BinaryConstants.TWO_TO_20&1048575,et=et*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|tt+1023<<20|s)>>>0,jspb.utils.split64Low=et}},jspb.utils.splitHash64=function(s){var o=s.charCodeAt(0),et=s.charCodeAt(1),tt=s.charCodeAt(2),nt=s.charCodeAt(3),rt=s.charCodeAt(4),it=s.charCodeAt(5),ot=s.charCodeAt(6);s=s.charCodeAt(7),jspb.utils.split64Low=o+(et<<8)+(tt<<16)+(nt<<24)>>>0,jspb.utils.split64High=rt+(it<<8)+(ot<<16)+(s<<24)>>>0},jspb.utils.joinUint64=function(s,o){return o*jspb.BinaryConstants.TWO_TO_32+(s>>>0)},jspb.utils.joinInt64=function(s,o){var et=o&2147483648;return et&&(s=~s+1>>>0,o=~o>>>0,s==0&&(o=o+1>>>0)),s=jspb.utils.joinUint64(s,o),et?-s:s},jspb.utils.toZigzag64=function(s,o,et){var tt=o>>31;return et(s<<1^tt,(o<<1|s>>>31)^tt)},jspb.utils.joinZigzag64=function(s,o){return jspb.utils.fromZigzag64(s,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(s,o,et){var tt=-(s&1);return et((s>>>1|o<<31)^tt,o>>>1^tt)},jspb.utils.joinFloat32=function(s,o){o=2*(s>>31)+1;var et=s>>>23&255;return s&=8388607,et==255?s?NaN:1/0*o:et==0?o*Math.pow(2,-149)*s:o*Math.pow(2,et-150)*(s+Math.pow(2,23))},jspb.utils.joinFloat64=function(s,o){var et=2*(o>>31)+1,tt=o>>>20&2047;return s=jspb.BinaryConstants.TWO_TO_32*(o&1048575)+s,tt==2047?s?NaN:1/0*et:tt==0?et*Math.pow(2,-1074)*s:et*Math.pow(2,tt-1075)*(s+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(s,o){return String.fromCharCode(s>>>0&255,s>>>8&255,s>>>16&255,s>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(s,o){function et(nt,rt){return nt=nt?String(nt):"",rt?"0000000".slice(nt.length)+nt:nt}if(2097151>=o)return""+jspb.utils.joinUint64(s,o);var tt=(s>>>24|o<<8)>>>0&16777215;return o=o>>16&65535,s=(s&16777215)+6777216*tt+6710656*o,tt+=8147497*o,o*=2,1e7<=s&&(tt+=Math.floor(s/1e7),s%=1e7),1e7<=tt&&(o+=Math.floor(tt/1e7),tt%=1e7),et(o,0)+et(tt,o)+et(s,1)},jspb.utils.joinSignedDecimalString=function(s,o){var et=o&2147483648;return et&&(s=~s+1>>>0,o=~o+(s==0?1:0)>>>0),s=jspb.utils.joinUnsignedDecimalString(s,o),et?"-"+s:s},jspb.utils.hash64ToDecimalString=function(s,o){jspb.utils.splitHash64(s),s=jspb.utils.split64Low;var et=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(s,et):jspb.utils.joinUnsignedDecimalString(s,et)},jspb.utils.hash64ArrayToDecimalStrings=function(s,o){for(var et=Array(s.length),tt=0;tt<s.length;tt++)et[tt]=jspb.utils.hash64ToDecimalString(s[tt],o);return et},jspb.utils.decimalStringToHash64=function(s){function o(it,ot){for(var st=0;8>st&&(it!==1||0<ot);st++)ot=it*nt[st]+ot,nt[st]=ot&255,ot>>>=8}function et(){for(var it=0;8>it;it++)nt[it]=~nt[it]&255}jspb.asserts.assert(0<s.length);var tt=!1;s[0]==="-"&&(tt=!0,s=s.slice(1));for(var nt=[0,0,0,0,0,0,0,0],rt=0;rt<s.length;rt++)o(10,s.charCodeAt(rt)-jspb.utils.ZERO_CHAR_CODE_);return tt&&(et(),o(1,1)),goog.crypt.byteArrayToString(nt)},jspb.utils.splitDecimalString=function(s){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(s))},jspb.utils.toHexDigit_=function(s){return String.fromCharCode(10>s?jspb.utils.ZERO_CHAR_CODE_+s:jspb.utils.A_CHAR_CODE_-10+s)},jspb.utils.fromHexCharCode_=function(s){return s>=jspb.utils.A_CHAR_CODE_?s-jspb.utils.A_CHAR_CODE_+10:s-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(s){var o=Array(18);o[0]="0",o[1]="x";for(var et=0;8>et;et++){var tt=s.charCodeAt(7-et);o[2*et+2]=jspb.utils.toHexDigit_(tt>>4),o[2*et+3]=jspb.utils.toHexDigit_(tt&15)}return o.join("")},jspb.utils.hexStringToHash64=function(s){s=s.toLowerCase(),jspb.asserts.assert(s.length==18),jspb.asserts.assert(s[0]=="0"),jspb.asserts.assert(s[1]=="x");for(var o="",et=0;8>et;et++){var tt=jspb.utils.fromHexCharCode_(s.charCodeAt(2*et+2)),nt=jspb.utils.fromHexCharCode_(s.charCodeAt(2*et+3));o=String.fromCharCode(16*tt+nt)+o}return o},jspb.utils.hash64ToNumber=function(s,o){jspb.utils.splitHash64(s),s=jspb.utils.split64Low;var et=jspb.utils.split64High;return o?jspb.utils.joinInt64(s,et):jspb.utils.joinUint64(s,et)},jspb.utils.numberToHash64=function(s){return jspb.utils.splitInt64(s),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(s,o,et){for(var tt=0,nt=o;nt<et;nt++)tt+=s[nt]>>7;return et-o-tt},jspb.utils.countVarintFields=function(s,o,et,tt){var nt=0;if(tt=8*tt+jspb.BinaryConstants.WireType.VARINT,128>tt)for(;o<et&&s[o++]==tt;)for(nt++;;){var rt=s[o++];if(!(rt&128))break}else for(;o<et;){for(rt=tt;128<rt;){if(s[o]!=(rt&127|128))return nt;o++,rt>>=7}if(s[o++]!=rt)break;for(nt++;rt=s[o++],(rt&128)!=0;);}return nt},jspb.utils.countFixedFields_=function(s,o,et,tt,nt){var rt=0;if(128>tt)for(;o<et&&s[o++]==tt;)rt++,o+=nt;else for(;o<et;){for(var it=tt;128<it;){if(s[o++]!=(it&127|128))return rt;it>>=7}if(s[o++]!=it)break;rt++,o+=nt}return rt},jspb.utils.countFixed32Fields=function(s,o,et,tt){return jspb.utils.countFixedFields_(s,o,et,8*tt+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(s,o,et,tt){return jspb.utils.countFixedFields_(s,o,et,8*tt+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(s,o,et,tt){var nt=0;for(tt=8*tt+jspb.BinaryConstants.WireType.DELIMITED;o<et;){for(var rt=tt;128<rt;){if(s[o++]!=(rt&127|128))return nt;rt>>=7}if(s[o++]!=rt)break;nt++;for(var it=0,ot=1;rt=s[o++],it+=(rt&127)*ot,ot*=128,(rt&128)!=0;);o+=it}return nt},jspb.utils.debugBytesToTextFormat=function(s){var o='"';if(s){s=jspb.utils.byteSourceToUint8Array(s);for(var et=0;et<s.length;et++)o+="\\x",16>s[et]&&(o+="0"),o+=s[et].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(s){return typeof s=="string"?goog.string.quote(s):s.toString()},jspb.utils.stringToByteArray=function(s){for(var o=new Uint8Array(s.length),et=0;et<s.length;et++){var tt=s.charCodeAt(et);if(255<tt)throw Error("Conversion error: string contains codepoint outside of byte range");o[et]=tt}return o},jspb.utils.byteSourceToUint8Array=function(s){return s.constructor===Uint8Array?s:s.constructor===ArrayBuffer||s.constructor===Array?new Uint8Array(s):s.constructor===String?goog.crypt.base64.decodeStringToUint8Array(s):s instanceof Uint8Array?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(s,o,et){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,s&&this.setBlock(s,o,et)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(s,o,et){if(jspb.BinaryDecoder.instanceCache_.length){var tt=jspb.BinaryDecoder.instanceCache_.pop();return s&&tt.setBlock(s,o,et),tt}return new jspb.BinaryDecoder(s,o,et)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(s,o,et){this.bytes_=jspb.utils.byteSourceToUint8Array(s),this.start_=o!==void 0?o:0,this.end_=et!==void 0?this.start_+et:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(s){this.end_=s},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(s){this.cursor_=s},jspb.BinaryDecoder.prototype.advance=function(s){this.cursor_+=s,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(s){for(var o=128,et=0,tt=0,nt=0;4>nt&&128<=o;nt++)o=this.bytes_[this.cursor_++],et|=(o&127)<<7*nt;if(128<=o&&(o=this.bytes_[this.cursor_++],et|=(o&127)<<28,tt|=(o&127)>>4),128<=o)for(nt=0;5>nt&&128<=o;nt++)o=this.bytes_[this.cursor_++],tt|=(o&127)<<7*nt+3;if(128>o)return s(et>>>0,tt>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(s){return this.readSplitVarint64(function(o,et){return jspb.utils.fromZigzag64(o,et,s)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(s){var o=this.bytes_,et=this.cursor_;this.cursor_+=8;for(var tt=0,nt=0,rt=et+7;rt>=et;rt--)tt=tt<<8|o[rt],nt=nt<<8|o[rt+4];return s(tt,nt)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;this.bytes_[this.cursor_]&128;)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(s){for(;128<s;)this.cursor_--,s>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var s=this.bytes_,o=s[this.cursor_+0],et=o&127;return 128>o?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),et):(o=s[this.cursor_+1],et|=(o&127)<<7,128>o?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),et):(o=s[this.cursor_+2],et|=(o&127)<<14,128>o?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),et):(o=s[this.cursor_+3],et|=(o&127)<<21,128>o?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),et):(o=s[this.cursor_+4],et|=(o&15)<<28,128>o?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),et>>>0):(this.cursor_+=5,128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&128<=s[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),et)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var s=this.readUnsignedVarint32();return s>>>1^-(s&1)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var s=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),s},jspb.BinaryDecoder.prototype.readUint16=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),s<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],et=this.bytes_[this.cursor_+2],tt=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(s<<0|o<<8|et<<16|tt<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(s,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(s,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var s=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),s<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(s<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var s=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],et=this.bytes_[this.cursor_+2],tt=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),s<<0|o<<8|et<<16|tt<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(s,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(s,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var s=this.readUint32();return jspb.utils.joinFloat32(s,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var s=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(s,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(s){var o=this.bytes_,et=this.cursor_;s=et+s;for(var tt=[],nt="";et<s;){var rt=o[et++];if(128>rt)tt.push(rt);else{if(192>rt)continue;if(224>rt){var it=o[et++];tt.push((rt&31)<<6|it&63)}else if(240>rt){it=o[et++];var ot=o[et++];tt.push((rt&15)<<12|(it&63)<<6|ot&63)}else if(248>rt){it=o[et++],ot=o[et++];var st=o[et++];rt=(rt&7)<<18|(it&63)<<12|(ot&63)<<6|st&63,rt-=65536,tt.push((rt>>10&1023)+55296,(rt&1023)+56320)}}8192<=tt.length&&(nt+=String.fromCharCode.apply(null,tt),tt.length=0)}return nt+=goog.crypt.byteArrayToString(tt),this.cursor_=et,nt},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var s=this.readUnsignedVarint32();return this.readString(s)},jspb.BinaryDecoder.prototype.readBytes=function(s){if(0>s||this.cursor_+s>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+s);return this.cursor_+=s,jspb.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var s=this.bytes_,o=this.cursor_,et=s[o+0],tt=s[o+1],nt=s[o+2],rt=s[o+3],it=s[o+4],ot=s[o+5],st=s[o+6];return s=s[o+7],this.cursor_+=8,String.fromCharCode(et,tt,nt,rt,it,ot,st,s)},jspb.BinaryReader=function(s,o,et){this.decoder_=jspb.BinaryDecoder.alloc(s,o,et),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(s,o,et){if(jspb.BinaryReader.instanceCache_.length){var tt=jspb.BinaryReader.instanceCache_.pop();return s&&tt.decoder_.setBlock(s,o,et),tt}return new jspb.BinaryReader(s,o,et)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(s,o,et){this.decoder_.setBlock(s,o,et),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(s){this.decoder_.advance(s)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var s=this.decoder_.readUnsignedVarint32(),o=s>>>3;return s&=7,s!=jspb.BinaryConstants.WireType.VARINT&&s!=jspb.BinaryConstants.WireType.FIXED32&&s!=jspb.BinaryConstants.WireType.FIXED64&&s!=jspb.BinaryConstants.WireType.DELIMITED&&s!=jspb.BinaryConstants.WireType.START_GROUP&&s!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",s,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=s,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var s=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==s;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var s=this.decoder_.readUnsignedVarint32();this.decoder_.advance(s)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){var s=this.nextField_;do{if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=s&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}while(1)},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(s,o){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[s]),this.readCallbacks_[s]=o},jspb.BinaryReader.prototype.runReadCallback=function(s){return jspb.asserts.assert(this.readCallbacks_!==null),s=this.readCallbacks_[s],jspb.asserts.assert(s),s(this)},jspb.BinaryReader.prototype.readAny=function(s){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(s);var o=jspb.BinaryConstants.FieldType;switch(s){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(s,o){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var et=this.decoder_.getEnd(),tt=this.decoder_.readUnsignedVarint32();tt=this.decoder_.getCursor()+tt,this.decoder_.setEnd(tt),o(s,this),this.decoder_.setCursor(tt),this.decoder_.setEnd(et)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(s,o,et){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==s),et(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),et=o+s;return s=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,s),this.decoder_.setCursor(et),s},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(s)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(s)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(s){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(s)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(s){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,et){return jspb.utils.fromZigzag64(o,et,s)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(s){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(s)},jspb.BinaryReader.prototype.readPackedField_=function(s){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var et=[];this.decoder_.getCursor()<o;)et.push(s.call(this.decoder_));return et},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var s=this.buffer_;return this.buffer_=[],s},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(s,o){for(jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(o==Math.floor(o)),jspb.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<s;)this.buffer_.push(s&127|128),s=(s>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(s)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(s,o){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(o==Math.floor(o)),jspb.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(s),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(s){for(jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32);127<s;)this.buffer_.push(s&127|128),s>>>=7;this.buffer_.push(s)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(s){if(jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),0<=s)this.writeUnsignedVarint32(s);else{for(var o=0;9>o;o++)this.buffer_.push(s&127|128),s>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_63&&s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((s<<1^s>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_63&&s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(s){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(s))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(s){var o=this;jspb.utils.splitHash64(s),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(et,tt){o.writeSplitVarint64(et>>>0,tt>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(0<=s&&256>s),this.buffer_.push(s>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(0<=s&&65536>s),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255),this.buffer_.push(s>>>16&255),this.buffer_.push(s>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(0<=s&&s<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(s),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(-128<=s&&128>s),this.buffer_.push(s>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(-32768<=s&&32768>s),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(s>>>0&255),this.buffer_.push(s>>>8&255),this.buffer_.push(s>>>16&255),this.buffer_.push(s>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_63&&s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(s),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(+s>=-jspb.BinaryConstants.TWO_TO_63&&+s<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(s)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(s){jspb.asserts.assert(s===1/0||s===-1/0||isNaN(s)||s>=-jspb.BinaryConstants.FLOAT32_MAX&&s<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(s),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(s){jspb.asserts.assert(s===1/0||s===-1/0||isNaN(s)||s>=-jspb.BinaryConstants.FLOAT64_MAX&&s<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(s),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(s){jspb.asserts.assert(typeof s=="boolean"||typeof s=="number"),this.buffer_.push(s?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(s){jspb.asserts.assert(s==Math.floor(s)),jspb.asserts.assert(s>=-jspb.BinaryConstants.TWO_TO_31&&s<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(s)},jspb.BinaryEncoder.prototype.writeBytes=function(s){this.buffer_.push.apply(this.buffer_,s)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(s){jspb.utils.splitHash64(s),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(s){jspb.utils.splitHash64(s),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(s){var o=this.buffer_.length;jspb.asserts.assertString(s);for(var et=0;et<s.length;et++){var tt=s.charCodeAt(et);if(128>tt)this.buffer_.push(tt);else if(2048>tt)this.buffer_.push(tt>>6|192),this.buffer_.push(tt&63|128);else if(65536>tt)if(55296<=tt&&56319>=tt&&et+1<s.length){var nt=s.charCodeAt(et+1);56320<=nt&&57343>=nt&&(tt=1024*(tt-55296)+nt-56320+65536,this.buffer_.push(tt>>18|240),this.buffer_.push(tt>>12&63|128),this.buffer_.push(tt>>6&63|128),this.buffer_.push(tt&63|128),et++)}else this.buffer_.push(tt>>12|224),this.buffer_.push(tt>>6&63|128),this.buffer_.push(tt&63|128)}return this.buffer_.length-o},jspb.arith={},jspb.arith.UInt64=function(s,o){this.lo=s,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(s){return this.hi<s.hi||this.hi==s.hi&&this.lo<s.lo?-1:this.hi==s.hi&&this.lo==s.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(this.hi&2147483648)},jspb.arith.UInt64.prototype.lsb=function(){return!!(this.lo&1)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(s){return new jspb.arith.UInt64((this.lo+s.lo&4294967295)>>>0>>>0,((this.hi+s.hi&4294967295)>>>0)+(4294967296<=this.lo+s.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(s){return new jspb.arith.UInt64((this.lo-s.lo&4294967295)>>>0>>>0,((this.hi-s.hi&4294967295)>>>0)-(0>this.lo-s.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(s,o){var et=s&65535;s>>>=16;var tt=o&65535,nt=o>>>16;for(o=et*tt+65536*(et*nt&65535)+65536*(s*tt&65535),et=s*nt+(et*nt>>>16)+(s*tt>>>16);4294967296<=o;)o-=4294967296,et+=1;return new jspb.arith.UInt64(o>>>0,et>>>0)},jspb.arith.UInt64.prototype.mul=function(s){var o=jspb.arith.UInt64.mul32x32(this.lo,s);return s=jspb.arith.UInt64.mul32x32(this.hi,s),s.hi=s.lo,s.lo=0,o.add(s)},jspb.arith.UInt64.prototype.div=function(s){if(s==0)return[];var o=new jspb.arith.UInt64(0,0),et=new jspb.arith.UInt64(this.lo,this.hi);s=new jspb.arith.UInt64(s,0);for(var tt=new jspb.arith.UInt64(1,0);!s.msb();)s=s.leftShift(),tt=tt.leftShift();for(;!tt.zero();)0>=s.cmp(et)&&(o=o.add(tt),et=et.sub(s)),s=s.rightShift(),tt=tt.rightShift();return[o,et]},jspb.arith.UInt64.prototype.toString=function(){for(var s="",o=this;!o.zero();){o=o.div(10);var et=o[0];s=o[1].lo+s,o=et}return s==""&&(s="0"),s},jspb.arith.UInt64.fromString=function(s){for(var o=new jspb.arith.UInt64(0,0),et=new jspb.arith.UInt64(0,0),tt=0;tt<s.length;tt++){if("0">s[tt]||"9"<s[tt])return null;var nt=parseInt(s[tt],10);et.lo=nt,o=o.mul(10).add(et)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(s,o){this.lo=s,this.hi=o},jspb.arith.Int64.prototype.add=function(s){return new jspb.arith.Int64((this.lo+s.lo&4294967295)>>>0>>>0,((this.hi+s.hi&4294967295)>>>0)+(4294967296<=this.lo+s.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(s){return new jspb.arith.Int64((this.lo-s.lo&4294967295)>>>0>>>0,((this.hi-s.hi&4294967295)>>>0)-(0>this.lo-s.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var s=(this.hi&2147483648)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return s&&(o=new jspb.arith.UInt64(0,0).sub(o)),(s?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(s){var o=0<s.length&&s[0]=="-";return o&&(s=s.substring(1)),s=jspb.arith.UInt64.fromString(s),s===null?null:(o&&(s=new jspb.arith.UInt64(0,0).sub(s)),new jspb.arith.Int64(s.lo,s.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(s){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(s),this.totalLength_+=o.length+s.length},jspb.BinaryWriter.prototype.beginDelimited_=function(s){return this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),s=this.encoder_.end(),this.blocks_.push(s),this.totalLength_+=s.length,s.push(this.totalLength_),s},jspb.BinaryWriter.prototype.endDelimited_=function(s){var o=s.pop();for(o=this.totalLength_+this.encoder_.length()-o,jspb.asserts.assert(0<=o);127<o;)s.push(o&127|128),o>>>=7,this.totalLength_++;s.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(s,o,et){this.appendUint8Array_(s.subarray(o,et))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(s,o,et){s!=null&&o!=null&&et!=null&&this.writeSerializedMessage(s,o,et)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var s=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,et=o.length,tt=0,nt=0;nt<et;nt++){var rt=o[nt];s.set(rt,tt),tt+=rt.length}return o=this.encoder_.end(),s.set(o,tt),tt+=o.length,jspb.asserts.assert(tt==s.length),this.blocks_=[s],s},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(s){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),s)},jspb.BinaryWriter.prototype.beginSubMessage=function(s){this.bookmarks_.push(this.beginDelimited_(s))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(s,o){jspb.asserts.assert(1<=s&&s==Math.floor(s)),this.encoder_.writeUnsignedVarint32(8*s+o)},jspb.BinaryWriter.prototype.writeAny=function(s,o,et){var tt=jspb.BinaryConstants.FieldType;switch(s){case tt.DOUBLE:this.writeDouble(o,et);break;case tt.FLOAT:this.writeFloat(o,et);break;case tt.INT64:this.writeInt64(o,et);break;case tt.UINT64:this.writeUint64(o,et);break;case tt.INT32:this.writeInt32(o,et);break;case tt.FIXED64:this.writeFixed64(o,et);break;case tt.FIXED32:this.writeFixed32(o,et);break;case tt.BOOL:this.writeBool(o,et);break;case tt.STRING:this.writeString(o,et);break;case tt.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case tt.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case tt.BYTES:this.writeBytes(o,et);break;case tt.UINT32:this.writeUint32(o,et);break;case tt.ENUM:this.writeEnum(o,et);break;case tt.SFIXED32:this.writeSfixed32(o,et);break;case tt.SFIXED64:this.writeSfixed64(o,et);break;case tt.SINT32:this.writeSint32(o,et);break;case tt.SINT64:this.writeSint64(o,et);break;case tt.FHASH64:this.writeFixedHash64(o,et);break;case tt.VHASH64:this.writeVarintHash64(o,et);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(s,o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(s,o){o!=null&&(o=parseInt(o,10),jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(s,o))},jspb.BinaryWriter.prototype.writeInt64=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(s,o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(s,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(s,o){o!=null&&(jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(s,o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(s,o){o!=null&&(o=parseInt(o,10),jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(s,o))},jspb.BinaryWriter.prototype.writeUint64=function(s,o){o!=null&&(jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(s,o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(s,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(s,o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(s,o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(s,o){o!=null&&this.writeZigzagVarintHash64_(s,o)},jspb.BinaryWriter.prototype.writeSint64String=function(s,o){o!=null&&this.writeZigzagVarint64String_(s,o)},jspb.BinaryWriter.prototype.writeFixed32=function(s,o){o!=null&&(jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(s,o){o!=null&&(jspb.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(s,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(s,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(s,o){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(s,o){o!=null&&(jspb.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(s,o){o!=null&&(jspb.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(s,o){o!=null&&(s=this.beginDelimited_(s),this.encoder_.writeString(o),this.endDelimited_(s))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(s,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(s,o,et){o!=null&&(s=this.beginDelimited_(s),et(o,this),this.endDelimited_(s))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(s,o,et){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(s),s=this.beginDelimited_(3),et(o,this),this.endDelimited_(s),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(s,o,et){o!=null&&(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.START_GROUP),et(o,this),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(s,o){o!=null&&(jspb.asserts.assert(o.length==8),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(s,o){o!=null&&(jspb.asserts.assert(o.length==8),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(s,o,et){this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,et)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(s,o,et){this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,et)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(s,o,et){this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.VARINT);var tt=this.encoder_;jspb.utils.toZigzag64(o,et,function(nt,rt){tt.writeSplitVarint64(nt>>>0,rt>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSignedVarint32_(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeInt32String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSignedVarint64_(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(s,o,et,tt){if(o!=null)for(var nt=0;nt<o.length;nt++)this.writeSplitFixed64(s,et(o[nt]),tt(o[nt]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(s,o,et,tt){if(o!=null)for(var nt=0;nt<o.length;nt++)this.writeSplitVarint64(s,et(o[nt]),tt(o[nt]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(s,o,et,tt){if(o!=null)for(var nt=0;nt<o.length;nt++)this.writeSplitZigzagVarint64(s,et(o[nt]),tt(o[nt]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeInt64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUnsignedVarint32_(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUint32String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUnsignedVarint64_(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeUint64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarint32_(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarint64_(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarint64String_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeZigzagVarintHash64_(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixed32(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixed64(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixed64String(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSfixed32(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSfixed64(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeSfixed64String(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFloat(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeDouble(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeBool(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeEnum(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeString(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeBytes(s,o[et])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(s,o,et){if(o!=null)for(var tt=0;tt<o.length;tt++){var nt=this.beginDelimited_(s);et(o[tt],this),this.endDelimited_(nt)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(s,o,et){if(o!=null)for(var tt=0;tt<o.length;tt++)this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.START_GROUP),et(o[tt],this),this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeFixedHash64(s,o[et])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(s,o){if(o!=null)for(var et=0;et<o.length;et++)this.writeVarintHash64(s,o[et])},jspb.BinaryWriter.prototype.writePackedInt32=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeSignedVarint32(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeSignedVarint32(parseInt(o[et],10));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedInt64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeSignedVarint64(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(s,o,et,tt){if(o!=null){s=this.beginDelimited_(s);for(var nt=0;nt<o.length;nt++)this.encoder_.writeSplitFixed64(et(o[nt]),tt(o[nt]));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(s,o,et,tt){if(o!=null){s=this.beginDelimited_(s);for(var nt=0;nt<o.length;nt++)this.encoder_.writeSplitVarint64(et(o[nt]),tt(o[nt]));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(s,o,et,tt){if(o!=null){s=this.beginDelimited_(s);for(var nt=this.encoder_,rt=0;rt<o.length;rt++)jspb.utils.toZigzag64(et(o[rt]),tt(o[rt]),function(it,ot){nt.writeSplitVarint64(it>>>0,ot>>>0)});this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++){var tt=jspb.arith.Int64.fromString(o[et]);this.encoder_.writeSplitVarint64(tt.lo,tt.hi)}this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedUint32=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeUnsignedVarint32(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeUnsignedVarint32(parseInt(o[et],10));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedUint64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeUnsignedVarint64(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++){var tt=jspb.arith.UInt64.fromString(o[et]);this.encoder_.writeSplitVarint64(tt.lo,tt.hi)}this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSint32=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarint32(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarint64(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[et]));this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeZigzagVarintHash64(o[et]);this.endDelimited_(s)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),s=0;s<o.length;s++)this.encoder_.writeUint32(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeUint64(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++){var et=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitFixed64(et.lo,et.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),s=0;s<o.length;s++)this.encoder_.writeInt32(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeInt64(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeInt64String(o[s])},jspb.BinaryWriter.prototype.writePackedFloat=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),s=0;s<o.length;s++)this.encoder_.writeFloat(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeDouble(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),s=0;s<o.length;s++)this.encoder_.writeBool(o[s])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeEnum(o[et]);this.endDelimited_(s)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(s,o){if(o!=null&&o.length)for(this.writeFieldHeader_(s,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),s=0;s<o.length;s++)this.encoder_.writeFixedHash64(o[s])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(s,o){if(o!=null&&o.length){s=this.beginDelimited_(s);for(var et=0;et<o.length;et++)this.encoder_.writeVarintHash64(o[et]);this.endDelimited_(s)}},jspb.Map=function(s,o){this.arr_=s,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var s=0;s<this.arr_.length;s++){var o=this.arr_[s],et=o[0];this.map_[et.toString()]=new jspb.Map.Entry_(et,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var s=this.map_,o;for(o in s)if(Object.prototype.hasOwnProperty.call(s,o)){var et=s[o].valueWrapper;et&&et.toArray()}}}else{for(this.arr_.length=0,s=this.stringKeys_(),s.sort(),o=0;o<s.length;o++){var tt=this.map_[s[o]];(et=tt.valueWrapper)&&et.toArray(),this.arr_.push([tt.key,tt.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(s,o){for(var et=this.toArray(),tt=[],nt=0;nt<et.length;nt++){var rt=this.map_[et[nt][0].toString()];this.wrapEntry_(rt);var it=rt.valueWrapper;it?(jspb.asserts.assert(o),tt.push([rt.key,o(s,it)])):tt.push([rt.key,rt.value])}return tt},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(s,o,et){o=new jspb.Map([],o);for(var tt=0;tt<s.length;tt++){var nt=s[tt][0],rt=et(s[tt][1]);o.set(nt,rt)}return o},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(s){this.idx_=0,this.arr_=s},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(s){s=s.toString();var o=this.map_.hasOwnProperty(s);return delete this.map_[s],this.arrClean=!1,o},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++){var tt=this.map_[o[et]];s.push([tt.key,tt.value])}return s},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++){var tt=this.map_[o[et]];s.push([tt.key,this.wrapEntry_(tt)])}return new jspb.Map.ArrayIteratorIterable_(s)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++)s.push(this.map_[o[et]].key);return new jspb.Map.ArrayIteratorIterable_(s)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var s=[],o=this.stringKeys_();o.sort();for(var et=0;et<o.length;et++)s.push(this.wrapEntry_(this.map_[o[et]]));return new jspb.Map.ArrayIteratorIterable_(s)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(s,o){var et=this.stringKeys_();et.sort();for(var tt=0;tt<et.length;tt++){var nt=this.map_[et[tt]];s.call(o,this.wrapEntry_(nt),nt.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(s,o){var et=new jspb.Map.Entry_(s);return this.valueCtor_?(et.valueWrapper=o,et.value=o.toArray()):et.value=o,this.map_[s.toString()]=et,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(s){return this.valueCtor_?(s.valueWrapper||(s.valueWrapper=new this.valueCtor_(s.value)),s.valueWrapper):s.value},jspb.Map.prototype.get=function(s){if(s=this.map_[s.toString()])return this.wrapEntry_(s)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(s){return s.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(s,o,et,tt,nt){var rt=this.stringKeys_();rt.sort();for(var it=0;it<rt.length;it++){var ot=this.map_[rt[it]];o.beginSubMessage(s),et.call(o,1,ot.key),this.valueCtor_?tt.call(o,2,this.wrapEntry_(ot),nt):tt.call(o,2,ot.value),o.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(s,o,et,tt,nt,rt,it){for(;o.nextField()&&!o.isEndGroup();){var ot=o.getFieldNumber();ot==1?rt=et.call(o):ot==2&&(s.valueCtor_?(jspb.asserts.assert(nt),it||(it=new s.valueCtor_),tt.call(o,it,nt)):it=tt.call(o))}jspb.asserts.assert(rt!=null),jspb.asserts.assert(it!=null),s.set(rt,it)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var s=this.map_,o=[],et;for(et in s)Object.prototype.hasOwnProperty.call(s,et)&&o.push(et);return o},jspb.Map.Entry_=function(s,o){this.key=s,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(s,o,et,tt,nt){this.fieldIndex=s,this.fieldName=o,this.ctor=et,this.toObjectFn=tt,this.isRepeated=nt},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(s,o,et,tt,nt,rt){this.fieldInfo=s,this.binaryReaderFn=o,this.binaryWriterFn=et,this.binaryMessageSerializeFn=tt,this.binaryMessageDeserializeFn=nt,this.isPacked=rt},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(s,o){return o+s.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(s,o){return o-s.arrayIndexOffset_},jspb.Message.initialize=function(s,o,et,tt,nt,rt){if(s.wrappers_=null,o||(o=et?[et]:[]),s.messageId_=et?String(et):void 0,s.arrayIndexOffset_=et===0?-1:0,s.array=o,jspb.Message.initPivotAndExtensionObject_(s,tt),s.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(s.repeatedFields=nt),nt)for(o=0;o<nt.length;o++)et=nt[o],et<s.pivot_?(et=jspb.Message.getIndex_(s,et),s.array[et]=s.array[et]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(s),s.extensionObject_[et]=s.extensionObject_[et]||jspb.Message.EMPTY_LIST_SENTINEL_);if(rt&&rt.length)for(o=0;o<rt.length;o++)jspb.Message.computeOneofCase(s,rt[o])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(s){return jspb.Message.ASSUME_LOCAL_ARRAYS?s instanceof Array:Array.isArray(s)},jspb.Message.isExtensionObject_=function(s){return s!==null&&typeof s=="object"&&!jspb.Message.isArray_(s)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&s instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(s,o){var et=s.array.length,tt=-1;if(et&&(tt=et-1,et=s.array[tt],jspb.Message.isExtensionObject_(et))){s.pivot_=jspb.Message.getFieldNumber_(s,tt),s.extensionObject_=et;return}-1<o?(s.pivot_=Math.max(o,jspb.Message.getFieldNumber_(s,tt+1)),s.extensionObject_=null):s.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(s){var o=jspb.Message.getIndex_(s,s.pivot_);s.array[o]||(s.extensionObject_=s.array[o]={})},jspb.Message.toObjectList=function(s,o,et){for(var tt=[],nt=0;nt<s.length;nt++)tt[nt]=o.call(s[nt],et,s[nt]);return tt},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(s,o,et,tt,nt){for(var rt in et){var it=et[rt],ot=tt.call(s,it);if(ot!=null){for(var st in it.fieldName)if(it.fieldName.hasOwnProperty(st))break;o[st]=it.toObjectFn?it.isRepeated?jspb.Message.toObjectList(ot,it.toObjectFn,nt):it.toObjectFn(nt,ot):ot}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(s,o,et,tt){for(var nt in et){var rt=et[nt],it=rt.fieldInfo;if(!rt.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var ot=tt.call(s,it);if(ot!=null)if(it.isMessageType())if(rt.binaryMessageSerializeFn)rt.binaryWriterFn.call(o,it.fieldIndex,ot,rt.binaryMessageSerializeFn);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else rt.binaryWriterFn.call(o,it.fieldIndex,ot)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(s,o,et,tt,nt){var rt=et[o.getFieldNumber()];if(rt){if(et=rt.fieldInfo,!rt.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(et.isMessageType()){var it=new et.ctor;rt.binaryReaderFn.call(o,it,rt.binaryMessageDeserializeFn)}else it=rt.binaryReaderFn.call(o);et.isRepeated&&!rt.isPacked?(o=tt.call(s,et))?o.push(it):nt.call(s,et,[it]):nt.call(s,et,it)}else o.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(s,o){if(o<s.pivot_){o=jspb.Message.getIndex_(s,o);var et=s.array[o];return et===jspb.Message.EMPTY_LIST_SENTINEL_?s.array[o]=[]:et}if(s.extensionObject_)return et=s.extensionObject_[o],et===jspb.Message.EMPTY_LIST_SENTINEL_?s.extensionObject_[o]=[]:et},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(s,o){return jspb.Message.getField(s,o)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(s,o){return s=jspb.Message.getField(s,o),s==null?s:+s},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(s,o){return s=jspb.Message.getField(s,o),s==null?s:!!s},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(s,o){var et=jspb.Message.getRepeatedField(s,o);if(s.convertedPrimitiveFields_||(s.convertedPrimitiveFields_={}),!s.convertedPrimitiveFields_[o]){for(var tt=0;tt<et.length;tt++)et[tt]=+et[tt];s.convertedPrimitiveFields_[o]=!0}return et},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(s,o){var et=jspb.Message.getRepeatedField(s,o);if(s.convertedPrimitiveFields_||(s.convertedPrimitiveFields_={}),!s.convertedPrimitiveFields_[o]){for(var tt=0;tt<et.length;tt++)et[tt]=!!et[tt];s.convertedPrimitiveFields_[o]=!0}return et},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(s){return s==null||typeof s=="string"?s:jspb.Message.SUPPORTS_UINT8ARRAY_&&s instanceof Uint8Array?goog.crypt.base64.encodeByteArray(s):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(s)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(s){return s==null||s instanceof Uint8Array?s:typeof s=="string"?goog.crypt.base64.decodeStringToUint8Array(s):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(s)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(s){return jspb.Message.assertConsistentTypes_(s),s.length&&typeof s[0]!="string"?goog.array.map(s,jspb.Message.bytesAsB64):s},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(s){return jspb.Message.assertConsistentTypes_(s),!s.length||s[0]instanceof Uint8Array?s:goog.array.map(s,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(s){if(goog.DEBUG&&s&&1<s.length){var o=goog.typeOf(s[0]);goog.array.forEach(s,function(et){goog.typeOf(et)!=o&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(et)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(s,o,et){return s=jspb.Message.getField(s,o),s??et},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(s,o,et){return s=jspb.Message.getBooleanField(s,o),s??et},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(s,o,et){return s=jspb.Message.getOptionalFloatingPointField(s,o),s??et},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(s,o,et,tt){if(s.wrappers_||(s.wrappers_={}),o in s.wrappers_)return s.wrappers_[o];var nt=jspb.Message.getField(s,o);if(!nt){if(et)return;nt=[],jspb.Message.setField(s,o,nt)}return s.wrappers_[o]=new jspb.Map(nt,tt)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(s,o,et){return jspb.asserts.assertInstanceof(s,jspb.Message),o<s.pivot_?s.array[jspb.Message.getIndex_(s,o)]=et:(jspb.Message.maybeInitEmptyExtensionObject_(s),s.extensionObject_[o]=et),s},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(s,o,et){return jspb.Message.setFieldIgnoringDefault_(s,o,et,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(s,o,et,tt){return jspb.asserts.assertInstanceof(s,jspb.Message),et!==tt?jspb.Message.setField(s,o,et):o<s.pivot_?s.array[jspb.Message.getIndex_(s,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(s),delete s.extensionObject_[o]),s},jspb.Message.addToRepeatedField=function(s,o,et,tt){return jspb.asserts.assertInstanceof(s,jspb.Message),o=jspb.Message.getRepeatedField(s,o),tt!=null?o.splice(tt,0,et):o.push(et),s},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(s,o,et,tt){return jspb.asserts.assertInstanceof(s,jspb.Message),(et=jspb.Message.computeOneofCase(s,et))&&et!==o&&tt!==void 0&&(s.wrappers_&&et in s.wrappers_&&(s.wrappers_[et]=void 0),jspb.Message.setField(s,et,void 0)),jspb.Message.setField(s,o,tt)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(s,o){for(var et,tt,nt=0;nt<o.length;nt++){var rt=o[nt],it=jspb.Message.getField(s,rt);it!=null&&(et=rt,tt=it,jspb.Message.setField(s,rt,void 0))}return et?(jspb.Message.setField(s,et,tt),et):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(s,o,et,tt){if(s.wrappers_||(s.wrappers_={}),!s.wrappers_[et]){var nt=jspb.Message.getField(s,et);(tt||nt)&&(s.wrappers_[et]=new o(nt))}return s.wrappers_[et]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(s,o,et){return jspb.Message.wrapRepeatedField_(s,o,et),o=s.wrappers_[et],o==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=s.wrappers_[et]=[]),o},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(s,o,et){if(s.wrappers_||(s.wrappers_={}),!s.wrappers_[et]){for(var tt=jspb.Message.getRepeatedField(s,et),nt=[],rt=0;rt<tt.length;rt++)nt[rt]=new o(tt[rt]);s.wrappers_[et]=nt}},jspb.Message.setWrapperField=function(s,o,et){jspb.asserts.assertInstanceof(s,jspb.Message),s.wrappers_||(s.wrappers_={});var tt=et&&et.toArray();return s.wrappers_[o]=et,jspb.Message.setField(s,o,tt)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(s,o,et,tt){jspb.asserts.assertInstanceof(s,jspb.Message),s.wrappers_||(s.wrappers_={});var nt=tt&&tt.toArray();return s.wrappers_[o]=tt,jspb.Message.setOneofField(s,o,et,nt)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(s,o,et){jspb.asserts.assertInstanceof(s,jspb.Message),s.wrappers_||(s.wrappers_={}),et=et||[];for(var tt=[],nt=0;nt<et.length;nt++)tt[nt]=et[nt].toArray();return s.wrappers_[o]=et,jspb.Message.setField(s,o,tt)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(s,o,et,tt,nt){jspb.Message.wrapRepeatedField_(s,tt,o);var rt=s.wrappers_[o];return rt||(rt=s.wrappers_[o]=[]),et=et||new tt,s=jspb.Message.getRepeatedField(s,o),nt!=null?(rt.splice(nt,0,et),s.splice(nt,0,et.toArray())):(rt.push(et),s.push(et.toArray())),et},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(s,o,et,tt){for(var nt={},rt=0;rt<s.length;rt++)nt[o.call(s[rt])]=et?et.call(s[rt],tt,s[rt]):s[rt];return nt},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var s in this.wrappers_){var o=this.wrappers_[s];if(Array.isArray(o))for(var et=0;et<o.length;et++)o[et]&&o[et].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(s){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=s.fieldIndex;if(s.isRepeated){if(s.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(et){return new s.ctor(et)})),this.wrappers_[o]}else if(s.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new s.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(s,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var et=s.fieldIndex;return s.isRepeated?(o=o||[],s.isMessageType()?(this.wrappers_[et]=o,this.extensionObject_[et]=goog.array.map(o,function(tt){return tt.toArray()})):this.extensionObject_[et]=o):s.isMessageType()?(this.wrappers_[et]=o,this.extensionObject_[et]=o&&o.toArray()):this.extensionObject_[et]=o,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(s,o){if(!(s instanceof o.constructor))throw Error("Messages have different types.");var et=s.toArray();o=o.toArray();var tt=[],nt=0,rt=et.length>o.length?et.length:o.length;for(s.getJsPbMessageId()&&(tt[0]=s.getJsPbMessageId(),nt=1);nt<rt;nt++)jspb.Message.compareFields(et[nt],o[nt])||(tt[nt]=o[nt]);return new s.constructor(tt)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(s,o){return s==o||!(!s||!o)&&s instanceof o.constructor&&jspb.Message.compareFields(s.toArray(),o.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(s,o){s=s||{},o=o||{};var et={},tt;for(tt in s)et[tt]=0;for(tt in o)et[tt]=0;for(tt in et)if(!jspb.Message.compareFields(s[tt],o[tt]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(s,o){if(s==o)return!0;if(!goog.isObject(s)||!goog.isObject(o))return typeof s=="number"&&isNaN(s)||typeof o=="number"&&isNaN(o)?String(s)==String(o):!1;if(s.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&s.constructor===Uint8Array){if(s.length!=o.length)return!1;for(var et=0;et<s.length;et++)if(s[et]!=o[et])return!1;return!0}if(s.constructor===Array){var tt=void 0,nt=void 0,rt=Math.max(s.length,o.length);for(et=0;et<rt;et++){var it=s[et],ot=o[et];if(it&&it.constructor==Object&&(jspb.asserts.assert(tt===void 0),jspb.asserts.assert(et===s.length-1),tt=it,it=void 0),ot&&ot.constructor==Object&&(jspb.asserts.assert(nt===void 0),jspb.asserts.assert(et===o.length-1),nt=ot,ot=void 0),!jspb.Message.compareFields(it,ot))return!1}return tt||nt?(tt=tt||{},nt=nt||{},jspb.Message.compareExtensions(tt,nt)):!0}if(s.constructor===Object)return jspb.Message.compareExtensions(s,o);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(s){return jspb.Message.cloneMessage(s)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(s){return new s.constructor(jspb.Message.clone_(s.toArray()))},jspb.Message.copyInto=function(s,o){jspb.asserts.assertInstanceof(s,jspb.Message),jspb.asserts.assertInstanceof(o,jspb.Message),jspb.asserts.assert(s.constructor==o.constructor,"Copy source and target message should have the same type."),s=jspb.Message.clone(s);for(var et=o.toArray(),tt=s.toArray(),nt=et.length=0;nt<tt.length;nt++)et[nt]=tt[nt];o.wrappers_=s.wrappers_,o.extensionObject_=s.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(s){if(Array.isArray(s)){for(var o=Array(s.length),et=0;et<s.length;et++){var tt=s[et];tt!=null&&(o[et]=typeof tt=="object"?jspb.Message.clone_(jspb.asserts.assert(tt)):tt)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&s instanceof Uint8Array)return new Uint8Array(s);o={};for(et in s)tt=s[et],tt!=null&&(o[et]=typeof tt=="object"?jspb.Message.clone_(jspb.asserts.assert(tt)):tt);return o},jspb.Message.registerMessageType=function(s,o){o.messageId=s},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var wrappers_pb={};(function(s){var o=googleProtobuf,et=o,tt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof tt<"u"&&tt||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();et.exportSymbol("proto.google.protobuf.BoolValue",null,tt),et.exportSymbol("proto.google.protobuf.BytesValue",null,tt),et.exportSymbol("proto.google.protobuf.DoubleValue",null,tt),et.exportSymbol("proto.google.protobuf.FloatValue",null,tt),et.exportSymbol("proto.google.protobuf.Int32Value",null,tt),et.exportSymbol("proto.google.protobuf.Int64Value",null,tt),et.exportSymbol("proto.google.protobuf.StringValue",null,tt),et.exportSymbol("proto.google.protobuf.UInt32Value",null,tt),et.exportSymbol("proto.google.protobuf.UInt64Value",null,tt),proto.google.protobuf.DoubleValue=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.DoubleValue,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.FloatValue,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.Int64Value,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.UInt64Value,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.Int32Value,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.UInt32Value,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.BoolValue,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.StringValue,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(nt){o.Message.initialize(this,nt,0,-1,null,null)},et.inherits(proto.google.protobuf.BytesValue,o.Message),et.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(nt){return proto.google.protobuf.DoubleValue.toObject(nt,this)},proto.google.protobuf.DoubleValue.toObject=function(nt,rt){var it={value:o.Message.getFloatingPointFieldWithDefault(rt,1,0)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.DoubleValue.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readDouble();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it!==0&&rt.writeDouble(1,it)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(nt){return o.Message.setProto3FloatField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(nt){return proto.google.protobuf.FloatValue.toObject(nt,this)},proto.google.protobuf.FloatValue.toObject=function(nt,rt){var it={value:o.Message.getFloatingPointFieldWithDefault(rt,1,0)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.FloatValue.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readFloat();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it!==0&&rt.writeFloat(1,it)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(nt){return o.Message.setProto3FloatField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(nt){return proto.google.protobuf.Int64Value.toObject(nt,this)},proto.google.protobuf.Int64Value.toObject=function(nt,rt){var it={value:o.Message.getFieldWithDefault(rt,1,0)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.Int64Value.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readInt64();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it!==0&&rt.writeInt64(1,it)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(nt){return o.Message.setProto3IntField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(nt){return proto.google.protobuf.UInt64Value.toObject(nt,this)},proto.google.protobuf.UInt64Value.toObject=function(nt,rt){var it={value:o.Message.getFieldWithDefault(rt,1,0)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.UInt64Value.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readUint64();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it!==0&&rt.writeUint64(1,it)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(nt){return o.Message.setProto3IntField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(nt){return proto.google.protobuf.Int32Value.toObject(nt,this)},proto.google.protobuf.Int32Value.toObject=function(nt,rt){var it={value:o.Message.getFieldWithDefault(rt,1,0)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.Int32Value.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readInt32();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it!==0&&rt.writeInt32(1,it)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(nt){return o.Message.setProto3IntField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(nt){return proto.google.protobuf.UInt32Value.toObject(nt,this)},proto.google.protobuf.UInt32Value.toObject=function(nt,rt){var it={value:o.Message.getFieldWithDefault(rt,1,0)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.UInt32Value.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readUint32();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it!==0&&rt.writeUint32(1,it)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(nt){return o.Message.setProto3IntField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(nt){return proto.google.protobuf.BoolValue.toObject(nt,this)},proto.google.protobuf.BoolValue.toObject=function(nt,rt){var it={value:o.Message.getBooleanFieldWithDefault(rt,1,!1)};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.BoolValue.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readBool();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it&&rt.writeBool(1,it)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return o.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(nt){return o.Message.setProto3BooleanField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(nt){return proto.google.protobuf.StringValue.toObject(nt,this)},proto.google.protobuf.StringValue.toObject=function(nt,rt){var it={value:o.Message.getFieldWithDefault(rt,1,"")};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.StringValue.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readString();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue(),it.length>0&&rt.writeString(1,it)},proto.google.protobuf.StringValue.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(nt){return o.Message.setProto3StringField(this,1,nt)},o.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(nt){return proto.google.protobuf.BytesValue.toObject(nt,this)},proto.google.protobuf.BytesValue.toObject=function(nt,rt){var it={value:rt.getValue_asB64()};return nt&&(it.$jspbMessageInstance=rt),it}),proto.google.protobuf.BytesValue.deserializeBinary=function(nt){var rt=new o.BinaryReader(nt),it=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(it,rt)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(nt,rt){for(;rt.nextField()&&!rt.isEndGroup();){var it=rt.getFieldNumber();switch(it){case 1:var ot=rt.readBytes();nt.setValue(ot);break;default:rt.skipField();break}}return nt},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var nt=new o.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,nt),nt.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(nt,rt){var it=void 0;it=nt.getValue_asU8(),it.length>0&&rt.writeBytes(1,it)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return o.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return o.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(nt){return o.Message.setProto3BytesField(this,1,nt)},et.object.extend(s,proto.google.protobuf)})(wrappers_pb);(function(s){var o=googleProtobuf,et=o,tt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof tt<"u"&&tt||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),nt=wrappers_pb;et.object.extend(proto,nt),et.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.GetSessionsRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.GetSessionsResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.Peer",null,tt),et.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.RtcSession",null,tt),et.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,tt),et.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,tt),et.exportSymbol("proto.v1.signaling.api.SessionType",null,tt),et.exportSymbol("proto.v1.signaling.api.Signal",null,tt),proto.v1.signaling.api.Peer=function(rt){o.Message.initialize(this,rt,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},et.inherits(proto.v1.signaling.api.Peer,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.Signal,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.RtcSession=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.RtcSession,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RtcSession.displayName="proto.v1.signaling.api.RtcSession"),proto.v1.signaling.api.GetSessionsRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.GetSessionsRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetSessionsRequest.displayName="proto.v1.signaling.api.GetSessionsRequest"),proto.v1.signaling.api.GetSessionsResponse=function(rt){o.Message.initialize(this,rt,0,-1,proto.v1.signaling.api.GetSessionsResponse.repeatedFields_,null)},et.inherits(proto.v1.signaling.api.GetSessionsResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetSessionsResponse.displayName="proto.v1.signaling.api.GetSessionsResponse"),proto.v1.signaling.api.GetHealthRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.GetHealthRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.GetHealthResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.CreatePeerRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.CreatePeerResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.DeletePeerRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.DeletePeerResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.RefreshPeerRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.RefreshPeerResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.GetPeersRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(rt){o.Message.initialize(this,rt,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},et.inherits(proto.v1.signaling.api.GetPeersResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.GetIceServersRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.GetIceServersResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.SendSignalRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.SendSignalResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(rt){o.Message.initialize(this,rt,0,-1,null,null)},et.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,o.Message),et.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(rt){return proto.v1.signaling.api.Peer.toObject(rt,this)},proto.v1.signaling.api.Peer.toObject=function(rt,it){var ot,st={peerId:o.Message.getFieldWithDefault(it,1,""),organizationId:o.Message.getFieldWithDefault(it,2,""),userId:(ot=it.getUserId())&&nt.StringValue.toObject(rt,ot),deviceId:(ot=it.getDeviceId())&&nt.StringValue.toObject(rt,ot),sessionIdsList:(ot=o.Message.getRepeatedField(it,5))==null?void 0:ot,peerCreatedTimestamp:(ot=it.getPeerCreatedTimestamp())&&nt.Int64Value.toObject(rt,ot)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.Peer.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=it.readString();rt.setPeerId(st);break;case 2:var st=it.readString();rt.setOrganizationId(st);break;case 3:var st=new nt.StringValue;it.readMessage(st,nt.StringValue.deserializeBinaryFromReader),rt.setUserId(st);break;case 4:var st=new nt.StringValue;it.readMessage(st,nt.StringValue.deserializeBinaryFromReader),rt.setDeviceId(st);break;case 5:var st=it.readString();rt.addSessionIds(st);break;case 6:var st=new nt.Int64Value;it.readMessage(st,nt.Int64Value.deserializeBinaryFromReader),rt.setPeerCreatedTimestamp(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getPeerId(),ot.length>0&&it.writeString(1,ot),ot=rt.getOrganizationId(),ot.length>0&&it.writeString(2,ot),ot=rt.getUserId(),ot!=null&&it.writeMessage(3,ot,nt.StringValue.serializeBinaryToWriter),ot=rt.getDeviceId(),ot!=null&&it.writeMessage(4,ot,nt.StringValue.serializeBinaryToWriter),ot=rt.getSessionIdsList(),ot.length>0&&it.writeRepeatedString(5,ot),ot=rt.getPeerCreatedTimestamp(),ot!=null&&it.writeMessage(6,ot,nt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(rt){return o.Message.setProto3StringField(this,1,rt)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(rt){return o.Message.setProto3StringField(this,2,rt)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return o.Message.getWrapperField(this,nt.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(rt){return o.Message.setWrapperField(this,3,rt)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return o.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return o.Message.getWrapperField(this,nt.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(rt){return o.Message.setWrapperField(this,4,rt)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return o.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return o.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(rt){return o.Message.setField(this,5,rt||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(rt,it){return o.Message.addToRepeatedField(this,5,rt,it)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return o.Message.getWrapperField(this,nt.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(rt){return o.Message.setWrapperField(this,6,rt)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return o.Message.getField(this,6)!=null},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(rt){return proto.v1.signaling.api.Signal.toObject(rt,this)},proto.v1.signaling.api.Signal.toObject=function(rt,it){var ot,st={sessionId:(ot=it.getSessionId())&&nt.StringValue.toObject(rt,ot),sessionCreatedTimestamp:(ot=it.getSessionCreatedTimestamp())&&nt.Int64Value.toObject(rt,ot),senderId:o.Message.getFieldWithDefault(it,3,""),receiverId:o.Message.getFieldWithDefault(it,4,""),payload:o.Message.getFieldWithDefault(it,5,""),iceServers:o.Message.getFieldWithDefault(it,6,""),iceTransportPolicy:o.Message.getFieldWithDefault(it,7,""),sessionType:o.Message.getFieldWithDefault(it,8,0)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.Signal.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new nt.StringValue;it.readMessage(st,nt.StringValue.deserializeBinaryFromReader),rt.setSessionId(st);break;case 2:var st=new nt.Int64Value;it.readMessage(st,nt.Int64Value.deserializeBinaryFromReader),rt.setSessionCreatedTimestamp(st);break;case 3:var st=it.readString();rt.setSenderId(st);break;case 4:var st=it.readString();rt.setReceiverId(st);break;case 5:var st=it.readString();rt.setPayload(st);break;case 6:var st=it.readString();rt.setIceServers(st);break;case 7:var st=it.readString();rt.setIceTransportPolicy(st);break;case 8:var st=it.readEnum();rt.setSessionType(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getSessionId(),ot!=null&&it.writeMessage(1,ot,nt.StringValue.serializeBinaryToWriter),ot=rt.getSessionCreatedTimestamp(),ot!=null&&it.writeMessage(2,ot,nt.Int64Value.serializeBinaryToWriter),ot=rt.getSenderId(),ot.length>0&&it.writeString(3,ot),ot=rt.getReceiverId(),ot.length>0&&it.writeString(4,ot),ot=rt.getPayload(),ot.length>0&&it.writeString(5,ot),ot=rt.getIceServers(),ot.length>0&&it.writeString(6,ot),ot=rt.getIceTransportPolicy(),ot.length>0&&it.writeString(7,ot),ot=rt.getSessionType(),ot!==0&&it.writeEnum(8,ot)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return o.Message.getWrapperField(this,nt.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(rt){return o.Message.setWrapperField(this,1,rt)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return o.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return o.Message.getWrapperField(this,nt.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(rt){return o.Message.setWrapperField(this,2,rt)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return o.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return o.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(rt){return o.Message.setProto3StringField(this,3,rt)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return o.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(rt){return o.Message.setProto3StringField(this,4,rt)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return o.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(rt){return o.Message.setProto3StringField(this,5,rt)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return o.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(rt){return o.Message.setProto3StringField(this,6,rt)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return o.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(rt){return o.Message.setProto3StringField(this,7,rt)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return o.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(rt){return o.Message.setProto3EnumField(this,8,rt)},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RtcSession.prototype.toObject=function(rt){return proto.v1.signaling.api.RtcSession.toObject(rt,this)},proto.v1.signaling.api.RtcSession.toObject=function(rt,it){var ot={sessionId:o.Message.getFieldWithDefault(it,1,""),offerPeerId:o.Message.getFieldWithDefault(it,2,""),answerPeerId:o.Message.getFieldWithDefault(it,3,""),organizationId:o.Message.getFieldWithDefault(it,4,""),sessionType:o.Message.getFieldWithDefault(it,5,"")};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.RtcSession.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.RtcSession;return proto.v1.signaling.api.RtcSession.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.RtcSession.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=it.readString();rt.setSessionId(st);break;case 2:var st=it.readString();rt.setOfferPeerId(st);break;case 3:var st=it.readString();rt.setAnswerPeerId(st);break;case 4:var st=it.readString();rt.setOrganizationId(st);break;case 5:var st=it.readString();rt.setSessionType(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.RtcSession.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.RtcSession.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.RtcSession.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getSessionId(),ot.length>0&&it.writeString(1,ot),ot=rt.getOfferPeerId(),ot.length>0&&it.writeString(2,ot),ot=rt.getAnswerPeerId(),ot.length>0&&it.writeString(3,ot),ot=rt.getOrganizationId(),ot.length>0&&it.writeString(4,ot),ot=rt.getSessionType(),ot.length>0&&it.writeString(5,ot)},proto.v1.signaling.api.RtcSession.prototype.getSessionId=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.RtcSession.prototype.setSessionId=function(rt){return o.Message.setProto3StringField(this,1,rt)},proto.v1.signaling.api.RtcSession.prototype.getOfferPeerId=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.RtcSession.prototype.setOfferPeerId=function(rt){return o.Message.setProto3StringField(this,2,rt)},proto.v1.signaling.api.RtcSession.prototype.getAnswerPeerId=function(){return o.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.RtcSession.prototype.setAnswerPeerId=function(rt){return o.Message.setProto3StringField(this,3,rt)},proto.v1.signaling.api.RtcSession.prototype.getOrganizationId=function(){return o.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.RtcSession.prototype.setOrganizationId=function(rt){return o.Message.setProto3StringField(this,4,rt)},proto.v1.signaling.api.RtcSession.prototype.getSessionType=function(){return o.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.RtcSession.prototype.setSessionType=function(rt){return o.Message.setProto3StringField(this,5,rt)},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetSessionsRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.GetSessionsRequest.toObject(rt,this)},proto.v1.signaling.api.GetSessionsRequest.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetSessionsRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetSessionsRequest;return proto.v1.signaling.api.GetSessionsRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetSessionsRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.GetSessionsRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetSessionsRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetSessionsRequest.serializeBinaryToWriter=function(rt,it){},proto.v1.signaling.api.GetSessionsResponse.repeatedFields_=[1],o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetSessionsResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.GetSessionsResponse.toObject(rt,this)},proto.v1.signaling.api.GetSessionsResponse.toObject=function(rt,it){var ot={sessionsList:o.Message.toObjectList(it.getSessionsList(),proto.v1.signaling.api.RtcSession.toObject,rt)};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetSessionsResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetSessionsResponse;return proto.v1.signaling.api.GetSessionsResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetSessionsResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new proto.v1.signaling.api.RtcSession;it.readMessage(st,proto.v1.signaling.api.RtcSession.deserializeBinaryFromReader),rt.addSessions(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.GetSessionsResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetSessionsResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetSessionsResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getSessionsList(),ot.length>0&&it.writeRepeatedMessage(1,ot,proto.v1.signaling.api.RtcSession.serializeBinaryToWriter)},proto.v1.signaling.api.GetSessionsResponse.prototype.getSessionsList=function(){return o.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.RtcSession,1)},proto.v1.signaling.api.GetSessionsResponse.prototype.setSessionsList=function(rt){return o.Message.setRepeatedWrapperField(this,1,rt)},proto.v1.signaling.api.GetSessionsResponse.prototype.addSessions=function(rt,it){return o.Message.addToRepeatedWrapperField(this,1,rt,proto.v1.signaling.api.RtcSession,it)},proto.v1.signaling.api.GetSessionsResponse.prototype.clearSessionsList=function(){return this.setSessionsList([])},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.GetHealthRequest.toObject(rt,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(rt,it){},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.GetHealthResponse.toObject(rt,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(rt,it){var ot={version:o.Message.getFieldWithDefault(it,1,"")};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=it.readString();rt.setVersion(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getVersion(),ot.length>0&&it.writeString(1,ot)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(rt){return o.Message.setProto3StringField(this,1,rt)},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.CreatePeerRequest.toObject(rt,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(rt,it){},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.CreatePeerResponse.toObject(rt,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(rt,it){var ot,st={peer:(ot=it.getPeer())&&proto.v1.signaling.api.Peer.toObject(rt,ot)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new proto.v1.signaling.api.Peer;it.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),rt.setPeer(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getPeer(),ot!=null&&it.writeMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return o.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(rt){return o.Message.setWrapperField(this,1,rt)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return o.Message.getField(this,1)!=null},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.DeletePeerRequest.toObject(rt,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(rt,it){var ot={peerId:o.Message.getFieldWithDefault(it,1,"")};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=it.readString();rt.setPeerId(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getPeerId(),ot.length>0&&it.writeString(1,ot)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(rt){return o.Message.setProto3StringField(this,1,rt)},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.DeletePeerResponse.toObject(rt,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(rt,it){},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.RefreshPeerRequest.toObject(rt,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(rt,it){var ot,st={peer:(ot=it.getPeer())&&proto.v1.signaling.api.Peer.toObject(rt,ot)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new proto.v1.signaling.api.Peer;it.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),rt.setPeer(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getPeer(),ot!=null&&it.writeMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return o.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(rt){return o.Message.setWrapperField(this,1,rt)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return o.Message.getField(this,1)!=null},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.RefreshPeerResponse.toObject(rt,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(rt,it){},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.GetPeersRequest.toObject(rt,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(rt,it){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.GetPeersResponse.toObject(rt,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(rt,it){var ot={peersList:o.Message.toObjectList(it.getPeersList(),proto.v1.signaling.api.Peer.toObject,rt)};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new proto.v1.signaling.api.Peer;it.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),rt.addPeers(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getPeersList(),ot.length>0&&it.writeRepeatedMessage(1,ot,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return o.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(rt){return o.Message.setRepeatedWrapperField(this,1,rt)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(rt,it){return o.Message.addToRepeatedWrapperField(this,1,rt,proto.v1.signaling.api.Peer,it)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.GetIceServersRequest.toObject(rt,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(rt,it){var ot={};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){default:it.skipField();break}}return rt},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(rt,it){},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.GetIceServersResponse.toObject(rt,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(rt,it){var ot={iceServers:o.Message.getFieldWithDefault(it,1,"")};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=it.readString();rt.setIceServers(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getIceServers(),ot.length>0&&it.writeString(1,ot)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(rt){return o.Message.setProto3StringField(this,1,rt)},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.SendSignalRequest.toObject(rt,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(rt,it){var ot,st={signal:(ot=it.getSignal())&&proto.v1.signaling.api.Signal.toObject(rt,ot)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new proto.v1.signaling.api.Signal;it.readMessage(st,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),rt.setSignal(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getSignal(),ot!=null&&it.writeMessage(1,ot,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return o.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(rt){return o.Message.setWrapperField(this,1,rt)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return o.Message.getField(this,1)!=null},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.SendSignalResponse.toObject(rt,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(rt,it){var ot,st={sessionId:(ot=it.getSessionId())&&nt.StringValue.toObject(rt,ot),sessionCreatedTimestamp:(ot=it.getSessionCreatedTimestamp())&&nt.Int64Value.toObject(rt,ot)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new nt.StringValue;it.readMessage(st,nt.StringValue.deserializeBinaryFromReader),rt.setSessionId(st);break;case 2:var st=new nt.Int64Value;it.readMessage(st,nt.Int64Value.deserializeBinaryFromReader),rt.setSessionCreatedTimestamp(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getSessionId(),ot!=null&&it.writeMessage(1,ot,nt.StringValue.serializeBinaryToWriter),ot=rt.getSessionCreatedTimestamp(),ot!=null&&it.writeMessage(2,ot,nt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return o.Message.getWrapperField(this,nt.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(rt){return o.Message.setWrapperField(this,1,rt)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return o.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return o.Message.getWrapperField(this,nt.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(rt){return o.Message.setWrapperField(this,2,rt)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return o.Message.getField(this,2)!=null},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(rt){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(rt,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(rt,it){var ot={peerId:o.Message.getFieldWithDefault(it,1,"")};return rt&&(ot.$jspbMessageInstance=it),ot}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=it.readString();rt.setPeerId(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getPeerId(),ot.length>0&&it.writeString(1,ot)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(rt){return o.Message.setProto3StringField(this,1,rt)},o.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(rt){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(rt,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(rt,it){var ot,st={signal:(ot=it.getSignal())&&proto.v1.signaling.api.Signal.toObject(rt,ot)};return rt&&(st.$jspbMessageInstance=it),st}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(rt){var it=new o.BinaryReader(rt),ot=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(ot,it)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(rt,it){for(;it.nextField()&&!it.isEndGroup();){var ot=it.getFieldNumber();switch(ot){case 1:var st=new proto.v1.signaling.api.Signal;it.readMessage(st,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),rt.setSignal(st);break;default:it.skipField();break}}return rt},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var rt=new o.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,rt),rt.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(rt,it){var ot=void 0;ot=rt.getSignal(),ot!=null&&it.writeMessage(1,ot,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return o.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(rt){return o.Message.setWrapperField(this,1,rt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return o.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3,HEADLESS:4},et.object.extend(s,proto.v1.signaling.api)})(signaling_pb);function defined$2(s,o){if(s!==void 0)return s;throw new Error(o||"Value is undefined")}var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(s,o,et)=>o in s?__defProp(s,o,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[o]=et,__spreadValues=(s,o)=>{for(var et in o||(o={}))__hasOwnProp.call(o,et)&&__defNormalProp(s,et,o[et]);if(__getOwnPropSymbols)for(var et of __getOwnPropSymbols(o))__propIsEnum.call(o,et)&&__defNormalProp(s,et,o[et]);return s},__spreadProps=(s,o)=>__defProps(s,__getOwnPropDescs(o)),__publicField=(s,o,et)=>(__defNormalProp(s,typeof o!="symbol"?o+"":o,et),et);const millisecond$1$1=1,second$1$1=1e3,minute$1$1=60*second$1$1,hour$1$1=60*minute$1$1,day$1$1=24*hour$1$1,week$1$1=7*day$1$1,month$1$1=30*day$1$1,year$1$1=365*day$1$1,duration$1$1={millisecond:millisecond$1$1,second:second$1$1,minute:minute$1$1,hour:hour$1$1,day:day$1$1,week:week$1$1,month:month$1$1,year:year$1$1};class H264Decoder{constructor(o,et,tt){__publicField(this,"worker"),__publicField(this,"onReceive"),__publicField(this,"onError"),__publicField(this,"onReceiveMessage",rt=>{const{data:it}=rt;if(it.error){const ot=new Error(`${it.error}`);ot.cause=it.error,console.warn("H264 worker failure",{error:ot}),this.onError(it.index);return}this.onReceive(it)});var nt;this.worker=o,(nt=this.worker)==null||nt.addEventListener("message",this.onReceiveMessage),this.onReceive=et,this.onError=tt}post(o,et,tt,nt){var rt;(rt=this.worker)==null||rt.postMessage({timestamp:o,encodedFrame:et,flags:tt,index:nt})}release(){var o,et;(o=this.worker)==null||o.removeEventListener("message",this.onReceiveMessage),(et=this.worker)==null||et.terminate(),this.worker=void 0}}class YUVCanvas{constructor(o){__publicField(this,"gl"),__publicField(this,"program"),__publicField(this,"texturePosBuffer"),__publicField(this,"textureRef"),__publicField(this,"height",0),__publicField(this,"width",0),this.gl=o,this.program=this.initProgram();const{texturePosBuffer:et}=this.initBuffers();this.texturePosBuffer=et;const{textureRef:tt}=this.initTextures();this.textureRef=tt}draw(o){const{gl:et,height:tt,width:nt,texturePosBuffer:rt,textureRef:it}=this;et.viewport(0,0,nt,tt);const ot=new Float32Array([1,0,0,0,1,1,0,1]);return et.bindBuffer(et.ARRAY_BUFFER,rt),et.bufferData(et.ARRAY_BUFFER,ot,et.DYNAMIC_DRAW),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,it),et.texImage2D(et.TEXTURE_2D,0,et.LUMINANCE,nt,tt+tt/2,0,et.LUMINANCE,et.UNSIGNED_BYTE,o),et.drawArrays(et.TRIANGLE_STRIP,0,4),et.getError()}initProgram(){const{gl:o}=this,et=`
            attribute vec4 vertexPos;
            attribute vec4 texturePos;
            varying vec2 textureCoord;

            void main() {
                gl_Position = vertexPos;
                textureCoord = texturePos.xy;
            }
        `,tt=`
            precision highp float;
            varying highp vec2 textureCoord;
            uniform sampler2D yuvSampler;
            uniform mat4 YUV2RGB;

            void main(void) {
                highp vec2 yScale = vec2(1.0, 2.0 / 3.0);
                highp vec2 yTextureCoord = textureCoord * yScale;

                highp vec2 uScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 uOffset = vec2(0.0, 2.0 / 3.0);
                highp vec2 uTextureCoord = (textureCoord * uScale) +  uOffset;

                highp vec2 vScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 vOffset = vec2(0.0, 2.5 / 3.0);
                highp vec2 vTextureCoord = (textureCoord * vScale) +  vOffset;

                highp float y = texture2D(yuvSampler, yTextureCoord).r;
                highp float u = texture2D(yuvSampler, uTextureCoord).r;
                highp float v = texture2D(yuvSampler, vTextureCoord).r;

                gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;
            }
        `,nt=[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1],rt=o.createShader(o.VERTEX_SHADER);if(!rt)throw new Error("Failed to create vertex shader");o.shaderSource(rt,et),o.compileShader(rt);const it=o.createShader(o.FRAGMENT_SHADER);if(!it)throw new Error("Failed to create fragment shader");o.shaderSource(it,tt),o.compileShader(it);const ot=o.createProgram();if(!ot)throw new Error("Failed to create webgl program");o.attachShader(ot,rt),o.attachShader(ot,it),o.linkProgram(ot),o.useProgram(ot);const st=o.getUniformLocation(ot,"YUV2RGB");return o.uniformMatrix4fv(st,!1,nt),ot}initBuffers(){const{gl:o,program:et}=this,tt=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,tt),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),o.STATIC_DRAW);const nt=o.getAttribLocation(et,"vertexPos");o.enableVertexAttribArray(nt),o.vertexAttribPointer(nt,2,o.FLOAT,!1,0,0);const rt=o.createBuffer();if(!rt)throw new Error("Failed to create WebGL buffer");o.bindBuffer(o.ARRAY_BUFFER,rt),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),o.STATIC_DRAW);const it=o.getAttribLocation(et,"texturePos");return o.enableVertexAttribArray(it),o.vertexAttribPointer(it,2,o.FLOAT,!1,0,0),{texturePosBuffer:rt}}initTextures(){const{gl:o,program:et}=this,tt=this.initTexture(),nt=o.getUniformLocation(et,"yuvSampler");return o.uniform1i(nt,0),{textureRef:tt}}initTexture(){const{gl:o}=this,et=o.createTexture();if(!et)throw new Error("Failed to initialize texture");return o.bindTexture(o.TEXTURE_2D,et),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),et}}const decoderNotWorkingThreshold=duration$1$1.second*2.5,warnPerformanceThreshold=duration$1$1.second/3,noSignalThreshold=duration$1$1.second*2,maxQueueSize=5,maxDropRatio=30/25,numRetries=5,hardwareIncompatibleErrorCode=1282;class H264BytestreamCanvasDrawer{constructor(o,et,tt,nt,rt){__publicField(this,"_waitingForDecoder",!0),__publicField(this,"_noSignal",!0),__publicField(this,"_lostSignal",!1),__publicField(this,"_overWaitingThreshold",!1),__publicField(this,"_retries",0),__publicField(this,"_webglYUVSupported"),__publicField(this,"lastDecodedFrameTime"),__publicField(this,"lastReceivedFrameTime"),__publicField(this,"lastNoSignalTime",new Date().getTime()),__publicField(this,"moduleStartTime",Date.now()),__publicField(this,"moduleCreateTime",Date.now()),__publicField(this,"timesRestarted",0),__publicField(this,"canvas"),__publicField(this,"decoder"),__publicField(this,"yuvCanvas"),__publicField(this,"webglContext"),__publicField(this,"frameQueue",[]),__publicField(this,"minFrameSize",1/0),__publicField(this,"maxFrameSize",0),__publicField(this,"decoderQueue",[]),__publicField(this,"decoderQueueLocked",!1),__publicField(this,"decodeNextFrameAttempted",!1),__publicField(this,"numFramesDecoded",0),__publicField(this,"numFramesReceived",0),__publicField(this,"hasReceivedKeyframe",!1),__publicField(this,"medianFrameSize",0),__publicField(this,"currentFrameIndex"),__publicField(this,"frameCheckpointMap",new Map),__publicField(this,"lastDrawnFrameTime"),__publicField(this,"minJitter"),__publicField(this,"maxJitter"),__publicField(this,"start",()=>{const{canvas:it}=this;if(!it)return;const ot=it.getContext("webgl");this.webglContext=ot||void 0,this.lastDecodedFrameTime=void 0,this.lastReceivedFrameTime=void 0,this.hasReceivedKeyframe=!1,this.currentFrameIndex=void 0,!(!this.canvas||!this.webglContext)&&(this.yuvCanvas||(this.yuvCanvas=new YUVCanvas(this.webglContext)),this.moduleStartTime=Date.now())}),__publicField(this,"stop",()=>{var it;(it=this.decoder)==null||it.release(),this.webglContext=void 0,this.decoderQueueLocked=!1}),__publicField(this,"reset",()=>{this.retries=0,this.restart()}),__publicField(this,"notifyWarningTextChanged",()=>{var it;(it=this.onWarningTextChanged)==null||it.call(this,this.getWarningText())}),__publicField(this,"restart",()=>{console.info("Restarting decoder"),console.info("BytestreamPlayer restarting",__spreadProps(__spreadValues({},this.trackInfo),{Restart:this.timesRestarted})),this.frameQueue=[],this.decoderQueue=[],this.stop(),this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),this.start(),this.retries++,this.timesRestarted++}),__publicField(this,"onTrackTick",()=>{if(this.numFramesDecoded===0){if(this.lastDecodedFrameTime===void 0){const at=Date.now();console.info("BytestreamPlayer waiting for video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Waited":at-this.moduleCreateTime}))}return}this.numFramesReceived/this.numFramesDecoded>maxDropRatio&&this.warnPerformanceProblems(),this.numFramesReceived=0,this.numFramesDecoded=0;const it=Array.from(this.frameCheckpointMap.entries()).reduce((at,[lt,ct])=>{var ut;return!this.currentFrameIndex||lt>this.currentFrameIndex-60||ct==="FrameDrawn"||(at[ct]=((ut=at[ct])!=null?ut:0)+1,this.frameCheckpointMap.delete(lt)),at},{});Object.keys(it).map(at=>{console.info("BytestreamPlayer Frame Dropped",__spreadProps(__spreadValues({},this.trackInfo),{"Num Dropped":it[at],"Frame State":at}))});const{minJitter:ot,maxJitter:st}=this;ot&&st&&(console.info("BytestreamPlayer Jitter",__spreadProps(__spreadValues({},this.trackInfo),{minJitter:ot,maxJitter:st})),this.minJitter=void 0,this.maxJitter=void 0)}),__publicField(this,"onTick",()=>{var it;const{lastReceivedFrameTime:ot,lastDecodedFrameTime:st,moduleStartTime:at,noSignal:lt,retries:ct}=this,ut=new Date().getTime();lt&&(this.lastNoSignalTime=ut),this.overWaitingThreshold=ut-at>noSignalThreshold;const dt=ut-at>decoderNotWorkingThreshold;if(!st){ot&&dt&&ct<numRetries&&(this.waitingForDecoder=!0,this.restart());return}if(ot){const ht=ut-ot,pt=ut-st;ut-this.lastNoSignalTime>noSignalThreshold&&ht<warnPerformanceThreshold&&pt>warnPerformanceThreshold&&this.warnPerformanceProblems(),ht>noSignalThreshold&&(this.lostSignal=!0)}this.overWaitingThreshold&&(this.waitingForDecoder||this.noSignal||this.lostSignal)&&((it=this.onCanvasDrawerWarning)==null||it.call(this,"ShouldDisableControl"))}),__publicField(this,"receiveEncodedFrame",it=>{if(!it)return;const ot=it.index;if(ot&&this.frameCheckpointMap.set(ot,"FrameReceived"),!(!it||!this.canvas||!this.webglContext)){if(this.isKeyframe(it),!this.hasReceivedKeyframe)return console.info("Dropping frame because no keyframe detected"),!1;this.lastReceivedFrameTime===void 0&&console.debug("Received first frame on bytestream player",__spreadValues({},this.trackInfo)),this.checkOrder(it),this.numFramesReceived++,this.lastReceivedFrameTime=Date.now(),this.lostSignal&&this.restart(),this.noSignal=!1,this.lostSignal=!1,this.frameQueue.push(it),ot&&this.frameCheckpointMap.set(ot,"FrameQueued"),this.frameQueue.length>maxQueueSize&&(this.frameQueue=this.frameQueue.filter(st=>this.isKeyframe(st))),this.frameQueue.length>maxQueueSize&&(this.frameQueue=[],this.decoderQueue=[]),this.decodeNextFrame()}}),__publicField(this,"onDecoderError",it=>{this.frameQueue=[],this.decoderQueue=[],this.hasReceivedKeyframe=!1,console.info("BytestreamPlayer decode error",__spreadProps(__spreadValues({},this.trackInfo),{"Frame Index":it}))}),__publicField(this,"onReceiveDecodedFrame",it=>{var ot,st;const{canvas:at,yuvCanvas:lt,decoderQueue:ct}=this,{timestamp:ut,yuv:dt,height:ht,width:pt,index:gt}=it;this.frameCheckpointMap.set(gt,"FrameDecoded"),this.numFramesDecoded++;const ft=Date.now();if(this.lastDecodedFrameTime===void 0&&console.info("BytestreamPlayer started video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Until Video":ft-this.moduleCreateTime})),this.lastDecodedFrameTime=ft,this.waitingForDecoder=!1,this.decoderQueue=ct.filter(Ft=>ft-Ft<duration$1$1.second*.5&&Ft!==ut),!ct.includes(ut)||ft-ut>duration$1$1.second||!lt||!at||ht===0||pt===0)return;ht!==at.height&&(at.height=ht,lt.height=ht),pt!==at.width&&(at.width=pt,lt.width=pt);const yt=lt.draw(dt),mt=Date.now();if(this.lastDrawnFrameTime){const Ft=mt-this.lastDrawnFrameTime;this.minJitter=Math.min(Ft,(ot=this.minJitter)!=null?ot:Number.MAX_SAFE_INTEGER),this.maxJitter=Math.max(Ft,(st=this.maxJitter)!=null?st:0)}this.lastDrawnFrameTime=mt,this.frameCheckpointMap.set(gt,"FrameDrawn"),yt===0&&(this.webglYUVSupported=!0),yt===hardwareIncompatibleErrorCode&&(this.webglYUVSupported=!1),this.frameQueue.length>0&&this.decodeNextFrame()}),this.workerFactory=o,this.onWebglYUVSupportedChanged=et,this.onWarningTextChanged=tt,this.onCanvasDrawerWarning=nt,this.trackInfo=rt,this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),setInterval(this.onTick,duration$1$1.millisecond*200),setInterval(this.onTrackTick,duration$1$1.second*5)}get waitingForDecoder(){return this._waitingForDecoder}set waitingForDecoder(o){this._waitingForDecoder=o,this.notifyWarningTextChanged()}get noSignal(){return this._noSignal}set noSignal(o){this._noSignal=o,this.notifyWarningTextChanged()}get lostSignal(){return this._lostSignal}set lostSignal(o){this._lostSignal=o,this.notifyWarningTextChanged()}get overWaitingThreshold(){return this._overWaitingThreshold}set overWaitingThreshold(o){this._overWaitingThreshold=o,this.notifyWarningTextChanged()}get retries(){return this._retries}set retries(o){this._retries=o,this.notifyWarningTextChanged()}get webglYUVSupported(){return this._webglYUVSupported}set webglYUVSupported(o){var et;this._webglYUVSupported=o,(et=this.onWebglYUVSupportedChanged)==null||et.call(this,o),this.notifyWarningTextChanged()}setCanvas(o){this.canvas=o}getWarningText(){var o;const{waitingForDecoder:et,noSignal:tt,overWaitingThreshold:nt,lostSignal:rt,retries:it,webglYUVSupported:ot}=this,st=ot===!1,at=et?it===numRetries?"Decoder failed to start":"Starting decoder":void 0,lt=st?"Hardware decoding not supported on this device":void 0;return(o=lt??(rt?"Lost signal":tt?nt?"No signal":"Waiting for signal":void 0))!=null?o:at}decodeNextFrame(){if(this.decoderQueueLocked&&(this.decodeNextFrameAttempted=!0),this.decoderQueueLocked=!0,this.decoderQueue.length>maxQueueSize){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const o=this.frameQueue.shift();if(!o){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const et=Date.now();this.frameCheckpointMap.set(o.index,"FrameSentToDecoder"),this.decoder.post(et,o.frame_data,o.flags,o.index),this.decoderQueue.push(et),this.decoderQueueLocked=!1,this.decodeNextFrameAttempted&&(this.decodeNextFrameAttempted=!1,this.decodeNextFrame())}warnPerformanceProblems(){var o;this.lastDecodedFrameTime&&this.overWaitingThreshold&&!this.lostSignal&&!this.noSignal&&((o=this.onCanvasDrawerWarning)==null||o.call(this,"ShouldDegradeVideo"))}checkOrder(o){if(this.currentFrameIndex!==void 0&&o.index<this.currentFrameIndex){console.info("Out of order frame detected"),console.info("Frame out of order",__spreadValues({},this.trackInfo));return}this.currentFrameIndex=o.index}isKeyframe(o){const{maxFrameSize:et,minFrameSize:tt}=this;if(o.flags===3)return this.hasReceivedKeyframe||(this.frameCheckpointMap=new Map),this.hasReceivedKeyframe=!0,!0;const nt=o.frame_data.length;return this.maxFrameSize=Math.max(nt,et),this.minFrameSize=Math.min(nt,tt),this.medianFrameSize=(this.maxFrameSize+this.minFrameSize)/2,this.moduleStartTime+duration$1$1.second*2>Date.now()?!1:nt>this.medianFrameSize?(this.hasReceivedKeyframe=!0,!0):!1}}const encodedJs$2="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihTKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShTKTpTKCl9KShmdW5jdGlvbigpe2NvbnN0IEo9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjU5MmU2LHllYXI6MzE1MzZlNn07dmFyIHk9e30sRj17fSxhPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBHPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7ZnVuY3Rpb24gaChBKXtsZXQgST1BLmxlbmd0aDtBW0EubGVuZ3RoLTJdPT09Ij0iP0ktPTI6QVtBLmxlbmd0aC0xXT09PSI9IiYmSS0tO2NvbnN0IGc9SS80KjN8MCxCPW5ldyBVaW50OEFycmF5KGcpO2ZvcihsZXQgUT0wLEM9MDtRPGc7USs9Myl7Y29uc3QgRD1HLmluZGV4T2YoQVtDKytdKSxFPUcuaW5kZXhPZihBW0MrK10pO2lmKEJbUV09RDw8MnxFPj40LEM9PT1JKWJyZWFrO2NvbnN0IHc9Ry5pbmRleE9mKEFbQysrXXx8Ij0iKTtpZihCW1ErMV09KEUmMTUpPDw0fHc+PjIsQz09PUkpYnJlYWs7Y29uc3Qgbz1HLmluZGV4T2YoQVtDKytdfHwiPSIpO0JbUSsyXT0odyYzKTw8NnxvfXJldHVybiBCfWEuZGVjb2RlPWgsT2JqZWN0LmRlZmluZVByb3BlcnR5KEYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IEw9IkFHRnpiUUVBQUFBQmx3RVRZQUovZndGL1lBUi9mMzkvQVg5Z0FuOS9BR0FEZjM5L0FYOWdBWDhBWUFsL2YzOS9mMzkvZjM4QVlBRi9BWDlnQkg5L2YzOEFZQVovZjM5L2YzOEJmMkFJZjM5L2YzOS9mMzhBWUFOL2YzOEFZQVYvZjM5L2Z3Ri9ZQUFBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQ245L2YzOS9mMzkvZjM4QVlBQUJmMkFIZjM5L2YzOS9md0YvWUFoL2YzOS9mMzkvZndGL0FqQURCR2d5TmpRR2JXVnRZM0I1QUFNRWFESTJOQVp5WlhOcGVtVUFCZ1JvTWpZMEJtMWxiVzl5ZVFJQmdBS0FnQUlEWTJJQUFBUUFBUU1LQVFZQUJRTUZCZ2NBQndZQUF3NERCd2NGQWdBQ0F3UUFCUVVGQlFvRUFnUUpBUWNBQXdZR0FnSUJCZ1FEQWdJQkN3RUJBd01MRFFJQkFBQUNDUWtKRHdJRkJRQUJDZ0FTQ3hFSUNBY0lDQWNFQVFRSUNBWUJFQWdBQVFZSkFYOEJRYkRFd0FJTEJ5WUVCbTFoYkd4dll3QUtDV2d5TmpSaGJHeHZZd0JnQm1SbFkyOWtaUUJoQkdsdWFYUUFZZ3IycFFWaXdBSUJBbjhnQUJBUElnSkJmMHdFUUNBQVFRRVFDeG9nQVVFQU5nSUFRUUFQQ3dKQUFrQWdBa0dBZ0lDQUJFOEVRQ0FBUVFNUUMwRi9SZ1JBUVFFUEN5QUJJQUpCSFhaQkFYRkJBV28yQWdBTUFRc2dBa0dBZ0lDQUFrOEVRQ0FBUVFVUUMwRi9SZ1JBUVFFUEN5QUJJQUpCRzNaQkEzRkJBMm8yQWdBTUFRc2dBa0dBZ0lDQUFVOEVRQ0FBUVFjUUMwRi9SZ1JBUVFFUEN5QUJJQUpCR1haQkIzRkJCMm8yQWdBTUFRc2dBaEF2SWdOQkJHb2lBa0VnUmdSQUlBRkJBRFlDQUNBQVFTQVFDeHBCQVNFQ0lBQkJBUkFEUVFGSERRSWdBQkFQSVFNZ0FFRWdFQXRCZjBZTkFpQURRUUZMRFFJZ0EwRUJhd1JBSUFGQmZ6WUNBQXdDQ3lBQlFYODJBZ0JCQVE4TElBQWdBMEVGYWhBTEdpQUFJQUlRQXlJQVFYOUdCRUJCQVE4TElBRWdBRUYvSUFKMFFYOXphallDQUF0QkFDRUNDeUFDQzRnQ0FRZC9JQUFvQWdRaEJBSkFJQUFvQWd4QkEzUWlCeUFBS0FJUUlnaHJJZ0pCSUU0RVFDQUVLQUFBSWdOQkdIUWdBMEVJZEVHQWdQd0hjWElnQTBFSWRrR0EvZ054SUFOQkdIWnljaUVESUFBb0FnZ2lBa1VOQVNBRElBSjBJQVF0QUFSQkNDQUNhM1p5SVFNTUFRc2dBa0VCU0FSQURBRUxJQVF0QUFBZ0FDZ0NDQ0lGUVJocUlnWjBJUU1nQWlBRmFrRjRhaUlDUVFGSURRQURRQ0FFTFFBQklBWkJlR29pQm5RZ0EzSWhBeUFDUVFoS0lRVWdCRUVCYWlFRUlBSkJlR29oQWlBRkRRQUxDeUFBSUFFZ0NHb2lCRFlDRUNBQUlBUkJCM0UyQWdoQmZ5RUNJQVFnQjAwRWZ5QUFJQUFvQWdBZ0JFRURkbW8yQWdRZ0EwRWdJQUZyZGdWQmZ3c0xxZzBCQjM4Q1FDQUFSUTBBSUFCQmVHb2lBeUFBUVh4cUtBSUFJZ0ZCZUhFaUFHb2hCUUpBSUFGQkFYRU5BQ0FCUVFOeFJRMEJJQU1nQXlnQ0FDSUNheUlEUWNUQUFDZ0NBQ0lFU1EwQklBQWdBbW9oQUNBRFFjakFBQ2dDQUVjRVFDQUNRZjhCVFFSQUlBTW9BZ2dpQkNBQ1FRTjJJZ0pCQTNSQjNNQUFha2NhSUFRZ0F5Z0NEQ0lCUmdSQVFiVEFBRUcwd0FBb0FnQkJmaUFDZDNFMkFnQU1Bd3NnQkNBQk5nSU1JQUVnQkRZQ0NBd0NDeUFES0FJWUlRWUNRQ0FESUFNb0Fnd2lBVWNFUUNBRUlBTW9BZ2dpQWswRVFDQUNLQUlNR2dzZ0FpQUJOZ0lNSUFFZ0FqWUNDQXdCQ3dKQUlBTkJGR29pQWlnQ0FDSUVEUUFnQTBFUWFpSUNLQUlBSWdRTkFFRUFJUUVNQVFzRFFDQUNJUWNnQkNJQlFSUnFJZ0lvQWdBaUJBMEFJQUZCRUdvaEFpQUJLQUlRSWdRTkFBc2dCMEVBTmdJQUN5QUdSUTBCQWtBZ0F5QURLQUljSWdKQkFuUkI1TUlBYWlJRUtBSUFSZ1JBSUFRZ0FUWUNBQ0FCRFFGQnVNQUFRYmpBQUNnQ0FFRitJQUozY1RZQ0FBd0RDeUFHUVJCQkZDQUdLQUlRSUFOR0cyb2dBVFlDQUNBQlJRMENDeUFCSUFZMkFoZ2dBeWdDRUNJQ0JFQWdBU0FDTmdJUUlBSWdBVFlDR0FzZ0F5Z0NGQ0lDUlEwQklBRWdBallDRkNBQ0lBRTJBaGdNQVFzZ0JTZ0NCQ0lCUVFOeFFRTkhEUUJCdk1BQUlBQTJBZ0FnQlNBQlFYNXhOZ0lFSUFNZ0FFRUJjallDQkNBQUlBTnFJQUEyQWdBUEN5QUZJQU5ORFFBZ0JTZ0NCQ0lCUVFGeFJRMEFBa0FnQVVFQ2NVVUVRQ0FGUWN6QUFDZ0NBRVlFUUVITXdBQWdBellDQUVIQXdBQkJ3TUFBS0FJQUlBQnFJZ0EyQWdBZ0F5QUFRUUZ5TmdJRUlBTkJ5TUFBS0FJQVJ3MERRYnpBQUVFQU5nSUFRY2pBQUVFQU5nSUFEd3NnQlVISXdBQW9BZ0JHQkVCQnlNQUFJQU0yQWdCQnZNQUFRYnpBQUNnQ0FDQUFhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQUFJQU5xSUFBMkFnQVBDeUFCUVhoeElBQnFJUUFDUUNBQlFmOEJUUVJBSUFVb0Fnd2hBaUFGS0FJSUlnUWdBVUVEZGlJQlFRTjBRZHpBQUdvaUIwY0VRRUhFd0FBb0FnQWFDeUFDSUFSR0JFQkJ0TUFBUWJUQUFDZ0NBRUYrSUFGM2NUWUNBQXdDQ3lBQ0lBZEhCRUJCeE1BQUtBSUFHZ3NnQkNBQ05nSU1JQUlnQkRZQ0NBd0JDeUFGS0FJWUlRWUNRQ0FGSUFVb0Fnd2lBVWNFUUVIRXdBQW9BZ0FnQlNnQ0NDSUNUUVJBSUFJb0Fnd2FDeUFDSUFFMkFnd2dBU0FDTmdJSURBRUxBa0FnQlVFVWFpSUNLQUlBSWdRTkFDQUZRUkJxSWdJb0FnQWlCQTBBUVFBaEFRd0JDd05BSUFJaEJ5QUVJZ0ZCRkdvaUFpZ0NBQ0lFRFFBZ0FVRVFhaUVDSUFFb0FoQWlCQTBBQ3lBSFFRQTJBZ0FMSUFaRkRRQUNRQ0FGSUFVb0Fod2lBa0VDZEVIa3dnQnFJZ1FvQWdCR0JFQWdCQ0FCTmdJQUlBRU5BVUc0d0FCQnVNQUFLQUlBUVg0Z0FuZHhOZ0lBREFJTElBWkJFRUVVSUFZb0FoQWdCVVliYWlBQk5nSUFJQUZGRFFFTElBRWdCallDR0NBRktBSVFJZ0lFUUNBQklBSTJBaEFnQWlBQk5nSVlDeUFGS0FJVUlnSkZEUUFnQVNBQ05nSVVJQUlnQVRZQ0dBc2dBeUFBUVFGeU5nSUVJQUFnQTJvZ0FEWUNBQ0FEUWNqQUFDZ0NBRWNOQVVHOHdBQWdBRFlDQUE4TElBVWdBVUYrY1RZQ0JDQURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFDeUFBUWY4QlRRUkFJQUJCQTNZaUFVRURkRUhjd0FCcUlRQUNmMEcwd0FBb0FnQWlBa0VCSUFGMElnRnhSUVJBUWJUQUFDQUJJQUp5TmdJQUlBQU1BUXNnQUNnQ0NBc2hBaUFBSUFNMkFnZ2dBaUFETmdJTUlBTWdBRFlDRENBRElBSTJBZ2dQQ3lBRFFnQTNBaEFnQXdKL1FRQWdBRUVJZGlJQlJRMEFHa0VmSUFCQi8vLy9CMHNOQUJvZ0FTQUJRWUQrUDJwQkVIWkJDSEVpQVhRaUFpQUNRWURnSDJwQkVIWkJCSEVpQW5RaUJDQUVRWUNBRDJwQkVIWkJBbkVpQkhSQkQzWWdBU0FDY2lBRWNtc2lBVUVCZENBQUlBRkJGV3AyUVFGeGNrRWNhZ3NpQWpZQ0hDQUNRUUowUWVUQ0FHb2hBUUpBQWtBQ1FFRzR3QUFvQWdBaUJFRUJJQUowSWdkeFJRUkFRYmpBQUNBRUlBZHlOZ0lBSUFFZ0F6WUNBQ0FESUFFMkFoZ01BUXNnQUVFQVFSa2dBa0VCZG1zZ0FrRWZSaHQwSVFJZ0FTZ0NBQ0VCQTBBZ0FTSUVLQUlFUVhoeElBQkdEUUlnQWtFZGRpRUJJQUpCQVhRaEFpQUVJQUZCQkhGcUlnZEJFR29vQWdBaUFRMEFDeUFISUFNMkFoQWdBeUFFTmdJWUN5QURJQU0yQWd3Z0F5QUROZ0lJREFFTElBUW9BZ2dpQUNBRE5nSU1JQVFnQXpZQ0NDQURRUUEyQWhnZ0F5QUVOZ0lNSUFNZ0FEWUNDQXRCMU1BQVFkVEFBQ2dDQUVGL2FpSUFOZ0lBSUFBTkFFSDh3d0FoQXdOQUlBTW9BZ0FpQUVFSWFpRURJQUFOQUF0QjFNQUFRWDgyQWdBTEMzUUJBbjhqQUVFUWF5SUNKQUFnQWtFQU5nSU1JQUFnQWtFTWFoQUNJUUFDZnlBQ0tBSU1JZ05CZjBZRVFFRUJJQUJGRFFFYUlBRkJnSUNBZ0hnMkFnQkJBQXdCQzBFQklBQU5BQm9nQVNBRFFRRnFRUUYySWdGQkFDQUJheUFEUVFGeEd6WUNBRUVBQ3lFQUlBSkJFR29rQUNBQUM4Y0xBUlIvSUFGQm9EMXFMUUFBUVF4c0lnWkIxRHhxS0FJQUlRVWdCa0hRUEdvb0FnQWdBVUdRUEdvdEFBQWlCM1FoQkNBQ1JRUkFJQUFnQUNnQ0FDQUViRFlDQUFzZ0JTQUhkQ0VCQWtBQ1FDQURRWnovQTNFRVFDQUFJQVpCMkR4cUtBSUFJQWQwSWdNZ0FDZ0NQR3cyQWp3Z0FDQUFLQUk0SUFGc05nSTRRUUVoQWlBQUlBQW9BaXdnQkd3aUJ5QUFLQUlNSUFSc0lnVnFJZ2tnQUNnQ0lDQUJiQ0lLSUFBb0FqUWdBV3dpRDBFQmRXb2lFR3NpQmpZQ0xDQUFLQUlvSVFnZ0FDQUZJQWRySWdVZ0NrRUJkU0FQYXlJS2F5SUhOZ0lvSUFBb0FpUWhEaUFBSUFVZ0Ntb2lCVFlDSkNBQUlBQW9BaHdnQVd3aUR5QUFLQUlJSUFGc0lndHFJaE1nQUNnQ0VDQURiQ0lSSUFBb0FqQWdBMndpREVFQmRXb2lGV3NpQ2pZQ0hDQUFLQUlZSVEwZ0FDQUxJQTlySWdzZ0VVRUJkU0FNYXlJUmF5SVBOZ0lZSUFBb0FoUWhEQ0FBSUFzZ0VXb2lDellDRkNBQUlBUWdER3dpQkNBQUtBSUFJZ3hxSWhRZ0FDZ0NCQ0FCYkNJU0lBRWdEV3dpRFVFQmRXb2lGbXNpRVRZQ0RDQUFJQXdnQkdzaUJDQVNRUUYxSUExcklnMXJJZ3cyQWdnZ0FDQUVJQTFxSWcwMkFnUWdBQ0FCSUE1c0lnUWdBQ2dDT0NJT2F5SVNJQU1nQ0d3aUNFRUJkU0FBS0FJOEloZHJJZ05ySWdFMkFqZ2dBQ0FESUJKcUlnTTJBalFnQUNBRUlBNXFJZzRnRjBFQmRTQUlhaUlJYXlJRU5nSThJQUFnRkNBV2FpSVVJQWtnRUdvaUVHdEJJR29pRWlBSUlBNXFJZ2tnRXlBVmFpSUlRUUYxSWc1cmFrRUdkU0lUTmdJZ0lBQWdFaUFPSUFscmFrRUdkU0lPTmdJUUlBQWdFQ0FVYWtFZ2FpSVFJQWxCQVhVZ0NHb2lDV3RCQm5VaUNEWUNNQ0FBSUFrZ0VHcEJCblVpQ1RZQ0FDQUpRWUFFYWlBT1FZQUVhbkpCL3dkTERRSWdDRUdBQkdvZ0UwR0FCR3B5UWY4SFN3MENJQUFnQlNBTmFrRWdhaUlKSUFOQkFYVWdDMm9pRUd0QkJuVWlDRFlDTkNBQUlBMGdCV3RCSUdvaUJTQURJQXRCQVhVaUMydHFRUVoxSWcwMkFpUWdBQ0FGSUFzZ0EydHFRUVoxSWdNMkFoUWdBQ0FKSUJCcVFRWjFJZ1UyQWdRZ0JVR0FCR29nQTBHQUJHcHlRZjhIU3cwQ0lBaEJnQVJxSUExQmdBUnFja0gvQjBzTkFpQUFJQWNnREdwQklHb2lBeUFCUVFGMUlBOXFJZ1ZyUVFaMUlnczJBamdnQUNBTUlBZHJRU0JxSWdjZ0FTQVBRUUYxSWc5cmFrRUdkU0lNTmdJb0lBQWdCeUFQSUFGcmFrRUdkU0lCTmdJWUlBQWdBeUFGYWtFR2RTSUROZ0lJSUFOQmdBUnFJQUZCZ0FScWNrSC9CMHNOQWlBTFFZQUVhaUFNUVlBRWFuSkIvd2RMRFFJZ0FDQUdJQkZxUVNCcUlnRWdCRUVCZFNBS2FpSURhMEVHZFNJSE5nSThJQUFnRVNBR2EwRWdhaUlHSUFRZ0NrRUJkU0lGYTJwQkJuVWlDallDTENBQUlBWWdCU0FFYTJwQkJuVWlCRFlDSENBQUlBRWdBMnBCQm5VaUFEWUNEQ0FBUVlBRWFpQUVRWUFFYW5KQi93ZExEUUlnQjBHQUJHb2dDa0dBQkdweVFmOEhUUTBCREFJTElBTkI0Z0J4UlFSQVFRRWhBaUFBS0FJQVFTQnFRUVoxSWdGQmdBUnFRZjhIU3cwQ0lBQWdBVFlDT0NBQUlBRTJBandnQUNBQk5nSTBJQUFnQVRZQ01DQUFJQUUyQWl3Z0FDQUJOZ0lvSUFBZ0FUWUNKQ0FBSUFFMkFpQWdBQ0FCTmdJY0lBQWdBVFlDR0NBQUlBRTJBaFFnQUNBQk5nSVFJQUFnQVRZQ0RDQUFJQUUyQWdnZ0FDQUJOZ0lFSUFBZ0FUWUNBQXdCQzBFQklRSWdBQ0FBS0FJRUlBRnNJZ2NnQUNnQ0dDQUJiQ0lHUVFGMWFpSURJQUFvQWdBaUJTQUFLQUlVSUFSc0lnUnFJZ3BxUVNCcVFRWjFJZ0UyQWpBZ0FDQUtJQU5yUVNCcVFRWjFJZ00yQWd3Z0FDQUZJQVJySWdVZ0JpQUhRUUYxSWdkcmFrRWdha0VHZFNJRU5nSUlJQUFnQnlBR2F5QUZha0VnYWtFR2RTSUdOZ0lFSUFBZ0FUWUNBQ0FBSUFFMkFpQWdBQ0FHTmdJMElBQWdBVFlDRUNBQUlBWTJBaVFnQUNBRU5nSTRJQUFnQmpZQ0ZDQUFJQVEyQWlnZ0FDQUROZ0k4SUFBZ0JEWUNHQ0FBSUFNMkFpd2dBQ0FETmdJY0lBTkJnQVJxSUFGQmdBUnFJQVJCZ0FScUlBWkJnQVJxY25KeVFmOEhTdzBCQzBFQUlRSUxJQUlMOHdJQ0FuOEJmZ0pBSUFKRkRRQWdBQ0FDYWlJRFFYOXFJQUU2QUFBZ0FDQUJPZ0FBSUFKQkEwa05BQ0FEUVg1cUlBRTZBQUFnQUNBQk9nQUJJQU5CZldvZ0FUb0FBQ0FBSUFFNkFBSWdBa0VIU1EwQUlBTkJmR29nQVRvQUFDQUFJQUU2QUFNZ0FrRUpTUTBBSUFCQkFDQUFhMEVEY1NJRWFpSURJQUZCL3dGeFFZR0NoQWhzSWdFMkFnQWdBeUFDSUFSclFYeHhJZ1JxSWdKQmZHb2dBVFlDQUNBRVFRbEpEUUFnQXlBQk5nSUlJQU1nQVRZQ0JDQUNRWGhxSUFFMkFnQWdBa0YwYWlBQk5nSUFJQVJCR1VrTkFDQURJQUUyQWhnZ0F5QUJOZ0lVSUFNZ0FUWUNFQ0FESUFFMkFnd2dBa0Z3YWlBQk5nSUFJQUpCYkdvZ0FUWUNBQ0FDUVdocUlBRTJBZ0FnQWtGa2FpQUJOZ0lBSUFRZ0EwRUVjVUVZY2lJRWF5SUNRU0JKRFFBZ0FhMGlCVUlnaGlBRmhDRUZJQU1nQkdvaEFRTkFJQUVnQlRjREdDQUJJQVUzQXhBZ0FTQUZOd01JSUFFZ0JUY0RBQ0FCUVNCcUlRRWdBa0ZnYWlJQ1FSOUxEUUFMQ3lBQUMvSURBUU4vSUFFb0FnQWlBMEgvLy84SFJ3UkFJQUVvQWdRaEJDQUFJQUlnQWtFRGNTQUNRUkJKSWdJYlFRSjBJZ1ZCOENscUtBSUFRUkJCQ0NBQ0d5SUNiR29nQlVHd0tXb29BZ0JxSWdBZ0F5QUFMUUFBYWtHd0xtb3RBQUE2QUFBZ0FTZ0NDQ0VESUFBZ0JDQUFMUUFCYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VFSUFBZ0F5QUFMUUFDYWtHd0xtb3RBQUE2QUFJZ0FDQUVJQUF0QUFOcVFiQXVhaTBBQURvQUF5QUJLQUlVSVFNZ0FDQUNhaUlBSUFFb0FoQWdBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BaGdoQkNBQUlBTWdBQzBBQVdwQnNDNXFMUUFBT2dBQklBRW9BaHdoQXlBQUlBUWdBQzBBQW1wQnNDNXFMUUFBT2dBQ0lBQWdBeUFBTFFBRGFrR3dMbW90QUFBNkFBTWdBU2dDSkNFRElBQWdBbW9pQUNBQktBSWdJQUF0QUFCcVFiQXVhaTBBQURvQUFDQUJLQUlvSVFRZ0FDQURJQUF0QUFGcVFiQXVhaTBBQURvQUFTQUJLQUlzSVFNZ0FDQUVJQUF0QUFKcVFiQXVhaTBBQURvQUFpQUFJQU1nQUMwQUEycEJzQzVxTFFBQU9nQURJQUVvQWpRaEF5QUFJQUpxSWdBZ0FTZ0NNQ0FBTFFBQWFrR3dMbW90QUFBNkFBQWdBU2dDT0NFQ0lBQWdBeUFBTFFBQmFrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQWdBaUFBTFFBQ2FrR3dMbW90QUFBNkFBSWdBQ0FCSUFBdEFBTnFRYkF1YWkwQUFEb0FBd3NMMHhBQkRIOGpBRUdBQVdzaUNpUUFJQUFRRHlFRVFRRWhCUUpBQWtBQ2Z5QUNRUUZOQkVBZ0JFRUFTQTBDSUFSQkdYWkIvZ0J4UVlBSWFpQUVRWUNBZ09BQVR3MEJHaUFFUVJWMlFmNFBjVUhBQ0dvZ0JFR0FnSUFJVHcwQkdpQUVRUkYyUWY3L0FYRkJrQWxxSUFSQmdJQ0FBVThOQVJvZ0JFRVFka0VCZEVHUUNtb01BUXNnQWtFRFRRUkFJQVJCZjB3RVFFRUNRYUlRSUFSQmdJQ0FnQVJ4R3lFRkRBTUxJQVJCR1haQi9nQnhRZEFLYWlBRVFZQ0FnSUFCVHcwQkdpQUVRUloyUWY0SGNVR1FDMm9nQkVHQWdJQVFUdzBCR2lBRVFSRjJRZjcvQVhGQjBBdHFEQUVMSUFKQkIwMEVRQ0FFUVJwMklnSkJlR3BCT0VrRVFDQUNRUUYwUWRBTmFnd0NDeUFFUVJWMlFmNFBjVUhRRG1vTUFRc2dCRUVaZGtIK0FIRkIwQkJxSUFKQkVFME5BQm9nQkVFZGRpSUNCRUFnQWtFQmRFSFFFV29NQVFzZ0JFRVhka0grQTNGQjRCRnFDeThCQUNJRkRRQkJBU0VMREFFTFFRRWhDeUFGUVF0Mklna2dBMHNOQUVFZ0lBVkJIM0VpQm1zaEFnSkFJQWxGQkVBTUFRc2dCQ0FHZENFRUFrQWdCVUVGZGtFL2NTSU1SUVJBREFFTElBSWdERWtFUUNBQUlBWVFDMEYvUmcwRElBQVFEeUVFUVNBaEFnc2dCQ0FNZENFR1FRRWdERUYvYW5RaEJ5QUVRU0FnREd0MklRUURRQ0FLUVVCcklBaEJBblJxUVg5QkFTQUVJQWR4R3pZQ0FDQUlRUUZxSVFnZ0IwRUJkaUlIRFFBTElBSWdER3NoQWlBR0lRUUxJQWdnQ1VrRVFDQU1RUU5KSWc4Z0JVSC9yd0ZMY1NFRkEwQWdBa0VQVFFSQUlBQkJJQ0FDYXhBTFFYOUdCRUFNQlFzZ0FCQVBJUVJCSUNFQ0MwRUFJUVlDUUFKQUFuOENRQ0FFUVFCSURRQkJBU0VHSUFSQi8vLy8vd05MRFFCQkFpRUdJQVJCLy8vLy93RkxEUUJCQXlFR0lBUkIvLy8vL3dCTERRQkJCQ0VHSUFSQi8vLy9QMHNOQUVFRklRWWdCRUgvLy84ZlN3MEFRUVloQmlBRVFmLy8vdzlMRFFCQkJ5RUdJQVJCLy8vL0Iwc05BRUVJSVFZZ0JFSC8vLzhEU3cwQVFRa2hCaUFFUWYvLy93RkxEUUJCQ2lFR0lBUkIvLy8vQUVzTkFFRUxJUVlnQkVILy96OUxEUUJCRENFR0lBUkIvLzhmU3cwQVFRMGhCaUFFUWYvL0Qwc05BQUovQWtBZ0JFSC8vd2ROQkVBZ0JFR0FnSHh4UVlDQUJFWU5BUXdLQ3lBRlFRUWdCUnNoQmlBRVFROTBJUVJCRGlFSElBSkJjV29NQVFzZ0JVRUJJQVViSVFVZ0JFRVFkQ0VFUVF3aEJrRVBJUWNnQWtGd2Fnc2hBaUFISUFWMElRY2dCVVVNQVFzZ0JpQUZkQ0VIUVFFaERpQUNJQVpCQVdvaUJtc2hBaUFFSUFaMElRUWdCVVVOQVNBRklRWkJBQXNoRGlBQ0lBWlBCSDhnQkFVZ0FFRWdJQUpyRUF0QmYwWUVRQXdIQzBFZ0lRSWdBQkFQQ3lFTklBSWdCbXNoQWlBTklBWjBJUVFnRFVFZ0lBWnJkaUFIYWlFSERBRUxRUUFoQlFzZ0NrRkFheUFJUVFKMGFrRUFJQWRCQW1vZ0J5QUlJQXhHR3lBSElBOGJJZzFCQW1wQkFYWWlCbXNnQmlBTlFRRnhHellDQUVFQklBVWdEaHNpQlNBRlFRWkpJQVpCQXlBRlFYOXFkRXB4YWlFRklBaEJBV29pQ0NBSlJ3MEFDd3RCQUNFSEFrQWdDU0FEVHdSQVFRQWhDQXdCQ3dKQUlBSkJDRXNFUUNBQ0lRVU1BUXRCSUNFRklBQkJJQ0FDYXhBTFFYOUdEUU1nQUJBUElRUUxBa0FDUUFKL0FrQWdBMEVFUndSQUlBbEJmMm9pQWtFTlN3MERBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBa0VCYXc0TkFBRUNBd1FGQmdjSUNRb0xEQTRMSUFSQkduWkI0QkpxREE0TElBUkJHblpCb0JOcURBMExJQVJCRzNaQjRCTnFEQXdMSUFSQkczWkJnQlJxREFzTElBUkJHblpCb0JScURBb0xJQVJCR25aQjRCUnFEQWtMSUFSQkduWkJvQlZxREFnTElBUkJHblpCNEJWcURBY0xJQVJCRzNaQm9CWnFEQVlMSUFSQkhIWkJ3QlpxREFVTElBUkJISFpCMEJacURBUUxJQVJCSFhaQjRCWnFEQU1MSUFSQkhuWkI2QlpxREFJTElBUkJBRWdFUUVFQklRSU1CQXRCRVNFQ0lBbEJBMFlOQTBFU0lRSWdCRUgvLy8vL0Ewc05BMEVpSVFJZ0NVRUNSZzBEUVNOQk15QUVRZi8vLy84QlN4c2hBZ3dEQ3lBRVFSdDJRYUFTYWlBRVFSZDJRY0FTYWlBRVFmLy8vLzhBU3hzTExRQUFJZ0lOQVF3RUMwRVJRUUVnQkVFQVNCc2hBZ3NnQWtFRWRpRUlJQVVnQWtFUGNTSURheUVDSUFRZ0EzUWhCQXNnQ1VGL2FpSURCRUFEUUFKL0lBZ0VRQ0FDUVFwTkJFQWdBRUVnSUFKckVBdEJmMFlFUUF3SEN5QUFFQThoQkVFZ0lRSUxBa0FDZndKQUlBaEJmMm9pQlVFRlRRUkFBa0FDUUFKQUFrQUNRQ0FGUVFGckRnVUFBUUlEQkFZTElBUkJIblpCN2hacURBWUxJQVJCSG5aQjhoWnFEQVVMSUFSQkhYWkI5aFpxREFRTElBUkJIWFpCL2hacURBTUxJQVJCSFhaQmhoZHFEQUlMQW45Qjh3QWdCRUVaZGtId0FIRnJJQVJCZ0lDQWdBSlBEUUFhUWZRQUlBUkIvLy8vL3dCTERRQWFRWVVCSUFSQi8vLy9QMHNOQUJwQmxnRWdCRUgvLy84ZlN3MEFHa0duQVNBRVFmLy8vdzlMRFFBYVFiZ0JJQVJCLy8vL0Iwc05BQnBCeVFFZ0JFSC8vLzhEU3cwQUdrSGFBU0FFUWYvLy93RkxEUUFhUVFCQjZ3RWdCRUdBZ0lBQlNSc0xJZ1ZCQkhZZ0NFME5BZ3dJQ3lBRVFSOTJRZXdXYWdzdEFBQWhCUXNnQlVVRVFBd0dDeUFLSUFkQkFuUnFJQVZCQkhZaUJrRUJhallDQUNBQ0lBVkJEM0VpQldzaEFpQUVJQVYwSVFRZ0NDQUdhd3dCQ3lBS0lBZEJBblJxUVFFMkFnQkJBQXNoQ0NBSFFRRnFJZ2NnQTBjTkFBc2dBU0FJUVFKMGFpQUtRVUJySUFOQkFuUnFLQUlBTmdJQUlBbEJmbW9oQlVFQklBaDBJUWNEUUNBQklBb2dCU0lEUVFKMElnVnFLQUlBSUFocUlnaEJBblJxSUFwQlFHc2dCV29vQWdBMkFnQWdBMEYvYWlFRlFRRWdDSFFnQjNJaEJ5QUREUUFMREFFTElBRWdDRUVDZEdvZ0NrRkFheUFEUVFKMGFpZ0NBRFlDQUVFQklBaDBJUWNMSUFCQklDQUNheEFMRFFBZ0IwRVFkQ0FKUVFSMGNpRUxDeUFLUVlBQmFpUUFJQXNMelM0QkMzOGpBRUVRYXlJTEpBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFCQjlBRk5CRUJCdE1BQUtBSUFJZ1pCRUNBQVFRdHFRWGh4SUFCQkMwa2JJZ1ZCQTNZaUFIWWlBVUVEY1FSQUlBRkJmM05CQVhFZ0FHb2lBa0VEZENJRVFlVEFBR29vQWdBaUFVRUlhaUVBQWtBZ0FTZ0NDQ0lESUFSQjNNQUFhaUlFUmdSQVFiVEFBQ0FHUVg0Z0FuZHhOZ0lBREFFTFFjVEFBQ2dDQUJvZ0F5QUVOZ0lNSUFRZ0F6WUNDQXNnQVNBQ1FRTjBJZ0pCQTNJMkFnUWdBU0FDYWlJQklBRW9BZ1JCQVhJMkFnUU1EQXNnQlVHOHdBQW9BZ0FpQ0UwTkFTQUJCRUFDUUVFQ0lBQjBJZ0pCQUNBQ2EzSWdBU0FBZEhFaUFFRUFJQUJyY1VGL2FpSUFJQUJCREhaQkVIRWlBSFlpQVVFRmRrRUljU0lDSUFCeUlBRWdBbllpQUVFQ2RrRUVjU0lCY2lBQUlBRjJJZ0JCQVhaQkFuRWlBWElnQUNBQmRpSUFRUUYyUVFGeElnRnlJQUFnQVhacUlnSkJBM1FpQTBIa3dBQnFLQUlBSWdFb0FnZ2lBQ0FEUWR6QUFHb2lBMFlFUUVHMHdBQWdCa0YrSUFKM2NTSUdOZ0lBREFFTFFjVEFBQ2dDQUJvZ0FDQUROZ0lNSUFNZ0FEWUNDQXNnQVVFSWFpRUFJQUVnQlVFRGNqWUNCQ0FCSUFWcUlnY2dBa0VEZENJQ0lBVnJJZ05CQVhJMkFnUWdBU0FDYWlBRE5nSUFJQWdFUUNBSVFRTjJJZ1JCQTNSQjNNQUFhaUVCUWNqQUFDZ0NBQ0VDQW44Z0JrRUJJQVIwSWdSeFJRUkFRYlRBQUNBRUlBWnlOZ0lBSUFFTUFRc2dBU2dDQ0FzaEJDQUJJQUkyQWdnZ0JDQUNOZ0lNSUFJZ0FUWUNEQ0FDSUFRMkFnZ0xRY2pBQUNBSE5nSUFRYnpBQUNBRE5nSUFEQXdMUWJqQUFDZ0NBQ0lLUlEwQklBcEJBQ0FLYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQWlBQWNpQUJJQUoySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJZ0VvQWdSQmVIRWdCV3NoQXlBQklRSURRQUpBSUFJb0FoQWlBRVVFUUNBQ0tBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0JXc2lBaUFESUFJZ0Ewa2lBaHNoQXlBQUlBRWdBaHNoQVNBQUlRSU1BUXNMSUFFb0FoZ2hDU0FCSUFFb0Fnd2lCRWNFUUVIRXdBQW9BZ0FnQVNnQ0NDSUFUUVJBSUFBb0Fnd2FDeUFBSUFRMkFnd2dCQ0FBTmdJSURBc0xJQUZCRkdvaUFpZ0NBQ0lBUlFSQUlBRW9BaEFpQUVVTkF5QUJRUkJxSVFJTEEwQWdBaUVISUFBaUJFRVVhaUlDS0FJQUlnQU5BQ0FFUVJCcUlRSWdCQ2dDRUNJQURRQUxJQWRCQURZQ0FBd0tDMEYvSVFVZ0FFRy9mMHNOQUNBQVFRdHFJZ0JCZUhFaEJVRzR3QUFvQWdBaUIwVU5BRUVBSUFWcklRSUNRQUpBQWtBQ2YwRUFJQUJCQ0hZaUFFVU5BQnBCSHlBRlFmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnTWdBMEdBZ0E5cVFSQjJRUUp4SWdOMFFROTJJQUFnQVhJZ0EzSnJJZ0JCQVhRZ0JTQUFRUlZxZGtFQmNYSkJIR29MSWdoQkFuUkI1TUlBYWlnQ0FDSURSUVJBUVFBaEFBd0JDeUFGUVFCQkdTQUlRUUYyYXlBSVFSOUdHM1FoQVVFQUlRQURRQUpBSUFNb0FnUkJlSEVnQldzaUJpQUNUdzBBSUFNaEJDQUdJZ0lOQUVFQUlRSWdBeUVBREFNTElBQWdBeWdDRkNJR0lBWWdBeUFCUVIxMlFRUnhhaWdDRUNJRFJoc2dBQ0FHR3lFQUlBRWdBMEVBUjNRaEFTQUREUUFMQ3lBQUlBUnlSUVJBUVFJZ0NIUWlBRUVBSUFCcmNpQUhjU0lBUlEwRElBQkJBQ0FBYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQXlBQWNpQUJJQU4ySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJUUFMSUFCRkRRRUxBMEFnQUNnQ0JFRjRjU0FGYXlJRElBSkpJUUVnQXlBQ0lBRWJJUUlnQUNBRUlBRWJJUVFnQUNnQ0VDSUJCSDhnQVFVZ0FDZ0NGQXNpQUEwQUN3c2dCRVVOQUNBQ1FiekFBQ2dDQUNBRmEwOE5BQ0FFS0FJWUlRZ2dCQ0FFS0FJTUlnRkhCRUJCeE1BQUtBSUFJQVFvQWdnaUFFMEVRQ0FBS0FJTUdnc2dBQ0FCTmdJTUlBRWdBRFlDQ0F3SkN5QUVRUlJxSWdNb0FnQWlBRVVFUUNBRUtBSVFJZ0JGRFFNZ0JFRVFhaUVEQ3dOQUlBTWhCaUFBSWdGQkZHb2lBeWdDQUNJQURRQWdBVUVRYWlFRElBRW9BaEFpQUEwQUN5QUdRUUEyQWdBTUNBdEJ2TUFBS0FJQUlnRWdCVThFUUVISXdBQW9BZ0FoQUFKQUlBRWdCV3NpQWtFUVR3UkFRYnpBQUNBQ05nSUFRY2pBQUNBQUlBVnFJZ00yQWdBZ0F5QUNRUUZ5TmdJRUlBQWdBV29nQWpZQ0FDQUFJQVZCQTNJMkFnUU1BUXRCeU1BQVFRQTJBZ0JCdk1BQVFRQTJBZ0FnQUNBQlFRTnlOZ0lFSUFBZ0FXb2lBU0FCS0FJRVFRRnlOZ0lFQ3lBQVFRaHFJUUFNQ2d0QndNQUFLQUlBSWdFZ0JVc0VRRUhBd0FBZ0FTQUZheUlCTmdJQVFjekFBRUhNd0FBb0FnQWlBQ0FGYWlJQ05nSUFJQUlnQVVFQmNqWUNCQ0FBSUFWQkEzSTJBZ1FnQUVFSWFpRUFEQW9MUVFBaEFDQUZRUzlxSWdRQ2YwR014QUFvQWdBRVFFR1V4QUFvQWdBTUFRdEJtTVFBUW44M0FnQkJrTVFBUW9DZ2dJQ0FnQVEzQWdCQmpNUUFJQXRCREdwQmNIRkIyS3JWcWdWek5nSUFRYURFQUVFQU5nSUFRZkREQUVFQU5nSUFRWUFnQ3lJQ2FpSUdRUUFnQW1zaUIzRWlBaUFGVFEwSlFlekRBQ2dDQUNJREJFQkI1TU1BS0FJQUlnZ2dBbW9pQ1NBSVRRMEtJQWtnQTBzTkNndEI4TU1BTFFBQVFRUnhEUVFDUUFKQVFjekFBQ2dDQUNJREJFQkI5TU1BSVFBRFFDQUFLQUlBSWdnZ0EwMEVRQ0FJSUFBb0FnUnFJQU5MRFFNTElBQW9BZ2dpQUEwQUN3dEJBQkFUSWdGQmYwWU5CU0FDSVFaQmtNUUFLQUlBSWdCQmYyb2lBeUFCY1FSQUlBSWdBV3NnQVNBRGFrRUFJQUJyY1dvaEJnc2dCaUFGVFEwRklBWkIvdi8vL3dkTERRVkI3TU1BS0FJQUlnQUVRRUhrd3dBb0FnQWlBeUFHYWlJSElBTk5EUVlnQnlBQVN3MEdDeUFHRUJNaUFDQUJSdzBCREFjTElBWWdBV3NnQjNFaUJrSCsvLy8vQjBzTkJDQUdFQk1pQVNBQUtBSUFJQUFvQWdScVJnMERJQUVoQUFzQ1FDQUZRVEJxSUFaTkRRQWdBRUYvUmcwQVFaVEVBQ2dDQUNJQklBUWdCbXRxUVFBZ0FXdHhJZ0ZCL3YvLy93ZExCRUFnQUNFQkRBY0xJQUVRRTBGL1J3UkFJQUVnQm1vaEJpQUFJUUVNQnd0QkFDQUdheEFUR2d3RUN5QUFJZ0ZCZjBjTkJRd0RDMEVBSVFRTUJ3dEJBQ0VCREFVTElBRkJmMGNOQWd0QjhNTUFRZkREQUNnQ0FFRUVjallDQUFzZ0FrSCsvLy8vQjBzTkFTQUNFQk1pQVVFQUVCTWlBRThOQVNBQlFYOUdEUUVnQUVGL1JnMEJJQUFnQVdzaUJpQUZRU2hxVFEwQkMwSGt3d0JCNU1NQUtBSUFJQVpxSWdBMkFnQWdBRUhvd3dBb0FnQkxCRUJCNk1NQUlBQTJBZ0FMQWtBQ1FBSkFRY3pBQUNnQ0FDSURCRUJCOU1NQUlRQURRQ0FCSUFBb0FnQWlBaUFBS0FJRUlnUnFSZzBDSUFBb0FnZ2lBQTBBQ3d3Q0MwSEV3QUFvQWdBaUFFRUFJQUVnQUU4YlJRUkFRY1RBQUNBQk5nSUFDMEVBSVFCQitNTUFJQVkyQWdCQjlNTUFJQUUyQWdCQjFNQUFRWDgyQWdCQjJNQUFRWXpFQUNnQ0FEWUNBRUdBeEFCQkFEWUNBQU5BSUFCQkEzUWlBa0hrd0FCcUlBSkIzTUFBYWlJRE5nSUFJQUpCNk1BQWFpQUROZ0lBSUFCQkFXb2lBRUVnUncwQUMwSEF3QUFnQmtGWWFpSUFRWGdnQVd0QkIzRkJBQ0FCUVFocVFRZHhHeUlDYXlJRE5nSUFRY3pBQUNBQklBSnFJZ0kyQWdBZ0FpQURRUUZ5TmdJRUlBQWdBV3BCS0RZQ0JFSFF3QUJCbk1RQUtBSUFOZ0lBREFJTElBQXRBQXhCQ0hFTkFDQUJJQU5ORFFBZ0FpQURTdzBBSUFBZ0JDQUdhallDQkVITXdBQWdBMEY0SUFOclFRZHhRUUFnQTBFSWFrRUhjUnNpQUdvaUFUWUNBRUhBd0FCQndNQUFLQUlBSUFacUlnSWdBR3NpQURZQ0FDQUJJQUJCQVhJMkFnUWdBaUFEYWtFb05nSUVRZERBQUVHY3hBQW9BZ0EyQWdBTUFRc2dBVUhFd0FBb0FnQWlCRWtFUUVIRXdBQWdBVFlDQUNBQklRUUxJQUVnQm1vaEFrSDB3d0FoQUFKQUFrQUNRQUpBQWtBQ1FBTkFJQUlnQUNnQ0FFY0VRQ0FBS0FJSUlnQU5BUXdDQ3dzZ0FDMEFERUVJY1VVTkFRdEI5TU1BSVFBRFFDQUFLQUlBSWdJZ0EwMEVRQ0FDSUFBb0FnUnFJZ1FnQTBzTkF3c2dBQ2dDQ0NFQURBQUFDd0FMSUFBZ0FUWUNBQ0FBSUFBb0FnUWdCbW8yQWdRZ0FVRjRJQUZyUVFkeFFRQWdBVUVJYWtFSGNSdHFJZ2tnQlVFRGNqWUNCQ0FDUVhnZ0FtdEJCM0ZCQUNBQ1FRaHFRUWR4RzJvaUFTQUpheUFGYXlFQUlBVWdDV29oQnlBQklBTkdCRUJCek1BQUlBYzJBZ0JCd01BQVFjREFBQ2dDQUNBQWFpSUFOZ0lBSUFjZ0FFRUJjallDQkF3REN5QUJRY2pBQUNnQ0FFWUVRRUhJd0FBZ0J6WUNBRUc4d0FCQnZNQUFLQUlBSUFCcUlnQTJBZ0FnQnlBQVFRRnlOZ0lFSUFBZ0Iyb2dBRFlDQUF3REN5QUJLQUlFSWdKQkEzRkJBVVlFUUNBQ1FYaHhJUW9DUUNBQ1FmOEJUUVJBSUFFb0FnZ2lBeUFDUVFOMklnUkJBM1JCM01BQWFrY2FJQU1nQVNnQ0RDSUNSZ1JBUWJUQUFFRzB3QUFvQWdCQmZpQUVkM0UyQWdBTUFnc2dBeUFDTmdJTUlBSWdBellDQ0F3QkN5QUJLQUlZSVFnQ1FDQUJJQUVvQWd3aUJrY0VRQ0FFSUFFb0FnZ2lBazBFUUNBQ0tBSU1HZ3NnQWlBR05nSU1JQVlnQWpZQ0NBd0JDd0pBSUFGQkZHb2lBeWdDQUNJRkRRQWdBVUVRYWlJREtBSUFJZ1VOQUVFQUlRWU1BUXNEUUNBRElRSWdCU0lHUVJScUlnTW9BZ0FpQlEwQUlBWkJFR29oQXlBR0tBSVFJZ1VOQUFzZ0FrRUFOZ0lBQ3lBSVJRMEFBa0FnQVNBQktBSWNJZ0pCQW5SQjVNSUFhaUlES0FJQVJnUkFJQU1nQmpZQ0FDQUdEUUZCdU1BQVFiakFBQ2dDQUVGK0lBSjNjVFlDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQUZHRzJvZ0JqWUNBQ0FHUlEwQkN5QUdJQWcyQWhnZ0FTZ0NFQ0lDQkVBZ0JpQUNOZ0lRSUFJZ0JqWUNHQXNnQVNnQ0ZDSUNSUTBBSUFZZ0FqWUNGQ0FDSUFZMkFoZ0xJQUVnQ21vaEFTQUFJQXBxSVFBTElBRWdBU2dDQkVGK2NUWUNCQ0FISUFCQkFYSTJBZ1FnQUNBSGFpQUFOZ0lBSUFCQi93Rk5CRUFnQUVFRGRpSUJRUU4wUWR6QUFHb2hBQUovUWJUQUFDZ0NBQ0lDUVFFZ0FYUWlBWEZGQkVCQnRNQUFJQUVnQW5JMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0J6WUNDQ0FCSUFjMkFnd2dCeUFBTmdJTUlBY2dBVFlDQ0F3REN5QUhBbjlCQUNBQVFRaDJJZ0ZGRFFBYVFSOGdBRUgvLy84SFN3MEFHaUFCSUFGQmdQNC9ha0VRZGtFSWNTSUJkQ0lDSUFKQmdPQWZha0VRZGtFRWNTSUNkQ0lESUFOQmdJQVBha0VRZGtFQ2NTSURkRUVQZGlBQklBSnlJQU55YXlJQlFRRjBJQUFnQVVFVmFuWkJBWEZ5UVJ4cUN5SUJOZ0ljSUFkQ0FEY0NFQ0FCUVFKMFFlVENBR29oQWdKQVFiakFBQ2dDQUNJRFFRRWdBWFFpQkhGRkJFQkJ1TUFBSUFNZ0JISTJBZ0FnQWlBSE5nSUFEQUVMSUFCQkFFRVpJQUZCQVhacklBRkJIMFliZENFRElBSW9BZ0FoQVFOQUlBRWlBaWdDQkVGNGNTQUFSZzBESUFOQkhYWWhBU0FEUVFGMElRTWdBaUFCUVFSeGFpSUVLQUlRSWdFTkFBc2dCQ0FITmdJUUN5QUhJQUkyQWhnZ0J5QUhOZ0lNSUFjZ0J6WUNDQXdDQzBIQXdBQWdCa0ZZYWlJQVFYZ2dBV3RCQjNGQkFDQUJRUWhxUVFkeEd5SUNheUlITmdJQVFjekFBQ0FCSUFKcUlnSTJBZ0FnQWlBSFFRRnlOZ0lFSUFBZ0FXcEJLRFlDQkVIUXdBQkJuTVFBS0FJQU5nSUFJQU1nQkVFbklBUnJRUWR4UVFBZ0JFRlpha0VIY1J0cVFWRnFJZ0FnQUNBRFFSQnFTUnNpQWtFYk5nSUVJQUpCL01NQUtRSUFOd0lRSUFKQjlNTUFLUUlBTndJSVFmekRBQ0FDUVFocU5nSUFRZmpEQUNBR05nSUFRZlREQUNBQk5nSUFRWURFQUVFQU5nSUFJQUpCR0dvaEFBTkFJQUJCQnpZQ0JDQUFRUWhxSVFFZ0FFRUVhaUVBSUFRZ0FVc05BQXNnQWlBRFJnMERJQUlnQWlnQ0JFRitjVFlDQkNBRElBSWdBMnNpQkVFQmNqWUNCQ0FDSUFRMkFnQWdCRUgvQVUwRVFDQUVRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQVFMSUFOQ0FEY0NFQ0FEQW45QkFDQUVRUWgySWdCRkRRQWFRUjhnQkVILy8vOEhTdzBBR2lBQUlBQkJnUDQvYWtFUWRrRUljU0lBZENJQklBRkJnT0FmYWtFUWRrRUVjU0lCZENJQ0lBSkJnSUFQYWtFUWRrRUNjU0lDZEVFUGRpQUFJQUZ5SUFKeWF5SUFRUUYwSUFRZ0FFRVZhblpCQVhGeVFSeHFDeUlBTmdJY0lBQkJBblJCNU1JQWFpRUJBa0JCdU1BQUtBSUFJZ0pCQVNBQWRDSUdjVVVFUUVHNHdBQWdBaUFHY2pZQ0FDQUJJQU0yQWdBZ0F5QUJOZ0lZREFFTElBUkJBRUVaSUFCQkFYWnJJQUJCSDBZYmRDRUFJQUVvQWdBaEFRTkFJQUVpQWlnQ0JFRjRjU0FFUmcwRUlBQkJIWFloQVNBQVFRRjBJUUFnQWlBQlFRUnhhaUlHS0FJUUlnRU5BQXNnQmlBRE5nSVFJQU1nQWpZQ0dBc2dBeUFETmdJTUlBTWdBellDQ0F3REN5QUNLQUlJSWdBZ0J6WUNEQ0FDSUFjMkFnZ2dCMEVBTmdJWUlBY2dBallDRENBSElBQTJBZ2dMSUFsQkNHb2hBQXdGQ3lBQ0tBSUlJZ0FnQXpZQ0RDQUNJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FqWUNEQ0FESUFBMkFnZ0xRY0RBQUNnQ0FDSUFJQVZORFFCQndNQUFJQUFnQldzaUFUWUNBRUhNd0FCQnpNQUFLQUlBSWdBZ0JXb2lBallDQUNBQ0lBRkJBWEkyQWdRZ0FDQUZRUU55TmdJRUlBQkJDR29oQUF3REMwR3d3QUJCTURZQ0FFRUFJUUFNQWdzQ1FDQUlSUTBBQWtBZ0JDZ0NIQ0lBUVFKMFFlVENBR29pQXlnQ0FDQUVSZ1JBSUFNZ0FUWUNBQ0FCRFFGQnVNQUFJQWRCZmlBQWQzRWlCellDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQVJHRzJvZ0FUWUNBQ0FCUlEwQkN5QUJJQWcyQWhnZ0JDZ0NFQ0lBQkVBZ0FTQUFOZ0lRSUFBZ0FUWUNHQXNnQkNnQ0ZDSUFSUTBBSUFFZ0FEWUNGQ0FBSUFFMkFoZ0xBa0FnQWtFUFRRUkFJQVFnQWlBRmFpSUFRUU55TmdJRUlBQWdCR29pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQVFnQlVFRGNqWUNCQ0FFSUFWcUlnTWdBa0VCY2pZQ0JDQUNJQU5xSUFJMkFnQWdBa0gvQVUwRVFDQUNRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQUVMSUFNQ2YwRUFJQUpCQ0hZaUFFVU5BQnBCSHlBQ1FmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnVWdCVUdBZ0E5cVFSQjJRUUp4SWdWMFFROTJJQUFnQVhJZ0JYSnJJZ0JCQVhRZ0FpQUFRUlZxZGtFQmNYSkJIR29MSWdBMkFod2dBMElBTndJUUlBQkJBblJCNU1JQWFpRUJBa0FDUUNBSFFRRWdBSFFpQlhGRkJFQkJ1TUFBSUFVZ0IzSTJBZ0FnQVNBRE5nSUFEQUVMSUFKQkFFRVpJQUJCQVhacklBQkJIMFliZENFQUlBRW9BZ0FoQlFOQUlBVWlBU2dDQkVGNGNTQUNSZzBDSUFCQkhYWWhCU0FBUVFGMElRQWdBU0FGUVFSeGFpSUdLQUlRSWdVTkFBc2dCaUFETmdJUUN5QURJQUUyQWhnZ0F5QUROZ0lNSUFNZ0F6WUNDQXdCQ3lBQktBSUlJZ0FnQXpZQ0RDQUJJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FUWUNEQ0FESUFBMkFnZ0xJQVJCQ0dvaEFBd0JDd0pBSUFsRkRRQUNRQ0FCS0FJY0lnQkJBblJCNU1JQWFpSUNLQUlBSUFGR0JFQWdBaUFFTmdJQUlBUU5BVUc0d0FBZ0NrRitJQUIzY1RZQ0FBd0NDeUFKUVJCQkZDQUpLQUlRSUFGR0cyb2dCRFlDQUNBRVJRMEJDeUFFSUFrMkFoZ2dBU2dDRUNJQUJFQWdCQ0FBTmdJUUlBQWdCRFlDR0FzZ0FTZ0NGQ0lBUlEwQUlBUWdBRFlDRkNBQUlBUTJBaGdMQWtBZ0EwRVBUUVJBSUFFZ0F5QUZhaUlBUVFOeU5nSUVJQUFnQVdvaUFDQUFLQUlFUVFGeU5nSUVEQUVMSUFFZ0JVRURjallDQkNBQklBVnFJZ1FnQTBFQmNqWUNCQ0FESUFScUlBTTJBZ0FnQ0FSQUlBaEJBM1lpQlVFRGRFSGN3QUJxSVFCQnlNQUFLQUlBSVFJQ2YwRUJJQVYwSWdVZ0JuRkZCRUJCdE1BQUlBVWdCbkkyQWdBZ0FBd0JDeUFBS0FJSUN5RUZJQUFnQWpZQ0NDQUZJQUkyQWd3Z0FpQUFOZ0lNSUFJZ0JUWUNDQXRCeU1BQUlBUTJBZ0JCdk1BQUlBTTJBZ0FMSUFGQkNHb2hBQXNnQzBFUWFpUUFJQUFMUkFFQmZ5QUFJQUFvQWhBZ0FXb2lBVFlDRUNBQUlBRkJCM0UyQWdoQmZ5RUNJQUVnQUNnQ0RFRURkRTBFZnlBQUlBQW9BZ0FnQVVFRGRtbzJBZ1JCQUFWQmZ3c0w1UWNCQ0g4Z0FDQUVRUUFnQm1zZ0FpQUNJQVpxUVFCSUd5SUNJQUlnQkVvYklnSnFJQUFnQWtFQVNoc2lDU0FGUVFBZ0Iyc2dBeUFESUFkcVFRQklHeUlBSUFBZ0JVb2JJZ0FnQkd4cUlBa2dBRUVBU2hzaEF5QUhRUUFnQUdzZ0FFRWZkWEVpQ1dzZ0FDQUhhaUlBSUFWcklneEJBQ0FBSUFWS0d5SVBheUVMSUFaQkFDQUNheUlPSUFKQkgzVnhJZzFySUFJZ0Jtb2lBQ0FFYTBFQUlBQWdCRW9pQlJzaUNtc2hBQUpBSUFKQkFFZ2dCWElpRUVVRVFDQUpCRUFEUUNBQklBTWdBQkFWSUFocUlRRWdDVUYvYWlJSkRRQUxDeUFMUlEwQkEwQWdBU0FESUFBUUZTQUlhaUVCSUFNZ0JHb2hBeUFMUVg5cUlnc05BQXNNQVFzQ1FDQUpSUTBBSUExRkJFQURRQ0FBSVFjZ0FTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQVNBSWFpRUJJQWxCZjJvaUNRMEFEQUlBQ3dBTElBRWdEbW9oQmdOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0JpRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQmlBSWFpRUdJQUVnQ0dvaEFTQUpRWDlxSWdrTkFBc0xJQXRGRFFBZ0RVVUVRQU5BSUFBaEJ5QUJJUUlnQXlFRklBQUVRQU5BSUFJZ0JTMEFBRG9BQUNBQ1FRRnFJUUlnQlVFQmFpRUZJQWRCZjJvaUJ3MEFDd3NnQ2dSQUlBSWdCVUYvYWkwQUFDQUtFQWNhQ3lBQklBaHFJUUVnQXlBRWFpRURJQXRCZjJvaUN3MEFEQUlBQ3dBTElBRWdEbW9oQ1FOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0NTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQ0NBSmFpRUpJQUVnQ0dvaEFTQURJQVJxSVFNZ0MwRi9haUlMRFFBTEN3SkFJQTlGRFFBZ0F5QUVheUVESUJCRkJFQURRQ0FCSUFNZ0FCQVZJQWhxSVFFZ0RFRi9haUlNRFFBTUFnQUxBQXNnRFVVRVFBTkFJQU1oQWlBQklRVWdBQ0VISUFBRVFBTkFJQVVnQWkwQUFEb0FBQ0FGUVFGcUlRVWdBa0VCYWlFQ0lBZEJmMm9pQncwQUN3c2dDZ1JBSUFVZ0FrRi9haTBBQUNBS0VBY2FDeUFCSUFocUlRRWdERUYvYWlJTURRQU1BZ0FMQUFzZ0FTQU9haUVKQTBBZ0FTQURMUUFBSUEwUUJ5RUJJQUFoQnlBSklRSWdBeUVGSUFBRVFBTkFJQUlnQlMwQUFEb0FBQ0FDUVFGcUlRSWdCVUVCYWlFRklBZEJmMm9pQncwQUN3c2dDZ1JBSUFJZ0JVRi9haTBBQUNBS0VBY2FDeUFJSUFscUlRa2dBU0FJYWlFQklBeEJmMm9pREEwQUN3c0w5QUlCQTM4Z0FVRURkRUh3Tm1vaUF5Z0NBQ0VGSUFNdEFBUWhBeUFCUVFOMFFiQTFhaUlCTFFBRUlRUUNRQ0FCS0FJQVFRUkdCRUFnQWlBRVFRRjBhaTRCQUNFQklBVkJCRVlFUUNBQklBSWdBMEVCZEdvdUFRQnFRUUZxUVFGMUR3c0NmeUFBS0FMTUFTSUNCRUFnQUNnQ0JDQUNLQUlFUmd3QkMwRUFDMFVOQVNBQklBQW9Bc3dCSUFOQkFYUnFMZ0VjYWtFQmFrRUJkUThMSUFWQkJFWUVRQ0FDSUFOQkFYUnFMZ0VBSVFFQ2Z5QUFLQUxJQVNJQ0JFQWdBQ2dDQkNBQ0tBSUVSZ3dCQzBFQUMwVU5BU0FCSUFBb0FzZ0JJQVJCQVhScUxnRWNha0VCYWtFQmRROExBbjhDZnlBQUtBTElBU0lCQkVBZ0FDZ0NCQ0FCS0FJRVJnd0JDMEVBQzBVRVFFRUFJUUpCQUF3QkMwRUJJUUlnQUNnQ3lBRWdCRUVCZEdvdUFSd0xJUUVDZnlBQUtBTE1BU0lFQkVBZ0FDZ0NCQ0FFS0FJRVJnd0JDMEVBQzBVTkFDQUFLQUxNQVNBRFFRRjBhaTRCSENFQUlBSkZCRUFnQUE4TElBQWdBV3BCQVdwQkFYVWhBUXNnQVF1SkJ3RUhmeUFESUFWcUlnMGdBUzRCQUNJTVFRSjFhaUVESUFRZ0Jtb2lEaUFCTGdFQ0lnOUJBblZxSVFRZ0FpZ0NDRUVFZENFSklBSW9BZ1JCQkhRaENpQUFJQVpCQkhScUlBVnFJUXNDUUNBTVFRTnhRUVIwSUE5QkEzRkJBblJ5UWRBN2FpZ0NBQ0lNUVE1TkJFQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnREVFQmF3NE9BUUlEQkFVR0J3Z0pDZ3NNRFE0QUN5QUNLQUlBSUFzZ0F5QUVJQW9nQ1NBSElBaEJFQkFNREE4TElBSW9BZ0FnQ3lBRElBUkJmbW9nQ2lBSklBY2dDRUVBRUNRTURnc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJRUVjTURRc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJUVFFUUpBd01DeUFDS0FJQUlBc2dBMEYrYWlBRUlBb2dDU0FISUFoQkFCQWpEQXNMSUFJb0FnQWdDeUFEUVg1cUlBUkJmbW9nQ2lBSklBY2dDRUVBRUJvTUNnc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRQVFJUXdKQ3lBQ0tBSUFJQXNnQTBGK2FpQUVRWDVxSUFvZ0NTQUhJQWhCQWhBYURBZ0xJQUlvQWdBZ0N5QURRWDVxSUFRZ0NpQUpJQWNnQ0JCR0RBY0xJQUlvQWdBZ0N5QURRWDVxSUFSQmZtb2dDaUFKSUFjZ0NFRUFFQ0lNQmdzZ0FpZ0NBQ0FMSUFOQmZtb2dCRUYrYWlBS0lBa2dCeUFJRUVVTUJRc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRRVFJZ3dFQ3lBQ0tBSUFJQXNnQTBGK2FpQUVJQW9nQ1NBSElBaEJBUkFqREFNTElBSW9BZ0FnQ3lBRFFYNXFJQVJCZm1vZ0NpQUpJQWNnQ0VFQkVCb01BZ3NnQWlnQ0FDQUxJQU5CZm1vZ0JFRithaUFLSUFrZ0J5QUlRUUVRSVF3QkN5QUNLQUlBSUFzZ0EwRithaUFFUVg1cUlBb2dDU0FISUFoQkF4QWFDeUFOUVFGMklBRXVBUUFpQ1VFRGRXb2hBeUFPUVFGMklBRXVBUUlpQVVFRGRXb2hCQ0FDS0FJQUlBSW9BZ1FpQ2lBQ0tBSUlJZ3RzUVFoMGFpRUNJQUFnQmtFQ2RFRjRjV29nQlVFQmRtcEJnQUpxSVFVZ0NFRUJkaUVHSUFkQkFYWWhCeUFCUVFkeElRZ2dDMEVEZENFQUlBcEJBM1FoQVFKQUlBbEJCM0VpQ1VVTkFDQUlSUTBBSUFJZ0JTQURJQVFnQVNBQUlBa2dDQ0FISUFZUVNBOExJQWtFUUNBQ0lBVWdBeUFFSUFFZ0FDQUpJQWNnQmhCTER3c2dDQVJBSUFJZ0JTQURJQVFnQVNBQUlBZ2dCeUFHRUVvUEN5QUNJQVVnQXlBRUlBRWdBQ0FISUFaQkNCQU1JQUlnQUNBQmJHb2dCVUZBYXlBRElBUWdBU0FBSUFjZ0JrRUlFQXdMeHdFQkJIOGdBQ2dDQkNFQ0FrQWdBQ2dDREVFRGRDQUFLQUlRYXlJRFFTQk9CRUFnQWlnQUFDSUJRUmgwSUFGQkNIUkJnSUQ4QjNGeUlBRkJDSFpCZ1A0RGNTQUJRUmgyY25JaEFTQUFLQUlJSWdCRkRRRWdBU0FBZENBQ0xRQUVRUWdnQUd0MmNnOExJQU5CQVVnRVFFRUFEd3NnQWkwQUFDQUFLQUlJSWdCQkdHb2lCSFFoQVNBQUlBTnFRWGhxSWdCQkFVZ05BQU5BSUFJdEFBRWdCRUY0YWlJRWRDQUJjaUVCSUFCQkNFb2hBeUFDUVFGcUlRSWdBRUY0YWlFQUlBTU5BQXNMSUFFTGpBUUJCMzhDUUNBQVFYOXFJZ2d0QUFBaUJTQUFMUUFBSWdacklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJRVR3MEFJQUJCZm1vdEFBQWlCQ0FGYXlJSElBZEJIM1VpQjJvZ0IzTWdBaWdDQ0NJSlR3MEFJQUF0QUFFaUJ5QUdheUlLSUFwQkgzVWlDbW9nQ25NZ0NVOE5BQ0FCUVFOTkJFQWdDQ0FGSUFFZ0FpZ0NBR3BCZjJvdEFBQWlDRUYvY3lJSklBaEJBV29pQ0NBR0lBVnJRUUowSUFkcklBUnFRUVJxUVFOMUlnVWdCU0FJU2hzZ0JTQUpTQnNpQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFGYTBHd0xtb3RBQUE2QUFBTUFRc2dDQ0FGSUFkcUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFBZ0JpQUhRUUYwYWlBRWFrRUNha0VDZGpvQUFBc0NRQ0FBSUFOcUlnQkJmMm9pQnkwQUFDSURJQUF0QUFBaUJXc2lCaUFHUVI5MUlnWnFJQVp6SUFJb0FnUlBEUUFnQUVGK2FpMEFBQ0lHSUFOcklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJSUlnaFBEUUFnQUMwQUFTSUVJQVZySWdrZ0NVRWZkU0lKYWlBSmN5QUlUdzBBSUFGQkEwMEVRQ0FISUFFZ0FpZ0NBR3BCZjJvdEFBQWlBVUYvY3lJQ0lBRkJBV29pQnlBRklBTnJRUUowSUFScklBWnFRUVJxUVFOMUlnRWdBU0FIU2hzZ0FTQUNTQnNpQVNBRGFrR3dMbW90QUFBNkFBQWdBQ0FGSUFGclFiQXVhaTBBQURvQUFBOExJQWNnQXlBRWFpQUdRUUYwYWtFQ2FrRUNkam9BQUNBQUlBVWdCRUVCZEdvZ0JtcEJBbXBCQW5ZNkFBQUxDMGNBQWtBZ0FVRUVUUVJBQWtBQ1FBSkFBa0FnQVVFQmF3NEVBUUlEQlFBTElBQW9Bc2dCRHdzZ0FDZ0N6QUVQQ3lBQUtBTFFBUThMSUFBb0F0UUJEd3RCQUNFQUN5QUFDNlVEQVF0L1FRQWdBMnNpQzBFQmRDRUVJQUVnQWlnQ0FHcEJmMm90QUFBaUFVRUJhaUVKSUFGQmYzTWhDZ0pBSUFBZ0Eyc2lCeTBBQUNJRklBQXRBQUFpQm1zaUFTQUJRUjkxSWdGcUlBRnpJQUlvQWdRaUFVOE5BQ0FBSUFScUxRQUFJZzBnQldzaUNDQUlRUjkxSWdocUlBaHpJQUlvQWdnaUNFOE5BQ0FBSUFOcUxRQUFJZzRnQm1zaURDQU1RUjkxSWd4cUlBeHpJQWhQRFFBZ0J5QUtJQWtnQmlBRmEwRUNkQ0FPYXlBTmFrRUVha0VEZFNJQklBRWdDVW9iSUFFZ0NrZ2JJZ0VnQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFCYTBHd0xtb3RBQUE2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJBV29pQlNBTGFpSUxMUUFBSWdZZ0FDMEFBU0lBYXlJSElBZEJIM1VpQjJvZ0IzTWdBVThOQUNBRUlBVnFMUUFBSWdFZ0Jtc2lCQ0FFUVI5MUlnUnFJQVJ6SUFJb0FnZ2lBazhOQUNBRElBVnFMUUFBSWdNZ0FHc2lCQ0FFUVI5MUlnUnFJQVJ6SUFKUERRQWdDeUFLSUFrZ0FDQUdhMEVDZENBRGF5QUJha0VFYWtFRGRTSUJJQUVnQ1VvYklBRWdDa2diSWdFZ0JtcEJzQzVxTFFBQU9nQUFJQVVnQUNBQmEwR3dMbW90QUFBNkFBQUxDMFFCQW44L0FDRUJBa0JCc01RQUtBSUFJZ0lnQUVFRGFrRjhjV29pQUNBQlFSQjBUUTBBSUFBUUFRMEFRYkRBQUVFd05nSUFRWDhQQzBHd3hBQWdBRFlDQUNBQ0N6UUJBWDhDUUNBQlFSQkxEUUFnQUNnQ0JDQUJRUUowYWlnQ0FDSUFSUTBBSUFBb0FoUkJBa2tOQUNBQUtBSUFJUUlMSUFJTGdnUUJBMzhnQWtHQUJFOEVRQ0FBSUFFZ0FoQUFHaUFBRHdzZ0FDQUNhaUVEQWtBZ0FDQUJjMEVEY1VVRVFBSkFJQUpCQVVnRVFDQUFJUUlNQVFzZ0FFRURjVVVFUUNBQUlRSU1BUXNnQUNFQ0EwQWdBaUFCTFFBQU9nQUFJQUZCQVdvaEFTQUNRUUZxSWdJZ0EwOE5BU0FDUVFOeERRQUxDd0pBSUFOQmZIRWlCRUhBQUVrTkFDQUNJQVJCUUdvaUJVc05BQU5BSUFJZ0FTZ0NBRFlDQUNBQ0lBRW9BZ1EyQWdRZ0FpQUJLQUlJTmdJSUlBSWdBU2dDRERZQ0RDQUNJQUVvQWhBMkFoQWdBaUFCS0FJVU5nSVVJQUlnQVNnQ0dEWUNHQ0FDSUFFb0FodzJBaHdnQWlBQktBSWdOZ0lnSUFJZ0FTZ0NKRFlDSkNBQ0lBRW9BaWcyQWlnZ0FpQUJLQUlzTmdJc0lBSWdBU2dDTURZQ01DQUNJQUVvQWpRMkFqUWdBaUFCS0FJNE5nSTRJQUlnQVNnQ1BEWUNQQ0FCUVVCcklRRWdBa0ZBYXlJQ0lBVk5EUUFMQ3lBQ0lBUlBEUUVEUUNBQ0lBRW9BZ0EyQWdBZ0FVRUVhaUVCSUFKQkJHb2lBaUFFU1EwQUN3d0JDeUFEUVFSSkJFQWdBQ0VDREFFTElBTkJmR29pQkNBQVNRUkFJQUFoQWd3QkN5QUFJUUlEUUNBQ0lBRXRBQUE2QUFBZ0FpQUJMUUFCT2dBQklBSWdBUzBBQWpvQUFpQUNJQUV0QUFNNkFBTWdBVUVFYWlFQklBSkJCR29pQWlBRVRRMEFDd3NnQWlBRFNRUkFBMEFnQWlBQkxRQUFPZ0FBSUFGQkFXb2hBU0FDUVFGcUlnSWdBMGNOQUFzTElBQUx3UmdCSUg4akFFSFFBMnNpQmlRQUlBRW9BZ2doRkNBQklBRW9BZ1FpQ2lBQ2JDSWFJQU5xRUIwZ0FTZ0NBQ0VKSUFCQkFEWUNDQ0FBUWlnM0FoUWdBRUlBTndJTUlBQkJCallDQUNBRFFRUjBJUWNDUUFKQUFrQWdCRUYrYWlJRVFRVkxEUUFDUUNBRVFRRnJEZ1FCQVFFQkFBc01BUXNnQmtFQU5nSU1JQVlnRkRZQ0dDQUdJQW8yQWhRZ0JpQUZOZ0lRSUFVRVFDQUdRZEFBYWlBR1FReHFJQVpCRUdvZ0J5QUNRUVIwUVFCQkFFRVFRUkFRRGd3Q0N3c2dCa0hRQUdwQkFFR0FBeEFIR2lBSklCcEJDSFJxSUFkcUlRd2dCa0lBTndOSUlBWkJRR3RDQURjREFDQUdRZ0EzQXpnZ0JrSUFOd013SUFaQ0FEY0RLQ0FHUWdBM0F5QWdCa0lBTndNWUlBWkNBRGNERUVFQUlRa0NmMEVBSUFKRkRRQWFRUUFnQUVFQUlBcHJRZGdCYkdvb0FzUUJSUTBBR2lBR0lBd2dDa0VFZEdzaUJDMEFCU0FFTFFBRWFpQUVMUUFHYWlBRUxRQUhhaUlYSUFRdEFBTWdCQzBBQWlBRUxRQUJJQVF0QUFCcWFtb2lGbW9pQlNBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSWFtcHFJaEpySUFRdEFBOGdCQzBBRGlBRUxRQU5JQVF0QUF4cWFtb2lFMnNpQ0RZQ0ZDQUdJQVVnRW1vZ0Uyb2lDVFlDRUVFQkN5RUZBbjhDUUNBQ0lCUkJmMnBIQkVBZ0FDQUtRZGdCYkdvb0FzUUJEUUVMSUFVTUFRc2dCaUFNSUFwQkNIUnFJZ0l0QUFVZ0FpMEFCR29nQWkwQUJtb2dBaTBBQjJvaUhpQUNMUUFESUFJdEFBSWdBaTBBQVNBQ0xRQUFhbXBxSWg5cUlnUWdBaTBBQ3lBQ0xRQUtJQUl0QUFrZ0FpMEFDR3BxYWlJWWF5QUNMUUFQSUFJdEFBNGdBaTBBRFNBQ0xRQU1hbXBxSWhscklBaHFJZ2cyQWhRZ0JpQUVJQmhxSUFscUlCbHFJZ2syQWhCQkFTRVFJQVZCQVdvTElRZEJBQ0VFQW44Q1FDQURSUTBBSUFCQmJHb29BZ0JGRFFBZ0JpQU1RWDlxSWdJZ0NrRUdkQ0lPYWlJRUlBcEJCSFFpQzJvdEFBQWdCQzBBQUdvZ0JDQUtRUVYwSWc5cUxRQUFhaUFFSUFwQk1Hd2lEV290QUFCcUloc2dBaUFOYWkwQUFDQUNJQTlxTFFBQUlBSWdDMm90QUFBZ0FpMEFBR3BxYWlJY2FpSVJJQVFnRG1vaUFpQUxhaTBBQUNBQ0xRQUFhaUFDSUE5cUxRQUFhaUFDSUExcUxRQUFhaUlWYXlBQ0lBNXFJZ0lnQzJvdEFBQWdBaTBBQUdvZ0FpQVBhaTBBQUdvZ0FpQU5haTBBQUdvaUQyc2lCRFlDSUNBR0lCRWdGV29nQ1dvZ0Qyb2lDVFlDRUNBSFFRRnFJUXRCQVF3QkN5QUhJUXRCQUFzaEFnSkFBa0FDUUFKQUFrQUNRQ0FESUFwQmYycEhCRUFnQUNnQ25BTU5BUXRCQUNFT0lBSkJBRWNoRVNBSERRRU1BZ3NnQmlBRUlBeEJFR29pQkNBS1FRWjBJaDFxSWdBZ0NrRUVkQ0lOYWkwQUFDQUFMUUFBYWlBQUlBcEJCWFFpRG1vdEFBQnFJQUFnQ2tFd2JDSVJhaTBBQUdvaUlDQUVJQkZxTFFBQUlBUWdEbW90QUFBZ0JDQU5haTBBQUNBTUxRQVFhbXBxSWlGcUlpSWdBQ0FkYWlJQUlBMXFMUUFBSUFBdEFBQnFJQUFnRG1vdEFBQnFJQUFnRVdvdEFBQnFJZ3hySUFBZ0hXb2lBQ0FOYWkwQUFDQUFMUUFBYWlBQUlBNXFMUUFBYWlBQUlCRnFMUUFBYWlJTmEyb2lCRFlDSUNBR0lBd2dJbW9nQ1dvZ0RXb2lDVFlDRUNBQ1FRQkhJUkZCQVNFT0lBSkJBV29oQUNBTFFRRnFJUXNDUUNBSERRQWdBa1VOQUNBR0lCc2dIR29nRldvZ0Qyb2dJV3NnSUdzZ0RHc2dEV3RCQlhVaUNEWUNGQXdEQ3lBSFJRMENJQUFoQWdzZ0JpQUlJQWRCQTJwMUlnZzJBaFFMQWtBZ0VFVU5BQ0FGUlEwQUlBSU5BQ0FHSUJZZ0Yyb2dFbW9nRTJvZ0dXc2dHR3NnSG1zZ0gydEJCWFVpQkRZQ0lFRUJJUkJCQVNFTkRBTUxJQkJCQUVjaEVDQUZRUUJISVEwZ0FrVU5BZ3dCQ3lBUVFRQkhJUkFnQlVFQVJ5RU5JQUFoQWdzZ0JpQUVJQUpCQTJwMUlnUTJBaUFMSUFZQ2Z5QUxRWDlxSWdCQkFrMEVRQUpBQWtBQ1FDQUFRUUZyRGdJQkFnQUxJQWxCQkhZTUF3c2dDVUVGZGd3Q0N5QUpRUlZzUVFwMURBRUxJQWxCQm5ZTElnQTJBaEFDUUNBRUlBaHlSUVJBSUFZZ0FEWUNTQ0FHSUFBMkFrd2dCaUFBTmdKRUlBWWdBRFlDUUNBR0lBQTJBandnQmlBQU5nSTRJQVlnQURZQ05DQUdJQUEyQWpBZ0JpQUFOZ0lzSUFZZ0FEWUNLQ0FHSUFBMkFpUWdCaUFBTmdJZ0lBWWdBRFlDSENBR0lBQTJBaGdnQmlBQU5nSVVEQUVMSUFZZ0FDQUlhaUlGSUFSck5nSkFJQVlnQlNBRVFRRjFJZ0pyTmdJd0lBWWdBaUFGYWpZQ0lDQUdJQVFnQldvMkFoQWdCaUFBSUFocklnVWdCR3MyQWt3Z0JpQUZJQUpyTmdJOElBWWdBaUFGYWpZQ0xDQUdJQVFnQldvMkFod2dCaUFBSUFoQkFYVWlCMm9pQlNBRWF6WUNSQ0FHSUFVZ0FtczJBalFnQmlBQ0lBVnFOZ0lrSUFZZ0JDQUZhallDRkNBR0lBQWdCMnNpQUNBRWF6WUNTQ0FHSUFBZ0FtczJBamdnQmlBQUlBSnFOZ0lvSUFZZ0FDQUVhallDR0FzZ0JrSFFBR29oQ0NBR1FSQnFJUUJCQUNFRUEwQWdDQ0FBSUFSQkRIRnFLQUlBSWdKQi93RWdBa0gvQVVnYklnSkJBQ0FDUVFCS0d6b0FBQ0FBSUFCQkVHb2dCRUVCYWlJRVFUOXhHeUVBSUFoQkFXb2hDQ0FFUVlBQ1J3MEFDeUFCS0FJQUlBb2dGR3dpQUVFSWRHb2dHa0VHZEdvZ0EwRURkR29oQXlBS1FRUjBJUXdnQ2tFR2RDRWFJQUJCQm5RaEhVRUFJQXBCQTNRaUMyc2hJQ0FHUWRBQ2FpRWhJQVpCUUdzaElrRUFJUVVEUUNBR1FnQTNBMGdnSWtJQU53TUFJQVpDQURjRE9DQUdRZ0EzQXpBZ0JrSUFOd01vSUFaQ0FEY0RJQ0FHUWdBM0F4Z2dCa0lBTndNUVFRQWhDRUVBSVFSQkFDRUpJQTBFUUNBR0lBTWdJR29pQUMwQUF5QUFMUUFDYWlJWElBQXRBQUVnQUMwQUFHb2lGbW9pQWlBQUxRQUZJQUF0QUFScUloSnJJQUF0QUFjZ0FDMEFCbW9pRTJzaUNEWUNGQ0FHSUFJZ0Vtb2dFMm9pQkRZQ0VFRUJJUWtMSUJBRVFDQUdJQU1nR21vaUFDMEFBeUFBTFFBQ2FpSWVJQUF0QUFFZ0FDMEFBR29pSDJvaUFpQUFMUUFGSUFBdEFBUnFJaGhySUFBdEFBY2dBQzBBQm1vaUdXc2dDR29pQ0RZQ0ZDQUdJQUlnR0dvZ0JHb2dHV29pQkRZQ0VDQUpRUUZxSVFrTFFRQWhBQUovSUJGRkJFQWdDU0VIUVFBTUFRc2dCaUFEUVg5cUlnQWdER29pQWlBTGFpMEFBQ0FDTFFBQWFpSWJJQUFnQzJvdEFBQWdBQzBBQUdvaUhHb2lCeUFDSUF4cUlnQWdDMm90QUFBZ0FDMEFBR29pRldzZ0FDQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlnOXJJZ0EyQWlBZ0JpQUhJQlZxSUFScUlBOXFJZ1EyQWhBZ0NVRUJhaUVIUVFFTElRSUNRQ0FHQW44Q1FBSkFBa0FnRGtVRVFDQUpEUUVNQWdzZ0JpQUFJQU5CQ0dvaUNpQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlpTWdDaUFMYWkwQUFDQURMUUFJYWlJa2FpSWxJQUFnREdvaUFDQUxhaTBBQUNBQUxRQUFhaUlLYXlBQUlBeHFJZ0FnQzJvdEFBQWdBQzBBQUdvaUZHdHFJZ0EyQWlBZ0JpQUtJQ1ZxSUFScUlCUnFJZ1EyQWhBZ0FrRUJhaUVDSUFkQkFXb2hCeUFSUVFGeklBbEJBRWR5UlFSQUlBWWdHeUFjYWlBVmFpQVBhaUFrYXlBamF5QUtheUFVYTBFRWRTSUlOZ0lVREFNTElBbEZEUUlMSUFZZ0NDQUpRUUpxZFNJSU5nSVVDeUFXSUJkcUlCSnFJQk5xSUJscklCaHJJQjVySUI5clFRUjFJQkFnRFNBQ1JYRnhRUUZHRFFFYUlBSkZEUUlMSUFBZ0FrRUNhblVMSWdBMkFpQUxJQVlDZnlBSFFYOXFJZ0pCQWswRVFBSkFBa0FDUUNBQ1FRRnJEZ0lCQWdBTElBUkJBM1lNQXdzZ0JFRUVkZ3dDQ3lBRVFSVnNRUWwyREFFTElBUkJCWFlMSWdRMkFoQUNRQ0FBSUFoeVJRUkFJQVlnQkRZQ1NDQUdJQVEyQWt3Z0JpQUVOZ0pFSUFZZ0JEWUNRQ0FHSUFRMkFqd2dCaUFFTmdJNElBWWdCRFlDTkNBR0lBUTJBakFnQmlBRU5nSXNJQVlnQkRZQ0tDQUdJQVEyQWlRZ0JpQUVOZ0lnSUFZZ0JEWUNIQ0FHSUFRMkFoZ2dCaUFFTmdJVURBRUxJQVlnQkNBSWFpSUhJQUJyTmdKQUlBWWdCeUFBUVFGMUlnSnJOZ0l3SUFZZ0FpQUhhallDSUNBR0lBQWdCMm8yQWhBZ0JpQUVJQWhySWdjZ0FHczJBa3dnQmlBSElBSnJOZ0k4SUFZZ0FpQUhhallDTENBR0lBQWdCMm8yQWh3Z0JpQUVJQWhCQVhVaUNXb2lCeUFBYXpZQ1JDQUdJQWNnQW1zMkFqUWdCaUFDSUFkcU5nSWtJQVlnQUNBSGFqWUNGQ0FHSUFRZ0NXc2lCQ0FBYXpZQ1NDQUdJQVFnQW1zMkFqZ2dCaUFDSUFScU5nSW9JQVlnQUNBRWFqWUNHQXNnSVNBRlFRWjBhaUVJUVFBaEFDQUdRUkJxSVFRRFFDQUlJQVFnQUVFQmRFRU1jV29vQWdBaUFrSC9BU0FDUWY4QlNCc2lBa0VBSUFKQkFFb2JPZ0FBSUFRZ0JFRVFhaUFBUVFGcUlnQkJEM0ViSVFRZ0NFRUJhaUVJSUFCQndBQkhEUUFMSUFNZ0hXb2hBeUFGUVFGcUlnVkJBa2NOQUFzTElBRWdCa0hRQUdvUUd5QUdRZEFEYWlRQUN6WUFJQUlFUUNBQUlBRVFBZzhMUVFFaEFpQUJJQUJCQVJBRElnQTJBZ0FnQUVGL1J3Ui9JQUVnQUVFQmN6WUNBRUVBQlVFQkN3dk1Bd0VTZnlBRFFRRjBJUThnQTBGOWJDRVFRUUFnQTJzaUVVRUJkQ0VTSUFFZ0FpZ0NBR3BCZjJvdEFBQWlCMEVCYWlFVFFRQWdCMnNoQ2tFRUlRRURRQUpBSUFBZ0VXb2lGQzBBQUNJRklBQXRBQUFpQ0dzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdSUERRQWdBQ0FTYWlJTExRQUFJZ3dnQldzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdnaUJrOE5BQ0FBSUFOcUloVXRBQUFpRFNBSWF5SUVJQVJCSDNVaUJHb2dCSE1nQms4TkFDQUhJUVFnQUNBUWFpMEFBQ0lKSUFWcklnNGdEa0VmZFNJT2FpQU9jeUFHU1FSQUlBc2dEQ0FLSUFjZ0JTQUlha0VCYWtFQmRpQU1RUUYwYXlBSmFrRUJkU0lFSUFRZ0Iwb2JJQVFnQ2tnYmFqb0FBQ0FDS0FJSUlRWWdFeUVFQ3lBVUlBVUNmeUFBSUE5cUxRQUFJZ3NnQ0dzaUNTQUpRUjkxSWdscUlBbHpJQVpKQkVBZ0ZTQU5JQW9nQnlBRklBaHFRUUZxUVFGMklBMUJBWFJySUF0cVFRRjFJZ1lnQmlBSFNoc2dCaUFLU0J0cU9nQUFJQVJCQVdvaEJBdEJBQ0FFYXlJR0N5QUVJQWdnQld0QkFuUWdEV3NnREdwQkJHcEJBM1VpQlNBRklBUktHeUFGSUFaSUd5SUVha0d3TG1vdEFBQTZBQUFnQUNBSUlBUnJRYkF1YWkwQUFEb0FBQXNnQUVFQmFpRUFJQUZCZjJvaUFRMEFDd3Y3QmdFT2Z5QUNLQUlJSVFvZ0FpZ0NCQ0VQQWtBZ0FVRUVUd1JBSUE5QkFuWkJBbW9oRUVFRUlRSURRQUpBSUFCQmYyb2lCUzBBQUNJSElBQXRBQUFpQ0dzaUFTQUJRUjkxSWdGcUlBRnpJZzBnRDA4TkFDQUFRWDVxSWc0dEFBQWlBU0FIYXlJRUlBUkJIM1VpQkdvZ0JITWdDazhOQUNBQUxRQUJJZ2tnQ0dzaUJDQUVRUjkxSWdScUlBUnpJQXBQRFFBQ1FDQU5JQkJKQkVBZ0FDMEFBaUVMQW44Z0FFRjlhaUlOTFFBQUlnUWdCMnNpQmlBR1FSOTFJZ1pxSUFaeklBcEpCRUJCQXlFR0lBVWdDU0FISUFocUlBRnFJZ1ZCQVhScUlBUnFRUVJxUVFOMk9nQUFJQTRnQkNBRmFrRUNha0VDZGpvQUFDQUVRUU5zSVE0Z0JVRUVhaUVNSUFCQmZHb3RBQUFNQVFzZ0J5QUphaUVNUVFJaERrRUNJUVlnQlNFTklBRUxJUVFnRFNBTUlBNXFJQVJCQVhScUlBWjJPZ0FBSUFzZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFwUERRRWdBQ0FISUFscUlBaHFJZ1VnQzJwQkFtcEJBblk2QUFFZ0FDQUZJQXRCQTJ4cUlBQXRBQU5CQVhScVFRUnFRUU4yT2dBQ0lBQWdBU0FGUVFGMGFpQUxha0VFYWtFRGRqb0FBQXdDQ3lBRklBY2dDV29nQVVFQmRHcEJBbXBCQW5ZNkFBQUxJQUFnQVNBSWFpQUpRUUYwYWtFQ2FrRUNkam9BQUFzZ0FDQURhaUVBSUFKQmYyb2lBZzBBQ3d3QkN5QUJJQUlvQWdCcVFYOXFMUUFBSWdWQkFXb2hEVUVBSUFWcklRaEJCQ0VDQTBBQ1FDQUFRWDlxSWc0dEFBQWlCQ0FBTFFBQUlnZHJJZ0VnQVVFZmRTSUJhaUFCY3lBUFR3MEFJQUJCZm1vaURDMEFBQ0lKSUFScklnRWdBVUVmZFNJQmFpQUJjeUFLVHcwQUlBQXRBQUVpQ3lBSGF5SUJJQUZCSDNVaUFXb2dBWE1nQ2s4TkFDQUFMUUFDSVFZZ0JTRUJJQUJCZldvdEFBQWlFQ0FFYXlJUklCRkJIM1VpRVdvZ0VYTWdDa2tFUUNBTUlBa2dDQ0FGSUFRZ0IycEJBV3BCQVhZZ0NVRUJkR3NnRUdwQkFYVWlBU0FCSUFWS0d5QUJJQWhJRzJvNkFBQWdEU0VCQ3lBT0lBUUNmeUFHSUFkcklnd2dERUVmZFNJTWFpQU1jeUFLU1FSQUlBQWdDeUFJSUFVZ0JDQUhha0VCYWtFQmRpQUxRUUYwYXlBR2FrRUJkU0lHSUFZZ0JVb2JJQVlnQ0VnYmFqb0FBU0FCUVFGcUlRRUxRUUFnQVdzaUJnc2dBU0FKSUF0cklBY2dCR3RCQW5ScVFRUnFRUU4xSWdRZ0JDQUJTaHNnQkNBR1NCc2lBV3BCc0M1cUxRQUFPZ0FBSUFBZ0J5QUJhMEd3TG1vdEFBQTZBQUFMSUFBZ0Eyb2hBQ0FDUVg5cUlnSU5BQXNMQzlvSEFRMS9Jd0JCd0FOckloRWtBQ0FHUVFWcUlRa0NRQUpBSUFKQkFFZ05BQ0FEUVFCSURRQWdBaUFKYWlBRVN3MEFJQU1nQjJwQkJXb2dCVXNOQUNBRUlRa2dBeUVLREFFTElBQWdFU0FDSUFNZ0JDQUZJQWtnQjBFRmFpQUpFQXdnRVNFQVFRQWhBZ3NDUUNBSFJRMEFJQUFnQ1NBS2JDQUNhbW9oRTBFUUlBWnJJUlFDUUNBR1FRSjJJaElFUUNBSklBWnJJUlVnRXlBSklBaEJBWFpCQVhGQkFuSnNha0VGYWlFQ0lBY2hCQU5BSUFKQmYyb3RBQUFoQUNBQ1FYNXFMUUFBSVFNZ0FrRjlhaTBBQUNFRklBSkJmR290QUFBaEN5QUNRWHRxTFFBQUlRMGdFaUVQQTBBZ0FTQUNMUUFBSWdvZ0RTQUFJQXRxSWd4cklBTWdCV3BCRkd4cUlBeEJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQUFnQVNBQ0xRQUJJZ3dnQ3lBQUlBTnFRUlJzYWlBRklBcHFJZ3RySUF0QkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBRWdBU0FDTFFBQ0loQWdCU0FBSUFwcVFSUnNhaUFESUF4cUlnVnJJQVZCQW5ScmFrRVFha0VGZFVHd0xtb3RBQUE2QUFJZ0FTQUNMUUFESWc0Z0F5QUtJQXhxUVJSc2FpQUFJQkJxSWdOcklBTkJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQU1nQVVFRWFpRUJJQUpCQkdvaEFpQUFJUTBnQ2lFTElBd2hCU0FRSVFNZ0RpRUFJQTlCZjJvaUR3MEFDeUFCSUJScUlRRWdBaUFWYWlFQ0lBUkJmMm9pQkEwQUN3d0JDeUFIUVg5cUlCUnNJQVpySUFGcVFSQnFJUUVMSUFkQkFuWWlCRVVOQUVIQUFDQUdheUVRSUFsQkFYUWhDaUFKUVFKMElBWnJJUXRCQUNBSmF5SU1RUUYwSVJJZ0FTQUhRUVIwYXlFQ0lBa2dFMm9nQ0VFQmNXcEJBbW9pQUNBSlFRVnNhaUVCQTBBZ0JpSURCRUFEUUNBQ0lBQWdDbW90QUFBaUJTQUJJQXBxTFFBQUlBRWdDV290QUFBaURpQUJJQkpxTFFBQUlnZHFJZ2hySUFoQkFuUnJhaUFCTFFBQUlnMGdBU0FNYWkwQUFDSUlha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQUl0QURCcVFRRnFRUUYyT2dBd0lBSWdBQ0FKYWkwQUFDSVBJQTRnQnlBSWFrRVViR29nQlNBTmFpSU9heUFPUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFDQnFRUUZxUVFGMk9nQWdJQUlnQUMwQUFDSU9JQTBnQlNBSGFrRVViR29nQ0NBUGFpSU5heUFOUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFCQnFRUUZxUVFGMk9nQVFJQUlnQUNBTWFpMEFBQ0FJSUFVZ0QycEJGR3hxSUFjZ0Rtb2lCV3NnQlVFQ2RHdHFRUkJxUVFWMVFiQXVhaTBBQUNBQ0xRQUFha0VCYWtFQmRqb0FBQ0FBUVFGcUlRQWdBa0VCYWlFQ0lBRkJBV29oQVNBRFFYOXFJZ01OQUFzTElBSWdFR29oQWlBQklBdHFJUUVnQUNBTGFpRUFJQVJCZjJvaUJBMEFDd3NnRVVIQUEyb2tBQXUxQlFFRWZ5QUFLQUlVSVFNZ0FDZ0NFQ0VFSUFBb0FnUWhCU0FBS0FJTUlnSWdBU2tDQURjQ0FDQUNJQUVwQWdnM0FnZ2dBaUFGUVFSMElnQnFJZ0lnQVNrQ0VEY0NBQ0FDSUFFcEFoZzNBZ2dnQUNBQ2FpSUNJQUVwQWlBM0FnQWdBaUFCS1FJb053SUlJQUFnQW1vaUFpQUJLUUl3TndJQUlBSWdBU2tDT0RjQ0NDQUFJQUpxSWdJZ0FTa0NRRGNDQUNBQ0lBRXBBa2czQWdnZ0FDQUNhaUlDSUFFcEFsQTNBZ0FnQWlBQktRSllOd0lJSUFBZ0Ftb2lBaUFCS1FKZ053SUFJQUlnQVNrQ2FEY0NDQ0FBSUFKcUlnSWdBU2tDY0RjQ0FDQUNJQUVwQW5nM0FnZ2dBQ0FDYWlJQ0lBRXBBb0FCTndJQUlBSWdBU2tDaUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcEFCTndJQUlBSWdBU2tDbUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcUFCTndJQUlBSWdBU2tDcUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBckFCTndJQUlBSWdBU2tDdUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBc0FCTndJQUlBSWdBU2tDeUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdEFCTndJQUlBSWdBU2tDMkFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdUFCTndJQUlBSWdBU2tDNkFFM0FnZ2dBQ0FDYWlJQUlBRXBBdkFCTndJQUlBQWdBU2tDK0FFM0FnZ2dCQ0FCS1FLQUFqY0NBQ0FFSUFWQkEzUWlBR29pQkNBQktRS0lBamNDQUNBQUlBUnFJZ1FnQVNrQ2tBSTNBZ0FnQUNBRWFpSUVJQUVwQXBnQ053SUFJQUFnQkdvaUJDQUJLUUtnQWpjQ0FDQUFJQVJxSWdRZ0FTa0NxQUkzQWdBZ0FDQUVhaUlFSUFFcEFyQUNOd0lBSUFBZ0JHb2dBU2tDdUFJM0FnQWdBeUFCS1FMQUFqY0NBQ0FBSUFOcUlnTWdBU2tDeUFJM0FnQWdBQ0FEYWlJRElBRXBBdEFDTndJQUlBQWdBMm9pQXlBQktRTFlBamNDQUNBQUlBTnFJZ01nQVNrQzRBSTNBZ0FnQUNBRGFpSURJQUVwQXVnQ053SUFJQUFnQTJvaUF5QUJLUUx3QWpjQ0FDQUFJQU5xSUFFcEF2Z0NOd0lBQytnQ0FRVi9Ba0FnQUNBQkVBSWlBdzBBUVFFaEF5QUJJQUVvQWdCQkFXb2lBallDQUNBQ1FTQkxEUUFnQUVFRUVBTWlBa0YvUmcwQUlBRWdBallDQkNBQVFRUVFBeUlDUVg5R0RRQWdBU0FDTmdJSUlBRW9BZ0FFUUFOQUlBQWdBU0FGUVFKMGFpSUNJZ1JCREdvUUFpSUREUUpCQVNFRElBUW9BZ3dpQmtGL1JnMENJQVFnQmtFQmFpSUROZ0lNSUFRZ0F5QUJLQUlFUVFacWREWUNEQ0FBSUFKQmpBRnFFQUlpQXcwQ1FRRWhBeUFDS0FLTUFTSUVRWDlHRFFJZ0FpQUVRUUZxSWdRMkFvd0JJQUlnQkNBQktBSUlRUVJxZERZQ2pBRWdBRUVCRUFNaUJFRi9SZzBDSUFJZ0JFRUJSallDakFJZ0JVRUJhaUlGSUFFb0FnQkpEUUFMQ3lBQVFRVVFBeUlDUVg5R0RRQWdBU0FDUVFGcU5nS01BeUFBUVFVUUF5SUNRWDlHRFFBZ0FTQUNRUUZxTmdLUUF5QUFRUVVRQXlJQ1FYOUdEUUFnQVNBQ1FRRnFOZ0tVQXlBQVFRVVFBeUlBUVg5R0RRQWdBU0FBTmdLWUEwRUFJUU1MSUFNTFd3RURmeUFBSUFBb0FnQWlCQ0FCSUFBb0FnUWlBbkFpQTBFRWRHb2dBU0FEYXlJQlFRaDBhallDRENBQUlBUWdBaUFBS0FJSWJDSUNRUWgwYWlBQlFRWjBhaUFEUVFOMGFpSUJOZ0lRSUFBZ0FTQUNRUVowYWpZQ0ZBdFZBUUovSUFFZ0FrRUJhaUlESUFNZ0FVa2JJUU1nQUNBQ1FRSjBhaWdDQUNFRUEwQUNRQ0FDUVFGcUlnSWdBVThFUUNBRElRSU1BUXNnQUNBQ1FRSjBhaWdDQUNBRVJ3MEJDd3RCQUNBQ0lBRWdBa1liQ3ljQUlBQkJDQ0FBS0FJSUlnQnJFQU5CZjBZRVFBOExRUUFnQUd0QkFuUkJ6RDlxS0FJQUdndDZBUUovSXdCQklHc2lBaVFBSUFJZ0FDZ0NFRFlDRUNBQ0lBQXBBZ2czQXdnZ0FpQUFLUUlBTndNQUFrQWdBaUFDUVJ4cUVBSWlBQTBBSUFJZ0FrRWNhaEFDSWdBTkFDQUNJQUpCSEdvUUFpSUFEUUJCQVNFQUlBSW9BaHdpQTBIL0FVc05BQ0FCSUFNMkFnQkJBQ0VBQ3lBQ1FTQnFKQUFnQUF2bkJ3RVNmeU1BUVlBT2F5SU1KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQTBFQVNBMEFJQUlnQ1dvZ0JFc05BQ0FESUFkcVFRVnFJQVZMRFFBZ0F5RUtEQUVMSUFBZ0RFSEFDbW9nQWlBRElBUWdCU0FKSUFkQkJXb2dDUkFNSUF4QndBcHFJUUFnQ1NFRVFRQWhBZ3NDUUNBSFFRSjJJaFJGRFFBZ0NVVU5BQ0FFUVFGMElSVkJBQ0FFYXlJV1FRRjBJUm9nQkVFQ2RDQUdhMEY3YWlFWElBQWdCQ0FLYkNBQ2Ftb2dCR29pQUNBRVFRVnNhaUVDSUF3Z0NVRUNkQ0lRYWlFRElBbEJBM1FoRFVFQUlBbHJRUUowSVE0Z0NVRURiRUVDZENFUEEwQWdDU0VGQTBBZ0F5QU5haUFBSUJWcUxRQUFJaEVnQWlBVmFpMEFBQ0FDSUFScUxRQUFJZ3NnQWlBYWFpMEFBQ0lTYWlJS2F5QUtRUUowYTJvZ0FpMEFBQ0lZSUFJZ0Ztb3RBQUFpRTJwQkZHeHFOZ0lBSUFNZ0VHb2dBQ0FFYWkwQUFDSVpJQXNnRWlBVGFrRVViR29nRVNBWWFpSUtheUFLUVFKMGEybzJBZ0FnQXlBQUxRQUFJZ3NnR0NBUklCSnFRUlJzYWlBVElCbHFJZ3BySUFwQkFuUnJhallDQUNBRElBNXFJQUFnRm1vdEFBQWdFeUFSSUJscVFSUnNhaUFMSUJKcUlncHJJQXBCQW5ScmFqWUNBQ0FBUVFGcUlRQWdBMEVFYWlFRElBSkJBV29oQWlBRlFYOXFJZ1VOQUFzZ0FpQVhhaUVDSUFBZ0Yyb2hBQ0FESUE5cUlRTWdGRUYvYWlJVURRQUxDeUFIQkVCQkVDQUdheUVRSUFaQkFuWWhDaUFNSUFoQkFuUnFRUWhxSVFBZ0RFRVVhaUVDQTBBZ0NnUkFJQUpCYkdvb0FnQWhCQ0FDUVhCcUtBSUFJUThnQWtGMGFpZ0NBQ0VOSUFKQmVHb29BZ0FoQlNBQ1FYeHFLQUlBSVFNZ0NpRUpBMEFnQVNBQ0tBSUFJZzRnQkNBRElBOXFJZ1JySUFVZ0RXcEJGR3hxSUFSQkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQUlBQW9BZ0JCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlvQWdRaUN5QVBJQU1nQldwQkZHeHFJQTBnRG1vaUJHc2dCRUVDZEd0cVFZQUVha0VLZFVHd0xtb3RBQUFnQUNnQ0JFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FCSUFFZ0FpZ0NDQ0lJSUEwZ0F5QU9ha0VVYkdvZ0JTQUxhaUlFYXlBRVFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlJUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBSWdBU0FDS0FJTUlnWWdCU0FMSUE1cVFSUnNhaUFESUFocUlnUnJJQVJCQW5ScmFrR0FCR3BCQ25WQnNDNXFMUUFBSUFBb0FneEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQXlBQlFRUnFJUUVnQUVFUWFpRUFJQUpCRUdvaEFpQURJUVFnRGlFUElBc2hEU0FJSVFVZ0JpRURJQWxCZjJvaUNRMEFDd3NnQVNBUWFpRUJJQUJCRkdvaEFDQUNRUlJxSVFJZ0IwRi9haUlIRFFBTEN5QU1RWUFPYWlRQUM5RUhBUXgvSXdCQmdBNXJJZzhrQUNBR1FRVnFJUWtDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSmFpQUVTdzBBSUFkQkJXb2lEaUFEYWlBRlN3MEFJQVFoQ1NBRElRb01BUXNnQUNBUFFjQUthaUFDSUFNZ0JDQUZJQWtnQjBFRmFpSU9JQWtRRENBUFFjQUthaUVBUVFBaEFnc0NRQ0FPUlEwQUlBWkJBbllpRWtVTkFDQUpJQVpySVJNZ0FDQUpJQXBzSUFKcWFrRUZhaUVDSUE4aEFBTkFJQUpCZjJvdEFBQWhDU0FDUVg1cUxRQUFJUU1nQWtGOWFpMEFBQ0VGSUFKQmZHb3RBQUFoQ2lBQ1FYdHFMUUFBSVF3Z0VpRU5BMEFnQUNBQ0xRQUFJZ1FnRENBSklBcHFJZ3RySUFNZ0JXcEJGR3hxSUF0QkFuUnJhallDQUNBQUlBSXRBQUVpQ3lBRElBbHFRUlJzSUFwcUlBUWdCV29pQ21zZ0NrRUNkR3RxTmdJRUlBQWdBaTBBQWlJUUlBUWdDV3BCRkd3Z0JXb2dBeUFMYWlJRmF5QUZRUUowYTJvMkFnZ2dBQ0FDTFFBREloUWdCQ0FMYWtFVWJDQURhaUFKSUJCcUlnTnJJQU5CQW5ScmFqWUNEQ0FBUVJCcUlRQWdBa0VFYWlFQ0lBa2hEQ0FFSVFvZ0N5RUZJQkFoQXlBVUlRa2dEVUYvYWlJTkRRQUxJQUlnRTJvaEFpQU9RWDlxSWc0TkFBc0xJQWRCQW5ZaUJ3UkFRY0FBSUFacklSUWdEeUFHUVFKMElnUnFJZ2tnQmtFVWJHb2hBaUFKSUFoQkFtb2dCbXhCQW5ScUlRQWdCa0VEYkVFQ2RDRUZRUUFnQm1zaURrRURkQ0VUSUFaQkEzUWhDQU5BSUFZaEF5QUdCRUFEUUNBQklBZ2dDV29vQWdBaUNpQUNJQWhxS0FJQUlBSWdCR29vQWdBaUVTQUNJQk5xS0FJQUlndHFJZ3hySUF4QkFuUnJhaUFDS0FJQUlnMGdBaUFPUVFKMEloQnFLQUlBSWd4cVFSUnNha0dBQkdwQkNuVkJzQzVxTFFBQUlBQWdDR29vQWdCQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FNQ0FCSUFRZ0NXb29BZ0FpRWlBUklBc2dER3BCRkd4cUlBb2dEV29pRVdzZ0VVRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQWdBQ0FFYWlnQ0FFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FnSUFFZ0NTZ0NBQ0lSSUEwZ0NpQUxha0VVYkdvZ0RDQVNhaUlOYXlBTlFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFCQWdBU0FKSUJCcUtBSUFJQXdnQ2lBU2FrRVViR29nQ3lBUmFpSUtheUFLUVFKMGEycEJnQVJxUVFwMVFiQXVhaTBBQUNBQUlCQnFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBQWdBRUVFYWlFQUlBbEJCR29oQ1NBQlFRRnFJUUVnQWtFRWFpRUNJQU5CZjJvaUF3MEFDd3NnQVNBVWFpRUJJQUFnQldvaEFDQUNJQVZxSVFJZ0JTQUphaUVKSUFkQmYyb2lCdzBBQ3dzZ0QwR0FEbW9rQUF1MEJnRUpmeU1BUWNBRGF5SU5KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQXlBSGFpQUZTdzBBSUFOQkFFZ05BQ0FDSUFscUlBUkxEUUFnQkNFSklBTWhDZ3dCQ3lBQUlBMGdBaUFESUFRZ0JTQUpJQWNnQ1JBTUlBMGhBRUVBSVFJTElBY0VRRUVRSUFacklSQWdDU0FHYXlFUklBWkJBblloRHlBQUlBa2dDbXdnQW1wcVFRVnFJUWtEUUFKQUlBOUZEUUFnQ1VGL2FpMEFBQ0VDSUFsQmZtb3RBQUFoQmlBSlFYMXFMUUFBSVFNZ0NVRjhhaTBBQUNFRklBbEJlMm90QUFBaENpQVBJZ0FoQ3lBSUJFQURRQ0FCSUFZZ0NTMEFBQ0lFSUFvZ0FpQUZhaUlLYXlBRElBWnFRUlJzYWlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlnQ1MwQUFTSUxJQVVnQWlBR2FrRVViR29nQXlBRWFpSUZheUFGUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQVNBQklBUWdDUzBBQWlJTUlBTWdBaUFFYWtFVWJHb2dCaUFMYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBaUFCSUFzZ0NTMEFBeUlPSUFZZ0JDQUxha0VVYkdvZ0FpQU1haUlEYXlBRFFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUF5QUJRUVJxSVFFZ0NVRUVhaUVKSUFJaENpQUVJUVVnQ3lFRElBd2hCaUFPSVFJZ0FFRi9haUlBRFFBTUFnQUxBQXNEUUNBQklBTWdDUzBBQUNJQUlBb2dBaUFGYWlJRWF5QURJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBQ0FCSUFZZ0NTMEFBU0lFSUFVZ0FpQUdha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFTQUJJQUlnQ1MwQUFpSU1JQU1nQUNBQ2FrRVViR29nQkNBR2FpSURheUFEUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQWlBQklBQWdDUzBBQXlJT0lBWWdBQ0FFYWtFVWJHb2dBaUFNYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBeUFCUVFScUlRRWdDVUVFYWlFSklBSWhDaUFBSVFVZ0JDRURJQXdoQmlBT0lRSWdDMEYvYWlJTERRQUxDeUFCSUJCcUlRRWdDU0FSYWlFSklBZEJmMm9pQncwQUN3c2dEVUhBQTJva0FBdkdCQUVMZnlNQVFjQURheUlOSkFBQ1FBSkFJQUpCQUVnTkFDQURRUUJJRFFBZ0FpQUdhaUFFU3cwQUlBTWdCMnBCQldvZ0JVc05BQ0FESVFrTUFRc2dBQ0FOSUFJZ0F5QUVJQVVnQmlBSFFRVnFJQVlRRENBTklRQWdCaUVFUVFBaEFnc2dCMEVDZGlJUUJFQkJ3QUFnQm1zaEVpQUVRUUYwSVFVZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVRJQUFnQkNBSmJDQUNhbW9nQkdvaUFDQUVRUVZzYWlFQ0lBQWdCQ0FJUVFKcWJHb2hCd05BSUFZaEF5QUdCRUFEUUNBQklBQWdCV290QUFBaUNDQUNJQVZxTFFBQUlBSWdCR290QUFBaUNpQUNJQk5xTFFBQUlnbHFJZ3RySUF0QkFuUnJhaUFDTFFBQUlnd2dBaUFQYWkwQUFDSUxha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQVVnQjJvdEFBQnFRUUZxUVFGMk9nQXdJQUVnQUNBRWFpMEFBQ0lSSUFvZ0NTQUxha0VVYkdvZ0NDQU1haUlLYXlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQUlBUWdCMm90QUFCcVFRRnFRUUYyT2dBZ0lBRWdBQzBBQUNJS0lBd2dDQ0FKYWtFVWJHb2dDeUFSYWlJTWF5QU1RUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFJQWN0QUFCcVFRRnFRUUYyT2dBUUlBRWdBQ0FQYWkwQUFDQUxJQWdnRVdwQkZHeHFJQWtnQ21vaUNHc2dDRUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBQ0FISUE5cUxRQUFha0VCYWtFQmRqb0FBQ0FIUVFGcUlRY2dBRUVCYWlFQUlBRkJBV29oQVNBQ1FRRnFJUUlnQTBGL2FpSUREUUFMQ3lBQklCSnFJUUVnQnlBT2FpRUhJQUlnRG1vaEFpQUFJQTVxSVFBZ0VFRi9haUlRRFFBTEN5QU5RY0FEYWlRQUM0OEhBUXgvSUFFb0FnZ2hDeUFCS0FJRUlRWUNRQUpBQWtBZ0FrRUZTdzBBSUFKQkFXc09CQUFBQUFBQkN5QUFLQUs0R2cwQURBRUxJQUJCeEFscUlRUURRQ0FFSUFNUUZDRUhJQU5CRGtzTkFTQURRUUZxSVFNZ0IwVU5BQXNMQWtBQ1FBSkFBa0FnQUNnQ21Ba2lDQVJBSUFBb0Fyd0pJUXBCQUNFRFFRQWhCQU5BSUFvZ0EwSFlBV3hxS0FMRUFVVUVRRUVBSUFSQkFXb2lCQ0FFSUFaR0lnVWJJUVFnQlNBSmFpRUpJQU5CQVdvaUF5QUlTUTBCQ3dzZ0F5QUlSdzBCQ3dKQUFrQWdBa0YrYWlJQ1FRVkxEUUFDUUNBQ1FRRnJEZ1FCQVFFQkFBc2dCMFVOQVNBQUtBSzRHa1VOQVF3REN5QUhEUUlMSUFFb0FnQkJnQUVnQmlBTGJFR0FBMndRQnhvTUFnc2dBQ2dDdkFrZ0JpQUpiRUhZQVd4cUlRZ2dCQVJBSUFRaEF3TkFJQWdnQTBGL2FpSURRZGdCYkdvaUNpQUJJQWtnQXlBQ0lBY1FGaUFLUVFFMkFzUUJJQUFnQUNnQ3RBbEJBV28yQXJRSklBTU5BQXNMSUFSQkFXb2lBeUFHU1FSQUEwQWdDQ0FEUWRnQmJHb2lCQ2dDeEFGRkJFQWdCQ0FCSUFrZ0F5QUNJQWNRRmlBRVFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpDeUFEUVFGcUlnTWdCa2NOQUFzTEFrQWdDVVVOQUNBR1JRMEFRUUFoQlNBSlFYOXFJZ3dnQm13aERTQU1SUVJBQTBBZ0FDZ0N2QWtnRFVIWUFXeHFJQVZCMkFGc2FpSUVJQUZCQUNBRklBSWdCeEFXSUFSQkFUWUN4QUVnQUNBQUtBSzBDVUVCYWpZQ3RBa2dCVUVCYWlJRklBWkhEUUFNQWdBTEFBc2dDVUYrYWlFSVFRQWdCbXRCMkFGc0lRNERRQ0FBS0FLOENTQU5RZGdCYkdvZ0JVSFlBV3hxSWdNZ0FTQU1JQVVnQWlBSEVCWWdBMEVCTmdMRUFTQUFJQUFvQXJRSlFRRnFOZ0swQ1NBSUlRUURRQ0FESUE1cUlnTWdBU0FFSWdvZ0JTQUNJQWNRRmlBRFFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpJQVJCZjJvaEJDQUtEUUFMSUFWQkFXb2lCU0FHUncwQUN3c2dDVUVCYWlJRklBdFBEUUlnQmtVTkFnTkFJQUFvQXJ3SklBVWdCbXhCMkFGc2FpRUlRUUFoQXdOQUlBZ2dBMEhZQVd4cUlnUW9Bc1FCUlFSQUlBUWdBU0FGSUFNZ0FpQUhFQllnQkVFQk5nTEVBU0FBSUFBb0FyUUpRUUZxTmdLMENRc2dBMEVCYWlJRElBWkhEUUFMSUFWQkFXb2lCU0FMUncwQUN3d0NDeUFCS0FJQUlBY2dCaUFMYkVHQUEyd1FGUm9MSUFBZ0FDZ0NtQWtpQVRZQ3RBa2dBVVVOQUNBQUtBSzhDU0VBUVFBaEF3TkFJQUFnQTBIWUFXeHFRUUUyQWdnZ0EwRUJhaUlESUFGSERRQUxDd3MyQVFKL0lBQW9BaWdpQWdSQUEwQWdBQ2dDQkNBQlFRSjBhaUFBS0FJQUlBRkJLR3hxTmdJQUlBRkJBV29pQVNBQ1J3MEFDd3NMOXdRQ0RIOEJma0VISVFVakFFRWdheUlJSVF3RFFDQUZJQUZKQkVBZ0FFRUFJQVZyUVNoc2FpRUtJQVVoQmdOQUlBQWdCa0VvYkdvaUFpZ0NDQ0VKSUFJcEFnQWhEaUFJSUFJcEFndzNBeGdnQWlnQ0dDRU5JQUlvQWhRaEN5QU1JQUlvQWlRMkFoQWdDQ0FDS1FJY053TUlBa0FnQmlJRElBVkpEUUFDUUNBTFJRUkFBMEFnQ2lBRFFTaHNJZ0pxSWdRb0FoUU5BaUFOUlEwQ0lBUW9BaGdOQWlBQUlBSnFJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3lBTFFYOXFRUUZOQkVBRFFBSi9Ba0FnQ2lBRFFTaHNJZ0pxSWdRb0FoUWlCMFVOQUNBSFFYOXFRUUZMRFFBZ0JDZ0NDQ0lISUFsS0RRUWdBQ0FDYWlJRUlBY2dDVWdOQVJvZ0JDRUNEQVVMSUFBZ0Ftb0xJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3dOQUlBb2dBMEVvYkNJQ2FpSUVLQUlVSWdjRVFDQUhRWDlxUVFKSkRRSWdCQ2dDQ0NBSlRBMENDeUFBSUFKcUlnUWdBQ0FESUFWcklnTkJLR3hxSWdJcEFnQTNBZ0FnQkNBQ0tRSWdOd0lnSUFRZ0Fpa0NHRGNDR0NBRUlBSXBBaEEzQWhBZ0JDQUNLUUlJTndJSUlBTWdCVThOQUFzTUFRc2dBQ0FEUVNoc2FpRUNDeUFDSUE0M0FnQWdBQ0FEUVNoc2FpSURJQWsyQWdnZ0NDa0RHQ0VPSUFNZ0RUWUNHQ0FESUFzMkFoUWdBeUFPTndJTUlBTWdDQ2tEQ0RjQ0hDQURJQXdvQWhBMkFpUWdCa0VCYWlJR0lBRkhEUUFMQ3lBRlFRRjJJZ1VOQUFzTHJRVUJBWDhDUUNBQUtBSUFJZ0VvQWhSRkRRQWdBVUVBTmdJVUlBRW9BaGdOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ1BFVU5BQ0FCUVFBMkFqd2dBVUZBYXlnQ0FBMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUprUlEwQUlBRkJBRFlDWkNBQktBSm9EUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQW93QlJRMEFJQUZCQURZQ2pBRWdBU2dDa0FFTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0N0QUZGRFFBZ0FVRUFOZ0swQVNBQktBSzRBUTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMY0FVVU5BQ0FCUVFBMkF0d0JJQUVvQXVBQkRRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9Bb1FDUlEwQUlBRkJBRFlDaEFJZ0FTZ0NpQUlOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ3JBSkZEUUFnQVVFQU5nS3NBaUFCS0FLd0FnMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUxVQWtVTkFDQUJRUUEyQXRRQ0lBRW9BdGdDRFFBZ0FDQUFLQUlzUVg5cU5nSXNDd0pBSUFFb0F2d0NSUTBBSUFGQkFEWUMvQUlnQVNnQ2dBTU5BQ0FBSUFBb0FpeEJmMm8yQWl3TEFrQWdBU2dDcEFORkRRQWdBVUVBTmdLa0F5QUJLQUtvQXcwQUlBQWdBQ2dDTEVGL2FqWUNMQXNDUUNBQktBTE1BMFVOQUNBQlFRQTJBc3dESUFFb0F0QUREUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQXZRRFJRMEFJQUZCQURZQzlBTWdBU2dDK0FNTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0NuQVJGRFFBZ0FVRUFOZ0tjQkNBQktBS2dCQTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMRUJFVU5BQ0FCUVFBMkFzUUVJQUVvQXNnRURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9BdXdFUlEwQUlBRkJBRFlDN0FRZ0FTZ0M4QVFOQUNBQUlBQW9BaXhCZjJvMkFpd0xBMEFnQUJCZVJRMEFDeUFBUVFBMkFqQWdBRUwvL3dNM0FpUUwzUTRCQ1g4Z0FpZ0NBQ0FBS0FJSUlnSW9BZ0JHQkVBZ0FFRUFOZ0kwSUFBb0FqZ2lDMFVoRFFKQUlBRkZCRUFnQWlBRE5nSU1JQUpCQURZQ0ZDQUNJQTAyQWhnZ0FpQUVOZ0lRSUFJZ0F6WUNDQ0FMRFFFZ0FDQUFLQUlzUVFGcU5nSXNEQUVMSUFVRVFDQUFRZ0EzQWhBZ0FCQW9Ba0FnQVNnQ0FFVUVRQ0FBS0FJNFJRMEJDeUFBUWdBM0FoQUxJQUFvQWdnaUFrRURRUUlnQVNnQ0JDSUJHellDRkNBQVFRQkIvLzhESUFFYk5nSWtJQUlnRFRZQ0dDQUNRUUEyQWhBZ0FrSUFOd0lJSUFCQ2dZQ0FnQkEzQWlnTUFRc0NRQUpBQWtBZ0FTZ0NDQVJBUVFBaEN3TkFJQUVnQzBFVWJHb2lDQ2dDRENJQ1FRWkxEUUlDUUFKQUFrQUNRQUpBQWtBQ1FDQUNRUUZyRGdZQUFRSURCQVVKQ3lBQUtBSVlJZ2xGRFFnZ0F5QUlLQUlRYXlFTUlBQW9BZ0FoQ2tFQUlRZ0RRQUpBSUFvZ0NFRW9iR29pQWlnQ0ZFRi9ha0VCVFFSQUlBSW9BZ2dnREVZTkFRc2dDRUVCYWlJSUlBbEhEUUVNQ2dzTElBaEJBRWdOQ0NBQ1FRQTJBaFFnQUNBQUtBSW9RWDlxTmdJb0lBSW9BaGdOQlNBQUlBQW9BaXhCZjJvMkFpd2dDMEVCYWlFTERBWUxJQUFvQWhnaUNVVU5CeUFJS0FJVUlRd2dBQ2dDQUNFS1FRQWhDQU5BQWtBZ0NpQUlRU2hzYWlJQ0tBSVVRUU5HQkVBZ0FpZ0NDQ0FNUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdKQ3dzZ0NFRUFTQTBISUFKQkFEWUNGQ0FBSUFBb0FpaEJmMm8yQWlnZ0FpZ0NHQTBFSUFBZ0FDZ0NMRUYvYWpZQ0xDQUxRUUZxSVFzTUJRc2dBQ2dDSkNJQ1FmLy9BMFlOQmlBQ0lBZ29BaGdpREVrTkJpQUFLQUlZSWdsRkRRWWdDQ2dDRUNFT0lBQW9BZ0FoQ2tFQUlRSURRQUpBQWtBZ0NpQUNRU2hzYWlJSUtBSVVRUU5IRFFBZ0NDZ0NDQ0FNUncwQUlBaEJBRFlDRkNBQUlBQW9BaWhCZjJvMkFpZ2dDQ2dDR0EwQklBQWdBQ2dDTEVGL2FqWUNMQXdCQ3lBQ1FRRnFJZ0lnQ1VjTkFRc0xJQWxCQVNBSlFRRkxHeUVKSUFNZ0Rtc2hEa0VBSVFnRFFBSkFJQW9nQ0VFb2JHb2lBaWdDRkNJUFFYOXFRUUZOQkVBZ0FpZ0NDQ0FPUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdJQ3dzZ0NFRUFTQTBHSUE5QkFra05CaUFDUVFNMkFoUWdBaUFNTmdJSUlBdEJBV29oQ3d3RUN5QUFJQWdvQWh3aUNUWUNKQ0FBS0FJWUlneEZEUUlnQUNnQ0FDRUtRUUFoQWlBSlFmLy9BMFlFUUFOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDRUVBTmdJVUlBQWdBQ2dDS0VGL2FqWUNLQ0FJS0FJWURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQ1FRRnFJZ0lnREVjTkFBd0VBQXNBQ3dOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDQ2dDQ0NBSlRRMEFJQWhCQURZQ0ZDQUFJQUFvQWloQmYybzJBaWdnQ0NnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FrRUJhaUlDSUF4SERRQUxEQUlMSUFBUUtDQUFRUUUyQWpSQkFDRURJQXRCQVdvaEN3d0NDeUFBS0FJa0lnSkIvLzhEUmcwRElBSWdDQ2dDR0NJTVNRMERJQUFvQWhnaUNrVU5BeUFBS0FJQUlRaEJBQ0VDQWtBRFFBSkFJQWdnQWtFb2JHb2lDU2dDRkVFRFJ3MEFJQWtvQWdnZ0RFY05BQ0FKUVFBMkFoUWdBQ0FBS0FJb1FYOXFJZ2cyQWlnZ0NTZ0NHQTBDSUFBZ0FDZ0NMRUYvYWpZQ0xBd0NDeUFDUVFGcUlnSWdDa2NOQUFzZ0FDZ0NLQ0VJQ3lBSUlBcFBEUU1nQUNnQ0NDSUNRUU0yQWhRZ0FpQUVOZ0lRSUFJZ0REWUNDQ0FDSUFNMkFnd2dBaUFBS0FJNFJUWUNHRUVCSVJBZ0FDQUlRUUZxTmdJb0lBQWdBQ2dDTEVFQmFqWUNMQXNnQzBFQmFpRUxEQUFBQ3dBTFFRQWhBaUFBS0FJb0lna2dBQ2dDR0NJTFNRMEJJQWxGQkVCQkFDRUpEQUlMSUFBb0FnQWhERUYvSVFFRFFDQU1JQUpCS0d4cUlnb29BaFJCZjJwQkFVMEVRQ0FLS0FJSUlnb2dDQ0FCUVg5R0lBb2dDRWh5SWdvYklRZ2dBaUFCSUFvYklRRUxJQUpCQVdvaUFpQUpSdzBBQ3lBQlFRQklEUUVnRENBQlFTaHNhaUlCUVFBMkFoUWdBQ0FKUVg5cUlnazJBaWdnQVNnQ0dBMEJJQUFnQUNnQ0xFRi9hallDTEF3QkN5QVFEUUVnQUNnQ0dDRUxJQUFvQWlnaENRc2dDU0FMVHcwQklBQW9BZ2dpQVNBTk5nSVlJQUZCQWpZQ0ZDQUJJQVEyQWhBZ0FTQUROZ0lJSUFFZ0F6WUNEQ0FBSUFsQkFXbzJBaWdnQUNBQUtBSXNRUUZxTmdJc0N3c2dBQ2dDQ0NJQklBYzJBaUFnQVNBR05nSWNJQUVnQlRZQ0pBSkFJQUFvQWpoRkJFQWdBQ2dDTENJSklBQW9BaHdpQTAwTkFTQUFLQUlBSVFRRFFFSC8vLy8vQnlFRlFRQWhCa0VBSVFJRFFDQUVJQUpCS0d4cUlnRW9BaGdFUUNBQklBWWdBU2dDRUNJQklBVklJZ2NiSVFZZ0FTQUZJQWNiSVFVTElBSkJBV29pQWlBRFRRMEFDd0pBSUFaRkRRQWdBQ2dDRENBQUtBSVFJZ0pCQkhScUlnRWdCaWdDQURZQ0FDQUJJQVlvQWlRMkFnd2dBU0FHS0FJY05nSUVJQUVnQmlnQ0lEWUNDQ0FBSUFKQkFXbzJBaEFnQmtFQU5nSVlJQVlvQWhRTkFDQUFJQWxCZjJvaUNUWUNMQXNnQ1NBRFN3MEFDd3dCQ3lBQktBSUFJUUlnQUNnQ0RDQUFLQUlRSWdOQkJIUnFJZ0VnQlRZQ0RDQUJJQUkyQWdBZ0FTQUhOZ0lJSUFFZ0JqWUNCQ0FBSUFOQkFXbzJBaEFnQUNnQ0hDRURDeUFBS0FJQUlBTkJBV29RSndzTDFBc0NBbjhCZmlNQVFaQUJheUlFSkFBZ0JFRUFOZ0lNQWtBQ1FBSkFJQUFvQXBBYVJRMEFJQUFvQXBRYUlBRkhEUUFnQkNBQVFhUWFhaWtDQURjREdDQUFLUUtjR2lFR0lBUkJBRFlDR0NBRUlBWTNBeEFnQkVFQU5nSWdJQVFnQmo0Q0ZDQURJQUFvQXBnYU5nSUFEQUVMUVFNaEJTQUJJQUlnQkVFUWFpQURFR01OQVNBQUlBUXBBeEEzQXB3YUlBQkJyQnBxSUFRb0FpQTJBZ0FnQUVHa0dtb2dCQ2tER0RjQ0FDQURLQUlBSVFJZ0FDQUJOZ0tVR2lBQUlBSTJBcGdhQzBFQUlRVWdBRUVBTmdLUUdpQUVRUkJxSUFSQmlBRnFFRThFUUVFRElRVU1BUXNnQkNnQ2lBRkJmMnBCQzBzTkFDQUVRUkJxSUFSQmlBRnFJQUFnQkVFTWFoQXlJZ0VFUUVFRUlRVWdBVUh3L3dOR0RRRkJBeUVGREFFTEFrQWdCQ2dDREFSQUFrQWdBQ2dDb0FsRkRRQWdBQ2dDRUVVTkFFRURJUVVnQUNnQ3RCb05Bd0pBSUFBb0FxUUpSUVJBSUFCQnhBbHFJZ0lpQVNBQktBSUFJQUVvQWh4QktHeHFJZ0UyQWdnZ0FDQUJLQUlBTmdLNENpQUNFQ1lnQUNBQVFiZ0tha0VBRUNVTUFRc2dBQ0FBUWJnS2FpQUFRZHdLYWlnQ0FCQWxDeUFEUVFBMkFnQWdBRUVBTmdLY0NTQUFRUUUyQXBBYURBSUxJQUJCQURZQ25Ba2dBRUVBTmdLa0NRc2dCQ2dDaUFGQmYyb2lBVUVIU3cwQkFrQUNRQUpBSUFGQkFXc09Cd1FFQkFJRUFBRUNDeUFFUVJCcUlBUkJLR29RUXdSQUlBUW9BbEFRQkNBRVFRQTJBbEFnQkNnQ2ZCQUVJQVJCQURZQ2ZFRURJUVVNQkFzZ0FDQUVRU2hxRURjTUF3c2dCRUVRYWlBRVFTaHFFRXdFUUNBRUtBSThFQVFnQkVFQU5nSThJQVFvQWtBUUJDQUVRUUEyQWtBZ0JDZ0NSQkFFSUFSQkFEWUNSQ0FFS0FKVUVBUWdCRUVBTmdKVVFRTWhCUXdEQ3lBQUlBUkJLR29RTmd3Q0N5QUFLQUtjQ1EwQklBQkJBVFlDb0FrQ1FDQUFLQUtrQ1EwQUlBQkNBRGNDdEFrZ0JFRVFhaUFFUVNocUVDQWFJQUFvQWdnaEFTQUFJQVFvQWlnZ0JDZ0NpQUZCQlVZUU5TSUNCRUFnQUVLQWdvQ0FnQVEzQWdRZ0FFRUFOZ0swR2lBQVFnQTNBZ3hCQlVFRUlBSkIvLzhEUmhzaEJRd0RDeUFCSUFBb0FnaEdEUUFnQUNnQ0VDRUJJQVJCQVRZQ0NDQUFLQUlBSWdKQkgwMEVRQ0FBSUFKQkFuUnFLQUlVSVFVTElBTkJBRFlDQUNBQVFRRTJBcEFhQWtBQ1FBSkFJQVFvQW9nQlFRVkhEUUFnQkVFSWFpQUVRUkJxSUFFZ0FDZ0NEQkE0SUFRb0FnaHlEUUFnQlVVTkFDQUFRZndKYWlnQ0FBMEFJQVVvQWpRZ0FTZ0NORWNOQUNBRktBSTRJQUVvQWpoSERRQWdCU2dDV0NBQktBSllSZzBCQ3lBQVFZQUtha0VBTmdJQURBRUxJQUJCeEFscUVGa0xJQUFnQUNnQ0NEWUNBRUVDSVFVTUFnc2dBQ2dDdEJvRVFFRURJUVVNQWdzZ0JFRVFhaUFBUWJRU2FpSUNJQUFvQWhBZ0FDZ0NEQ0FFUVlnQmFoQStCRUJCQXlFRkRBSUxJQUFvQXFRSlJRUkFBa0FnQkNnQ2lBRkJCVVlOQUNBQVFjUUphaUFBUWNBU2FpZ0NBQ0FFS0FLTUFVRUFSeUFBS0FJUUtBSXdFRnBGRFFCQkF5RUZEQU1MSUFCQnhBbHFJZ0VnQVNnQ0FDQUJLQUljUVNoc2FpSUJOZ0lJSUFBZ0FTZ0NBRFlDdUFvTElBQkIyQXBxSUFKQjNBY1FGU0VCSUFCQkFUWUNwQWtnQUNBRUtRT0lBVGNDMEFvZ0FDZ0NsQWtnQUNnQ0RDQUFRWmdMYWlnQ0FDQUFLQUlRSWdJb0FqUWdBaWdDT0JBL0lBQkJ4QWxxSWdJUUppQUNJQUJCbkF0cUlBQkI1QXBxS0FJQUlBQkJoQXRxS0FJQUVGOEVRRUVESVFVTUFnc2dCRUVRYWlBQUlBQkJ1QXBxSUFFUVFRUkFJQUFnQUNnQzJBb1FRRUVESVFVTUFnc2dBQkF6UlEwQklBQkJBVFlDbkFrTElBQkJ1QXBxSWdFZ0FDZ0N2QWtRU1NBQUVEUWdBRUdFQ21vZ0FDZ0NFQ0FBUWRnS2FpQUFRZEFLYWhCTklRSUNRQ0FBS0FLa0NVVU5BQ0FBUWNRSmFpRURJQUJCMUFwcUtBSUFCRUFnQXlBQVFld01haUFCSUFCQjVBcHFLQUlBSUFJZ0FDZ0MwQXBCQlVZZ0FDZ0N1QWtnQUNnQ3RBa1FLUXdCQ3lBRFFRQWdBU0FBUWVRS2FpZ0NBQ0FDSUFBb0F0QUtRUVZHSUFBb0FyZ0pJQUFvQXJRSkVDa0xJQUJDQURjQ29BbEJBU0VGQ3lBRVFaQUJhaVFBSUFVTHFBd0JDMzhDUUNBQlFRUlBCRUJCQUNBRGF5SU5RUUYwSVFvQ1FDQUFJQU5ySWdVdEFBQWlCaUFBTFFBQUlnaHJJZ0VnQVVFZmRTSUJhaUFCY3lBQ0tBSUVJZ0ZQRFFBZ0FDQUthaTBBQUNJSElBWnJJZ1FnQkVFZmRTSUVhaUFFY3lBQ0tBSUlJZ3hQRFFBZ0FDQURhaTBBQUNJRUlBaHJJZ3NnQzBFZmRTSUxhaUFMY3lBTVR3MEFJQVVnQkNBR2FpQUhRUUYwYWtFQ2FrRUNkam9BQUNBQUlBZ2dCRUVCZEdvZ0IycEJBbXBCQW5ZNkFBQWdBaWdDQkNFQkN3SkFJQUJCQVdvaUJpQU5haUlNTFFBQUlnZ2dBQzBBQVNJSGF5SUVJQVJCSDNVaUJHb2dCSE1nQVU4TkFDQUdJQXBxTFFBQUlnUWdDR3NpQlNBRlFSOTFJZ1ZxSUFWeklBSW9BZ2dpQzA4TkFDQURJQVpxTFFBQUlnVWdCMnNpQ1NBSlFSOTFJZ2xxSUFseklBdFBEUUFnRENBRklBaHFJQVJCQVhScVFRSnFRUUoyT2dBQUlBWWdCeUFGUVFGMGFpQUVha0VDYWtFQ2Rqb0FBQ0FDS0FJRUlRRUxBa0FnQUVFQ2FpSUdJQTFxSWd3dEFBQWlDQ0FBTFFBQ0lnZHJJZ1FnQkVFZmRTSUVhaUFFY3lBQlR3MEFJQVlnQ21vdEFBQWlCQ0FJYXlJRklBVkJIM1VpQldvZ0JYTWdBaWdDQ0NJTFR3MEFJQU1nQm1vdEFBQWlCU0FIYXlJSklBbEJIM1VpQ1dvZ0NYTWdDMDhOQUNBTUlBVWdDR29nQkVFQmRHcEJBbXBCQW5ZNkFBQWdCaUFISUFWQkFYUnFJQVJxUVFKcVFRSjJPZ0FBSUFJb0FnUWhBUXNDUUNBQVFRTnFJZ1lnRFdvaURDMEFBQ0lJSUFBdEFBTWlCMnNpQkNBRVFSOTFJZ1JxSUFSeklBRlBEUUFnQmlBS2FpMEFBQ0lFSUFocklnVWdCVUVmZFNJRmFpQUZjeUFDS0FJSUlndFBEUUFnQXlBR2FpMEFBQ0lGSUFkcklna2dDVUVmZFNJSmFpQUpjeUFMVHcwQUlBd2dCU0FJYWlBRVFRRjBha0VDYWtFQ2Rqb0FBQ0FHSUFjZ0JVRUJkR29nQkdwQkFtcEJBblk2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJCR29pQmlBTmFpSU1MUUFBSWdnZ0FDMEFCQ0lIYXlJRUlBUkJIM1VpQkdvZ0JITWdBVThOQUNBR0lBcHFMUUFBSWdRZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFJb0FnZ2lDMDhOQUNBRElBWnFMUUFBSWdVZ0Iyc2lDU0FKUVI5MUlnbHFJQWx6SUF0UERRQWdEQ0FGSUFocUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFZZ0J5QUZRUUYwYWlBRWFrRUNha0VDZGpvQUFDQUNLQUlFSVFFTEFrQWdBRUVGYWlJR0lBMXFJZ3d0QUFBaUNDQUFMUUFGSWdkcklnUWdCRUVmZFNJRWFpQUVjeUFCVHcwQUlBWWdDbW90QUFBaUJDQUlheUlGSUFWQkgzVWlCV29nQlhNZ0FpZ0NDQ0lMVHcwQUlBTWdCbW90QUFBaUJTQUhheUlKSUFsQkgzVWlDV29nQ1hNZ0MwOE5BQ0FNSUFVZ0NHb2dCRUVCZEdwQkFtcEJBblk2QUFBZ0JpQUhJQVZCQVhScUlBUnFRUUpxUVFKMk9nQUFJQUlvQWdRaEFRc0NRQ0FBUVFacUlnWWdEV29pREMwQUFDSUlJQUF0QUFZaUIyc2lCQ0FFUVI5MUlnUnFJQVJ6SUFGUERRQWdCaUFLYWkwQUFDSUVJQWhySWdVZ0JVRWZkU0lGYWlBRmN5QUNLQUlJSWd0UERRQWdBeUFHYWkwQUFDSUZJQWRySWdrZ0NVRWZkU0lKYWlBSmN5QUxUdzBBSUF3Z0JTQUlhaUFFUVFGMGFrRUNha0VDZGpvQUFDQUdJQWNnQlVFQmRHb2dCR3BCQW1wQkFuWTZBQUFnQWlnQ0JDRUJDeUFOSUFCQkIyb2lEV29pQ0MwQUFDSUdJQUF0QUFjaUFHc2lCeUFIUVI5MUlnZHFJQWR6SUFGUERRRWdDaUFOYWkwQUFDSUJJQVpySWdvZ0NrRWZkU0lLYWlBS2N5QUNLQUlJSWdwUERRRWdBeUFOYWkwQUFDSUNJQUJySWdNZ0EwRWZkU0lEYWlBRGN5QUtUdzBCSUFnZ0FpQUdhaUFCUVFGMGFrRUNha0VDZGpvQUFDQU5JQUFnQWtFQmRHb2dBV3BCQW1wQkFuWTZBQUFQQzBFQUlBTnJJZ2RCQVhRaEJDQUJJQUlvQWdCcVFYOXFMUUFBSWdGQkFXb2hCaUFCUVg5eklRaEJDQ0VCQTBBQ1FDQUFJQWRxSWdVdEFBQWlDaUFBTFFBQUlnMXJJZ3dnREVFZmRTSU1haUFNY3lBQ0tBSUVUdzBBSUFBZ0JHb3RBQUFpRENBS2F5SUxJQXRCSDNVaUMyb2dDM01nQWlnQ0NDSUxUdzBBSUFBZ0Eyb3RBQUFpQ1NBTmF5SU9JQTVCSDNVaURtb2dEbk1nQzA4TkFDQUZJQW9nQ0NBR0lBMGdDbXRCQW5RZ0NXc2dER3BCQkdwQkEzVWlDaUFLSUFaS0d5QUtJQWhJR3lJS2FrR3dMbW90QUFBNkFBQWdBQ0FOSUFwclFiQXVhaTBBQURvQUFBc2dBRUVCYWlFQUlBRkJmMm9pQVEwQUN3c0w2Z2dCQW44Z0FVRUFRYmdIRUFjaEFrRUJJUUVDUUFKQUlBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBZ0FDUUNBRFFRRkhEUUFnQUVFSUVBTWlBMEYvUmcwQklBSWdBellDQkNBRFFmOEJSdzBBSUFCQkVCQURJZ05CZjBZTkFTQUNJQU0yQWdnZ0FFRVFFQU1pQTBGL1JnMEJJQUlnQXpZQ0RBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDRUNBRFFRRkdCRUFnQUVFQkVBTWlBMEYvUmcwQklBSWdBMEVCUmpZQ0ZBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDR0FKQUFrQWdBMEVCUmdSQUlBQkJBeEFESWdOQmYwWU5BeUFDSUFNMkFod2dBRUVCRUFNaUEwRi9SZzBESUFJZ0EwRUJSallDSUNBQVFRRVFBeUlEUVg5R0RRTWdBaUFEUVFGR05nSWtJQU5CQVVjTkFTQUFRUWdRQXlJRFFYOUdEUU1nQWlBRE5nSW9JQUJCQ0JBRElnTkJmMFlOQXlBQ0lBTTJBaXdnQUVFSUVBTWlBMEYvUncwQ0RBTUxJQUpCQlRZQ0hBc2dBa0tDZ0lDQUlEY0NLRUVDSVFNTElBSWdBellDTUNBQVFRRVFBeUlEUVg5R0RRQWdBaUFEUVFGR05nSTBBa0FnQTBFQlJ3MEFJQUFnQWtFNGFoQUNJZ0VOQVNBQ0tBSTRRUVZMRFFJZ0FDQUNRVHhxRUFJaUFRMEJJQUlvQWp4QkJVME5BQXdDQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDUUNBRFFRRkdCRUFnQUJBUElRRWdBRUVnRUFzaEF5QUJSUTBDSUFOQmYwWU5BaUFDSUFFMkFrUWdBQkFQSVFFZ0FFRWdFQXNoQXlBQlJRMENJQU5CZjBZTkFpQUNJQUUyQWtoQkFTRUJJQUJCQVJBRElnTkJmMFlOQVNBQ0lBTkJBVVkyQWt3TElBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBbEFDUUNBRFFRRkdCRUFnQUNBQ1FkUUFhaEFjSWdGRkRRRU1BZ3NnQWtFQk5nSlVJQUpDbUlDQWdJQUROd0xvQXlBQ1FwaUFnSUNBQXpjQzRBTWdBa0dCa0txSkFUWUM0QUVnQWtHQmtLcUpBVFlDWUF0QkFTRUJJQUJCQVJBRElnTkJmMFlOQUNBQ0lBTkJBVVkyQXZBREFrQWdBMEVCUmdSQUlBQWdBa0gwQTJvUUhDSUJSUTBCREFJTElBSkJBVFlDOUFNZ0FrS1lnSUNBZ0FNM0FvZ0hJQUpDbUlDQWdJQUROd0tBQnlBQ1FZRzR1UElBTmdLQUJTQUNRWUc0dVBJQU5nS0FCQXNDUUNBQ0tBSlFSUVJBSUFJb0F2QURSUTBCQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBCSUFJZ0EwRUJSallDa0FjTFFRRWhBU0FBUVFFUUF5SURRWDlHRFFBZ0FpQURRUUZHTmdLVUJ5QUFRUUVRQXlJRFFYOUdEUUFnQWlBRFFRRkdOZ0tZQndKQUlBTkJBVVlFUUNBQVFRRVFBeUlEUVg5R0RRSWdBaUFEUVFGR05nS2NCeUFBSUFKQm9BZHFFQUlpQVEwQ0lBSW9BcUFIUVJCTERRTWdBQ0FDUWFRSGFoQUNJZ0VOQWlBQ0tBS2tCMEVRU3cwRElBQWdBa0dvQjJvUUFpSUJEUUlnQWlnQ3FBZEJFRXNOQXlBQUlBSkJyQWRxRUFJaUFRMENRUUVoQVNBQ0tBS3NCMEVRU3cwQ0lBQWdBa0d3QjJvUUFpSUJEUUlnQUNBQ1FiUUhhaEFDSWdGRkRRRU1BZ3NnQWtFUU5nSzBCeUFDUXBDQWdJQ0FBamNDckFjZ0FrS0JnSUNBZ0FJM0FxUUhJQUpDZ1lDQWdDQTNBcHdIQzBFQUlRRUxJQUVQQzBFQkMwMEJBbjhqQUVFUWF5SURKQUJCQVNFRUFrQWdBQ0FEUVF4cUVBSU5BQ0FES0FJTUlnQkJMMHNOQUNBQlFkQS9RWURBQUNBQ0d5QUFhaTBBQURZQ0FFRUFJUVFMSUFOQkVHb2tBQ0FFQ3o0QkFuOENRQ0FBS0FJTVFRTjBJQUFvQWhCcklnRkZCRUFNQVF0QkFTRUNJQUZCQ0VzTkFFRUJJQUZCZjJwMElBQVFEMEVnSUFGcmRrY1BDeUFDQ3pJQkFuOENRRUdBZ0lEQUFDSUJJQUJ4RFFBRFFDQUNRUUZxSVFJZ0FVRUJkaUlCUlEwQklBQWdBWEZGRFFBTEN5QUNDNG9DQVFkL0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRUNRUUVoQXlBQlFRWlBCRUJCQUNFRElBSWdBVUdRUEdvdEFBQkJmMnAwSVFJTElBQWdBQ2dDQUNJQklBQW9BZ2dpQkdzaUJTQUFLQUlFSWdZZ0FDZ0NEQ0lIYXlJSWF5QUNiQ0FEZFRZQ0RDQUFJQVVnQ0dvZ0Ftd2dBM1UyQWdnZ0FDQUJJQVJxSWdFZ0JpQUhhaUlFYXlBQ2JDQURkVFlDQkNBQUlBRWdCR29nQW13Z0EzVTJBZ0FnQUNBQUtBSWNJZ0VnQUNnQ0ZDSUVhaUlGSUFBb0FoZ2lCaUFBS0FJUUlnZHFJZ2hxSUFKc0lBTjFOZ0lRSUFBZ0JDQUJheUlCSUFjZ0Jtc2lCR29nQW13Z0EzVTJBaGdnQUNBSUlBVnJJQUpzSUFOMU5nSVVJQUFnQkNBQmF5QUNiQ0FEZFRZQ0hBdlBDQUVVZnlBQUlBQW9BaXdpQWlBQUtBSU1JZ1pxSWdVZ0FDZ0NOQ0lFSUFBb0FpQWlFR29pQ21zaUVUWUNMQ0FBS0FJb0lRTWdBQ0FHSUFKcklnY2dFQ0FFYXlJRWF5SUdOZ0lvSUFBb0FpUWhBaUFBSUFRZ0Iyb2lCRFlDSkNBQUlBVWdDbW9pQlRZQ0lDQUFJQUFvQWh3aUNpQUFLQUlJSWdkcUlnZ2dBQ2dDTUNJTUlBQW9BaEFpQ1dvaUMyc2lFRFlDSENBQUtBSVlJUThnQUNBSElBcHJJZ2NnQ1NBTWF5SU1heUlLTmdJWUlBQW9BaFFoQ1NBQUlBY2dER29pQnpZQ0ZDQUFJQWdnQzJvaUNEWUNFQ0FBSUFrZ0FDZ0NBQ0lMYWlJU0lBOGdBQ2dDQkNJTmFpSU9heUlNTmdJTUlBQWdDeUFKYXlJSklBMGdEMnNpQzJzaUR6WUNDQ0FBSUFrZ0Myb2lDVFlDQkNBQUlBNGdFbW9pQ3pZQ0FDQUFJQUlnQUNnQ09DSU5haUlUSUFNZ0FDZ0NQQ0lPYWlJVWF5SVNOZ0k4SUFBZ0FpQU5heUlDSUFNZ0Rtc2lBMnNpRFRZQ09DQUFJQUlnQTJvaURqWUNOQ0FBSUJNZ0ZHb2lFellDTUNBQlFaQThhaTBBQUNFQ0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRURJQUZCREU4RVFDQUFJQU1nQWtGK2FuUWlBU0FGSUF0cUlnTWdDQ0FUYWlJQ2EydzJBakFnQUNBTElBVnJJZ1VnQ0NBVGF5SUlheUFCYkRZQ0lDQUFJQVVnQ0dvZ0FXdzJBaEFnQUNBQ0lBTnFJQUZzTmdJQUlBQWdCQ0FKYWlJRElBY2dEbW9pQW1zZ0FXdzJBalFnQUNBSklBUnJJZ1FnQnlBT2F5SUZheUFCYkRZQ0pDQUFJQVFnQldvZ0FXdzJBaFFnQUNBQ0lBTnFJQUZzTmdJRUlBQWdCaUFQYWlJRElBb2dEV29pQW1zZ0FXdzJBamdnQUNBUElBWnJJZ1lnQ2lBTmF5SUVheUFCYkRZQ0tDQUFJQVFnQm1vZ0FXdzJBaGdnQUNBQ0lBTnFJQUZzTmdJSUlBQWdEQ0FSYXlJRElCQWdFbXNpQW1zZ0FXdzJBaXdnQUNBQ0lBTnFJQUZzTmdJY0lBQWdFQ0FTYWlJRElBd2dFV29pQW1vZ0FXdzJBZ3dnQUNBQ0lBTnJJQUZzTmdJOER3c2dBRUVCUVFJZ0FVRjZha0VHU1JzaUFTQUZJQXRxSWhRZ0NDQVRhaUlWYXlBRGJHcEJBaUFDYXlJQ2RUWUNNQ0FBSUFzZ0JXc2lCU0FJSUJOcklnaHJJQU5zSUFGcUlBSjFOZ0lnSUFBZ0JTQUlhaUFEYkNBQmFpQUNkVFlDRUNBQUlCUWdGV29nQTJ3Z0FXb2dBblUyQWdBZ0FDQUVJQWxxSWdVZ0J5QU9haUlJYXlBRGJDQUJhaUFDZFRZQ05DQUFJQWtnQkdzaUJDQUhJQTVySWdkcklBTnNJQUZxSUFKMU5nSWtJQUFnQkNBSGFpQURiQ0FCYWlBQ2RUWUNGQ0FBSUFVZ0NHb2dBMndnQVdvZ0FuVTJBZ1FnQUNBR0lBOXFJZ1FnQ2lBTmFpSUZheUFEYkNBQmFpQUNkVFlDT0NBQUlBOGdCbXNpQmlBS0lBMXJJZ3BySUFOc0lBRnFJQUoxTmdJb0lBQWdCaUFLYWlBRGJDQUJhaUFDZFRZQ0dDQUFJQVFnQldvZ0Eyd2dBV29nQW5VMkFnZ2dBQ0FNSUJGcklnWWdFQ0FTYXlJRWF5QURiQ0FCYWlBQ2RUWUNMQ0FBSUFRZ0Jtb2dBMndnQVdvZ0FuVTJBaHdnQUNBUUlCSnFJZ1lnRENBUmFpSVJhaUFEYkNBQmFpQUNkVFlDRENBQUlCRWdCbXNnQTJ3Z0FXb2dBblUyQWp3THZRVUJCbjhqQUVFZ2F5SUZKQUFnQTBFQU5nSUFBa0FnQVNnQ0FDSUdRUkpMRFFCQkFTQUdkQ0lHUWNEZkgzRkZCRUFnQmtFaWNVVU5BU0FDUWJRS2FpZ0NBQVJBSUFOQkFUWUNBQ0FDUVFBMkFyUUtDeUFBSUFWQkhHb1FJQ0lFRFFGQjhQOERJUVFnQWlBRktBSWNRUUowYWlnQ2xBRWlDRVVOQVNBQ0lBZ29BZ1FpQmtFQ2RHb29BaFFpQjBVTkFRSkFJQUlvQWdnaUNVRWdSZzBBSUFZZ0NVWU5BQ0FCS0FJQVFRVkhEUUlMQWtBZ0FrR1lDbW9vQWdBaUJDQUJLQUlFSWdaR0RRQWdCRUVBSUFZYkRRQWdBMEVCTmdJQUN5QUJLQUlBSVFRQ1FBSkFJQUlvQXBRS1FRVkdCRUFnQkVFRlJ3MEJEQUlMSUFSQkJVY05BUXNnQTBFQk5nSUFDMEVCSVFRZ0FDQUhLQUlNSUFWQkdHb1FQUTBCSUFVb0FoZ2lCaUFDUVp3S2FpZ0NBRWNFUUNBQ0lBWTJBcHdLSUFOQkFUWUNBQXNnQVNnQ0FFRUZSZ1JBSUFBZ0J5Z0NEQ0FGUVJScUVEd05BZ0pBSUFJb0FwUUtRUVZIQkVBZ0JTZ0NGQ0VFREFFTElBSkJvQXBxS0FJQUlnUWdCU2dDRkNJR1JnMEFJQU5CQVRZQ0FDQUdJUVFMSUFKQm9BcHFJQVEyQWdBTEFrQWdCeWdDRUNJRVFRRkxEUUFnQkVFQmF3UkFRUUVoQkNBQUlBY2dBU2dDQUNBRlFRaHFFRHNOQXlBRktBSUlJZ1FnQWtHa0Ntb29BZ0JIQkVBZ0FpQUVOZ0trQ2lBRFFRRTJBZ0FMSUFnb0FnaEZEUUVnQUNBSElBRW9BZ0FnQlVFUWFoQTZJZ1FOQXlBRktBSVFJZ0FnQWtHb0Ntb29BZ0JHRFFFZ0FpQUFOZ0tvQ2lBRFFRRTJBZ0FNQVFzZ0J5Z0NHQTBBSUFBZ0J5QUJLQUlBSUFnb0FnZ2dCVUVJYWhBNUlnUU5BaUFGS0FJSUlnQWdBa0dzQ21vb0FnQkhCRUFnQWlBQU5nS3NDaUFEUVFFMkFnQUxJQWdvQWdoRkRRQWdCU2dDRENJQUlBSkJzQXBxS0FJQVJnMEFJQUlnQURZQ3NBb2dBMEVCTmdJQUN5QUNJQUVwQWdBM0FwUUtRUUFoQkF3QkN5QURRUUUyQWdBTElBVkJJR29rQUNBRUMzOEJBMzhDUUFKQUFrQWdBRUg4Q21vb0FnQUVRQ0FBS0FLWUNTSUREUUZCQVE4TFFRRWhBU0FBUWF3SmFpZ0NBQ0FBS0FLWUNVY05BUXdDQ3lBQUtBSzhDU0VCUVFBaEFBTkFJQUlnQVNBQVFkZ0JiR29vQXNRQlFRQkhhaUVDSUFCQkFXb2lBQ0FEUncwQUMwRUJJUUVnQWlBRFJnMEJDMEVBSVFFTElBRUxTZ0VEZnlBQVFnQTNBcWdKSUFBb0FwZ0pJZ0VFUUNBQUtBSzhDU0VDUVFBaEFBTkFJQUlnQUVIWUFXeHFJZ05CQURZQ3hBRWdBMEVBTmdJRUlBQkJBV29pQUNBQlJ3MEFDd3NMZ3dZQkRIOUJBU0VHQWtBZ0FDQUJRUUowYWlnQ2xBRWlCRVVOQUNBQUlBUW9BZ1FpQ1VFQ2RHb2lDa0VVYWlnQ0FDSURSUTBBQWtBZ0JDZ0NEQ0lGUVFKSkRRQWdBeWdDTkNJSElBTW9BamhzSVFnQ1FDQUVLQUlRSWdOQkFrc05BQUpBQWtBQ1FDQURRUUZyRGdJREFBRUxJQVZCZjJvaEN5QUVLQUljSVF3Z0JDZ0NHQ0VOUVFBaEF3d0JDeUFFS0FJVUlRZEJBQ0VEQTBBZ0J5QURRUUowYWlnQ0FDQUlUUVJBSUFVZ0EwRUJhaUlEUncwQkRBUUxDMEVCRHdzRFFDQU5JQU5CQW5RaUJXb29BZ0FpRGlBRklBeHFLQUlBSWdWTERRTWdCU0FJVHcwRElBNGdCM0FnQlNBSGNFMEVRQ0FEUVFGcUlnTWdDMFlOQXd3QkN3dEJBUThMSUFOQmZXcEJBazBFUUNBRUtBSWtJQWhORFFFTUFnc2dBMEVHUncwQUlBUW9BaWdnQ0VrTkFRc0NRQ0FBS0FJRUlnTkJnQUpHQkVBZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQW9BclFhQkVBZ0FFRUFOZ0swR2lBQUtBSzhDUkFFSUFCQkFEWUN2QWtnQUNnQ2xBa1FCQ0FBSUFBb0FwZ0pJZ0ZCMkFGc0lnUVFDaUlDTmdLOENTQUFJQUZCQW5RUUNpSUROZ0tVQ1VILy93TWhCaUFDUlEwQ0lBTkZEUUlnQWtFQUlBUVFCeUFBS0FJUUtBSTBJQUVRVGlBQUtBSVFJUUZCQVNFQ0FrQWdBQ2dDd0FrTkFDQUJLQUlRUVFKR0RRQUNRQ0FCS0FKUVJRMEFJQUVvQWxRaUJDZ0NtQWRGRFFBZ0JDZ0NzQWRGRFFFTFFRQWhBZ3NnQUVIRUNXb2dBU2dDT0NBQktBSTBiQ0FCS0FKWUlBRW9BaXdnQVNnQ0RDQUNFRndpQmtVTkFRd0NDeUFCSUFOR0RRQWdBQ2dDQ0NBSlJ3UkFJQUpGRFFJZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQWdCRFlDRENBQUlBRTJBZ1FMUVFBaEJnc2dCZ3UyQVFFRGZ3SkFJQUFnQVNnQ0FDSURRUUowYWlJQ0tBS1VBU0lFUlFSQUlBSkJ5QUFRQ2lJQU5nS1VBU0FBRFFFUEN3SkFJQU1nQUNnQ0JFY05BQ0FCS0FJRUlBQW9BZ2hHRFFBZ0FFR0JBallDQkFzZ0JDZ0NGQkFFSUFJb0FwUUJRUUEyQWhRZ0FpZ0NsQUVvQWhnUUJDQUNLQUtVQVVFQU5nSVlJQUlvQXBRQktBSWNFQVFnQWlnQ2xBRkJBRFlDSENBQ0tBS1VBU2dDTEJBRUlBSW9BcFFCUVFBMkFpd0xJQUlvQXBRQklBRkJ5QUFRRlJvTDFnRUJBMzhDUUNBQUlBRW9BZ2dpQTBFQ2RHb2lBaWdDRkNJRVJRUkFJQUpCM0FBUUNpSUFOZ0lVSUFBTkFROExJQUFvQWdnZ0EwWUVRQ0FCSUFBb0FoQVFRZ1JBSUFJb0FoUW9BaWdRQkNBQ0tBSVVRUUEyQWlnZ0FpZ0NGQ2dDVkJBRUlBSW9BaFJCQURZQ1ZDQUFRUUEyQWhBZ0FFR0JBallDQkNBQVFpRTNBZ2dNQWdzZ0FTZ0NLQkFFSUFGQkFEWUNLQ0FCS0FKVUVBUWdBVUVBTmdKVUR3c2dCQ2dDS0JBRUlBSW9BaFJCQURZQ0tDQUNLQUlVS0FKVUVBUWdBaWdDRkVFQU5nSlVDeUFDS0FJVUlBRkIzQUFRRlJvTDBnSUJBMzhqQUVFZ2F5SUVKQUFnQkNBQktBSVFOZ0lRSUFRZ0FTa0NDRGNEQ0NBRUlBRXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUJEUUFnQkNBRVFSeHFFQUlpQVEwQUlBUWdCRUVjYWhBQ0lnRU5BQ0FDS0FJTUlRWkJBQ0VCQTBBZ0FTSUZRUUZxSVFFZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQVF3QkN5QUVJQVJCSEdvUUFpSUJEUUFDUUNBQ0tBSVFJZ0VFZnlBQkJTQUNLQUlVSVFaQkFDRUJBMEFnQVNJRlFRRnFJUUVnQmlBRmRnMEFDeUFFSUFWQmYyb1FBMEYvUmdSQVFRRWhBUXdEQ3lBREtBSUlCRUFnQkNBRVFSaHFFQVVpQVEwREN5QUNLQUlRQzBFQlJ3MEFJQUlvQWhnTkFDQUVJQVJCR0dvUUJTSUJEUUVnQXlnQ0NFVU5BQ0FFSUFSQkdHb1FCU0lCRFFFTElBTW9Ba1FFUUNBRUlBUkJIR29RQWlJQkRRRUxJQUFnQkVFQkVBTWlBRFlDQUNBQVFYOUdJUUVMSUFSQklHb2tBQ0FCQzhZQkFRSi9Jd0JCSUdzaUJTUUFJQVVnQUNnQ0VEWUNFQ0FGSUFBcEFnZzNBd2dnQlNBQUtRSUFOd01BQWtBZ0JTQUZRUnhxRUFJaUFBMEFJQVVnQlVFY2FoQUNJZ0FOQUNBRklBVkJIR29RQWlJQURRQWdBU2dDRENFR1FRQWhBQU5BSUFBaUFVRUJhaUVBSUFZZ0FYWU5BQXNnQlNBQlFYOXFFQU5CZjBZRVFFRUJJUUFNQVFzZ0FrRUZSZ1JBSUFVZ0JVRWNhaEFDSWdBTkFRc2dCU0FFRUFVaUFBMEFJQU1FUUNBRklBUkJCR29RQlNJQURRRUxRUUFoQUFzZ0JVRWdhaVFBSUFBTDRRRUJBMzhqQUVFZ2F5SUVKQUFnQkNBQUtBSVFOZ0lRSUFRZ0FDa0NDRGNEQ0NBRUlBQXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUFEUUFnQkNBRVFSeHFFQUlpQUEwQUlBUWdCRUVjYWhBQ0lnQU5BQ0FCS0FJTUlRWkJBQ0VBQTBBZ0FDSUZRUUZxSVFBZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUNRUVZHQkVBZ0JDQUVRUnhxRUFJaUFBMEJDeUFCS0FJVUlRSkJBQ0VBQTBBZ0FDSUJRUUZxSVFBZ0FpQUJkZzBBQ3lBRUlBRkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUVJQU1RQlNFQUN5QUVRU0JxSkFBZ0FBdm1BUUVEZnlNQVFTQnJJZ1FrQUNBRUlBQW9BaEEyQWhBZ0JDQUFLUUlJTndNSUlBUWdBQ2tDQURjREFBSkFJQVFnQkVFY2FoQUNJZ0FOQUNBRUlBUkJIR29RQWlJQURRQWdCQ0FFUVJ4cUVBSWlBQTBBSUFFb0Fnd2hCa0VBSVFBRFFDQUFJZ1ZCQVdvaEFDQUdJQVYyRFFBTElBUWdCVUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQUpCQlVZRVFDQUVJQVJCSEdvUUFpSUFEUUVMSUFFb0FoUWhBa0VBSVFBRFFDQUFJZ0ZCQVdvaEFDQUNJQUYyRFFBTElBUWdBVUYvYWhBRElnQkJmMFlFUUVFQklRQU1BUXNnQXlBQU5nSUFRUUFoQUFzZ0JFRWdhaVFBSUFBTGtnRUJBbjhqQUVFZ2F5SURKQUFnQXlBQUtBSVFOZ0lRSUFNZ0FDa0NBRGNEQUNBRElBQXBBZ2czQXdnQ1FDQURJQU5CSEdvUUFpSUFEUUFnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BRUVBSVFBRFFDQUFJZ1JCQVdvaEFDQUJJQVIyRFFBTElBTWdCRUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQU1nQWhBQ0lRQUxJQU5CSUdva0FDQUFDNWNCQVFKL0l3QkJJR3NpQXlRQUlBTWdBQ2dDRURZQ0VDQURJQUFwQWdnM0F3Z2dBeUFBS1FJQU53TUFBa0FnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BQ0FESUFOQkhHb1FBaUlBRFFCQkFDRUFBMEFnQUNJRVFRRnFJUUFnQVNBRWRnMEFDeUFESUFSQmYyb1FBeUlBUVg5R0JFQkJBU0VBREFFTElBSWdBRFlDQUVFQUlRQUxJQU5CSUdva0FDQUFDNjhPQVFwL0l3QkJFR3NpQlNRQUlBRkJBRUhjQnhBSElRY2dBaWdDTkNFR0lBSW9BamdoQ0FKQUlBQWdCVUVFYWhBQ0lnRU5BQ0FISUFVb0FnUWlBVFlDQUNBQklBWWdDR3dpQzA4RVFFRUJJUUVNQVFzZ0FDQUZRUVJxRUFJaUFRMEFJQWNnQlNnQ0JDSUdOZ0lFSUFaQkIwc0VRRUVCSVFFTUFRdEJBU0VCQWtBQ1FDQUdRUUZyRGdjQ0FRSUNBQUlCQUFzZ0JDZ0NBRUVGUmdSQURBSUxJQUlvQWl3TkFBd0JDeUFBSUFWQkJHb1FBaUlCRFFBZ0J5QUZLQUlFSWdZMkFnaEJBU0VCSUFZZ0F5Z0NBRWNOQUNBQ0tBSU1JUWhCQUNFQkEwQWdBU0lHUVFGcUlRRWdDQ0FHZGcwQUMwRUJJUUVnQUNBR1FYOXFFQU1pQmtGL1JnMEFJQVpCQUNBRUtBSUFJZ2hCQlVZYkRRQWdCeUFHTmdJTUlBaEJCVVlFUUNBQUlBVkJCR29RQWlJQkRRRWdCeUFGS0FJRUlnWTJBaEJCQVNFQklBWkIvLzhEU3cwQkN3SkFJQUlvQWhBaUFRUi9JQUVGSUFJb0FoUWhDRUVBSVFFRFFDQUJJZ1pCQVdvaEFTQUlJQVoyRFFBTElBQWdCa0YvYWhBRElnRkJmMFlFUUVFQklRRU1Bd3NnQnlBQk5nSVVJQU1vQWdnRVFDQUFJQVVRQlNJQkRRTWdCeUFGS0FJQU5nSVlDeUFFS0FJQVFRVkdCRUJCQVNFQklBY29BaFFpQmlBQ0tBSVVRUUYyU3cwRElBWkJBQ0FIS0FJWUlnaEJIM1VnQ0hGclJ3MERDeUFDS0FJUUMwRUJSdzBBSUFJb0FoZ05BQ0FBSUFVUUJTSUJEUUVnQnlBRktBSUFOZ0ljSUFNb0FnZ0VRQ0FBSUFVUUJTSUJEUUlnQnlBRktBSUFOZ0lnQ3lBRUtBSUFRUVZIRFFCQkFTRUJJQWNvQWh3aUJpQUhLQUlnSUFZZ0FpZ0NJR3BxSWdnZ0JpQUlTQnNOQVFzZ0F5Z0NSQVJBSUFBZ0JVRUVhaEFDSWdFTkFTQUhJQVVvQWdRaUJqWUNKRUVCSVFFZ0JrSC9BRXNOQVFzQ1FDQUhLQUlFSWdGQkJVc05BQUpBSUFGQkFXc09CQUVCQVFFQUMwRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDS0FKQUlBWUVRQ0FBSUFWQkJHb1FBaUlCRFFOQkFTRUJJQVVvQWdRaUJrRVBTdzBESUFaQkFXb2hCZ3dCQ3lBREtBSXdJZ1pCRUVzTkFnc2dCeUFHTmdJc0lBY29BZ1FoQVFzQ1FDQUJRUVZMRFFBQ1FDQUJRUUZyRGdRQkFRRUJBQXNnQWlnQ0RDRUpJQWNvQWl3aENrRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDUkNBR1JRMEFRUUFoQVFOQUlBRWlCaUFLU3dSQVFRRWhBUXdEQ3lBQUlBVkJDR29RQWlJQkRRSWdCU2dDQ0NJQlFRTkxCRUJCQVNFQkRBTUxJQWNnQmtFTWJHb2lDQ0FCTmdKSUFrQWdBVUVCVFFSQUlBQWdCVUVNYWhBQ0lnRU5CQ0FGS0FJTUlnRWdDVThFUUVFQklRRU1CUXNnQ0NBQlFRRnFOZ0pNREFFTElBRkJBa2NOQUNBQUlBVkJER29RQWlJQkRRTWdDQ0FGS0FJTU5nSlFDeUFHUVFGcUlRRWdCU2dDQ0VFRFJ3MEFDMEVCSVFFZ0JrVU5BUXNDUUNBRUtBSUVSUTBBSUFRb0FnQWhCQ0FDS0FJc0lRbEJBU0VCSUFCQkFSQURJUUlnQkVFRlJnUkFJQUpCZjBZTkFpQUhJQUkyQXBRQ0lBQkJBUkFESWdKQmYwWU5BaUFISUFJMkFwZ0NJQWtOQVNBQ1JRMEJEQUlMSUFKQmYwWU5BU0FISUFJMkFwd0NJQUpGRFFBZ0NVRUJkRUVEYWlFT1FRQWhCa0VBSVFwQkFDRUVBMEFnQmlBT1JnUkFRUUVoQVF3REN5QUFJQVZCQ0dvUUFpSUJEUUlnQlNnQ0NDSUNRUVpMQkVCQkFTRUJEQU1MSUFjZ0JrRVViR29pQ0NBQ05nS2dBZ0ovSUFKQkFuSkJBMFlFUUNBQUlBVkJER29RQWlJQkRRUWdDQ0FGS0FJTVFRRnFOZ0trQWlBRktBSUlJUUlMSUFKQkFrWUxCRUFnQUNBRlFReHFFQUlpQVEwRElBZ2dCU2dDRERZQ3FBSWdCU2dDQ0NFQ0N3SkFJQUpCZldvaUFVRURTdzBBQWtBZ0FVRUJhdzRDQVFFQUN5QUFJQVZCREdvUUFpSUJEUU1nQ0NBRktBSU1OZ0tzQWlBRktBSUlJUUlMSUFKQkJFWUVRQ0FBSUFWQkRHb1FBaUlCRFFNZ0JTZ0NEQ0lCSUFsTEJFQkJBU0VCREFRTElBZ2dBVUYvYWtILy93TWdBUnMyQXJBQ0lBcEJBV29oQ2lBRktBSUlJUUlMSUFaQkFXb2hCaUFNSUFKQkJrWnFJUXdnQkNBQ1FRVkdhaUVFSUEwZ0FrRi9ha0VEU1dvaERTQUNEUUFMUVFFaEFTQUVJQXB5SUF4eVFRRkxEUUVnQkVVTkFDQU5EUUVMSUFBZ0JSQUZJZ0VOQUNBSElBVW9BZ0FpQVRZQ01DQUZJQUVnQXlnQ05Hb2lBallDQUVFQklRRWdBa0V6U3cwQUFrQWdBeWdDUEVVTkFDQUFJQVZCQkdvUUFpSUJEUUVnQnlBRktBSUVJZ0kyQWpSQkFTRUJJQUpCQWtzTkFTQUNRUUZHRFFBZ0FDQUZFQVVpQVEwQlFRRWhBU0FGS0FJQUlnSkJCbXBCREVzTkFTQUhJQUpCQVhRMkFqZ2dBQ0FGRUFVaUFRMEJRUUVoQVNBRktBSUFJZ0pCQm1wQkRFc05BU0FISUFKQkFYUTJBandMQWtBZ0F5Z0NERUVDU1EwQUlBTW9BaEJCZldwQkFrc05BRUVDUVFFZ0N5QUxJQU1vQWlRaUFXNGlBaUFCYkdzYklBSnFJUVJCQUNFQ0EwQWdCQ0FDSWdGQkFXb2lBbllOQUFzZ0JTQUFJQUlnQVNBRVFYOGdBWFJCZjNOeEd4QURJZ0EyQWdSQkFTRUJJQUJCZjBZTkFTQUhJQUEyQWtBZ0FDQUxJQU1vQWlRaUFHcEJmMm9nQUc1TERRRUxRUUFoQVFzZ0JVRVFhaVFBSUFFTHdRa0JEWDhnQXlBRWJDRUZJQUVvQWd3aUNVRUJSZ1JBSUFCQkFDQUZRUUowRUFjYUR3c0NRQUpBQWtBQ1FDQUJLQUlRSWdaQmZXcEJBazBFUUNBQktBSWtJQUpzSWdJZ0JTQUNJQVZKR3lFTElBWkJmbkZCQkVjTkFTQUZJQXRySUFzZ0FTZ0NJQnNoQndzQ1FBSkFBa0FnQmtFRlRRUkFJQVpCQVdzT0JRWUZCQU1DQVFzZ0JVVU5CaUFCS0FJc0lRSkJBQ0VCQTBBZ0FDQUJRUUowSWdOcUlBSWdBMm9vQWdBMkFnQWdBVUVCYWlJQklBVkhEUUFMREFZTEFrQWdDUVJBSUFFb0FoUWhBa0VBSVFZTUFRc2dCVVVOQmdOQURBQUFDd0FMQTBCQkFDRUVJQVlnQlU4TkJnTkFRUUFoQndKQUlBSWdCRUVDZEdvaUF5Z0NBQ0lCUlEwQUlBRWhCeUFGSUFaTkRRQkJBQ0VCUVFBZ0JTQUdheUlISUFjZ0JVc2JJUWdEUUNBQUlBRWdCbXBCQW5ScUlBUTJBZ0FnQVVFQmFpSUJJQU1vQWdBaUIwOE5BU0FCSUFoSERRQUxDeUFFUVFGcUlnUWdDVWxCQUNBR0lBZHFJZ1lnQlVrYkRRQUxJQVlnQlVrTkFBc01CUXNnQTBVTkJDQUVSUTBFUVFFZ0FTZ0NJQ0lKYXlFSVFRQWhCVUVBSVFJRFFFRUFJUUVnQlNFR0EwQWdBQ0FCSUFOc0lBSnFRUUowYWlBSklBZ2dCaUFIU1JzMkFnQWdCa0VCYWlFR0lBRkJBV29pQVNBRVJ3MEFDeUFFSUFWcUlRVWdBa0VCYWlJQ0lBTkhEUUFMREFRTElBVkZEUU5CQVNBQktBSWdJZ0pySVFOQkFDRUJBMEFnQUNBQlFRSjBhaUFDSUFNZ0FTQUhTUnMyQWdBZ0FVRUJhaUlCSUFWSERRQUxEQU1MSUFFb0FpQWhBaUFGQkVCQkFDRUJBMEFnQUNBQlFRSjBha0VCTmdJQUlBRkJBV29pQVNBRlJ3MEFDd3NnQzBVTkFpQURRWDlxSVE4Z0JFRi9haUVRSUFKQmYyb2hCa0VCSUFKQkFYUWlBV3NoQlNBQlFYOXFJUWtnQkNBQ2EwRUJkaUlLSVF3Z0F5QUNhMEVCZGlJTklRUWdDaUVJSUEwaEFVRUFJUWNEUUNBQUlBTWdDR3dnQVdwQkFuUnFJZzRvQWdBaUVVRUJSZ1JBSUE1QkFEWUNBQXNnRVVFQlJpRU9Ba0FDUUNBR1FYOUhEUUFnQVNBRVJ3MEFRUUFoQmlBSklRSWdCRUVCSUFSQkFVb2JRWDlxSWdFaEJBd0JDd0pBSUFaQkFVY05BQ0FCSUExSERRQkJBQ0VHSUFVaEFpQU5RUUZxSWdFZ0R5QUJJQTlJR3lJQklRME1BUXNDUUNBQ1FYOUhEUUFnQ0NBTVJ3MEFRUUFoQWlBRklRWWdERUVCSUF4QkFVb2JRWDlxSWdnaERBd0JDd0pBSUFKQkFVY05BQ0FJSUFwSERRQkJBQ0VDSUFraEJpQUtRUUZxSWdnZ0VDQUlJQkJJR3lJSUlRb01BUXNnQWlBSWFpRUlJQUVnQm1vaEFRc2dCeUFPYWlJSElBdEpEUUFMREFJTElBRW9BaHdoQnlBQktBSVlJUWdnQlFSQUlBbEJmMm9oQWtFQUlRRURRQ0FBSUFGQkFuUnFJQUkyQWdBZ0FVRUJhaUlCSUFWSERRQUxJQUpGRFFJTElBbEJmbW9oQVFOQUFrQWdDQ0FCSWdSQkFuUWlBV29vQWdBaUJpQURiaUlDSUFFZ0Iyb29BZ0FpQVNBRGJpSUZTdzBBSUFZZ0FpQURiR3NpQmlBQklBTWdCV3hySWdsTEJFQURRQ0FDUVFGcUlnSWdCVTBOQUF3Q0FBc0FDd05BSUFJZ0Eyd2hDaUFHSVFFRFFDQUFJQUVnQ21wQkFuUnFJQVEyQWdBZ0FVRUJhaUlCSUFsTkRRQUxJQUpCQVdvaUFpQUZUUTBBQ3dzZ0JFRi9haUVCSUFRTkFBc01BUXNnQlVVTkFFRUFJUUVEUUNBQUlBRkJBblJxSUFFZ0EyNGlBaUFKYkVFQmRpQUJJQUlnQTJ4cmFpQUpjRFlDQUNBQlFRRnFJZ0VnQlVjTkFBc0xDOFFCQVFWL0lBQW9BcWdKSVFRQ1FDQUFRYkFKYWlnQ0FDSUNSUTBBSUFKQmYyb2lBaUFCVFFSQUlBSWhBUXdCQ3lBQUtBSzhDU0VGQTBBQ1FDQUZJQUpCMkFGc2FpZ0NCQ0FFUncwQUlBTkJBV29pQXlBQUtBSVFLQUkwSWdaQkNpQUdRUXBMRzBrTkFDQUNJUUVNQWdzZ0FrRi9haUlDSUFGTERRQUxDd05BQWtBZ0FDZ0N2QWtnQVVIWUFXeHFJZ0lvQWdRZ0JFY05BQ0FDS0FMRUFTSURSUTBBSUFJZ0EwRi9hallDeEFFZ0FDZ0NsQWtnQUNnQ21Ba2dBUkFlSWdFTkFRc0xDNzBFQWd0L0FYNGpBRUhBQTJzaUJTUUFJQU1vQWdBaEJ5QUJLQUt3R2lFSUlBVkJBRFlDRENBQlFiQUpha0VBTmdJQUlBRWdBU2dDcUFsQkFXbzJBcWdKSUFVZ0F5Z0NNQ0FCS0FJTUtBSTBhallDQ0NBQlFjUUphaUVOSUFoQkRHb2hEZ0pBQTBBZ0FTZ0N2QWtoQkFKQUlBTW9BaVFOQUNBRUlBZEIyQUZzYWlnQ3hBRkZEUUJCQVNFRURBSUxJQU1wQWpRaER5QURLQUk4SVFzZ0FTZ0NxQWtoRENBRUlBZEIyQUZzSWdacUlnUWdBU2dDRENnQ09EWUNHQ0FFSUFzMkFoQWdCQ0FQTndJSUlBUWdERFlDQkFKQUlBTW9BZ1FpQkVFQ1JnMEFJQWtOQUNBRVFRZEdEUUFnQUNBRlFReHFFQUlpQkEwQ0lBVW9BZ3dpQkNBQktBS1lDU0FIYTBzRVFFRUJJUVFNQXdzZ0JFVUVRRUVBSVFrTUFRc2dEa0VBUWFRQkVBY2FJQWhCQURZQ0FFRUJJUWtMQWtBZ0JTZ0NEQ0lFQkVBZ0JTQUVRWDlxTmdJTURBRUxRUUFoQ1NBQUlBZ2dBU2dDdkFrZ0Jtb2dBeWdDQkNBREtBSXNFRkVpQkEwQ0N5QUJLQUs4Q1NBR2FpQUlJQUlnRFNBRlFRaHFJQWNnQVNnQ0RDZ0NRQ0FGUVJCcUVGQWlCQTBCSUFFb0Fyd0pJQVpxS0FMRUFTRUxJQUFRTGlFRUlBVW9BZ3doQmdKQUlBTW9BZ1JCZm1vaURFRUZTdzBBQWtBZ0RFRUJhdzRFQVFFQkFRQUxJQUVnQnpZQ3NBa0xJQVFnQm5JaEJrRUJJUVFnQVNnQ2xBa2dBU2dDbUFrZ0J4QWVJZ2RGUVFBZ0Joc05BU0FLSUF0QkFVWnFJUW9nQmcwQUN5QUJRYXdKYWlnQ0FDQUthaUlBSUFFb0FwZ0pTdzBBSUFFZ0FEWUNyQWxCQUNFRUN5QUZRY0FEYWlRQUlBUUw1Z0lCQjM5QkFTRUNBa0FnQUNnQ0FDQUJLQUlBUncwQUlBQW9BZ1FnQVNnQ0JFY05BQ0FBS0FJTUlBRW9BZ3hIRFFBZ0FDZ0NFQ0lESUFFb0FoQkhEUUFnQUNnQ0xDQUJLQUlzUncwQUlBQW9BakFnQVNnQ01FY05BQ0FBS0FJMElBRW9BalJIRFFBZ0FDZ0NPQ0FCS0FJNFJ3MEFJQUFvQWp3aUJTQUJLQUk4UncwQUlBQW9BbEFnQVNnQ1VFY05BQUpBSUFOQkFVc05BQ0FEUVFGclJRUkFJQUFvQWhnZ0FTZ0NHRWNOQWlBQUtBSWNJQUVvQWh4SERRSWdBQ2dDSUNBQktBSWdSdzBDSUFBb0FpUWlCQ0FCS0FJa1J3MENJQVJGRFFFZ0FTZ0NLQ0VHSUFBb0FpZ2hCMEVBSVFNRFFDQUhJQU5CQW5RaUNHb29BZ0FnQmlBSWFpZ0NBRWNOQXlBRUlBTkJBV29pQTBjTkFBc01BUXNnQUNnQ0ZDQUJLQUlVUncwQkN5QUZCRUFnQUNnQ1FDQUJLQUpBUncwQklBQW9Ba1FnQVNnQ1JFY05BU0FBS0FKSUlBRW9Ba2hIRFFFZ0FDZ0NUQ0FCS0FKTVJ3MEJDMEVBSVFJTElBSUwvd2tCQm44akFFRVFheUlFSkFBZ0FVRUFRZHdBRUFjaEF3SkFJQUJCQ0JBRElnRkJmMFlFUUVFQklRRU1BUXNnQXlBQk5nSUFJQUJCQVJBREdpQUFRUUVRQXhvZ0FFRUJFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUZFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUlFQU1pQVVGL1JnUkFRUUVoQVF3QkN5QURJQUUyQWdRZ0FDQURRUWhxRUFJaUFRMEFJQU1vQWdoQkgwc0VRRUVCSVFFTUFRc2dBQ0FFUVF4cUVBSWlBUTBBUVFFaEFTQUVLQUlNSWdKQkRFc05BQ0FEUVFFZ0FrRUVhblEyQWd3Z0FDQUVRUXhxRUFJaUFRMEFRUUVoQVNBRUtBSU1JZ0pCQWtzTkFDQURJQUkyQWhBQ1FDQUNRUUZMRFFBZ0FrRUJhd1JBSUFBZ0JFRU1haEFDSWdFTkFrRUJJUUVnQkNnQ0RDSUNRUXhMRFFJZ0EwRUJJQUpCQkdwME5nSVVEQUVMSUFCQkFSQURJZ0pCZjBZTkFTQURJQUpCQVVZMkFoZ2dBQ0FEUVJ4cUVBVWlBUTBCSUFBZ0EwRWdhaEFGSWdFTkFTQUFJQU5CSkdvUUFpSUJEUUZCQVNFQklBTW9BaVFpQWtIL0FVc05BU0FDQkVBZ0F5QUNRUUowRUFvaUFUWUNLQ0FCUlFSQVFmLy9BeUVCREFNTElBQWdBUkFGSWdFTkFrRUJJUUlEUUNBQ0lBTW9BaVJQRFFJZ0FrRUNkQ0VCSUFKQkFXb2hBaUFBSUFFZ0F5Z0NLR29RQlNJQlJRMEFDd3dDQ3lBRFFRQTJBaWdMSUFBZ0EwRXNhaEFDSWdFTkFFRUJJUUVnQXlnQ0xFRVFTdzBBSUFCQkFSQURJZ0pCZjBZTkFDQURJQUpCQVVZMkFqQWdBQ0FFUVF4cUVBSWlBUTBBSUFNZ0JDZ0NERUVCYWpZQ05DQUFJQVJCREdvUUFpSUJEUUJCQVNFQklBTWdCQ2dDREVFQmFqWUNPQ0FBUVFFUUEwRUJha0VDU1EwQUlBQkJBUkFEUVg5R0RRQWdBRUVCRUFNaUFrRi9SZzBBSUFNZ0FrRUJSaUlCTmdJOEFrQWdBVVVFUUNBREtBSTRJUVVnQXlnQ05DRUdEQUVMSUFBZ0EwRkFheEFDSWdFTkFTQUFJQU5CeEFCcUVBSWlBUTBCSUFBZ0EwSElBR29RQWlJQkRRRWdBQ0FEUWN3QWFoQUNJZ0VOQVVFQklRRWdBeWdDUUNBREtBSkVRWDl6SUFNb0FqUWlCa0VEZEdwS0RRRWdBeWdDU0NBREtBSk1RWDl6SUFNb0FqZ2lCVUVEZEdwS0RRRUxBa0FDUUFKQUFrQWdBeWdDQkVGMmFpSUhRU2xMRFFCQjR3QWhBVUdBcEFraEFnSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnQjBFQmF3NHBBQUVCQ3dzTEN3c0xBUUlEQ3dzTEN3c0xDd01FQlFzTEN3c0xDd3NHQmdjTEN3c0xDd3NMQ0FrS0MwR01BeUVCUVlDTUZTRUNEQWtMUVl3RElRRkJnTmczSVFJTUNBdEJtQVloQVVHQXNPOEFJUUlNQnd0QjFBd2hBVUdBN0wwQklRSU1CZ3RCa0J3aEFVR0E4S1VESVFJTUJRdEJnQ2doQVVHQWdPQURJUUlNQkF0QmdNQUFJUUZCZ0lDQUJpRUNEQU1MUVlERUFDRUJRWUNBc0FZaEFnd0NDMEhBckFFaEFVR0F3SnNVSVFJTUFRdEJnS0FDSVFGQmdJRGdJU0VDQ3lBQklBVWdCbXdpQVU4TkFRc2dCRUgvLy8vL0J6WUNEQ0FES0FJc0lRSU1BUXNnQkNBQ0lBRkJnQU5zYmlJQlFSQWdBVUVRU1JzaUFUWUNEQ0FES0FJc0lnSWdBVTBOQVFzZ0JDQUNOZ0lNSUFJaEFRc2dBeUFCTmdKWVFRRWhBU0FBUVFFUUF5SUNRWDlHRFFBZ0F5QUNRUUZHTmdKUUFrQWdBa0VCUncwQUlBTkJ1QWNRQ2lJQk5nSlVJQUZGQkVCQi8vOERJUUVNQWdzZ0FDQUJFQ3dpQVEwQklBTW9BbFFpQWlnQ21BZEZEUUJCQVNFQklBSW9BckFISUFJb0FyUUhJZ0pMRFFFZ0FpQURLQUlzU1EwQklBSWdBeWdDV0VzTkFTQURJQUpCQVNBQ0d6WUNXQXNnQUJBZlFRQWhBUXNnQkVFUWFpUUFJQUVMalFRQkRuOGdBUUovQWtBZ0FDOEJJQ0lIRFFBZ0FDOEJIQTBBUVFBTUFRdEJBZ3MyQWlBZ0FRSi9Ba0FnQUM4QklpSUNEUUFnQUM4QkhnMEFRUUFNQVF0QkFnczJBaWdnQVFKL0FrQWdBQzhCS0NJRERRQWdBQzhCSkEwQVFRQU1BUXRCQWdzMkFqQWdBUUovQWtBZ0FDOEJLaUlJRFFBZ0FDOEJKZzBBUVFBTUFRdEJBZ3MyQWpnZ0FTQUhJQUF2QVN3aUNYSkJBRWRCQVhRMkFrQWdBU0FDSUFBdkFTNGlCSEpCQUVkQkFYUTJBa2dnQVNBRElBQXZBVFFpQlhKQkFFZEJBWFEyQWxBZ0FTQUlJQUF2QVRZaUNuSkJBRWRCQVhRMkFsZ2dBU0FBTHdFd0lnMGdDWEpCQUVkQkFYUTJBbUFnQVNBQUx3RXlJZ3NnQkhKQkFFZEJBWFEyQW1nZ0FTQUFMd0U0SWd3Z0JYSkJBRWRCQVhRMkFuQWdBU0FBTHdFNklnNGdDbkpCQUVkQkFYUTJBbmhCQWlFR0lBRWdBQzhCSGlJUEJIOUJBZ1VnQUM4QkhFRUFSMEVCZEFzMkFnd2dBU0FQSUFBdkFTUWlCbkpCQUVkQkFYUTJBaFFnQUM4QkppRUFJQUVnRENBT2NrRUFSMEVCZERZQ2ZDQUJJQXNnREhKQkFFZEJBWFEyQW5RZ0FTQUxJQTF5UVFCSFFRRjBOZ0pzSUFFZ0JTQUtja0VBUjBFQmREWUNYQ0FCSUFRZ0JYSkJBRWRCQVhRMkFsUWdBU0FFSUFseVFRQkhRUUYwTmdKTUlBRWdBeUFJY2tFQVIwRUJkRFlDUENBQklBSWdBM0pCQUVkQkFYUTJBalFnQVNBQ0lBZHlRUUJIUVFGME5nSXNJQUVnQUNBR2NrRUFSMEVCZERZQ0hBdk1CZ0VMZnlNQVFZQU9heUlPSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0NHb2dCRXNOQUNBSFFRVnFJZ29nQTJvZ0JVc05BQ0FFSVFnZ0F5RUpEQUVMSUFBZ0RrSEFDbW9nQWlBRElBUWdCU0FJSUFkQkJXb2lDaUFJRUF3Z0RrSEFDbW9oQUVFQUlRSUxBa0FnQ2tVTkFDQUdRUUoySWhCRkRRQWdDQ0FHYXlFUklBQWdDQ0FKYkNBQ2FtcEJCV29oQWlBT0lRQURRQ0FDUVg5cUxRQUFJUWdnQWtGK2FpMEFBQ0VESUFKQmZXb3RBQUFoQlNBQ1FYeHFMUUFBSVFRZ0FrRjdhaTBBQUNFTUlCQWhEUU5BSUFBZ0FpMEFBQ0lKSUF3Z0JDQUlhaUlMYXlBRElBVnFRUlJzYWlBTFFRSjBhMm8yQWdBZ0FDQUNMUUFCSWdzZ0F5QUlha0VVYkNBRWFpQUZJQWxxSWdScklBUkJBblJyYWpZQ0JDQUFJQUl0QUFJaUR5QUlJQWxxUVJSc0lBVnFJQU1nQzJvaUJHc2dCRUVDZEd0cU5nSUlJQUFnQWkwQUF5SVNJQWtnQzJwQkZHd2dBMm9nQ0NBUGFpSURheUFEUVFKMGEybzJBZ3dnQUVFUWFpRUFJQUpCQkdvaEFpQUlJUXdnQ1NFRUlBc2hCU0FQSVFNZ0VpRUlJQTFCZjJvaURRMEFDeUFDSUJGcUlRSWdDa0YvYWlJS0RRQUxDd0pBSUFkQkFuWWlCMFVOQUNBR1JRMEFRY0FBSUFacklROGdEaUFHUVFKMGFpSUlJQVpCRkd4cUlRSkJBQ0FHYXlJUVFRTjBJUklnQmtFRGRDRUpJQVpCQTJ4QkFuUWhDd05BSUFZaEJBTkFJQUVnQ0NBSmFpZ0NBQ0lBSUFJZ0NXb29BZ0FnQWlBR1FRSjBJZzFxS0FJQUlnb2dBaUFTYWlnQ0FDSURhaUlGYXlBRlFRSjBhMm9nQWlnQ0FDSU1JQUlnRUVFQ2RDSVJhaWdDQUNJRmFrRVViR3BCZ0FScVFRcDFRYkF1YWkwQUFEb0FNQ0FCSUFnZ0RXb29BZ0FpRFNBS0lBTWdCV3BCRkd4cUlBQWdER29pQ21zZ0NrRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQTZBQ0FnQVNBSUtBSUFJZ29nRENBQUlBTnFRUlJzYWlBRklBMXFJZ3hySUF4QkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQU9nQVFJQUVnQ0NBUmFpZ0NBQ0FGSUFBZ0RXcEJGR3hxSUFNZ0Ntb2lBR3NnQUVFQ2RHdHFRWUFFYWtFS2RVR3dMbW90QUFBNkFBQWdDRUVFYWlFSUlBRkJBV29oQVNBQ1FRUnFJUUlnQkVGL2FpSUVEUUFMSUFFZ0Qyb2hBU0FDSUF0cUlRSWdDQ0FMYWlFSUlBZEJmMm9pQncwQUN3c2dEa0dBRG1va0FBdmxBd0VKZnlNQVFjQURheUlLSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0F5QUhhaUFGU3cwQUlBTkJBRWdOQUNBQ0lBaHFJQVJMRFFBZ0JDRUlJQU1oQ1F3QkN5QUFJQW9nQWlBRElBUWdCU0FJSUFjZ0NCQU1JQW9oQUVFQUlRSUxBa0FnQjBVTkFDQUdRUUoySWcxRkRRQkJFQ0FHYXlFT0lBZ2dCbXNoRHlBQUlBZ2dDV3dnQW1wcVFRVnFJUUlEUUNBQ1FYOXFMUUFBSVFnZ0FrRithaTBBQUNFR0lBSkJmV290QUFBaEFDQUNRWHhxTFFBQUlRVWdBa0Y3YWkwQUFDRUpJQTBoQ3dOQUlBRWdBaTBBQUNJRElBa2dCU0FJYWlJRWF5QUFJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FBSUFFZ0FpMEFBU0lFSUFVZ0JpQUlha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQU9nQUJJQUVnQWkwQUFpSU1JQUFnQXlBSWFrRVViR29nQkNBR2FpSUFheUFBUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBT2dBQ0lBRWdBaTBBQXlJUUlBWWdBeUFFYWtFVWJHb2dDQ0FNYWlJQWF5QUFRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FESUFGQkJHb2hBU0FDUVFScUlRSWdDQ0VKSUFNaEJTQUVJUUFnRENFR0lCQWhDQ0FMUVg5cUlnc05BQXNnQVNBT2FpRUJJQUlnRDJvaEFpQUhRWDlxSWdjTkFBc0xJQXBCd0FOcUpBQUw5UU1CQzM4akFFSEFBMnNpQ3lRQUFrQUNRQ0FDUVFCSURRQWdBMEVBU0EwQUlBSWdCbW9nQkVzTkFDQURJQWRxUVFWcUlBVkxEUUFnQXlFSURBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFZZ0IwRUZhaUFHRUF3Z0N5RUFJQVloQkVFQUlRSUxBa0FnQjBFQ2RpSU1SUTBBSUFaRkRRQkJ3QUFnQm1zaEVTQUVRUUYwSVEwZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVNJQUFnQkNBSWJDQUNhbW9nQkdvaUJ5QUVRUVZzYWlFQ0EwQWdCaUVBQTBBZ0FTQUhJQTFxTFFBQUlnTWdBaUFOYWkwQUFDQUNJQVJxTFFBQUlna2dBaUFTYWkwQUFDSUZhaUlJYXlBSVFRSjBhMm9nQWkwQUFDSUtJQUlnRDJvdEFBQWlDR3BCRkd4cVFSQnFRUVYxUWJBdWFpMEFBRG9BTUNBQklBUWdCMm90QUFBaUVDQUpJQVVnQ0dwQkZHeHFJQU1nQ21vaUNXc2dDVUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBRG9BSUNBQklBY3RBQUFpQ1NBS0lBTWdCV3BCRkd4cUlBZ2dFR29pQ21zZ0NrRUNkR3RxUVJCcVFRVjFRYkF1YWkwQUFEb0FFQ0FCSUFjZ0Qyb3RBQUFnQ0NBRElCQnFRUlJzYWlBRklBbHFJZ05ySUFOQkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBQWdCMEVCYWlFSElBRkJBV29oQVNBQ1FRRnFJUUlnQUVGL2FpSUFEUUFMSUFFZ0VXb2hBU0FDSUE1cUlRSWdCeUFPYWlFSElBeEJmMm9pREEwQUN3c2dDMEhBQTJva0FBdXFCZ0VOZnlNQVFiQUJheUlSSkFBZ0NFRUJhaUVLQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0Ntb2dCRXNOQUNBRElBbHFRUUZxSUFWTERRQWdCU0VNSUFRaENpQURJUThNQVFzZ0FDQVJJQUlnQXlBRUlBVWdDaUFKUVFGcUlnd2dDaEFNSUFBZ0JDQUZiR29nRVNBS0lBeHNhaUFDSUFNZ0JDQUZJQW9nRENBS0VBd2dFU0VBUVFBaEFnc0NRQ0FKUVFGMklnVkZEUUFnQ0VFQmRpSUVSUTBBUVJBZ0NHc2hFMEVJSUFkcklRdEJDQ0FHYXlFTklBcEJBWFFpRGlBSWF5RVVJQUFnQW1vaUZpQUtJQTlzYWlFQ0lBRWhBQ0FGSVJVRFFDQUNJQTVxTFFBQUlBZHNJQXNnQWlBS2FpMEFBQ0lEYkdvaENDQURJQWRzSUFzZ0FpMEFBR3hxSVFrZ0JDRURBMEFnQWtFQmFpSVFJQTVxTFFBQUlSSWdBQ0FKSUExc0lBb2dFR290QUFBaUNTQUhiQ0FMSUFJdEFBRnNhaUlRSUFac2FrRWdha0VHZGpvQUFDQUFJQWdnRFd3Z0J5QVNiQ0FKSUF0c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ0NBQ0xRQUNJUWtnQWtFQ2FpSUNJQTVxTFFBQUlSSWdBQ0FOSUJCc0lBSWdDbW90QUFBaUVDQUhiQ0FKSUF0c2FpSUpJQVpzYWtFZ2FrRUdkam9BQVNBQUlBZ2dEV3dnQnlBU2JDQUxJQkJzYWlJSUlBWnNha0VnYWtFR2Rqb0FDU0FBUVFKcUlRQWdBMEYvYWlJRERRQUxJQUlnRkdvaEFpQUFJQk5xSVFBZ0ZVRi9haUlWRFFBTElBRkJRR3NoQUNBV0lBd2dEMm9nQ214cUlRSURRQ0FDSUE1cUxRQUFJQWRzSUFzZ0FpQUthaTBBQUNJQmJHb2hDQ0FCSUFkc0lBc2dBaTBBQUd4cUlRa2dCQ0VEQTBBZ0FrRUJhaUlCSUE1cUxRQUFJUXdnQUNBSklBMXNJQUVnQ21vdEFBQWlBU0FIYkNBTElBSXRBQUZzYWlJSklBWnNha0VnYWtFR2Rqb0FBQ0FBSUFnZ0RXd2dCeUFNYkNBQklBdHNhaUlCSUFac2FrRWdha0VHZGpvQUNDQUNMUUFDSVFnZ0FrRUNhaUlDSUE1cUxRQUFJUXdnQUNBSklBMXNJQUlnQ21vdEFBQWlEeUFIYkNBSUlBdHNhaUlKSUFac2FrRWdha0VHZGpvQUFTQUFJQUVnRFd3Z0J5QU1iQ0FMSUE5c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ1NBQVFRSnFJUUFnQTBGL2FpSUREUUFMSUFJZ0ZHb2hBaUFBSUJOcUlRQWdCVUYvYWlJRkRRQUxDeUFSUWJBQmFpUUFDLzlFQVVGL0l3QkJzQUZySWdNa0FDQUFLQUlJSWdRRVFDQUFLQUlFSWg5QkEzUWhGaUFFSUI5c0lnUkJCblFoT3lBRVFRaDBJVHdnSDBFR2RDRTlJQjlCTUd3aFBpQWZRUVYwSVNVZ0gwRlFiQ0VyUVFBZ0gwRUVkQ0lhYXlJb1FRSjBJVDhnS0VFQmRDRXNJQU5CR0dvaElpQURRUXh5SVNNRFFBSkFJQUVvQWdnaUNVRUJSZzBBQWtBQ1FBSkFBa0FnQVNnQ3lBRWlBa1VFUUVFQklRWU1BUXRCQlNFR0lBbEJBa2NOQUVFRlFRRWdBU2dDQkNJSklBSW9BZ1JHR3lFR0lBRW9Bc3dCSWdRTkFVRUFJUVFNQXdzZ0FTZ0N6QUVpQkVVRVFFRUFJUVFNQXdzZ0NVRUNSdzBCSUFFb0FnUWhDUXNnQ1NBRUtBSUVSdzBCQ3lBR1FRSnlJUVlMQW44Z0JrRUNjU0l0QkVBQ1FDQUJLQUlBUVFWTkJFQWdCQ2dDQUVFR1NRMEJDeUFEUVFRMkFrQWdBMEVFTmdKSUlBTkJCRFlDT0NBRFFRUTJBakJCQVF3Q0MwRUNJUTlCQWlFSkFrQWdBUzhCSEEwQUlBUXZBVEFOQUVFQklRa2dBU2dDZENBRUtBSjhSdzBBSUFFdUFZUUJJQVF1QWF3QmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBRUxnR3VBV3NpQ1NBSlFSOTFJZ2xxSUFselFRTkxJUWtMSUFNZ0NUWUNNQUpBSUFFdkFSNE5BQ0FFTHdFeURRQkJBU0VQSUFFb0FuUWdCQ2dDZkVjTkFDQUJMZ0dJQVNBRUxnR3dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmlnRWdCQzRCc2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWpoQkFpRUZRUUloQ2dKQUlBRXZBU1FOQUNBRUx3RTREUUJCQVNFS0lBRW9BbmdnQkNnQ2dBRkhEUUFnQVM0QmxBRWdCQzRCdkFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBWllCSUFRdUFiNEJheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSkFBa0FnQVM4QkpnMEFJQVF2QVRvTkFFRUJJUVVnQVNnQ2VDQUVLQUtBQVVjTkFDQUJMZ0dZQVNBRUxnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0Qm1nRWdCQzRCd2dGcklnUWdCRUVmZFNJRWFpQUVjMEVEU3lFRkN5QURJQVUyQWtnZ0NTQVBjaUFLY2lBRmNrRUFSd3dCQ3lBRFFRQTJBa0FnQTBFQU5nSklJQU5CQURZQ09DQURRUUEyQWpCQkFBc2hDUUpBQWtBQ1FBSkFJQVpCQkhFaUxnUkFBa0FnQVNnQ0FDSUdRUVZOQkVBZ0FpZ0NBRUVHU1EwQkN5QURRUVEyQW5RZ0EwRUVOZ0tVQVNBRFFRUTJBbFFnQTBFRU5nSTBRUUVoQ1F3Q0MwRUNJUTlCQWlFRUFrQWdBUzhCSEEwQUlBSXZBU1lOQUVFQklRUWdBU2dDZENBQ0tBSjRSdzBBSUFFdUFZUUJJQUl1QVpnQmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBQ0xnR2FBV3NpQkNBRVFSOTFJZ1JxSUFSelFRTkxJUVFMSUFNZ0JEWUNOQUpBSUFFdkFTQU5BQ0FDTHdFcURRQkJBU0VQSUFFb0FuUWdBaWdDZUVjTkFDQUJMZ0dNQVNBQ0xnR2dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmpnRWdBaTRCb2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWxSQkFpRUZRUUloQ2dKQUlBRXZBU3dOQUNBQ0x3RTJEUUJCQVNFS0lBRW9BbndnQWlnQ2dBRkhEUUFnQVM0QnBBRWdBaTRCdUFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBYVlCSUFJdUFib0JheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSjBBa0FnQVM4Qk1BMEFJQUl2QVRvTkFFRUJJUVVnQVNnQ2ZDQUNLQUtBQVVjTkFDQUJMZ0dzQVNBQ0xnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0QnJnRWdBaTRCd2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFRkN5QURJQVUyQXBRQklBbEZEUUpCQVNFSkRBTUxJQU5CQURZQ2RDQURRUUEyQXBRQklBTkJBRFlDVkNBRFFRQTJBalFnQVNnQ0FDRUdDeUFHUVFaSkRRRWdBMEVETmdLZ0FTQURRb09BZ0lBd053S2tBU0FEUVFNMkFwQUJJQU5CQXpZQ2NDQURRUU0yQXF3QklBTkNnNENBZ0RBM0E1Z0JJQU5DZzRDQWdEQTNBNGdCSUFOQ2c0Q0FnREEzQTRBQklBTkNnNENBZ0RBM0EzZ2dBMEtEZ0lDQU1EY0RhQ0FEUW9PQWdJQXdOd05nSUFOQ2c0Q0FnREEzQTFnZ0EwS0RnSUNBTURjQ1RDQURRUU0yQWtRZ0EwRUROZ0k4REFJTElBUWdEM0lnQ25JZ0JYSkJBRWNoQ1FzQ1FBSi9JQVpCQTAwRVFDQUdRUUowUVl3MWFpZ0NBQXdCQzBFRUMwRUJSZ1JBSUFFZ0EwRXdhaEJFSUFNb0Fxd0JJUWNnQXlnQ3BBRWhEaUFES0FLY0FTRVFJQU1vQW93QklSa2dBeWdDaEFFaEJpQURLQUo4SVJjZ0F5Z0NiQ0VJSUFNb0FtUWhCQ0FES0FKY0lSUWdBeWdDVENFTUlBTW9Ba1FoQWlBREtBSThJUkVnQXlnQ3FBRWhIQ0FES0FLZ0FTRW1JQU1vQXBnQklRMGdBeWdDa0FFaEhTQURLQUtJQVNFU0lBTW9Bb0FCSVJVZ0F5Z0NlQ0ViSUFNb0FuQWhFeUFES0FKb0lRb2dBeWdDWUNFUElBTW9BbGdoQlNBREtBSlFJU2NNQVFzZ0F3Si9Ba0FnQXdKL0FrQUNRQ0FCS0FJQVFYNXFJZ1JCQVUwRVFDQUVRUUZyQkVBZ0F3Si9Ba0FnQVM4QklDSUVEUUFnQVM4QkhBMEFRUUFNQVF0QkFnc2lKellDVUNBREFuOENRQ0FCTHdFaUlnY05BQ0FCTHdFZURRQkJBQXdCQzBFQ0N5SUZOZ0pZSUFNQ2Z3SkFJQUV2QVNnaUJnMEFJQUV2QVNRTkFFRUFEQUVMUVFJTElnODJBbUFnQXdKL0FrQWdBUzhCS2lJT0RRQWdBUzhCSmcwQVFRQU1BUXRCQWdzaUNqWUNhQ0FEQW44Q1FDQUJMd0V3SWg0TkFDQUJMd0VzRFFCQkFBd0JDMEVDQ3lJZE5nS1FBU0FEQW44Q1FDQUJMd0V5SWhBTkFDQUJMd0V1RFFCQkFBd0JDMEVDQ3lJTk5nS1lBU0FEQW44Q1FDQUJMd0U0SWdzTkFDQUJMd0UwRFFCQkFBd0JDMEVDQ3lJbU5nS2dBU0FEQW44Q1FDQUJMd0U2SWhnTkFDQUJMd0UyRFFCQkFBd0JDMEVDQ3lJY05nS29BVUVDSVJ0QkFpRVRBa0FnQkNBQkx3RXNJaGR5RFFCQkFTRVRJQUV1QWFRQklBRXVBWXdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQkxnR21BU0FCTGdHT0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdBU2dDZkNBQktBSjBSeUVUQ3lBRElCTTJBbkFDUUNBSElBRXZBUzRpSUhJTkFFRUJJUnNnQVM0QnFBRWdBUzRCa0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRXVBYW9CSUFFdUFaSUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FCS0FKOElBRW9BblJISVJzTElBTWdHellDZUVFQ0lSSkJBaUVWQWtBZ0JpQUJMd0UwSWhseURRQkJBU0VWSUFFdUFiUUJJQUV1QVp3QmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJMZ0cyQVNBQkxnR2VBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEZRc2dBeUFWTmdLQUFRSkFJQTRnQVM4Qk5pSWhjZzBBUVFFaEVpQUJMZ0c0QVNBQkxnR2dBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVM0QnVnRWdBUzRCb2dGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9Bb0FCSUFFb0FuaEhJUklMSUFNZ0VqWUNpQUVnQVM4QkhnMENJQUV2QVJ3RVFFRUNJUkVnQTBFQ05nSThJQUV2QVNRaUNBMEdRUUFoREVFQURBY0xRUUFoRVNBRFFRQTJBanhCQUNFTVFRQWdBUzhCSkNJSVJRMEdHZ3dGQ3lBREFuOENRQ0FCTHdFZ0lnSU5BQ0FCTHdFY0RRQkJBQXdCQzBFQ0N5SW5OZ0pRSUFNQ2Z3SkFJQUV2QVNJaUJnMEFJQUV2QVI0TkFFRUFEQUVMUVFJTElnVTJBbGdnQXdKL0FrQWdBUzhCS0NJT0RRQWdBUzhCSkEwQVFRQU1BUXRCQWdzaUR6WUNZQ0FEQW44Q1FDQUJMd0VxSWdnTkFDQUJMd0VtRFFCQkFBd0JDMEVDQ3lJS05nSm9JQU1nQWlBQkx3RXNJaGR5UVFCSFFRRjBJaE0yQW5BZ0F5QUdJQUV2QVM0aUMzSkJBRWRCQVhRaUd6WUNlQ0FESUE0Z0FTOEJOQ0llY2tFQVIwRUJkQ0lWTmdLQUFTQURJQWdnQVM4Qk5pSVpja0VBUjBFQmRDSVNOZ0tJQVNBRElBRXZBVEFpRUNBWGNrRUFSMEVCZENJZE5nS1FBU0FESUFFdkFUSWlJQ0FMY2tFQVIwRUJkQ0lOTmdLWUFTQURJQUV2QVRnaUlTQWVja0VBUjBFQmRDSW1OZ0tnQVNBRElBRXZBVG9pQnlBWmNrRUFSMEVCZENJY05nS29BU0FEQW44Q1FDQUJMd0VlSWlRTkFDQUJMd0VjRFFCQkFBd0JDMEVDQ3lJUk5nSThJQUV2QVNZRVFDQUJMd0VrSVJnTUF3c2dBUzhCSkNJWURRSkJBQ0VZUVFBTUF3c2dBUzRCaGdFaEZDQUJMZ0dPQVNFRVFRSWhCU0FEQW45QkFpQUJMd0VjSWhFZ0FTOEJJQ0l2Y2cwQUdrRUJJQUV1QVl3QklBRXVBWVFCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUJvZ0JDQVVheUlHSUFaQkgzVWlCbW9nQm5OQkEwc0xJaWMyQWxBZ0FTNEJpZ0VoQ0NBQkxnR1NBU0VHQWtBZ0FTOEJIaUl3SUFFdkFTSWlFSElOQUVFQklRVWdBUzRCa0FFZ0FTNEJpQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBSUFZZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6UVFOTElRVUxJQU1nQlRZQ1dDQUJMZ0dXQVNFTUlBRXVBWjRCSVFkQkFpRUtJQU1DZjBFQ0lBRXZBU1FpTVNBQkx3RW9JaGR5RFFBYVFRRWdBUzRCbkFFZ0FTNEJsQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBR2lBSElBeHJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN3c2lEellDWUNBQkxnR2FBU0V5SUFFdUFhSUJJUXNDUUNBQkx3RW1Ja0FnQVM4QktpSXpjZzBBUVFFaENpQUJMZ0dnQVNBQkxnR1lBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQ3lBeWF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzaENnc2dBeUFLTmdKb0lBRXVBYVlCSVI1QkFpRWJRUUloRXdKQUlDOGdBUzhCTENJMGNnMEFRUUVoRXlBQkxnR2tBU0FCTGdHTUFXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdIaUFFYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQktBSjhJQUVvQW5SSElSTUxJQU1nRXpZQ2NDQUJMZ0dxQVNFT0FrQWdFQ0FCTHdFdUloaHlEUUJCQVNFYklBRXVBYWdCSUFFdUFaQUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FPSUFacklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9BbndnQVNnQ2RFY2hHd3NnQXlBYk5nSjRJQUV1QWJZQklSbEJBaUVTUVFJaEZRSkFJQmNnQVM4Qk5DSWdjZzBBUVFFaEZTQUJMZ0cwQVNBQkxnR2NBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnR1NBSGF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJLQUtBQVNBQktBSjRSeUVWQ3lBRElCVTJBb0FCSUFFdUFib0JJU0VDUUNBeklBRXZBVFlpTlhJTkFFRUJJUklnQVM0QnVBRWdBUzRCb0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlDRWdDMnNpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEVnc2dBeUFTTmdLSUFTQUJMZ0d1QVNFMlFRSWhEU0FEQW45QkFpQTBJQUV2QVRBaVFYSU5BQnBCQVNBQkxnR3NBU0FCTGdHa0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWFJRFlnSG1zaUFpQUNRUjkxSWdKcUlBSnpRUU5MQ3lJZE5nS1FBU0FCTGdHeUFTRWtBa0FnR0NBQkx3RXlJamR5RFFCQkFTRU5JQUV1QWJBQklBRXVBYWdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBa0lBNXJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN5RU5DeUFESUEwMkFwZ0JJQUV1QWI0QklTbEJBaUVjSUFNQ2YwRUNJQ0FnQVM4Qk9DSTRjZzBBR2tFQklBRXVBYndCSUFFdUFiUUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQm9nS1NBWmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTElpWTJBcUFCSUFFdUFjSUJJVGtDUUNBMUlBRXZBVG9pUW5JTkFFRUJJUndnQVM0QndBRWdBUzRCdUFGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlEa2dJV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxJUndMSUFNZ0hEWUNxQUZCQWlFQ0lBTUNmMEVDSUJFZ01ISU5BQnBCQVNBQkxnR0lBU0FCTGdHRUFXc2lFU0FSUVI5MUloRnFJQkZ6UVFOTERRQWFJQWdnRkdzaUZDQVVRUjkxSWhScUlCUnpRUU5MQ3lJUk5nSThBa0FnTUNBeGNnMEFRUUVoQWlBQkxnR1VBU0FCTGdHSUFXc2lGQ0FVUVI5MUloUnFJQlJ6UVFOTERRQWdEQ0FJYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBQktBSjRJQUVvQW5SSElRSUxJQU1nQWpZQ1JFRUNJUlFnQXdKL1FRSWdNU0JBY2cwQUdrRUJJQUV1QVpnQklBRXVBWlFCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUJvZ01pQU1heUlJSUFoQkgzVWlDR29nQ0hOQkEwc0xJZ3cyQWt3Q1FDQVFJQzl5RFFCQkFTRVVJQUV1QVpBQklBRXVBWXdCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBR0lBUnJJZ1FnQkVFZmRTSUVhaUFFYzBFRFN5RVVDeUFESUJRMkFseEJBaUVJUVFJaEJBSkFJQkFnRjNJTkFFRUJJUVFnQVM0Qm5BRWdBUzRCa0FGckloQWdFRUVmZFNJUWFpQVFjMEVEU3cwQUlBY2dCbXNpQmlBR1FSOTFJZ1pxSUFaelFRTkxEUUFnQVNnQ2VDQUJLQUowUnlFRUN5QURJQVEyQW1RQ1FDQVhJRE55RFFCQkFTRUlJQUV1QWFBQklBRXVBWndCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUNBTElBZHJJZ1lnQmtFZmRTSUdhaUFHYzBFRFN5RUlDeUFESUFnMkFteEJBaUVHSUFNQ2YwRUNJQmdnTkhJTkFCcEJBU0FCTGdHb0FTQUJMZ0drQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBYUlBNGdIbXNpQnlBSFFSOTFJZ2RxSUFkelFRTkxDeUlYTmdKOEFrQWdHQ0FnY2cwQVFRRWhCaUFCTGdHMEFTQUJMZ0dvQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBZ0dTQU9heUlISUFkQkgzVWlCMm9nQjNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQlFRSWhFQ0FEQW45QkFpQWdJRFZ5RFFBYVFRRWdBUzRCdUFFZ0FTNEJ0QUZySWdjZ0IwRWZkU0lIYWlBSGMwRURTdzBBR2lBaElCbHJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN3c2lHVFlDakFFQ1FDQTNJRUZ5RFFCQkFTRVFJQUV1QWJBQklBRXVBYXdCYXlJSElBZEJIM1VpQjJvZ0IzTkJBMHNOQUNBa0lEWnJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN5RVFDeUFESUJBMkFwd0JRUUloQjBFQ0lRNENRQ0EzSURoeURRQkJBU0VPSUFFdUFid0JJQUV1QWJBQmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQXBJQ1JySWdzZ0MwRWZkU0lMYWlBTGMwRURTdzBBSUFFb0FvQUJJQUVvQW54SElRNExJQU1nRGpZQ3BBRUNRQ0E0SUVKeURRQkJBU0VISUFFdUFjQUJJQUV1QWJ3QmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQTVJQ2xySWdjZ0IwRWZkU0lIYWlBSGMwRURTeUVIQ3lBRElBYzJBcXdCREFVTFFRSWhFU0FEUVFJMkFqd2dBUzhCSkNFSURBSUxRUUlMSWd3MkFreEJBaUVFSUFOQkFpQUlRUUJIUVFGMElBNGJJZ2cyQW13Z0EwRUNJQVpCQUVkQkFYUWdBaHNpRkRZQ1hDQURJQWNnSVhKQkFFZEJBWFFpQnpZQ3JBRWdBeUFRSUNCeVFRQkhRUUYwSWhBMkFwd0JJQU1nR1NBZWNrRUFSMEVCZENJWk5nS01BU0FESUFzZ0YzSkJBRWRCQVhRaUZ6WUNmRUVDSVFJQ1FDQVlJQ1J5RFFCQkFTRUNJQUV1QVpRQklBRXVBWWdCYXlJWUlCaEJIM1VpR0dvZ0dITkJBMHNOQUNBQkxnR1dBU0FCTGdHS0FXc2lHQ0FZUVI5MUloaHFJQmh6UVFOTERRQWdBU2dDZUNBQktBSjBSeUVDQ3lBRElBSTJBa1FDUUNBR0lBNXlEUUJCQVNFRUlBRXVBWndCSUFFdUFaQUJheUlHSUFaQkgzVWlCbW9nQm5OQkEwc05BQ0FCTGdHZUFTQUJMZ0dTQVdzaUJpQUdRUjkxSWdacUlBWnpRUU5MRFFBZ0FTZ0NlQ0FCS0FKMFJ5RUVDeUFESUFRMkFtUkJBaUVPUVFJaEJnSkFJQXNnSG5JTkFFRUJJUVlnQVM0QnRBRWdBUzRCcUFGcklnc2dDMEVmZFNJTGFpQUxjMEVEU3cwQUlBRXVBYllCSUFFdUFhb0JheUlMSUF0QkgzVWlDMm9nQzNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQkFrQWdJQ0FoY2cwQVFRRWhEaUFCTGdHOEFTQUJMZ0d3QVdzaUN5QUxRUjkxSWd0cUlBdHpRUU5MRFFBZ0FTNEJ2Z0VnQVM0QnNnRnJJZ3NnQzBFZmRTSUxhaUFMYzBFRFN3MEFJQUVvQW9BQklBRW9BbnhISVE0TElBTWdEallDcEFFTUFnc2dDQ0VNUVFJTElnSTJBa1FnQXlBQkx3RW1JQXhCLy84RGNYSkJBRWRCQVhRaUREWUNUQ0FEQW44Q1FDQUhSUVJBSUFRRVFFRUNJUlFnQTBFQ05nSmNJQVlOQWtFQURBTUxRUUFoRkNBRFFRQTJBbHhCQUNBR1JRMENHZ3dCQzBFQ0lSUWdBMEVDTmdKY0MwRUNDeUlFTmdKa0lBTkJBaUFPUVFCSFFRRjBJQVliSWdnMkFtd2dBd0ovQWtBZ0lFVUVRQ0FYQkVCQkFpRVhJQU5CQWpZQ2ZDQVpEUUpCQUF3REMwRUFJUmNnQTBFQU5nSjhRUUFnR1VVTkFob01BUXRCQWlFWElBTkJBallDZkF0QkFnc2lCallDaEFFZ0F5QUxJQmh5UVFCSFFRRjBJZ2MyQXF3QklBTWdDeUFRY2tFQVIwRUJkQ0lPTmdLa0FTQURRUUlnRUVFQVIwRUJkQ0FlR3lJUU5nS2NBU0FESUJrZ0lYSkJBRWRCQVhRaUdUWUNqQUVMSUFrZ0ozSWdCWElnRDNJZ0NuSWdFM0lnRzNJZ0ZYSWdFbklnSFhJZ0RYSWdKbklnSEhJZ0VYSWdBbklnREhJZ0ZISWdCSElnQ0hJZ0YzSWdCbklnR1hJZ0VISWdEbklnQjNKRkRRRUxJQUVvQWd3aENTQURJQUVvQWhBaUJTQUJLQUlVSWdScUlnWkJNeUFHUVROSUd5SUdRUUFnQmtFQVNodEIwQmRxTFFBQUlnWTJBaUFnQXlBRUlBbHFJZ0pCTXlBQ1FUTklHeUlDUVFBZ0FrRUFTaHNpQ0VHUUYyb3RBQUFpQWpZQ0hDQURJQWhCQTJ4QmtCaHFJZ2cyQWhnQ1FDQXRSUTBBSUFRZ0FTZ0N6QUVvQWhRaUIwY0VRQ0FESUFRZ0IycEJBV3BCQVhZaUJ5QUZhaUlOUVRNZ0RVRXpTQnNpRFVFQUlBMUJBRW9iUWRBWGFpMEFBRFlDQ0NBRElBY2dDV29pQjBFeklBZEJNMGdiSWdkQkFDQUhRUUJLR3lJSFFaQVhhaTBBQURZQ0JDQURJQWRCQTJ4QmtCaHFOZ0lBREFFTElBTWdCallDQ0NBRElBSTJBZ1FnQXlBSU5nSUFDd0pBSUM1RkRRQWdCQ0FCS0FMSUFTZ0NGQ0lIUndSQUlBTWdCQ0FIYWtFQmFrRUJkaUlFSUFWcUlnVkJNeUFGUVROSUd5SUZRUUFnQlVFQVNodEIwQmRxTFFBQU5nSVVJQU1nQkNBSmFpSUVRVE1nQkVFelNCc2lCRUVBSUFSQkFFb2JJZ1JCa0JkcUxRQUFOZ0lRSUFNZ0JFRURiRUdRR0dvMkFnd01BUXNnQXlBR05nSVVJQU1nQWpZQ0VDQURJQWcyQWd3TElBQW9BZ0FnSHlBNmJDSVVRUWgwYWlBcVFRUjBhaUVKUVFBaEFrRURJUVFnQTBFd2FpRUdBMEFnQmlnQ0JDSUZCRUFnQ1NBRklDTWdHaEFaQ3lBR0tBSU1JZ1VFUUNBSlFRUnFJQVVnSWlBYUVCa0xJQVlvQWhRaUJRUkFJQWxCQ0dvZ0JTQWlJQm9RR1FzZ0JpZ0NIQ0lGQkVBZ0NVRU1haUFGSUNJZ0doQVpDeUFFSVFnQ1FBSkFBa0FnQmlnQ0FDSUVJQVlvQWdnaUQwY05BQ0FFSUFZb0FoQkhEUUFnQkNBR0tBSVlSdzBBSUFSRkRRSWdBeUFDUVF4c2FpSUZLQUlJSVF3Z0JTZ0NCQ0ViSUFSQkJFa05BU0FiUVFKMlFRSnFJUkJCRUNFUElBa2hCQU5BQWtBZ0JDQW9haUlDTFFBQUlnb2dCQzBBQUNJT2F5SUZJQVZCSDNVaUJXb2dCWE1pQnlBYlR3MEFJQVFnTEdvaUVTMEFBQ0lGSUFwcklnMGdEVUVmZFNJTmFpQU5jeUFNVHcwQUlBUWdHbW9pSEMwQUFDSVNJQTVySWcwZ0RVRWZkU0lOYWlBTmN5QU1UdzBBQWtBZ0J5QVFTUVJBSUFRZ0pXb2lGeTBBQUNFVkFuOGdCQ0FyYWlJTkxRQUFJaE1nQ21zaUJ5QUhRUjkxSWdkcUlBZHpJQXhKQkVCQkF5RWRJQUlnRWlBS0lBNXFJQVZxSWdKQkFYUnFJQk5xUVFScVFRTjJPZ0FBSUJFZ0FpQVRha0VDYWtFQ2Rqb0FBQ0FDUVFScUlSRWdCQ0EvYWkwQUFDRUhJQk5CQTJ3TUFRc2dDaUFTYWlFUklBVWhCMEVDSVIwZ0FpRU5RUUlMSVFJZ0RTQUNJQkZxSUFkQkFYUnFJQjEyT2dBQUlCVWdEbXNpQWlBQ1FSOTFJZ0pxSUFKeklBeFBEUUVnQkNBRklBb2dFbW9nRG1vaUFrRUJkR29nRldwQkJHcEJBM1k2QUFBZ0hDQUNJQlZxUVFKcVFRSjJPZ0FBSUJjZ0FpQVZRUU5zYWlBRUlENXFMUUFBUVFGMGFrRUVha0VEZGpvQUFBd0NDeUFDSUFvZ0Vtb2dCVUVCZEdwQkFtcEJBblk2QUFBTElBUWdCU0FPYWlBU1FRRjBha0VDYWtFQ2Rqb0FBQXNnQkVFQmFpRUVJQTlCZjJvaUR3MEFDd3dDQ3dKL0lBUUVRQ0FKSUFRZ0F5QUNRUXhzYWlBYUVCZ2dCaWdDQ0NFUEN5QVBDd1JBSUFsQkJHb2dEeUFESUFKQkRHeHFJQm9RR0FzZ0JpZ0NFQ0lFQkVBZ0NVRUlhaUFFSUFNZ0FrRU1iR29nR2hBWUN5QUdLQUlZSWdSRkRRRWdDVUVNYWlBRUlBTWdBa0VNYkdvZ0doQVlEQUVMSUFRZ0JTZ0NBR3BCZjJvdEFBQWlBa0VCYWlFSFFRQWdBbXNoRGtFUUlROGdDU0VFQTBBQ1FDQUVJQ2hxSWhNdEFBQWlEU0FFTFFBQUlncHJJZ1VnQlVFZmRTSUZhaUFGY3lBYlR3MEFJQVFnTEdvaUVTMEFBQ0lTSUExcklnVWdCVUVmZFNJRmFpQUZjeUFNVHcwQUlBUWdHbW9pRUMwQUFDSVZJQXBySWdVZ0JVRWZkU0lGYWlBRmN5QU1UdzBBSUFJaEJTQUVJQ3RxTFFBQUlod2dEV3NpSFNBZFFSOTFJaDFxSUIxeklBeEpCRUFnRVNBU0lBNGdBaUFLSUExcVFRRnFRUUYySUJKQkFYUnJJQnhxUVFGMUlnVWdCU0FDU2hzZ0JTQU9TQnRxT2dBQUlBY2hCUXNnRXlBTkFuOGdCQ0FsYWkwQUFDSVRJQXBySWhFZ0VVRWZkU0lSYWlBUmN5QU1TUVJBSUJBZ0ZTQU9JQUlnQ2lBTmFrRUJha0VCZGlBVlFRRjBheUFUYWtFQmRTSVRJQk1nQWtvYklCTWdEa2diYWpvQUFDQUZRUUZxSVFVTFFRQWdCV3NpRXdzZ0JTQVNJQlZySUFvZ0RXdEJBblJxUVFScVFRTjFJaElnRWlBRlNoc2dFaUFUU0JzaUJXcEJzQzVxTFFBQU9nQUFJQVFnQ2lBRmEwR3dMbW90QUFBNkFBQUxJQVJCQVdvaEJDQVBRWDlxSWc4TkFBc0xJQWhCZjJvaEJDQUdRU0JxSVFZZ0NTQTlhaUVKUVFJaEFpQUlEUUFMSUFFb0Fnd2hCQ0FESUFFb0FoQWlCU0FCS0FJVUlnWWdBU2dDR0NJQ2FpSUpRVE1nQ1VFelNCc2lDVUVBSUFsQkFFb2JRUUowUWVBOWFpZ0NBQ0lKYWlJSVFUTWdDRUV6U0JzaUNFRUFJQWhCQUVvYlFkQVhhaTBBQUNJSU5nSWdJQU1nQkNBSmFpSUhRVE1nQjBFelNCc2lCMEVBSUFkQkFFb2JJZzFCa0JkcUxRQUFJZ2MyQWh3Z0F5QU5RUU5zUVpBWWFpSU5OZ0lZQWtBZ0xVVU5BQ0FHSUFFb0Fzd0JLQUlVSWd4SEJFQWdBeUFKSUFJZ0RHb2lERUV6SUF4Qk0wZ2JJZ3hCQUNBTVFRQktHMEVDZEVIZ1BXb29BZ0JxUVFGcVFRRjJJZ3dnQldvaUQwRXpJQTlCTTBnYklnOUJBQ0FQUVFCS0cwSFFGMm90QUFBMkFnZ2dBeUFFSUF4cUlneEJNeUFNUVROSUd5SU1RUUFnREVFQVNoc2lERUdRRjJvdEFBQTJBZ1FnQXlBTVFRTnNRWkFZYWpZQ0FBd0JDeUFESUFnMkFnZ2dBeUFITmdJRUlBTWdEVFlDQUFzQ1FDQXVSUTBBSUFZZ0FTZ0N5QUVvQWhRaURFY0VRQ0FESUFVZ0NTQUNJQXhxSWdaQk15QUdRVE5JR3lJR1FRQWdCa0VBU2h0QkFuUkI0RDFxS0FJQWFrRUJha0VCZGlJSmFpSUZRVE1nQlVFelNCc2lCVUVBSUFWQkFFb2JRZEFYYWkwQUFEWUNGQ0FESUFRZ0NXb2lCRUV6SUFSQk0wZ2JJZ1JCQUNBRVFRQktHeUlFUVpBWGFpMEFBRFlDRUNBRElBUkJBMnhCa0JocU5nSU1EQUVMSUFNZ0NEWUNGQ0FESUFjMkFoQWdBeUFOTmdJTUN5QUFLQUlBSUR4cUlCUkJCblJxSUNwQkEzUnFJZ2tnTzJvaEJFRUFJUW9nQTBFd2FpRUdRUUFoQWdOQUlBWW9BZ1FpQlFSQUlBa2dCU0FqSUJZUUVDQUVJQVlvQWdRZ0l5QVdFQkFMSUFZb0FpUWlCUVJBSUFrZ0dtb2dCU0FqSUJZUUVDQUVJQnBxSUFZb0FpUWdJeUFXRUJBTElBWW9BaFFpQlFSQUlBbEJCR29nQlNBaUlCWVFFQ0FFUVFScUlBWW9BaFFnSWlBV0VCQUxJQVlvQWpRaUJRUkFJQWtnR21wQkJHb2dCU0FpSUJZUUVDQUVJQnBxUVFScUlBWW9BalFnSWlBV0VCQUxJQUloQlFKQUFrQWdCaWdDQUNJQ0lBWW9BZ2dpRDBjTkFDQUNJQVlvQWhCSERRQWdBaUFHS0FJWVJ3MEFJQUpGRFFFZ0NTQUNJQU1nQ2tFTWJHb2lBaUFXRUNzZ0JDQUdLQUlBSUFJZ0ZoQXJEQUVMQW44Z0FnUkFJQWtnQWlBRElBcEJER3hxSWdJZ0ZoQVNJQVFnQmlnQ0FDQUNJQllRRWlBR0tBSUlJUThMSUE4TEJFQWdDVUVDYWlBUElBTWdDa0VNYkdvaUFpQVdFQklnQkVFQ2FpQUdLQUlJSUFJZ0ZoQVNDeUFHS0FJUUlnSUVRQ0FKUVFScUlBSWdBeUFLUVF4c2FpSUNJQllRRWlBRVFRUnFJQVlvQWhBZ0FpQVdFQklMSUFZb0FoZ2lBa1VOQUNBSlFRWnFJQUlnQXlBS1FReHNhaUlDSUJZUUVpQUVRUVpxSUFZb0FoZ2dBaUFXRUJJTElBUWdKV29oQkNBSklDVnFJUWtnQmtGQWF5RUdRUUVoQWtFQ0lRb2dCVVVOQUFzTFFRQWdLa0VCYWlJRUlBUWdIMFlpQkJzaEtpQUJRZGdCYWlFQklBUWdPbW9pT2lBQUtBSUlTUTBBQ3dzZ0EwR3dBV29rQUF1Q0JRRUtmeU1BUVpBQmF5SUxKQUFDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSGFpQUVTdzBBSUFNZ0NHcEJBV29nQlVzTkFDQUZJUXdnQXlFT0RBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFjZ0NFRUJhaUlNSUFjUURDQUFJQVFnQld4cUlBc2dCeUFNYkdvZ0FpQURJQVFnQlNBSElBd2dCeEFNSUFzaEFDQUhJUVJCQUNFQ0N3SkFJQWhCQVhZaUJVVU5BQ0FIUVFGMklnTkZEUUJCRUNBSGF5RVFRUWdnQm1zaENTQUVRUUYwSWcwZ0Iyc2hFU0FBSUFKcUloSWdCQ0FPYkdvaEJ5QUJJUUlnQlNFSUEwQWdBeUVBQTBBZ0J5QU5haTBBQUNFS0lBSWdDU0FITFFBQWJDQUVJQWRxTFFBQUlnOGdCbXhxUVFOMFFTQnFRUVoyT2dBQUlBSWdDU0FQYkNBR0lBcHNha0VEZEVFZ2FrRUdkam9BQ0NBSFFRRnFJZ29nRFdvdEFBQWhEeUFDSUFrZ0J5MEFBV3dnQkNBS2FpMEFBQ0lLSUFac2FrRURkRUVnYWtFR2Rqb0FBU0FDSUFrZ0Ntd2dCaUFQYkdwQkEzUkJJR3BCQm5ZNkFBa2dBa0VDYWlFQ0lBZEJBbW9oQnlBQVFYOXFJZ0FOQUFzZ0J5QVJhaUVISUFJZ0VHb2hBaUFJUVg5cUlnZ05BQXNnQVVGQWF5RUNJQklnRENBT2FpQUViR29oQndOQUlBTWhBQU5BSUFjZ0RXb3RBQUFoQVNBQ0lBa2dCeTBBQUd3Z0JDQUhhaTBBQUNJSUlBWnNha0VEZEVFZ2FrRUdkam9BQUNBQ0lBZ2dDV3dnQVNBR2JHcEJBM1JCSUdwQkJuWTZBQWdnQjBFQmFpSUJJQTFxTFFBQUlRZ2dBaUFKSUFjdEFBRnNJQUVnQkdvdEFBQWlBU0FHYkdwQkEzUkJJR3BCQm5ZNkFBRWdBaUFCSUFsc0lBWWdDR3hxUVFOMFFTQnFRUVoyT2dBSklBSkJBbW9oQWlBSFFRSnFJUWNnQUVGL2FpSUFEUUFMSUFjZ0VXb2hCeUFDSUJCcUlRSWdCVUYvYWlJRkRRQUxDeUFMUVpBQmFpUUFDLzBFQVF0L0l3QkJrQUZySWd3a0FDQUhRUUZxSVFrQ1FBSkFJQUpCQUVnTkFDQURJQWhxSUFWTERRQWdBMEVBU0EwQUlBSWdDV29nQkVzTkFDQUVJUWtnQXlFTERBRUxJQUFnRENBQ0lBTWdCQ0FGSUFrZ0NDQUpFQXdnQUNBRUlBVnNhaUFNSUFnZ0NXeHFJQUlnQXlBRUlBVWdDU0FJSUFrUURDQU1JUUFnQ0NFRlFRQWhBZ3NDUUNBSVFRRjJJZ2hGRFFBZ0IwRUJkaUlFUlEwQVFSQWdCMnNoRGtFSUlBWnJJUW9nQ1VFQmRDQUhheUVQSUFBZ0Ftb2lFU0FKSUF0c2FpRUNJQUVoQXlBSUlRQURRQ0FFSVFjRFFDQUNRUUZxSUFscUxRQUFJUkFnQWlBSmFpMEFBQ0VOSUFNZ0FpMEFBU0lTSUFac0lBb2dBaTBBQUd4cVFRTjBRU0JxUVFaMk9nQUFJQU1nQmlBUWJDQUtJQTFzYWtFRGRFRWdha0VHZGpvQUNDQUNMUUFDSVEwZ0FrRUNhaUlDSUFscUxRQUFJUk1nQXlBR0lBMXNJQW9nRW14cVFRTjBRU0JxUVFaMk9nQUJJQU1nQmlBVGJDQUtJQkJzYWtFRGRFRWdha0VHZGpvQUNTQURRUUpxSVFNZ0IwRi9haUlIRFFBTElBSWdEMm9oQWlBRElBNXFJUU1nQUVGL2FpSUFEUUFMSUFGQlFHc2hBeUFSSUFVZ0Myb2dDV3hxSVFJRFFDQUVJUWNEUUNBQ1FRRnFJQWxxTFFBQUlRQWdBaUFKYWkwQUFDRUJJQU1nQWkwQUFTSUZJQVpzSUFvZ0FpMEFBR3hxUVFOMFFTQnFRUVoyT2dBQUlBTWdBQ0FHYkNBQklBcHNha0VEZEVFZ2FrRUdkam9BQ0NBQ0xRQUNJUUVnQWtFQ2FpSUNJQWxxTFFBQUlRc2dBeUFCSUFac0lBVWdDbXhxUVFOMFFTQnFRUVoyT2dBQklBTWdCaUFMYkNBQUlBcHNha0VEZEVFZ2FrRUdkam9BQ1NBRFFRSnFJUU1nQjBGL2FpSUhEUUFMSUFJZ0Qyb2hBaUFESUE1cUlRTWdDRUYvYWlJSURRQUxDeUFNUVpBQmFpUUFDN2tIQVFWL0l3QkJFR3NpQkNRQUFrQWdBQ0FCUVFCQnlBQVFCeUlERUFJaUFRMEFRUUVoQVNBREtBSUFRZjhCU3cwQUlBQWdBMEVFYWhBQ0lnRU5BRUVCSVFFZ0F5Z0NCRUVmU3cwQUlBQkJBUkFERFFBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNDQ0FBSUFSQkRHb1FBaUlCRFFBZ0F5QUVLQUlNUVFGcUlnRTJBZ3dnQVVFSVN3UkFRUUVoQVF3QkN3SkFJQUZCQWtrTkFDQUFJQU5CRUdvUUFpSUJEUUVnQXlnQ0VDSUJRUVpMSWdJRVFFRUJJUUVNQWdzZ0FnMEFBa0FDUUFKQUFrQWdBVUVCYXc0R0JBRUNBZ0lEQUFzZ0F5QURLQUlNSWdGQkFuUVFDaUlDTmdJVUlBSkZCRUJCLy84RElRRU1CUXNnQVVVTkEwRUFJUUlEUUNBQUlBUkJER29RQWlJQkRRVWdBeWdDRkNBQ1FRSjBhaUFFS0FJTVFRRnFOZ0lBSUFKQkFXb2lBaUFES0FJTVNRMEFDd3dEQ3lBRElBTW9BZ3dpQWtFQ2RFRjhhaUlCRUFvaUJUWUNHQ0FESUFFUUNpSUdOZ0ljUWYvL0F5RUJJQVZGRFFNZ0JrVU5BeUFDUVFGR0RRSkJBQ0VDQTBBZ0FDQUVRUXhxRUFJaUFRMEVJQUpCQW5RaUJTQURLQUlZYWlBRUtBSU1OZ0lBSUFBZ0JFRU1haEFDSWdFTkJDQURLQUljSUFWcUlBUW9BZ3cyQWdBZ0FrRUJhaUlDSUFNb0FneEJmMnBKRFFBTERBSUxRUUVoQVNBQVFRRVFBeUlDUVg5R0RRSWdBeUFDUVFGR05nSWdJQUFnQkVFTWFoQUNJZ0VOQWlBRElBUW9BZ3hCQVdvMkFpUU1BUXNnQUNBRVFReHFFQUlpQVEwQklBTWdCQ2dDREVFQmFpSUJOZ0lvSUFNZ0FVRUNkQkFLSWdJMkFpd2dBa1VFUUVILy93TWhBUXdDQ3lBQlJRMEFJQU1vQWd4QkFuUkJyRHRxS0FJQUlRWkJBQ0VDQTBBZ0FDQUdFQU1oQlNBREtBSXNJQUpCQW5ScUlBVTJBZ0JCQVNFQklBVWdBeWdDREU4TkFpQUNRUUZxSWdJZ0F5Z0NLRWtOQUFzTElBQWdCRUVNYWhBQ0lnRU5BRUVCSVFFZ0JDZ0NEQ0lDUVI5TERRQWdBeUFDUVFGcU5nSXdJQUFnQkVFTWFoQUNJZ0VOQUVFQklRRWdCQ2dDREVFZlN3MEFJQUJCQVJBREJFQU1BUXNnQUVFQ0VBTkJBa3NFUUF3QkN5QUFJQVJCQ0dvUUJTSUJEUUFnQkNnQ0NFRWFhaUlCUVROTEJFQkJBU0VCREFFTElBTWdBVFlDTkNBQUlBUkJDR29RQlNJQkRRQWdCQ2dDQ0VFYWFrRXpTd1JBUVFFaEFRd0JDeUFBSUFSQkNHb1FCU0lCRFFCQkFTRUJJQVFvQWdnaUFrRU1ha0VZU3cwQUlBTWdBallDT0NBQVFRRVFBeUlDUVg5R0RRQWdBeUFDUVFGR05nSThJQUJCQVJBRElnSkJmMFlOQUNBRElBSkJBVVkyQWtBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNSQ0FBRUI5QkFDRUJDeUFFUVJCcUpBQWdBUXZxQlFFSmZ3SkFJQUlvQXB3Q1JRUkFEQUVMUVFFaEJnTkFBa0FDUUNBQ0lBVkJGR3hxS0FLZ0FpSUVRUVZMRFFBZ0JFRUJhdzRGQUFBQUFBTUJDeUFGUVFGcUlRVU1BUXNMSUFRaEJnc0Nmd0pBSUFFb0FoQWlCRUVCVFFSQUlBUkJBV3NFUUNBREtBSUFRUVZHQkVBZ0FFSUFOd0lBSUFJb0FoUWhCVUVBSVFRTUF3c2dBQ2dDQUNJRUlBSW9BaFFpQlUwTkFpQUVJQVZySUFFb0FoUWlCMEVCZGtrTkFpQUFLQUlFSUFkcURBTUxRUUFoQlFKL1FRQWdBeWdDQUVFRlJnMEFHaUFBS0FJTUlnY2dBQ2dDQ0NBQ0tBSU1UUTBBR2lBQktBSU1JQWRxQ3lFSFFRQWhCQUovSUFFb0FpUWlDQVJBSUFJb0Fnd2dCMm9oQlFzZ0JTQURLQUlFSWdwRklBVkJBRWR4YXlJSkN3UkFJQWxCZjJvaUF5QURJQWh1SWdzZ0NHeHJJUU1MSUFnRVFDQUJLQUlvSVF4QkFDRUZBMEFnRENBRlFRSjBhaWdDQUNBRWFpRUVJQVZCQVdvaUJTQUlSdzBBQ3dzQ1FDQUpSUVJBUVFBaEJBd0JDeUFFSUF0c0lRUWdBU2dDS0NFSVFRQWhCUU5BSUFnZ0JVRUNkR29vQWdBZ0JHb2hCQ0FGUVFGcUlnVWdBMDBOQUFzTElBcEZCRUFnQVNnQ0hDQUVhaUVFQ3lBR1JRUkFJQUlvQWlBaEF5QUJLQUlnSVFFZ0FpZ0NIQ0VHSUFBZ0J6WUNEQ0FBSUFJb0FndzJBZ2dnQmlBQklBTnFJZ0JCSDNVZ0FIRWdCR3BxRHdzZ0FFSUFOd0lJUVFBUEMwRUFJUVZCQUNFRUlBTW9BZ0JCQlVjRVFDQUFLQUlNSVFVZ0FDZ0NDQ0FDS0FJTUlnUkxCRUFnQVNnQ0RDQUZhaUVGQ3lBRUlBVnFRUUYwSUFNb0FnUkZheUVFQ3lBR1JRUkFJQUFnQlRZQ0RDQUFJQUlvQWd3MkFnZ2dCQThMSUFCQ0FEY0NDRUVBRHdzQ1FDQUZJQVJORFFBZ0JTQUVheUFCS0FJVUlnRkJBWFpORFFBZ0FDZ0NCQ0FCYXd3QkN5QUFLQUlFQ3lFRUlBTW9BZ1JGQkVBZ0JDQUZhaUFDS0FJWUlnQkJIM1VnQUhGcUR3c2dBQ0FFTmdJRUlBSW9BaGdoQVNBR0JFQWdBRUVBTmdJRUlBQkJBQ0FCYXlBQlFSOTFjVFlDQUVFQUR3c2dBQ0FGTmdJQUlBUWdCV29nQVVFZmRTQUJjV29MdkFFQkNIOGdBZ1JBSUFGQmYyb2hCMEVBSUFGclFkZ0JiQ0VJUVFFZ0FXdEIyQUZzSVFrZ0FVRi9jMEhZQVd3aENnTkFJQUFnQmtIWUFXeHFJZ01nQTBHb2ZtcEJBQ0FFR3pZQ3lBRWdBd0ovSUFWRkJFQWdBMEVBTmdMTUFVRUFEQUVMSUFNZ0F5QUlhallDekFFZ0F5QUpha0VBSUFRZ0Iwa2JDellDMEFFZ0F5QURJQXBxUVFBZ0JCdEJBQ0FGR3pZQzFBRkJBQ0FFUVFGcUlnTWdBU0FEUmlJREd5RUVJQU1nQldvaEJTQUdRUUZxSWdZZ0FrY05BQXNMQzNjQkFuOUJBU0VDQWtBZ0FFRUJFQU5CZjBZTkFDQUJJQUJCQWhBRE5nSUVJQUVnQUVFRkVBTWlBRFlDQUNBQVFYNXFRUU5KRFFBQ1FDQUFRUXhMRFFCQkFTQUFkQ0lEUWNBOGNVVUVRQ0FEUWFBRGNVVU5BU0FBUVFaR0RRSWdBU2dDQkEwQkRBSUxJQUVvQWdRTkFRdEJBQ0VDQ3lBQ0M1SVRBUVovSUFBZ0FTZ0NBQ0lOTmdJQUlBQWdBQ2dDeEFGQkFXbzJBc1FCSUFJZ0JSQWRBa0FDUUFKQUFrQUNRQ0FOUVI5R0JFQWdBRUVBTmdJVUlBQW9Bc1FCUVFGTERRRWdBRUVjYWlFSklBRkJ5QUpxSVFSQkZ5RUJJQWNoQUFOQUlBbEJFRHNCQUNBQUlBUW9BZ0E2QUFBZ0FDQUVLQUlFT2dBQklBQWdCQ2dDQ0RvQUFpQUFJQVFvQWd3NkFBTWdBQ0FFS0FJUU9nQUVJQUFnQkNnQ0ZEb0FCU0FBSUFRb0FoZzZBQVlnQUNBRUtBSWNPZ0FISUFBZ0JDZ0NJRG9BQ0NBQUlBUW9BaVE2QUFrZ0FDQUVLQUlvT2dBS0lBQWdCQ2dDTERvQUN5QUFJQVFvQWpBNkFBd2dBQ0FFS0FJME9nQU5JQUFnQkNnQ09Eb0FEaUFBSUFRb0FqdzZBQThnQVNJRFFYOXFJUUVnQ1VFQ2FpRUpJQUJCRUdvaEFDQUVRVUJySVFRZ0F3MEFDeUFDSUFjUUd3d0VDeUFBUVJ4cUlRa2dEUVJBSUFrZ0FTa0NrQUkzQWdBZ0NTQUJLUUcrQWpjQkxpQUpJQUVwQXJnQ053SW9JQWtnQVNrQ3NBSTNBaUFnQ1NBQktRS29BamNDR0NBSklBRXBBcUFDTndJUUlBa2dBU2tDbUFJM0FnZ2dCQ2dDQUNFS0FrQWdBU2dDQ0NJTFJRMEFJQVFnQ2lBTGFpSUtOZ0lBSUFRZ0NrRi9UQVIvSUFwQk5Hb0ZJQXBCTkVnTkFTQUtRVXhxQ3lJS05nSUFDeUFBSUFvMkFoUWdBVUhJRDJvaERDQUJRY2dDYWlFRUFrQUNRQ0FBS0FJQVFRWk5CRUFnQ1M4QkFFVU5BVUVCSVFnZ0JDQUtRUUFnRENnQ0FCQUdSUTBDREFnTElBQXZBVXdFUUNBQlFjZ09haUFLRURFTFFiQTBJUXBCRHlFSUEwQWdDQ0VMSUFRZ0FTQUtLQUlBUVFKMGFrSElEbW9vQWdBaUNEWUNBQUpBQWtBZ0NFVUVRQ0FKTHdFQVJRMEJDMEVCSVFnZ0JDQUFLQUlVUVFFZ0RDZ0NBQkFHUlEwQkRBb0xJQVJCLy8vL0J6WUNBQXNnQ2tFRWFpRUtJQXRCZjJvaENDQU1RUVJxSVF3Z0NVRUNhaUVKSUFSQlFHc2hCQ0FMRFFBTERBUUxJQVJCLy8vL0J6WUNBQXNnQVVHSUEyb2hCQUpBSUFBdkFSNEVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSE1EMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJ5QU5xSVFRQ1FDQUFMd0VnQkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCMEE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUVlnRWFpRUVBa0FnQUM4QklnUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFkUVBhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVSElCR29oQkFKQUlBQXZBU1FFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUhZRDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCaUFWcUlRUUNRQ0FBTHdFbUJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQjNBOXFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFjZ0ZhaUVFQWtBZ0FDOEJLQVJBUVFFaENDQUVJQUFvQWhSQkFDQUJRZUFQYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJQm1vaEJBSkFJQUF2QVNvRVFFRUJJUWdnQkNBQUtBSVVRUUFnQVVIa0Qyb29BZ0FRQmtVTkFRd0hDeUFFUWYvLy93YzJBZ0FMSUFGQnlBWnFJUVFDUUNBQUx3RXNCRUJCQVNFSUlBUWdBQ2dDRkVFQUlBRkI2QTlxS0FJQUVBWkZEUUVNQndzZ0JFSC8vLzhITmdJQUN5QUJRWWdIYWlFRUFrQWdBQzhCTGdSQVFRRWhDQ0FFSUFBb0FoUkJBQ0FCUWV3UGFpZ0NBQkFHUlEwQkRBY0xJQVJCLy8vL0J6WUNBQXNnQVVISUIyb2hCQUpBSUFBdkFUQUVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSHdEMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJpQWhxSVFRQ1FDQUFMd0V5QkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCOUE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUWNnSWFpRUVBa0FnQUM4Qk5BUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFmZ1BhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVR0lDV29oQkFKQUlBQXZBVFlFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUg4RDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCeUFscUlRUUNRQ0FBTHdFNEJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQmdCQnFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFZZ0thaUVFQWtBZ0FDOEJPZ1JBUVFFaENDQUVJQUFvQWhSQkFDQUJRWVFRYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJRUdvaERDQUJRY2dLYWlFRURBSUxJQWxDQURjQ0FDQUpRZ0EzQVM0Z0NVSUFOd0lvSUFsQ0FEY0NJQ0FKUWdBM0FoZ2dDVUlBTndJUUlBbENBRGNDQ0NBQUlBUW9BZ0EyQWhRTUFnc2dBRUtRZ01DQWdJS0FDRGNCSENBQVFwQ0F3SUNBZ29BSU53RkVJQUJDa0lEQWdJQ0NnQWczQVR3Z0FFS1FnTUNBZ0lLQUNEY0JOQ0FBUXBDQXdJQ0Fnb0FJTndFc0lBQkNrSURBZ0lDQ2dBZzNBU1JCQUE4TElBQW9BaGdnQUNnQ0ZHb2lDMEV6SUF0Qk0wZ2JJZ3RCQUNBTFFRQktHMEVDZEVIZ1BXb29BZ0FoQ1FKQUlBQXZBVTVGQkVBZ0FDOEJVRVVOQVFzZ0FVR0lEMm9nQ1JBd0N5QUVJQUZCaUE5cUtBSUFJZ3MyQWdBQ1FBSkFJQXRGQkVBZ0FDOEJQRVVOQVF0QkFTRUlJQVFnQ1VFQklBd29BZ0FRQmtVTkFRd0VDeUFFUWYvLy93YzJBZ0FMSUFRZ0FTZ0NqQThpQ3pZQ1FDQUVRVUJySVFvQ1FBSkFJQXRGQkVBZ0FDOEJQa1VOQVF0QkFTRUlJQW9nQ1VFQklBd29BZ1FRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NrQThpQ3pZQ2dBRWdCRUdBQVdvaENnSkFBa0FnQzBVRVFDQUFRVUJyTHdFQVJRMEJDMEVCSVFnZ0NpQUpRUUVnRENnQ0NCQUdSUTBCREFRTElBcEIvLy8vQnpZQ0FBc2dCQ0FCS0FLVUR5SUxOZ0xBQVNBRVFjQUJhaUVLQWtBQ1FDQUxSUVJBSUFBdkFVSkZEUUVMUVFFaENDQUtJQWxCQVNBTUtBSU1FQVpGRFFFTUJBc2dDa0gvLy84SE5nSUFDeUFFSUFFb0FwZ1BJZ3MyQW9BQ0lBUkJnQUpxSVFvQ1FBSkFJQXRGQkVBZ0FDOEJSRVVOQVF0QkFTRUlJQW9nQ1VFQklBd29BaEFRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NuQThpQ3pZQ3dBSWdCRUhBQW1vaENnSkFBa0FnQzBVRVFDQUFMd0ZHUlEwQkMwRUJJUWdnQ2lBSlFRRWdEQ2dDRkJBR1JRMEJEQVFMSUFwQi8vLy9CellDQUFzZ0JDQUJLQUtnRHlJTE5nS0FBeUFFUVlBRGFpRUtBa0FDUUNBTFJRUkFJQUF2QVVoRkRRRUxRUUVoQ0NBS0lBbEJBU0FNS0FJWUVBWkZEUUVNQkFzZ0NrSC8vLzhITmdJQUN5QUVJQUVvQXFRUElnczJBc0FESUFSQndBTnFJUVFDUUFKQUlBdEZCRUFnQUM4QlNrVU5BUXRCQVNFSUlBUWdDVUVCSUF3b0Fod1FCa1VOQVF3RUN5QUVRZi8vL3djMkFnQUxJQTFCQmtrTkFDQUFJQUVnQWlBRklBWWdCeEJXSWdoRkRRRU1BZ3NnQUNBQklBTWdCU0FDSUFjUVZ5SUlEUUVMUVFBaENBc2dDQXVXSFFFSGZ5TUFRUkJySWdja0FDQUJRUUJCcUJBUUJ5RUZJQUFnQjBFRWFoQUNJUUVnQnlnQ0JDRUlBa0FDUUFKQUlBTkJmbW9pQTBFRlN3MEFBa0FnQTBFQmF3NEVBUUVCQVFBTFFRRWhBeUFCRFFJZ0NFRUdhaUlHUVI5TkRRRU1BZ3RCQVNFRElBRU5BU0FJUVFGcUlnWkJIMHNOQVFzZ0JTQUdOZ0lBQWtBZ0JrRWZSZ1JBQTBBZ0FDZ0NDQVJBSUFCQkFSQURSUTBCREFRTEN5QUZRY2dDYWlFR0EwQWdCeUFBUVFnUUF5SUJOZ0lFSUFGQmYwWU5BeUFHSUFFMkFnQWdCa0VFYWlFR0lBbEJBV29pQ1VHQUEwY05BQXNNQVF0QkFpQUdRUVpISUFaQkJra2JJUW9DUUFKQUlBWkJCRWtOQUNBR1FRVkxEUUFnQUNBSFFReHFFQUlOQVNBSEtBSU1JZ0ZCQTBzTkFTQUZJQUUyQXJBQklBQWdCMEVNYWhBQ0RRRWdCeWdDRENJQlFRTkxEUUVnQlNBQk5nSzBBU0FBSUFkQkRHb1FBZzBCSUFjb0Fnd2lBVUVEU3cwQklBVWdBVFlDdUFFZ0FDQUhRUXhxRUFJTkFTQUhLQUlNSWdGQkEwc05BU0FGSUFFMkFyd0JBa0FnQkVFQ1NRMEFJQVpCQlVZTkFDQUFJQWRCREdvZ0JFRUNTeUlCRUJjTkFpQUhLQUlNSWdnZ0JFOE5BaUFGSUFnMkFzQUJJQUFnQjBFTWFpQUJFQmNOQWlBSEtBSU1JZ2dnQkU4TkFpQUZJQWcyQXNRQklBQWdCMEVNYWlBQkVCY05BaUFIS0FJTUlnZ2dCRThOQWlBRklBZzJBc2dCSUFBZ0IwRU1haUFCRUJjTkFpQUhLQUlNSWdFZ0JFOE5BaUFGSUFFMkFzd0JDeUFISUFVb0FyQUJJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93SFFBU0FBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dIU0FTQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVlnQVEwQUN5QUhJQVVvQXJRQklnRkJBazBFZnlBQlFRSjBRZkEwYWlnQ0FBVkJBd3MyQWd4QkFDRUdBMEFnQUNBSFFRaHFFQVVpQXcwQ0lBVWdCa0VDZEdvaUFTQUhLQUlJT3dIZ0FTQUFJQWRCQ0dvUUJTSUREUUlnQVNBSEtBSUlPd0hpQVNBSElBY29BZ3dpQVVGL2FqWUNEQ0FHUVFGcUlRWWdBUTBBQ3lBSElBVW9BcmdCSWdGQkFrMEVmeUFCUVFKMFFmQTBhaWdDQUFWQkF3czJBZ3hCQUNFR0EwQWdBQ0FIUVFocUVBVWlBdzBDSUFVZ0JrRUNkR29pQVNBSEtBSUlPd0h3QVNBQUlBZEJDR29RQlNJRERRSWdBU0FIS0FJSU93SHlBU0FISUFjb0Fnd2lBVUYvYWpZQ0RDQUdRUUZxSVFZZ0FRMEFDeUFISUFVb0Fyd0JJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93R0FBaUFBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dHQ0FpQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVpCQUNFRElBRU5BQXNNQVF0QkFDRURJQXBCQWtzTkFBSkFBbjhDUUFKQUFrQWdDa0VCYXc0Q0JBRUFDeUFIUVFBMkFnZ2dCU0FBRUE4aUFVRWZkallDRENBQlFRQk9EUUVnQVVFQmRDRUdRUUFNQWdzZ0JFRUNUd1JBUVFNaEFTQUdRUU5OQkVBZ0JrRUNkRUg4Tkdvb0FnQWhBUXNnQkVFQ1N5RUxRUUVoQXdOQUlBQWdCMEVNYWlBTEVCY05CU0FIS0FJTUlnZ2dCRThOQlNBRklBbEJBblJxSUFnMkFwQUJJQUVpQ0VGL2FpRUJJQWxCQVdvaENTQUlEUUFMQzBFRElRTWdCa0VEVFFSQUlBWkJBblJCL0RScUtBSUFJUU1MUVFBaEJnTkFJQU1oQVNBQUlBZEJDR29RQlNJRERRUWdCU0FHUVFKMGFpSUVJQWNvQWdnN0FhQUJJQUFnQjBFSWFoQUZJZ01OQkNBRUlBY29BZ2c3QWFJQklBRkJmMm9oQXlBR1FRRnFJUVlnQVEwQUMwRUFJUU1NQXdzZ0JTQUJRUngyTmdKTUlBRkJCSFFoQmtFQkN5RURJQVVnQmtFZmRqWUNFQ0FGSUFaQkFFZ0VmeUFHUVFGMEJTQUZJQVpCSEhZMkFsQWdBMEVCYWlFRElBWkJCSFFMSWdGQkgzWTJBaFFnQlNBQlFRQklCSDhnQVVFQmRBVWdCU0FCUVJ4Mk5nSlVJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0lZSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNXQ0FEUVFGcUlRTWdBVUVFZEFzaUFVRWZkallDSENBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBbHdnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWlBZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pnSUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJa0lBVWdBVUVBU0FSL0lBRkJBWFFGSUFVZ0FVRWNkallDWkNBRFFRRnFJUU1nQVVFRWRBc2lBVUVmZGpZQ0tDQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pvSUFOQkFXb2hBeUFCUVFSMEN5RUdBa0FnQUNBRFFRTnNRUWhxRUF0QmYwWU5BQ0FIUVFFMkFnZ2dCU0FBRUE4aUFVRWZkallDTEFKL0lBRkJBRWdFUUNBQlFRRjBJUVpCQUF3QkN5QUZJQUZCSEhZMkFtd2dBVUVFZENFR1FRRUxJUU1nQlNBR1FSOTJOZ0l3SUFVZ0JrRUFTQVIvSUFaQkFYUUZJQVVnQmtFY2RqWUNjQ0FEUVFGcUlRTWdCa0VFZEFzaUFVRWZkallDTkNBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBblFnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWpnZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0o0SUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJOElBVkJRR3NnQVVFQVNBUi9JQUZCQVhRRklBVWdBVUVjZGpZQ2ZDQURRUUZxSVFNZ0FVRUVkQXNpQVVFZmRqWUNBQ0FGSUFGQkFFZ0VmeUFCUVFGMEJTQUZJQUZCSEhZMkFvQUJJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0pFSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNoQUVnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWtnZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNpQUVnQTBFQmFpRURJQUZCQkhRTElRWWdBQ0FEUVFOc1FRaHFFQXRCZjBZTkFDQUhJQVkyQWd3Z0IwRUNOZ0lJREFFTElBY2dCallDREVFQklRTU1BUXRCQVNFRElBQWdCMEVNYWhBQ0RRQWdCeWdDRENJQlFRTkxEUUFnQlNBQk5nS01BVUVBSVFNTElBTU5BUUpBSUFwQkFVY0VRQ0FBSUFkQkJHb2dDa1VRTFNJRERRTWdCU0FIS0FJRUlnRTJBZ1FnQVVVTkFnd0JDeUFGSUFVb0FnQWlBVUY1YWlJRFFRSjBRWEJ4SWdSQlVHb2dCQ0FEUVF0TEcwRVBRUUFnQVVFU1N4dHlOZ0lFQzBFQklRTWdBQ0FIUVF4cUVBVU5BU0FIS0FJTUlnRkJHbXBCTTBzTkFTQUZJQUUyQWdnZ0JVR1FBbW9oQ0NBRktBSUVJUVFDUUFKQUlBVW9BZ0JCQjBrRVFFRUFJUWxCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FJSUFsQkFuUnFRYmdOYWlBQUlBZ2dDVUVHZEdwQk9Hb2dBaUFKSUFnUURVRVFFQWtpQTBFUWRqWUNBQ0FEUVE5eERRUWdDQ0FKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FJSUFsQkFYSWlCa0VDZEdwQnVBMXFJQUFnQ0NBR1FRWjBha0U0YWlBQ0lBWWdDQkFOUVJBUUNTSURRUkIyTmdJQUlBTkJEM0VOQkNBSUlBWkJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBZ2dDVUVDY2lJR1FRSjBha0c0RFdvZ0FDQUlJQVpCQm5ScVFUaHFJQUlnQmlBSUVBMUJFQkFKSWdOQkVIWTJBZ0FnQTBFUGNRMEVJQWdnQmtFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQ0NBSlFRTnlJZ1pCQW5ScVFiZ05haUFBSUFnZ0JrRUdkR3BCT0dvZ0FpQUdJQWdRRFVFUUVBa2lBMEVRZGpZQ0FDQURRUTl4RFFRZ0JTQUdRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc01BUXRCQUNFSklBQWdCVUhJRG1vZ0FrRUFJQWdRRFVFUUVBa2lBMEVQY1EwQklBVWdBMEVFZGtIL0FYRTdBY0FDSUFWQmtBSnFJUVpCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FHSUFsQkFuUnFRYmdOYWlBQUlBWWdDVUVHZEdwQlBHb2dBaUFKSUFnUURVRVBFQWtpQTBFUGRqWUNBQ0FEUVE5eERRTWdCaUFKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FHSUFsQkFYSWlDa0VDZEdwQnVBMXFJQUFnQmlBS1FRWjBha0U4YWlBQ0lBb2dDQkFOUVE4UUNTSURRUTkyTmdJQUlBTkJEM0VOQXlBR0lBcEJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBWWdDVUVDY2lJS1FRSjBha0c0RFdvZ0FDQUdJQXBCQm5ScVFUeHFJQUlnQ2lBSUVBMUJEeEFKSWdOQkQzWTJBZ0FnQTBFUGNRMERJQVlnQ2tFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQmlBSlFRTnlJZ3BCQW5ScVFiZ05haUFBSUFZZ0NrRUdkR3BCUEdvZ0FpQUtJQWdRRFVFUEVBa2lBMEVQZGpZQ0FDQURRUTl4RFFNZ0JTQUtRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc0xJQVJCQTNFRVFDQUFJQVZCaUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIQ0FpQUFJQVZCbUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIRUFndEJBQ0VESUFSQkFuRkZEUUFnQUNBRlFjd0thaUFDUVJBZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCaUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzQUlnQUNBRlFZd0xhaUFDUVJFZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCakJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzZ0lnQUNBRlFjd0xhaUFDUVJJZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCa0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0QUlnQUNBRlFZd01haUFDUVJNZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0Z0lnQUNBRlFjd01haUFDUVJRZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1QUlnQUNBRlFZd05haUFDUVJVZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbkJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1Z0lnQUNBRlFjd05haUFDUVJZZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCb0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2QUlnQUNBRlFZd09haUFDUVJjZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCcEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2Z0lMSUFBZ0FDZ0NDQ0FBS0FJRUlBQW9BZ0JyUVFOMGFqWUNFQ0FERFFFTFFRQWhBd3NnQjBFUWFpUUFJQU1McFJRQkRIOENmeUFBS0FMSUFTSUhCRUFnQUNnQ0JDQUhLQUlFUmd3QkMwRUFDeUVLQWtBZ0JrVU5BQ0FLUlEwQVFRQWdDa0VDSUFBb0FzZ0JLQUlBSWdkQkJrY2dCMEVHU1J0QkFrWWJJUW9MQW44Z0FDZ0N6QUVpQndSQUlBQW9BZ1FnQnlnQ0JFWU1BUXRCQUFzaEJ3SkFJQVpGRFFBZ0IwVU5BRUVBSUFkQkFpQUFLQUxNQVNnQ0FDSUhRUVpISUFkQkJra2JRUUpHR3lFSEN3Si9JQUFvQXRRQklna0VRQ0FBS0FJRUlBa29BZ1JHREFFTFFRQUxJUWtDUUNBR1JRMEFJQWxGRFFCQkFpQUFLQUxVQVNnQ0FDSUFRUVpISUFCQkJra2JRUUpISVFrTElBcEJBRWNnQjBFQVIzRWlEU0FKUVFCSGNTRU9JQVZCQWtzaEQwRVFJUXNEUUFKQUlBOUZCRUFDUUFKQUFrQWdCVUVCYXc0Q0FRSUFDeUFCQW44Z0RRUkFJQVF0QUFNZ0JDMEFBaUFFTFFBQklBUXRBQUFnQXkwQUJDQURMUUFESUFNdEFBRWdBeTBBQW1wcWFtcHFhbXBCQkdwQkEzWWhCaUFETFFBSUlBTXRBQWNnQXkwQUJTQURMUUFHYW1wcVFRSnFRUUoyREFFTElBY0VRQ0FETFFBRUlBTXRBQU1nQXkwQUFTQURMUUFDYW1wcVFRSnFRUUoySVFZZ0F5MEFDQ0FETFFBSElBTXRBQVVnQXkwQUJtcHFha0VDYWtFQ2Rnd0JDeUFLUlFSQVFZQUJJUVpCZ0FFTUFRc2dCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYWtFQ2FrRUNkaUlHQzBIL0FYRkJnWUtFQ0d3aUFEWUFIQ0FCSUFaQi93RnhRWUdDaEFoc0lnWTJBQmdnQVNBQU5nQVVJQUVnQmpZQUVDQUJJQUEyQUF3Z0FTQUdOZ0FJSUFFZ0FEWUFCQ0FCSUFZMkFBQUNmeUFLQkVBZ0JDMEFCeUFFTFFBR0lBUXRBQVVnQkMwQUJHcHFhaUlHUVFKcVFRSjJJZ0FnQjBVTkFSb2dBeTBBQ0NBRExRQUhJQU10QUFZZ0JpQURMUUFGYW1wcWFrRUVha0VEZGd3QkN5QUhSUVJBUVlBQklRQkJnQUVNQVFzZ0F5MEFCQ0FETFFBRElBTXRBQUVnQXkwQUFtcHFha0VDYWtFQ2RpRUFJQU10QUFnZ0F5MEFCeUFETFFBRklBTXRBQVpxYW1wQkFtcEJBbllMSVFZZ0FTQUFRZjhCY1VHQmdvUUliQ0lBTmdBZ0lBRWdCa0gvQVhGQmdZS0VDR3dpQmpZQVBDQUJJQUEyQURnZ0FTQUdOZ0EwSUFFZ0FEWUFNQ0FCSUFZMkFDd2dBU0FBTmdBb0lBRWdCallBSkF3REN5QUtSUVJBUVFFUEN5QUJJQVF0QUFBNkFBQWdBU0FFTFFBQU9nQUJJQUVnQkMwQUFEb0FBaUFCSUFRdEFBQTZBQU1nQVNBRUxRQUFPZ0FFSUFFZ0JDMEFBRG9BQlNBQklBUXRBQUE2QUFZZ0FTQUVMUUFBT2dBSElBRWdCQzBBQVRvQUNDQUJJQVF0QUFFNkFBa2dBU0FFTFFBQk9nQUtJQUVnQkMwQUFUb0FDeUFCSUFRdEFBRTZBQXdnQVNBRUxRQUJPZ0FOSUFFZ0JDMEFBVG9BRGlBQklBUXRBQUU2QUE4Z0FTQUVMUUFDT2dBUUlBRWdCQzBBQWpvQUVTQUJJQVF0QUFJNkFCSWdBU0FFTFFBQ09nQVRJQUVnQkMwQUFqb0FGQ0FCSUFRdEFBSTZBQlVnQVNBRUxRQUNPZ0FXSUFFZ0JDMEFBam9BRnlBQklBUXRBQU02QUJnZ0FTQUVMUUFET2dBWklBRWdCQzBBQXpvQUdpQUJJQVF0QUFNNkFCc2dBU0FFTFFBRE9nQWNJQUVnQkMwQUF6b0FIU0FCSUFRdEFBTTZBQjRnQVNBRUxRQURPZ0FmSUFFZ0JDMEFCRG9BSUNBQklBUXRBQVE2QUNFZ0FTQUVMUUFFT2dBaUlBRWdCQzBBQkRvQUl5QUJJQVF0QUFRNkFDUWdBU0FFTFFBRU9nQWxJQUVnQkMwQUJEb0FKaUFCSUFRdEFBUTZBQ2NnQVNBRUxRQUZPZ0FvSUFFZ0JDMEFCVG9BS1NBQklBUXRBQVU2QUNvZ0FTQUVMUUFGT2dBcklBRWdCQzBBQlRvQUxDQUJJQVF0QUFVNkFDMGdBU0FFTFFBRk9nQXVJQUVnQkMwQUJUb0FMeUFCSUFRdEFBWTZBREFnQVNBRUxRQUdPZ0F4SUFFZ0JDMEFCam9BTWlBQklBUXRBQVk2QURNZ0FTQUVMUUFHT2dBMElBRWdCQzBBQmpvQU5TQUJJQVF0QUFZNkFEWWdBU0FFTFFBR09nQTNJQUVnQkMwQUJ6b0FPQ0FCSUFRdEFBYzZBRGtnQVNBRUxRQUhPZ0E2SUFFZ0JDMEFCem9BT3lBQklBUXRBQWM2QUR3Z0FTQUVMUUFIT2dBOUlBRWdCQzBBQnpvQVBpQUJJQVF0QUFjNkFEOE1BZ3NnQjBVRVFFRUJEd3NnQVNBRExRQUJPZ0FBSUFFZ0F5MEFBVG9BQ0NBQklBTXRBQUU2QUJBZ0FTQURMUUFCT2dBWUlBRWdBeTBBQVRvQUlDQUJJQU10QUFFNkFDZ2dBU0FETFFBQk9nQXdJQUVnQXkwQUFUb0FPQ0FCSUFNdEFBSTZBQUVnQVNBRExRQUNPZ0FKSUFFZ0F5MEFBam9BRVNBQklBTXRBQUk2QUJrZ0FTQURMUUFDT2dBaElBRWdBeTBBQWpvQUtTQUJJQU10QUFJNkFERWdBU0FETFFBQ09nQTVJQUVnQXkwQUF6b0FBaUFCSUFNdEFBTTZBQW9nQVNBRExRQURPZ0FTSUFFZ0F5MEFBem9BR2lBQklBTXRBQU02QUNJZ0FTQURMUUFET2dBcUlBRWdBeTBBQXpvQU1pQUJJQU10QUFNNkFEb2dBU0FETFFBRU9nQURJQUVnQXkwQUJEb0FDeUFCSUFNdEFBUTZBQk1nQVNBRExRQUVPZ0FiSUFFZ0F5MEFCRG9BSXlBQklBTXRBQVE2QUNzZ0FTQURMUUFFT2dBeklBRWdBeTBBQkRvQU95QUJJQU10QUFVNkFBUWdBU0FETFFBRk9nQU1JQUVnQXkwQUJUb0FGQ0FCSUFNdEFBVTZBQndnQVNBRExRQUZPZ0FrSUFFZ0F5MEFCVG9BTENBQklBTXRBQVU2QURRZ0FTQURMUUFGT2dBOElBRWdBeTBBQmpvQUJTQUJJQU10QUFZNkFBMGdBU0FETFFBR09nQVZJQUVnQXkwQUJqb0FIU0FCSUFNdEFBWTZBQ1VnQVNBRExRQUdPZ0F0SUFFZ0F5MEFCam9BTlNBQklBTXRBQVk2QUQwZ0FTQURMUUFIT2dBR0lBRWdBeTBBQnpvQURpQUJJQU10QUFjNkFCWWdBU0FETFFBSE9nQWVJQUVnQXkwQUJ6b0FKaUFCSUFNdEFBYzZBQzRnQVNBRExRQUhPZ0EySUFFZ0F5MEFCem9BUGlBQklBTXRBQWc2QUFjZ0FTQURMUUFJT2dBUElBRWdBeTBBQ0RvQUZ5QUJJQU10QUFnNkFCOGdBU0FETFFBSU9nQW5JQUVnQXkwQUNEb0FMeUFCSUFNdEFBZzZBRGNnQVNBRExRQUlPZ0EvREFFTElBNUZCRUJCQVE4TElBTXRBQVVnQXkwQUEyc2dBeTBBQmlBRExRQUNhMEVCZEdvZ0F5MEFCeUFETFFBQmEwRURiR29nQXkwQUNDSUFJQU10QUFBaUNXdEJBblJxUVJGc1FSQnFRUVYxSWdaQmZXd2hFQ0FBSUFRdEFBY2lER3BCQkhRZ0JDMEFCQ0FFTFFBQ2F5QU1JQWxyUVFKMGFpQUVMUUFGSUFRdEFBRnJRUUYwYWlBRUxRQUdJQVF0QUFCclFRTnNha0VSYkVFUWFrRUZkU0lSUVgxc2FrRVFhaUVKUVFnaERDQUJJUUFEUUNBQUlBa2dFR29pQ0VFRmRVR3dMbW90QUFBNkFBQWdBQ0FHSUFocUlnaEJCWFZCc0M1cUxRQUFPZ0FCSUFBZ0JpQUlhaUlJUVFWMVFiQXVhaTBBQURvQUFpQUFJQVlnQ0dvaUNFRUZkVUd3TG1vdEFBQTZBQU1nQUNBR0lBaHFJZ2hCQlhWQnNDNXFMUUFBT2dBRUlBQWdCaUFJYWlJSVFRVjFRYkF1YWkwQUFEb0FCU0FBSUFZZ0NHb2lDRUVGZFVHd0xtb3RBQUE2QUFZZ0FDQUdJQWhxUVFWMVFiQXVhaTBBQURvQUJ5QUpJQkZxSVFrZ0FFRUlhaUVBSUF4QmYyb2lEQTBBQ3dzZ0FTQUNJQXNRQ0NBQklBSkJRR3NnQzBFQmNoQUlJQUVnQWtHQUFXb2dDMEVDY2hBSUlBRWdBa0hBQVdvZ0MwRURjaEFJSUFKQmdBSnFJUUlnQkVFSWFpRUVJQU5CQ1dvaEF5QUJRVUJySVFFZ0MwRUVhaUVMSUJKQkFXb2lFa0VDUncwQUMwRUFDNkVWQWhoL0FuNENmd05BQW44Z0FDSUlJQlpCQTNSQnNEVnFLUUlBSWg2bkVCRWlDU0lHQkVBZ0NDZ0NCQ0FHS0FJRVJnd0JDMEVBQ3lFTkFrQWdCVVVOQUNBTlJRMEFRUUFnRFVFQ0lBa29BZ0FpQmtFR1J5QUdRUVpKRzBFQ1Joc2hEUXNDZnlBSUlCWkJBM1JCOERacUtRSUFJaCtuRUJFaUJ5SUdCRUFnQ0NnQ0JDQUdLQUlFUmd3QkMwRUFDeUVQQWtBZ0JVVU5BQ0FQUlEwQVFRQWdEMEVDSUFjb0FnQWlCa0VHUnlBR1FRWkpHMEVDUmhzaER3dEJBaUVNSUExQkFFY2dEMEVBUjNFaUVrRUJSZ1JBUVFJaEJnSi9RUUlnQ1NnQ0FDSUxRUVpISUF0QkJra2JSUVJBSUFrZ0hrSWdpS2RCL3dGeGFpMEFVaUVHQ3lBR0N3Si9RUUlnQnlnQ0FDSUpRUVpISUFsQkJra2JSUVJBSUFjZ0gwSWdpS2RCL3dGeGFpMEFVaUVNQ3lBTUN5QUdJQXhKR3lFTUN5QUNJQlpCQW5RaUNXb2lCaWdDREVVRVFDQUdLQUpNSWdZZ0JpQU1UMm9oREFzZ0NDQVdhaUFNT2dCU0FuOGdDQ0FXUVFOMFFiQTRhaWdDQUJBUklnWWlCd1JBSUFnb0FnUWdCeWdDQkVZTUFRdEJBQXNoRGdKQUlBVkZEUUFnRGtVTkFFRUFJQTVCQWlBR0tBSUFJZ1pCQmtjZ0JrRUdTUnRCQWtZYklRNExBbjhnQUNBV1FRTjBRZkE1YWlnQ0FCQVJJZ2dpQmdSQUlBQW9BZ1FnQmlnQ0JFWU1BUXRCQUFzaEVRSkFJQVZGRFFBZ0VVVU5BRUVBSUJGQkFpQUlLQUlBSWdoQkJrY2dDRUVHU1J0QkFrWWJJUkVMSUFsQjhDbHFLQUlBSVJjZ0NVR3dLV29vQWdBaEdBSi9RWVVLSUJaMlFRRnhJaHdFUUNBWFFRTnFJUWNnQkNBWGFpSUlRUUpxSVFZZ0NFRUJhaUVMSUFRTUFRc2dGMEVFZENBWWFpSUlRUzlxSVFjZ0FTQUlhaUlJUVI5cUlRWWdDRUVQYWlFTElBaEJmMm9oQ0NBQkN5RUpJQWNnQ1dvdEFBQWhDaUFHTFFBQUlSQWdDeTBBQUNFVElBZ3RBQUFoRkFKQVFUTWdGblpCQVhFRVFDQURJQmhxSWdjdEFBZ2hHeUFITFFBSElSa2dCeTBBQmlFVklBY3RBQVVoR2lBSExRQUVJUVlnQnkwQUF5RUxJQWN0QUFJaENTQUhMUUFCSVFnTUFRc2dBU0FYUVg5cUloMUJCSFFnR0dwcUlnY3RBQUFoQ0NBSExRQUhJUnNnQnkwQUJpRVpJQWN0QUFVaEZTQUhMUUFFSVJvZ0J5MEFBeUVHSUFjdEFBSWhDeUFITFFBQklRa2dIQVJBSUFRZ0hXb2hCd3dCQ3lBSFFYOXFJUWNMQWtBZ0RFRUhUUVJBSUFjdEFBQWhCd0pBQWtBQ1FBSkFBa0FDUUFKQUFrQWdERUVCYXc0SEFRSURCQVVHQndBTElBOUZCRUJCQVE4TElBaEIvd0Z4SUF0Qi93RnhRUkIwSUFaQkdIUnljaUFKUWY4QmNVRUlkSEloRlNBSUlnd2hEU0FKSWc0aEVpQUxJZzhoQ2lBR0loRWhCd3dJQ3lBTlJRUkFRUUVQQ3lBS1FZR0NoQWhzSVJVZ0VFR0Jnb1FJYkNJTlFSaDJJUWNnRFVFUWRpRUtJQTFCQ0hZaEVpQVRRWUdDaEFoc0lneEJHSFloRVNBTVFSQjJJUThnREVFSWRpRU9JQlJCZ1lLRUNHd2lDRUVZZGlFR0lBaEJFSFloQ3lBSVFRaDJJUWtNQndzQ2Z5QVRJQlJxSUFwcUlCQnFJQVpCL3dGeGFpQUxRZjhCY1dvZ0NVSC9BWEZxSUFoQi93Rnhha0VFYWtFRGRpQVNEUUFhSUJNZ0ZHb2dDbW9nRUdwQkFtcEJBbllnRFEwQUdrR0FBU0FQUlEwQUdpQUdRZjhCY1NBTFFmOEJjV29nQ1VIL0FYRnFJQWhCL3dGeGFrRUNha0VDZGdzaUNFR0Jnb1FJYkNFVklBZ2lDU0lMSWdZaURDSU9JZzhpRVNJTkloSWlDaUVIREFZTElBOUZCRUJCQVE4TElBWkIvd0Z4SWcxQkFtb2lFU0FWSUFZZ0RodEIvd0Z4SWdkcUlCb2dCaUFPRzBIL0FYRWlDa0VCZEdwQkFuWWlEeUFaSUFZZ0RodEIvd0Z4SWd3Z0d5QUdJQTRiUWY4QmNTSUdRUU5zYWtFV2RFR0FnSUFFYWtHQWdJQjRjWElnQ2lBTWFpQUhRUUYwYWtFQ2FpSVFRUVowUVlEK0EzRnlJQVlnQjJvZ0RFRUJkR3BCQW1vaUJrRU9kRUdBZ1B3SGNYSWhGU0FHUVFKMklRY2dDMEgvQVhFaUJrRUNhaUlMSUFoQi93RnhhaUFKUWY4QmNTSUpRUUYwYWtFQ2RpRUlJQWtnRVdvZ0JrRUJkR3BCQW5ZaUNTRU1JQW9nQzJvZ0RVRUJkR3BCQW5ZaUN5RU9JQXNoRFNBUElnWWhFaUFRUVFKMkloRWhDZ3dGQzBFQklCRkZJQkpCQVhOeURRWWFJQlFnRTBFQmRHb2dFR3BCQW1vaURrRUdkRUdBL2dOeElBb2dFMEVDYWlJUGFpQVFRUUYwYWtFQ2RuSWdDRUgvQVhFaUNrRUNhaUlNSUJScUlBZEJBWFJxUVFKMklnaEJHSFJ5SUE4Z0ZFRUJkR29nQjJvaUVFRU9kRUdBZ1B3SGNYSWhGU0FKUWY4QmNTSVJRUUpxSWdrZ0JrSC9BWEZxSUF0Qi93RnhJZ3RCQVhScVFRSjJJUVlnRGtFQ2RpRU5JQWtnQ2tFQmRHb2dCMnBCQW5ZaUNTRVBJQkZCQVhRZ0Myb2dER3BCQW5ZaUN5RVJJQkJCQW5ZaURDRVNJQWdpRGlFS0lBa2hCd3dFQzBFQklCRkZJQkpCQVhOeURRVWFJQWhCL3dGeElncEJBbW9pRGlBTFFmOEJjU0lJSUFsQi93RnhJZ3RCQVhScWFrRUNkaUlQUVJoMElCUWdFMEVCZEdvZ0VHcEJBbXBCQW5aeUlBNGdGR29nQjBFQmRHb2lDVUVHZEVHQS9nTnhjaUFMUVFKcUlnNGdDa0VCZEdvZ0Iyb2lEVUVPZEVHQWdQd0hjWEloRlNBSVFRRnFJaEFnQmtIL0FYRWlER3BCQVhZaEJpQU1JQTVxSUFoQkFYUnFRUUoySVJFZ0NVRUNkaUVNSUExQkFuWWhEaUFUSUJSQkFYUnFJQWRxUVFKcVFRSjJJUTBnQnlBS2FrRUJha0VCZGlJSUlSSWdDaUFMYWtFQmFrRUJkaUlKSVFvZ0N5QVFha0VCZGlJTElRY01Bd3RCQVNBUlJTQVNRUUZ6Y2cwRUdpQVRRUUpxSWc0Z0Ntb2dFRUVCZEdwQkJuUkJnUDREY1NBUUlCTnFRUUZxSWc5QkQzUkJnSUQ4QjNFZ0ZFRUNhaUlNSUJOQkFYUnFJQkJxUVFKMkloSkJHSFJ5SUFvZ0VHcEJBV3BCQVhaeWNpRVZJQWhCL3dGeElnZ2dDMEgvQVhGcUlBbEIvd0Z4SWdsQkFYUnFRUUpxUVFKMklRWWdDU0FJUVFGMGFpQUhha0VDYWtFQ2RpRUxJQTlCQVhZaERTQUlJQXhxSUFkQkFYUnFRUUoySWhFaENTQVVRUUZxSWdvZ0IycEJBWFlpQ0NFUElBb2dFMnBCQVhZaURDRUtJQTRnRkVFQmRHb2dCMnBCQW5ZaURpRUhEQUlMSUE5RkJFQkJBUThMSUJvZ0JpQU9HMEgvQVhFaUNpQVpJQVlnRGh0Qi93RnhhaUFWSUFZZ0RodEIvd0Z4SWdkQkFYUnFRUlowSUF0Qi93RnhJZ3RCQW1vaURDQUthaUFHUWY4QmNTSUdRUUYwYWlJUFFRWjBja0dBZ0lBRWFrR0Evb040Y1NBR1FRSnFJZzBnQ1VIL0FYRWlDV29nQzBFQmRHcEJBbllpRG5JZ0J5QU5haUFLUVFGMGFpSU5RUTUwUVlDQS9BZHhjaUVWSUFjZ0NtcEJBV3BCQVhZaEJ5QU5RUUoySVJFZ0NTQUlRZjhCY1NJTmFrRUJha0VCZGlFSUlBOUJBblloRHlBTUlBMXFJQWxCQVhScVFRSjJJUXdnQ1NBTGFrRUJha0VCZGlJSklRMGdCa0VCYWlJR0lBdHFRUUYySWdzaEVpQUdJQXBxUVFGMklnWWhDZ3dCQ3lBTlJRUkFRUUVQQ3lBS1FRaDBJQXB5SUFwQkVIUnlJQXBCR0hSeUlSVWdFRUVDYWlJSElCUnFJQk5CQVhScVFRSjJJUWtnRTBFQmFpSUdJQlJxUVFGMklRZ2dCaUFRYWtFQmRpSUxJUXdnQ2lBVGFpQVFRUUYwYWtFQ2FrRUNkaUlHSVE0Z0NpQVFha0VCYWtFQmRpSVBJUTBnQnlBS1FRTnNha0VDZGlJUklSSWdDaUVIQ3lBQklCZEJCSFFnR0dwcUloQWdGVFlDTUNBUUlBMUIvd0Z4SUJKQi93RnhRUWgwY2lBS1FmOEJjVUVRZEhJZ0IwRVlkSEkyQWlBZ0VDQU1RZjhCY1NBT1FmOEJjVUVJZEhJZ0QwSC9BWEZCRUhSeUlCRkJHSFJ5TmdJUUlCQWdDRUgvQVhFZ0NVSC9BWEZCQ0hSeUlBdEIvd0Z4UVJCMGNpQUdRUmgwY2pZQ0FDQUJJQUlnRmtFR2RHcEJ5QUpxSUJZUUNDQVdRUUZxSWhaQkVFY05BQXRCQUFzTHhSSUJFSDhDZnlBQUtBTElBU0lIQkVBZ0FDZ0NCQ0FIS0FJRVJnd0JDMEVBQ3lFSEFrQWdCVVVOQUNBSFJRMEFRUUFnQjBFQ0lBQW9Bc2dCS0FJQUlnZEJCa2NnQjBFR1NSdEJBa1liSVFjTEFuOGdBQ2dDekFFaUNBUkFJQUFvQWdRZ0NDZ0NCRVlNQVF0QkFBc2hDQUpBSUFWRkRRQWdDRVVOQUVFQUlBaEJBaUFBS0FMTUFTZ0NBQ0lJUVFaSElBaEJCa2tiUVFKR0d5RUlDd0ovSUFBb0F0UUJJZ2tFUUNBQUtBSUVJQWtvQWdSR0RBRUxRUUFMSVFrQ1FDQUZSUTBBSUFsRkRRQkJBaUFBS0FMVUFTZ0NBQ0lGUVFaSElBVkJCa2tiUVFKSElRa0xBa0FDUUNBQUtBSUFRUUZxUVFOeElnQkJBazBFUUFKQUFrQUNRQ0FBUVFGckRnSUJBZ0FMSUFoRkJFQkJBUThMUVFBaEJTQUJJUUFEUUNBQUlBTXRBQUU2QUFBZ0FDQURMUUFDT2dBQklBQWdBeTBBQXpvQUFpQUFJQU10QUFRNkFBTWdBQ0FETFFBRk9nQUVJQUFnQXkwQUJqb0FCU0FBSUFNdEFBYzZBQVlnQUNBRExRQUlPZ0FISUFBZ0F5MEFDVG9BQ0NBQUlBTXRBQW82QUFrZ0FDQURMUUFMT2dBS0lBQWdBeTBBRERvQUN5QUFJQU10QUEwNkFBd2dBQ0FETFFBT09nQU5JQUFnQXkwQUR6b0FEaUFBSUFNdEFCQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3REN5QUhSUVJBUVFFUEMwRUFJUVVnQVNFQUEwQWdBQ0FFSUFWcUlnTXRBQUE2QUFBZ0FDQURMUUFBT2dBQklBQWdBeTBBQURvQUFpQUFJQU10QUFBNkFBTWdBQ0FETFFBQU9nQUVJQUFnQXkwQUFEb0FCU0FBSUFNdEFBQTZBQVlnQUNBRExRQUFPZ0FISUFBZ0F5MEFBRG9BQ0NBQUlBTXRBQUE2QUFrZ0FDQURMUUFBT2dBS0lBQWdBeTBBQURvQUN5QUFJQU10QUFBNkFBd2dBQ0FETFFBQU9nQU5JQUFnQXkwQUFEb0FEaUFBSUFNdEFBQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3Q0N5QUJBbjhDUUNBSFJRMEFJQWhGRFFBZ0JDMEFEeUFETFFBUUlBUXRBQTRnQXkwQUR5QUVMUUFOSUFNdEFBNGdCQzBBRENBRExRQU5JQVF0QUFzZ0F5MEFEQ0FFTFFBS0lBTXRBQXNnQkMwQUNTQURMUUFLSUFRdEFBZ2dBeTBBQ1NBRUxRQUhJQU10QUFnZ0JDMEFCaUFETFFBSElBUXRBQVVnQXkwQUJpQUVMUUFFSUFNdEFBVWdCQzBBQXlBRExRQUVJQVF0QUFJZ0F5MEFBeUFFTFFBQklBTXRBQUlnQXkwQUFTQUVMUUFBYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFrRVFha0VGZGd3QkN5QUhCRUFnQkMwQUR5QUVMUUFPSUFRdEFBMGdCQzBBRENBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSUlBUXRBQWNnQkMwQUJpQUVMUUFGSUFRdEFBUWdCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYW1wcWFtcHFhbXBxYW1wcWFrRUlha0VFZGd3QkMwR0FBU0FJUlEwQUdpQURMUUFRSUFNdEFBOGdBeTBBRGlBRExRQU5JQU10QUF3Z0F5MEFDeUFETFFBS0lBTXRBQWtnQXkwQUNDQURMUUFISUFNdEFBWWdBeTBBQlNBRExRQUVJQU10QUFNZ0F5MEFBU0FETFFBQ2FtcHFhbXBxYW1wcWFtcHFhbXBxUVFocVFRUjJDMEdBQWhBSEdnd0JDMEVCSVFBZ0IwVU5BU0FJUlEwQklBbEZEUUVnQkMwQUNDQUVMUUFHYXlBRUxRQVBJZ0FnQXkwQUFDSUZhMEVEZEdvZ0JDMEFDU0FFTFFBRmEwRUJkR29nQkMwQUNpQUVMUUFFYTBFRGJHb2dCQzBBQ3lBRUxRQURhMEVDZEdvZ0JDMEFEQ0FFTFFBQ2EwRUZiR29nQkMwQURTQUVMUUFCYTBFR2JHb2dCQzBBRGlBRUxRQUFhMEVIYkdwQkJXeEJJR3BCQm5VaEJ5QURMUUFKSUFNdEFBZHJJQU10QUFvZ0F5MEFCbXRCQVhScUlBTXRBQXNnQXkwQUJXdEJBMnhxSUFNdEFBd2dBeTBBQkd0QkFuUnFJQU10QUEwZ0F5MEFBMnRCQld4cUlBTXRBQTRnQXkwQUFtdEJCbXhxSUFNdEFBOGdBeTBBQVd0QkIyeHFJQU10QUJBaUF5QUZhMEVEZEdwQkJXeEJJR3BCQm5VaUJFRURkQ0VJSUFSQkIyd2hDU0FFUVFac0lRb2dCRUVGYkNFTElBUkJBMndoRENBRVFYMXNJUTBnQkVGN2JDRU9JQVJCZW13aER5QUVRWGxzSVJCQkFDQUVRUUYwSWhGcklSSkJBQ0FFUVFKMEloTnJJUlFnQUNBRGFrRUVkRUVRYWlFVlFRQWhCUU5BSUFFZ0JVRUVkQ0lBYWlBVklBVkJlV29nQjJ4cUlnTWdFR3BCQlhVaUJrSC9BU0FHUWY4QlNCc2lCa0VBSUFaQkFFb2JPZ0FBSUFFZ0FFRUJjbW9nQXlBUGFrRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFKeWFpQURJQTVxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJBM0pxSUFNZ0ZHcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFRWNtb2dBeUFOYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUVZ5YWlBRElCSnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkJuSnFJQU1nQkd0QkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVIY21vZ0EwRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFoeWFpQURJQVJxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJDWEpxSUFNZ0VXcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFS2Ntb2dBeUFNYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUXR5YWlBRElCTnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkRISnFJQU1nQzJwQkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVOY21vZ0F5QUtha0VGZFNJR1FmOEJJQVpCL3dGSUd5SUdRUUFnQmtFQVNoczZBQUFnQVNBQVFRNXlhaUFESUFscVFRVjFJZ1pCL3dFZ0JrSC9BVWdiSWdaQkFDQUdRUUJLR3pvQUFDQUJJQUJCRDNKcUlBTWdDR3BCQlhVaUFFSC9BU0FBUWY4QlNCc2lBRUVBSUFCQkFFb2JPZ0FBSUFWQkFXb2lCVUVRUncwQUN3dEJBQ0VBSUFFZ0FrRUFFQWdnQVNBQ1FVQnJRUUVRQ0NBQklBSkJnQUZxUVFJUUNDQUJJQUpCd0FGcVFRTVFDQ0FCSUFKQmdBSnFRUVFRQ0NBQklBSkJ3QUpxUVFVUUNDQUJJQUpCZ0FOcVFRWVFDQ0FCSUFKQndBTnFRUWNRQ0NBQklBSkJnQVJxUVFnUUNDQUJJQUpCd0FScVFRa1FDQ0FCSUFKQmdBVnFRUW9RQ0NBQklBSkJ3QVZxUVFzUUNDQUJJQUpCZ0FacVFRd1FDQ0FCSUFKQndBWnFRUTBRQ0NBQklBSkJnQWRxUVE0UUNDQUJJQUpCd0FkcVFROFFDQXNnQUF1N0NBRUhmd0pBSUFORkRRQWdBQ2dDQUNBRElBQW9BZ1FpQlc0aUNDQUZiQ0lFUVFoMGFpQURJQVJySWdkQkJIUnFJUVlnQlVFRWRDRUVJQUFvQWdnaENTQUZJQU5MSWdwRkJFQWdBU0FHSUFSQkFYSnJJZ010QUFBNkFBQWdBU0FETFFBQk9nQUJJQUVnQXkwQUFqb0FBaUFCSUFNdEFBTTZBQU1nQVNBRExRQUVPZ0FFSUFFZ0F5MEFCVG9BQlNBQklBTXRBQVk2QUFZZ0FTQURMUUFIT2dBSElBRWdBeTBBQ0RvQUNDQUJJQU10QUFrNkFBa2dBU0FETFFBS09nQUtJQUVnQXkwQUN6b0FDeUFCSUFNdEFBdzZBQXdnQVNBRExRQU5PZ0FOSUFFZ0F5MEFEam9BRGlBQklBTXRBQTg2QUE4Z0FTQURMUUFRT2dBUUlBRWdBeTBBRVRvQUVTQUJJQU10QUJJNkFCSWdBU0FETFFBVE9nQVRJQUVnQXkwQUZEb0FGQ0FCUVJWcUlRRUxJQWNFUUNBQ0lBWkJmMm9pQXkwQUFEb0FBQ0FDSUFNZ0JHb2lBeTBBQURvQUFTQUNJQU1nQkdvaUF5MEFBRG9BQWlBQ0lBTWdCR29pQXkwQUFEb0FBeUFDSUFNZ0JHb2lBeTBBQURvQUJDQUNJQU1nQkdvaUF5MEFBRG9BQlNBQ0lBTWdCR29pQXkwQUFEb0FCaUFDSUFNZ0JHb2lBeTBBQURvQUJ5QUNJQU1nQkdvaUF5MEFBRG9BQ0NBQ0lBTWdCR29pQXkwQUFEb0FDU0FDSUFNZ0JHb2lBeTBBQURvQUNpQUNJQU1nQkdvaUF5MEFBRG9BQ3lBQ0lBTWdCR29pQXkwQUFEb0FEQ0FDSUFNZ0JHb2lBeTBBQURvQURTQUNJQU1nQkdvaUF5MEFBRG9BRGlBQ0lBTWdCR290QUFBNkFBOGdBa0VRYWlFQ0N5QUFLQUlBSUFVZ0NXd2lCRUVJZEdvZ0NDQUZRUU4wSWdCc1FRTjBhaUFIUVFOMGFpRUdJQUJCK1AvLy93ZHhJUUFnQ2tVRVFDQUJJQVlnQUVFQmNtc2lBeTBBQURvQUFDQUJJQU10QUFFNkFBRWdBU0FETFFBQ09nQUNJQUVnQXkwQUF6b0FBeUFCSUFNdEFBUTZBQVFnQVNBRExRQUZPZ0FGSUFFZ0F5MEFCam9BQmlBQklBTXRBQWM2QUFjZ0FTQURRUWhxSWdNdEFBQTZBQWdnQVNBRVFRWjBJQU5xSWdOQmVHb3RBQUE2QUFrZ0FTQURRWGxxTFFBQU9nQUtJQUVnQTBGNmFpMEFBRG9BQ3lBQklBTkJlMm90QUFBNkFBd2dBU0FEUVh4cUxRQUFPZ0FOSUFFZ0EwRjlhaTBBQURvQURpQUJJQU5CZm1vdEFBQTZBQThnQVNBRFFYOXFMUUFBT2dBUUlBRWdBeTBBQURvQUVRc2dCMFVOQUNBQ0lBWkJmMm9pQVMwQUFEb0FBQ0FDSUFBZ0FXb2lBUzBBQURvQUFTQUNJQUFnQVdvaUFTMEFBRG9BQWlBQ0lBQWdBV29pQVMwQUFEb0FBeUFDSUFBZ0FXb2lBUzBBQURvQUJDQUNJQUFnQVdvaUFTMEFBRG9BQlNBQ0lBQWdBV29pQVMwQUFEb0FCaUFDSUFBZ0FXb2lBUzBBQURvQUJ5QUNJQUFnQVdvZ0JDQUZhMEVHZEdvaUFTMEFBRG9BQ0NBQ0lBQWdBV29pQVMwQUFEb0FDU0FDSUFBZ0FXb2lBUzBBQURvQUNpQUNJQUFnQVdvaUFTMEFBRG9BQ3lBQ0lBQWdBV29pQVMwQUFEb0FEQ0FDSUFBZ0FXb2lBUzBBQURvQURTQUNJQUFnQVdvaUFTMEFBRG9BRGlBQ0lBQWdBV290QUFBNkFBOExDNjhCQVFGL0l3QkIwQUJySWdZa0FDQUNJQVpCSUdvZ0JpQURFRlVDUUFKQVFRSWdBQ2dDQUNJRFFRWkhJQU5CQmtrYlFRRkdCRUFnQUNBRklBRkJ5QUpxSUFaQklHb2dCaUFFRUZRaUEwVU5BUXdDQ3lBQUlBVWdBU0FHUVNCcUlBWWdCQkJUSWdNTkFRc2dBQ0FGUVlBQ2FpQUJRY2dLYWlBR1FUVnFJQVpCRUdvZ0FTZ0NqQUVnQkJCU0lnTU5BRUVBSVFNZ0FDZ0N4QUZCQVVzTkFDQUNJQVVRR3dzZ0JrSFFBR29rQUNBREM2TXFBU1IvSXdCQklHc2lFQ1FBSUJBZ0JDZ0NCQ0lJTmdJTUlCQWdCQ2dDQ0RZQ0VDQURJQWh1SWdaQkJIUWhGQ0FESUFZZ0NHeHJRUVIwSVJVQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFBb0FnQWlCa0VEVFFSQUFrQUNRQUpBSUFaQkFtc09BZ0VDQUFzZ0FTZ0NrQUVoRXlBQUtBSUVJUTVCZnlFUEFuOGdBQ2dDeUFFaUNVVUVRRUVBSVFoQmZ3d0JDMEVBSVFoQmZ5QUpLQUlFSUE1SERRQWFRUUVoRWtGL0lBa29BZ0JCQlVzTkFCb2dDU2dDbUFFaUNFRVFkaUVISUFrb0FtZ0xJUTBnQUNnQ3pBRWlDVVVOQ0NBSktBSUVJQTVIRFFoQkFTRVdJQWtvQWdCQkJVc05DQ0FKS0FLc0FTSVJRUkIySVFvZ0NTZ0NiQ0VQREFnTElBRW9BcEFCSVJNZ0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhDMEYvSVFjQ1FDQUFLQUxNQVNJR1JRMEFJQXNnQmlnQ0JFY0VRQXdCQzBFQklSSWdCaWdDQUVFRlN3MEFJQVlvQXF3QklnbEJFSFloQ2lBR0tBSnNJUWNMSUFjZ0UwWUVRQ0FLSVFjZ0NTRUdEQWNMUVg4aER3SkFBa0FDUUNBQUtBTElBU0lJUlFSQVFRQWhCd3dCQzBFQUlRY2dDQ2dDQkNBTFJnMEJDMEVBSVFZTUFRdEJBU0VYSUFnb0FnQkJCVXNFUUVFQUlRWU1BUXNnQ0NnQ21BRWlCa0VRZGlFSElBZ29BbWdoRHdzQ1FBSkFJQUFvQXRBQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVTBOQVF3R0N3SkFJQUFvQXRRQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVXNOQmlBSUtBSndJUllnQ0NnQ3dBRWhDQXdIQzBFQUlRaEJmeUVXSUJJTkJpQVhSUTBHREFjTElBZ29BbXdoRmlBSUtBS3NBU0VJREFVTElBRW9BcEFCSVE4Z0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhCa0YvSVFjQ1FDQUFLQUxJQVNJS1JRUkFRUUFoQ0F3QkMwRUFJUWdnQmlBS0tBSUVSd1JBREFFTFFRRWhFU0FLS0FJQVFRVkxEUUFnQ2lnQ21BRWlDVUVRZGlFSUlBb29BbWdoQndzZ0J5QVBSZzBCQW44Q2Z3SkFBa0FnQUNnQ3pBRWlCMFVOQUNBSEtBSUVJQVpIRFFBZ0J5Z0NBRUVGU3cwQklBY29BbkFoRVNBSEtBSzhBU0VLSUFjb0Ftd2hFaUFIS0FLc0FTSUdRUkIyREFNTEFrQWdBQ2dDMUFFaUIwVU5BQ0FIS0FJRUlBWkhEUUJCQUNFR1FYOGhFaUFIS0FJQVFRVkxCRUJCZnlFUlFRQU1Bd3NnQnlnQ2NDRVJJQWNvQXNBQkRBSUxJQkVOQkF0QmZ5RVJRWDhoRWtFQUlRWkJBQXNoQ2tFQUN5RUhJQThnRWtZaUN5QVBJQkZHYWtFQlJ3UkFJQWNnQ0NBSFFSQjBRUkIxSWdzZ0NFRVFkRUVRZFNJT1NpSUlHeUlISUE0Z0N5QU9JQXNnRGtnYklBZ2JJZ2dnQ2tFUWRTSUxJQWdnQzBvYklBZEJFSFJCRUhVZ0MwZ2JJUWNnQmlBSklBWkJFSFJCRUhVaUN5QUpRUkIwUVJCMUlnbEtJZ1liSWdoQi8vOERjU0FKSUFzZ0NTQUxJQWxJR3lBR0d5SUdJQXBCRUhSQkVIVWlDU0FHSUFsS0d5QUlRUkIwUVJCMUlBbElHeUVHREFNTElBc05BaUFLUVJCMklRY2dDaUVHREFJTFFRRWhHeUFBUVlRQmFpRWNBMEFDZnlBQklCMUJBblFpSG1vaUlDSWtLQUt3QVNJR1FRSk5CRUFnQmtFQ2RFR2NOV29vQWdBTUFRdEJCQXNoSWlBQUlCNXFJZ1lnSUNnQ3dBRTJBbVFnQmlBQ0lDQW9Bc0FCRUJRaUJqWUNkQ0FHUlEwSUlDSUVRQ0FjSUIxQkJIUWlIMm9pSlNFbUlCd2dIMEVNY21vaUowRUNhaUVvSUJ3Z0gwRUljbW9pS1NFUklCd2dIMEVFY21vaUZpRVRRUUFoQmdOQUlBRWdIMm9nQmtFQ2RHb2lDQzhCMGdFaER5QUlMd0hRQVNFT0lDQW9Bc0FCSVNGQmZ5RVhBbjhnQUNBZFFRZDBJQ1FvQXJBQklpTkJCWFJxSUFaQkEzUnFJaHBCc0JscUtBSUFFQkVpQ1VVRVFFRUFJUXhCQUNFSVFRQWhDa0YvREFFTFFRQWhERUVBSVFoQkFDRUtRWDhnQ1NnQ0JDQUFLQUlFUncwQUdrRUJJUXBCZnlBSktBSUFRUVZMRFFBYUlBa2dHa0cwR1dvdEFBQWlCMEVDZEdvb0FvUUJJZ2hCRUhZaERDQUpJQWRCL0FGeGFpZ0NaQXNoRFFKQUFrQUNRQ0FBSUJwQnNCMXFLQUlBRUJFaUdFVUVRRUVBSVFrTUFRdEJBQ0VKSUJnb0FnUWdBQ2dDQkVZTkFRdEJBQ0VTUVFBaEN3d0JDMEVCSVFzZ0dDZ0NBRUVGU3dSQVFRQWhFZ3dCQ3lBWUlCcEJ0QjFxTFFBQUlnZEJBblJxS0FLRUFTSVNRUkIySVFrZ0dDQUhRZndCY1dvb0FtUWhGd3NDUUFKQUFrQUNRQUpBSUFBZ0drR3dJV29vQWdBUUVTSVpSUTBBSUJrb0FnUWdBQ2dDQkVjTkFDQVpLQUlBUVFWTkRRRU1BZ3NDUUNBQUlCcEJzQ1ZxS0FJQUVCRWlHVVVOQUNBWktBSUVJQUFvQWdSSERRQWdHU2dDQUVFRlN3MENJQmtnR2tHMEpXb3RBQUFpQjBIOEFYRnFLQUprSVJnZ0dTQUhRUUowYWlnQ2hBRWhCd3dEQzBFQUlRZEJmeUVZSUFwRkRRSWdDdzBDREFNTElCa2dHa0cwSVdvdEFBQWlCMEg4QVhGcUtBSmtJUmdnR1NBSFFRSjBhaWdDaEFFaEJ3d0JDMEVBSVFkQmZ5RVlDeUFYSUNGR0lnb2dEU0FoUmlJTGFpQVlJQ0ZHYWtFQlJ3UkFJQWtnRENBSlFSQjBRUkIxSWdzZ0RFRVFkRUVRZFNJTVNpSUpHeUlLSUF3Z0N5QU1JQXNnREVnYklBa2JJZ2tnQjBFUWRTSUxJQWtnQzBvYklBcEJFSFJCRUhVZ0MwZ2JJUXdnRWlBSUlCSkJFSFJCRUhVaUNpQUlRUkIwUVJCMUlndEtJZ2diSWdsQi8vOERjU0FMSUFvZ0N5QUtJQXRJR3lBSUd5SUlJQWRCRUhSQkVIVWlCeUFJSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVJREFFTElBZ2dFaUFMR3lFSUlBd2dDU0FMR3lFTUlBc05BQ0FLRFFBZ0IwRVFkaUVNSUFjaENBc2dDQ0FPYWlJS1FSQjBRUkIxUVlCQWEwSC8vd0JMRFFvZ0RDQVBhaUlKUVJCMFFSQjFRWUFRYWtIL0gwc05DaUFqUVFOTkJFQUNmd0pBQWtBQ1FBSkFJQ05CQVdzT0F3RUNBd0FMSUNVZ0Nqc0JBQ0FtSUFrN0FRSWdGaUFLT3dFQUlCTWdDVHNCQWlBcElBbzdBUUFnRVNBSk93RUNJQ2NnQ2pzQkFDQW9EQU1MSUJ3Z0JrRUJkQ0FlYWtFQ2RDSUhhaUlJSUFrN0FRSWdDQ0FLT3dFQUlCd2dCMEVFY21vaUNDQUtPd0VBSUFoQkFtb01BZ3NnQUNBR0lCNXFRUUowYWlJSUlBbzdBWXdCSUFnZ0NUc0JoZ0VnQ0NBS093R0VBU0FJUVk0QmFnd0JDeUFBSUFZZ0htcEJBblJxSWdnZ0Nqc0JoQUVnQ0VHR0FXb0xJQWs3QVFBTElBWkJBV29pQmlBaVJ3MEFDd3NnSFVFQmFpSWRRUVJIRFFBTFFRQWhEQU5BSUJBZ0FDQU1RUUowSWdKcUtBSjBOZ0lJSUF4QkFVdEJBM1FoQ1NBTVFRTjBRUWh4SVFjQ1FDQUJJQUpxS0FLd0FTSUNRUUpOQkVBQ1FBSkFBa0FnQWtFQmF3NENBUUlBQ3lBRklBQWdERUVFZEdwQmhBRnFJQkJCQ0dvZ0ZTQVVJQWNnQ1VFSVFRZ1FEZ3dEQ3lBRklBQWdERUVFZEdvaUFrR0VBV29nRUVFSWFpQVZJQlFnQnlBSlFRaEJCQkFPSUFVZ0FrR01BV29nRUVFSWFpQVZJQlFnQnlBSlFRUnlRUWhCQkJBT0RBSUxJQVVnQUNBTVFRUjBhaUlDUVlRQmFpQVFRUWhxSUJVZ0ZDQUhJQWxCQkVFSUVBNGdCU0FDUVlnQmFpQVFRUWhxSUJVZ0ZDQUhRUVJ5SUFsQkJFRUlFQTRNQVFzZ0JTQUFJQXhCQkhScUlnaEJoQUZxSUJCQkNHb2dGU0FVSUFjZ0NVRUVRUVFRRGlBRklBaEJpQUZxSUJCQkNHb2dGU0FVSUFkQkJISWlCaUFKUVFSQkJCQU9JQVVnQ0VHTUFXb2dFRUVJYWlBVklCUWdCeUFKUVFSeUlnSkJCRUVFRUE0Z0JTQUlRWkFCYWlBUVFRaHFJQlVnRkNBR0lBSkJCRUVFRUE0TElBeEJBV29pREVFRVJ3MEFDd3dHQ3lBSUlRY2dDU0VHQzBFQklSc2dCaUFNYWlJSVFSQjBRUkIxUVlCQWEwSC8vd0JMRFFVZ0J5QU5haUlHUVJCMFFSQjFRWUFRYWtIL0gwc05CU0FDSUE4UUZDSUhSUTBGSUFBZ0Jqc0JzZ0VnQUNBSU93R3dBU0FBSUFjMkFuUWdBQ0FQTmdKa0lBQWdCellDZkNBQUlBODJBbXdnQUNBQUtBS3dBU0lHTmdLc0FTQUFJQVkyQXFnQklBQWdCallDcEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FCS0FLVUFTRU9JQUV2QWFZQklRd2dBUzhCcEFFaEN5QUFLQUlFSVFrQ1FBSkFJQUFvQXRBQklnZEZEUUFnQnlnQ0JDQUpSdzBBUVFFaEVTQUhLQUlBUVFWTEJFQkJmeUVJUVFBaEJ3d0NDeUFIS0FKc0lRZ2dCeWdDckFFaEJ3d0JDMEYvSVFoQkFDRUhJQUFvQXN3QklncEZCRUJCQUNFUkRBRUxJQWtnQ2lnQ0JFY0VRRUVBSVJFTUFRdEJBU0VSSUFvb0FnQkJCVXNOQUNBS0tBSnNJUWdnQ2lnQ3NBRWhCd3NDUUNBSUlBNUdSUVJBSUFaQkVIWWhDQUovQWtBQ1FDQUFLQUxNQVNJTlJRMEFJQTBvQWdRZ0NVY05BQ0FOS0FJQVFRVkxEUUVnRFNnQ3ZBRWlFVUVRZGlFS0lBMG9BbkFNQWdzZ0VVVU5Bd3RCQUNFUlFRQWhDa0YvQ3lFTklBNGdEMFlpQ1NBTklBNUdha0VCUndSQUlBb2dDQ0FLUVJCMFFSQjFJZzBnQ0VFUWRFRVFkVW9pQ0JzaUNTQUdRUkIxSWdvZ0RTQUtJQW9nRFVvYklBZ2JJZ2dnQjBFUWRTSUtJQWdnQ2tvYklBbEJFSFJCRUhVZ0NrZ2JJUWdnRVNBR0lCRkJFSFJCRUhVaUNpQUdRUkIwUVJCMUlnMUtJZ1liSWdsQi8vOERjU0FOSUFvZ0RTQU5JQXBLR3lBR0d5SUdJQWRCRUhSQkVIVWlCeUFHSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVHREFJTElBa05BU0FOSUE1R0JFQWdFVUgvL3dOeElBcEJFSFJ5SVFZZ0NpRUlEQUlMQ3lBSFFSQjJJUWdnQnlFR0N5QUdJQXRxSWdkQkVIUkJFSFZCZ0VCclFmLy9BRXNOQlNBSUlBeHFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MEZJQUlnRGhBVUlnSkZEUVVnQUNBR093SENBU0FBSUFjN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKNElBQWdEallDY0NBQUlBNDJBbWdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0tnQVNBQUlBWTJBcHdCSUFBZ0JqWUNtQUVnQUVHVUFXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVJUVJBUURpQVFJQUFvQW5nMkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFoQkFFRUlRUkFRRGd3RUMwRUFJUWhCZnlFV0N5QVBJQk5HSWdzZ0V5QVdSbXBCQVVjRVFDQUtJQWNnQ2tFUWRFRVFkU0lMSUFkQkVIUkJFSFVpRGtvaUJ4c2lDaUFPSUFzZ0RpQUxJQTVJR3lBSEd5SUhJQWhCRUhVaUN5QUhJQXRLR3lBS1FSQjBRUkIxSUF0SUd5RUhJQWtnQmlBSlFSQjBRUkIxSWdvZ0JrRVFkRUVRZFNJTFNpSUdHeUlKUWYvL0EzRWdDeUFLSUFzZ0NpQUxTQnNnQmhzaUJpQUlRUkIwUVJCMUlnZ2dCaUFJU2hzZ0NVRVFkRUVRZFNBSVNCc2hCZ3dCQ3lBTERRQWdDRUVRZGlFSElBZ2hCZ3RCQVNFYklBWWdER29pQ0VFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0RXb2lCa0VRZEVFUWRVR0FFR3BCL3g5TERRSWdBaUFURUJRaUIwVU5BaUFBSUFZN0FhSUJJQUFnQ0RzQm9BRWdBQ0FITmdKMElBQWdFellDWkNBQUlBYzJBbmdnQUNBVE5nSm9JQUFnQUNnQ29BRWlEellDbkFFZ0FDQVBOZ0tZQVNBQUlBODJBcFFCSUFBZ0R6WUNrQUVnQUNBUE5nS01BU0FBSUE4MkFvZ0JJQUFnRHpZQ2hBRWdBU2dDbEFFaERpQUJMd0dtQVNFTklBRXZBYVFCSVF3Q2Z3SkFBa0FDUUNBQUtBTElBU0lHQkVBZ0JpZ0NCQ0FBS0FJRVJnUkFJQVlvQWdCQkJVMEVRQ0FHS0FLNEFTSUxRUkIySVFjZ0JpZ0NjQ0FPUncwRUlBc2hDUXdEQzBGL0lSSkJBQ0VKUVFBaEIwRUFJUXRCQUNFS0lBNUJmMFlOQWd3RUMwRi9JUkpCQUNFSlFRQWhCMEVBSVF0QkFDRUtJQTVCZjBZTkFRd0RDMEYvSVJKQkFDRUpRUUFoQjBFQUlRdEJBQ0VLSUE1QmYwY05BZ3NnQ1VILy93TnhJQWRCRUhSeURBSUxJQVlvQW1naEVpQUdLQUtnQVNFS0lBY2hDUXNnRDBFUWRpRUlJQTRnRTBZaUJpQU9JQkpHYWtFQlJ3UkFJQWdnQ1NBSlFSQjBRUkIxSWdrZ0NFRVFkRUVRZFVnaUJ4c2lDQ0FKSUE5QkVIVWlCaUFKSUFZZ0NVZ2JJQWNiSWdZZ0NrRVFkU0lISUFZZ0Iwb2JJQWhCRUhSQkVIVWdCMGdiSVFjZ0R5QUxJQXRCRUhSQkVIVWlDeUFQUVJCMFFSQjFJZ2xJSWdZYklnaEIvLzhEY1NBTElBa2dDeUFKSUF0SUd5QUdHeUlHSUFwQkVIUkJFSFVpQ1NBR0lBbEtHeUFJUVJCMFFSQjFJQWxJR3d3QkN5QUlJQXBCRUhZZ0Joc2hCeUFQSUFvZ0Joc0xJQXhxSWdoQkVIUkJFSFZCZ0VCclFmLy9BRXNOQWlBSElBMXFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MENJQUlnRGhBVUlnSkZEUUlnQUNBR093SENBU0FBSUFnN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKOElBQWdEallDY0NBQUlBNDJBbXdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0t3QVNBQUlBWTJBcXdCSUFBZ0JqWUNxQUVnQUVHa0FXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVRUVFnUURpQVFJQUFvQW53MkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFCQkNFRVFRUWdRRGd3QkN3SkFJQVpGQkVBZ0VrVUVRRUVBSVFrTUFnc2dGa1VFUUVFQUlRa01BZ3NnQ0VILy93TnhJQWRCRUhSeUlBMXlSUVJBUVFBaENRd0NDMEVBSVFrZ0VVSC8vd054SUFwQkVIUnlJQTl5UlEwQkN5QUJMd0dpQVNFTElBRXZBYUFCSVFrQ1FBSkFBa0FDUUFKQUlBQW9BdEFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVME5BUXdDQ3dKQUlBQW9BdFFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVc05BaUFHS0FKd0lSY2dCaWdDd0FFaERBd0RDMEYvSVJjZ0VrVU5BaUFXRFFJTUF3c2dCaWdDYkNFWElBWW9BcXdCSVF3TUFRdEJmeUVYQ3lBUElCTkdJZ1lnRFNBVFJpSU5haUFUSUJkR2FrRUJSd1JBSUFvZ0J5QUtRUkIwUVJCMUlnb2dCMEVRZEVFUWRTSU5TaUlHR3lJSElBMGdDaUFOSUFvZ0RVZ2JJQVliSWdZZ0RFRVFkU0lLSUFZZ0Nrb2JJQWRCRUhSQkVIVWdDa2diSVFjZ0VTQUlJQkZCRUhSQkVIVWlDaUFJUVJCMFFSQjFJZzFLSWdZYklnaEIvLzhEY1NBTklBb2dEU0FLSUExSUd5QUdHeUlHSUF4QkVIUkJFSFVpQ2lBR0lBcEtHeUFJUVJCMFFSQjFJQXBJR3lFSURBRUxJQWdnRVNBTkd5RUlJQWNnQ2lBTkd5RUhJQTBOQUNBR0RRQWdERUVRZGlFSElBd2hDQXRCQVNFYklBZ2dDV29pREVFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0Myb2lDVUVRZEVFUWRVR0FFR3BCL3g5TERRSUxJQUlnRXhBVUlnSkZCRUJCQVNFYkRBSUxJQUFnQ1RzQndnRWdBQ0FNT3dIQUFTQUFJQUkyQW5RZ0FDQVROZ0prSUFBZ0FqWUNnQUVnQUNBQ05nSjhJQUFnQWpZQ2VDQUFJQk0yQW5BZ0FDQVROZ0pzSUFBZ0V6WUNhQ0FBSUFBb0FzQUJJZ1kyQXJ3QklBQWdCallDdUFFZ0FDQUdOZ0swQVNBQUlBWTJBckFCSUFBZ0JqWUNyQUVnQUNBR05nS29BU0FBSUFZMkFxUUJJQUFnQmpZQ29BRWdBQ0FHTmdLY0FTQUFJQVkyQXBnQklBQWdCallDbEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FRSUFJMkFnZ2dCU0FBUVlRQmFpQVFRUWhxSUJVZ0ZFRUFRUUJCRUVFUUVBNExRUUFoR3lBQUtBTEVBVUVCU3cwQUlBQW9BZ0FFUUNBRUlBTWdCU0FCUWNnQ2FoQllEQUVMSUFRZ0JSQWJDeUFRUVNCcUpBQWdHd3VUQ3dFUGZ5QUFLQUlBSWhFZ0FTQUJJQUFvQWdRaUNuQWlBV3NpQkVFSWRHb2dBVUVFZEdvaEJTQUtRUVIwSVFzZ0FDZ0NDQ0FLYkNJQVFRWjBJUVlnQVVFRGRDRUpJQUJCQ0hRaERDQUVRUVowSVJJZ0NrRUNkRUg4Ly8vL0EzRkJBblFoRUFOQUlBVWdEa0VDZENJQVFmQXBhaWdDQUNJQklBdHNhaUFBUWJBcGFpZ0NBQ0lBYWlFRUlBSWdBVUVFZEdvZ0FHb2hBQUpBSUFNZ0RrRUdkR29pQVNnQ0FDSUhRZi8vL3dkSEJFQWdBU2dDQkNFSUlBQXRBQUVoRFNBRUlBY2dBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BZ2doQnlBQUxRQUNJUThnQkNBSUlBMXFRYkF1YWkwQUFEb0FBU0FCS0FJTUlRZ2dBQzBBQXlFTklBUWdCeUFQYWtHd0xtb3RBQUE2QUFJZ0JDQUlJQTFxUWJBdWFpMEFBRG9BQXlBQktBSVVJUWNnQUMwQUVTRUlJQVFnQzJvaUJDQUJLQUlRSUFBdEFCQnFRYkF1YWkwQUFEb0FBQ0FCS0FJWUlRMGdBQzBBRWlFUElBUWdCeUFJYWtHd0xtb3RBQUE2QUFFZ0FTZ0NIQ0VISUFBdEFCTWhDQ0FFSUEwZ0QycEJzQzVxTFFBQU9nQUNJQVFnQnlBSWFrR3dMbW90QUFBNkFBTWdBU2dDSkNFSElBQXRBQ0VoQ0NBRUlBdHFJZ1FnQVNnQ0lDQUFMUUFnYWtHd0xtb3RBQUE2QUFBZ0FTZ0NLQ0VOSUFBdEFDSWhEeUFFSUFjZ0NHcEJzQzVxTFFBQU9nQUJJQUVvQWl3aEJ5QUFMUUFqSVFnZ0JDQU5JQTlxUWJBdWFpMEFBRG9BQWlBRUlBY2dDR3BCc0M1cUxRQUFPZ0FESUFFb0FqUWhCeUFBTFFBeElRZ2dCQ0FMYWlJRUlBRW9BakFnQUMwQU1HcEJzQzVxTFFBQU9nQUFJQUVvQWpnaERTQUFMUUF5SVE4Z0JDQUhJQWhxUWJBdWFpMEFBRG9BQVNBQktBSThJUUVnQUMwQU15RUFJQVFnRFNBUGFrR3dMbW90QUFBNkFBSWdCQ0FBSUFGcVFiQXVhaTBBQURvQUF3d0JDeUFBS0FJUUlRRWdCQ0FBS0FJQU5nSUFJQVFnRUdvaUJDQUJOZ0lBSUFBb0FqQWhBU0FFSUJCcUlnUWdBQ2dDSURZQ0FDQUVJQkJxSUFFMkFnQUxJQTVCQVdvaURrRVFSdzBBQ3lBTUlCRnFJQkpxSUFscUloQWdCbW9oRVNBS1FRTjBRZmovLy84SGNTSUxRUUoyUVFKMElRNUJFQ0VLQTBBZ0NrRUNkRUVNY1NJQVFmQXBhaWdDQUNJQklBdHNJQUJCc0NscUtBSUFJZ0JxSUJFZ0VDQUtRUk5MSWdVYmFpRUVJQUpCd0FKQmdBSWdCUnRxSUFGQkEzUWdBR3BxSVFBQ1FDQURJQXBCQm5ScUlnRW9BZ0FpQlVILy8vOEhSd1JBSUFFb0FnUWhCaUFBTFFBQklRa2dCQ0FGSUFBdEFBQnFRYkF1YWkwQUFEb0FBQ0FCS0FJSUlRVWdBQzBBQWlFTUlBUWdCaUFKYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VHSUFBdEFBTWhDU0FFSUFVZ0RHcEJzQzVxTFFBQU9nQUNJQVFnQmlBSmFrR3dMbW90QUFBNkFBTWdBU2dDRkNFRklBQXRBQWtoQmlBRUlBdHFJZ1FnQVNnQ0VDQUFMUUFJYWtHd0xtb3RBQUE2QUFBZ0FTZ0NHQ0VKSUFBdEFBb2hEQ0FFSUFVZ0JtcEJzQzVxTFFBQU9nQUJJQUVvQWh3aEJTQUFMUUFMSVFZZ0JDQUpJQXhxUWJBdWFpMEFBRG9BQWlBRUlBVWdCbXBCc0M1cUxRQUFPZ0FESUFFb0FpUWhCU0FBTFFBUklRWWdCQ0FMYWlJRUlBRW9BaUFnQUMwQUVHcEJzQzVxTFFBQU9nQUFJQUVvQWlnaENTQUFMUUFTSVF3Z0JDQUZJQVpxUWJBdWFpMEFBRG9BQVNBQktBSXNJUVVnQUMwQUV5RUdJQVFnQ1NBTWFrR3dMbW90QUFBNkFBSWdCQ0FGSUFacVFiQXVhaTBBQURvQUF5QUJLQUkwSVFVZ0FDMEFHU0VHSUFRZ0Myb2lCQ0FCS0FJd0lBQXRBQmhxUWJBdWFpMEFBRG9BQUNBQktBSTRJUWtnQUMwQUdpRU1JQVFnQlNBR2FrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQXRBQnNoQUNBRUlBa2dER3BCc0M1cUxRQUFPZ0FDSUFRZ0FDQUJha0d3TG1vdEFBQTZBQU1NQVFzZ0FDZ0NDQ0VCSUFRZ0FDZ0NBRFlDQUNBRUlBNXFJZ1FnQVRZQ0FDQUFLQUlZSVFFZ0JDQU9haUlFSUFBb0FoQTJBZ0FnQkNBT2FpQUJOZ0lBQ3lBS1FRRnFJZ3BCR0VjTkFBc0w1Z0VCQjM4Q1FDQUFLQUlBSWdWRkRRQWdBRUVCTmdJOElBQW9BamdOQUNBQUtBSWNJUVpCLy8vLy93Y2hBZ05BQTBBZ0JTQURRU2hzYWlJRUtBSVlCRUFnQkNBQklBUW9BaEFpQkNBQ1NDSUhHeUVCSUFRZ0FpQUhHeUVDQ3lBRFFRRnFJZ01nQmswTkFDQUJSUTBDSUFBb0Fnd2dBQ2dDRUNJRFFRUjBhaUlDSUFFb0FnQTJBZ0FnQWlBQktBSWtOZ0lNSUFJZ0FTZ0NIRFlDQkNBQ0lBRW9BaUEyQWdnZ0FDQURRUUZxTmdJUVFRQWhBeUFCUVFBMkFoZ2dBU2dDRkNFRVFRQWhBVUgvLy8vL0J5RUNJQVFOQUFzZ0FDQUFLQUlzUVg5cU5nSXNEQUFBQ3dBTEM5d0dBUXAvSUFCQ0FEY0NFQUpBQWtBQ1FDQURSUTBBQWtBQ1FDQUJJQUFvQWpBaUEwY0VRQ0FEUVFGcUlBQW9BaUFpQkhBaUNTQUJSZzBCSUFBb0FnQWdBQ2dDSEVFb2JHb29BZ0FoQ3dOQUFrQUNRQ0FBS0FJb0lnY0VRQ0FBS0FJQUlRaEJBQ0VEQTBBZ0NDQURRU2hzYWlJRktBSVVRWDlxUVFGTkJFQWdCU0FGS0FJTUlnVWdCRUVBSUFVZ0NVc2JhellDQ0FzZ0EwRUJhaUlESUFkSERRQUxJQWNnQUNnQ0dFa05Ba0YvSVFWQkFDRURRUUFoQkFOQUlBZ2dBMEVvYkdvaUJpZ0NGRUYvYWtFQlRRUkFJQVlvQWdnaUJpQUVJQVZCZjBZZ0JpQUVTSElpQmhzaEJDQURJQVVnQmhzaEJRc2dBMEVCYWlJRElBZEhEUUFMSUFWQkFFNE5BVUVCRHd0QkFDRUhJQUFvQWhnTkFVRUJEd3NnQ0NBRlFTaHNhaUlEUVFBMkFoUWdBQ0FIUVg5cUlnYzJBaWdnQXlnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FDZ0NMQ0lGSUFBb0Fod2lDRThFUUNBQUtBSTREUVlnQUNnQ0FDRU1BMEJCQUNFRVFmLy8vLzhISVFaQkFDRURBMEFnRENBRFFTaHNhaUlLS0FJWUJFQWdDaUFFSUFvb0FoQWlDaUFHU0NJTkd5RUVJQW9nQmlBTkd5RUdDeUFEUVFGcUlnTWdDRTBOQUFzQ1FDQUVSUTBBSUFBb0Fnd2dBQ2dDRUNJR1FRUjBhaUlESUFRb0FnQTJBZ0FnQXlBRUtBSWtOZ0lNSUFNZ0JDZ0NIRFlDQkNBRElBUW9BaUEyQWdnZ0FDQUdRUUZxTmdJUUlBUkJBRFlDR0NBRUtBSVVEUUFnQUNBRlFYOXFJZ1UyQWl3TElBVWdDRThOQUFzTElBQW9BZ0FpQkNBSVFTaHNhaUlESUFrMkFnd2dBMEtBZ0lDQUVEY0NFQ0FEUVFBMkFoZ2dBeUFKTmdJSUlBQWdCMEVCYWpZQ0tDQUFJQVZCQVdvMkFpd2dCQ0FJUVFGcUVDY2dDVUVCYWlBQUtBSWdJZ1J3SWdrZ0FVY05BQXNDUUNBQUtBSVFJZ2xGRFFBZ0FDZ0NBQ0lGSUFBb0Fod2lCRUVvYkdvaUNDZ0NBQ0VISUFBb0Fnd2hCa0VBSVFNRFFDQUhJQVlnQTBFRWRHb29BZ0JIQkVBZ0NTQURRUUZxSWdOSERRRU1BZ3NMSUFSRkRRQkJBQ0VEQTBBZ0N5QUZJQU5CS0d4cUlna29BZ0JIQkVBZ0JDQURRUUZxSWdOSERRRU1BZ3NMSUFrZ0J6WUNBQ0FJSUFzMkFnQUxJQUlOQlNBQUtBSXdJUU1NQWdzZ0FrRUFSdzhMSUFJTkF3c2dBU0FEUmcwQUlBQWdBU0FBS0FJZ0lnQnFRWDlxSUFCd05nSXdDMEVBRHdzRFFBd0FBQXNBQ3lBQUlBRTJBakJCQUF0MUFRTi9Ba0FnQUNnQ0FDSUJSUTBBSUFBb0FoeEJmMFlOQUFOQUlBRWdBa0VvYkNJRGFpZ0NCQkFFSUFBb0FnQWlBU0FEYWtFQU5nSUVJQUpCQVdvaUFpQUFLQUljUVFGcVNRMEFDd3NnQVJBRUlBQkJBRFlDQUNBQUtBSUVFQVFnQUVFQU5nSUVJQUFvQWd3UUJDQUFRUUEyQWd3TGd3RUJBMzhDUUNBQUtBSUFJZ1pGRFFBZ0FDZ0NIRUYvUmcwQUEwQWdCaUFIUVNoc0lnaHFLQUlFRUFRZ0FDZ0NBQ0lHSUFocVFRQTJBZ1FnQjBFQmFpSUhJQUFvQWh4QkFXcEpEUUFMQ3lBR0VBUWdBRUVBTmdJQUlBQW9BZ1FRQkNBQVFRQTJBZ1FnQUNnQ0RCQUVJQUJCQURZQ0RDQUFJQUVnQWlBRElBUWdCUkJkQzRBQ0FRSi9JQUFnQlRZQ09DQUFJQVEyQWlBZ0FFTC8vd00zQWlRZ0FFSUFOd0lzSUFBZ0EwRUJJQU5CQVVzYklnTTJBaGdnQUNBRElBSWdCUnNpQWpZQ0hDQUFRYWdGRUFvaUF6WUNBRUgvL3dNaEJBSkFJQU5GRFFCQkFDRUZJQU5CQUVHb0JSQUhJUVlnQWtGL1J3UkFJQUZCZ0FOc1FTOXlJUVZCQUNFREEwQWdCaUFEUVNoc2FpSUhJQVVRQ2lJQk5nSUVJQUZGRFFJZ0J5QUJRUUFnQVd0QkQzRnFOZ0lBSUFNZ0Fra2hBU0FEUVFGcUlRTWdBUTBBQ3lBQ1FRUjBRUkJxSVFVTElBQkJ4QUFRQ2lJQk5nSUVJQUFnQlJBS0lnSTJBZ3dnQWtVTkFDQUJSUTBBUVFBaEJDQUJRUUJCeEFBUUJ4b2dBRUlBTndJUUN5QUVDOU1CQVFkL1FRRWhBUUpBSUFBb0FqZ05BQ0FBS0FJY0lRVWdBQ2dDQUNFR1FmLy8vLzhISVFOQkFDRUJBMEFnQmlBQlFTaHNhaUlFS0FJWUJFQWdCQ0FDSUFRb0FoQWlCQ0FEU0NJSEd5RUNJQVFnQXlBSEd5RURDeUFCUVFGcUlnRWdCVTBOQUFzZ0FrVUVRRUVCRHdzZ0FDZ0NEQ0FBS0FJUUlnTkJCSFJxSWdFZ0FpZ0NBRFlDQUNBQklBSW9BaVEyQWd3Z0FTQUNLQUljTmdJRUlBRWdBaWdDSURZQ0NDQUFJQU5CQVdvMkFoQkJBQ0VCSUFKQkFEWUNHQ0FDS0FJVURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQkMvVUVBUWgvSUFBb0FpZ2lCQVJBSUFBb0FnQWhCd05BSUFjZ0JVRW9iR29pQmlnQ0ZFRi9ha0VCVFFSQUlBWWdCaWdDRENJSUlBSkxCSDhnQ0NBQUtBSWdhd1VnQ0FzMkFnZ0xJQVZCQVdvaUJTQUVSdzBBQ3d0QkFDRUVBa0FnQVNnQ0FFVU5BQ0FCS0FJRUlnVkJBa3NOQUVFQUlRY2dBaUVHQTBBQ1FBSkFBa0FnQlVFQ1J3UkFJQUVnQjBFTWJHb29BZ2doQkFKQUlBVkZCRUFnQmlBRWF5SUdRWDlLRFFFZ0FDZ0NJQ0FHYWlFR0RBRUxJQVFnQm1vaUJrRUFJQUFvQWlBaUJTQUdJQVZJRzJzaEJnc2dCaUVKSUFZZ0Frc0VRQ0FHSUFBb0FpQnJJUWtMSUFBb0FoZ2lDa1VFUUVFQkR3c2dBQ2dDQUNFSVFRQWhCUU5BSUFnZ0JVRW9iR29pQkNnQ0ZDSUxRWDlxUVFGTkJFQWdCQ2dDQ0NBSlJnMERDMEVCSVFRZ0JVRUJhaUlGSUFwSERRQUxEQVVMUVFFaEJDQUFLQUlZSWdsRkRRUWdBU0FIUVF4c2FpZ0NEQ0VLSUFBb0FnQWhDRUVBSVFVRFFDQUlJQVZCS0d4cUlnUW9BaFJCQTBZRVFDQUVLQUlJSUFwR0RRTUxRUUVoQkNBRlFRRnFJZ1VnQ1VjTkFBc01CQXNnQlVFQVNBUkFRUUVQQzBFQklRUWdDMEVCU3cwQkRBTUxRUUVoQkNBRlFRQklEUUlMSUFjZ0F5SUVTUVJBQTBBZ0FDZ0NCQ0lKSUFSQkFuUnFJQWtnQkVGL2FpSUVRUUowYWlnQ0FEWUNBQ0FFSUFkTERRQUxJQUFvQWdBaENBc2dBQ2dDQkNBSFFRSjBhaUFJSUFWQktHd2lDV28yQWdBZ0IwRUJhaUlISVFRZ0J5SUZJQU5OQkVBRFFDQUFLQUlFSWdnZ0JVRUNkR29vQWdBaUNpQUFLQUlBSUFscVJ3UkFJQWdnQkVFQ2RHb2dDallDQUNBRVFRRnFJUVFMSUFWQkFXb2lCU0FEVFEwQUN3dEJBQ0VFSUFFZ0IwRU1iR29vQWdRaUJVRURTUTBBQ3dzZ0JBc0hBRUhFR2hBS0M3Y0JBUUovSXdCQkVHc2lCaVFBSUFaQkFEWUNEQ0FBSUFFZ0FpQUdRUXhxRUNvaUIwRjljVVVFUUFOQUlBQWdBU0FHS0FJTUlnZHFJZ0VnQWlBSGF5SUNJQVpCREdvUUtpSUhRWDF4UlEwQUN3c2dCMEVCUmdSQUlBUWdBQ2dDRUNJQktBSTBRUVIwTmdJQUlBVWdBU2dDT0VFRWREWUNBQ0FESUFCQnhBbHFJZ0FvQWhRaUFTQUFLQUlRU1FSL0lBQWdBVUVCYWpZQ0ZDQUFLQUlNSUFGQkJIUnFCVUVBQ3lnQ0FEWUNBQXNnQmtFUWFpUUFJQWNMU1FFQmZ5QUFRUUJCeEJvUUJ5SUNRYlFLYWtFQk5nSUFJQUpDZ0lLQWdJQUVOd0lFSUFCQndCQVFDaUlDTmdLd0dpQUNSUVJBUVFFUEN5QUJCRUFnQUVFQk5nTEFDUXRCQUF1NkJBRUpmd0pBQWtBZ0FVRUVTUTBBSUFBdEFBQU5BQ0FBTFFBQkRRQWdBQzBBQWlJSFFRRkxEUUJCQXlFRUlBQkJBMm9oQlVFQ0lRaEJmU0VNQWtBRFFDQUZJUVlDZnlBSVFRRnFJQWRCL3dGeElnVkZEUUFhUVFBaEJ5QUZRUUZHUVFBZ0NFRUJTeHNOQWtFQUN5RUlJQVJCZjNNaERDQUdRUUZxSVFVZ0JpMEFBQ0VISUFSQkFXb2lCQ0FCUncwQUN5QURJQUUyQWdCQkFROExJQVFoQ2tFQUlRaEJBQ0VGQTBCQkFTQUlJQWNnQmkwQUFDSUxSV29pQ1VFQ1Joc2dDQ0FMUVFOR0d5RUlJQXBCQVdvaENnSkFJQXRCQVVjTkFDQUpRUUpKRFFBZ0FpQUtJQXhxSUFsQmYzTnFJZ0UyQWd4QkFDQUpRWDFxSWdZZ0JpQUpTeHNoQnd3REMwRUFJQWtnQ3hzaEIwRUJJQVVnQ1VFQ1N4c2dCU0FMR3lFRklBWkJBV29oQmlBQklBcEhEUUFMSUFJZ0FTQU1haUFIYXlJQk5nSU1EQUVMSUFJZ0FUWUNERUVCSVFoQkFDRUhDeUFDUVFBMkFoQWdBa0VBTmdJSUlBSWdBQ0FFYWlJQU5nSUVJQUlnQURZQ0FDQURJQVFnQjJvZ0FXbzJBZ0JCQVNFREFrQWdCUTBBUVFBaEF5QUlSUTBBSUFJQ2Z5QUNLQUlNSWdGRkJFQWdBQ0VFUVFBTUFRc2dBQ0VFUVFBaEJnTkFJQUZCZjJvaEFTQUVMUUFBSVFVQ2Z3SkFJQVpCQWtjTkFDQUZRUU5HQkVBZ0FVVUVRRUVCRHdzZ0JDMEFBVUVEU3dSQVFRRVBDMEVBSVFZZ0JFRUJhZ3dDQ3lBRlFRTlBEUUJCQVE4TElBQWdCVG9BQUVFQUlBWkJBV29nQlJzaEJpQUFRUUZxSVFBZ0JFRUJhZ3NoQkNBQkRRQUxJQUlvQWd3TElBQWdCR3RxTmdJTUN5QURDd3Z0TWhrQVFZWUlDOG9GWmlBbUVBWUlaUmhsR0VNUVF4QkRFRU1RUXhCREVFTVFReEFpQ0NJSUlnZ2lDQ0lJSWdnaUNDSUlJZ2dpQ0NJSUlnZ2lDQ0lJSWdnaUNBQUFBQUFBQUFBQWFrQktNQ29vQ2lCcE9HazRTU2hKS0NrZ0tTQUpHQWtZYURCb01HZ3dhREJJSUVnZ1NDQklJQ2dZS0Jnb0dDZ1lDQkFJRUFnUUNCQm5LR2NvWnlobktHY29aeWhuS0djb1J4aEhHRWNZUnhoSEdFY1lSeGhIR0c1Z1RsZ3VVQTVRYmxoT1VDNUlEa2dOUUExQVRVaE5TQzFBTFVBTk9BMDRiVkJ0VUUxQVRVQXRPQzA0RFRBTk1HdElhMGhyU0d0SWEwaHJTR3RJYTBoTE9FczRTemhMT0VzNFN6aExPRXM0S3pBck1Dc3dLekFyTUNzd0t6QXJNQXNvQ3lnTEtBc29DeWdMS0Fzb0N5Z0FBQUFBTDJndmFCQ0FVSUF3Z0JCNGNJQlFlREI0RUhCd2VGQndNSEFRYUc5d2IzQlBhRTlvTDJBdllBOWdEMkJ2YUc5b1QyQlBZQzlZTDFnUFdBOVlBQUFBQUFBQUFBQm1PRVlnSmlBR0VHWXdSaGdtR0FZSVpTaGxLQ1VRSlJCa0lHUWdaQ0JrSUdRWVpCaGtHR1FZUXhCREVFTVFReEJERUVNUVF4QkRFQUFBQUFBQUFBQUFhVWhKT0NrNENUQUlLQWdvU0RCSU1DZ3dLREFJSUFnZ1owQm5RR2RBWjBCSEtFY29SeWhIS0Njb0p5Z25LQ2NvQnhnSEdBY1lCeGdBQUFBQWJYaHRlRzZBVG9BdWdBNkFMbmdPZUU1NExuQk5jRTF3RFhBTmNHMXdiWEJOYUUxb0xXZ3RhQTFvRFdodGFHMW9UV0JOWUMxZ0xXQU5ZQTFnREZnTVdBeFlERmhNV0V4WVRGaE1XQ3hZTEZnc1dDeFlERkFNVUF4UURGQnNZR3hnYkdCc1lFeFFURkJNVUV4UUxGQXNVQ3hRTEZBTVNBeElERWdNU0d0WWExaHJXR3RZYTFocldHdFlhMWhMU0V0SVMwaExTRXRJUzBoTFNFdElLMGdyU0N0SUswZ3JTQ3RJSzBnclNBdEFDMEFMUUF0QUMwQUxRQXRBQzBCclVHdFFhMUJyVUd0UWExQnJVR3RRUzBCTFFFdEFTMEJMUUV0QVMwQkxRQ3RBSzBBclFDdEFLMEFyUUN0QUswQUxPQXM0Q3pnTE9BczRDemdMT0FzNEFFSGdEUXV1Q1FZWVJqZ21PQVlRWmtoR01DWXdCZ2dsS0NVb1JTaEZLQ1VnSlNCRklFVWdKUmdsR0dWQVpVQkZHRVVZSlJBbEVHUTRaRGhrT0dRNFpEQmtNR1F3WkRCa0tHUW9aQ2hrS0dRZ1pDQmtJR1FnWkJoa0dHUVlaQmhFRUVRUVJCQkVFQ1FJSkFna0NDUUlCQUFFQUFRQUJBQUFBQXFBYW9CS2dDcUFDbmhxZUVwNEtuZ0tjR3B3U25BcWNBcG9LV2dwYUFsZ0NXQkphRWxvS1dBcFlBbFlDVmhwYUdsb1NXQkpZQ2xZS1ZnSlVBbFFhR0JvWUdoZ2FHQklXRWhZU0ZoSVdDaFFLRkFvVUNoUUNFZ0lTQWhJQ0Vob1dHaFlhRmhvV0VoUVNGQklVRWhRS0Vnb1NDaElLRWdJUUFoQUNFQUlRQWM0QnpnSE9BYzRCemdIT0FjNEJ6Z0hNQWN3QnpBSE1BY3dCekFITUFjd1IwaEhTRWRJUjBoSFNFZElSMGhIU0Fjb0J5Z0hLQWNvQnlnSEtBY29CeWhuVUdkUVoxQm5VR2RRWjFCblVHZFFSMEJIUUVkQVIwQkhRRWRBUjBCSFFDZEFKMEFuUUNkQUowQW5RQ2RBSjBBSElBY2dCeUFISUFjZ0J5QUhJQWNnQmdnbUNBQUFCZ0FHRUNZUVJoQUFBQVlZSmhoR0dHWVlCaUFtSUVZZ1ppQUdLQ1lvUmlobUtBWXdKakJHTUdZd0JqZ21PRVk0WmpnR1FDWkFSa0JtUUFaSUpraEdTR1pJQmxBbVVFWlFabEFHV0NaWVJsaG1XQVpnSm1CR1lHWmdCbWdtYUVab1ptZ0djQ1p3Um5CbWNBWjRKbmhHZUdaNEJvQW1nRWFBWm9BQUFFTVFBZ0FDQUNFSUlRZ2hDQ0VJWnlCbklFZ2dLQ0JIR0VjWUp4Z25HQVlnQmlBR0lBWWdCaGdHR0FZWUJoZ0dFQVlRQmhBR0VHWVlaaGhtR0dZWUpoQW1FQ1lRSmhBR0NBWUlCZ2dHQ0FBQVpWVkVSRFEwSXlNakl4TVRFeE1CQVFFQkFRRUJBUUVCQVFFQkFRRUJBUG5wMmNqSXVMaW5wNmVubDVlWGw0YUdob2FHaG9hR2RuWjJkbloyZG5ibTFzYTJwYVdWbFlTRWhJUjBkSFIwWkdSa1pGUlVWRlJEUTBORFEwTkRRek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEV3TURBd01EQXdNRDFyYkZ4YVdsbFpXRWhJU0VWRlJVVkVSRVJFUUVCQVFFYzNOemMzTnpjM05qWTJOalkyTmpZek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEU4VzFwUVdVbEhSME5EUWtKSU9EZzROalkyTmpVMU5UVTBORFEwTVRFeE1UdFpXa3BJU0VKQ1FVRkFRRWMzTnpjMk5qWTJOVFUxTlRRME5EUXpNek16T21CaFVWaElTRWhKT1RrNU9UazVPVGMzTnpjM056YzNOalkyTmpZMk5qWTFOVFUxTlRVMU5UUTBORFEwTkRRME16TXpNek16TXpNeU1qSXlNakl5TWpsZ1lWRlhSMGRIU0RnNE9EZzRPRGcyTmpZMk5qWTJOalEwTkRRME5EUTBNek16TXpNek16TXlNakl5TWpJeU1qVWxKU1VsSlNVbEpTVWxKU1VsSlNVb1lHSlNVVUZCUVVjM056YzNOemMzTmpZMk5qWTJOall6TXpNek16TXpNelVsSlNVbEpTVWxKU1VsSlNVbEpTVWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0lXQm5WMUpDUWtKRk5UVTFOVFUxTlRZbUppWW1KaVltSmlZbUppWW1KaVlrSkNRa0pDUWtKQ1FrSkNRa0pDUWtJeU1qSXlNakl5TWpJeU1qSXlNakl5RlFWa1pDTWpJeU5TVWxKU1VsSlNVa0pDUWtKQ1FrSkNNakl5TWpJeU1qSUVGQ01qTXpOVFUwRkJRVUZCUVVGQkJCUkRReUlpSWlJeE1URXhNVEV4TVFNVE1qSWhJU0VoQWhJaElSRUJJaElCQVRJaUVnSkRNeUlpRWhJQ0FsTkRNeU1TRWdJQ0V5TkRNMk5UQWdJQVFhQVhDeVFFQkFVR0J3Z0pDZ3dORHhFVUZoa2NJQ1FvTFRJNFAwZFFXbVZ4ZjVDaXRzdmkvLzhBUWVBWEN5UUNBZ0lEQXdNREJBUUVCZ1lIQndnSUNRa0tDZ3NMREF3TkRRNE9EdzhRRUJFUkVoSUFRY1VZQzRRQkFRQUFBUUFBQVFBQUFRQUJBUUFCQVFFQkFRRUJBUUVCQVFFQkFRRUJBZ0VCQWdFQkFnRUJBZ0VDQXdFQ0F3SUNBd0lDQkFJREJBSURCQU1EQlFNRUJnTUVCZ1FGQndRRkNBUUdDUVVIQ2dZSUN3WUlEUWNLRGdnTEVBa01FZ29ORkFzUEZ3MFJHUUFBQUFBQUFBQUFCUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVIVUdRc1ZCUUFBQUFBQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUVIMEdRc1ZCUUFBQUFRQUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVHVUdnc0ZCUUFBQUFRQVFhUWFDNlVCQndBQUFBUUFBQUFDQUFBQUJBQUFBQUVBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUFRQUFBQVFBQUFBREFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFCQUFBQUJBQUFBQVFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBRUFBQUFFQUFBQUJBQUFBQVFBQUFBREFBQUFCQUFBQUFZQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FFSFVHd3NWRFFBQUFBQUFBQUFQQUFBQS93QUFBQUFBQUFEL0FFSDBHd3NWRFFBQUFBUUFBQUFJQUFBQS93QUFBQUFBQUFEL0FFR1VIQXUxQ3cwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBSkFBQUFCQUFBQUFzQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQWtBQUFBRUFBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUNRQUFBQVFBQUFBTUFBQUFCQUFBQUFzQUFBQUVBQUFBRGdBQUFBRUFBQUFLQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBb0FBQUFFQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ2dBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUtBQUFBQVFBQUFBc0FBQUFFQUFBQUFBQUFBQVFBQUFBQkFBQUFBUUFBQUE0QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEZ0FBQUFRQUFBQUVBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQUVBQUFBT0FBQUFBUUFBQUE4QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUFRQUFBQTRBQUFBQkFBQUFEd0FBQUFRQUFBQUVBQUFBQkFBQUFBVUFBQUFFQUFBQUFnQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFDQUFBQUJBQUFBQWdBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUVBQUFBQWdBQUFBUUFBQUFEQUFBQUJBQUFBQWdBQUFBRUFBQUFDUUFBQUFRQUFBQUdBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFZQUFBQUVBQUFBREFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBRUFBQUFCZ0FBQUFRQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUFCQUFBQUFjQUFBQUVBQUFBREFBQUFBUUFBQUFOQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFCQUFBQURnQUFBUDhBQUFBRUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBRUFBQUFMQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFCQUFBQURnQUFBQVFBQUFBQkFBQUEvd0FBQUFRQUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFJQUFBQUtBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFBUUFBQUE4QUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEd0FBQUFJQUFBQUtBQUFBQkFBQUFBVUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQVlBQUFEL0FBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFBRUFBQUFDUUFBQVA4QUFBQU1BQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQWdBQUFQOEFBQUFJQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFRQUFBQUhBQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFjQUFBRC9BQUFBQWdBQUFBUUFBQUFOQUFBQS93QUFBQWdBQUFBREFBQUFEd0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQU1BQUFBUEFBQUFBQUFBQUFVQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUF3QUFBQThBQUFBQkFBQUFDZ0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFEQUFBQUR3QUFBQUVBQUFBS0FBQUFBQUFBQUFVQUFBQUVBQUFBQUFBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFFQUFBQUFRQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ3dBQUFBRUFBQUFPQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QkIxQ2NMRlFjQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QkI5Q2NMRlFjQUFBQUVBQUFBQWdBQUFQOEFBQUFBQUFBQS93QkJsQ2dMMlFFSEFBQUFCQUFBQUFJQUFBQUFBQUFBRFFBQUFBUUFBQUFJQUFBQUJBQUFBQU1BQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBSkFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBTUFBQUFFQUFBQUJnQUFBQVFBQUFBSkFBQUFCQUFBQUF3QUFBQUFBQUFBQkFBQUFBQUFBQUFFQUFBQUNBQUFBQXdBQUFBSUFBQUFEQUFBQUFBQUFBQUVBQUFBQUFBQUFBUUFBQUFJQUFBQURBQUFBQWdBQUFBTUFFSDRLUXNGQkFBQUFBUUFRWWdxQ3lVRUFBQUFCQUFBQUFnQUFBQUlBQUFBREFBQUFBd0FBQUFJQUFBQUNBQUFBQXdBQUFBTUFFR3hMZ3ZJQmdFQ0F3UUZCZ2NJQ1FvTERBME9EeEFSRWhNVUZSWVhHQmthR3h3ZEhoOGdJU0lqSkNVbUp5Z3BLaXNzTFM0dk1ERXlNelExTmpjNE9UbzdQRDArUDBCQlFrTkVSVVpIU0VsS1MweE5UazlRVVZKVFZGVldWMWhaV2x0Y1hWNWZZR0ZpWTJSbFptZG9hV3ByYkcxdWIzQnhjbk4wZFhaM2VIbDZlM3g5Zm4rQWdZS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2s1U1ZscGVZbVpxYm5KMmVuNkNob3FPa3BhYW5xS21xcTZ5dHJxK3dzYkt6dExXMnQ3aTV1cnU4dmI2L3dNSEN3OFRGeHNmSXljckx6TTNPejlEUjB0UFUxZGJYMk5uYTI5emQzdC9nNGVMajVPWG01K2pwNnV2czdlN3Y4UEh5OC9UMTl2ZjQrZnI3L1AzKy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FBQUFBQUVBQUFBRUFBQUFCUUFBQUFJQUFBQURBQUFBQmdBQUFBY0FBQUFJQUFBQUNRQUFBQXdBQUFBTkFBQUFDZ0FBQUFzQUFBQU9BQUFBRHdBQUFBQUFBQUFCQUFBQUFRQkJoRFVMSVFFQUFBQUJBQUFBQVFBQUFBRUFBQUFDQUFBQUFnQUFBQUVBQUFBQ0FBQUFBZ0JCdERVTEJRVUFBQUFFQUVIRU5RdkpCZ2NBQUFBRUFBQUFBZ0FBQUFRQUFBQUJBQUFBQkFBQUFBUUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUFBQUFBQUEwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQUFRQUFBQU1BQUFBQkFBQUFBc0FBQUFFQUFBQURnQUFBQUFBQUFBUkFBQUFCQUFBQUJBQUFBQUFBQUFBRXdBQUFBUUFBQUFTQUFBQUFBQUFBQlVBQUFBRUFBQUFGQUFBQUFBQUFBQVhBQUFBQkFBQUFCWUFBQUFCQUFBQUNnQUFBQUVBQUFBTEFBQUFCQUFBQUFBQUFBQUVBQUFBQVFBQUFBRUFBQUFPQUFBQUFRQUFBQThBQUFBRUFBQUFCQUFBQUFRQUFBQUZBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBQVFBQUFBSUFBQUFCQUFBQUFrQUFBQUVBQUFBQmdBQUFBUUFBQUFIQUFBQUJBQUFBQXdBQUFBRUFBQUFEUUFBQUFFQUFBQVNBQUFBQVFBQUFCTUFBQUFFQUFBQUVBQUFBQVFBQUFBUkFBQUFBUUFBQUJZQUFBQUJBQUFBRndBQUFBUUFBQUFVQUFBQUJBQUFBQlVBQUFBQkFBQUFDd0FBQUFFQUFBQU9BQUFBQkFBQUFBRUFBQUQvQUFBQUJBQUFBQUVBQUFBUEFBQUFBZ0FBQUFvQUFBQUVBQUFBQlFBQUFQOEFBQUFBQUFBQUJBQUFBQU1BQUFBRUFBQUFCZ0FBQUFRQUFBQUpBQUFBL3dBQUFBd0FBQUFFQUFBQUJ3QUFBUDhBQUFBQ0FBQUFCQUFBQUEwQUFBRC9BQUFBQ0FBQUFBRUFBQUFUQUFBQUFnQUFBQklBQUFBRUFBQUFFUUFBQVA4QUFBQVFBQUFBQVFBQUFCY0FBQUFDQUFBQUZnQUFBQVFBQUFBVkFBQUEvd0FBQUJRQUFBQURBQUFBRHdBQUFBRUFBQUFLQUFBQUFBQUFBQVVBQUFBRUFBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBQUVBQUFBQWdBQUFBQUFBQUFOQUFBQUJBQUFBQWdBQUFBRUFBQUFBd0FBQUFRQUFBQUdBQUFBQkFBQUFBa0FBQUFFQUFBQURBQUFBQU1BQUFBVEFBQUFBUUFBQUJJQUFBQUFBQUFBRVFBQUFBUUFBQUFRQUFBQUF3QUFBQmNBQUFBQkFBQUFGZ0FBQUFBQUFBQVZBQUFBQkFBQUFCUUFBQUFCQUFBQUFRQUFBQUlBQUFBQ0FBQUFBd0FBQUFNQUFBQURBQUFBQXdBQUFBQUFBQUFCQUFBQUFnQUFBQU1BQUFBRUFBQUFCUUFBQUFZQUFBQUhBQUFBQ0FBQUFBa0FBQUFLQUFBQUN3QUFBQXdBQUFBTkFBQUFEZ0FBQUE4QVFaWThDeTRCQVFFQkFRRUNBZ0lDQWdJREF3TURBd01FQkFRRUJBUUZCUVVGQlFVR0JnWUdCZ1lIQndjSEJ3Y0lDQWdJQUVIUVBBdEZDZ0FBQUEwQUFBQVFBQUFBQ3dBQUFBNEFBQUFTQUFBQURRQUFBQkFBQUFBVUFBQUFEZ0FBQUJJQUFBQVhBQUFBRUFBQUFCUUFBQUFaQUFBQUVnQUFBQmNBQUFBZEFFR2hQUXN6QVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURBRUhrUFF2TUFnRUFBQUFDQUFBQUF3QUFBQVFBQUFBRkFBQUFCZ0FBQUFjQUFBQUlBQUFBQ1FBQUFBb0FBQUFMQUFBQURBQUFBQTBBQUFBT0FBQUFEd0FBQUJBQUFBQVJBQUFBRWdBQUFCTUFBQUFVQUFBQUZRQUFBQllBQUFBWEFBQUFHQUFBQUJrQUFBQWFBQUFBR3dBQUFCd0FBQUFkQUFBQUhRQUFBQjRBQUFBZkFBQUFJQUFBQUNBQUFBQWhBQUFBSWdBQUFDSUFBQUFqQUFBQUl3QUFBQ1FBQUFBa0FBQUFKUUFBQUNVQUFBQWxBQUFBSmdBQUFDWUFBQUFtQUFBQUp3QUFBQ2NBQUFBbkFBQUFKd0FBQUFFQUFBQUNBQUFBQkFBQUFBZ0FBQUFRQUFBQUlBQUFBRUFBQUFDQUFBQUFMeDhQQUJjYkhSNEhDdzBPSnlzdExoQURCUW9NRXhVYUhDTWxLaXdCQWdRSUVSSVVHQVlKRmhrZ0lTSWtLQ1lwQUJBQkFnUUlJQU1GQ2d3UEx3Y0xEUTRHQ1I4akpTb3NJU0lrS0NjckxTNFJFaFFZRXhVYUhCY2JIUjRXR1NZcEFMQXRCRzVoYldVQjZ3TmtBQVp0WlcxamNIa0JCbkpsYzJsNlpRSUNaaklEQW1ZekJBRm1CUUptTlFZQ1pqWUhBbVkzQ0FKbU9Ba0NaamtLQVdVTEEyWXhNUXdEWmpFeURRTm1NVE1PQTJZeE5BOERaakUxRUFObU1UWVJBMll4TnhJRFpqRTRFd05tTVRrVUEyWXlNQlVEWmpJeEZnTm1NaklYQTJZeU14Z0RaakkwR1FObU1qVWFBMll5TmhzRFpqSTNIQU5tTWpnZEEyWXlPUjREWmpNd0h3Tm1NekVnQTJZek1pRURaak16SWdObU16UWpBMll6TlNRRFpqTTJKUU5tTXpjbUEyWXpPQ2NEWmpNNUtBTm1OREFwQTJZME1Tb0RaalF5S3dObU5ETXNBMlkwTkMwRFpqUTFMZ05tTkRZdkEyWTBOekFEWmpRNE1RTm1ORGt5QTJZMU1ETURaalV4TkFObU5USTFBMlkxTXpZRFpqVTBOd05tTlRVNEEyWTFOamtEWmpVM09nTm1OVGc3QTJZMU9Ud0Raall3UFFObU5qRStBMlkyTWo4RFpqWXpRQU5tTmpSQkEyWTJOVUlEWmpZMlF3Tm1OamRFQTJZMk9FVURaalk1UmdObU56QkhBMlkzTVVnRFpqY3lTUU5tTnpOS0EyWTNORXNEWmpjMVRBTm1OelpOQTJZM04wNERaamM0VHdObU56bFFBMlk0TUZFRFpqZ3hVZ05tT0RKVEEyWTRNMVFEWmpnMFZRTm1PRFZXQTJZNE5sY0RaamczV0FObU9EaFpBMlk0T1ZvRFpqa3dXd05tT1RGY0EyWTVNbDBEWmprelhnTm1PVFJmQTJZNU5XQUJhV0VCWjJJQlpHTUVaakV3TVFLNktXUUFBd0FBQVFBQ0FBRUJBQUFDQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1EQ1FBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FRSUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNGQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1HR0FBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFV0Eyd3lNaGNEYkRJekJ3WUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVSUJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlFrUUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlFvTUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVMQXdBQ2NEQUJBbkF4QWdKc01nd1JBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRFFZQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05BVUNiRFVPRUFBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVQQlFBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEVBc0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQVJBZ0FDY0RBQkFuQXhFZzhBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkJNREFBSndNQUVDYkRFQ0Ftd3lGQU1BQW5Bd0FRSndNUUlDYkRJVkJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlJZbUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2NEUUZBbkExQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlJBRGJERTJFUU5zTVRjU0Eyd3hPQk1EYkRFNUZBTnNNakFWQTJ3eU1SWURiREl5RndOc01qTVlBMnd5TkJrRGJESTFHZ05zTWpZYkEyd3lOeHdEYkRJNEhRTnNNamtlQTJ3ek1COERiRE14SUFOc016SWhBMnd6TXlJRGJETTBJd05zTXpVa0Eyd3pOaVVEYkRNM0Z3TUFBbkF3QVFKd01RSUNjRElZRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFWkVnQUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0doWUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhHd1lBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVWNCd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlkQlFBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEhnVUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQjhCQUFKd01DQUVBQUp3TUFFQ2NERUNBbXd5QXdKc015RWJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVGQU5zTWpBVkEyd3lNUllEYkRJeUZ3TnNNak1ZQTJ3eU5Ca0RiREkxR2dOc01qWWlGUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0l4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE55UVVBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVKUThBQW5Bd0FRSndNUUlDY0RJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNZREFBSndNQUVDYkRFQ0Ftd3lKdzhBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNnQ0FBSndNQUVDYkRFcEVRQUNjREFCQW5BeEFnSndNZ01DY0RNRUFuQTBCUUp3TlFZQ2NEWUhBbkEzQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaW9IQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmlzUEFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUXNCQUFDY0RBQkFuQXhBZ0pzTWdNQ2JETXRCUUFDY0RBQkFuQXhBZ0p3TWdNQ2JETUVBbXcwTGdNQUFuQXdBUUpzTVFJQ2JESXZBd0FDY0RBQkFtd3hBZ0pzTWpBSkFBSndNQUVDY0RFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NE1SWUFBbkF3QVFKd01RSUNiRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhNZ29BQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NU13UUFBbkF3QVFKc01RSUNiRElEQW13ek5BUUFBbkF3QVFKc01RSUNiRElEQW13ek5ROEFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hORFlGQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRM0JRQUNjREFCQW5BeEFnSnNNZ01DYkRNRUFtdzBPQWNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyT1FjQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNiRFVHQW13Mk9nY0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJPd2NBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyUEFVQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05EMEZBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFErRHdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMFB4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE4wQUhBQUp3TUFFQ2NERUNBbXd5QXdKc013UUNiRFFGQW13MUJnSnNOa0VRQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVUlKQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0UXdnQUFuQXdBUUp3TVFJQ2JESURBbXd6QkFKc05BVUNiRFVHQW13MkJ3SnNOMFFRQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVVVUQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0p3TmdjQ2NEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9FWVJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFtdzRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyUnhNQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW5BMkJ3SndOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRTQmNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NjRGdKQW5BNUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkE4RGJERTFFQU5zTVRZUkEyd3hOeElEYkRFNEV3TnNNVGtVQTJ3eU1CVURiREl4RmdOc01qSkpRd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0ZRTnNNakVXQTJ3eU1oY0RiREl6R0FOc01qUVpBMnd5TlJvRGJESTJHd05zTWpjY0Eyd3lPQjBEYkRJNUhnTnNNekFmQTJ3ek1TQURiRE15SVFOc016TWlBMnd6TkNNRGJETTFKQU5zTXpZbEEyd3pOeVlEYkRNNEp3TnNNemtvQTJ3ME1Da0RiRFF4S2dOc05ESXJBMncwTXl3RGJEUTBMUU5zTkRVdUEydzBOaThEYkRRM01BTnNORGd4QTJ3ME9USURiRFV3TXdOc05URTBBMncxTWpVRGJEVXpOZ05zTlRRM0EydzFOVGdEYkRVMk9RTnNOVGM2QTJ3MU9Ec0RiRFU1UEFOc05qQTlBMncyTVQ0RGJEWXlQd05zTmpOQUEydzJORUVEYkRZMVFnTnNOalpLRXdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UaExGQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPVXdIQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmswTkFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1rNExBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFFGQW13MUJnSnNOZ2NDYkRjSUFtdzRDUUpzT1FvRGJERXdUd1FBQW5Bd0FRSndNUUlDYkRJREFtd3pVQTRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTlJEQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeFVoTUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0VXlBQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW13MkJ3SnNOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRFd05zTVRrVUEyd3lNQlVEYkRJeEZnTnNNaklYQTJ3eU14Z0RiREkwR1FOc01qVWFBMnd5TmhzRGJESTNIQU5zTWpnZEEyd3lPUjREYkRNd0h3TnNNekZVRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpGVkN3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1GWUhBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSnNObGNxQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9CTURiREU1RkFOc01qQVZBMnd5TVJZRGJESXlGd05zTWpNWUEyd3lOQmtEYkRJMUdnTnNNalliQTJ3eU54d0RiREk0SFFOc01qa2VBMnd6TUI4RGJETXhJQU5zTXpJaEEyd3pNeUlEYkRNMEl3TnNNelVrQTJ3ek5pVURiRE0zSmdOc016Z25BMnd6T1NnRGJEUXdLUU5zTkRGWUV3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0VnTnNNVGhaQ0FBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNXZzRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTmJCQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETmNDUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNiRFlIQW13M0NBSnNPRjBJQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEZGVDQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M1h3d0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVdBQVlRZ0FBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FtdzJCd0pzTjJJREFBSndNQUVDY0RFQ0Ftd3lZdzBBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5IixVPWE7Ri5oMjY0TW9kdWxlPW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoVS5kZWNvZGUoTCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBZPUYscT1BPT4oSSxnLEIpPT57QS5IRUFQVTguY29weVdpdGhpbihJLGcsZytCKX07ZnVuY3Rpb24gSyhBLEkpe2NvbnN0IGc9QSVJO3JldHVybiBnPjA/QStJLWc6QX1jb25zdCBIPUE9Pkk9Pntjb25zdCBnPUEuSEVBUFU4Lmxlbmd0aCxCPTY1NTM2LFE9MjE0NzQ4MzY0ODtpZihJPlEpcmV0dXJuITE7Y29uc3QgQz0xNjc3NzIxNjtmb3IobGV0IEQ9MTtEPD00O0QqPTIpe2xldCBFPWcqKDErLjIvRCk7RT1NYXRoLm1pbihFLEkrMTAwNjYzMjk2KTtjb25zdCB3PU1hdGgubWluKFEsSyhNYXRoLm1heChDLEksRSksQikpO3RyeXtjb25zdHttZW1vcnk6b309QTtvLmdyb3cody1vLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpO2NvbnN0e2J1ZmZlcjpOfT1vO3JldHVybiBBLkhFQVA4PW5ldyBJbnQ4QXJyYXkoTiksQS5IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoTiksQS5IRUFQMzI9bmV3IEludDMyQXJyYXkoTiksITB9Y2F0Y2h7fX1yZXR1cm4hMX0sUj02NTUzNixjPTUyNTE3OTIsZD04NzUyLHQ9MTY3NzcyMTY7Y2xhc3MgaXtjb25zdHJ1Y3Rvcigpe3RoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGljPW5ldyBVaW50OEFycmF5KDApO2NvbnN0IEk9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDp0L1IsbWF4aW11bToyMTQ3NDgzNjQ4L1J9KSxnPXttZW1vcnk6SSxIRUFQODpuZXcgSW50OEFycmF5KEkuYnVmZmVyKSxIRUFQVTg6bmV3IFVpbnQ4QXJyYXkoSS5idWZmZXIpLEhFQVAzMjpuZXcgSW50MzJBcnJheShJLmJ1ZmZlcil9O2cuSEVBUDMyW2Q+PjJdPWM7Y29uc3R7ZXhwb3J0czpCfT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoWS5oMjY0TW9kdWxlLHtoMjY0OnttZW1vcnk6SSxtZW1jcHk6cShnKSxyZXNpemU6SChnKX19KTt0aGlzLm1lbW9yeT1nLHRoaXMuYXNtPUIsdGhpcy5wU3RvcmFnZT1CLmgyNjRhbGxvYygpLHRoaXMucFdpZHRoPUIubWFsbG9jKDQpLHRoaXMucEhlaWdodD1CLm1hbGxvYyg0KSx0aGlzLnBQaWN0dXJlPUIubWFsbG9jKDQpLHRoaXMuZGVjQnVmZmVyPUIubWFsbG9jKDEwMjQqMTAyNCksQi5pbml0KHRoaXMucFN0b3JhZ2UsMCl9ZGVjb2RlKEkpe2NvbnN0e21lbW9yeTpnLGFzbTpCfT10aGlzO2cuSEVBUFU4LnNldChJLHRoaXMuZGVjQnVmZmVyKTtjb25zdCBRPUIuZGVjb2RlKHRoaXMucFN0b3JhZ2UsdGhpcy5kZWNCdWZmZXIsSS5ieXRlTGVuZ3RoLHRoaXMucFBpY3R1cmUsdGhpcy5wV2lkdGgsdGhpcy5wSGVpZ2h0KTtpZihRPT09aS5QSUNfUkRZKXtjb25zdCBDPXRoaXMud2lkdGg9Zy5IRUFQMzJbdGhpcy5wV2lkdGg+Pj4yXSxEPXRoaXMuaGVpZ2h0PWcuSEVBUDMyW3RoaXMucEhlaWdodD4+PjJdLEU9Zy5IRUFQMzJbdGhpcy5wUGljdHVyZT4+Ml0sdz1DKkQqMy8yO3RoaXMucGljPWcuSEVBUFU4LnN1YmFycmF5KEUsRSt3KX1yZXR1cm4gUX19dmFyIGI9eS5IMjY0RGVjb2Rlcj1pO2kuUkRZPTAsaS5QSUNfUkRZPTEsaS5IRFJTX1JEWT0yLGkuRVJST1I9MyxpLlBBUkFNX1NFVF9FUlJPUj00LGkuTUVNQUxMT0NfRVJST1I9NTtmdW5jdGlvbiB4KEEpe3JldHVybiBVaW50OEFycmF5LmZyb20oYXRvYihBKSxJPT5JLmNoYXJDb2RlQXQoMCkpfWNvbnN0IHM9c2VsZixrPW5ldyBiLG09Si5zZWNvbmQvNTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixBPT57Y29uc3R7dGltZXN0YW1wOkksZmxhZ3M6ZyxpbmRleDpCfT1BLmRhdGEsUT1EYXRlLm5vdygpLUk7aWYoUT5tJiZnIT09Myl7TShgRnJhbWUgaXMgJHtRfW1zIGxhdGUsIGRyb3BwaW5nYCxCKTtyZXR1cm59Y29uc3QgQz14KEEuZGF0YS5lbmNvZGVkRnJhbWUpLEQ9ay5kZWNvZGUoQyk7dHJ5e2lmKEQhPT0xKXtNKGBmYWlsZWQgdG8gZGVjb2RlIGZyYW1lLCBzdGF0dXM6ICR7bihEKX1gLEIsQyk7cmV0dXJufWNvbnN0e3BpYzpFLGhlaWdodDp3LHdpZHRoOm99PWs7aWYoRS5sZW5ndGg9PT0wfHx3PT09MHx8bz09PTApe00oImRlY29kZWQgZnJhbWUgaGFzIG5vIGRhdGEiLEIsQyk7cmV0dXJufWNvbnN0IE49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KEUpO3MucG9zdE1lc3NhZ2Uoe3RpbWVzdGFtcDpBLmRhdGEudGltZXN0YW1wLHl1djpOLGhlaWdodDp3LHdpZHRoOm8saW5kZXg6Qn0pfWNhdGNoKEUpe00oRSxCKX19KTtmdW5jdGlvbiBNKEEsSSxnKXtzLnBvc3RNZXNzYWdlKHtlcnJvcjpgaDI2NCBkZWNvZGVyIHdvcmtlcjogJHtBfWAsaW5kZXg6SX0pfWZ1bmN0aW9uIG4oQSl7c3dpdGNoKEEpe2Nhc2UgMDpyZXR1cm4iUkRZIjtjYXNlIDE6cmV0dXJuIlBJQ19SRFkiO2Nhc2UgMjpyZXR1cm4iSERSU19SRFkiO2Nhc2UgMzpyZXR1cm4iRVJST1IiO2Nhc2UgNDpyZXR1cm4iUEFSQU1fU0VUX0VSUk9SIjtjYXNlIDU6cmV0dXJuIk1FTUFMTE9DX0VSUk9SIjtkZWZhdWx0OnJldHVybiBBLnRvU3RyaW5nKCl9fX0pfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWktc2RrLXJlYWx0aW1lLXBsYXllci1jb3JlLXdvcmtlci51bWQtNjhhNmUxNmEuanMubWFwCg==",blob$2=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs$2)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper$2(){let s;try{if(s=blob$2&&(window.URL||window.webkitURL).createObjectURL(blob$2),!s)throw"";return new Worker(s)}catch{return new Worker("data:application/javascript;base64,"+encodedJs$2)}finally{s&&(window.URL||window.webkitURL).revokeObjectURL(s)}}const millisecond$3=1,second$3=1e3,minute$3=60*second$3,hour$3=60*minute$3,day$3=24*hour$3,week$3=7*day$3,month$3=30*day$3,year$3=365*day$3,duration$3={millisecond:millisecond$3,second:second$3,minute:minute$3,hour:hour$3,day:day$3,week:week$3,month:month$3,year:year$3};function filterDataByTime(s,o,et){const tt=o.getTime(),nt=et.getTime();return s.map(rt=>({...rt,points:rt.points.filter(([it])=>it>=tt&&it<nt)})).filter(({points:rt})=>rt.length>0)}function filterDataByType(s,o){return s.filter(et=>et.type===o)}class StoreCache{constructor({capacity:o,timeout:et}={}){he(this,"entries",new Map),he(this,"metadata",new Map),he(this,"capacity"),he(this,"timeout"),this.capacity=o||1e4,this.timeout=et||duration$3.minute}get(o,et){const tt=this.keyToCacheKey(o),nt=this.entries.get(tt),rt=this.metadata.get(tt);return(nt===void 0||rt&&rt?.expiration.getTime()<Date.now())&&!(rt!=null&&rt.generating)&&et&&this.generate(o,et()),nt===void 0&&rt&&rt.lastValue!==void 0?rt.lastValue:nt}set(o,et){const tt=this.keyToCacheKey(o);this.metadata.set(tt,{generating:!1,expiration:new Date(Date.now()+this.timeout),lastValue:et}),this.entries.set(tt,et),this.metadata.size>this.capacity&&this.deleteOldestEntry()}clear(){this.entries.clear(),[...this.metadata.values()].forEach(o=>o.generating=!1)}clearKey(o){this.metadata.delete(o),this.entries.delete(o)}keyToCacheKey(o){return JSON.stringify(o)}deleteOldestEntry(){if(this.metadata.size<1)return;const[o]=[...this.metadata.entries()].reduce(([et,tt],[nt,rt])=>rt.expiration.getTime()<tt.expiration.getTime()?[nt,rt]:[et,tt]);this.clearKey(o)}generate(o,et){const tt=this.keyToCacheKey(o),nt=this.metadata.get(tt)||{};this.metadata.set(tt,{...nt,generating:!0,expiration:new Date(Date.now()+this.timeout)}),setTimeout(()=>{et.then(rt=>{const it=this.metadata.get(tt);!(it!=null&&it.generating)||this.set(o,rt)})},0)}}function roundToNearestSecond(s){return new Date(Math.round(s.getTime()/1e3)*1e3)}class QueryStore{constructor(){he(this,"queryStoreCache",new StoreCache({capacity:1e4,timeout:20*duration$3.second})),he(this,"liveQueryStoreCache",new StoreCache({capacity:1e4,timeout:1*duration$3.second}))}moduleQuery(o,et,tt,nt,rt,it=!1){const ot={...o,names:[et],types:[tt],start:nt.toISOString(),end:rt.toISOString(),latestOnly:it},st=this.query(ot);return st===void 0||st==="too much data"?st:filterDataByType(st,tt)}query(o){const et=new Date(o.end)>addSeconds(new Date,-20),tt=startOfMinute(new Date(o.start)).toISOString(),nt=o.latestOnly?addSeconds(roundToNearestSecond(new Date(o.end)),5).toISOString():addMinutes(roundToNearestMinutes(new Date(o.end)),1).toISOString();let rt;return et?rt=this.liveQueryCache({...o,start:tt,end:nt}):rt=this.queryCache({...o,start:tt,end:nt}),!rt||rt==="too much data"||o.latestOnly?rt:filterDataByTime(rt,new Date(tt),new Date(nt))}queryCache(o){return this.queryStoreCache.get(o,async()=>{try{return await Fleet.queryTelemetry(o)}catch(et){throw et}})}liveQueryCache(o){return this.liveQueryStoreCache.get(o,async()=>{try{return await Fleet.queryTelemetry(o)}catch(et){throw et}})}}const debug=new URLSearchParams(window.location.search).get("debug")==="true";class BasicUniverseDataConnector{constructor(){he(this,"subscriberSources",new Map),he(this,"subscriberLoaders",new Map),he(this,"subscriberDistributorsLoaders",new Map),he(this,"mapRealtimeConnections",new Map),he(this,"lastQueriedHistoricTime"),he(this,"time"),he(this,"timeChangeListeners",[]),he(this,"queryStore",new QueryStore),this.time="live";const o=async()=>{if(Array.from(this.subscriberLoaders.keys()).length>0){const et=[],tt=this.generateTelemetryFilter(),nt=this.queryStore.query(tt);if(!nt||nt==="too much data")return;nt.forEach(ot=>{et.push(ot.deviceId)});const rt=Array.from(new Set(et)),it=[];rt.forEach(ot=>{const st=this.subscriberLoaders.get(ot);st&&st.forEach(at=>{it.push(at(nt))})}),(await Promise.all(it)).forEach(ot=>{if(ot.data){const st=this.subscriberDistributorsLoaders.get(ot.deviceId);if(st){const at=st.get(ot.sourceId);at&&at.forEach(lt=>{lt(ot.data)})}}})}setTimeout(()=>o(),0)};setTimeout(()=>o(),0)}setTime(o){o!=="live"&&(this.time=o),this.timeChangeListeners.forEach(et=>et(o))}getTime(){return this.time}getTimeMs(){return this.time==="live"?new Date().getTime():this.time.getTime()}generateTelemetryFilter(){const o=Array.from(this.subscriberSources.keys()),et=[];return o.forEach(tt=>{const nt=this.subscriberSources.get(tt);nt&&Array.from(nt?.values()).forEach(rt=>{rt.sourceType==="telemetry"&&et.push(rt.streamName)})}),{deviceIds:o,names:et,start:subDays(new Date,20).toISOString(),end:new Date().toISOString(),latestOnly:!0}}async sendRtcMessage(o,et){await this.createRealtimeConnection(o);const tt=this.mapRealtimeConnections.get(o);tt&&tt!=="loading"&&tt&&tt.sendRealtimeMessage(et,{channelLabel:"stream.reliable"})}async createRealtimeConnection(o,et=signaling_pb.SessionType.TELEOP){const tt=this.mapRealtimeConnections.get(o);if(tt===void 0){this.mapRealtimeConnections.set(o,"loading");const nt=o.startsWith("http");console.log("Creating {} realtime connection",nt?"peer":"cloud");let rt;nt?rt=new PeerDevice(o):rt=await Fleet.getDevice(o),await rt.startRealtimeConnection(et),debug&&rt.addRealtimeListener((it,ot)=>{console.log("received message from peer",it,ot)}),this.mapRealtimeConnections.set(o,rt)}else tt==="loading"&&await new Promise(nt=>{const rt=setInterval(()=>{const it=this.mapRealtimeConnections.get(o);it&&it!=="loading"&&(clearInterval(rt),nt())},100)})}addRemovableTelemetrySubscription(o,et,tt,nt){let rt=this.subscriberLoaders.get(o);rt||(rt=new Map,this.subscriberLoaders.set(o,rt)),rt.get(et.id)||rt.set(et.id,tt);let it=this.subscriberDistributorsLoaders.get(o);it||(it=new Map,this.subscriberDistributorsLoaders.set(o,it));const ot=it.get(et.id);ot?ot.push(nt):it.set(et.id,[nt]);let st=this.subscriberSources.get(o);return st||(st=new Map,this.subscriberSources.set(o,st)),st.set(et.id,et),()=>{const at=this.subscriberLoaders.get(o);at&&at.delete(et.id);const lt=this.subscriberDistributorsLoaders.get(o);if(lt){const ut=lt.get(et.id);if(ut){const dt=ut.indexOf(nt);dt>-1&&ut.splice(dt,1)}}const ct=this.subscriberSources.get(o);ct&&ct.delete(et.id)}}createH264Drawer(){return new H264BytestreamCanvasDrawer(()=>new WorkerWrapper$2,()=>{},()=>{})}async sendCommand(o,et,tt){const nt=this.mapRealtimeConnections.get(o);if(nt==="loading"||nt===void 0)throw new Error("Device is not ready or doesnt exist");await nt.sendCommand(et,tt)}async sendRealtimePose(o,et,tt){const nt=distExports.createRtcStreamMessage({entityId:o,streamName:et,streamType:"pose"},{pose:tt},"vision");await this.sendRtcMessage(o,nt)}async sendRealtimeBoolean(o,et,tt){const nt=distExports.createRtcStreamMessage({entityId:o,streamName:et,streamType:"boolean"},{boolean:tt});await this.sendRtcMessage(o,nt)}async sendRealtimeBitset(o,et,tt){const nt=distExports.createRtcStreamMessage({entityId:o,streamName:et,streamType:"bitset"},{bitset:{bits:tt.keys.map((rt,it)=>({key:rt,value:tt.values[it]}))}});await this.sendRtcMessage(o,nt)}async getUrdfs(o){const et=await(await Fleet.getDevice(o)).getConfiguration();return!et.urdfFiles||et.urdfFiles.length===0?[]:[await Fleet.getFileUrl(et.urdfFiles[0])]}async getTelemetryStreams(o){throw new Error("Not implemented")}async getTeleopRosStreams(o){throw new Error("Not implemented")}async getHardwareStreams(o){throw new Error("Not implemented")}addInteraction(o){throw new Error("Method not implemented.")}removeInteraction(o){throw new Error("Method not implemented.")}getInteractions(){throw new Error("Method not implemented.")}addInteractionsChangedListener(o){throw new Error("Method not implemented.")}addInteractionListener(o){throw new Error("Method not implemented.")}getRealtimeButtons(o){throw new Error("Method not implemented.")}async getLatestTransformTrees(o){throw new Error("Not implemented")}async getLatestLocations(){return[{streamName:"spotLocation",location:{latitude:45.4661989,longitude:-122.5782375}}]}async getDeviceContexts(){return[]}async getDeviceContextName(o){throw new Error("Not implemented")}async getTelemetryStreamType(o,et){throw new Error("Not implemented")}async getStatistics(){return{rtcDevices:[]}}subscribeDataSourceStateChange(o,et,tt){return()=>{}}async fetchImage(o){const et=new Image;return et.src=o,et.setAttribute("crossOrigin",""),await new Promise(tt=>{et.onload=tt}),et}}class LiveUniverseData extends BasicUniverseDataConnector{constructor(){super()}subscribeToPath(o,et,tt){throw new Error("Method not implemented.")}subscribeToImage(o,et,tt){throw new Error("Method not implemented.")}subcribeToVideo(o,et,tt){throw new Error("Method not implemented.")}subscribeToBitset(o,et,tt){if(et.sourceType==="realtime"){const nt=(rt,it)=>{if(it.payload.bitset){const ot=it.payload.bitset,st={keys:[],values:[]};ot.bits.forEach(at=>{st.keys.push(at.key),st.values.push(at.value)}),tt(st)}};return this.subscribeToRealtimeMessages(o,et.rosTopicName,nt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,nt)}}throw new Error("Telemetry bitset not implemented")}subscribeToOdometry(o,et,tt,nt){if(et.sourceType==="realtime"){const rt=(it,ot)=>{if(ot.payload.odometry){const st=ot.payload.odometry;tt({worldToLocal:st.worldToLocal,pose:{translation:{x:st.pose.translation.x,y:st.pose.translation.y,z:st.pose.translation.z},rotation:{x:st.pose.rotation.x,y:st.pose.rotation.y,z:st.pose.rotation.z,w:st.pose.rotation.w}},covariance:[]})}};return this.subscribeToRealtimeMessages(o,et.rosTopicName,rt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,rt)}}if(et.sourceType==="telemetry")return this.addRemovableTelemetrySubscription(o,et,async rt=>{let it,ot;for(let st=0;st<rt.length;st+=1){const at=rt[st];if(at.deviceId===o&&at.name===et.streamName&&at.type==="localization"){const[lt,ct]=at.points[at.points.length-1];it=ct}}return it&&it.odometry&&(ot={worldToLocal:it.odometry.worldToLocal,pose:{translation:{x:it.odometry.pose.translation.x,y:it.odometry.pose.translation.y,z:it.odometry.pose.translation.z},rotation:{x:it.odometry.pose.rotation.x,y:it.odometry.pose.rotation.y,z:it.odometry.pose.rotation.z,w:it.odometry.pose.rotation.w}},covariance:[]}),{deviceId:o,sourceId:et.id,data:ot}},tt);throw new Error("unexpected")}subscribeToPose(o,et,tt){if(et.sourceType==="realtime"){const nt=(rt,it)=>{it.payload.pose&&tt(it.payload.pose)};return this.subscribeToRealtimeMessages(o,et.rosTopicName,nt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,nt)}}throw new Error("unexpected")}subscribeToNumeric(o,et,tt){if(et.sourceType==="realtime"){const nt=async(rt,it)=>{it.payload.numeric&&tt([[Date.now(),it.payload.numeric.value]])};return this.subscribeToRealtimeMessages(o,et.rosTopicName,nt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,nt)}}return()=>{}}subscribeToNumericSet(o,et,tt){if(et.sourceType==="telemetry"){let nt;const rt=setInterval(async()=>{nt||(nt=await Fleet.getDevice(o));const it=new Date,ot=new Date(it.getTime()-15*1e3),st=await nt.getTelemetry(et.streamName,ot,it);if(st.length>0){const at=st[0].points;tt(at)}},1e3);return()=>{clearInterval(rt)}}return()=>{}}async subscribeToRealtimeMessages(o,et,tt){await this.createRealtimeConnection(o,signaling_pb.SessionType.OBSERVE);const nt=this.mapRealtimeConnections.get(o);nt&&nt!=="loading"&&(nt.startListeningToRealtimeDataStream({name:et}),nt.addRealtimeListener((rt,it)=>{it.header.stream.streamName===et&&tt(rt,it)}))}async unsubscribeToRealtimeMessages(o,et,tt){const nt=this.mapRealtimeConnections.get(o);nt&&nt!=="loading"&&(nt.stopListeningToRealtimeDataStream({name:et}),nt.removeRealtimeListener(tt))}subscribeToJson(o,et,tt){if(et.sourceType==="telemetry")return this.addRemovableTelemetrySubscription(o,et,async nt=>{let rt,it;for(let ot=0;ot<nt.length;ot+=1){const st=nt[ot];if(st.deviceId===o&&st.name===et.streamName&&st.type==="json"){const[at,lt]=st.points[st.points.length-1];rt=lt}}return rt&&(it=await fetch(rt).then(ot=>ot.json())),{deviceId:o,sourceId:et.id,data:it}},tt);if(et.sourceType==="realtime"){const nt=async(rt,it)=>{it.payload.jsonString&&tt(JSON.parse(it.payload.jsonString.value))};return this.subscribeToRealtimeMessages(o,et.rosTopicName,nt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,nt)}}return()=>{}}subscribeToText(o,et,tt){return et.sourceType==="telemetry"?this.addRemovableTelemetrySubscription(o,et,async nt=>{let rt,it;for(let ot=0;ot<nt.length;ot+=1){const st=nt[ot];if(st.deviceId===o&&st.name===et.streamName&&st.type==="text"){const[at,lt]=st.points[st.points.length-1];rt=lt}}return rt&&(it=await fetch(rt).then(ot=>ot.text())),{deviceId:o,sourceId:et.id,data:it}},tt):()=>{}}subscribeToPointCloud(o,et,tt){const nt=new Worker(new URL("/assets/PcdLoaderWorker-eaac0b31.js",self.location),{name:"liveuniverseDataPCD"});if(et.sourceType==="telemetry"&&et.streamType!=="localization")return this.addRemovableTelemetrySubscription(o,et,async rt=>{let it,ot;for(let st=0;st<rt.length;st+=1){const at=rt[st];if(at.deviceId===o&&at.name===et.streamName&&at.type==="point cloud"){const[lt,ct]=at.points[at.points.length-1];it=ct;break}}if(it){const{url:st}=it;ot=await new Promise(at=>{nt.postMessage({url:st}),nt.onmessage=lt=>{lt.data.url===st&&at(lt.data.pcd)}})}return{deviceId:o,sourceId:et.id,data:{worldToLocal:it?.worldToLocal,pcd:ot}}},tt);if(et.sourceType==="telemetry"&&et.streamType==="localization")return this.addRemovableTelemetrySubscription(o,et,async rt=>{let it,ot;for(let st=0;st<rt.length;st+=1){const at=rt[st];if(at.deviceId===o&&at.name===et.streamName&&at.type==="localization"){const[lt,ct]=at.points[at.points.length-1];it=ct;break}}if(it&&it.pointClouds){const{url:st}=it.pointClouds[0];ot=await new Promise(at=>{nt.postMessage({url:st}),nt.onmessage=lt=>{lt.data.url===st&&at(lt.data.pcd)}})}return{deviceId:o,sourceId:et.id,data:{worldToLocal:it&&it!=null&&it.pointClouds&&it!=null&&it.pointClouds[0]?it.pointClouds[0].worldToLocal:void 0,pcd:ot}}},tt);if(et.sourceType==="realtime"){const rt=async(it,ot)=>{var st;if(ot.payload.pointCloud){const at=Math.random(),lt=await new Promise(ct=>{nt.postMessage({id:at,pointCloud:defined$2(ot.payload.pointCloud).data}),nt.onmessage=ut=>{ut.data.id===at&&ct(ut.data.pcd)}});tt({worldToLocal:(st=ot.payload.pointCloud)==null?void 0:st.world_to_local,pcd:lt})}};return this.subscribeToRealtimeMessages(o,et.rosTopicName,rt),()=>{nt.terminate(),this.unsubscribeToRealtimeMessages(o,et.rosTopicName,rt)}}return()=>{}}subscribeToGeometry(o,et,tt){throw new Error("type error in realtime sdk")}subscribeToJointState(o,et,tt){if(et.sourceType==="realtime"){const nt=(rt,it)=>{it.payload.jointState&&tt(it.payload.jointState)};return this.subscribeToRealtimeMessages(o,et.rosTopicName,nt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,nt)}}return()=>{}}subscribeToGridMap(o,et,tt){if(et.sourceType==="realtime"){const nt=(rt,it)=>{if(it.payload.jsonString){const ot=JSON.parse(it.payload.jsonString.value);tt({width:ot.info.width,height:ot.info.height,worldToLocal:{translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0,w:1}},resolution:ot.info.resolution,origin:{translation:ot.info.origin.position,rotation:ot.info.origin.orientation},data:ot.data,alpha:ot.data.map(()=>255)})}};return this.subscribeToRealtimeMessages(o,et.rosTopicName,nt),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,nt)}}else if(et.sourceType==="telemetry"&&et.streamType==="localization")return this.addRemovableTelemetrySubscription(o,et,async nt=>{let rt,it;for(let ot=0;ot<nt.length;ot+=1){const st=nt[ot];if(st.deviceId===o&&st.name===et.streamName&&st.type==="localization"){const[at,lt]=st.points[st.points.length-1];rt=lt}}if(rt&&rt.map){const ot=document.createElement("canvas"),st=await this.fetchImage(rt.map.url);ot.width=st.width,ot.height=st.height;const at=ot.getContext("2d",{willReadFrequently:!0});at&&at.drawImage(st,0,0);const lt=at?.getImageData(0,0,st.width,st.height),ct=[],ut=[];if(lt)for(let dt=0;dt<lt.data.length;dt+=4){const ht=lt.data[dt],pt=lt.data[dt+3];ct.push(ht),ut.push(pt)}it={width:rt.map.width,height:rt.map.height,worldToLocal:rt.map.worldToLocal,resolution:rt.map.resolution,origin:rt.map.origin,alpha:ut,data:ct}}return{deviceId:o,sourceId:et.id,data:it}},tt);throw new Error("Not implemented")}subscribeToVideo(o,et,tt){const nt=this.createH264Drawer(),rt=document.createElement("CANVAS");if(rt.width=0,rt.height=0,nt.setCanvas(rt),nt.start(),et.sourceType==="realtime"){const it=(ot,st)=>{st.payload.h264VideoFrame&&(nt.receiveEncodedFrame(st.payload.h264VideoFrame),nt&&nt.canvas&&nt.canvas.width>0&&nt.canvas.height>0&&tt(nt.canvas))};return this.subscribeToRealtimeMessages(o,et.rosTopicName,it),()=>{this.unsubscribeToRealtimeMessages(o,et.rosTopicName,it)}}if(et.sourceType==="hardware"){const it=(ot,st)=>{st.payload.h264VideoFrame&&(nt.receiveEncodedFrame(st.payload.h264VideoFrame),nt&&nt.canvas&&nt.canvas.width>0&&nt.canvas.height>0&&tt(nt.canvas))};return this.subscribeToRealtimeMessages(o,et.rtcStreamName,it),()=>{this.unsubscribeToRealtimeMessages(o,et.rtcStreamName,it)}}return()=>{nt.stop()}}subscribeToTransformTree(o,et,tt){if(et.sourceType==="telemetry")return this.addRemovableTelemetrySubscription(o,et,async nt=>{let rt;for(let it=0;it<nt.length;it+=1){const ot=nt[it];if(ot.deviceId===o&&ot.name===et.streamName&&ot.type==="transform tree"){const[st,at]=ot.points[ot.points.length-1];rt=at}}return{deviceId:o,sourceId:et.id,data:rt}},tt);throw new Error("not implemented for this source type "+et.sourceType)}subscribeToLocation(o,et,tt){throw new Error("Not implemented")}}const NoData=Symbol("no_data"),encodedJs$1="dmFyIGw9T2JqZWN0LmRlZmluZVByb3BlcnR5O3ZhciBnPShjLG4sbyk9Pm4gaW4gYz9sKGMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6b30pOmNbbl09bzt2YXIgcj0oYyxuLG8pPT4oZyhjLHR5cGVvZiBuIT0ic3ltYm9sIj9uKyIiOm4sbyksbyk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHU9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjU5MmU2LHllYXI6MzE1MzZlNn07ZnVuY3Rpb24geChoKXt9Y2xhc3MgbXtjb25zdHJ1Y3Rvcih7Y2FwYWNpdHk6ZSx0aW1lb3V0OnN9PXt9KXtyKHRoaXMsImVudHJpZXMiLG5ldyBNYXApO3IodGhpcywibWV0YWRhdGEiLG5ldyBNYXApO3IodGhpcywiY2FwYWNpdHkiKTtyKHRoaXMsInRpbWVvdXQiKTt0aGlzLmNhcGFjaXR5PWV8fDFlNCx0aGlzLnRpbWVvdXQ9c3x8dS5taW51dGV9Z2V0KGUscyl7Y29uc3QgYT10aGlzLmtleVRvQ2FjaGVLZXkoZSksaT10aGlzLmVudHJpZXMuZ2V0KGEpLHQ9dGhpcy5tZXRhZGF0YS5nZXQoYSk7cmV0dXJuKGk9PT12b2lkIDB8fHQmJih0PT1udWxsP3ZvaWQgMDp0LmV4cGlyYXRpb24uZ2V0VGltZSgpKTxEYXRlLm5vdygpKSYmISh0IT1udWxsJiZ0LmdlbmVyYXRpbmcpJiZzJiZ0aGlzLmdlbmVyYXRlKGUscygpKSxpPT09dm9pZCAwJiZ0JiZ0Lmxhc3RWYWx1ZSE9PXZvaWQgMD90Lmxhc3RWYWx1ZTppfXNldChlLHMpe2NvbnN0IGE9dGhpcy5rZXlUb0NhY2hlS2V5KGUpO3RoaXMubWV0YWRhdGEuc2V0KGEse2dlbmVyYXRpbmc6ITEsZXhwaXJhdGlvbjpuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMudGltZW91dCksbGFzdFZhbHVlOnN9KSx0aGlzLmVudHJpZXMuc2V0KGEscyksdGhpcy5tZXRhZGF0YS5zaXplPnRoaXMuY2FwYWNpdHkmJnRoaXMuZGVsZXRlT2xkZXN0RW50cnkoKX1jbGVhcigpe3RoaXMuZW50cmllcy5jbGVhcigpLFsuLi50aGlzLm1ldGFkYXRhLnZhbHVlcygpXS5mb3JFYWNoKGU9PmUuZ2VuZXJhdGluZz0hMSl9Y2xlYXJLZXkoZSl7dGhpcy5tZXRhZGF0YS5kZWxldGUoZSksdGhpcy5lbnRyaWVzLmRlbGV0ZShlKX1rZXlUb0NhY2hlS2V5KGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKX1kZWxldGVPbGRlc3RFbnRyeSgpe2lmKHRoaXMubWV0YWRhdGEuc2l6ZTwxKXJldHVybjtjb25zdFtlXT1bLi4udGhpcy5tZXRhZGF0YS5lbnRyaWVzKCldLnJlZHVjZSgoW3MsYV0sW2ksdF0pPT50LmV4cGlyYXRpb24uZ2V0VGltZSgpPGEuZXhwaXJhdGlvbi5nZXRUaW1lKCk/W2ksdF06W3MsYV0pO3RoaXMuY2xlYXJLZXkoZSl9Z2VuZXJhdGUoZSxzKXtjb25zdCBhPXRoaXMua2V5VG9DYWNoZUtleShlKSxpPXRoaXMubWV0YWRhdGEuZ2V0KGEpfHx7fTt0aGlzLm1ldGFkYXRhLnNldChhLHsuLi5pLGdlbmVyYXRpbmc6ITAsZXhwaXJhdGlvbjpuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMudGltZW91dCl9KSxzZXRUaW1lb3V0KCgpPT57cy50aGVuKHQ9Pntjb25zdCBkPXRoaXMubWV0YWRhdGEuZ2V0KGEpOyEoZCE9bnVsbCYmZC5nZW5lcmF0aW5nKXx8dGhpcy5zZXQoZSx0KX0pfSwwKX19Y29uc3QgeT1uZXcgbSh7Y2FwYWNpdHk6MWUzLHRpbWVvdXQ6MSp1Lm1pbnV0ZX0pO29ubWVzc2FnZT1hc3luYyBoPT57Y29uc3R7dXJsOmV9PWguZGF0YTtpZihlKXtjb25zdCBzPXkuZ2V0KGUsYXN5bmMoKT0+YXdhaXQgZmV0Y2goZSx7bW9kZToiY29ycyJ9KS50aGVuKGk9PmkuanNvbigpKSk7cyYmcG9zdE1lc3NhZ2Uoe3VybDplLHJlc3BvbnNlOnN9KX19fSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGF0YUZldGNoV29ya2VyLTBhMTY4OTMzLmpzLm1hcAo=",blob$1=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs$1)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper$1(){let s;try{if(s=blob$1&&(window.URL||window.webkitURL).createObjectURL(blob$1),!s)throw"";return new Worker(s)}catch{return new Worker("data:application/javascript;base64,"+encodedJs$1)}finally{s&&(window.URL||window.webkitURL).revokeObjectURL(s)}}const encodedJs="dmFyIFI9T2JqZWN0LmRlZmluZVByb3BlcnR5O3ZhciBHPShNLGIseCk9PmIgaW4gTT9SKE0sYix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6eH0pOk1bYl09eDt2YXIgST0oTSxiLHgpPT4oRyhNLHR5cGVvZiBiIT0ic3ltYm9sIj9iKyIiOmIseCkseCk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IFM9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjU5MmU2LHllYXI6MzE1MzZlNn07ZnVuY3Rpb24gcShvKXt9Y2xhc3MgX3tjb25zdHJ1Y3Rvcih7Y2FwYWNpdHk6dCx0aW1lb3V0Om59PXt9KXtJKHRoaXMsImVudHJpZXMiLG5ldyBNYXApO0kodGhpcywibWV0YWRhdGEiLG5ldyBNYXApO0kodGhpcywiY2FwYWNpdHkiKTtJKHRoaXMsInRpbWVvdXQiKTt0aGlzLmNhcGFjaXR5PXR8fDFlNCx0aGlzLnRpbWVvdXQ9bnx8Uy5taW51dGV9Z2V0KHQsbil7Y29uc3QgZT10aGlzLmtleVRvQ2FjaGVLZXkodCksYz10aGlzLmVudHJpZXMuZ2V0KGUpLGk9dGhpcy5tZXRhZGF0YS5nZXQoZSk7cmV0dXJuKGM9PT12b2lkIDB8fGkmJihpPT1udWxsP3ZvaWQgMDppLmV4cGlyYXRpb24uZ2V0VGltZSgpKTxEYXRlLm5vdygpKSYmIShpIT1udWxsJiZpLmdlbmVyYXRpbmcpJiZuJiZ0aGlzLmdlbmVyYXRlKHQsbigpKSxjPT09dm9pZCAwJiZpJiZpLmxhc3RWYWx1ZSE9PXZvaWQgMD9pLmxhc3RWYWx1ZTpjfXNldCh0LG4pe2NvbnN0IGU9dGhpcy5rZXlUb0NhY2hlS2V5KHQpO3RoaXMubWV0YWRhdGEuc2V0KGUse2dlbmVyYXRpbmc6ITEsZXhwaXJhdGlvbjpuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMudGltZW91dCksbGFzdFZhbHVlOm59KSx0aGlzLmVudHJpZXMuc2V0KGUsbiksdGhpcy5tZXRhZGF0YS5zaXplPnRoaXMuY2FwYWNpdHkmJnRoaXMuZGVsZXRlT2xkZXN0RW50cnkoKX1jbGVhcigpe3RoaXMuZW50cmllcy5jbGVhcigpLFsuLi50aGlzLm1ldGFkYXRhLnZhbHVlcygpXS5mb3JFYWNoKHQ9PnQuZ2VuZXJhdGluZz0hMSl9Y2xlYXJLZXkodCl7dGhpcy5tZXRhZGF0YS5kZWxldGUodCksdGhpcy5lbnRyaWVzLmRlbGV0ZSh0KX1rZXlUb0NhY2hlS2V5KHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX1kZWxldGVPbGRlc3RFbnRyeSgpe2lmKHRoaXMubWV0YWRhdGEuc2l6ZTwxKXJldHVybjtjb25zdFt0XT1bLi4udGhpcy5tZXRhZGF0YS5lbnRyaWVzKCldLnJlZHVjZSgoW24sZV0sW2MsaV0pPT5pLmV4cGlyYXRpb24uZ2V0VGltZSgpPGUuZXhwaXJhdGlvbi5nZXRUaW1lKCk/W2MsaV06W24sZV0pO3RoaXMuY2xlYXJLZXkodCl9Z2VuZXJhdGUodCxuKXtjb25zdCBlPXRoaXMua2V5VG9DYWNoZUtleSh0KSxjPXRoaXMubWV0YWRhdGEuZ2V0KGUpfHx7fTt0aGlzLm1ldGFkYXRhLnNldChlLHsuLi5jLGdlbmVyYXRpbmc6ITAsZXhwaXJhdGlvbjpuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMudGltZW91dCl9KSxzZXRUaW1lb3V0KCgpPT57bi50aGVuKGk9Pntjb25zdCByPXRoaXMubWV0YWRhdGEuZ2V0KGUpOyEociE9bnVsbCYmci5nZW5lcmF0aW5nKXx8dGhpcy5zZXQodCxpKX0pfSwwKX19LyoqCiAqIExaRiBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIG1vZHVsZS4gUG9ydGVkIGZyb20gdGhlIEMKICogaW1wbGVtZW50YXRpb24gb2YgbGlibHpmLCBzcGVjZmljYWxseSBsemZfYy5jIGFuZCBsemZfZC5jCiAqIEBsaWNlbnNlIEJTRC0yLUNsYXVzZQogKi9mdW5jdGlvbiBLKG8pe3ZhciB0PW5ldyBVaW50OEFycmF5KG8pLG49W10sZT0wLGM9MDtkb3t2YXIgaT10W2UrK107aWYoaTwxPDw1KXtpZihpKyssZStpPnQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCIpO2Zvcig7aS0tOyluW2MrK109dFtlKytdfWVsc2V7dmFyIHI9aT4+NSxmPWMtKChpJjMxKTw8OCktMTtpZihlPj10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQiKTtpZihyPT03JiYocis9dFtlKytdLGU+PXQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQiKTtpZihmLT10W2UrK10sZjwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCIpO3IrPTI7ZG8gbltjKytdPW5bZisrXTt3aGlsZSgtLXIpfX13aGlsZShlPHQubGVuZ3RoKTtpZih0eXBlb2YgQnVmZmVyIT0idW5kZWZpbmVkIilyZXR1cm4gbmV3IEJ1ZmZlcihuKTt2YXIgdT1uZXcgVWludDhBcnJheShuLmxlbmd0aCk7cmV0dXJuIHUuc2V0KG4pLHV9ZnVuY3Rpb24gTyhvKXt2YXIgdD0xNixuPTE8PHQsZT0xPDwxMyxjPSgxPDw4KSsoMTw8MyksaT0xPDw1O2Z1bmN0aW9uIHIodixUKXtyZXR1cm4gdltUXTw8OHx2W1QrMV19ZnVuY3Rpb24gZih2LFQsUCl7cmV0dXJuIHY8PDh8VFtQKzJdfWZ1bmN0aW9uIHUodil7cmV0dXJuIHYqNTA2ODMyODI5Pj4zMi10LTgmbi0xfWZvcih2YXIgcz1uZXcgVWludDhBcnJheShvKSxhPVtdLGQ9bmV3IFVpbnQzMkFycmF5KG4pLHk9cy5sZW5ndGgsaD0wLGc9cihzLGgpLHA9MSxsPTA7aDx5LTI7KXtnPWYoZyxvLGgpO3ZhciB6PXUoZyksbT1kW3pdO2Rbel09aDt2YXIgRTtpZihtPGgmJihFPWgtbS0xKTxlJiZtPjAmJnNbbSsyXT09c1toKzJdJiZzW20rMV09PXNbaCsxXSYmc1ttXT09c1toXSl7dmFyIHc9MixGPXktaC13O0Y9Rj5jP2M6RixhW3AtbC0xXT1sLTEmMjU1LGw9PTAmJihwLT0xKTtkbyB3Kys7d2hpbGUodzxGJiZzW20rd109PXNbaCt3XSk7aWYody09MixoKyssdzw3P2FbcCsrXT0oRT4+OCkrKHc8PDUpJjI1NTooYVtwKytdPShFPj44KSsoNzw8NSkmMjU1LGFbcCsrXT13LTcmMjU1KSxhW3ArK109RSYyNTUsbD0wLHArKyxoKz13KzEsaD49eS0yKWJyZWFrOy0taCwtLWgsZz1yKHMsaCksZz1mKGcscyxoKSxkW3UoZyldPWgrKyxnPWYoZyxzLGgpLGRbdShnKV09aCsrfWVsc2UgbCsrLGFbcCsrXT1zW2grK10sbD09aSYmKGFbcC1sLTFdPWwtMSYyNTUsbD0wLHArKyl9Zm9yKDtoPHk7KWwrKyxhW3ArK109c1toKytdLGw9PWkmJihhW3AtbC0xXT1sLTEmMjU1LGw9MCxwKyspO2lmKGwhPTAmJihhW3AtbC0xXT1sLTEmMjU1KSx0eXBlb2YgQnVmZmVyIT0idW5kZWZpbmVkIilyZXR1cm4gbmV3IEJ1ZmZlcihhKTt2YXIgVT1uZXcgVWludDhBcnJheShhLmxlbmd0aCk7cmV0dXJuIFUuc2V0KGEpLFV9dmFyIEI9e2RlY29tcHJlc3M6Syxjb21wcmVzczpPfTtjb25zdCBDPShvLHQpPT50PD1vP1tdOm5ldyBBcnJheSh0LW8pLmZpbGwoMCkubWFwKChuLGUpPT5lK28pLEE9ITA7ZnVuY3Rpb24gSChvKXtjb25zdCB0PWF0b2Iobyksbj10Lmxlbmd0aCxlPW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgYz0wO2M8bjtjKz0xKWVbY109dC5jaGFyQ29kZUF0KGMpO3JldHVybiBlLmJ1ZmZlcn1mdW5jdGlvbiBMKG8pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobyk7bGV0IG49IiIsZT0wO2Zvcig7ZTx0Lmxlbmd0aCYmbi5zZWFyY2goL1tcclxuXURBVEFccyhcUyopXHMvaSk9PT0tMTtlKz0xKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUodFtlXSk7cmV0dXJue2JvZHk6by5zbGljZShlKSxoZWFkZXI6bi5yZXBsYWNlKC8jLiovZ2ksIiIpfX1mdW5jdGlvbiBWKG8pe2NvbnN0IG49bmV3IFVpbnQzMkFycmF5KG8sMCwyKVswXTtyZXR1cm4gbj09PTA/bmV3IEFycmF5QnVmZmVyKDApOkIuZGVjb21wcmVzcyhuZXcgVWludDhBcnJheShvLDgsbikpLmJ1ZmZlcn1mdW5jdGlvbiBrKG8pe2NvbnN0e2hlYWRlcjp0LGJvZHk6bn09TChvKSxlPS9WRVJTSU9OICguKikvaS5leGVjKHQpO2lmKGU9PT1udWxsKXRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2ZXJzaW9uLiBIZWFkZXIgJHt0fWApO2NvbnN0IGM9ZVsxXSxpPS9GSUVMRFMgKC4qKS9pLmV4ZWModCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIGZpZWxkcyIpO2NvbnN0IHI9aVsxXS5zcGxpdCgiICIpLGY9L1NJWkUgKC4qKS9pLmV4ZWModCk7aWYoIWYpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHNpemUiKTtjb25zdCB1PWZbMV0uc3BsaXQoIiAiKS5tYXAodj0+cGFyc2VJbnQodiwxMCkpLHM9L1RZUEUgKC4qKS9pLmV4ZWModCk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHR5cGUiKTtjb25zdCBhPXNbMV0uc3BsaXQoIiAiKSxkPS9DT1VOVCAoLiopL2kuZXhlYyh0KTtsZXQgeTtkJiYoeT1kWzFdLnNwbGl0KCIgIikubWFwKHY9PnBhcnNlSW50KHYsMTApKSk7Y29uc3QgaD15fHxyLm1hcCh2PT4xKSxnPS9XSURUSCAoLiopL2kuZXhlYyh0KTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIk1pc3Npbmcgd2lkdGgiKTtjb25zdCBwPXBhcnNlSW50KGdbMV0sMTApLGw9L0hFSUdIVCAoLiopL2kuZXhlYyh0KTtpZighbCl0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgaGVpZ2h0Iik7Y29uc3Qgej1wYXJzZUludChsWzFdLDEwKSxtPS9QT0lOVFMgKC4qKS9pLmV4ZWModCk7bGV0IEU7bSYmKEU9cGFyc2VJbnQobVsxXSwxMCkpO2NvbnN0IHc9RXx8cCp6LEY9L0RBVEEgKC4qKS9pLmV4ZWModCk7aWYoIUYpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIGRhdGEiKTtjb25zdCBVPUZbMV07cmV0dXJue2JvZHk6bixoZWFkZXI6e2NvdW50OmgsZGF0YTpVLGZpZWxkczpyLGhlaWdodDp6LHBvaW50czp3LHNpemU6dSx0eXBlOmEsdmVyc2lvbjpjLHdpZHRoOnB9fX1mdW5jdGlvbiBOKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8uZmllbGRzLnJlZHVjZSgoe29mZnNldHM6bixzaXplOmV9LGMsaSk9PntsZXQgcj1lO3JldHVybiBjPT09IngiJiYobi54PXIpLGM9PT0ieSImJihuLnk9ciksYz09PSJ6IiYmKG4uej1yKSxjPT09InJnYiImJihuLnJnYj1yKSxjPT09InJnYmEiJiYobi5yZ2JhPXIpLGM9PT0iaW50ZW5zaXR5IiYmKG4uaW50ZW5zaXR5PXIpLG8uZGF0YT09PSJhc2NpaSI/cis9MTpvLmRhdGE9PT0iYmluYXJ5Ij9yKz1vLnNpemVbaV0qby5jb3VudFtpXTpvLmRhdGE9PT0iYmluYXJ5X2NvbXByZXNzZWQiJiYocis9by5zaXplW2ldKm8uY291bnRbaV0qby5wb2ludHMpLHtvZmZzZXRzOm4sc2l6ZTpyfX0se29mZnNldHM6dCxzaXplOjB9KX1mdW5jdGlvbiBEKG8pe2NvbnN0e2hlYWRlcjp0LGJvZHk6bn09ayhvKSx7b2Zmc2V0czplLHNpemU6Y309Tih0KTtsZXQgaTtlLnghPT12b2lkIDAmJmUueSE9PXZvaWQgMCYmZS56IT09dm9pZCAwJiYoaT1uZXcgRmxvYXQzMkFycmF5KHQucG9pbnRzKjMpKTtsZXQgcjsoZS5yZ2IhPT12b2lkIDB8fGUucmdiYSE9PXZvaWQgMCkmJihyPW5ldyBGbG9hdDMyQXJyYXkodC5wb2ludHMqNCkpO2xldCBmO2lmKGUuaW50ZW5zaXR5IT09dm9pZCAwJiYoZj1uZXcgRmxvYXQzMkFycmF5KHQucG9pbnRzKSksdC5kYXRhPT09ImFzY2lpIilTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm5ldyBVaW50OEFycmF5KG4pKS5zcGxpdChgCmApLmZvckVhY2goKGEsZCk9Pntjb25zdCB5PWEuc3BsaXQoIiAiKTtpZihpIT09dm9pZCAwJiYoaVtkKjMrMF09cGFyc2VGbG9hdCh5W2UueHx8MF0pLGlbZCozKzFdPXBhcnNlRmxvYXQoeVtlLnl8fDBdKSxpW2QqMysyXT1wYXJzZUZsb2F0KHlbZS56fHwwXSkpLHIhPT12b2lkIDApe2NvbnN0IGg9bmV3IEludDMyQXJyYXkoW3BhcnNlSW50KHlbZS5yZ2J8fGUucmdiYXx8MF0sMTApXSksZz1uZXcgRGF0YVZpZXcoaC5idWZmZXIsMCk7cltkKjMrMF09Zy5nZXRVaW50OCgyKS8yNTUscltkKjMrMV09Zy5nZXRVaW50OCgxKS8yNTUscltkKjMrMl09Zy5nZXRVaW50OCgwKS8yNTV9ZiE9PXZvaWQgMCYmKGZbZF09cGFyc2VGbG9hdCh5W2UuaW50ZW5zaXR5fHwwXSkpfSk7ZWxzZSBpZih0LmRhdGE9PT0iYmluYXJ5Iil7Y29uc3QgdT1uZXcgRGF0YVZpZXcobik7QygwLHQucG9pbnRzKS5mb3JFYWNoKHM9Pntjb25zdCBhPWMqcztpZihpIT09dm9pZCAwJiYoaVtzKjMrMF09dS5nZXRGbG9hdDMyKGErKGUueHx8MCksQSksaVtzKjMrMV09dS5nZXRGbG9hdDMyKGErKGUueXx8MCksQSksaVtzKjMrMl09dS5nZXRGbG9hdDMyKGErKGUuenx8MCksQSkpLHIhPT12b2lkIDApe2NvbnN0IGQ9YSsoZS5yZ2J8fGUucmdiYXx8MCk7ZCsyPD11LmJ5dGVMZW5ndGgmJihyW3MqNCswXT11LmdldFVpbnQ4KGQrMikvMjU1LHJbcyo0KzFdPXUuZ2V0VWludDgoZCsxKS8yNTUscltzKjQrMl09dS5nZXRVaW50OChkKzApLzI1NSxyW3MqNCszXT0xKX1mIT09dm9pZCAwJiYoZltzXT11LmdldEZsb2F0MzIoYSsoZS5pbnRlbnNpdHl8fDApLEEpKX0pfWVsc2UgaWYodC5kYXRhPT09ImJpbmFyeV9jb21wcmVzc2VkIil7Y29uc3QgdT1WKG4pLHM9bmV3IERhdGFWaWV3KHUpO0MoMCx0LnBvaW50cykuZm9yRWFjaChhPT57aWYoaSE9PXZvaWQgMCYmKGlbYSozKzBdPXMuZ2V0RmxvYXQzMigoZS54fHwwKSthKjQsQSksaVthKjMrMV09cy5nZXRGbG9hdDMyKChlLnl8fDApK2EqNCxBKSxpW2EqMysyXT1zLmdldEZsb2F0MzIoKGUuenx8MCkrYSo0LEEpKSxyIT09dm9pZCAwKXtjb25zdCBkPShlLnJnYnx8ZS5yZ2JhfHwwKSthKjQ7ZCsyPD1zLmJ5dGVMZW5ndGgmJihyW2EqNCswXT1zLmdldFVpbnQ4KGQrMikvMjU1LHJbYSo0KzFdPXMuZ2V0VWludDgoZCsxKS8yNTUsclthKjQrMl09cy5nZXRVaW50OChkKzApLzI1NSxyW2EqNCszXT0xKX1mIT09dm9pZCAwJiYoZlthXT1zLmdldEZsb2F0MzIoKGUuaW50ZW5zaXR5fHwwKSthKjQsQSkpfSl9cmV0dXJue2NvbG9yczpyLGhlYWRlcjp0LGludGVuc2l0eTpmLHBvc2l0aW9uczppfX1mdW5jdGlvbiBYKG8pe3JldHVybiBEKEgobykpfWNvbnN0IFo9bmV3IF8oe2NhcGFjaXR5OjFlMyx0aW1lb3V0OjEqUy5taW51dGV9KTtvbm1lc3NhZ2U9YXN5bmMgbz0+e2NvbnN0e3VybDp0LGlkOm4scG9pbnRDbG91ZDplfT1vLmRhdGE7aWYodCl7Y29uc3QgYz1aLmdldCh0LGFzeW5jKCk9PkQoYXdhaXQgZmV0Y2godCx7bW9kZToiY29ycyJ9KS50aGVuKHI9PnIuYXJyYXlCdWZmZXIoKSkpKTtjJiZwb3N0TWVzc2FnZSh7dXJsOnQscGNkOmN9KX1pZihuJiZlKXtjb25zdCBjPVgoZSk7cG9zdE1lc3NhZ2Uoe2lkOm4scGNkOmN9KX19fSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGNkTG9hZGVyV29ya2VyLWVhYWMwYjMxLmpzLm1hcAo=",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){let s;try{if(s=blob&&(window.URL||window.webkitURL).createObjectURL(blob),!s)throw"";return new Worker(s)}catch{return new Worker("data:application/javascript;base64,"+encodedJs)}finally{s&&(window.URL||window.webkitURL).revokeObjectURL(s)}}class TelemetryUniverseData extends BasicUniverseDataConnector{constructor(){super(),he(this,"liveIntervalHandle"),he(this,"timeFinders",[]),he(this,"videoCache",new StoreCache({capacity:50})),this.timeChangeListeners.push(this.onTimeChange.bind(this)),this.onTimeChange("live")}subscribeToBitset(o,et,tt){throw new Error("Method not implemented for telemetry universe connector.")}subscribeToPath(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");const nt=new WorkerWrapper$1;let rt=0;const it=this.subscribeTelemetry(o,et,"localization",async ot=>{if(ot==="too much data"||ot===void 0){tt(NoData);return}const st=this.getNearestPoint(ot),at=st[1],lt=st[0];if(lt!==rt){if(rt=lt,at.url){const ct=await fetch(at.url).then(ut=>ut.json());ct.path&&lt>=rt&&tt(ct.path);return}else if(at.path&&lt>=rt){tt(at.path);return}}});return()=>{nt.terminate(),it()}}onTimeChange(o){o==="live"?this.liveIntervalHandle=setInterval(()=>{this.findDataForTime(new Date)},300):(this.liveIntervalHandle&&clearInterval(this.liveIntervalHandle),this.findDataForTime(o))}findDataForTime(o){this.timeFinders.forEach(et=>{et(o)})}addFinder(o,et,tt,nt,rt){const it=ot=>{const st=rt?addYears(ot,-1):addSeconds(ot,-60),at=rt?addMilliseconds(ot,1):addSeconds(ot,5),lt=this.queryStore.moduleQuery({deviceIds:[et]},tt,nt,st,at,rt);if(lt===void 0){o(void 0);return}if(lt==="too much data"){o("too much data");return}if(lt.length===0){o(void 0);return}const ct=lt.reduce((ut,dt)=>ut.concat(dt.points),[]);if(!ct||ct.length===0){o(void 0);return}if(rt){const ut=ct[ct.length-1][0],dt=ct.filter(ht=>ht[0]>addSeconds(ut,-15).getTime());o(dt);return}o(ct)};return this.timeFinders.push(it),it}getNearestPoint(o,et=this.time){const tt=et==="live"?addMilliseconds(new Date,1):this.time;let nt=o[0][0],rt=o[0][1];return o.forEach(it=>{const ot=it[0],st=it[1];Math.abs(ot-tt.getTime())<Math.abs(nt-tt.getTime())&&(nt=ot,rt=st)}),[nt,rt]}removeFinder(o){this.timeFinders=this.timeFinders.filter(et=>et!==o)}subscribeTelemetry(o,et,tt,nt){if(et.sourceType!=="telemetry")throw new Error("Invalid source type");const rt=this.addFinder(nt,o,et.streamName,tt,et.latestDataPoint||!1);return()=>{this.removeFinder(rt)}}subscribeToPointCloud(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");const nt=new WorkerWrapper,rt=new WorkerWrapper$1;let it=()=>{},ot=()=>{};return et.streamType==="point cloud"?it=this.subscribeTelemetry(o,et,"point cloud",async st=>{if(st==="too much data"||st===void 0){tt(NoData);return}const at=this.getNearestPoint(st)[1];if(typeof at=="string")tt(JSON.parse(at));else{const{url:lt}=at;nt.postMessage({url:lt}),nt.onmessage=ct=>{ct.data.url===lt&&tt({worldToLocal:at.worldToLocal,pcd:ct.data.pcd})}}}):et.streamType==="localization"&&(ot=this.subscribeTelemetry(o,et,"localization",async st=>{if(st==="too much data"||st===void 0){tt(NoData);return}let at=this.getNearestPoint(st)[1];at.url&&(rt.postMessage({url:at.url}),rt.onmessage=lt=>{if(at=lt.data.response,at.pointClouds){const{url:ct,worldToLocal:ut}=at.pointClouds[0];nt.postMessage({url:ct}),nt.onmessage=dt=>{dt.data.url===ct&&tt({worldToLocal:ut,pcd:dt.data.pcd})}}})})),()=>{nt.terminate(),rt.terminate(),it(),ot()}}subscribeToOdometry(o,et,tt,nt=0){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");const rt=new WorkerWrapper$1;let it=0;const ot=this.subscribeTelemetry(o,et,"localization",async st=>{if(st==="too much data"||st===void 0){tt(NoData);return}const at=this.getNearestPoint(st),lt=at[0];if(lt<=it)return;let ct;if(at[1].url)try{ct=(await(await fetch(at[1].url)).json()).odometry}catch(ut){throw console.error("Failed to fetch odometry data:",ut),ut}else ct=at[1].odometry;if(nt){const ut=st.filter(dt=>dt[0]<=at[0]&&dt[0]>=at[0]-nt*1e3).map(async dt=>{var ht,pt;if(dt[1].url)try{const gt=await(await fetch(dt[1].url)).json();return[dt[0],(ht=gt.odometry)==null?void 0:ht.pose]}catch(gt){throw console.error("Failed to fetch trail odometry data:",gt),gt}return[dt[0],(pt=dt[1].odometry)==null?void 0:pt.pose]});try{const dt=await Promise.all(ut);it=lt,tt({worldToLocal:ct.worldToLocal,pose:ct.pose,trail:dt,covariance:[]});return}catch(dt){throw console.error("Failed to process trail data:",dt),dt}}it=lt,tt({worldToLocal:ct.worldToLocal,pose:ct.pose,covariance:[]})});return()=>{rt.terminate(),ot()}}subscribeToPose(o,et,tt){throw new Error("Method not implemented for telemetry universe connector.")}subscribeToGeometry(o,et,tt){if(et.sourceType==="telemetry"){const nt=new WorkerWrapper$1,rt=this.subscribeTelemetry(o,et,"json",async it=>{if(it==="too much data"||it===void 0){tt(NoData);return}let ot=this.getNearestPoint(it)[1];ot.startsWith("http")?(nt.postMessage({url:ot}),nt.onmessage=st=>{ot=JSON.stringify(st.data.response),tt(JSON.parse(ot))}):tt(JSON.parse(ot))});return()=>{nt.terminate(),rt()}}else throw new Error("Realtime geometry note supported")}subscribeToJointState(o,et,tt){return this.subscribeToJson(o,et,tt)}subscribeToGridMap(o,et,tt){const nt={};if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");const rt=new WorkerWrapper$1,it=this.subscribeTelemetry(o,et,"localization",async ot=>{if(ot==="too much data"||ot===void 0){tt(NoData);return}const st=this.getNearestPoint(ot)[1];if(st.url){if(nt[st.url]){tt(nt[st.url]);return}rt.postMessage({url:st.url}),rt.onmessage=async at=>{const lt=at.data.response.map;if(lt){const ct={width:lt.width,height:lt.height,worldToLocal:lt.worldToLocal,resolution:lt.resolution,origin:lt.origin,url:lt.url};nt[st.url]=JSON.parse(JSON.stringify(ct)),tt(ct)}}}});return()=>{rt.terminate(),it()}}subscribeToVideo(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"video",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}const rt=this.getNearestPoint(nt)[1],{url:it}=rt,ot=this.videoCache.get(it,async()=>new Promise(st=>{const at=document.createElement("video");at.src=it,at.onload=()=>{}}));if(ot){const st=document.createElement("canvas");st.width=ot.videoWidth,st.height=ot.videoHeight;const at=st.getContext("2d");at&&at.drawImage(ot,0,0),tt(st)}})}subscribeToTransformTree(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"transform tree",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}tt(this.getNearestPoint(nt)[1])})}subscribeToLocation(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");const nt=this.subscribeToJson(o,et,tt),rt=this.subscribeTelemetry(o,et,"location",async it=>{if(it==="too much data"||it===void 0){tt(NoData);return}const ot=this.getNearestPoint(it)[1];tt(ot)});return()=>{nt(),rt()}}subscribeToJson(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"json",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}let rt=this.getNearestPoint(nt)[1];rt.startsWith("http")&&(rt=await(await fetch(rt)).text()),tt(JSON.parse(rt))})}subscribeToText(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"text",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}tt(this.getNearestPoint(nt)[1])})}subscribeToNumeric(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"numeric",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}tt(nt)})}subscribeToNumericSet(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"numeric set",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}tt(nt)})}subscribeToImage(o,et,tt){if(et.sourceType!=="telemetry")throw new Error("Telemetry sources only supported");return this.subscribeTelemetry(o,et,"image",async nt=>{if(nt==="too much data"||nt===void 0){tt(NoData);return}const rt=this.getNearestPoint(nt)[1].url,it=new Image;it.src=rt,it.onload=()=>{const ot=document.createElement("canvas");ot.width=it.width,ot.height=it.height;const st=ot.getContext("2d");st&&(st.drawImage(it,0,0),tt(ot))}})}}distExports.RtcClient;distExports.RtcClientV1;distExports.RtcSignalingClient;distExports.createRtcStreamMessage;const SidebarContent=styled.div`
  margin-top: 40px;
  width: 100%;
`,ToggleButton=styled.div`
  position: absolute;
  top: 10px;
  left: 10px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 4px 6px;

  width: 32px;
  height: 32px;
  background: ${s=>s.sidebarVisible?"#657197":"#1C1E2D"};
  border-radius: 100px;
  z-index: 2;
  cursor: pointer;
`,SidebarContainer=styled.div`
  overflow-y: auto;
  width: ${s=>s.visible?"252px":"0px"};
  min-width: ${s=>s.visible?"252px":"0px"};
  padding: ${s=>s.visible?"10px":"0px"};
  background-color: #2D3855;
  transition: all 0.2s ease;
`,LayerRow=styled.div`
  cursor: ${s=>s.hasChildren?"default":"pointer"};
  margin-bottom: ${s=>s.isChild&&s.isLastChild?"8px":"-3px"};
  height: 30px;
  padding: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-radius: 2px;
  background-color: ${s=>s.isSelectedMap?"#3B4668":"transparent"};
  background-origin: padding-box;

  & svg,
  p,span {
  transition: all 0.05s ease;
  /* color: ${s=>s.layerVisible?FormantColors.silver:"#657197"}; */
  /* color: ${s=>s.hasChildren||s.isSelectedMap?"#FFFFFF":"#BAC3E2"}; */
  font-weight: ${s=>s.hasChildren?"700":"400"};
  letter-spacing: ${s=>s.hasChildren?"1.5px":"0.6px"};
  line-height: ${s=>s.hasChildren?"20px":"18px"};
  font-size: ${s=>s.hasChildren?"10px":"13px"};
  text-transform: ${s=>s.hasChildren?"uppercase":"none"};
}

  & svg {
    ${s=>s.isSelectedMap?"width: 18px; height: auto":""};
    cursor: pointer;
  }
  &:hover {
    & svg {
    opacity: 1;
  }
}
`,LayerTitle=styled.div`
display: flex;
gap: 8px;
align-items: center;
overflow: hidden;

  & svg {
  width: 18px;
  height: 18px;
}
`;styled.hr`
  margin: 8px 0;
  border: 0;
  border-top: 1px solid #657197;
`;const VisibilityIcon=styled.div`
  height: 24px;
  & svg {
  transition: all 0.1s ease;
  opacity: ${s=>s.layerVisible?0:1};
}
`,Sidebar=({lookAtTargetId:s,toggleSidebarCallback:o})=>{const{layers:et,toggleVisibility:tt}=React.useContext(UIDataContext),[nt,rt]=React.useState(!1),[it,ot]=React.useState([]),[st,at]=React.useState({}),[lt,ct]=React.useState("Current device"),[ut,dt]=React.useState(!1),ht=()=>{o(ut),dt(!1),rt(!nt)},pt=Tt=>Tt.treePath&&Tt.treePath[0]===0&&Tt.treePath.length>1||!1,gt=Tt=>{pt(Tt)&&(Et(Tt),dt(!0))},ft=Tt=>{Tt.type===LayerType.CONTAINER&&yt(Tt)||s(Tt.id)};reactExports.useEffect(()=>{const bt=new URLSearchParams(window.location.search).get("device");bt&&Fleet.getDevice(bt).then(xt=>{ct(xt.name)})},[]),reactExports.useEffect(()=>{const Tt=et.sort((xt,Bt)=>{if(!xt.treePath||!Bt.treePath)return 0;const Ct=Math.min(xt.treePath.length,Bt.treePath.length);for(let Mt=0;Mt<Ct;Mt++)if(xt.treePath[Mt]!==Bt.treePath[Mt])return xt.treePath[Mt]-Bt.treePath[Mt];return xt.treePath.length-Bt.treePath.length}),bt={};Tt.forEach(xt=>{bt[xt.id]=xt}),at(bt),ot(Tt)},[et]);const yt=Tt=>it.some(bt=>bt.treePath&&Tt.treePath&&bt.treePath[0]===Tt.treePath[0]&&bt.treePath.length>Tt.treePath.length),mt=Tt=>Tt.treePath?.length===1?!1:!it.some(bt=>bt.treePath&&Tt.treePath&&bt.treePath[0]===Tt.treePath[0]&&bt.treePath[1]>Tt.treePath[1]),Ft=Tt=>Tt.treePath?Tt.treePath.length>1:!1,vt=Tt=>it.find(bt=>{if(!bt.treePath||bt.treePath.length!==Tt.length)return!1;for(let xt=0;xt<bt.treePath.length;xt++)if(bt.treePath[xt]!==Tt[xt])return!1;return!0}),Et=Tt=>{tt(Tt.id);const bt=Tt.treePath&&Tt.treePath.length>1&&vt([Tt.treePath[0]]);if(!bt||bt.name!=="Maps"||Tt.type===LayerType.AXIS||Tt.visible)return;Object.values(st).filter(Bt=>Bt.id!==Tt.id&&Bt.id!==bt.id&&Bt.treePath&&Bt.treePath[0]===Tt.treePath[0]&&Bt.visible).forEach(Bt=>{tt(Bt.id)})},wt=Tt=>Tt.treePath&&Tt.treePath.length===1?null:pt(Tt)?Tt.visible?jsx(CheckIcon,{}):jsx(Fragment,{}):jsx(VisibilityIcon,{onClick:bt=>{bt.stopPropagation(),Et(Tt)},onDoubleClick:bt=>{bt.stopPropagation()},layerVisible:Tt.visible,children:Tt.visible?jsx(EyeIcon,{}):jsx(EyeCloseIcon,{})}),It=it.filter(Tt=>Tt.treePath&&Tt.treePath[0]===1&&Tt.treePath.length>1),St=It.some(Tt=>Tt.visible),Rt=()=>{const Tt=it.filter(bt=>bt.treePath&&bt.treePath[0]===1&&bt.treePath.length>1);St?Tt.filter(bt=>bt.visible).forEach(bt=>{tt(bt.id)}):Tt.forEach(bt=>{tt(bt.id)})};return jsxs(Fragment,{children:[jsx(ToggleButton,{onClick:ht,sidebarVisible:nt,children:jsx(LayerIcon,{active:nt})}),jsx(SidebarContainer,{visible:nt,children:jsxs(SidebarContent,{children:[It.length>0&&jsxs(Fragment,{children:[jsx(LayerRow,{hasChildren:!0,isChild:!1,isLastChild:!1,isSelectedMap:!1,layerVisible:!0,id:"device-title",children:jsx(LayerTitle,{children:jsx("p",{children:"Device"})})},"device-title"),jsxs(LayerRow,{hasChildren:!1,isChild:!0,isLastChild:!0,isSelectedMap:!1,layerVisible:!0,id:"device-name",children:[jsx(LayerTitle,{children:jsx("p",{children:lt})}),jsx(VisibilityIcon,{onClick:Tt=>{Tt.stopPropagation(),Rt()},onDoubleClick:Tt=>{Tt.stopPropagation()},layerVisible:St,children:St?jsx(EyeIcon,{}):jsx(EyeCloseIcon,{})})]},"device-name")]}),it.map((Tt,bt)=>!yt(Tt)&&Tt.treePath&&Tt.treePath.length===1?null:jsx(React.Fragment,{children:jsxs(LayerRow,{hasChildren:yt(Tt),isChild:Ft(Tt),isLastChild:mt(Tt),onClick:()=>gt(Tt),onDoubleClick:()=>ft(Tt),layerVisible:Tt.visible,isSelectedMap:pt(Tt)&&Tt.visible,children:[jsx(LayerTitle,{children:jsx("p",{children:Tt.name})}),wt(Tt)]})},Tt.id+Tt.name))]})})]})},Controls$1=styled.div`
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  flex-direction: column;
  position: absolute;
  top: 0;
  right: 0;
  pointer-events: none;
  z-index: 101;
`,ControlGroup$1=styled.div`
  box-shadow: 0 0 1.25rem #0a0b10;
  display: flex;
  flex-direction: column;
  margin: 0.625rem;
  margin-bottom: 0;
  background: #1c1e2d;
  border: 0.078125rem solid #3b4668;
  border-radius: 1rem;
  box-sizing: border-box;
  pointer-events: all;
  overflow: hidden;

  button {
    padding: 0;
    margin: 0;
    background: transparent;
    color: inherit;
    border: none;
    text-decoration: none;
    position: relative;
    line-height: normal;

    &:not([disabled]) {
      cursor: pointer;
    }

    & + button {
      border-top: 0.039375rem solid #3b4668;
    }

    & > svg {
      vertical-align: middle;
      fill: #bac4e2;
    }
  }
`,enableEditMode=window.location.search.includes("editFeature=true"),ZoomControls=s=>{const{zoomIn:o,zoomOut:et,recenter:tt,stopZoom:nt,toggleEditMode:rt}=s;return jsxs(Controls$1,{children:[jsxs(ControlGroup$1,{children:[jsx("button",{type:"button",onMouseDown:o,onMouseUp:nt,children:"plus"}),jsx("button",{type:"button",onMouseDown:et,onMouseUp:nt,children:"minus"})]}),jsx(ControlGroup$1,{onClick:tt,children:jsx("button",{type:"button",children:"recenter"})}),enableEditMode&&jsx(ControlGroup$1,{onClick:rt,children:jsx("button",{type:"button",children:s.isEditing?"editing":"edit"})})]})},ControlsContext=React.createContext({});function useControlsContext(){return React.useContext(ControlsContext)}function useControlsContextStates(){const[s,o]=React.useState([]),[et,tt]=React.useState({isWaypointPanelVisible:!1,isWaypointEditing:!1,selectedWaypoint:null,commandName:void 0,hasPath:!0,hasWaypointsPath:!0,hasPointCloud:!1,pointSize:1.4}),nt=React.useRef({waypoints:[]}),rt=React.useCallback(it=>tt(ot=>({...ot,...it})),[]);return{waypoints:s,setWaypoints:o,state:et,updateState:rt,store:nt.current}}const isOrthographic=s=>s&&s.isOrthographicCamera,compareBox3=(s,o)=>{const tt=Math.abs(s.min.x-o.min.x),nt=Math.abs(s.min.y-o.min.y),rt=Math.abs(s.max.x-s.min.x-(o.max.x-o.min.x)),it=Math.abs(s.max.y-s.min.y-(o.max.y-o.min.y));return tt<=.1&&nt<=.1&&rt<=.1&&it<=.1},TAU=Math.PI*2,getAbsoluteAngle=(s,o)=>{const et=s-o;return MathUtils.euclideanModulo(et+Math.PI,TAU)-Math.PI},context$1=reactExports.createContext(null);function Bounds({children:s,damping:o=6,fit:et,clip:tt,observe:nt,margin:rt=1.2,eps:it=.01,onFit:ot,debug:st=!1}){const at=reactExports.useRef(null),{camera:lt,invalidate:ct,size:ut,scene:dt,get:ht}=useThree(),pt=reactExports.useRef(null),gt=reactExports.useRef(ot);gt.current=ot;const[ft]=reactExports.useState(()=>({animating:!1,focus:new Vector3,camera:new Vector3,zoom:1})),[yt]=reactExports.useState(()=>({focus:new Vector3,camera:new Vector3,zoom:1})),[mt]=reactExports.useState(()=>new Box3),Ft=reactExports.useRef(st?mt:null);useHelper(Ft,Box3Helper,"cyan");const[vt,Et]=reactExports.useState(10),wt=reactExports.useMemo(()=>{function Tt(){const bt=mt.getSize(new Vector3),xt=mt.getCenter(new Vector3),Bt=Math.max(bt.x,bt.y,bt.z),Ct=isOrthographic(lt)?Bt*4:Bt*rt/(2*Math.tan(Math.PI*lt.fov/180)),Mt=isOrthographic(lt)?Bt*4:Ct/lt.aspect,Nt=Math.max(Ct,Mt);return{box:mt,size:bt,center:xt,distance:Nt}}return{getSize:Tt,refresh(){const bt=mt.clone();if(at.current&&at.current.children.length>0){const xt=at.current.children[0],Bt=xt.children.find(Nt=>Nt.userData.name?.startsWith("Maps"))||new Group,Ct=xt.children.find(Nt=>Nt.userData.name?.startsWith("Device"))||new Group;Bt.updateWorldMatrix(!0,!0),Ct.updateWorldMatrix(!0,!0);const Mt=new Box3;[...Bt.children,...Ct.children].forEach(Nt=>{if(Nt.name!=="axis"&&Nt.visible&&!Nt.children.map(Ot=>Ot.name).includes("waypoints-plane")){const Ot=new Box3;Ot.setFromObject(Nt),Mt.union(Ot)}}),Mt.expandByVector(new Vector3(rt,rt,0)),mt.copy(Mt)}return mt.isEmpty()&&mt.setFromCenterAndSize(new Vector3,new Vector3(1,1,0)),compareBox3(mt,bt)||wt.clip().fit(),this},clip(){const bt=Tt(),xt=ht().controls;return Et(bt.distance),xt&&(xt.maxDistance=bt.distance*2,xt.minDistance=.5),lt.far=Math.max(bt.distance*100,100),lt.updateProjectionMatrix(),ct(),this},to({position:bt,target:xt}){ft.camera.copy(lt.position);const{center:Bt}=Tt();return yt.camera.set(...bt),xt?yt.focus.set(...xt):yt.focus.copy(Bt),o?ft.animating=!0:lt.position.set(...bt),this},fit(bt){const xt=ht().controls;if(xt){const Bt=new Box3;Bt.copy(mt),bt&&!bt.isEmpty()&&Bt.copy(bt);const Ct=Bt.getCenter(new Vector3),{distance:Mt}=Tt();xt.moveTo?.(Ct.x,Ct.y,Mt,!0),xt.setTarget?.(Ct.x,Ct.y,0,!0),xt.rotate?.(getAbsoluteAngle(0,xt.azimuthAngle||0),-getAbsoluteAngle(-Math.PI,xt.polarAngle||0),!0),xt.fitToBox?.(Bt,!0,{cover:!1,paddingTop:.3,paddingBottom:.3,paddingLeft:.3,paddingRight:.3}).then(()=>{bt||xt.saveState?.()})}return this}}},[mt,lt,rt,o,ct]),It=()=>{const Tt=new Box3,bt=new Box3;Tt.copy(mt),wt.refresh(),bt.copy(mt),compareBox3(Tt,bt)||wt.clip().fit()},St=(Tt,bt=!1)=>{const Bt=at.current.getObjectByName(Tt),Ct=new Box3;Bt&&(Ct.expandByObject(Bt),bt&&(pt.current=Bt?.id,Ct.setFromCenterAndSize(Ct.getCenter(new Vector3),new Vector3(10,10,0))),wt.fit(Ct))};useFrame(({controls:Tt})=>{if(pt.current){const xt=at.current.getObjectById(pt.current);if(xt&&Tt){const Bt=Tt,Ct=xt.rotation.z;Bt.azimuthAngle=3*Math.PI/2+Ct,Bt.moveTo?.(xt.position.x,xt.position.y,0,!0)}}});const Rt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{(nt||Rt.current++===0)&&(ct(),setTimeout(()=>{It()},25))},[ut,tt,et,nt,lt,vt]),reactExports.useEffect(()=>(dt.addEventListener("updateBounds",()=>{wt.refresh()}),dt.addEventListener("recenter",()=>{wt.fit()}),dt.addEventListener("lookAtTargetId",Tt=>{St(Tt.message,Tt.isDevice)}),dt.addEventListener("stopTracking",()=>{pt.current&&(pt.current=null)}),()=>{dt.removeEventListener("updateBounds",wt.refresh()),dt.removeEventListener("recenter",()=>{wt.fit()}),dt.removeEventListener("stopTracking",()=>{pt.current&&(pt.current=null)}),dt.removeEventListener("lookAtTargetId",Tt=>{St(Tt.message)})}),[]),reactExports.useEffect(()=>{const Tt=setTimeout(()=>{It()},5e3);return()=>clearTimeout(Tt)},[wt]),jsx(Fragment,{children:jsx("group",{ref:at,children:jsx(context$1.Provider,{value:wt,children:s})})})}function useBounds(){return reactExports.useContext(context$1)}var es={},computeDestinationPoint$1={},getLatitude$1={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.areaConversion=constants.timeConversion=constants.distanceConversion=constants.altitudeKeys=constants.latitudeKeys=constants.longitudeKeys=constants.MAXLON=constants.MINLON=constants.MAXLAT=constants.MINLAT=constants.earthRadius=constants.sexagesimalPattern=void 0;var sexagesimalPattern=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;constants.sexagesimalPattern=sexagesimalPattern;var earthRadius=6378137;constants.earthRadius=earthRadius;var MINLAT=-90;constants.MINLAT=MINLAT;var MAXLAT=90;constants.MAXLAT=MAXLAT;var MINLON=-180;constants.MINLON=MINLON;var MAXLON=180;constants.MAXLON=MAXLON;var longitudeKeys=["lng","lon","longitude",0];constants.longitudeKeys=longitudeKeys;var latitudeKeys=["lat","latitude",1];constants.latitudeKeys=latitudeKeys;var altitudeKeys=["alt","altitude","elevation","elev",2];constants.altitudeKeys=altitudeKeys;var distanceConversion={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};constants.distanceConversion=distanceConversion;var timeConversion={m:60,h:3600,d:86400};constants.timeConversion=timeConversion;var areaConversion={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};constants.areaConversion=areaConversion;areaConversion.sqm=areaConversion.m2;areaConversion.sqkm=areaConversion.km2;areaConversion.sqft=areaConversion.ft2;areaConversion.sqyd=areaConversion.yd2;areaConversion.sqin=areaConversion.in2;var getCoordinateKey$1={};Object.defineProperty(getCoordinateKey$1,"__esModule",{value:!0});getCoordinateKey$1.default=void 0;var getCoordinateKey=function s(o,et){return et.reduce(function(tt,nt){if(typeof o>"u"||o===null)throw new Error("'".concat(o,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(o,nt)&&typeof nt<"u"&&typeof tt>"u"?(tt=nt,nt):tt},void 0)},_default$D=getCoordinateKey;getCoordinateKey$1.default=_default$D;var toDecimal$1={},isDecimal$1={};Object.defineProperty(isDecimal$1,"__esModule",{value:!0});isDecimal$1.default=void 0;var isDecimal=function s(o){var et=o.toString().trim();return isNaN(parseFloat(et))?!1:parseFloat(et)===Number(et)},_default$C=isDecimal;isDecimal$1.default=_default$C;var isSexagesimal$1={};Object.defineProperty(isSexagesimal$1,"__esModule",{value:!0});isSexagesimal$1.default=void 0;var _constants$e=constants,isSexagesimal=function s(o){return _constants$e.sexagesimalPattern.test(o.toString().trim())},_default$B=isSexagesimal;isSexagesimal$1.default=_default$B;var sexagesimalToDecimal$1={};Object.defineProperty(sexagesimalToDecimal$1,"__esModule",{value:!0});sexagesimalToDecimal$1.default=void 0;var _constants$d=constants,sexagesimalToDecimal=function s(o){var et=new RegExp(_constants$d.sexagesimalPattern).exec(o.toString().trim());if(typeof et>"u"||et===null)throw new Error("Given value is not in sexagesimal format");var tt=Number(et[2])/60||0,nt=Number(et[4])/3600||0,rt=parseFloat(et[1])+tt+nt;return["S","W"].includes(et[7])?-rt:rt},_default$A=sexagesimalToDecimal;sexagesimalToDecimal$1.default=_default$A;var isValidCoordinate$1={},getCoordinateKeys$1={};Object.defineProperty(getCoordinateKeys$1,"__esModule",{value:!0});getCoordinateKeys$1.default=void 0;var _constants$c=constants,_getCoordinateKey$2=_interopRequireDefault$q(getCoordinateKey$1);function _interopRequireDefault$q(s){return s&&s.__esModule?s:{default:s}}function ownKeys$1(s,o){var et=Object.keys(s);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(s);o&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(s,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1(s){for(var o=1;o<arguments.length;o++){var et=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$1(s,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty(s,tt,Object.getOwnPropertyDescriptor(et,tt))})}return s}function _defineProperty$1(s,o,et){return o in s?Object.defineProperty(s,o,{value:et,enumerable:!0,configurable:!0,writable:!0}):s[o]=et,s}var getCoordinateKeys=function s(o){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:_constants$c.longitudeKeys,latitude:_constants$c.latitudeKeys,altitude:_constants$c.altitudeKeys},tt=(0,_getCoordinateKey$2.default)(o,et.longitude),nt=(0,_getCoordinateKey$2.default)(o,et.latitude),rt=(0,_getCoordinateKey$2.default)(o,et.altitude);return _objectSpread$1({latitude:nt,longitude:tt},rt?{altitude:rt}:{})},_default$z=getCoordinateKeys;getCoordinateKeys$1.default=_default$z;var isValidLatitude$1={};Object.defineProperty(isValidLatitude$1,"__esModule",{value:!0});isValidLatitude$1.default=void 0;var _isDecimal$2=_interopRequireDefault$p(isDecimal$1),_isSexagesimal$2=_interopRequireDefault$p(isSexagesimal$1),_sexagesimalToDecimal$2=_interopRequireDefault$p(sexagesimalToDecimal$1),_constants$b=constants;function _interopRequireDefault$p(s){return s&&s.__esModule?s:{default:s}}var isValidLatitude=function s(o){return(0,_isDecimal$2.default)(o)?!(parseFloat(o)>_constants$b.MAXLAT||o<_constants$b.MINLAT):(0,_isSexagesimal$2.default)(o)?s((0,_sexagesimalToDecimal$2.default)(o)):!1},_default$y=isValidLatitude;isValidLatitude$1.default=_default$y;var isValidLongitude$1={};Object.defineProperty(isValidLongitude$1,"__esModule",{value:!0});isValidLongitude$1.default=void 0;var _isDecimal$1=_interopRequireDefault$o(isDecimal$1),_isSexagesimal$1=_interopRequireDefault$o(isSexagesimal$1),_sexagesimalToDecimal$1=_interopRequireDefault$o(sexagesimalToDecimal$1),_constants$a=constants;function _interopRequireDefault$o(s){return s&&s.__esModule?s:{default:s}}var isValidLongitude=function s(o){return(0,_isDecimal$1.default)(o)?!(parseFloat(o)>_constants$a.MAXLON||o<_constants$a.MINLON):(0,_isSexagesimal$1.default)(o)?s((0,_sexagesimalToDecimal$1.default)(o)):!1},_default$x=isValidLongitude;isValidLongitude$1.default=_default$x;Object.defineProperty(isValidCoordinate$1,"__esModule",{value:!0});isValidCoordinate$1.default=void 0;var _getCoordinateKeys2=_interopRequireDefault$n(getCoordinateKeys$1),_isValidLatitude=_interopRequireDefault$n(isValidLatitude$1),_isValidLongitude=_interopRequireDefault$n(isValidLongitude$1);function _interopRequireDefault$n(s){return s&&s.__esModule?s:{default:s}}var isValidCoordinate=function s(o){var et=(0,_getCoordinateKeys2.default)(o),tt=et.latitude,nt=et.longitude;if(Array.isArray(o)&&o.length>=2)return(0,_isValidLongitude.default)(o[0])&&(0,_isValidLatitude.default)(o[1]);if(typeof tt>"u"||typeof nt>"u")return!1;var rt=o[nt],it=o[tt];return!(typeof it>"u"||typeof rt>"u"||(0,_isValidLatitude.default)(it)===!1||(0,_isValidLongitude.default)(rt)===!1)},_default$w=isValidCoordinate;isValidCoordinate$1.default=_default$w;Object.defineProperty(toDecimal$1,"__esModule",{value:!0});toDecimal$1.default=void 0;var _isDecimal=_interopRequireDefault$m(isDecimal$1),_isSexagesimal=_interopRequireDefault$m(isSexagesimal$1),_sexagesimalToDecimal=_interopRequireDefault$m(sexagesimalToDecimal$1),_isValidCoordinate=_interopRequireDefault$m(isValidCoordinate$1),_getCoordinateKeys=_interopRequireDefault$m(getCoordinateKeys$1);function _interopRequireDefault$m(s){return s&&s.__esModule?s:{default:s}}function ownKeys(s,o){var et=Object.keys(s);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(s);o&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(s,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread(s){for(var o=1;o<arguments.length;o++){var et=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty(s,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty(s,tt,Object.getOwnPropertyDescriptor(et,tt))})}return s}function _defineProperty(s,o,et){return o in s?Object.defineProperty(s,o,{value:et,enumerable:!0,configurable:!0,writable:!0}):s[o]=et,s}var toDecimal=function s(o){if((0,_isDecimal.default)(o))return Number(o);if((0,_isSexagesimal.default)(o))return(0,_sexagesimalToDecimal.default)(o);if((0,_isValidCoordinate.default)(o)){var et=(0,_getCoordinateKeys.default)(o);return Array.isArray(o)?o.map(function(tt,nt){return[0,1].includes(nt)?s(tt):tt}):_objectSpread(_objectSpread(_objectSpread({},o),et.latitude&&_defineProperty({},et.latitude,s(o[et.latitude]))),et.longitude&&_defineProperty({},et.longitude,s(o[et.longitude])))}return Array.isArray(o)?o.map(function(tt){return(0,_isValidCoordinate.default)(tt)?s(tt):tt}):o},_default$v=toDecimal;toDecimal$1.default=_default$v;Object.defineProperty(getLatitude$1,"__esModule",{value:!0});getLatitude$1.default=void 0;var _constants$9=constants,_getCoordinateKey$1=_interopRequireDefault$l(getCoordinateKey$1),_toDecimal$1=_interopRequireDefault$l(toDecimal$1);function _interopRequireDefault$l(s){return s&&s.__esModule?s:{default:s}}var getLatitude=function s(o,et){var tt=(0,_getCoordinateKey$1.default)(o,_constants$9.latitudeKeys);if(!(typeof tt>"u"||tt===null)){var nt=o[tt];return et===!0?nt:(0,_toDecimal$1.default)(nt)}},_default$u=getLatitude;getLatitude$1.default=_default$u;var getLongitude$1={};Object.defineProperty(getLongitude$1,"__esModule",{value:!0});getLongitude$1.default=void 0;var _constants$8=constants,_getCoordinateKey=_interopRequireDefault$k(getCoordinateKey$1),_toDecimal=_interopRequireDefault$k(toDecimal$1);function _interopRequireDefault$k(s){return s&&s.__esModule?s:{default:s}}var getLongitude=function s(o,et){var tt=(0,_getCoordinateKey.default)(o,_constants$8.longitudeKeys);if(!(typeof tt>"u"||tt===null)){var nt=o[tt];return et===!0?nt:(0,_toDecimal.default)(nt)}},_default$t=getLongitude;getLongitude$1.default=_default$t;var toRad$1={};Object.defineProperty(toRad$1,"__esModule",{value:!0});toRad$1.default=void 0;var toRad=function s(o){return o*Math.PI/180},_default$s=toRad;toRad$1.default=_default$s;var toDeg$1={};Object.defineProperty(toDeg$1,"__esModule",{value:!0});toDeg$1.default=void 0;var toDeg=function s(o){return o*180/Math.PI},_default$r=toDeg;toDeg$1.default=_default$r;Object.defineProperty(computeDestinationPoint$1,"__esModule",{value:!0});computeDestinationPoint$1.default=void 0;var _getLatitude$9=_interopRequireDefault$j(getLatitude$1),_getLongitude$9=_interopRequireDefault$j(getLongitude$1),_toRad$7=_interopRequireDefault$j(toRad$1),_toDeg$4=_interopRequireDefault$j(toDeg$1),_constants$7=constants;function _interopRequireDefault$j(s){return s&&s.__esModule?s:{default:s}}var computeDestinationPoint=function s(o,et,tt){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,rt=(0,_getLatitude$9.default)(o),it=(0,_getLongitude$9.default)(o),ot=et/nt,st=(0,_toRad$7.default)(tt),at=(0,_toRad$7.default)(rt),lt=(0,_toRad$7.default)(it),ct=Math.asin(Math.sin(at)*Math.cos(ot)+Math.cos(at)*Math.sin(ot)*Math.cos(st)),ut=lt+Math.atan2(Math.sin(st)*Math.sin(ot)*Math.cos(at),Math.cos(ot)-Math.sin(at)*Math.sin(ct)),dt=(0,_toDeg$4.default)(ut);return(dt<_constants$7.MINLON||dt>_constants$7.MAXLON)&&(ut=(ut+3*Math.PI)%(2*Math.PI)-Math.PI,dt=(0,_toDeg$4.default)(ut)),{latitude:(0,_toDeg$4.default)(ct),longitude:dt}},_default$q=computeDestinationPoint;computeDestinationPoint$1.default=_default$q;var convertArea$1={};Object.defineProperty(convertArea$1,"__esModule",{value:!0});convertArea$1.default=void 0;var _constants$6=constants,convertArea=function s(o){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",tt=_constants$6.areaConversion[et];if(tt)return o*tt;throw new Error("Invalid unit used for area conversion.")},_default$p=convertArea;convertArea$1.default=_default$p;var convertDistance$1={};Object.defineProperty(convertDistance$1,"__esModule",{value:!0});convertDistance$1.default=void 0;var _constants$5=constants,convertDistance=function s(o){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",tt=_constants$5.distanceConversion[et];if(tt)return o*tt;throw new Error("Invalid unit used for distance conversion.")},_default$o=convertDistance;convertDistance$1.default=_default$o;var convertSpeed$1={};Object.defineProperty(convertSpeed$1,"__esModule",{value:!0});convertSpeed$1.default=void 0;var _constants$4=constants,convertSpeed=function s(o){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(et){case"kmh":return o*_constants$4.timeConversion.h*_constants$4.distanceConversion.km;case"mph":return o*_constants$4.timeConversion.h*_constants$4.distanceConversion.mi;default:return o}},_default$n=convertSpeed;convertSpeed$1.default=_default$n;var decimalToSexagesimal={};Object.defineProperty(decimalToSexagesimal,"__esModule",{value:!0});decimalToSexagesimal.default=void 0;function _slicedToArray$1(s,o){return _arrayWithHoles$1(s)||_iterableToArrayLimit$1(s,o)||_unsupportedIterableToArray$1(s,o)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(s,o){if(s){if(typeof s=="string")return _arrayLikeToArray$1(s,o);var et=Object.prototype.toString.call(s).slice(8,-1);if(et==="Object"&&s.constructor&&(et=s.constructor.name),et==="Map"||et==="Set")return Array.from(s);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$1(s,o)}}function _arrayLikeToArray$1(s,o){(o==null||o>s.length)&&(o=s.length);for(var et=0,tt=new Array(o);et<o;et++)tt[et]=s[et];return tt}function _iterableToArrayLimit$1(s,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(s)))){var et=[],tt=!0,nt=!1,rt=void 0;try{for(var it=s[Symbol.iterator](),ot;!(tt=(ot=it.next()).done)&&(et.push(ot.value),!(o&&et.length===o));tt=!0);}catch(st){nt=!0,rt=st}finally{try{!tt&&it.return!=null&&it.return()}finally{if(nt)throw rt}}return et}}function _arrayWithHoles$1(s){if(Array.isArray(s))return s}var imprecise=function s(o){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,tt=Math.pow(10,et);return Math.round(o*tt)/tt},decimal2sexagesimalNext=function s(o){var et=o.toString().split("."),tt=_slicedToArray$1(et,2),nt=tt[0],rt=tt[1],it=Math.abs(Number(nt)),ot=+("0."+(rt||0))*60,st=ot.toString().split("."),at=Math.floor(ot),lt=imprecise(+("0."+(st[1]||0))*60).toString(),ct=lt.split("."),ut=_slicedToArray$1(ct,2),dt=ut[0],ht=ut[1],pt=ht===void 0?"0":ht;return it+"° "+at.toString().padStart(2,"0")+"' "+dt.padStart(2,"0")+"."+pt.padEnd(1,"0")+'"'},_default$m=decimal2sexagesimalNext;decimalToSexagesimal.default=_default$m;var findNearest$1={},orderByDistance$1={},getDistance$2={},robustAcos$1={};Object.defineProperty(robustAcos$1,"__esModule",{value:!0});robustAcos$1.default=void 0;var robustAcos=function s(o){return o>1?1:o<-1?-1:o},_default$l=robustAcos;robustAcos$1.default=_default$l;Object.defineProperty(getDistance$2,"__esModule",{value:!0});getDistance$2.default=void 0;var _getLatitude$8=_interopRequireDefault$i(getLatitude$1),_getLongitude$8=_interopRequireDefault$i(getLongitude$1),_toRad$6=_interopRequireDefault$i(toRad$1),_robustAcos$1=_interopRequireDefault$i(robustAcos$1),_constants$3=constants;function _interopRequireDefault$i(s){return s&&s.__esModule?s:{default:s}}var getDistance$1=function s(o,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;tt=typeof tt<"u"&&!isNaN(tt)?tt:1;var nt=(0,_getLatitude$8.default)(o),rt=(0,_getLongitude$8.default)(o),it=(0,_getLatitude$8.default)(et),ot=(0,_getLongitude$8.default)(et),st=Math.acos((0,_robustAcos$1.default)(Math.sin((0,_toRad$6.default)(it))*Math.sin((0,_toRad$6.default)(nt))+Math.cos((0,_toRad$6.default)(it))*Math.cos((0,_toRad$6.default)(nt))*Math.cos((0,_toRad$6.default)(rt)-(0,_toRad$6.default)(ot))))*_constants$3.earthRadius;return Math.round(st/tt)*tt},_default$k=getDistance$1;getDistance$2.default=_default$k;Object.defineProperty(orderByDistance$1,"__esModule",{value:!0});orderByDistance$1.default=void 0;var _getDistance$5=_interopRequireDefault$h(getDistance$2);function _interopRequireDefault$h(s){return s&&s.__esModule?s:{default:s}}var orderByDistance=function s(o,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_getDistance$5.default;return tt=typeof tt=="function"?tt:_getDistance$5.default,et.slice().sort(function(nt,rt){return tt(o,nt)-tt(o,rt)})},_default$j=orderByDistance;orderByDistance$1.default=_default$j;Object.defineProperty(findNearest$1,"__esModule",{value:!0});findNearest$1.default=void 0;var _orderByDistance=_interopRequireDefault$g(orderByDistance$1);function _interopRequireDefault$g(s){return s&&s.__esModule?s:{default:s}}var findNearest=function s(o,et){return(0,_orderByDistance.default)(o,et)[0]},_default$i=findNearest;findNearest$1.default=_default$i;var getAreaOfPolygon$1={};Object.defineProperty(getAreaOfPolygon$1,"__esModule",{value:!0});getAreaOfPolygon$1.default=void 0;var _toRad$5=_interopRequireDefault$f(toRad$1),_getLatitude$7=_interopRequireDefault$f(getLatitude$1),_getLongitude$7=_interopRequireDefault$f(getLongitude$1),_constants$2=constants;function _interopRequireDefault$f(s){return s&&s.__esModule?s:{default:s}}var getAreaOfPolygon=function s(o){var et=0;if(o.length>2){for(var tt,nt,rt,it=0;it<o.length;it++){it===o.length-2?(tt=o.length-2,nt=o.length-1,rt=0):it===o.length-1?(tt=o.length-1,nt=0,rt=1):(tt=it,nt=it+1,rt=it+2);var ot=(0,_getLongitude$7.default)(o[tt]),st=(0,_getLatitude$7.default)(o[nt]),at=(0,_getLongitude$7.default)(o[rt]);et+=((0,_toRad$5.default)(at)-(0,_toRad$5.default)(ot))*Math.sin((0,_toRad$5.default)(st))}et=et*_constants$2.earthRadius*_constants$2.earthRadius/2}return Math.abs(et)},_default$h=getAreaOfPolygon;getAreaOfPolygon$1.default=_default$h;var getBounds$1={};Object.defineProperty(getBounds$1,"__esModule",{value:!0});getBounds$1.default=void 0;var _getLatitude$6=_interopRequireDefault$e(getLatitude$1),_getLongitude$6=_interopRequireDefault$e(getLongitude$1);function _interopRequireDefault$e(s){return s&&s.__esModule?s:{default:s}}var getBounds=function s(o){if(Array.isArray(o)===!1||o.length===0)throw new Error("No points were given.");return o.reduce(function(et,tt){var nt=(0,_getLatitude$6.default)(tt),rt=(0,_getLongitude$6.default)(tt);return{maxLat:Math.max(nt,et.maxLat),minLat:Math.min(nt,et.minLat),maxLng:Math.max(rt,et.maxLng),minLng:Math.min(rt,et.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},_default$g=getBounds;getBounds$1.default=_default$g;var getBoundsOfDistance$1={};Object.defineProperty(getBoundsOfDistance$1,"__esModule",{value:!0});getBoundsOfDistance$1.default=void 0;var _getLatitude$5=_interopRequireDefault$d(getLatitude$1),_getLongitude$5=_interopRequireDefault$d(getLongitude$1),_toRad$4=_interopRequireDefault$d(toRad$1),_toDeg$3=_interopRequireDefault$d(toDeg$1),_constants$1=constants;function _interopRequireDefault$d(s){return s&&s.__esModule?s:{default:s}}var getBoundsOfDistance=function s(o,et){var tt=(0,_getLatitude$5.default)(o),nt=(0,_getLongitude$5.default)(o),rt=(0,_toRad$4.default)(tt),it=(0,_toRad$4.default)(nt),ot=et/_constants$1.earthRadius,st=rt-ot,at=rt+ot,lt=(0,_toRad$4.default)(_constants$1.MAXLAT),ct=(0,_toRad$4.default)(_constants$1.MINLAT),ut=(0,_toRad$4.default)(_constants$1.MAXLON),dt=(0,_toRad$4.default)(_constants$1.MINLON),ht,pt;if(st>ct&&at<lt){var gt=Math.asin(Math.sin(ot)/Math.cos(rt));ht=it-gt,ht<dt&&(ht+=Math.PI*2),pt=it+gt,pt>ut&&(pt-=Math.PI*2)}else st=Math.max(st,ct),at=Math.min(at,lt),ht=dt,pt=ut;return[{latitude:(0,_toDeg$3.default)(st),longitude:(0,_toDeg$3.default)(ht)},{latitude:(0,_toDeg$3.default)(at),longitude:(0,_toDeg$3.default)(pt)}]},_default$f=getBoundsOfDistance;getBoundsOfDistance$1.default=_default$f;var getCenter$1={};Object.defineProperty(getCenter$1,"__esModule",{value:!0});getCenter$1.default=void 0;var _getLatitude$4=_interopRequireDefault$c(getLatitude$1),_getLongitude$4=_interopRequireDefault$c(getLongitude$1),_toRad$3=_interopRequireDefault$c(toRad$1),_toDeg$2=_interopRequireDefault$c(toDeg$1);function _interopRequireDefault$c(s){return s&&s.__esModule?s:{default:s}}var getCenter=function s(o){if(Array.isArray(o)===!1||o.length===0)return!1;var et=o.length,tt=o.reduce(function(ot,st){var at=(0,_toRad$3.default)((0,_getLatitude$4.default)(st)),lt=(0,_toRad$3.default)((0,_getLongitude$4.default)(st));return{X:ot.X+Math.cos(at)*Math.cos(lt),Y:ot.Y+Math.cos(at)*Math.sin(lt),Z:ot.Z+Math.sin(at)}},{X:0,Y:0,Z:0}),nt=tt.X/et,rt=tt.Y/et,it=tt.Z/et;return{longitude:(0,_toDeg$2.default)(Math.atan2(rt,nt)),latitude:(0,_toDeg$2.default)(Math.atan2(it,Math.sqrt(nt*nt+rt*rt)))}},_default$e=getCenter;getCenter$1.default=_default$e;var getCenterOfBounds$1={};Object.defineProperty(getCenterOfBounds$1,"__esModule",{value:!0});getCenterOfBounds$1.default=void 0;var _getBounds=_interopRequireDefault$b(getBounds$1);function _interopRequireDefault$b(s){return s&&s.__esModule?s:{default:s}}var getCenterOfBounds=function s(o){var et=(0,_getBounds.default)(o),tt=et.minLat+(et.maxLat-et.minLat)/2,nt=et.minLng+(et.maxLng-et.minLng)/2;return{latitude:parseFloat(tt.toFixed(6)),longitude:parseFloat(nt.toFixed(6))}},_default$d=getCenterOfBounds;getCenterOfBounds$1.default=_default$d;var getCompassDirection$1={},getRhumbLineBearing$1={};Object.defineProperty(getRhumbLineBearing$1,"__esModule",{value:!0});getRhumbLineBearing$1.default=void 0;var _getLatitude$3=_interopRequireDefault$a(getLatitude$1),_getLongitude$3=_interopRequireDefault$a(getLongitude$1),_toRad$2=_interopRequireDefault$a(toRad$1),_toDeg$1=_interopRequireDefault$a(toDeg$1);function _interopRequireDefault$a(s){return s&&s.__esModule?s:{default:s}}var getRhumbLineBearing=function s(o,et){var tt=(0,_toRad$2.default)((0,_getLongitude$3.default)(et))-(0,_toRad$2.default)((0,_getLongitude$3.default)(o)),nt=Math.log(Math.tan((0,_toRad$2.default)((0,_getLatitude$3.default)(et))/2+Math.PI/4)/Math.tan((0,_toRad$2.default)((0,_getLatitude$3.default)(o))/2+Math.PI/4));return Math.abs(tt)>Math.PI&&(tt>0?tt=(Math.PI*2-tt)*-1:tt=Math.PI*2+tt),((0,_toDeg$1.default)(Math.atan2(tt,nt))+360)%360},_default$c=getRhumbLineBearing;getRhumbLineBearing$1.default=_default$c;Object.defineProperty(getCompassDirection$1,"__esModule",{value:!0});getCompassDirection$1.default=void 0;var _getRhumbLineBearing=_interopRequireDefault$9(getRhumbLineBearing$1);function _interopRequireDefault$9(s){return s&&s.__esModule?s:{default:s}}var getCompassDirection=function s(o,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_getRhumbLineBearing.default,nt=typeof tt=="function"?tt(o,et):(0,_getRhumbLineBearing.default)(o,et);if(isNaN(nt))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(nt/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},_default$b=getCompassDirection;getCompassDirection$1.default=_default$b;var getDistanceFromLine$1={};Object.defineProperty(getDistanceFromLine$1,"__esModule",{value:!0});getDistanceFromLine$1.default=void 0;var _getDistance$4=_interopRequireDefault$8(getDistance$2),_robustAcos=_interopRequireDefault$8(robustAcos$1);function _interopRequireDefault$8(s){return s&&s.__esModule?s:{default:s}}var getDistanceFromLine=function s(o,et,tt){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,rt=(0,_getDistance$4.default)(et,o,nt),it=(0,_getDistance$4.default)(o,tt,nt),ot=(0,_getDistance$4.default)(et,tt,nt),st=Math.acos((0,_robustAcos.default)((rt*rt+ot*ot-it*it)/(2*rt*ot))),at=Math.acos((0,_robustAcos.default)((it*it+ot*ot-rt*rt)/(2*it*ot)));return st>Math.PI/2?rt:at>Math.PI/2?it:Math.sin(st)*rt},_default$a=getDistanceFromLine;getDistanceFromLine$1.default=_default$a;var getGreatCircleBearing$1={};Object.defineProperty(getGreatCircleBearing$1,"__esModule",{value:!0});getGreatCircleBearing$1.default=void 0;var _getLatitude$2=_interopRequireDefault$7(getLatitude$1),_getLongitude$2=_interopRequireDefault$7(getLongitude$1),_toRad$1=_interopRequireDefault$7(toRad$1),_toDeg=_interopRequireDefault$7(toDeg$1);function _interopRequireDefault$7(s){return s&&s.__esModule?s:{default:s}}var getGreatCircleBearing=function s(o,et){var tt=(0,_getLatitude$2.default)(et),nt=(0,_getLongitude$2.default)(et),rt=(0,_getLatitude$2.default)(o),it=(0,_getLongitude$2.default)(o),ot=((0,_toDeg.default)(Math.atan2(Math.sin((0,_toRad$1.default)(nt)-(0,_toRad$1.default)(it))*Math.cos((0,_toRad$1.default)(tt)),Math.cos((0,_toRad$1.default)(rt))*Math.sin((0,_toRad$1.default)(tt))-Math.sin((0,_toRad$1.default)(rt))*Math.cos((0,_toRad$1.default)(tt))*Math.cos((0,_toRad$1.default)(nt)-(0,_toRad$1.default)(it))))+360)%360;return ot},_default$9=getGreatCircleBearing;getGreatCircleBearing$1.default=_default$9;var getPathLength$1={};Object.defineProperty(getPathLength$1,"__esModule",{value:!0});getPathLength$1.default=void 0;var _getDistance$3=_interopRequireDefault$6(getDistance$2);function _interopRequireDefault$6(s){return s&&s.__esModule?s:{default:s}}function _typeof(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(et){return typeof et}:_typeof=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(s)}var getPathLength=function s(o){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_getDistance$3.default;return o.reduce(function(tt,nt){return _typeof(tt)==="object"&&tt.last!==null&&(tt.distance+=et(nt,tt.last)),tt.last=nt,tt},{last:null,distance:0}).distance},_default$8=getPathLength;getPathLength$1.default=_default$8;var getPreciseDistance={};Object.defineProperty(getPreciseDistance,"__esModule",{value:!0});getPreciseDistance.default=void 0;var _getLatitude$1=_interopRequireDefault$5(getLatitude$1),_getLongitude$1=_interopRequireDefault$5(getLongitude$1),_toRad=_interopRequireDefault$5(toRad$1),_constants=constants;function _interopRequireDefault$5(s){return s&&s.__esModule?s:{default:s}}var getDistance=function s(o,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;tt=typeof tt<"u"&&!isNaN(tt)?tt:1;var nt=(0,_getLatitude$1.default)(o),rt=(0,_getLongitude$1.default)(o),it=(0,_getLatitude$1.default)(et),ot=(0,_getLongitude$1.default)(et),st=6356752314245e-6,at=1/298.257223563,lt=(0,_toRad.default)(ot-rt),ct,ut,dt,ht,pt,gt,ft=Math.atan((1-at)*Math.tan((0,_toRad.default)(parseFloat(nt)))),yt=Math.atan((1-at)*Math.tan((0,_toRad.default)(parseFloat(it)))),mt=Math.sin(ft),Ft=Math.cos(ft),vt=Math.sin(yt),Et=Math.cos(yt),wt=lt,It,St=100;do{var Rt=Math.sin(wt),Tt=Math.cos(wt);if(gt=Math.sqrt(Et*Rt*(Et*Rt)+(Ft*vt-mt*Et*Tt)*(Ft*vt-mt*Et*Tt)),gt===0)return 0;ct=mt*vt+Ft*Et*Tt,ut=Math.atan2(gt,ct),dt=Ft*Et*Rt/gt,ht=1-dt*dt,pt=ct-2*mt*vt/ht,isNaN(pt)&&(pt=0);var bt=at/16*ht*(4+at*(4-3*ht));It=wt,wt=lt+(1-bt)*at*dt*(ut+bt*gt*(pt+bt*ct*(-1+2*pt*pt)))}while(Math.abs(wt-It)>1e-12&&--St>0);if(St===0)return NaN;var xt=ht*(_constants.earthRadius*_constants.earthRadius-st*st)/(st*st),Bt=1+xt/16384*(4096+xt*(-768+xt*(320-175*xt))),Ct=xt/1024*(256+xt*(-128+xt*(74-47*xt))),Mt=Ct*gt*(pt+Ct/4*(ct*(-1+2*pt*pt)-Ct/6*pt*(-3+4*gt*gt)*(-3+4*pt*pt))),Nt=st*Bt*(ut-Mt);return Math.round(Nt/tt)*tt},_default$7=getDistance;getPreciseDistance.default=_default$7;var getRoughCompassDirection$1={};Object.defineProperty(getRoughCompassDirection$1,"__esModule",{value:!0});getRoughCompassDirection$1.default=void 0;var getRoughCompassDirection=function s(o){if(/^(NNE|NE|NNW|N)$/.test(o))return"N";if(/^(ENE|E|ESE|SE)$/.test(o))return"E";if(/^(SSE|S|SSW|SW)$/.test(o))return"S";if(/^(WSW|W|WNW|NW)$/.test(o))return"W"},_default$6=getRoughCompassDirection;getRoughCompassDirection$1.default=_default$6;var getSpeed$1={};Object.defineProperty(getSpeed$1,"__esModule",{value:!0});getSpeed$1.default=void 0;var _getDistance$2=_interopRequireDefault$4(getDistance$2);function _interopRequireDefault$4(s){return s&&s.__esModule?s:{default:s}}var getSpeed=function s(o,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_getDistance$2.default,nt=tt(o,et),rt=Number(et.time)-Number(o.time),it=nt/rt*1e3;return it},_default$5=getSpeed;getSpeed$1.default=_default$5;var isPointInLine$1={};Object.defineProperty(isPointInLine$1,"__esModule",{value:!0});isPointInLine$1.default=void 0;var _getDistance$1=_interopRequireDefault$3(getDistance$2);function _interopRequireDefault$3(s){return s&&s.__esModule?s:{default:s}}var isPointInLine=function s(o,et,tt){return(0,_getDistance$1.default)(et,o)+(0,_getDistance$1.default)(o,tt)===(0,_getDistance$1.default)(et,tt)},_default$4=isPointInLine;isPointInLine$1.default=_default$4;var isPointInPolygon$1={};Object.defineProperty(isPointInPolygon$1,"__esModule",{value:!0});isPointInPolygon$1.default=void 0;var _getLatitude=_interopRequireDefault$2(getLatitude$1),_getLongitude=_interopRequireDefault$2(getLongitude$1);function _interopRequireDefault$2(s){return s&&s.__esModule?s:{default:s}}var isPointInPolygon=function s(o,et){for(var tt=!1,nt=et.length,rt=-1,it=nt-1;++rt<nt;it=rt)((0,_getLongitude.default)(et[rt])<=(0,_getLongitude.default)(o)&&(0,_getLongitude.default)(o)<(0,_getLongitude.default)(et[it])||(0,_getLongitude.default)(et[it])<=(0,_getLongitude.default)(o)&&(0,_getLongitude.default)(o)<(0,_getLongitude.default)(et[rt]))&&(0,_getLatitude.default)(o)<((0,_getLatitude.default)(et[it])-(0,_getLatitude.default)(et[rt]))*((0,_getLongitude.default)(o)-(0,_getLongitude.default)(et[rt]))/((0,_getLongitude.default)(et[it])-(0,_getLongitude.default)(et[rt]))+(0,_getLatitude.default)(et[rt])&&(tt=!tt);return tt},_default$3=isPointInPolygon;isPointInPolygon$1.default=_default$3;var isPointNearLine$1={};Object.defineProperty(isPointNearLine$1,"__esModule",{value:!0});isPointNearLine$1.default=void 0;var _getDistanceFromLine=_interopRequireDefault$1(getDistanceFromLine$1);function _interopRequireDefault$1(s){return s&&s.__esModule?s:{default:s}}var isPointNearLine=function s(o,et,tt,nt){return(0,_getDistanceFromLine.default)(o,et,tt)<nt},_default$2=isPointNearLine;isPointNearLine$1.default=_default$2;var isPointWithinRadius$1={};Object.defineProperty(isPointWithinRadius$1,"__esModule",{value:!0});isPointWithinRadius$1.default=void 0;var _getDistance=_interopRequireDefault(getDistance$2);function _interopRequireDefault(s){return s&&s.__esModule?s:{default:s}}var isPointWithinRadius=function s(o,et,tt){var nt=.01;return(0,_getDistance.default)(o,et,nt)<tt},_default$1=isPointWithinRadius;isPointWithinRadius$1.default=_default$1;var wktToPolygon$1={};Object.defineProperty(wktToPolygon$1,"__esModule",{value:!0});wktToPolygon$1.default=void 0;function _slicedToArray(s,o){return _arrayWithHoles(s)||_iterableToArrayLimit(s,o)||_unsupportedIterableToArray(s,o)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(s,o){if(s){if(typeof s=="string")return _arrayLikeToArray(s,o);var et=Object.prototype.toString.call(s).slice(8,-1);if(et==="Object"&&s.constructor&&(et=s.constructor.name),et==="Map"||et==="Set")return Array.from(s);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray(s,o)}}function _arrayLikeToArray(s,o){(o==null||o>s.length)&&(o=s.length);for(var et=0,tt=new Array(o);et<o;et++)tt[et]=s[et];return tt}function _iterableToArrayLimit(s,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(s)))){var et=[],tt=!0,nt=!1,rt=void 0;try{for(var it=s[Symbol.iterator](),ot;!(tt=(ot=it.next()).done)&&(et.push(ot.value),!(o&&et.length===o));tt=!0);}catch(st){nt=!0,rt=st}finally{try{!tt&&it.return!=null&&it.return()}finally{if(nt)throw rt}}return et}}function _arrayWithHoles(s){if(Array.isArray(s))return s}var wktToPolygon=function s(o){if(!o.startsWith("POLYGON"))throw new Error("Invalid wkt.");var et=o.slice(o.indexOf("(")+2,o.indexOf(")")).split(", "),tt=et.map(function(nt){var rt=nt.split(" "),it=_slicedToArray(rt,2),ot=it[0],st=it[1];return{longitude:parseFloat(ot),latitude:parseFloat(st)}});return tt},_default=wktToPolygon;wktToPolygon$1.default=_default;(function(s){Object.defineProperty(s,"__esModule",{value:!0});var o={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(s,"computeDestinationPoint",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(s,"convertArea",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(s,"convertDistance",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(s,"convertSpeed",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(s,"decimalToSexagesimal",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(s,"findNearest",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(s,"getAreaOfPolygon",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(s,"getBounds",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(s,"getBoundsOfDistance",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(s,"getCenter",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(s,"getCenterOfBounds",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(s,"getCompassDirection",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(s,"getCoordinateKey",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(s,"getCoordinateKeys",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(s,"getDistance",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(s,"getDistanceFromLine",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(s,"getGreatCircleBearing",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(s,"getLatitude",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(s,"getLongitude",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(s,"getPathLength",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(s,"getPreciseDistance",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(s,"getRhumbLineBearing",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(s,"getRoughCompassDirection",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(s,"getSpeed",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(s,"isDecimal",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(s,"isPointInLine",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(s,"isPointInPolygon",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(s,"isPointNearLine",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(s,"isPointWithinRadius",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(s,"isSexagesimal",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(s,"isValidCoordinate",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(s,"isValidLatitude",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(s,"isValidLongitude",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(s,"orderByDistance",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(s,"sexagesimalToDecimal",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(s,"toDecimal",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(s,"toRad",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(s,"toDeg",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(s,"wktToPolygon",{enumerable:!0,get:function(){return Ht.default}});var et=Lt(computeDestinationPoint$1),tt=Lt(convertArea$1),nt=Lt(convertDistance$1),rt=Lt(convertSpeed$1),it=Lt(decimalToSexagesimal),ot=Lt(findNearest$1),st=Lt(getAreaOfPolygon$1),at=Lt(getBounds$1),lt=Lt(getBoundsOfDistance$1),ct=Lt(getCenter$1),ut=Lt(getCenterOfBounds$1),dt=Lt(getCompassDirection$1),ht=Lt(getCoordinateKey$1),pt=Lt(getCoordinateKeys$1),gt=Lt(getDistance$2),ft=Lt(getDistanceFromLine$1),yt=Lt(getGreatCircleBearing$1),mt=Lt(getLatitude$1),Ft=Lt(getLongitude$1),vt=Lt(getPathLength$1),Et=Lt(getPreciseDistance),wt=Lt(getRhumbLineBearing$1),It=Lt(getRoughCompassDirection$1),St=Lt(getSpeed$1),Rt=Lt(isDecimal$1),Tt=Lt(isPointInLine$1),bt=Lt(isPointInPolygon$1),xt=Lt(isPointNearLine$1),Bt=Lt(isPointWithinRadius$1),Ct=Lt(isSexagesimal$1),Mt=Lt(isValidCoordinate$1),Nt=Lt(isValidLatitude$1),At=Lt(isValidLongitude$1),Ot=Lt(orderByDistance$1),Vt=Lt(sexagesimalToDecimal$1),Wt=Lt(toDecimal$1),Jt=Lt(toRad$1),qt=Lt(toDeg$1),Ht=Lt(wktToPolygon$1),Xt=constants;Object.keys(Xt).forEach(function(Pt){Pt==="default"||Pt==="__esModule"||Object.prototype.hasOwnProperty.call(o,Pt)||Object.defineProperty(s,Pt,{enumerable:!0,get:function(){return Xt[Pt]}})});function Lt(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}})(es);class EmptyUniverseData{subscribeToBitset(o,et,tt){throw new Error("Method not implemented.")}subscribeToPath(o,et,tt){throw new Error("Method not implemented.")}addInteraction(o){throw new Error("Method not implemented.")}removeInteraction(o){throw new Error("Method not implemented.")}clearWorkerPool(){throw new Error("Method not implemented.")}getInteractions(){throw new Error("Method not implemented.")}addInteractionsChangedListener(o){throw new Error("Method not implemented.")}addInteractionListener(o){throw new Error("Method not implemented.")}setTime(o){throw new Error("Method not implemented.")}getTime(){throw new Error("Method not implemented.")}getTimeMs(){throw new Error("Method not implemented.")}getLatestTransformTrees(o){throw new Error("Method not implemented.")}getLatestLocations(o){throw new Error("Method not implemented.")}getDeviceContexts(){throw new Error("Method not implemented.")}getDeviceContextName(o){throw new Error("Method not implemented.")}getTelemetryStreamType(o,et){throw new Error("Method not implemented.")}getTelemetryStreams(o){throw new Error("Method not implemented.")}getTeleopRosStreams(o){throw new Error("Method not implemented.")}getUrdfs(o){throw new Error("Method not implemented.")}getHardwareStreams(o){throw new Error("Method not implemented.")}subscribeToPointCloud(o,et,tt){throw new Error("Method not implemented.")}subscribeToOdometry(o,et,tt){throw new Error("Method not implemented.")}subscribeToPose(o,et,tt){throw new Error("Method not implemented.")}subscribeToGeometry(o,et,tt){throw new Error("Method not implemented.")}subscribeToJointState(o,et,tt){throw new Error("Method not implemented.")}subscribeToGridMap(o,et,tt){throw new Error("Method not implemented.")}subscribeToVideo(o,et,tt){throw new Error("Method not implemented.")}subscribeToTransformTree(o,et,tt){throw new Error("Method not implemented.")}subscribeToLocation(o,et,tt){throw new Error("Method not implemented.")}subscribeToJson(o,et,tt){throw new Error("Method not implemented.")}subscribeToText(o,et,tt){throw new Error("Method not implemented.")}subscribeToNumeric(o,et,tt){throw new Error("Method not implemented.")}subscribeToNumericSet(o,et,tt){throw new Error("Method not implemented.")}getStatistics(){throw new Error("Method not implemented.")}subscribeDataSourceStateChange(o,et,tt){throw new Error("Method not implemented.")}subscribeToImage(o,et,tt){throw new Error("Method not implemented.")}sendRealtimePose(o,et,tt){throw new Error("Method not implemented.")}sendRealtimeBoolean(o,et,tt){throw new Error("Method not implemented.")}sendRealtimeBitset(o,et,tt){throw new Error("Method not implemented.")}sendCommand(o,et,tt){throw new Error("Method not implemented.")}}const UniverseDataContext=React.createContext([new EmptyUniverseData,new EmptyUniverseData]);class PositioningBuilder{static fixed(o,et,tt){return{type:"cartesian",x:o,y:et,z:tt}}static odometry(o,et,tt,nt){return{type:"odometry",stream:o,rtcStream:et,useLatestDataPoint:tt,useWorldToLocalTransform:nt}}static gps(o,et){return{type:"gps",stream:o,relativeToLatitude:et.lat,relativeToLongitude:et.long}}static tranformTree(o,et){return{type:"transform tree",stream:o,end:et}}}const LayerContext=React.createContext(null);class DataSourceBuilder{static telemetry(o,et,tt){return{id:v4(),sourceType:"telemetry",streamName:o,streamType:et,latestDataPoint:tt}}static realtime(o,et){return{id:v4(),sourceType:"realtime",rosTopicName:o,rosTopicType:et}}static hardware(o){return{id:v4(),sourceType:"hardware",rtcStreamName:o}}}var md5$1={exports:{}};/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var createOutputMethod=function(s){return function(o){return new Md5(!0).update(o)[s]()}},createMethod=function(){var s=createOutputMethod("hex");NODE_JS&&(s=nodeWrap(s)),s.create=function(){return new Md5},s.update=function(tt){return s.create().update(tt)};for(var o=0;o<OUTPUT_TYPES.length;++o){var et=OUTPUT_TYPES[o];s[et]=createOutputMethod(et)}return s},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(s){if(typeof s=="string")return crypto.createHash("md5").update(s,"utf8").digest("hex");if(s==null)throw ERROR;return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===Buffer?crypto.createHash("md5").update(new Buffer(s)).digest("hex"):method(s)};return nodeMethod};function Md5(s){if(s)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var o=new ArrayBuffer(68);this.buffer8=new Uint8Array(o),this.blocks=new Uint32Array(o)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(s){if(!this.finalized){var o,et=typeof s;if(et!=="string"){if(et==="object"){if(s===null)throw ERROR;if(ARRAY_BUFFER&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(s)))throw ERROR}else throw ERROR;o=!0}for(var tt,nt=0,rt,it=s.length,ot=this.blocks,st=this.buffer8;nt<it;){if(this.hashed&&(this.hashed=!1,ot[0]=ot[16],ot[16]=ot[1]=ot[2]=ot[3]=ot[4]=ot[5]=ot[6]=ot[7]=ot[8]=ot[9]=ot[10]=ot[11]=ot[12]=ot[13]=ot[14]=ot[15]=0),o)if(ARRAY_BUFFER)for(rt=this.start;nt<it&&rt<64;++nt)st[rt++]=s[nt];else for(rt=this.start;nt<it&&rt<64;++nt)ot[rt>>2]|=s[nt]<<SHIFT[rt++&3];else if(ARRAY_BUFFER)for(rt=this.start;nt<it&&rt<64;++nt)tt=s.charCodeAt(nt),tt<128?st[rt++]=tt:tt<2048?(st[rt++]=192|tt>>6,st[rt++]=128|tt&63):tt<55296||tt>=57344?(st[rt++]=224|tt>>12,st[rt++]=128|tt>>6&63,st[rt++]=128|tt&63):(tt=65536+((tt&1023)<<10|s.charCodeAt(++nt)&1023),st[rt++]=240|tt>>18,st[rt++]=128|tt>>12&63,st[rt++]=128|tt>>6&63,st[rt++]=128|tt&63);else for(rt=this.start;nt<it&&rt<64;++nt)tt=s.charCodeAt(nt),tt<128?ot[rt>>2]|=tt<<SHIFT[rt++&3]:tt<2048?(ot[rt>>2]|=(192|tt>>6)<<SHIFT[rt++&3],ot[rt>>2]|=(128|tt&63)<<SHIFT[rt++&3]):tt<55296||tt>=57344?(ot[rt>>2]|=(224|tt>>12)<<SHIFT[rt++&3],ot[rt>>2]|=(128|tt>>6&63)<<SHIFT[rt++&3],ot[rt>>2]|=(128|tt&63)<<SHIFT[rt++&3]):(tt=65536+((tt&1023)<<10|s.charCodeAt(++nt)&1023),ot[rt>>2]|=(240|tt>>18)<<SHIFT[rt++&3],ot[rt>>2]|=(128|tt>>12&63)<<SHIFT[rt++&3],ot[rt>>2]|=(128|tt>>6&63)<<SHIFT[rt++&3],ot[rt>>2]|=(128|tt&63)<<SHIFT[rt++&3]);this.lastByteIndex=rt,this.bytes+=rt-this.start,rt>=64?(this.start=rt-64,this.hash(),this.hashed=!0):this.start=rt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,o=this.lastByteIndex;s[o>>2]|=EXTRA[o&3],o>=56&&(this.hashed||this.hash(),s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.bytes<<3,s[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var s,o,et,tt,nt,rt,it=this.blocks;this.first?(s=it[0]-680876937,s=(s<<7|s>>>25)-271733879<<0,tt=(-1732584194^s&2004318071)+it[1]-117830708,tt=(tt<<12|tt>>>20)+s<<0,et=(-271733879^tt&(s^-271733879))+it[2]-1126478375,et=(et<<17|et>>>15)+tt<<0,o=(s^et&(tt^s))+it[3]-1316259209,o=(o<<22|o>>>10)+et<<0):(s=this.h0,o=this.h1,et=this.h2,tt=this.h3,s+=(tt^o&(et^tt))+it[0]-680876936,s=(s<<7|s>>>25)+o<<0,tt+=(et^s&(o^et))+it[1]-389564586,tt=(tt<<12|tt>>>20)+s<<0,et+=(o^tt&(s^o))+it[2]+606105819,et=(et<<17|et>>>15)+tt<<0,o+=(s^et&(tt^s))+it[3]-1044525330,o=(o<<22|o>>>10)+et<<0),s+=(tt^o&(et^tt))+it[4]-176418897,s=(s<<7|s>>>25)+o<<0,tt+=(et^s&(o^et))+it[5]+1200080426,tt=(tt<<12|tt>>>20)+s<<0,et+=(o^tt&(s^o))+it[6]-1473231341,et=(et<<17|et>>>15)+tt<<0,o+=(s^et&(tt^s))+it[7]-45705983,o=(o<<22|o>>>10)+et<<0,s+=(tt^o&(et^tt))+it[8]+1770035416,s=(s<<7|s>>>25)+o<<0,tt+=(et^s&(o^et))+it[9]-1958414417,tt=(tt<<12|tt>>>20)+s<<0,et+=(o^tt&(s^o))+it[10]-42063,et=(et<<17|et>>>15)+tt<<0,o+=(s^et&(tt^s))+it[11]-1990404162,o=(o<<22|o>>>10)+et<<0,s+=(tt^o&(et^tt))+it[12]+1804603682,s=(s<<7|s>>>25)+o<<0,tt+=(et^s&(o^et))+it[13]-40341101,tt=(tt<<12|tt>>>20)+s<<0,et+=(o^tt&(s^o))+it[14]-1502002290,et=(et<<17|et>>>15)+tt<<0,o+=(s^et&(tt^s))+it[15]+1236535329,o=(o<<22|o>>>10)+et<<0,s+=(et^tt&(o^et))+it[1]-165796510,s=(s<<5|s>>>27)+o<<0,tt+=(o^et&(s^o))+it[6]-1069501632,tt=(tt<<9|tt>>>23)+s<<0,et+=(s^o&(tt^s))+it[11]+643717713,et=(et<<14|et>>>18)+tt<<0,o+=(tt^s&(et^tt))+it[0]-373897302,o=(o<<20|o>>>12)+et<<0,s+=(et^tt&(o^et))+it[5]-701558691,s=(s<<5|s>>>27)+o<<0,tt+=(o^et&(s^o))+it[10]+38016083,tt=(tt<<9|tt>>>23)+s<<0,et+=(s^o&(tt^s))+it[15]-660478335,et=(et<<14|et>>>18)+tt<<0,o+=(tt^s&(et^tt))+it[4]-405537848,o=(o<<20|o>>>12)+et<<0,s+=(et^tt&(o^et))+it[9]+568446438,s=(s<<5|s>>>27)+o<<0,tt+=(o^et&(s^o))+it[14]-1019803690,tt=(tt<<9|tt>>>23)+s<<0,et+=(s^o&(tt^s))+it[3]-187363961,et=(et<<14|et>>>18)+tt<<0,o+=(tt^s&(et^tt))+it[8]+1163531501,o=(o<<20|o>>>12)+et<<0,s+=(et^tt&(o^et))+it[13]-1444681467,s=(s<<5|s>>>27)+o<<0,tt+=(o^et&(s^o))+it[2]-51403784,tt=(tt<<9|tt>>>23)+s<<0,et+=(s^o&(tt^s))+it[7]+1735328473,et=(et<<14|et>>>18)+tt<<0,o+=(tt^s&(et^tt))+it[12]-1926607734,o=(o<<20|o>>>12)+et<<0,nt=o^et,s+=(nt^tt)+it[5]-378558,s=(s<<4|s>>>28)+o<<0,tt+=(nt^s)+it[8]-2022574463,tt=(tt<<11|tt>>>21)+s<<0,rt=tt^s,et+=(rt^o)+it[11]+1839030562,et=(et<<16|et>>>16)+tt<<0,o+=(rt^et)+it[14]-35309556,o=(o<<23|o>>>9)+et<<0,nt=o^et,s+=(nt^tt)+it[1]-1530992060,s=(s<<4|s>>>28)+o<<0,tt+=(nt^s)+it[4]+1272893353,tt=(tt<<11|tt>>>21)+s<<0,rt=tt^s,et+=(rt^o)+it[7]-155497632,et=(et<<16|et>>>16)+tt<<0,o+=(rt^et)+it[10]-1094730640,o=(o<<23|o>>>9)+et<<0,nt=o^et,s+=(nt^tt)+it[13]+681279174,s=(s<<4|s>>>28)+o<<0,tt+=(nt^s)+it[0]-358537222,tt=(tt<<11|tt>>>21)+s<<0,rt=tt^s,et+=(rt^o)+it[3]-722521979,et=(et<<16|et>>>16)+tt<<0,o+=(rt^et)+it[6]+76029189,o=(o<<23|o>>>9)+et<<0,nt=o^et,s+=(nt^tt)+it[9]-640364487,s=(s<<4|s>>>28)+o<<0,tt+=(nt^s)+it[12]-421815835,tt=(tt<<11|tt>>>21)+s<<0,rt=tt^s,et+=(rt^o)+it[15]+530742520,et=(et<<16|et>>>16)+tt<<0,o+=(rt^et)+it[2]-995338651,o=(o<<23|o>>>9)+et<<0,s+=(et^(o|~tt))+it[0]-198630844,s=(s<<6|s>>>26)+o<<0,tt+=(o^(s|~et))+it[7]+1126891415,tt=(tt<<10|tt>>>22)+s<<0,et+=(s^(tt|~o))+it[14]-1416354905,et=(et<<15|et>>>17)+tt<<0,o+=(tt^(et|~s))+it[5]-57434055,o=(o<<21|o>>>11)+et<<0,s+=(et^(o|~tt))+it[12]+1700485571,s=(s<<6|s>>>26)+o<<0,tt+=(o^(s|~et))+it[3]-1894986606,tt=(tt<<10|tt>>>22)+s<<0,et+=(s^(tt|~o))+it[10]-1051523,et=(et<<15|et>>>17)+tt<<0,o+=(tt^(et|~s))+it[1]-2054922799,o=(o<<21|o>>>11)+et<<0,s+=(et^(o|~tt))+it[8]+1873313359,s=(s<<6|s>>>26)+o<<0,tt+=(o^(s|~et))+it[15]-30611744,tt=(tt<<10|tt>>>22)+s<<0,et+=(s^(tt|~o))+it[6]-1560198380,et=(et<<15|et>>>17)+tt<<0,o+=(tt^(et|~s))+it[13]+1309151649,o=(o<<21|o>>>11)+et<<0,s+=(et^(o|~tt))+it[4]-145523070,s=(s<<6|s>>>26)+o<<0,tt+=(o^(s|~et))+it[11]-1120210379,tt=(tt<<10|tt>>>22)+s<<0,et+=(s^(tt|~o))+it[2]+718787259,et=(et<<15|et>>>17)+tt<<0,o+=(tt^(et|~s))+it[9]-343485551,o=(o<<21|o>>>11)+et<<0,this.first?(this.h0=s+1732584193<<0,this.h1=o-271733879<<0,this.h2=et-1732584194<<0,this.h3=tt+271733878<<0,this.first=!1):(this.h0=this.h0+s<<0,this.h1=this.h1+o<<0,this.h2=this.h2+et<<0,this.h3=this.h3+tt<<0)},Md5.prototype.hex=function(){this.finalize();var s=this.h0,o=this.h1,et=this.h2,tt=this.h3;return HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[et>>4&15]+HEX_CHARS[et&15]+HEX_CHARS[et>>12&15]+HEX_CHARS[et>>8&15]+HEX_CHARS[et>>20&15]+HEX_CHARS[et>>16&15]+HEX_CHARS[et>>28&15]+HEX_CHARS[et>>24&15]+HEX_CHARS[tt>>4&15]+HEX_CHARS[tt&15]+HEX_CHARS[tt>>12&15]+HEX_CHARS[tt>>8&15]+HEX_CHARS[tt>>20&15]+HEX_CHARS[tt>>16&15]+HEX_CHARS[tt>>28&15]+HEX_CHARS[tt>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var s=this.h0,o=this.h1,et=this.h2,tt=this.h3;return[s&255,s>>8&255,s>>16&255,s>>24&255,o&255,o>>8&255,o>>16&255,o>>24&255,et&255,et>>8&255,et>>16&255,et>>24&255,tt&255,tt>>8&255,tt>>16&255,tt>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(16),o=new Uint32Array(s);return o[0]=this.h0,o[1]=this.h1,o[2]=this.h2,o[3]=this.h3,s},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var s,o,et,tt="",nt=this.array(),rt=0;rt<15;)s=nt[rt++],o=nt[rt++],et=nt[rt++],tt+=BASE64_ENCODE_CHAR[s>>>2]+BASE64_ENCODE_CHAR[(s<<4|o>>>4)&63]+BASE64_ENCODE_CHAR[(o<<2|et>>>6)&63]+BASE64_ENCODE_CHAR[et&63];return s=nt[rt],tt+=BASE64_ENCODE_CHAR[s>>>2]+BASE64_ENCODE_CHAR[s<<4&63]+"==",tt};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports})()})(md5$1);var md5Exports=md5$1.exports,sha1$1={exports:{}};/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var root=typeof window=="object"?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS&&(root=commonjsGlobal$1);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&!0&&module.exports,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(s){return function(o){return new Sha1(!0).update(o)[s]()}},createMethod=function(){var s=createOutputMethod("hex");NODE_JS&&(s=nodeWrap(s)),s.create=function(){return new Sha1},s.update=function(tt){return s.create().update(tt)};for(var o=0;o<OUTPUT_TYPES.length;++o){var et=OUTPUT_TYPES[o];s[et]=createOutputMethod(et)}return s},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(s){if(typeof s=="string")return crypto.createHash("sha1").update(s,"utf8").digest("hex");if(s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(s.length===void 0)return method(s);return crypto.createHash("sha1").update(new Buffer(s)).digest("hex")};return nodeMethod};function Sha1(s){s?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(s){if(!this.finalized){var o=typeof s!="string";o&&s.constructor===root.ArrayBuffer&&(s=new Uint8Array(s));for(var et,tt=0,nt,rt=s.length||0,it=this.blocks;tt<rt;){if(this.hashed&&(this.hashed=!1,it[0]=this.block,it[16]=it[1]=it[2]=it[3]=it[4]=it[5]=it[6]=it[7]=it[8]=it[9]=it[10]=it[11]=it[12]=it[13]=it[14]=it[15]=0),o)for(nt=this.start;tt<rt&&nt<64;++tt)it[nt>>2]|=s[tt]<<SHIFT[nt++&3];else for(nt=this.start;tt<rt&&nt<64;++tt)et=s.charCodeAt(tt),et<128?it[nt>>2]|=et<<SHIFT[nt++&3]:et<2048?(it[nt>>2]|=(192|et>>6)<<SHIFT[nt++&3],it[nt>>2]|=(128|et&63)<<SHIFT[nt++&3]):et<55296||et>=57344?(it[nt>>2]|=(224|et>>12)<<SHIFT[nt++&3],it[nt>>2]|=(128|et>>6&63)<<SHIFT[nt++&3],it[nt>>2]|=(128|et&63)<<SHIFT[nt++&3]):(et=65536+((et&1023)<<10|s.charCodeAt(++tt)&1023),it[nt>>2]|=(240|et>>18)<<SHIFT[nt++&3],it[nt>>2]|=(128|et>>12&63)<<SHIFT[nt++&3],it[nt>>2]|=(128|et>>6&63)<<SHIFT[nt++&3],it[nt>>2]|=(128|et&63)<<SHIFT[nt++&3]);this.lastByteIndex=nt,this.bytes+=nt-this.start,nt>=64?(this.block=it[16],this.start=nt-64,this.hash(),this.hashed=!0):this.start=nt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,o=this.lastByteIndex;s[16]=this.block,s[o>>2]|=EXTRA[o&3],this.block=s[16],o>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var s=this.h0,o=this.h1,et=this.h2,tt=this.h3,nt=this.h4,rt,it,ot,st=this.blocks;for(it=16;it<80;++it)ot=st[it-3]^st[it-8]^st[it-14]^st[it-16],st[it]=ot<<1|ot>>>31;for(it=0;it<20;it+=5)rt=o&et|~o&tt,ot=s<<5|s>>>27,nt=ot+rt+nt+1518500249+st[it]<<0,o=o<<30|o>>>2,rt=s&o|~s&et,ot=nt<<5|nt>>>27,tt=ot+rt+tt+1518500249+st[it+1]<<0,s=s<<30|s>>>2,rt=nt&s|~nt&o,ot=tt<<5|tt>>>27,et=ot+rt+et+1518500249+st[it+2]<<0,nt=nt<<30|nt>>>2,rt=tt&nt|~tt&s,ot=et<<5|et>>>27,o=ot+rt+o+1518500249+st[it+3]<<0,tt=tt<<30|tt>>>2,rt=et&tt|~et&nt,ot=o<<5|o>>>27,s=ot+rt+s+1518500249+st[it+4]<<0,et=et<<30|et>>>2;for(;it<40;it+=5)rt=o^et^tt,ot=s<<5|s>>>27,nt=ot+rt+nt+1859775393+st[it]<<0,o=o<<30|o>>>2,rt=s^o^et,ot=nt<<5|nt>>>27,tt=ot+rt+tt+1859775393+st[it+1]<<0,s=s<<30|s>>>2,rt=nt^s^o,ot=tt<<5|tt>>>27,et=ot+rt+et+1859775393+st[it+2]<<0,nt=nt<<30|nt>>>2,rt=tt^nt^s,ot=et<<5|et>>>27,o=ot+rt+o+1859775393+st[it+3]<<0,tt=tt<<30|tt>>>2,rt=et^tt^nt,ot=o<<5|o>>>27,s=ot+rt+s+1859775393+st[it+4]<<0,et=et<<30|et>>>2;for(;it<60;it+=5)rt=o&et|o&tt|et&tt,ot=s<<5|s>>>27,nt=ot+rt+nt-1894007588+st[it]<<0,o=o<<30|o>>>2,rt=s&o|s&et|o&et,ot=nt<<5|nt>>>27,tt=ot+rt+tt-1894007588+st[it+1]<<0,s=s<<30|s>>>2,rt=nt&s|nt&o|s&o,ot=tt<<5|tt>>>27,et=ot+rt+et-1894007588+st[it+2]<<0,nt=nt<<30|nt>>>2,rt=tt&nt|tt&s|nt&s,ot=et<<5|et>>>27,o=ot+rt+o-1894007588+st[it+3]<<0,tt=tt<<30|tt>>>2,rt=et&tt|et&nt|tt&nt,ot=o<<5|o>>>27,s=ot+rt+s-1894007588+st[it+4]<<0,et=et<<30|et>>>2;for(;it<80;it+=5)rt=o^et^tt,ot=s<<5|s>>>27,nt=ot+rt+nt-899497514+st[it]<<0,o=o<<30|o>>>2,rt=s^o^et,ot=nt<<5|nt>>>27,tt=ot+rt+tt-899497514+st[it+1]<<0,s=s<<30|s>>>2,rt=nt^s^o,ot=tt<<5|tt>>>27,et=ot+rt+et-899497514+st[it+2]<<0,nt=nt<<30|nt>>>2,rt=tt^nt^s,ot=et<<5|et>>>27,o=ot+rt+o-899497514+st[it+3]<<0,tt=tt<<30|tt>>>2,rt=et^tt^nt,ot=o<<5|o>>>27,s=ot+rt+s-899497514+st[it+4]<<0,et=et<<30|et>>>2;this.h0=this.h0+s<<0,this.h1=this.h1+o<<0,this.h2=this.h2+et<<0,this.h3=this.h3+tt<<0,this.h4=this.h4+nt<<0},Sha1.prototype.hex=function(){this.finalize();var s=this.h0,o=this.h1,et=this.h2,tt=this.h3,nt=this.h4;return HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[et>>28&15]+HEX_CHARS[et>>24&15]+HEX_CHARS[et>>20&15]+HEX_CHARS[et>>16&15]+HEX_CHARS[et>>12&15]+HEX_CHARS[et>>8&15]+HEX_CHARS[et>>4&15]+HEX_CHARS[et&15]+HEX_CHARS[tt>>28&15]+HEX_CHARS[tt>>24&15]+HEX_CHARS[tt>>20&15]+HEX_CHARS[tt>>16&15]+HEX_CHARS[tt>>12&15]+HEX_CHARS[tt>>8&15]+HEX_CHARS[tt>>4&15]+HEX_CHARS[tt&15]+HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var s=this.h0,o=this.h1,et=this.h2,tt=this.h3,nt=this.h4;return[s>>24&255,s>>16&255,s>>8&255,s&255,o>>24&255,o>>16&255,o>>8&255,o&255,et>>24&255,et>>16&255,et>>8&255,et&255,tt>>24&255,tt>>16&255,tt>>8&255,tt&255,nt>>24&255,nt>>16&255,nt>>8&255,nt&255]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(20),o=new DataView(s);return o.setUint32(0,this.h0),o.setUint32(4,this.h1),o.setUint32(8,this.h2),o.setUint32(12,this.h3),o.setUint32(16,this.h4),s};var exports=createMethod();COMMON_JS?module.exports=exports:root.sha1=exports})()})(sha1$1);var sha1Exports=sha1$1.exports,md5=md5Exports,sha1=sha1Exports,HEX_DIGITS="0123456789abcdef".split(""),UUID_LENGTH=36,UUID_REGEXP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,HEX_TO_BYTE_MAP=function(){for(var s={},o=0;o<256;o++){var et=o.toString(16);s[et.length===1?"0"+et:et]=o}return s}(),uint8ToHex=function(s){var o=s>>4,et=s-(o<<4);return HEX_DIGITS[o]+HEX_DIGITS[et]},uint8ArrayToHex=function(s){for(var o="",et=0;et<s.length;et++)o+=uint8ToHex(s[et]);return o},stringToCharBuffer=function(s){for(var o=unescape(encodeURIComponent(s)),et=new Uint8Array(o.length),tt=0;tt<o.length;tt++)et[tt]=o[tt].charCodeAt(0);return et},md5Hash=function(s){return new Uint8Array(md5.arrayBuffer(s))},sha1Hash=function(s){return new Uint8Array(sha1.arrayBuffer(s))},concatBuffers=function(s,o){var et=new Uint8Array(s.length+o.length);return et.set(new Uint8Array(s),0),et.set(new Uint8Array(o),s.byteLength),et},validateUuid=function(s){return typeof s=="string"&&s.length===UUID_LENGTH&&UUID_REGEXP.test(s)},parseUuid=function(s){if(!validateUuid(s))throw TypeError("Invalid UUID");for(var o=new Uint8Array(16),et=0,tt=0;et<s.length;){if(s[et]==="-"){et++;continue}var nt=(s[et]+s[et+1]).toLowerCase();o[tt]=HEX_TO_BYTE_MAP[nt],tt++,et+=2}return o},hashToUuid=function(s,o){return uint8ArrayToHex(s.slice(0,4))+"-"+uint8ArrayToHex(s.slice(4,6))+"-"+uint8ToHex(s[6]&15|parseInt(o*10,16))+uint8ToHex(s[7])+"-"+uint8ToHex(s[8]&63|128)+uint8ToHex(s[9])+"-"+uint8ArrayToHex(s.slice(10,16))},lib$1={uint8ToHex,uint8ArrayToHex,stringToCharBuffer,md5Hash,sha1Hash,concatBuffers,validateUuid,parseUuid,hashToUuid},lib=lib$1,EMPTY_UINT8_ARRAY=new Uint8Array(0);function generateUuid(s,o,et){if(typeof s!="string")throw TypeError("Value must be string");if(typeof o=="number")return generateUuid(s,void 0,o);if(et==null)return generateUuid(s,o,5);if(et!==3&&et!==5)throw TypeError("Version of UUID can be only 3 or 5");var tt=lib.stringToCharBuffer(s),nt=typeof o=="string"?lib.parseUuid(o):EMPTY_UINT8_ARRAY,rt=lib.concatBuffers(nt,tt),it=et===3?lib.md5Hash(rt):lib.sha1Hash(rt);return lib.hashToUuid(it,et)}var src=generateUuid;const getUuidByString=getDefaultExportFromCjs$1(src);function transformMatrix({translation:s,rotation:o}){const et=({x:nt,y:rt,z:it})=>new Vector3(nt,rt,it),tt=({x:nt,y:rt,z:it,w:ot})=>new Quaternion(nt,rt,it,ot);return new Matrix4().multiply(new Matrix4().setPosition(et(s))).multiply(new Matrix4().makeRotationFromQuaternion(tt(o)))}class PathGeometry extends BufferGeometry{constructor(o,et,tt=200){super();const nt=tt*10,rt=4,it=nt+1,ot=rt+1,st=nt*rt*2,at=it*ot,lt=new Uint32Array(st*3),ct=new Float32Array(at*3);var ut=new CatmullRomCurve3(o);const dt=ut.getPoints(nt);let ht=0;for(var pt=0;pt<nt;pt++)for(var gt=0;gt<rt;gt++){const Et=ot*pt+gt,wt=ot*(pt+1)+gt,It=ot*(pt+1)+1+gt,St=ot*(pt+1)+1+gt,Rt=ot*pt+1+gt;lt[ht]=Et,lt[ht+1]=wt,lt[ht+2]=It,lt[ht+3]=Et,lt[ht+4]=St,lt[ht+5]=Rt,this.addGroup(ht,6,gt),ht+=6}const ft=new Vector3(0,0,0),yt=new Vector3(0,0,-1);let mt=0,Ft=0;const vt=[-et/2,-et/2+et/60,-et/120,et/120,et/2-et/60,et/2];for(var pt=0;pt<it;pt++)for(var gt=0;gt<ot;gt++){const It=ut.getTangent(pt/nt);ft.crossVectors(It,yt),yt.crossVectors(ft,It),ft.normalize();const St=dt[pt].x+vt[gt]*ft.x,Rt=dt[pt].y+vt[gt]*ft.y,Tt=dt[pt].z;Ft=mt*3,ct[Ft]=St,ct[Ft+1]=Rt,ct[Ft+2]=Tt,mt++}this.setAttribute("position",new BufferAttribute(ct,3)),this.setIndex(new BufferAttribute(lt,1)),this.computeVertexNormals()}}var PathType=(s=>(s.STATIC="Static",s.DYNAMIC="Dynamic",s))(PathType||{}),PROPERTY_TYPE=(s=>(s.FLOAT="Float",s.INTEGER="Integer",s.BOOLEAN="Boolean",s.STRING="String",s.ENUM="Enum",s.MEATADATA="Metadata",s))(PROPERTY_TYPE||{}),SENDING_STATUS=(s=>(s.NONE="not sent yet",s.WAITING="waiting",s.SUCCESS="sucess",s.FAIL="fail",s))(SENDING_STATUS||{});extend({PathGeometry});const Path=({points:s,color:o="#0000ff",pathOpacity:et=50,pathWidth:tt=.25,pathType:nt=PathType.STATIC,pathFlatten:rt=!1,renderOrder:it=0})=>{const ot=reactExports.useRef(null);reactExports.useEffect(()=>{if(!ot.current)return;const at=ot.current;at.matrixAutoUpdate=!1},[]);const st=rt?s.map(at=>at.setZ(0)):s;return jsx("group",{ref:ot,children:s.length>1&&jsx(Fragment,{children:nt===PathType.STATIC?jsxs("mesh",{renderOrder:it,children:[jsx("pathGeometry",{args:[st,tt,s.length]}),jsx("meshBasicMaterial",{transparent:!0,opacity:et/100,color:o,side:DoubleSide,depthWrite:!1})]}):jsx(Line,{points:st,lineWidth:18,color:o,worldUnits:!1,renderOrder:it})})})},millisecond$1=1,second$1=1e3,minute$1=60*second$1,hour$1=60*minute$1,day$1=24*hour$1,week$1=7*day$1,month$1=30*day$1,year$1=365*day$1,duration$1={millisecond:millisecond$1,second:second$1,minute:minute$1,hour:hour$1,day:day$1,week:week$1,month:month$1,year:year$1};function findPathToName(s,o,et){const tt=et||[];for(let nt=0;nt<s.length;nt+=1)if(s[nt].name===o)return tt.push(nt),tt;for(let nt=0;nt<s.length;nt+=1){const{children:rt}=s[nt];if(rt&&rt.length>0){const it=findPathToName(rt,o,[...tt,nt]);if(it.length>0)return it}}return[]}function buildTransformList(s,o,et){const tt=et||[],nt=o.shift();if(nt===void 0)return tt;const rt=s[nt],it=defined$1(rt.transform).translation,{rotation:ot}=defined$1(rt.transform);return tt.push({pos:new Vector3(it.x,it.y,it.z),rotation:new Quaternion(ot.x,ot.y,ot.z,ot.w)}),rt.children?buildTransformList(rt.children,o,tt):tt}function DataVisualizationLayer(s){const[o,et]=reactExports.useState(),[tt,nt]=reactExports.useState(void 0),[rt,it]=reactExports.useContext(UniverseDataContext),{register:ot,layers:st,debug:at}=reactExports.useContext(UIDataContext),lt=reactExports.useContext(LayerContext);let ct;lt&&(ct=lt.deviceId);const{children:ut,positioning:dt,visible:ht,name:pt,id:gt,treePath:ft,type:yt,iconUrl:mt,trailEnabled:Ft,trailFlatten:vt,trailOpacity:Et,trailSeconds:wt=15,trailType:It,trailWidth:St}=s,[Rt,Tt]=reactExports.useState([]),bt=reactExports.useRef(null),xt=reactExports.useRef(at?new Box3:null),Bt=reactExports.useRef("yellow");return useHelper(xt,Box3Helper,Bt.current),reactExports.useEffect(()=>{const Ct=gt||getUuidByString(JSON.stringify({name:pt,type:yt,treePath:ft})),Mt=ot(pt||"Layer",Ct,yt||LayerType.OTHER,mt,ft,ht);nt(Mt)},[]),reactExports.useEffect(()=>{const Ct=dt||PositioningBuilder.fixed(0,0,0);if(bt.current){const Mt=bt.current;if(o&&(o(),et(void 0)),Ct.type==="cartesian"){const{x:Nt,y:At,z:Ot}=Ct;Mt.position.set(Nt,At,Ot)}else if(Ct.type==="gps"){const Nt=rt.subscribeToLocation(defined$1(ct,"gps positioning requires a device id"),DataSourceBuilder.telemetry(Ct.stream,"location"),At=>{if(typeof At=="symbol")return;const Ot=At,Vt={longitude:Ot.longitude,latitude:Ot.latitude},Wt={longitude:Ct.relativeToLongitude,latitude:Ot.latitude};let Jt=es.getDistance(Vt,Wt,1e-6);const qt={longitude:Ot.longitude,latitude:Ot.latitude},Ht={longitude:Ot.longitude,latitude:Ct.relativeToLatitude};let Xt=es.getDistance(qt,Ht,1e-6);Ot.latitude<Ct.relativeToLatitude&&(Xt*=-1),Ot.longitude<Ct.relativeToLongitude&&(Jt*=-1);const Lt=new Euler(0,0,Ot.orientation),Pt=new Quaternion;Pt.setFromEuler(Lt),Mt.matrix=new Matrix4().compose(new Vector3(Jt,Xt,Ot.altitude||0),Pt,new Vector3(1,1,1)),Mt.matrixAutoUpdate=!1});et(()=>Nt)}else if(Ct.type==="odometry"){let Nt,At;if(Ct.rtcStream)Nt=DataSourceBuilder.realtime(Ct.rtcStream,"json"),At="rtc";else if(Ct.stream)Nt=DataSourceBuilder.telemetry(Ct.stream,void 0,Ct.useLatestDataPoint||!1),At="telemetry";else throw new Error("invalid odometry positioning stream type");const Ot=(At==="rtc"?it:rt).subscribeToOdometry(defined$1(ct,"odometry positioning requires a device id"),Nt,Vt=>{if(typeof Vt=="symbol")return;const Wt=Vt,Jt=Wt.pose.translation,qt=Wt.pose.rotation;if(Wt.trail&&Ft){const Ht=Wt.trail.map(Xt=>[Xt[0],new Vector3(Xt[1].translation.x,Xt[1].translation.y,Xt[1].translation.z)]);Tt(Ht)}else if(Ft){const Ht=[rt.getTimeMs(),new Vector3(Jt.x,Jt.y,Jt.z)];Tt(Xt=>[...Xt.filter(Lt=>rt.getTimeMs()-Lt[0]<wt*duration$1.second),Ht])}if(Mt.position.set(Jt.x,Jt.y,Jt.z),Mt.setRotationFromQuaternion(new Quaternion(qt.x,qt.y,qt.z,qt.w)),Ct.useWorldToLocalTransform&&Wt.worldToLocal){const Ht=transformMatrix(Wt.worldToLocal);Mt.matrix.copy(Ht)}},Ft?wt:0);et(()=>Ot)}else if(Ct.type==="transform tree"){const Nt=rt.subscribeToTransformTree(defined$1(ct,"transform tree positioning requires a device id"),DataSourceBuilder.telemetry(Ct.stream,"transform tree"),At=>{if(typeof At=="symbol")return;fetch(defined$1(At.url)).then(Vt=>Vt.json()).then(Vt=>{const Wt=findPathToName([Vt],defined$1(Ct.end)),Ht=buildTransformList([Vt],Wt).map(Xt=>new Matrix4().compose(new Vector3(Xt.pos.x,Xt.pos.y,Xt.pos.z),Xt.rotation,new Vector3(1,1,1))).reduce((Xt,Lt)=>Xt.multiply(Lt),new Matrix4);Mt.matrix=Ht,Mt.matrixAutoUpdate=!1}).catch(Vt=>{throw Vt})});et(()=>Nt)}}return()=>{o&&(o(),et(void 0))}},[bt,dt,tt]),useFrame(()=>{if(bt.current&&at){const Ct=xt.current,Mt=bt.current;Ct.setFromObject(Mt)}}),reactExports.useEffect(()=>{tt&&bt.current&&nt({...tt,visible:bt.current.visible})},[bt.current?.visible]),jsxs(Fragment,{children:[jsx("group",{ref:bt,visible:tt?tt.visible:!0,name:tt?tt.id:"",userData:{name:tt?.name},children:ut}),tt&&tt.visible&&jsx(Path,{points:Rt.map(Ct=>Ct[1]),color:FormantColors.blue,pathOpacity:Et,pathWidth:St,pathType:It,pathFlatten:vt,renderOrder:2})]})}const EmptyLayer=s=>{const{children:o,name:et,id:tt,treePath:nt,type:rt}=s;return jsx(DataVisualizationLayer,{...s,type:LayerType.CONTAINER,children:o})};function mergeGeometries(s,o=!1){const et=s[0].index!==null,tt=new Set(Object.keys(s[0].attributes)),nt=new Set(Object.keys(s[0].morphAttributes)),rt={},it={},ot=s[0].morphTargetsRelative,st=new BufferGeometry;let at=0;for(let lt=0;lt<s.length;++lt){const ct=s[lt];let ut=0;if(et!==(ct.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+lt+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const dt in ct.attributes){if(!tt.has(dt))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+lt+'. All geometries must have compatible attributes; make sure "'+dt+'" attribute exists among all geometries, or in none of them.'),null;rt[dt]===void 0&&(rt[dt]=[]),rt[dt].push(ct.attributes[dt]),ut++}if(ut!==tt.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+lt+". Make sure all geometries have the same number of attributes."),null;if(ot!==ct.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+lt+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const dt in ct.morphAttributes){if(!nt.has(dt))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+lt+".  .morphAttributes must be consistent throughout all geometries."),null;it[dt]===void 0&&(it[dt]=[]),it[dt].push(ct.morphAttributes[dt])}if(o){let dt;if(et)dt=ct.index.count;else if(ct.attributes.position!==void 0)dt=ct.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+lt+". The geometry must have either an index or a position attribute"),null;st.addGroup(at,dt,lt),at+=dt}}if(et){let lt=0;const ct=[];for(let ut=0;ut<s.length;++ut){const dt=s[ut].index;for(let ht=0;ht<dt.count;++ht)ct.push(dt.getX(ht)+lt);lt+=s[ut].attributes.position.count}st.setIndex(ct)}for(const lt in rt){const ct=mergeAttributes(rt[lt]);if(!ct)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+lt+" attribute."),null;st.setAttribute(lt,ct)}for(const lt in it){const ct=it[lt][0].length;if(ct===0)break;st.morphAttributes=st.morphAttributes||{},st.morphAttributes[lt]=[];for(let ut=0;ut<ct;++ut){const dt=[];for(let pt=0;pt<it[lt].length;++pt)dt.push(it[lt][pt][ut]);const ht=mergeAttributes(dt);if(!ht)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+lt+" morphAttribute."),null;st.morphAttributes[lt].push(ht)}}return st}function mergeAttributes(s){let o,et,tt,nt=-1,rt=0;for(let at=0;at<s.length;++at){const lt=s[at];if(o===void 0&&(o=lt.array.constructor),o!==lt.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(et===void 0&&(et=lt.itemSize),et!==lt.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(tt===void 0&&(tt=lt.normalized),tt!==lt.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(nt===-1&&(nt=lt.gpuType),nt!==lt.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;rt+=lt.count*et}const it=new o(rt),ot=new BufferAttribute(it,et,tt);let st=0;for(let at=0;at<s.length;++at){const lt=s[at];if(lt.isInterleavedBufferAttribute){const ct=st/et;for(let ut=0,dt=lt.count;ut<dt;ut++)for(let ht=0;ht<et;ht++){const pt=lt.getComponent(ut,ht);ot.setComponent(ut+ct,ht,pt)}}else it.set(lt.array,st);st+=lt.count*et}return nt!==void 0&&(ot.gpuType=nt),ot}function reifyVector3(s){s.x===void 0&&(s.x=0),s.y===void 0&&(s.y=0),s.z===void 0&&(s.z=0)}function reifyQuaternion(s){s.x===void 0&&(s.x=0),s.y===void 0&&(s.y=0),s.z===void 0&&(s.z=0),s.w===void 0&&(s.w=1)}function reifyColor(s){s.r===void 0&&(s.r=0),s.g===void 0&&(s.g=0),s.b===void 0&&(s.b=0),s.a===void 0&&(s.a=1)}class GeometryWorld{geometry=new Map;deleteAll(){this.geometry=new Map}processMarkers(o){o.markers.forEach(et=>{let tt=this.geometry.get(et.ns);tt===void 0&&(tt=new Map,this.geometry.set(et.ns,tt));const{action:nt,type:rt}=et,it=nt===2,ot=nt===3;if(ot)this.geometry=new Map;else{et.id===void 0&&(et.id=0),reifyVector3(et.pose.position),reifyQuaternion(et.pose.orientation),reifyVector3(et.scale),reifyColor(et.color),et.points&&et.points.forEach(lt=>{reifyVector3(lt)});const at={0:"arrow",1:"cube",2:"sphere",3:"cylinder",4:"line_strip",5:"line_list",6:"cube_list",7:"sphere_list",8:"points",9:"text",10:"mesh_resource",11:"triangle_list"}[rt];if(at==="mesh_resource"){console.warn("Mesh resource markers are not supported");return}if(at&&!ot){const lt={id:`${et.ns}_${et.id}`,type:at,position:et.pose.position,rotation:et.pose.orientation,scale:et.scale,color:et.color,dirty:!0};et.points&&(lt.points=et.points),et.text&&(lt.text=et.text),et.colors&&(lt.colors=et.colors),tt.set(et.id,lt),it&&tt.delete(et.id)}}})}getAllGeometry(){const o=[];return this.geometry.forEach(et=>{et.forEach(tt=>{o.push(tt)})}),o}}const MINIMUM_TIME_DIFFERENCE=12*duration$1.hour;function InstancedGeometry({instances:s,allowTransparency:o}){const et=reactExports.useRef(null),tt=reactExports.useRef(new Box3),nt=s[0].type,rt=reactExports.useRef(new Map),it=reactExports.useMemo(()=>new Object3D,[]);return reactExports.useLayoutEffect(()=>{et.current&&(tt.current.setFromCenterAndSize(new Vector3(s[0].position.x,s[0].position.y,s[0].position.z),new Vector3(.1,.1,.1)),et.current&&(s.forEach((ot,st)=>{const{position:at,rotation:lt,scale:ct,color:ut}=ot,dt=getUuidByString(`${ot.id}-${at.x}${at.y}${at.z}${lt.x}${lt.y}${lt.z}${lt.w}${ct.x}${ct.y}${ct.z}`);let ht=rt.current.get(dt);ht||(it.position.set(at.x,at.y,at.z),it.quaternion.set(lt.x,lt.y,lt.z,lt.w),it.scale.set(ct.x,ct.y,ct.z),tt.current.expandByPoint(it.position),it.updateMatrix(),ht=it.matrix.clone(),rt.current.set(dt,it.matrix.clone())),et.current.setMatrixAt(st,ht),et.current.setColorAt(st,new Color$1(ut.r,ut.g,ut.b))}),et.current.up=new Vector3(0,0,1),et.current.instanceMatrix.needsUpdate=!0,et.current.instanceColor&&(et.current.instanceColor.needsUpdate=!0)))},[et,s]),o?jsxs("group",{children:[s&&nt==="sphere"?s.map(ot=>jsx(Sphere,{args:[.5,32,16],scale:[ot.scale.x,ot.scale.y,ot.scale.z],position:[ot.position.x,ot.position.y,ot.position.z],quaternion:[ot.rotation.x,ot.rotation.y,ot.rotation.z,ot.rotation.w],children:jsx("meshLambertMaterial",{attach:"material",color:[ot.color.r,ot.color.g,ot.color.b],opacity:ot.color.a,transparent:ot.color.a<1})},ot.id)):null,s&&nt==="cube"?s.map(ot=>jsx(Box,{args:[.9,.9,.9],scale:[ot.scale.x,ot.scale.y,ot.scale.z],position:[ot.position.x,ot.position.y,ot.position.z],quaternion:[ot.rotation.x,ot.rotation.y,ot.rotation.z,ot.rotation.w],children:jsx("meshLambertMaterial",{attach:"material",color:[ot.color.r,ot.color.g,ot.color.b],opacity:ot.color.a,transparent:ot.color.a<1})},ot.id)):null]}):jsxs(Fragment,{children:[jsxs("instancedMesh",{ref:et,args:[null,null,s.length],up:new Vector3(0,0,1),children:[nt==="sphere"?jsx("sphereGeometry",{attach:"geometry",args:[.5,32,16]}):null,nt==="cube"?jsx("boxGeometry",{attach:"geometry",args:[.9,.9,.9]}):null,jsx("meshLambertMaterial",{attach:"material"})]}),jsx("box3Helper",{args:[tt.current],visible:!1})]})}function InstancedGeometryFromList({instances:s}){if(!s.points)return null;const o=reactExports.useRef(null),et=reactExports.useRef(new Box3),tt=s.type,nt=reactExports.useRef(new Map),rt=reactExports.useMemo(()=>new Object3D,[]);return reactExports.useLayoutEffect(()=>{if(s.points!==void 0&&o.current){et.current.setFromCenterAndSize(new Vector3(s.position.x,s.position.y,s.position.z),new Vector3(.1,.1,.1));const it=s.points,ot=s.position,st=s.colors,at=s.scale;it.map((lt,ct)=>{const ut=getUuidByString(`${ct}-${lt.x}${lt.y}${lt.z}`);let dt=nt.current.get(ut);dt||(rt.position.set(ot.x+lt.x,ot.y+lt.y,ot.z+lt.z),rt.scale.set(at.x,at.y,at.z),rt.updateMatrix(),dt=rt.matrix.clone(),nt.current.set(ut,rt.matrix.clone())),et.current.expandByPoint(rt.position),o.current&&(o.current.up=new Vector3(0,0,1),o.current.setMatrixAt(ct,dt),st&&st[ct]?o.current.setColorAt(ct,new Color$1(st[ct].r,st[ct].g,st[ct].b)):o.current.setColorAt(ct,new Color$1(s.color.r,s.color.g,s.color.b)))}),o.current&&(o.current.instanceMatrix.needsUpdate=!0,o.current.instanceColor&&(o.current.instanceColor.needsUpdate=!0))}},[o,s]),jsxs(Fragment,{children:[jsxs("instancedMesh",{ref:o,args:[null,null,s.points.length],up:new Vector3(0,0,1),children:[tt==="sphere_list"?jsx("sphereGeometry",{attach:"geometry",args:[.5,32,16]}):null,tt==="cube_list"?jsx("boxGeometry",{attach:"geometry",args:[.9,.9,.9]}):null,jsx("meshLambertMaterial",{attach:"material"})]}),jsx("box3Helper",{args:[et.current],visible:!1})]})}function GeometryLayer(s){const{children:o,dataSource:et,allowTransparency:tt}=s,nt=reactExports.useRef(new GeometryWorld),rt=reactExports.useRef(!1),it=useBounds(),ot=reactExports.useRef(new Map),st=reactExports.useRef(new Object3D),[at,lt]=reactExports.useContext(UniverseDataContext),ct=reactExports.useRef(at.getTimeMs()),ut=reactExports.useContext(LayerContext),[dt,ht]=reactExports.useState([]),[pt,gt]=reactExports.useState([]),[ft,yt]=reactExports.useState([]),[mt,Ft]=reactExports.useState([]),vt=Tt=>{Tt.forEach(bt=>{const xt=ot.current.get(bt);xt&&(st.current.remove(xt),ot.current.delete(bt))})},Et=Tt=>{const bt="Arial",Bt=Tt.text,Ct=`30px ${bt}`,Mt=document.createElement("canvas"),Nt=definedAndNotNull$1(Mt.getContext("2d"));Nt.font=Ct;const Ot=Nt.measureText(Bt).width,Vt=30;Mt.width=Ot,Mt.height=Vt,Nt.fillStyle="#2d3855",Nt.fillRect(0,0,Ot,Vt),Nt.font=Ct,Nt.fillStyle="#bac4e2",Nt.fillText(Bt,0,30);const Wt=new Texture(Mt);return Wt.needsUpdate=!0,{spriteMaterial:new SpriteMaterial({map:Wt}),textHeight:Vt,textWidth:Ot}},wt=(Tt,bt)=>{if(Tt.points.length<2)bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),bt.scale.set(Tt.scale.x,Tt.scale.z,Tt.scale.y),bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w);else{const xt=new Vector3(Tt.points[0].x,Tt.points[0].y,Tt.points[0].z),Bt=new Vector3(Tt.points[1].x,Tt.points[1].y,Tt.points[1].z),Ct=new Vector3().subVectors(Bt,xt),Mt=Ct.length(),Nt=Ct.normalize();bt.position.set(xt.x,xt.y,xt.z),bt.scale.set(1,Mt,1),bt.quaternion.setFromUnitVectors(new Vector3(0,1,0),Nt)}},It=Tt=>{if(Tt.type==="line_list"||Tt.type==="line_strip"){const bt=new LineBasicMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a,linewidth:1}),xt=new BufferGeometry().setFromPoints(Tt.points),Bt=Tt.type==="line_list"?new LineSegments(xt,bt):new Line$1(xt,bt);Tt.colors&&(Bt.geometry.setAttribute("color",new Float32BufferAttribute(Tt.colors.map(Ct=>[Ct.r,Ct.g,Ct.b]).flat(),3)),Bt.material.vertexColors=!0),Bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),Bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),st.current.add(Bt),ot.current.set(Tt.id,Bt)}else if(Tt.type==="text"){const{spriteMaterial:bt,textHeight:xt,textWidth:Bt}=Et(Tt),Ct=new Sprite(bt),Mt=1;Ct.scale.set(1/Mt,xt/Bt/Mt,1/Mt),Ct.position.set(Tt.position.x,Tt.position.y,Tt.position.z),st.current.add(Ct),ot.current.set(Tt.id,Ct)}else if(Tt.type==="arrow"){const bt=new MeshLambertMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a}),xt=Tt.points.length<2?.01:Tt.scale.x,Bt=Tt.points.length<2?.05:Tt.scale.y,Ct=Tt.points.length<2&&Tt.scale.z?.1:Tt.scale.z,Mt=new CylinderGeometry(xt,xt,.5,8,1,!1),Nt=new ConeGeometry(Bt,Ct,8,1,!1);Nt.translate(0,.25,0);const At=mergeGeometries([Mt,Nt]),Ot=new Mesh(At,bt);wt(Tt,Ot),st.current.add(Ot),ot.current.set(Tt.id,Ot)}else if(Tt.type==="cylinder"){const bt=new MeshLambertMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a}),xt=new CylinderGeometry(.1,.1,Tt.scale.z,8,1,!1),Bt=new Mesh(xt,bt);Bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),Bt.scale.set(Tt.scale.x,1,Tt.scale.y),Bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),st.current.add(Bt),ot.current.set(Tt.id,Bt)}else if(Tt.type==="points"){const bt=Tt.points.map(Mt=>new Vector3(Mt.x,Mt.y,Mt.z)),xt=new PointsMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a,size:Tt.scale.x/10}),Bt=new BufferGeometry().setFromPoints(bt),Ct=new Points(Bt,xt);Tt.colors&&(Ct.geometry.setAttribute("color",new Float32BufferAttribute(Tt.colors.map(Mt=>[Mt.r,Mt.g,Mt.b]).flat(),3)),Ct.material.vertexColors=!0),Ct.position.set(Tt.position.x,Tt.position.y,Tt.position.z),Ct.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),st.current.add(Ct),ot.current.set(Tt.id,Ct)}else if(Tt.type==="triangle_list"){const bt=Tt.points.map(Mt=>new Vector3(Mt.x,Mt.y,Mt.z)),xt=new MeshBasicMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a}),Bt=new BufferGeometry().setFromPoints(bt),Ct=new Mesh(Bt,xt);Tt.colors&&(Ct.geometry.setAttribute("color",new Float32BufferAttribute(Tt.colors.map(Mt=>[Mt.r,Mt.g,Mt.b,Mt.r,Mt.g,Mt.b,Mt.r,Mt.g,Mt.b]).flat(),3)),Ct.material.vertexColors=!0),Ct.position.set(Tt.position.x,Tt.position.y,Tt.position.z),Ct.scale.set(Tt.scale.x,Tt.scale.z,Tt.scale.y),Ct.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),st.current.add(Ct),ot.current.set(Tt.id,Ct)}},St=(Tt,bt)=>{if(Tt.type==="line_list"||Tt.type==="line_strip")bt.geometry.setFromPoints(Tt.points),bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),bt.material=new LineBasicMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a});else if(Tt.type==="text"){const{spriteMaterial:xt}=Et(Tt);bt.material=xt}else Tt.type==="arrow"&&bt instanceof Mesh?(wt(Tt,bt),bt.material=new MeshLambertMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a})):Tt.type==="cylinder"?(bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),bt.scale.set(Tt.scale.x,Tt.scale.z,Tt.scale.y),bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),bt.material=new MeshLambertMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a})):Tt.type==="points"?(bt.geometry.setFromPoints(Tt.points),bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),bt.material=new PointsMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a,size:Tt.scale.x/10}),Tt.colors&&(bt.geometry.setAttribute("color",new Float32BufferAttribute(Tt.colors.map(xt=>[xt.r,xt.g,xt.b]).flat(),3)),bt.material.vertexColors=!0)):Tt.type==="triangle_list"&&(bt.geometry.setFromPoints(Tt.points),bt.scale.set(Tt.scale.x,Tt.scale.y,Tt.scale.z),bt.position.set(Tt.position.x,Tt.position.y,Tt.position.z),bt.quaternion.set(Tt.rotation.x,Tt.rotation.y,Tt.rotation.z,Tt.rotation.w),bt.material=new MeshBasicMaterial({color:new Color$1(Tt.color.r,Tt.color.g,Tt.color.b),opacity:Tt.color.a}),Tt.colors&&(bt.geometry.setAttribute("color",new Float32BufferAttribute(Tt.colors.map(xt=>[xt.r,xt.g,xt.b,xt.r,xt.g,xt.b,xt.r,xt.g,xt.b]).flat(),3)),bt.material.vertexColors=!0))},Rt=Tt=>{Tt.forEach(bt=>{if(bt.dirty){const xt=ot.current.get(bt.id);xt?St(bt,xt):It(bt),bt.dirty=!1}})};return reactExports.useEffect(()=>{const Tt=at.subscribeToGeometry(definedAndNotNull$1(ut,"geometry layer requires device context").deviceId,et,bt=>{if(typeof bt=="symbol")return;rt.current||(rt.current=!0);const xt=bt,Bt=at.getTimeMs();Math.abs(Bt-ct.current)>MINIMUM_TIME_DIFFERENCE&&(nt.current.deleteAll(),vt([...ot.current.keys()])),ct.current=Bt,nt.current.processMarkers(xt);const Ct=nt.current.getAllGeometry(),Mt=Ct.filter(Vt=>Vt.type==="cube"),Nt=Ct.filter(Vt=>Vt.type==="cube_list"),At=Ct.filter(Vt=>Vt.type==="sphere_list"),Ot=Ct.filter(Vt=>Vt.type==="sphere");reactExports.startTransition(()=>{Rt(Ct.filter(qt=>qt.type!=="cube"&&qt.type!=="cube_list"&&qt.type!=="sphere"&&qt.type!=="sphere_list"));const Vt=[...ot.current.keys()],Wt=new Set(Ct.map(qt=>qt.id)),Jt=Vt.filter(qt=>!Wt.has(qt));vt(Jt),ht(Mt),gt(Ot),yt(Nt),Ft(At)})});return()=>{Tt()}},[]),reactExports.useEffect(()=>{it.refresh()},[rt.current]),jsxs(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:[jsxs("group",{children:[jsx("primitive",{object:st.current}),dt.length>0?jsx(InstancedGeometry,{instances:dt,allowTransparency:tt}):null,pt.length>0?jsx(InstancedGeometry,{instances:pt,allowTransparency:tt}):null,ft.map(Tt=>jsx(InstancedGeometryFromList,{instances:Tt},Tt.id)),mt.map(Tt=>jsx(InstancedGeometryFromList,{instances:Tt},Tt.id))]}),o]})}function Axis(){return jsxs(Fragment,{children:[jsx(Line,{points:[-1e3,0,0,1e3,0,0],color:FormantColors.red,opacity:.4,lineWidth:.8,transparent:!0,depthTest:!0,fog:!0}),jsx(Line,{points:[0,-1e3,0,0,1e3,0],color:FormantColors.green,opacity:.4,lineWidth:.8,depthTest:!0,fog:!0,transparent:!0}),jsx(Line,{points:[0,0,-1e3,0,0,1e3],color:FormantColors.blue,opacity:.4,lineWidth:.8,depthTest:!0,fog:!0,transparent:!0})]})}function roundRect(s,o,et,tt,nt,rt,it){s.fillStyle=it,s.beginPath(),s.moveTo(o+rt,et),s.lineTo(o+tt-rt,et),s.quadraticCurveTo(o+tt,et,o+tt,et+rt),s.lineTo(o+tt,et+nt-rt),s.quadraticCurveTo(o+tt,et+nt,o+tt-rt,et+nt),s.lineTo(o+rt,et+nt),s.quadraticCurveTo(o,et+nt,o,et+nt-rt),s.lineTo(o,et+rt),s.quadraticCurveTo(o,et,o+rt,et),s.closePath(),s.fill()}class Label extends Group{constructor(o,et=!0){super(),this.sizeAttenuate=et,this.currentText=o,this.update(),this.scale.set(.6,.6,.6)}sprite;texture;material;currentText;update(){this.sprite&&(this.dispose(),this.remove(this.sprite),this.sprite=void 0);const o="Inter",et=30,tt=this.currentText,nt=`${et}px ${o}`,rt=document.createElement("canvas"),it=definedAndNotNull$1(rt.getContext("2d"));it.font=nt;const st=it.measureText(tt).width,at=et*1.5,lt=20;rt.width=st+lt,rt.height=at+lt,it.globalAlpha=.5,roundRect(it,0,0,st+lt,at+lt,20,"#2B334D20"),it.globalAlpha=1,it.font=nt,it.fillStyle="#bac4e2",it.fillText(tt,0+10,et+10);const ct=new Texture(rt);this.texture=ct,ct.needsUpdate=!0;const ut=new SpriteMaterial({map:ct,depthTest:!1,sizeAttenuation:this.sizeAttenuate,transparent:!0});this.material=ut;const dt=new Sprite(ut),ht=(this.sizeAttenuate?.002:.001)*rt.width;dt.scale.set(ht,(at+lt)/(st+lt)*ht,ht),this.add(dt),this.sprite=dt,this.renderOrder=100}get text(){return this.currentText}set text(o){this.currentText!==o&&(this.currentText=o,this.update())}dispose(){this.texture&&(this.texture.dispose(),this.texture=void 0),this.material&&(this.material.dispose(),this.material=void 0)}}class AxisLabels extends Group{labelRadius=1;constructor(o){super();const et=new Label("x",!1);et.position.set(this.labelRadius,0,0),this.add(et);const tt=new Label("y",!1);if(tt.position.set(0,this.labelRadius,0),this.add(tt),!o){const nt=new Label("z",!1);nt.position.set(0,0,this.labelRadius),this.add(nt)}}}const range=(s,o)=>o<=s?[]:new Array(o-s).fill(0).map((et,tt)=>tt+s);function PolarGrid({majorCircleColor:s=new Color$1(3029076),minorCircleColor:o=new Color$1(3555424)}){const et=[];return range(-1,2).forEach((tt,nt)=>{range(nt===0?1:3,21).forEach(it=>{const ot=it===10,st=Math.pow(10,tt)*it;et.push(jsx(Line,{points:generatePoints(st,36),color:ot?o:s,lineWidth:ot?.7:.5,opacity:.5,dashed:!1,depthTest:!0},`line-${tt}-${it}`))})}),jsx("group",{renderOrder:1,children:et})}function generatePoints(s,o){return[...new EllipseCurve(0,0,s,s,0,2*Math.PI,!1,0).getPoints(o).map(nt=>new Vector3(nt.x,nt.y,0))]}function GroundLayer(s){const{children:o,flatAxis:et}=s,tt=reactExports.useMemo(()=>new AxisLabels(et||!1),[]),nt=reactExports.useMemo(()=>jsx(PolarGrid,{}),[]);return jsx("group",{name:"axis",renderOrder:1,children:jsxs(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:[jsx(Axis,{}),jsx("primitive",{object:tt}),nt,o]})})}async function loadTexture(s){const o=new Texture,tt=await(await fetch(s)).blob(),nt=new Image;return nt.src=URL.createObjectURL(tt),await new Promise((rt,it)=>{nt.onload=()=>{rt(!0)},nt.onerror=()=>{it(!1)}}),o.image=nt,URL.revokeObjectURL(nt.src),o.needsUpdate=!0,o}const getBoundingCoordinatesFromCenter=(s,o,et)=>{const tt={north:0,east:90,south:180,west:270},nt=6371e3,rt=et?[et[1]/(nt*Math.PI/180),et[0]/(nt*Math.PI/180*Math.cos(s[1]*Math.PI/180))]:[0,0],it=[s[0]+rt[1],s[1]+rt[0]],ot=es.computeDestinationPoint(it,o,tt.north,nt).latitude.toFixed(9),st=es.computeDestinationPoint(it,o,tt.south,nt).latitude.toFixed(9),at=es.computeDestinationPoint(it,o,tt.east,nt).longitude.toFixed(9),lt=es.computeDestinationPoint(it,o,tt.west,nt).longitude.toFixed(9);return{maxLatitude:ot,minLatitude:st,maxLongitude:at,minLongitude:lt}},getGridCoordinates=(s,o)=>{const et=Math.floor(s/o),tt=-(s/2)+o/2,nt=-(s/2)+o/2,rt=[];for(let it=0;it<et;it++)for(let ot=0;ot<et;ot++){const st=tt+ot*o,at=nt+it*o;rt.push([st,at,0])}return rt},URL_SCOPED_TOKEN="pk.eyJ1IjoiYWJyYWhhbS1mb3JtYW50IiwiYSI6ImNrOWVuazlhbTAwdDYza203b2tybGZmNDMifQ.Ro6iNGYgvpDO4i6dcxeDGg",mapStyles={Street:"streets-v11",Satellite:"satellite-v9","Satellite street":"satellite-streets-v11"},ColorShiftMaterial=shaderMaterial({time:0,color:new Color$1("#2D3855")},`
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,`
    uniform float time;
    uniform vec3 color;
    varying vec2 vUv;
    void main() {
      gl_FragColor.rgba = vec4(0.05 * sin(vUv.yxx + time * 2.0) + color, 1.0);
    }
  `);extend({ColorShiftMaterial});function MapLayer(s){const{dataSource:o,size:et,latitude:tt,longitude:nt,mapType:rt}=s,{children:it}=s,[ot,st]=reactExports.useContext(UniverseDataContext),at=reactExports.useContext(LayerContext),[lt,ct]=reactExports.useState(void 0),ut=reactExports.useRef([]),dt=reactExports.useRef([]),[ht,pt]=reactExports.useState([]),gt=useBounds(),ft=reactExports.useRef(null),[yt,mt]=reactExports.useState([]),Ft=reactExports.useRef(null),[vt,Et]=reactExports.useState(!1),[wt,It]=reactExports.useState(null),St=reactExports.useRef(!0);reactExports.useEffect(()=>{(async()=>{if(lt===void 0)return;gt&&gt.refresh().clip().fit();const bt=lt,xt={username:"mapbox",styleId:mapStyles[rt],width:1280,height:1280,bearing:0,accessToken:URL_SCOPED_TOKEN},Bt=100,Ct=(At,Ot,Vt)=>{const{username:Wt,styleId:Jt,accessToken:qt}=xt,{minLatitude:Ht,maxLatitude:Xt,minLongitude:Lt,maxLongitude:Pt}=getBoundingCoordinatesFromCenter(bt,Vt?Bt:et/2,Vt?[Vt[0],Vt[1]]:void 0);return`https://api.mapbox.com/styles/v1/${Wt}/${Jt}/static/[${Lt},${Ht},${Pt},${Xt}]/${At}x${At}${Ot?"@2x":""}?logo=false&access_token=${qt}`},Mt=[160,320,640,1280],Nt=[];Promise.all(Mt.map(async(At,Ot)=>{const Vt=await loadTexture(Ct(At,Ot===Mt.length-1));Nt[Ot]=Vt,mt([...Nt])})),await Promise.all(ht.map(async(At,Ot)=>{const Vt=await loadTexture(Ct(1280,!0,At));return Vt.colorSpace=SRGBColorSpace$1,Vt.magFilter=NearestFilter,Vt.minFilter=NearestFilter,ut.current[Ot].map=Vt,ut.current[Ot].color=new Color$1("#FFFFFF"),ut.current[Ot].needsUpdate=!0,ut.current[Ot].depthWrite=!1,Vt})).then(()=>{Et(!0)})})()},[lt]),reactExports.useEffect(()=>{(async()=>{let bt;if(o){const Ct=ot.subscribeToLocation(defined$1(at?.deviceId),o,Mt=>{if(typeof Mt=="symbol")return;const Nt=Mt;(lt===void 0||lt&&lt[0]!==Nt.longitude&&lt[1]!==Nt.latitude)&&ct(At=>At!==void 0&&At[0]===Nt.longitude&&At[1]===Nt.latitude?At:(Et(!1),[Nt.longitude,Nt.latitude]))});It(()=>Ct)}else bt=[Number(nt),Number(tt)],ct(bt);const xt=getGridCoordinates(Math.ceil(et/200)*200,200);pt(xt),ut.current=xt.map((Ct,Mt)=>new MeshBasicMaterial({map:null}));const Bt=new PlaneGeometry(200,200);dt.current=xt.map((Ct,Mt)=>jsx("mesh",{position:Ct,geometry:Bt,children:jsx("meshBasicMaterial",{ref:Nt=>ut.current[Mt]=Nt})},JSON.stringify(Ct)))})()},[]),useFrame(({clock:bt})=>{if(Ft.current&&!vt){const xt=Ft.current;xt.uniforms.time.value=bt.elapsedTime}});const{layers:Rt}=reactExports.useContext(UIDataContext),Tt=Rt.find(bt=>bt.id===s.id);return St.current=Tt?.visible??!0,reactExports.useEffect(()=>{gt.refresh()},[St.current]),jsxs(DataVisualizationLayer,{...s,iconUrl:"icons/map.svg",children:[jsx("group",{visible:vt,position:[0,0,-.015],children:dt.current}),jsxs("mesh",{ref:ft,visible:!vt,position:[0,0,-.015],children:[jsx("planeGeometry",{attach:"geometry",args:[et,et]}),yt.length>0?jsx("meshStandardMaterial",{map:yt[yt.length-1],depthWrite:!1}):jsx("colorShiftMaterial",{ref:Ft})]}),it]})}class MarkerMaterial extends ShaderMaterial{constructor(){super(),this.uniforms={uTime:{value:0}},this.vertexShader=`
    varying vec3 vNormal;
    varying vec2 vUv;

    void main(){
        gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);
        vNormal=normalize(normalMatrix*normal);
        vUv=uv;
    }
    `,this.fragmentShader=`
    #define M_PI 3.1415926535897932384626433832795
    #define SMOOTH(r,R) (1.0-smoothstep(R-1.0,R+1.0, r))

    varying vec3 vNormal;
    varying vec2 vUv;
    uniform float uTime;

    float ring(vec2 uv, vec2 pos, float innerRad, float outerRad) {
      float aa = 2.0 / 100.;
      return (1.0 - smoothstep(outerRad,outerRad+aa,length(uv-pos))) * smoothstep(innerRad-aa,innerRad,length(uv-pos));
    }

    float circle(vec2 uv, vec2 pos, float rad) {
      return 1.0 - smoothstep(rad,rad+0.005,length(uv-pos));
    }

    float f(float a){
      return a/255.0;
    } 

    float movingLine(vec2 uv, vec2 center, float radius)
    {
        //angle of the line
        float theta0 = 90.0 * uTime;
        vec2 d = uv - center;
        float r = sqrt( dot( d, d ) );
        if(r<radius)
        {
            //compute the distance to the line theta=theta0
            vec2 p = radius*vec2(cos(theta0*M_PI/180.0),
                                -sin(theta0*M_PI/180.0));
            float l = length( d - p*clamp( dot(d,p)/dot(p,p), 0.0, 1.0) );
          d = normalize(d);
            //compute gradient based on angle difference to theta0
          float theta = mod(180.0*atan(d.y,d.x)/M_PI+theta0,360.0);
            float gradient = clamp(1.0-theta/90.0,0.0,1.0);
            return SMOOTH(l,1.0)+0.5*gradient;
        }
        else return 0.0;
    }
    
  
    void main(){
      vec4 white = vec4(1.0);
      vec4 blue = vec4(f(32.0), f(159.0), f(255.0), 0.4 );
      float thickness = 0.25;
      float coreRadius = .05;
      float numOfCircles = 4.;
 

      vec2  uv  = vUv - vec2(0.5);
      float dt = sin(mod(length((vUv - vec2(0.5, 0.5)) * 5.) - uTime, M_PI/ numOfCircles));
      
      vec4 core = white * ring(vUv, vec2(.5), .0, coreRadius * abs(sin(uTime * 1.5))) + movingLine(vUv, vec2(.5), .25) * blue ; 

      vec4 color = vec4(step(dt, thickness)) * blue + core;

      gl_FragColor = color;
    }
    `}}extend({MarkerMaterial});function MarkerLayer(s){const{children:o}=s,et=reactExports.useRef(null),tt=reactExports.useRef(null),nt=reactExports.useMemo(()=>{const it=new QuadraticBezierCurve(new Vector2(-.4,.2),new Vector2(0,.6),new Vector2(.4,.2)).getPoints(7);return it.push(new Vector2(0,.8)),new Shape(it)},[]);return useFrame(({camera:rt},it)=>{const ot=et.current,st=tt.current;if(!ot||!st)return;const at=35,lt=ot.getWorldPosition(new Vector3),ct=rt.position.distanceTo(lt),ut=Math.max(ct,3)/at;ot.scale.setScalar(ut),st.scale.setScalar(ut),ot.material.uniforms.uTime.value+=it,ot.lookAt(rt.position)}),jsxs(DataVisualizationLayer,{...s,type:LayerType.TRACKABLE,iconUrl:"icons/3d_object.svg",trailEnabled:s.trailEnabled,trailSeconds:s.trailSeconds,trailOpacity:s.trailOpacity,trailWidth:s.trailWidth,trailType:s.trailType,trailFlatten:s.trailFlatten,children:[jsxs("group",{children:[jsxs("mesh",{ref:tt,name:"arrow",rotation:[0,0,-Math.PI/2],up:new Vector3(0,0,1),renderOrder:9,children:[jsx("shapeGeometry",{args:[nt]}),jsx("meshStandardMaterial",{color:"white",emissive:"white",emissiveIntensity:2,toneMapped:!1,depthTest:!0})]}),jsxs("mesh",{name:"circle",ref:et,renderOrder:8,children:[jsx("circleGeometry",{args:[.8,20]}),jsx("markerMaterial",{transparent:!0,side:FrontSide,depthTest:!1,depthWrite:!1})]})]}),o]})}const mappedColor=defined$1(new Color$1(FormantColors.steel02)),occupiedColor=defined$1(new Color$1(FormantColors.steel03)),glColor$1=s=>{const o=s.getHex(),et=o>>16&255,tt=o>>8&255,nt=o&255;return`vec3(${et.toFixed(1)}/255.0, ${tt.toFixed(1)}/255.0, ${nt.toFixed(1)}/255.0)`},vertexShader$1=`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,fragmentShader$1=`
uniform sampler2D mapTexture;
varying vec2 vUv;

void main() {
   vec4 map = texture2D( mapTexture, vUv.xy );
    vec3 mappedColor = ${glColor$1(mappedColor)};
    //vec3 mappedColor = vec3(0.0, 0.0, 1.0);
    vec3 occupiedColor = ${glColor$1(occupiedColor)};
    float occupancy = smoothstep(0.5, 0.01, map.r);
    vec3 color = mix(mappedColor, occupiedColor, smoothstep(0.0, 1.0, occupancy));
    gl_FragColor = vec4(color, map.a);
}
`,createGridMaterial=()=>new ShaderMaterial({blending:CustomBlending,depthTest:!0,depthWrite:!0,uniforms:{mapTexture:{value:new Texture}},vertexShader:vertexShader$1,fragmentShader:fragmentShader$1,side:DoubleSide}),createMesh=s=>{const o=new Mesh(new PlaneGeometry(1,1),s);return o.visible=!1,o.up=new Vector3(0,0,1),o},OccupancyGridLayer=s=>{const{dataSource:o}=s,[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(void 0),[it,ot]=reactExports.useContext(UniverseDataContext),st=reactExports.useContext(LayerContext),at=useBounds(),lt=reactExports.useRef(createGridMaterial()).current,ct=reactExports.useRef(createMesh(lt)).current,ut=reactExports.useRef(ct),dt=reactExports.useRef(!0);reactExports.useEffect(()=>{nt&&new TextureLoader().load(nt,ft=>{ft.generateMipmaps=!1,ft.wrapS=ClampToEdgeWrapping,ft.wrapT=ClampToEdgeWrapping,ft.minFilter=LinearFilter,ft.magFilter=NearestFilter,lt.uniforms.mapTexture.value=ft,lt.needsUpdate=!0,ct.visible||(tt(!0),ut.current.visible=!0)})},[nt]),reactExports.useEffect(()=>{if(!st||!o)return;const{deviceId:gt}=st;o.streamType="localization";const ft=it.subscribeToGridMap(gt,o,yt=>{if(typeof yt=="symbol")return;const{origin:mt,width:Ft,height:vt,resolution:Et,data:wt,worldToLocal:It,alpha:St,url:Rt}=yt,Tt=ut.current;Tt.matrixAutoUpdate=!1;const bt={translation:{x:mt.translation.x+Ft*Et/2,y:mt.translation.y+vt*Et/2,z:mt.translation.z-.01},rotation:{x:mt.rotation.x,y:mt.rotation.y,z:mt.rotation.z,w:mt.rotation.w}},xt=transformMatrix(bt).multiply(new Matrix4().makeScale(Ft*Et,vt*Et,1));if(It&&xt.multiply(transformMatrix(It)),Tt.matrix.copy(xt),Tt.updateMatrixWorld(!0),Rt){rt(Rt);return}if(!wt)return;const Bt=Ft*vt,Ct=new Uint8Array(4*Bt);for(let At=0;At<Bt;At++){const Ot=wt[At]*255;Ct[At*4]=Ot,Ct[At*4+1]=Ot,Ct[At*4+2]=Ot,Ct[At*4+3]=St?St[At]*255:255}const Mt=new DataTexture(Ct,Ft,vt,RGBAFormat);Mt.flipY=!0,Mt.needsUpdate=!0,Mt.generateMipmaps=!1,Mt.wrapS=ClampToEdgeWrapping,Mt.wrapT=ClampToEdgeWrapping,Mt.minFilter=LinearFilter,Mt.magFilter=NearestFilter;const Nt=Mt;lt.uniforms.mapTexture.value=Nt,lt.opacity=.9,lt.depthTest=!0,lt.needsUpdate=!0,Tt.matrix.copy(xt),Tt.updateMatrixWorld(!0),!Tt.visible&&Bt&&(tt(!0),ut.current.visible=!0)});return()=>{ft()}},[st,it]);const{layers:ht}=reactExports.useContext(UIDataContext),pt=ht.find(gt=>gt.id===s.id);return dt.current=pt?.visible??!0,reactExports.useEffect(()=>{at.refresh()},[dt.current,et]),jsx(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:et&&jsx(Fragment,{children:jsx("primitive",{object:ut.current,renderOrder:7})})})},PathLayer=s=>{const{dataSource:o,pathOpacity:et=50,pathWidth:tt=.25,pathType:nt=PathType.STATIC,flatten:rt=!1}=s;useControlsContext();const[it,ot]=reactExports.useContext(UniverseDataContext),st=reactExports.useContext(LayerContext),[at,lt]=reactExports.useState([]),ct=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!st)return;const{deviceId:ut}=st;if(!o)return;o.streamType="localization";const dt=it.subscribeToPath(ut,o,ht=>{if(typeof ht=="symbol")return;const{poses:pt,worldToLocal:gt}=ht;if(lt(pt.map(yt=>new Vector3(yt.translation.x,yt.translation.y,yt.translation.z))),!ct.current)return;const ft=ct.current;ft.matrixAutoUpdate=!1,ft.matrix.copy(transformMatrix(gt))});return()=>{dt()}},[st,it,lt]),jsx(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:jsx(Path,{points:at,color:FormantColors.mithril,pathOpacity:et,pathWidth:tt,pathType:nt,pathFlatten:rt,renderOrder:0})})},Container=styled.div`
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;

  /* Prevent Text Selection */
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Old versions of Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;

  pointer-events: none;
`,PanelContainer=styled.div`
  position: absolute;
  bottom: 80px;
  left: 10px;
  width: 300px;
  height: calc(100% - 100px);
  overflow-y: auto;
  background-color: #2d3855;
  border-radius: 10px;
  padding: 20px;
  color: white;
  pointer-events: all;

  & > p.description {
    font-family: Inter;
    text-align: center;
    position: absolute;
    left: 0;
    top: 50%;
    padding: 8px;
    transform: translate(0, -50%);
  }

  /* Delete Button */
  & > button {
    width: 100%;
    margin-top: 20px;
    border-radius: 15px;
    background-color: #3e4b6c;
    &:hover {
      background-color: #5a6582;
    }
  }

  ::-webkit-scrollbar {
    width: 10px;
    background-color: #222735;
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
    background-color: #515870;
    border-radius: 10px;
  }
`,ControlButtonGroup=styled.div`
  position: absolute;
  bottom: 20px;
  left: 10px;
  width: ${({large:s})=>s?"400px":"300px"};
  height: 35px;
  display: flex;
  justify-content: space-between;
  pointer-events: all;

  & > button {
    width: 48%;
    border-radius: 20px;
    color: black;
    &:disabled {
      cursor: not-allowed;
      pointer-events: all !important;
    }
  }

  & > button:nth-of-type(1) {
    background-color: #bac4e2;
    &:hover {
      background-color: #d9e0f0;
    }
    ${({disableBtn1:s})=>s&&Ae`
        color: #8c909b;
        background-color: ${FormantColors.steel02};
        &:hover {
          background-color: ${FormantColors.steel02};
        }
      `}
  }
  & > button:nth-of-type(2) {
    background-color: #18d2ff;
    white-space: nowrap;
    &:hover {
      background-color: #53d7f8;
    }

    ${({disableBtn2:s})=>s&&Ae`
        color: #8c909b;
        background-color: ${FormantColors.steel02};
        &:hover {
          background-color: ${FormantColors.steel02};
        }
      `}
  }
`,ModalContainer=styled.div`
  width: 450px;
  height: 200px;
  border-radius: 10px;
  padding: 20px;
  background-color: ${FormantColors.module};
  position: absolute;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 1.2rem;
  font-family: Inter;
  pointer-events: all;

  & > div:nth-of-type(1) {
    margin: 10px 0 0 10px;
  }
  & > p {
    position: absolute;
    top: 70px;
    margin: 0 20px 0 10px;
    font-size: 15px;
    font-style: italic;
  }
  & > div:nth-of-type(2) {
    margin: 70px 0 0 100px;
    display: flex;
    justify-content: space-between;
    & > button {
      width: 48%;
      height: 45px;
      border-radius: 20px;
    }
    & > button:nth-of-type(1) {
      color: white;
      background-color: #3e4b6c;
      &:hover {
        background-color: #60729f;
      }
    }
    & > button:nth-of-type(2) {
      color: black;
      background-color: #ea719d;
      &:hover {
        background-color: #ec9fbb;
      }
    }
  }
`,TextInputContainer=styled.div`
  height: 70px;
  margin-top: 10px;
  & > label {
    font-family: Inter;
    font-size: 12px;
    padding-left: 5px;
  }
  & > input {
    width: 100%;
    height: 40px;
    background-color: ${FormantColors.steel01};
    padding: 0.5rem;
    border-radius: 0.25rem;
    outline: none;
    border: none;
    color: white;
    margin-top: 0.5rem;
  }
`,ToggleIconContainer=styled.div`
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  flex-direction: column;
  position: absolute;
  top: ${({hasPointCloud:s})=>s?"195px":"100px"};
  right: 10px;
  pointer-events: none;

  & > div {
    background-color: #1c1e2d;
    box-shadow: 0 0 1.25rem #0a0b10;
    box-sizing: border-box;
    border: 0.078125rem solid #3b4668;
    width: 26px;
    height: 26px;
    border-radius: 14px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    pointer-events: all;
    margin-top: 10px;
    & > svg {
      vertical-align: middle;
      fill: #bac4e2;
    }
  }
`,DropdownContainer=styled.div`
  height: 70px;
  margin-top: 10px;
  & > label {
    font-family: Inter;
    font-size: 12px;
    padding-left: 5px;
  }
  & > select {
    width: 100%;
    height: 40px;
    margin-top: 8px;
    color: white;
    padding: 8px;
    border-radius: 4px;
    outline: none;
    border: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    appearance: none;
    background: ${FormantColors.steel01}
      url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24" id="arrow-drop-down"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M7 10l5 5 5-5H7z"></path></svg>')
      no-repeat 30px;
    background-position-x: calc(100% - 5px);
    background-position-y: center;
  }
`,BooleanToggleContainer=styled.div`
  height: 70px;
  margin-top: 10px;
  font-family: Inter;

  & > label {
    font-size: 12px;
    padding-left: 5px;
  }

  & > div {
    width: 100%;
    height: 40px;
    background-color: ${FormantColors.steel02};
    padding: 0 15px 0 15px;
    border-radius: 0.25rem;
    color: white;
    margin-top: 0.5rem;

    display: flex;
    justify-content: space-between;
    align-items: center;
    & > div:nth-of-type(1) {
      font-size: 12px;
    }
  }
`,LoadingBarContainer=styled.div`
  position: absolute;
  z-index: 1000;
  top: 0;
  left: 0;
  display: flex;
  justify-content: ${({sending:s})=>s===SENDING_STATUS.WAITING?"start":"center"};
  align-items: center;
  width: 100%;
  height: 35px;
  background-color: #1c1e2df5;
  color: white;
  font-family: Inter;
  font-size: 14px;
  text-align: center;
  pointer-events: none;
  & > div {
    position: absolute;
    top: 0;
    width: 100%;
    height: 5px;

    ${({sending:s})=>s===SENDING_STATUS.WAITING?Ae`
            background: linear-gradient(
              to right,
              rgba(0, 0, 0, 0),
              #f5257a,
              #18d2ff,
              rgba(0, 0, 0, 0),
              #f5257a,
              #18d2ff,
              rgba(0, 0, 0, 0)
            );
            background-size: 200%;
            animation: background 1s linear infinite;
            transition: opacity 200ms ease-in-out;

            @keyframes background {
              0% {
                background-position-x: 0;
              }
              100% {
                background-position-x: 100%;
              }
            }
          `:Ae`
            background-color: ${({sending:o})=>o===SENDING_STATUS.SUCCESS?FormantColors.green:FormantColors.red};
          `}
  }

  & > p {
    padding: 0 10px;
  }

  & > span {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 20px;
    height: 20px;
    border-radius: 10px;
    background-color: ${FormantColors.steel02};
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    pointer-events: all;
  }
`;function ToggleIcon({controlsStates:s,hasPathLayer:o}){const{state:{hasPointCloud:et,hasPath:tt,hasWaypointsPath:nt,isWaypointPanelVisible:rt},updateState:it}=s;return jsx(ToggleIconContainer,{hasPointCloud:et,children:rt?jsxs(Fragment,{children:[jsx("div",{onClick:()=>{it({hasWaypointsPath:!nt})},children:nt?jsx(WaypointsPathToggleIcon,{}):jsx(PathEyeIcon,{})}),o&&jsx("div",{onClick:()=>{it({hasPath:!tt})},children:tt?jsx(PathToggleIcon,{}):jsx(PathEyeIcon,{})})]}):jsx("div",{onClick:()=>{it({isWaypointPanelVisible:!rt,isWaypointEditing:!rt,hasPath:!0,hasWaypointsPath:!0})},children:jsx(WaypointToggleIcon,{})})})}const Modal=({content:s,subContent:o,buttons:et,handler1:tt,handler2:nt})=>jsxs(ModalContainer,{children:[jsxs("div",{children:[s[0]," ",jsx("b",{children:s[1]})," ?"]}),o&&jsx("p",{children:o}),jsxs("div",{children:[jsx("button",{onClick:()=>tt&&tt(),children:et[0]}),jsx("button",{onClick:()=>nt&&nt(),children:et[1]})]})]}),millisecond=1,second=1e3,minute=60*second,hour=60*minute,day=24*hour,week=7*day,month=30*day,year=365*day,duration={millisecond,second,minute,hour,day,week,month,year};class ConnectionError extends Error{constructor(o,et,tt){super(`Connection failure: ${o.message}`),this.cause=o,this.url=et,this.retryable=tt}}const delay=s=>new Promise(o=>setTimeout(o,s||0));function isErrorType(s,o,et=()=>!0){return s instanceof o&&et(s)}function narrowError(s,o,et=()=>!0){if(isErrorType(s,o,et))return s;throw s}function isObject$1(s){return!!s&&(typeof s=="object"||typeof s=="function")}const blacklist=["password","secret","token","key","buffer"];function redact(s,o=new Set){return o.has(s)?"[ RECURSIVE ]":isObject$1(s)?(o.add(s),Object.keys(s).reduce((et,tt)=>(et[tt]=blacklist.some(nt=>tt.toLowerCase().includes(nt.toLowerCase()))?"[ REDACTED ]":redact(s[tt],o),et),{})):s}class ResponseError extends Error{constructor(o,et,tt,nt,rt={},it){super(`Unexpected response (${tt}) for ${o} ${et}: ${JSON.stringify(it?redact([...it.entries()].reduce((ot,[st,at])=>(ot[st]=at,ot),{})):{})} -- ${JSON.stringify(redact(nt))}`),this.method=o,this.url=et,this.statusCode=tt,this.body=nt,this.validationErrors=rt,this.headers=it}}class ResponseHeadersError extends Error{constructor(o,et){super(`Invalid headers (${JSON.stringify(o)}) for response: ${et.message}`),this.validationErrors=o,this.responseError=et}}var browserPonyfill={exports:{}};(function(s,o){var et=typeof self<"u"?self:commonjsGlobal$1,tt=function(){function rt(){this.fetch=!1,this.DOMException=et.DOMException}return rt.prototype=et,new rt}();(function(rt){(function(it){var ot={searchParams:"URLSearchParams"in rt,iterable:"Symbol"in rt&&"iterator"in Symbol,blob:"FileReader"in rt&&"Blob"in rt&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in rt,arrayBuffer:"ArrayBuffer"in rt};function st(Bt){return Bt&&DataView.prototype.isPrototypeOf(Bt)}if(ot.arrayBuffer)var at=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],lt=ArrayBuffer.isView||function(Bt){return Bt&&at.indexOf(Object.prototype.toString.call(Bt))>-1};function ct(Bt){if(typeof Bt!="string"&&(Bt=String(Bt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Bt))throw new TypeError("Invalid character in header field name");return Bt.toLowerCase()}function ut(Bt){return typeof Bt!="string"&&(Bt=String(Bt)),Bt}function dt(Bt){var Ct={next:function(){var Mt=Bt.shift();return{done:Mt===void 0,value:Mt}}};return ot.iterable&&(Ct[Symbol.iterator]=function(){return Ct}),Ct}function ht(Bt){this.map={},Bt instanceof ht?Bt.forEach(function(Ct,Mt){this.append(Mt,Ct)},this):Array.isArray(Bt)?Bt.forEach(function(Ct){this.append(Ct[0],Ct[1])},this):Bt&&Object.getOwnPropertyNames(Bt).forEach(function(Ct){this.append(Ct,Bt[Ct])},this)}ht.prototype.append=function(Bt,Ct){Bt=ct(Bt),Ct=ut(Ct);var Mt=this.map[Bt];this.map[Bt]=Mt?Mt+", "+Ct:Ct},ht.prototype.delete=function(Bt){delete this.map[ct(Bt)]},ht.prototype.get=function(Bt){return Bt=ct(Bt),this.has(Bt)?this.map[Bt]:null},ht.prototype.has=function(Bt){return this.map.hasOwnProperty(ct(Bt))},ht.prototype.set=function(Bt,Ct){this.map[ct(Bt)]=ut(Ct)},ht.prototype.forEach=function(Bt,Ct){for(var Mt in this.map)this.map.hasOwnProperty(Mt)&&Bt.call(Ct,this.map[Mt],Mt,this)},ht.prototype.keys=function(){var Bt=[];return this.forEach(function(Ct,Mt){Bt.push(Mt)}),dt(Bt)},ht.prototype.values=function(){var Bt=[];return this.forEach(function(Ct){Bt.push(Ct)}),dt(Bt)},ht.prototype.entries=function(){var Bt=[];return this.forEach(function(Ct,Mt){Bt.push([Mt,Ct])}),dt(Bt)},ot.iterable&&(ht.prototype[Symbol.iterator]=ht.prototype.entries);function pt(Bt){if(Bt.bodyUsed)return Promise.reject(new TypeError("Already read"));Bt.bodyUsed=!0}function gt(Bt){return new Promise(function(Ct,Mt){Bt.onload=function(){Ct(Bt.result)},Bt.onerror=function(){Mt(Bt.error)}})}function ft(Bt){var Ct=new FileReader,Mt=gt(Ct);return Ct.readAsArrayBuffer(Bt),Mt}function yt(Bt){var Ct=new FileReader,Mt=gt(Ct);return Ct.readAsText(Bt),Mt}function mt(Bt){for(var Ct=new Uint8Array(Bt),Mt=new Array(Ct.length),Nt=0;Nt<Ct.length;Nt++)Mt[Nt]=String.fromCharCode(Ct[Nt]);return Mt.join("")}function Ft(Bt){if(Bt.slice)return Bt.slice(0);var Ct=new Uint8Array(Bt.byteLength);return Ct.set(new Uint8Array(Bt)),Ct.buffer}function vt(){return this.bodyUsed=!1,this._initBody=function(Bt){this._bodyInit=Bt,Bt?typeof Bt=="string"?this._bodyText=Bt:ot.blob&&Blob.prototype.isPrototypeOf(Bt)?this._bodyBlob=Bt:ot.formData&&FormData.prototype.isPrototypeOf(Bt)?this._bodyFormData=Bt:ot.searchParams&&URLSearchParams.prototype.isPrototypeOf(Bt)?this._bodyText=Bt.toString():ot.arrayBuffer&&ot.blob&&st(Bt)?(this._bodyArrayBuffer=Ft(Bt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ot.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Bt)||lt(Bt))?this._bodyArrayBuffer=Ft(Bt):this._bodyText=Bt=Object.prototype.toString.call(Bt):this._bodyText="",this.headers.get("content-type")||(typeof Bt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ot.searchParams&&URLSearchParams.prototype.isPrototypeOf(Bt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ot.blob&&(this.blob=function(){var Bt=pt(this);if(Bt)return Bt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?pt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ft)}),this.text=function(){var Bt=pt(this);if(Bt)return Bt;if(this._bodyBlob)return yt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(mt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ot.formData&&(this.formData=function(){return this.text().then(St)}),this.json=function(){return this.text().then(JSON.parse)},this}var Et=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function wt(Bt){var Ct=Bt.toUpperCase();return Et.indexOf(Ct)>-1?Ct:Bt}function It(Bt,Ct){Ct=Ct||{};var Mt=Ct.body;if(Bt instanceof It){if(Bt.bodyUsed)throw new TypeError("Already read");this.url=Bt.url,this.credentials=Bt.credentials,Ct.headers||(this.headers=new ht(Bt.headers)),this.method=Bt.method,this.mode=Bt.mode,this.signal=Bt.signal,!Mt&&Bt._bodyInit!=null&&(Mt=Bt._bodyInit,Bt.bodyUsed=!0)}else this.url=String(Bt);if(this.credentials=Ct.credentials||this.credentials||"same-origin",(Ct.headers||!this.headers)&&(this.headers=new ht(Ct.headers)),this.method=wt(Ct.method||this.method||"GET"),this.mode=Ct.mode||this.mode||null,this.signal=Ct.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Mt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Mt)}It.prototype.clone=function(){return new It(this,{body:this._bodyInit})};function St(Bt){var Ct=new FormData;return Bt.trim().split("&").forEach(function(Mt){if(Mt){var Nt=Mt.split("="),At=Nt.shift().replace(/\+/g," "),Ot=Nt.join("=").replace(/\+/g," ");Ct.append(decodeURIComponent(At),decodeURIComponent(Ot))}}),Ct}function Rt(Bt){var Ct=new ht,Mt=Bt.replace(/\r?\n[\t ]+/g," ");return Mt.split(/\r?\n/).forEach(function(Nt){var At=Nt.split(":"),Ot=At.shift().trim();if(Ot){var Vt=At.join(":").trim();Ct.append(Ot,Vt)}}),Ct}vt.call(It.prototype);function Tt(Bt,Ct){Ct||(Ct={}),this.type="default",this.status=Ct.status===void 0?200:Ct.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Ct?Ct.statusText:"OK",this.headers=new ht(Ct.headers),this.url=Ct.url||"",this._initBody(Bt)}vt.call(Tt.prototype),Tt.prototype.clone=function(){return new Tt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ht(this.headers),url:this.url})},Tt.error=function(){var Bt=new Tt(null,{status:0,statusText:""});return Bt.type="error",Bt};var bt=[301,302,303,307,308];Tt.redirect=function(Bt,Ct){if(bt.indexOf(Ct)===-1)throw new RangeError("Invalid status code");return new Tt(null,{status:Ct,headers:{location:Bt}})},it.DOMException=rt.DOMException;try{new it.DOMException}catch{it.DOMException=function(Ct,Mt){this.message=Ct,this.name=Mt;var Nt=Error(Ct);this.stack=Nt.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function xt(Bt,Ct){return new Promise(function(Mt,Nt){var At=new It(Bt,Ct);if(At.signal&&At.signal.aborted)return Nt(new it.DOMException("Aborted","AbortError"));var Ot=new XMLHttpRequest;function Vt(){Ot.abort()}Ot.onload=function(){var Wt={status:Ot.status,statusText:Ot.statusText,headers:Rt(Ot.getAllResponseHeaders()||"")};Wt.url="responseURL"in Ot?Ot.responseURL:Wt.headers.get("X-Request-URL");var Jt="response"in Ot?Ot.response:Ot.responseText;Mt(new Tt(Jt,Wt))},Ot.onerror=function(){Nt(new TypeError("Network request failed"))},Ot.ontimeout=function(){Nt(new TypeError("Network request failed"))},Ot.onabort=function(){Nt(new it.DOMException("Aborted","AbortError"))},Ot.open(At.method,At.url,!0),At.credentials==="include"?Ot.withCredentials=!0:At.credentials==="omit"&&(Ot.withCredentials=!1),"responseType"in Ot&&ot.blob&&(Ot.responseType="blob"),At.headers.forEach(function(Wt,Jt){Ot.setRequestHeader(Jt,Wt)}),At.signal&&(At.signal.addEventListener("abort",Vt),Ot.onreadystatechange=function(){Ot.readyState===4&&At.signal.removeEventListener("abort",Vt)}),Ot.send(typeof At._bodyInit>"u"?null:At._bodyInit)})}return xt.polyfill=!0,rt.fetch||(rt.fetch=xt,rt.Headers=ht,rt.Request=It,rt.Response=Tt),it.Headers=ht,it.Request=It,it.Response=Tt,it.fetch=xt,Object.defineProperty(it,"__esModule",{value:!0}),it})({})})(tt),tt.fetch.ponyfill=!0,delete tt.fetch.polyfill;var nt=tt;o=nt.fetch,o.default=nt.fetch,o.fetch=nt.fetch,o.Headers=nt.Headers,o.Request=nt.Request,o.Response=nt.Response,s.exports=o})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const crossFetch=getDefaultExportFromCjs$1(browserPonyfillExports),idempotentMethods=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class BaseClient{constructor(o,et={}){if(this.endpoint=o,this.validateHeaders=tt=>et.validateHeaders?et.validateHeaders(tt):{},this.verbose=et.verbose!==!1,et.retries!==void 0&&!(et.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=et.retries,et.timeoutMs!==void 0&&!(et.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=et.timeoutMs,et.maxBackoffDelayMs!==void 0&&!(et.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=et.maxBackoffDelayMs||30*duration.second}static retries=8;static waitForConnectivity=async()=>{};static onResponseError=async()=>{};validateHeaders;verbose;configuredRetries;timeoutMs;maxBackoffDelayMs;getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}async fetch(o,et={}){return(await this.fetchVerbose(o,et)).body}async fetchVerbose(o,et={}){let tt=100*duration.millisecond,nt=0;const rt=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,it=rt?()=>Math.max(rt-new Date().getTime(),0):void 0;for(;;)try{return await this.doFetch(o,et,it)}catch(ot){const st=narrowError(ot,ConnectionError);if(it?.()===0||nt===this.getRetries()||!st.retryable)throw st;nt++,tt=Math.min(...it?[it()]:[],tt*(2+(Math.random()-.5)*.1),this.maxBackoffDelayMs),await delay(tt),this.verbose&&console.warn(`Connection failure, retrying. Error: ${ot.cause.message}`,{url:ot.url,error:ot.cause,attempt:nt})}}async doFetch(o,et,tt){const{token:nt,json:rt,allowUnsafeRetries:it,...ot}=et,st=(ot.method||"GET").toUpperCase(),at=this.endpoint!==void 0?`${this.endpoint}${o?`/${o}`:""}`:o,lt=new AbortController;let ct;if(tt){const ut=tt();ut>0?ct=setTimeout(()=>{lt.abort()},ut):lt.abort()}try{let ut;await Promise.race([this.getConstructor().waitForConnectivity(),new Promise(mt=>{ut=setTimeout(mt,tt?Math.min(duration.minute,tt()):duration.minute)})]),ut&&clearTimeout(ut);const dt=await crossFetch(at,{...ot,headers:{...rt!==!1?{"Content-Type":"application/json"}:{},...this.getHeaders(),...ot.headers||{},...nt!==void 0?{Authorization:`Bearer ${nt}`}:{},"app-id":"formant/admin-api"},signal:lt.signal}),ht=dt.headers.get("content-type")||"",pt=ht&&ht.startsWith("application/json"),gt=pt?await dt.json():await dt.text(),ft=()=>new ResponseError(st,at,dt.status,gt,gt&&gt.validationErrors||{},dt.headers);if(!dt.ok)throw this.verbose&&console.warn("Response error",{method:st,url:at,statusCode:dt.status}),ft();const yt=this.validateHeaders(dt.headers);if(Object.keys(yt).length!==0)throw new ResponseHeadersError(yt,ft());if(dt.status===204)return{body:void 0,headers:dt.headers};if(rt&&!pt)throw new Error(`Response is not JSON: ${JSON.stringify(gt)}`);return{body:gt,headers:dt.headers}}catch(ut){const dt=it||idempotentMethods.has(st);if(ut.message==="Network request failed")throw new ConnectionError(ut,at,dt);if(ut.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(ft=>ft===ut.code))throw new ConnectionError(ut,at,!0);if(ut.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(ft=>ft===ut.code))throw new ConnectionError(ut,at,dt);if(ut.name==="AbortError")throw new ConnectionError(ut,at,dt);const ht=narrowError(ut,ResponseError),{statusCode:pt}=ht;if(pt===408||pt===429||pt===502||pt===503||pt===504)throw this.verbose&&!dt&&console.warn("Potentially unsafe retry"),new ConnectionError(ut,at,!0);const gt=this.validateHeaders(ht.headers);throw Object.keys(gt).length!==0?new ResponseHeadersError(gt,ht):(await this.getConstructor().onResponseError(ht),ut)}finally{ct&&clearTimeout(ct)}}getConstructor(){return Object.getPrototypeOf(this).constructor}}class UploadPartClient extends BaseClient{constructor(){super(void 0,{retries:3,timeoutMs:10*duration.second})}async upload(o,et){const nt=(await this.fetchVerbose(o,{method:"PUT",body:et,json:!1})).headers.get("etag");if(!nt)throw new Error(`Invalid ETag from upload part response: ${nt}`);return nt}}const invalidHeadersValidation={"app-id":["app-id must match formant/*"]};class FormantBaseClient extends BaseClient{constructor(o,et={}){super(o,{validateHeaders:tt=>`${tt.get("app-id")}`.startsWith("formant/")?{}:invalidHeadersValidation,...et}),this.endpoint=o}static headers={};getHeaders(){return{...FormantBaseClient.headers}}}class BaseModelClient extends FormantBaseClient{constructor(o,et){super(o),this.path=et}async get(o,et){try{return await this.fetch(`${this.path}/${et}`,{token:o})}catch(tt){const nt=narrowError(tt,ResponseError);if(nt.statusCode===404)return;throw nt}}async list(o,et){return(await this.fetch(et===void 0?this.path:`${this.path}?${et&&Object.entries(et).map(([nt,rt])=>`${nt}=${rt}`).join("&")}`,{token:o})).items}async create(o,et){return await this.fetch(this.path,{token:o,method:"POST",body:JSON.stringify(et)})}async update(o,et,tt){return await this.fetch(`${this.path}/${et}`,{token:o,method:"PATCH",body:JSON.stringify(tt)})}async delete(o,et){try{await this.fetch(`${this.path}/${et}`,{token:o,method:"DELETE"})}catch(tt){narrowError(tt,ResponseError,nt=>nt.statusCode===404)}}}class FileClient extends BaseModelClient{uploadPartClient=new UploadPartClient;constructor(o){super(o,"files")}async uploadFile(o,et){const tt={fileName:et.name,fileSize:et.size},{fileId:nt,partSize:rt,partUrls:it,uploadId:ot}=await this.fetch("files/begin-upload",{token:o,method:"POST",body:JSON.stringify(tt)}),st=[];for(let lt=0;lt<it.length;lt++){const ct=et.slice(lt*rt,lt*rt+rt),ut=await this.uploadPartClient.upload(it[lt],ct);st.push(ut)}const at={fileId:nt,uploadId:ot,eTags:st};return await this.fetch("files/complete-upload",{token:o,method:"POST",body:JSON.stringify(at)}),nt}async query(o,et){const{fileUrls:tt}=await this.fetch("files/query",{token:o,method:"POST",body:JSON.stringify({fileIds:et})});return tt}async getUrl(o,et){return await this.fetch(`files/${et}/url`,{token:o,method:"GET"})}}const upload=async(s,o)=>{const et=window.location.href.includes("dev=true"),tt=new FileClient(`https://api${et?"-dev":""}.formant.io/v1/admin`),nt=new Blob([JSON.stringify(o)],{type:"application/json"}),rt=new File([nt],`waypoints-${v1()}.json`);return await tt.uploadFile(s,rt)},TextInput=reactExports.forwardRef(({label:s,onChange:o,onEnter:et,value:tt,min:nt,max:rt,type:it=PROPERTY_TYPE.STRING},ot)=>{const st=React.useRef(null);return jsxs(TextInputContainer,{ref:st,children:[jsx("label",{children:s}),jsx("input",{ref:ot,value:tt,placeholder:"Edit",onChange:at=>{const lt=st.current.childNodes[1];if(it===PROPERTY_TYPE.FLOAT){const ct=lt.value.replace(/[^0-9.-]/g,"");lt.value=(parseFloat(ct)>rt?rt:parseFloat(ct)<nt?nt:ct).toString()}if(it===PROPERTY_TYPE.INTEGER){const ct=lt.value.replace(/[^0-9-]/g,"");lt.value=(parseInt(ct)>rt?rt:parseInt(ct)<nt?nt:ct).toString()}o&&o(at)},onKeyDown:at=>{at.key==="Enter"&&et&&et()},onBlur:()=>et&&et()})]})}),getTaregt=s=>s.current,DropdownInput=reactExports.forwardRef(({label:s,content:o,onChange:et},tt)=>jsxs(DropdownContainer,{children:[jsx("label",{children:s}),jsx("select",{ref:tt,onChange:nt=>{et&&et(nt)},children:o.map((nt,rt)=>jsx("option",{value:rt,children:nt},rt))})]})),BooleanToggle=reactExports.forwardRef(({label:s,value:o=!1,onChange:et},tt)=>{const[nt,rt]=React.useState(o);return tt.current=ot=>rt(ot),jsxs(BooleanToggleContainer,{children:[jsx("label",{children:s}),jsxs("div",{onClick:()=>{rt(ot=>!ot),et&&et(!nt)},children:[jsx("div",{children:nt?"On":"Off"}),jsx("div",{children:nt?jsx(BooleanToggleTrueIcon,{}):jsx(BooleanToggleFalseIcon,{})})]})]})}),PropertyPanel=({waypointProperties:s,controlsStates:o})=>{const{waypoints:et,state:{selectedWaypoint:tt,isWaypointEditing:nt},updateState:rt,store:it,setWaypoints:ot}=o,[st,at]=reactExports.useState(!1),lt=[];for(let ft=0;ft<s.length;++ft)lt[ft]=React.useRef(null);const ct=React.useRef(null),ut=React.useRef(null),dt=React.useRef(null),ht=()=>{const ft=[];return s.forEach((yt,mt)=>{const{propertyType:Ft}=yt;if(Ft===PROPERTY_TYPE.STRING)ft.push(jsx(TextInput,{ref:lt[mt],label:yt.propertyName,onChange:vt=>{tt!==null&&(it.waypoints[tt][yt.propertyName]=vt.target.value)}},mt));else if(Ft===PROPERTY_TYPE.INTEGER||Ft===PROPERTY_TYPE.FLOAT)ft.push(jsx(TextInput,{ref:lt[mt],label:yt.propertyName,min:yt.min,max:yt.max,type:Ft===PROPERTY_TYPE.INTEGER?Ft:PROPERTY_TYPE.FLOAT,onChange:vt=>{tt!==null&&(it.waypoints[tt][yt.propertyName]=vt.target.value)}},mt));else if(Ft===PROPERTY_TYPE.BOOLEAN)ft.push(jsx(BooleanToggle,{ref:lt[mt],label:yt.propertyName,onChange:vt=>{tt!==null&&(it.waypoints[tt][yt.propertyName]=vt)}},mt));else if(Ft===PROPERTY_TYPE.ENUM&&yt.enumLists){const{enumLists:vt}=yt,Et=vt.map(wt=>wt.enumList);ft.push(jsx(DropdownInput,{ref:lt[mt],label:yt.propertyName,content:Et,onChange:wt=>{if(tt===null)return;const It=parseInt(wt.target.value);it.waypoints[tt][yt.propertyName]=[It,Et[It]]}},mt))}}),ft},pt=()=>{if(tt===null)return;ot(yt=>yt.filter((mt,Ft)=>Ft!==tt));const{waypoints:ft}=it;it.waypoints=ft.filter((yt,mt)=>mt!==tt),tt>0?rt({selectedWaypoint:tt-1}):ft.length>1?rt({selectedWaypoint:ft.length-2}):rt({selectedWaypoint:null})},gt=ft=>{if(tt!==null){let yt=parseFloat(getTaregt(ft==="x"?ut:dt).value);yt=isNaN(yt)?0:yt;const mt=[...et];ft==="x"?mt[tt].translation.x=yt:mt[tt].translation.y=yt,ot(mt),it.waypoints[tt]}};return reactExports.useEffect(()=>{const ft=yt=>{yt.key==="Delete"&&at(!0)};return window.addEventListener("keydown",ft),()=>window.removeEventListener("keydown",ft)},[]),reactExports.useEffect(()=>{if(!nt||et.length===0)return;if(tt===null){ct.current.value="",ut.current.value="",dt.current.value="",s.length>0&&s.forEach(({propertyType:wt},It)=>{wt===PROPERTY_TYPE.STRING||wt===PROPERTY_TYPE.INTEGER?lt[It].current.value="":lt[It].current.value="0"});return}const{pose:ft}=it.waypoints[tt],{x:yt,y:mt,z:Ft,w:vt}=ft.rotation,Et=new Euler().setFromQuaternion(new Quaternion(yt,mt,Ft,vt));ct.current.value=MathUtils.radToDeg(Et.z).toFixed(2),ut.current.value=ft.translation.x.toFixed(2),dt.current.value=ft.translation.y.toFixed(2),s.length>0&&s.forEach((wt,It)=>{if(wt.propertyType===PROPERTY_TYPE.STRING){const St=it.waypoints[tt][wt.propertyName];lt[It].current.value=St||wt.stringDefault||"",it.waypoints[tt][wt.propertyName]=lt[It].current.value}else if(wt.propertyType===PROPERTY_TYPE.INTEGER){const St=it.waypoints[tt][wt.propertyName];lt[It].current.value=St||(wt.integerDefault!==void 0?wt.integerDefault:wt.min>0?wt.min:0),it.waypoints[tt][wt.propertyName]=lt[It].current.value}else if(wt.propertyType===PROPERTY_TYPE.FLOAT){const St=it.waypoints[tt][wt.propertyName];lt[It].current.value=St||(wt.floatDefault!==void 0?wt.floatDefault:wt.min>0?wt.min:0),it.waypoints[tt][wt.propertyName]=lt[It].current.value}else if(wt.propertyType===PROPERTY_TYPE.BOOLEAN){const St=it.waypoints[tt][wt.propertyName],Rt=St!==void 0?St:wt.booleanDefault!==void 0?wt.booleanDefault:!1;it.waypoints[tt][wt.propertyName]=Rt,lt[It].current(St)}else if(wt.propertyType===PROPERTY_TYPE.ENUM){const{enumDefault:St,enumLists:Rt}=wt;if(!Rt)return;const Tt=it.waypoints[tt][wt.propertyName],bt=[0,Rt[0].enumList];Tt?(bt[0]=Tt[0],bt[1]=Tt[1]):St!==void 0&&(bt[0]=Rt.map(xt=>xt.enumList).indexOf(St),bt[1]=St,bt[0]===-1&&(bt[0]=0,bt[1]=Rt[0].enumList)),it.waypoints[tt][wt.propertyName]=bt,lt[It].current.value=bt[0].toString()}})},[tt,et]),jsxs(Fragment,{children:[jsx(PanelContainer,{children:et.length>0?jsxs(Fragment,{children:[jsx("h1",{children:"HEADING"}),jsx(TextInput,{ref:ct,label:"Orientation",type:PROPERTY_TYPE.FLOAT,onEnter:()=>{if(tt===null)return;let ft=parseFloat(getTaregt(ct).value);ft=isNaN(ft)?0:ft;const yt=new Euler(0,0,MathUtils.degToRad(ft)),{x:mt,y:Ft,z:vt,w:Et}=new Quaternion().setFromEuler(yt),wt=[...et];wt[tt].rotation={x:mt,y:Ft,z:vt,w:Et},ot(wt),it.waypoints[tt].pose.rotation={x:mt,y:Ft,z:vt,w:Et}}}),jsx("h1",{children:"POSITION"}),jsx(TextInput,{ref:ut,label:"X-axis",type:PROPERTY_TYPE.FLOAT,onEnter:()=>gt("x")}),jsx(TextInput,{ref:dt,label:"Y-axis",type:PROPERTY_TYPE.FLOAT,onEnter:()=>gt("y")}),s.length>0&&jsx("h1",{children:"PROPERTIES"}),ht(),jsx("button",{onClick:()=>{et.length!==0&&at(!0)},children:"Delete"})]}):jsx("p",{className:"description",children:'"Click Shift + Left click on the scene to drop a pin"'})}),st&&jsx(Modal,{content:["Delete","waypoint"],buttons:["CANCEL","DELETE"],handler1:()=>at(!1),handler2:()=>{at(!1),pt()}})]})},LoadingBar=({isWaypointPanelVisible:s,sending:o,setSending:et})=>{const tt=React.useRef(),[nt,rt]=React.useState(!1);return reactExports.useEffect(()=>(o===SENDING_STATUS.SUCCESS?tt.current=window.setTimeout(()=>{rt(!1)},4e3):clearTimeout(tt.current),()=>{tt.current&&clearTimeout(tt.current)}),[o]),reactExports.useEffect(()=>{rt(o!==SENDING_STATUS.NONE)},[o]),reactExports.useEffect(()=>{!s&&rt(s)},[s]),jsx(Fragment,{children:nt&&jsxs(LoadingBarContainer,{sending:o,children:[jsx("div",{}),jsx("p",{children:o===SENDING_STATUS.WAITING?"Sending waypoints to device":o===SENDING_STATUS.SUCCESS?"SUCCESS":"FAIL"}),o===SENDING_STATUS.FAIL&&jsx("span",{onClick:it=>{rt(!1),et(SENDING_STATUS.NONE)},children:jsx(CLoseIcon,{})})]})})},devMode=!window.location.href.includes("module"),MissionPlanning=({controlsStates:s,config:o})=>{const{waypoints:et,state:{isWaypointPanelVisible:tt,commandName:nt},updateState:rt,store:it,setWaypoints:ot}=s,[st,at]=reactExports.useState(!1),[lt,ct]=reactExports.useState(SENDING_STATUS.NONE),ut=o.missionPlanning&&o.missionPlanning.length>0?o.missionPlanning[0].waypointProperties||[]:[],dt=o.visualizations.map(ft=>ft.visualizationType).includes("Path"),ht=async()=>{if(!nt)return;const{waypoints:ft}=it;if(ct(SENDING_STATUS.WAITING),rt({isWaypointEditing:!1}),devMode)setTimeout(()=>{const yt=Math.random()>.5;ct(yt?SENDING_STATUS.SUCCESS:SENDING_STATUS.FAIL),rt({isWaypointEditing:!yt,hasPath:yt})},2e3);else{const yt=await Fleet.getCurrentDevice(),mt=await upload(Authentication.token,{waypoints:ft}),Ft=await(await yt.sendCommand(nt,mt.toString())).json(),vt=window.setInterval(async()=>{const Et=await(await yt.getCommand(Ft.id)).json();Et.success===!0&&(clearInterval(vt),ct(SENDING_STATUS.SUCCESS),rt({isWaypointEditing:!1})),Et.success===!1&&(clearInterval(vt),ct(SENDING_STATUS.FAIL),rt({isWaypointEditing:!0}))},2e3)}},pt=lt===SENDING_STATUS.WAITING,gt=et.length===0||lt===SENDING_STATUS.WAITING;return jsxs(Container,{children:[jsx(LoadingBar,{sending:lt,setSending:ct,isWaypointPanelVisible:tt}),jsx(ToggleIcon,{controlsStates:s,hasPathLayer:dt}),tt&&jsx(Fragment,{children:lt!==SENDING_STATUS.SUCCESS?jsxs(Fragment,{children:[jsx(PropertyPanel,{waypointProperties:ut,controlsStates:s}),st&&jsx(Modal,{content:["Are you sure you want to cancel","planning"],subContent:"This action will delete all your progress and you will need to start over",buttons:["BACK","CANCEL"],handler1:()=>at(!1),handler2:()=>{at(!1),rt({isWaypointPanelVisible:!1,isWaypointEditing:!1,hasPath:!0}),ot([]),it.waypoints=[]}}),jsxs(ControlButtonGroup,{disableBtn1:pt,disableBtn2:gt,children:[jsx("button",{onClick:()=>at(!0),disabled:pt,children:"Cancel"}),jsx("button",{onClick:()=>{et.length!==0&&lt!==SENDING_STATUS.WAITING&&ht()},disabled:gt,children:"Send Path"})]})]}):jsxs(ControlButtonGroup,{large:!0,children:[jsx("button",{onClick:()=>{rt({isWaypointEditing:!0,isWaypointPanelVisible:!0,hasWaypointsPath:!0}),ct(SENDING_STATUS.NONE)},children:"Edit"}),jsx("button",{onClick:()=>{rt({isWaypointPanelVisible:!1,hasPath:!0}),ct(SENDING_STATUS.NONE),ot([]),it.waypoints=[]},children:"Complete Planning"})]})})]})},Controls=styled.div`
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  flex-direction: column;
  position: absolute;
  top: 100px;
  right: 0;
  pointer-events: none;
`,ControlGroup=styled.div`
  box-shadow: 0 0 1.25rem #0a0b10;
  display: flex;
  flex-direction: column;
  margin: 0.625rem;
  margin-bottom: 0;
  background: #1c1e2d;
  border: 0.078125rem solid #3b4668;
  border-radius: 1rem;
  box-sizing: border-box;
  pointer-events: all;

  /* overflow: hidden; */

  & > div {
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 3.75rem;
    width: 1.6rem;

    will-change: opacity;

    & > div {
      width: 100%;
      height: 3.75rem;
      order: 2;
      margin: 0.625rem 0;
      position: relative;

      display: flex;
      align-items: center;
      justify-content: center;

      & > div {
        position: absolute;
        width: 3.75rem;
        height: 1.875rem;
        transform: rotate(-90deg);
        transform-origin: 50% 50%;

        input {
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          margin: 0;

          appearance: none;
          background: transparent;
          cursor: pointer;

          ::-webkit-slider-runnable-track {
            background: #bac4e2;
            height: 0.05rem;
          }
          ::-webkit-slider-thumb {
            -webkit-appearance: none; /* Override default look */
            margin-top: -12px; /* Centers thumb on the track */
            background-color: #f0f7fe;
            height: 1rem;
            width: 1rem;
            border-radius: 50%;
            margin-top: -0.5rem;
          }

          ::-moz-range-track {
            background: #bac4e2;
            height: 0.5rem;
          }
          ::-moz-range-thumb {
            -moz-appearance: none;
            margin-top: -12px; /* Centers thumb on the track */
            background-color: #f0f7fe;
            height: 1rem;
            width: 1rem;
            border-radius: 50%;
            margin-top: -0.5rem;
          }

          /* background: rgba(0, 0, 0, 0); */
          width: 100%;
          cursor: pointer;
        }
      }
    }
  }
`,PointSizeSlider=({controlsStates:s})=>{const{state:{pointSize:o,hasPointCloud:et},updateState:tt}=s;return et?jsx(Controls,{children:jsx(ControlGroup,{children:jsx("div",{children:jsx("div",{children:jsx("div",{children:jsx("input",{type:"range",min:"0.8",max:"2.5",step:"0.05",value:o,onChange:nt=>{tt({pointSize:parseFloat(nt.target.value)})}})})})})})}):null},query$3=new URLSearchParams(window.location.search),shouldUseVR=query$3.get("vr")==="true",fancy=query$3.get("fancy")==="true",WaitForControls=({children:s})=>{const{controls:o}=useThree();return o?jsx(Fragment,{children:s}):null},SceneContainer=styled.div`
  position: absolute;
  top: 0;
  left: ${({sidebarOpen:s})=>s?"252px":"0px"};
  height: 100%;
  width: ${({sidebarOpen:s})=>s?"calc(100% - 252px)":"100%"};
  overflow: hidden;
  transition: left 0.2s ease;
  & canvas {
    transition: width 0.05s linear;
    width: 100%;
  }
`;function Universe(s){const[o,et]=React.useState(null),[tt,nt]=React.useState(!1),rt=React.useRef(null),it=shouldUseVR,{layers:ot,register:st,toggleVisibility:at,cameraTargetId:lt,setCameraTargetId:ct,reset:ut,isEditing:dt,toggleEditMode:ht}=useUI(),pt=useControlsContextStates(),{state:{commandName:gt,isWaypointPanelVisible:ft}}=pt;reactExports.useEffect(()=>{ut()},[s.configHash]);const yt=(bt,xt=!1)=>{o?.dispatchEvent({type:"lookAtTargetId",message:bt,isDevice:xt})},mt=React.useCallback(()=>{const bt=ot.find(xt=>xt.type===LayerType.TRACKABLE);bt?yt(bt.id,!0):Ft()},[ot,yt]),Ft=()=>{o?.dispatchEvent({type:"recenter"})},vt=bt=>{const xt=rt.current;xt&&xt.dolly(bt,!0)};let Et;const wt=()=>{let bt=.5;Et=setInterval(()=>{vt(bt),rt.current?.distance<=1&&clearInterval(Et)},20)},It=()=>{let bt=.5;Et=setInterval(()=>{vt(-bt),rt.current?.distance>=rt.current?.maxDistance-1&&clearInterval(Et)},20)},St=()=>{clearInterval(Et)};reactExports.useEffect(()=>{ot.forEach(bt=>{const xt=o?.getObjectByName(bt.id);xt&&(xt.visible=bt.visible)})},[ot,o]);const Rt=bt=>{tt&&bt&&(mt(),o?.dispatchEvent({type:"stopTracking"})),nt(!tt)},{debug:Tt}=s;return reactExports.useEffect(()=>{rt.current&&rt.current.addEventListener("controlstart",()=>{o?.dispatchEvent({type:"stopTracking"})})},[rt.current]),jsx(Fragment,{children:jsxs(UIDataContext.Provider,{value:{layers:ot,register:st,toggleVisibility:at,cameraTargetId:lt,setCameraTargetId:ct,reset:ut,isEditing:dt,toggleEditMode:ht,debug:Tt},children:[!ft&&jsx(Sidebar,{lookAtTargetId:yt,toggleSidebarCallback:Rt}),jsxs(SceneContainer,{sidebarOpen:tt,children:[it&&jsx(VRButton,{}),jsxs(Canvas,{onCreated:bt=>{et(bt.scene)},dpr:[1,2],flat:!0,gl:{logarithmicDepthBuffer:!0},children:[Tt&&jsx(Stats,{className:"stats"}),jsxs(XR,{children:[jsx("color",{attach:"background",args:[FormantColors.steel01]}),jsxs(ControlsContext.Provider,{value:pt,children:[jsx(PerspectiveCamera,{makeDefault:!0,position:[0,0,10],up:[0,0,1],far:2500,near:.6}),jsx(CameraControls,{makeDefault:!0,ref:rt,maxDistance:2e3,maxPolarAngle:Math.PI/2-.1,attach:"controls",verticalDragToForward:!0,draggingSmoothTime:.07,smoothTime:.07,infinityDolly:!1,minDistance:2,mouseButtons:{left:2,right:1,middle:2,wheel:8}}),jsx(WaitForControls,{children:jsx(Bounds,{observe:!0,margin:1.5,damping:2,debug:Tt,children:jsx("group",{children:s.children})})}),fancy&&jsxs(EffectComposer,{children:[jsx(Bloom,{mipmapBlur:!0,intensity:1,luminanceThreshold:.5}),jsx(Noise,{opacity:.02}),jsx(Vignette,{offset:.3,darkness:.9,blendFunction:BlendFunction.NORMAL})]}),it&&jsxs(Fragment,{children:[jsx(Controllers,{rayMaterial:{color:"red"}}),jsx(Hands,{}),jsxs("mesh",{children:[jsx("boxGeometry",{}),jsx("meshBasicMaterial",{color:"blue"})]})]})]})]})]})]}),jsx(ZoomControls,{zoomIn:wt,zoomOut:It,recenter:mt,stopZoom:St,isEditing:dt,toggleEditMode:ht}),jsx(PointSizeSlider,{controlsStates:pt}),gt&&jsx(MissionPlanning,{controlsStates:pt,config:s.config})]})})}const Wrapper=styled.div`
  background-color: #2d3855;
  display: flex;
  flex-direction: column;
  align-items: left;
  justify-content: center;
  height: 100%;
  width: 100%;
  padding: 0 10%;
  margin: auto;
  overflow-y: hidden;

  & > svg {
    margin-bottom: 18px;
  }

  & > h5 {
    color: #fff;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 1.1px;
    margin-bottom: 4px;
    line-height: 18px;
    font-family: "Inter";
  }

  & > p {
    font-size: 13px;
    font-weight: 400;
    letter-spacing: 0.6px;
    color: #bac4e2;
    line-height: 20px;
    font-family: "Inter";
  }
`,ArrowWrapper=styled.div`
  display: flex;
  position: absolute;
  top: 16px;
  right: 20.5px;
`,MissingConfig=()=>jsxs(Wrapper,{children:[jsx(Warning,{}),jsx("h5",{children:"MODULE CONFIGURATION"}),jsx("p",{children:"“This module has yet to be configured. Select ‘configure‘ from the meatball menu in the upper right corner”"}),jsx(ArrowWrapper,{children:jsx(ConfigArrow,{})})]});function parseDataSource(s,o){if(s.telemetryStreamName)return DataSourceBuilder.telemetry(s.telemetryStreamName,o,s.telemetryLatestDataPoint)}function getRealtimePointCloudDataSource(s){if(s.pointCloudRealtimeStream)return DataSourceBuilder.realtime(s.pointCloudRealtimeStream,"point cloud")}function getRealtimeJointStateDataSource(s){if(s.realtimeJointStateStream)return DataSourceBuilder.realtime(s.realtimeJointStateStream,"json")}function getTeletryJointStateDataSource(s){if(s.jointStateTelemetryStreamName)return DataSourceBuilder.telemetry(s.jointStateTelemetryStreamName,"json")}function parsePositioning(s){switch(s.transformType){case"Cartesian":return PositioningBuilder.fixed(s.transformX||0,s.transformY||0,s.transformZ||0);case"GPS":return PositioningBuilder.gps(s.transformGpsStream||"",{long:s.transformRelativeLongitude||0,lat:s.transformRelativeLatitude||0});case"Odometry":return PositioningBuilder.odometry(s.transformLocalizationStream||"",s.transformLocalizationRealtimeStream||"",s.transformLocalizationLatestDataPoint||!1);case"Transform tree":return PositioningBuilder.tranformTree(s.transformTreeStream||"",s.transformTreeEndPoint||"");default:return PositioningBuilder.fixed(0,0,0)}}class Color{constructor(o,et,tt,nt=1){this.r=o,this.g=et,this.b=tt,this.a=nt;const rt=this.r/255,it=this.g/255,ot=this.b/255,st=Math.max(rt,it,ot),at=Math.min(rt,it,ot);let lt=0,ct=0;const ut=(st+at)/2;if(st!==at){const dt=st-at;switch(ct=ut>.5?dt/(2-st-at):dt/(st+at),st){case rt:lt=(it-ot)/dt+(it<ot?6:0);break;case it:lt=(ot-rt)/dt+2;break;case ot:lt=(rt-it)/dt+4;break}lt/=6}this.h=lt,this.s=ct,this.l=ut}h;s;l;static fromString(o){const et=/#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(o);if(et)return new Color(parseInt(et[1],16),parseInt(et[2],16),parseInt(et[3],16))}toString(){const o=et=>et.toString(16).padStart(2,"0");return`#${o(this.r)}${o(this.g)}${o(this.b)}${this.a===1?"":o(Math.round(this.a*255))}`}withAlpha(o){return new Color(this.r,this.g,this.b,o)}}const color1=defined$1(Color.fromString("#729fda")),color2=defined$1(Color.fromString("#F89973")),glColor=s=>`vec3(${s.h}, ${s.s}, ${s.l})`,vertexShader=`
    varying vec3 vColor;
    uniform float pointScale;
    uniform float radius;
    uniform float intensityMin;
    uniform float intensityMax;
    uniform float formantColors;
    uniform float density;
    
    float map(float value, float min1, float max1, float min2, float max2) {
        return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
    }
    
    vec3 hslToRgb(vec3 c)
    {
        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
    }
    
    void main() {
        vec4 projectedPosition = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        float cameraDistance = length(projectedPosition.xyz);
        float q = pow(pointScale,3.0) / (cameraDistance * density);
        float redShift = (radius - cameraDistance) / radius / 2.0;
        float intensity = ((color.r * 65025.0) + (color.g * 255.0) + color.b) / 65025.0;
        float minLuminocity = 0.5;
        float maxLuminocity = 2.0;
    
        // map compress intensity dynamic range to 0.5 - 2.0
        float intensityNormalized = intensityMin != intensityMax ? map(intensity, intensityMin, intensityMax, minLuminocity, maxLuminocity) : 1.0;
        
        vec3 color1 = ${glColor(color1)};
        vec3 color2 = ${glColor(color2)};
    
        // set luminocity to compressed intensity
        color1.b = intensityNormalized;
        color2.b = intensityNormalized;
    
        color1 = hslToRgb(color1);
        color2 = hslToRgb(color2);
    
        // apply red shift

        if (formantColors == 1.0) {
          vColor = mix(color1, color2, clamp(-redShift, 0.0, 1.0));
        } else {
          vColor = vec3(color.r, color.g, color.b);
        }

        gl_PointSize = clamp(50.0 * q, 2.0 / density, 100.0);
    
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1);
    }`,fragmentShader=`
    uniform sampler2D pointCloudTexture;
    varying vec3 vColor;
    
    void main() {  
        gl_FragColor = vec4(vColor, 1) * texture2D(pointCloudTexture, gl_PointCoord);
    }`,PointCloudLayer=s=>{const{dataSource:o,useColors:et}=s,[tt,nt]=reactExports.useContext(UniverseDataContext),rt=reactExports.useContext(LayerContext),{state:{pointSize:it},updateState:ot}=useControlsContext(),[st,at]=reactExports.useState(null),lt=useLoader(TextureLoader,"./point-circle.png"),ct=reactExports.useRef(new ShaderMaterial({blendEquation:MaxEquation,blending:CustomBlending,depthTest:!0,depthWrite:!1,vertexShader,fragmentShader,uniforms:{pointCloudTexture:{value:lt},pointScale:{value:1},radius:{value:1},intensityMin:{value:0},intensityMax:{value:0},formantColors:{value:et?0:1},density:{value:1}},transparent:!0,vertexColors:!0})),ut=reactExports.useRef(new Points(new BufferGeometry,ct.current));reactExports.useEffect(()=>{ct.current&&(ct.current.uniforms.pointScale.value=it)},[it]),reactExports.useEffect(()=>{if(!rt)return;const{deviceId:pt}=rt;ot({hasPointCloud:!0});const gt=ut.current;if(gt.up=new Vector3(0,0,1),gt.frustumCulled=!1,o){const ft=(o.sourceType==="realtime"?nt:tt).subscribeToPointCloud(pt,o,yt=>{typeof yt!="symbol"&&at(yt)});return()=>{ft()}}},[rt,tt,nt,o]);const dt=()=>{const pt=st?.pcd?.positions?.reduce((ft,yt)=>(ft=(ft<<5)-ft+yt,ft|0),0),gt=st?.pcd?.colors?.reduce((ft,yt)=>(ft=(ft<<5)-ft+yt,ft|0),0);return pt+gt},ht=pt=>{if(st&&ut.current.userData.hash!==pt){const{positions:gt,colors:ft}=defined$1(st.pcd),yt={translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0,w:1}},mt=st.worldToLocal?st.worldToLocal:yt,Ft=ut.current,vt=Ft.geometry;if(Ft.userData={hash:pt},gt&&gt.length>0){vt.setAttribute("position",new BufferAttribute(new Float32Array(gt),3)),vt.setAttribute("color",new BufferAttribute(new Float32Array(ft),4));let Et=0,wt=0;if(ft!==void 0&&ft.length>0)for(let Bt=0;Bt<ft.length;Bt+=4){const Ct=(ft[Bt]*65025+ft[Bt+1]*255+ft[Bt+2])/65025;Et=Math.min(Ct,Et),wt=Math.max(Ct,wt)}vt.computeBoundingSphere(),vt.computeBoundingBox();const It=gt?.length||0,St=vt.boundingSphere?vt.boundingSphere.radius:0,Rt=St>50?50:St,Tt=4/3*Math.PI*Math.pow(Rt,3),bt=Math.pow(It/(Tt||1),.3333);Ft.matrixAutoUpdate=!1,Ft.matrix.copy(transformMatrix(mt));const xt=Ft.material;xt.uniforms.intensityMin.value=Et,xt.uniforms.intensityMax.value=wt,xt.uniforms.radius.value=St,xt.uniforms.density.value=bt,xt.needsUpdate=!0}}};if(st){const pt=dt();ht(pt)}return jsx(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:jsx("primitive",{object:ut.current})})},context=reactExports.createContext(null),vec1=new Vector3,vec2=new Vector3,calculateOffset=(s,o,et,tt)=>{const nt=o.dot(o),rt=o.dot(s)-o.dot(et),it=o.dot(tt);return it===0?-rt/nt:(vec1.copy(tt).multiplyScalar(nt/it).sub(o),vec2.copy(tt).multiplyScalar(rt/it).add(et).sub(s),-vec1.dot(vec2)/vec1.dot(vec1))},upV=new Vector3(0,1,0),offsetMatrix$1=new Matrix4,AxisArrow=({direction:s,axis:o})=>{const{translation:et,translationLimits:tt,annotations:nt,annotationsClass:rt,depthTest:it,scale:ot,lineWidth:st,fixed:at,axisColors:lt,hoveredColor:ct,opacity:ut,onDragStart:dt,onDrag:ht,onDragEnd:pt,userData:gt}=reactExports.useContext(context),ft=useThree(Nt=>Nt.controls),yt=reactExports.useRef(null),mt=reactExports.useRef(null),Ft=reactExports.useRef(null),vt=reactExports.useRef(0),[Et,wt]=reactExports.useState(!1),It=reactExports.useCallback(Nt=>{nt&&(yt.current.innerText=`${et.current[o].toFixed(2)}`,yt.current.style.display="block"),Nt.stopPropagation();const At=new Matrix4().extractRotation(mt.current.matrixWorld),Ot=Nt.point.clone(),Vt=new Vector3().setFromMatrixPosition(mt.current.matrixWorld),Wt=s.clone().applyMatrix4(At).normalize();Ft.current={clickPoint:Ot,dir:Wt},vt.current=et.current[o],dt({component:"Arrow",axis:o,origin:Vt,directions:[Wt]}),ft&&(ft.enabled=!1),Nt.target.setPointerCapture(Nt.pointerId)},[nt,s,ft,dt,et,o]),St=reactExports.useCallback(Nt=>{if(Nt.stopPropagation(),Et||wt(!0),Ft.current){const{clickPoint:At,dir:Ot}=Ft.current,[Vt,Wt]=tt?.[o]||[void 0,void 0];let Jt=calculateOffset(At,Ot,Nt.ray.origin,Nt.ray.direction);Vt!==void 0&&(Jt=Math.max(Jt,Vt-vt.current)),Wt!==void 0&&(Jt=Math.min(Jt,Wt-vt.current)),et.current[o]=vt.current+Jt,nt&&(yt.current.innerText=`${et.current[o].toFixed(2)}`),offsetMatrix$1.makeTranslation(Ot.x*Jt,Ot.y*Jt,Ot.z*Jt),ht(offsetMatrix$1)}},[nt,ht,Et,et,tt,o]),Rt=reactExports.useCallback(Nt=>{nt&&(yt.current.style.display="none"),Nt.stopPropagation(),Ft.current=null,pt(),ft&&(ft.enabled=!0),Nt.target.releasePointerCapture(Nt.pointerId)},[nt,ft,pt]),Tt=reactExports.useCallback(Nt=>{Nt.stopPropagation(),wt(!1)},[]),{cylinderLength:bt,coneWidth:xt,coneLength:Bt,matrixL:Ct}=reactExports.useMemo(()=>{const Nt=at?st/ot*1.6:ot/20,At=at?.2:ot/5,Ot=at?1-At:ot-At,Vt=new Quaternion().setFromUnitVectors(upV,s.clone().normalize()),Wt=new Matrix4().makeRotationFromQuaternion(Vt);return{cylinderLength:Ot,coneWidth:Nt,coneLength:At,matrixL:Wt}},[s,ot,st,at]),Mt=Et?ct:lt[o];return jsx("group",{ref:mt,children:jsxs("group",{matrix:Ct,matrixAutoUpdate:!1,onPointerDown:It,onPointerMove:St,onPointerUp:Rt,onPointerOut:Tt,children:[nt&&jsx(Html,{position:[0,-Bt,0],children:jsx("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:rt,ref:yt})}),jsx("mesh",{visible:!1,position:[0,(bt+Bt)/2,0],userData:gt,children:jsx("cylinderGeometry",{args:[xt*1.4,xt*1.4,bt+Bt,8,1]})}),jsx(Line,{transparent:!0,raycast:()=>null,depthTest:it,points:[0,0,0,0,bt,0],lineWidth:st,color:Mt,opacity:ut,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10}),jsxs("mesh",{raycast:()=>null,position:[0,bt+Bt/2,0],renderOrder:500,children:[jsx("coneGeometry",{args:[.15,Bt,24,1]}),jsx("meshBasicMaterial",{transparent:!0,depthTest:it,color:Mt,opacity:ut,polygonOffset:!0,polygonOffsetFactor:-10})]})]})})},decomposeIntoBasis=(s,o,et)=>{const tt=Math.abs(s.x)>=Math.abs(s.y)&&Math.abs(s.x)>=Math.abs(s.z)?0:Math.abs(s.y)>=Math.abs(s.x)&&Math.abs(s.y)>=Math.abs(s.z)?1:2,nt=[0,1,2].sort((ht,pt)=>Math.abs(o.getComponent(pt))-Math.abs(o.getComponent(ht))),rt=tt===nt[0]?nt[1]:nt[0],it=s.getComponent(tt),ot=s.getComponent(rt),st=o.getComponent(tt),at=o.getComponent(rt),lt=et.getComponent(tt),ut=(et.getComponent(rt)-lt*(ot/it))/(at-st*(ot/it));return[(lt-ut*st)/it,ut]},ray$1=new Ray$1,intersection$1=new Vector3,offsetMatrix=new Matrix4,PlaneSlider=({dir1:s,dir2:o,axis:et})=>{const{translation:tt,translationLimits:nt,annotations:rt,annotationsClass:it,depthTest:ot,scale:st,lineWidth:at,fixed:lt,axisColors:ct,hoveredColor:ut,opacity:dt,onDragStart:ht,onDrag:pt,onDragEnd:gt,userData:ft}=reactExports.useContext(context),yt=useThree(At=>At.controls),mt=reactExports.useRef(null),Ft=reactExports.useRef(null),vt=reactExports.useRef(null),Et=reactExports.useRef(0),wt=reactExports.useRef(0),[It,St]=reactExports.useState(!1),Rt=reactExports.useCallback(At=>{rt&&(mt.current.innerText=`${tt.current[(et+1)%3].toFixed(2)}, ${tt.current[(et+2)%3].toFixed(2)}`,mt.current.style.display="block"),At.stopPropagation();const Ot=At.point.clone(),Vt=new Vector3().setFromMatrixPosition(Ft.current.matrixWorld),Wt=new Vector3().setFromMatrixColumn(Ft.current.matrixWorld,0).normalize(),Jt=new Vector3().setFromMatrixColumn(Ft.current.matrixWorld,1).normalize(),qt=new Vector3().setFromMatrixColumn(Ft.current.matrixWorld,2).normalize(),Ht=new Plane().setFromNormalAndCoplanarPoint(qt,Vt);vt.current={clickPoint:Ot,e1:Wt,e2:Jt,plane:Ht},Et.current=tt.current[(et+1)%3],wt.current=tt.current[(et+2)%3],ht({component:"Slider",axis:et,origin:Vt,directions:[Wt,Jt,qt]}),yt&&(yt.enabled=!1),At.target.setPointerCapture(At.pointerId)},[rt,yt,ht,et]),Tt=reactExports.useCallback(At=>{if(At.stopPropagation(),It||St(!0),vt.current){const{clickPoint:Ot,e1:Vt,e2:Wt,plane:Jt}=vt.current,[qt,Ht]=nt?.[(et+1)%3]||[void 0,void 0],[Xt,Lt]=nt?.[(et+2)%3]||[void 0,void 0];ray$1.copy(At.ray),ray$1.intersectPlane(Jt,intersection$1),ray$1.direction.negate(),ray$1.intersectPlane(Jt,intersection$1),intersection$1.sub(Ot);let[Pt,kt]=decomposeIntoBasis(Vt,Wt,intersection$1);qt!==void 0&&(Pt=Math.max(Pt,qt-Et.current)),Ht!==void 0&&(Pt=Math.min(Pt,Ht-Et.current)),Xt!==void 0&&(kt=Math.max(kt,Xt-wt.current)),Lt!==void 0&&(kt=Math.min(kt,Lt-wt.current)),tt.current[(et+1)%3]=Et.current+Pt,tt.current[(et+2)%3]=wt.current+kt,rt&&(mt.current.innerText=`${tt.current[(et+1)%3].toFixed(2)}, ${tt.current[(et+2)%3].toFixed(2)}`),offsetMatrix.makeTranslation(Pt*Vt.x+kt*Wt.x,Pt*Vt.y+kt*Wt.y,Pt*Vt.z+kt*Wt.z),pt(offsetMatrix)}},[rt,pt,It,tt,nt,et]),bt=reactExports.useCallback(At=>{rt&&(mt.current.style.display="none"),At.stopPropagation(),vt.current=null,gt(),yt&&(yt.enabled=!0),At.target.releasePointerCapture(At.pointerId)},[rt,yt,gt]),xt=reactExports.useCallback(At=>{At.stopPropagation(),St(!1)},[]),Bt=reactExports.useMemo(()=>{const At=s.clone().normalize(),Ot=o.clone().normalize();return new Matrix4().makeBasis(At,Ot,At.clone().cross(Ot))},[s,o]),Ct=lt?1/7:st/7,Mt=lt?.225:st*.225,Nt=It?ut:"#BAC4E2";return reactExports.useMemo(()=>[new Vector3(0,0,0),new Vector3(0,Mt,0),new Vector3(Mt,Mt,0),new Vector3(Mt,0,0),new Vector3(0,0,0)],[Mt]),jsxs("group",{ref:Ft,matrix:Bt,matrixAutoUpdate:!1,children:[rt&&jsx(Html,{position:[0,0,0],children:jsx("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:it,ref:mt})}),jsxs("group",{position:[Ct*1.7,Ct*1.7,0],children:[jsxs("mesh",{visible:!0,onPointerDown:Rt,onPointerMove:Tt,onPointerUp:bt,onPointerOut:xt,scale:Mt,userData:ft,children:[jsx("planeGeometry",{}),jsx("meshBasicMaterial",{transparent:!0,depthTest:ot,color:Nt,polygonOffset:!0,polygonOffsetFactor:-10,side:DoubleSide})]}),jsxs("mesh",{scale:Mt,children:[jsx("boxGeometry",{args:[1,1,.3]}),jsx("meshBasicMaterial",{transparent:!0,depthTest:ot,color:Nt,polygonOffset:!0,polygonOffsetFactor:-10,side:DoubleSide})]})]})]})};var NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,objectProto=Object.prototype,objectToString=objectProto.toString;function baseClamp(s,o,et){return s===s&&(et!==void 0&&(s=s<=et?s:et),o!==void 0&&(s=s>=o?s:o)),s}function isObject(s){var o=typeof s;return!!s&&(o=="object"||o=="function")}function isObjectLike(s){return!!s&&typeof s=="object"}function isSymbol(s){return typeof s=="symbol"||isObjectLike(s)&&objectToString.call(s)==symbolTag}function toNumber(s){if(typeof s=="number")return s;if(isSymbol(s))return NAN;if(isObject(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=isObject(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=s.replace(reTrim,"");var et=reIsBinary.test(s);return et||reIsOctal.test(s)?freeParseInt(s.slice(2),et?2:8):reIsBadHex.test(s)?NAN:+s}function clamp(s,o,et){return et===void 0&&(et=o,o=void 0),et!==void 0&&(et=toNumber(et),et=et===et?et:0),o!==void 0&&(o=toNumber(o),o=o===o?o:0),baseClamp(toNumber(s),o,et)}var lodash_clamp=clamp;const clamp$1=getDefaultExportFromCjs$1(lodash_clamp),clickDir=new Vector3,intersectionDir=new Vector3,toDegrees=s=>s*180/Math.PI,toRadians=s=>s*Math.PI/180,calculateAngle=(s,o,et,tt,nt)=>{clickDir.copy(s).sub(et),intersectionDir.copy(o).sub(et);const rt=tt.dot(tt),it=nt.dot(nt),ot=clickDir.dot(tt)/rt,st=clickDir.dot(nt)/it,at=intersectionDir.dot(tt)/rt,lt=intersectionDir.dot(nt)/it,ct=Math.atan2(st,ot);return Math.atan2(lt,at)-ct},fmod=(s,o)=>{let et=Math.floor(s/o);return et=et<0?et+1:et,s-et*o},minimizeAngle=s=>{let o=fmod(s,2*Math.PI);return Math.abs(o)<1e-6?0:(o<0&&(o+=2*Math.PI),o)},rotMatrix=new Matrix4,posNew=new Vector3,ray=new Ray$1,intersection=new Vector3,AxisRotator=({dir1:s,dir2:o,axis:et})=>{const{rotationLimits:tt,annotations:nt,annotationsClass:rt,depthTest:it,scale:ot,lineWidth:st,fixed:at,axisColors:lt,hoveredColor:ct,opacity:ut,onDragStart:dt,onDrag:ht,onDragEnd:pt,userData:gt}=reactExports.useContext(context),ft=useThree(Mt=>Mt.controls),yt=reactExports.useRef(null),mt=reactExports.useRef(null),Ft=reactExports.useRef(0),vt=reactExports.useRef(0),Et=reactExports.useRef(null),[wt,It]=reactExports.useState(!1),St=reactExports.useCallback(Mt=>{nt&&(yt.current.innerText=`${toDegrees(vt.current).toFixed(0)}º`,yt.current.style.display="block"),Mt.stopPropagation();const Nt=Mt.point.clone(),At=new Vector3().setFromMatrixPosition(mt.current.matrixWorld),Ot=new Vector3().setFromMatrixColumn(mt.current.matrixWorld,0).normalize(),Vt=new Vector3().setFromMatrixColumn(mt.current.matrixWorld,1).normalize(),Wt=new Vector3().setFromMatrixColumn(mt.current.matrixWorld,2).normalize(),Jt=new Plane().setFromNormalAndCoplanarPoint(Wt,At);Et.current={clickPoint:Nt,origin:At,e1:Ot,e2:Vt,normal:Wt,plane:Jt},dt({component:"Rotator",axis:et,origin:At,directions:[Ot,Vt,Wt]}),ft&&(ft.enabled=!1),Mt.target.setPointerCapture(Mt.pointerId)},[nt,ft,dt,et]),Rt=reactExports.useCallback(Mt=>{if(Mt.stopPropagation(),wt||It(!0),Et.current){const{clickPoint:Nt,origin:At,e1:Ot,e2:Vt,normal:Wt,plane:Jt}=Et.current,[qt,Ht]=tt?.[et]||[void 0,void 0];ray.copy(Mt.ray),ray.intersectPlane(Jt,intersection),ray.direction.negate(),ray.intersectPlane(Jt,intersection);let Xt=calculateAngle(Nt,intersection,At,Ot,Vt),Lt=toDegrees(Xt);Mt.shiftKey&&(Lt=Math.round(Lt/10)*10,Xt=toRadians(Lt)),qt!==void 0&&Ht!==void 0&&Ht-qt<2*Math.PI?(Xt=minimizeAngle(Xt),Xt=Xt>Math.PI?Xt-2*Math.PI:Xt,Xt=clamp$1(Xt,qt-Ft.current,Ht-Ft.current),vt.current=Ft.current+Xt):(vt.current=minimizeAngle(Ft.current+Xt),vt.current=vt.current>Math.PI?vt.current-2*Math.PI:vt.current),nt&&(Lt=toDegrees(vt.current),yt.current.innerText=`${Lt.toFixed(0)}º`),rotMatrix.makeRotationAxis(Wt,Xt),posNew.copy(At).applyMatrix4(rotMatrix).sub(At).negate(),rotMatrix.setPosition(posNew),ht(rotMatrix)}},[nt,ht,wt,tt,et]),Tt=reactExports.useCallback(Mt=>{nt&&(yt.current.style.display="none"),Mt.stopPropagation(),Ft.current=vt.current,Et.current=null,pt(),ft&&(ft.enabled=!0),Mt.target.releasePointerCapture(Mt.pointerId)},[nt,ft,pt]),bt=reactExports.useCallback(Mt=>{Mt.stopPropagation(),It(!1)},[]),xt=reactExports.useMemo(()=>{const Mt=s.clone().normalize(),Nt=o.clone().normalize();return new Matrix4().makeBasis(Mt,Nt,Mt.clone().cross(Nt))},[s,o]),Bt=at?.65:ot*.65,Ct=reactExports.useMemo(()=>{const Nt=[];for(let At=0;At<=32;At++){const Ot=At*(Math.PI/2)/32;Nt.push(new Vector3(Math.cos(Ot)*Bt,Math.sin(Ot)*Bt,0))}return Nt},[Bt]);return jsxs("group",{ref:mt,onPointerDown:St,onPointerMove:Rt,onPointerUp:Tt,onPointerOut:bt,matrix:xt,matrixAutoUpdate:!1,children:[nt&&jsx(Html,{position:[Bt,Bt,0],children:jsx("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:rt,ref:yt})}),jsx(Line,{points:Ct,lineWidth:st*4,visible:!1,userData:gt}),jsx(Line,{transparent:!0,raycast:()=>null,depthTest:it,points:Ct,lineWidth:st,color:wt?ct:lt[et],opacity:ut,polygonOffset:!0,polygonOffsetFactor:-10})]})},tV0=new Vector3,tV1=new Vector3,tV2=new Vector3,getPoint2=(s,o,et)=>{const tt=et.width/2,nt=et.height/2;o.updateMatrixWorld(!1);const rt=s.project(o);return rt.x=rt.x*tt+tt,rt.y=-(rt.y*nt)+nt,rt},getPoint3=(s,o,et,tt=1)=>{const nt=tV0.set(s.x/et.width*2-1,-(s.y/et.height)*2+1,tt);return nt.unproject(o),nt},calculateScaleFactor=(s,o,et,tt)=>{const nt=getPoint2(tV2.copy(s),et,tt);let rt=0;for(let it=0;it<2;++it){const ot=tV1.copy(nt).setComponent(it,nt.getComponent(it)+o),st=getPoint3(ot,et,tt,ot.z);rt=Math.max(rt,s.distanceTo(st))}return rt},mL0=new Matrix4,mW0=new Matrix4,mP=new Matrix4,mPInv=new Matrix4,mW=new Matrix4,mL=new Matrix4,mL0Inv=new Matrix4,mdL=new Matrix4,bb=new Box3,bbObj=new Box3,vCenter=new Vector3,vSize=new Vector3,vAnchorOffset=new Vector3,vPosition=new Vector3,xDir=new Vector3(1,0,0),yDir=new Vector3(0,1,0),zDir=new Vector3(0,0,1),PivotControls=reactExports.forwardRef(({matrix:s,onDragStart:o,onDrag:et,onDragEnd:tt,autoTransform:nt=!0,anchor:rt,disableAxes:it=!1,disableSliders:ot=!1,disableRotations:st=!1,activeAxes:at=[!0,!0,!0],offset:lt=[0,0,0],rotation:ct=[0,0,0],scale:ut=1,lineWidth:dt=4,fixed:ht=!1,translationLimits:pt,rotationLimits:gt,depthTest:ft=!0,axisColors:yt=["#ff2060","#20df80","#2080ff"],hoveredColor:mt="#ffff40",annotations:Ft=!1,annotationsClass:vt,opacity:Et=1,visible:wt=!0,userData:It,children:St,...Rt},Tt)=>{const bt=useThree(Vt=>Vt.invalidate),xt=reactExports.useRef(null),Bt=reactExports.useRef(null),Ct=reactExports.useRef(null),Mt=reactExports.useRef(null),Nt=reactExports.useRef([0,0,0]);reactExports.useLayoutEffect(()=>{rt&&(Mt.current.updateWorldMatrix(!0,!0),mPInv.copy(Mt.current.matrixWorld).invert(),bb.makeEmpty(),Mt.current.traverse(Vt=>{Vt.geometry&&(Vt.geometry.boundingBox||Vt.geometry.computeBoundingBox(),mL.copy(Vt.matrixWorld).premultiply(mPInv),bbObj.copy(Vt.geometry.boundingBox),bbObj.applyMatrix4(mL),bb.union(bbObj))}),vCenter.copy(bb.max).add(bb.min).multiplyScalar(.5),vSize.copy(bb.max).sub(bb.min).multiplyScalar(.5),vAnchorOffset.copy(vSize).multiply(new Vector3(...rt)).add(vCenter),vPosition.set(...lt).add(vAnchorOffset),Ct.current.position.copy(vPosition),bt())});const At=reactExports.useMemo(()=>({onDragStart:Vt=>{mL0.copy(Bt.current.matrix),mW0.copy(Bt.current.matrixWorld),o&&o(Vt),bt()},onDrag:Vt=>{mP.copy(xt.current.matrixWorld),mPInv.copy(mP).invert(),mW.copy(mW0).premultiply(Vt),mL.copy(mW).premultiply(mPInv),mL0Inv.copy(mL0).invert(),mdL.copy(mL).multiply(mL0Inv),nt&&Bt.current.matrix.copy(mL),et&&et(mL,mdL,mW,Vt),bt()},onDragEnd:()=>{tt&&tt(),bt()},translation:Nt,translationLimits:pt,rotationLimits:gt,axisColors:yt,hoveredColor:mt,opacity:Et,scale:ut,lineWidth:dt,fixed:ht,depthTest:ft,userData:It,annotations:Ft,annotationsClass:vt}),[o,et,tt,Nt,pt,gt,ft,ut,dt,ht,...yt,mt,Et,It,nt,Ft,vt]),Ot=new Vector3;return useFrame(Vt=>{if(ht){const Wt=calculateScaleFactor(Ct.current.getWorldPosition(Ot),ut,Vt.camera,Vt.size);Ct.current&&(Ct.current?.scale.x!==Wt||Ct.current?.scale.y!==Wt||Ct.current?.scale.z!==Wt)&&(Ct.current.scale.setScalar(Wt),Vt.invalidate())}}),reactExports.useImperativeHandle(Tt,()=>Bt.current,[]),reactExports.useLayoutEffect(()=>{s&&s instanceof Matrix4&&(Bt.current.matrix=s)},[s]),jsx(context.Provider,{value:At,children:jsx("group",{ref:xt,children:jsxs("group",{ref:Bt,matrix:s,matrixAutoUpdate:!1,...Rt,children:[jsxs("group",{visible:wt,ref:Ct,position:lt,rotation:ct,children:[!it&&at[0]&&jsx(AxisArrow,{axis:0,direction:xDir}),!it&&at[1]&&jsx(AxisArrow,{axis:1,direction:yDir}),!it&&at[2]&&jsx(AxisArrow,{axis:2,direction:zDir}),!ot&&at[0]&&at[1]&&jsx(PlaneSlider,{axis:2,dir1:xDir,dir2:yDir}),!ot&&at[0]&&at[2]&&jsx(PlaneSlider,{axis:1,dir1:zDir,dir2:xDir}),!ot&&at[2]&&at[1]&&jsx(PlaneSlider,{axis:0,dir1:yDir,dir2:zDir}),!st&&at[0]&&at[1]&&jsx(AxisRotator,{axis:2,dir1:xDir,dir2:yDir}),!st&&at[0]&&at[2]&&jsx(AxisRotator,{axis:1,dir1:zDir,dir2:xDir}),!st&&at[2]&&at[1]&&jsx(AxisRotator,{axis:0,dir1:yDir,dir2:zDir})]}),jsx("group",{ref:Mt,children:St})]})})})});class CircleMaterial extends ShaderMaterial{constructor(o,et){super(),this.uniforms={color1:{value:new Color$1(o)},color2:{value:new Color$1(et)}},this.vertexShader=`
    varying vec3 vNormal;
    varying vec2 vUv;
    varying vec3 vPosition;

    void main(){
        gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);
        vNormal=normalize(normalMatrix*normal);
        vUv=uv;
        vPosition = position;
    }
    `,this.fragmentShader=`
    varying vec3 vNormal;
    varying vec2 vUv;
    uniform vec3 color1;
    uniform vec3 color2;
    varying vec3 vPosition;

    float ring(vec2 uv, vec2 pos, float innerRad, float outerRad) {
        float aa = 2.0 / 100.;
        return (1.0 - smoothstep(outerRad,outerRad+aa,length(uv-pos))) * smoothstep(innerRad-aa,innerRad,length(uv-pos));
    }
  
    void main(){  
        vec2 uv = vUv - vec2(0.5);
        float core = ring(vUv, vec2(.5), .0, .44);
        float border = ring(vUv, vec2(.5), .44, .5);
        vec3 color = border * color2 + core * color1 ;
        gl_FragColor = vec4(color*1.5, 1.0);
    }
    `}}extend({CircleMaterial});const Waypoint=reactExports.forwardRef((s,o)=>{const{pose:et,pointIndex:tt,pathType:nt,pathWidth:rt}=s,{updateState:it,state:{selectedWaypoint:ot,isWaypointEditing:st}}=useControlsContext(),{controls:at}=useThree(),lt=new Vector3(et.translation.x,et.translation.y,et.translation.z),ct=new Euler,ut=new Quaternion;ut.set(et.rotation.x,et.rotation.y,et.rotation.z,et.rotation.w),ct.setFromQuaternion(ut);const dt=reactExports.useRef(null),ht=reactExports.useRef(null),pt=reactExports.useRef(null),gt=reactExports.useRef(null),ft=new Matrix4,yt=React.useMemo(()=>{const Et=new QuadraticBezierCurve(new Vector2(-.4,.2),new Vector2(0,.65),new Vector2(.4,.2)).getPoints(7);return Et.push(new Vector2(0,.8)),new Shape(Et)},[]),mt=vt=>{vt.stopPropagation(),it({selectedWaypoint:tt})},Ft=ot===tt&&st;return useFrame(({camera:vt,size:{height:Et}})=>{if(!dt.current||!pt.current)return;const wt=Et>600?25:25*(Et/600);let It=pt.current.position.distanceTo(vt.position)/wt;nt===PathType.STATIC&&(It=rt*55/wt,dt.current.position.z=gt.current.position.z=rt/2+(Ft?.01:0)),dt.current.scale.setScalar(It),gt.current.scale.setScalar(It)}),jsxs("group",{ref:pt,position:lt,rotation:ct,children:[jsx(PivotControls,{ref:ht,visible:Ft,lineWidth:6,axisColors:["#EA719D","#2EC495","#F9C36E"],hoveredColor:"#18D2FF",activeAxes:[!0,!0,!1],rotation:[0,0,Math.PI/2],offset:[Ft?0:1e7,0,.02],anchor:[0,0,0],scale:100,matrix:ft,fixed:!0,autoTransform:!1,depthTest:!1,onDragStart:()=>{at&&(at.enabled=!1)},onDrag:vt=>{if(!(ot!==tt||!st)&&(ft.copy(vt),dt.current&&pt.current&&ht.current)){const Et=new Euler;Et.setFromRotationMatrix(ft),Et.x+=ct.x,Et.y+=ct.y,Et.z+=ct.z;const wt=new Quaternion;wt.setFromEuler(Et);const It=new Vector3,St=new Vector3;pt.current.getWorldPosition(It),dt.current.getWorldPosition(St);const Rt=St.sub(It),Tt={translation:{x:lt.x+Rt.x,y:lt.y+Rt.y,z:0},rotation:{x:wt.x,y:wt.y,z:wt.z,w:wt.w}};s.onPose(Tt)}},children:jsx("group",{ref:dt,children:jsxs("mesh",{name:"circle",onPointerDown:mt,renderOrder:9,children:[jsx("circleGeometry",{args:[.38,36]}),jsx("circleMaterial",{args:[ot!==tt?FormantColors.purple:"#18D2FF","#ffffff"]})]})})}),jsx("group",{ref:gt,children:jsxs("mesh",{name:"arrow",rotation:[0,0,-Math.PI/2],scale:1.2,renderOrder:9,children:[jsx("shapeGeometry",{args:[yt]}),jsx("meshStandardMaterial",{color:"white",depthTest:!1})]})})]})});function PathLine({startPoint:s,endPoint:o,thickness:et,color:tt,index:nt,...rt}){const it=React.useMemo(()=>{const ot=s.distanceTo(o),st=new PlaneGeometry(ot,et,1,1),at=o.clone().sub(s).normalize(),ct=s.clone().add(o).multiplyScalar(.5).clone().add(at.clone().multiplyScalar(et/2)),ut=Math.atan2(at.y,at.x);return st.rotateZ(ut),st.translate(ct.x,ct.y,ct.z),st},[s,o,et]);return jsx("mesh",{geometry:it,...rt,name:nt.toString(),children:jsx("meshBasicMaterial",{color:tt,side:DoubleSide,depthTest:!1})})}const StaticLine=({points:s,pathWidth:o,color:et,...tt})=>{if(s.length<2)return jsx(Fragment,{});const nt=reactExports.useMemo(()=>{const rt=[];for(let it=0;it<s.length-1;++it){const ot=s[it].translation,st=s[it+1].translation;rt.push([new Vector3(ot.x,ot.y,ot.z+o/2-.01),new Vector3(st.x,st.y,st.z+o/2-.01)])}return rt},[s]);return jsx(Fragment,{children:nt.map(([rt,it],ot)=>jsx(PathLine,{startPoint:rt,endPoint:it,thickness:o,color:et,index:ot,...tt},ot))})},MissionPlanningPath=({pathType:s,pathWidth:o})=>{const{store:et,updateState:tt,waypoints:nt,setWaypoints:rt,state:{isWaypointEditing:it}}=useControlsContext(),ot=React.useRef(null),st=at=>{if(!it||(at.stopPropagation(),!at.shiftKey))return;let lt=at.point;const ct=s===PathType.DYNAMIC?at.faceIndex:parseInt(at.eventObject.name),ut=Tt=>new Vector3(Tt.x,Tt.y,0),dt=ut(nt[ct].translation),ht=ut(nt[ct+1].translation),pt=new Vector3().subVectors(ht,dt),ft=new Vector3().subVectors(lt,dt).dot(pt)/pt.lengthSq(),yt=new Vector3().addVectors(dt,pt.clone().multiplyScalar(ft));let Ft=new Vector3(ht.x-dt.x,ht.y-dt.y,0).angleTo(new Vector3(1,0,0));Ft*=Math.sign(ht.y-dt.y);const vt=new Euler(0,0,Ft),{x:Et,y:wt,z:It,w:St}=new Quaternion().setFromEuler(vt),Rt={translation:{x:yt.x,y:yt.y,z:0},rotation:{x:Et,y:wt,z:It,w:St}};rt(Tt=>(Tt.splice(ct+1,0,Rt),[...Tt])),tt({selectedWaypoint:ct+1}),et.waypoints.splice(ct+1,0,{...et.waypoints[ct],pointIndex:ct+1,pose:Rt})};return useFrame(({camera:at,size:{height:lt}})=>{if(!ot.current)return;const ct=lt>600?25:25*(lt/600);let ut=ot.current.position.distanceTo(at.position)/ct;ot.current.material.dashScale=1.5/ut}),nt.length===0?jsx(Fragment,{}):jsxs(Fragment,{children:[s===PathType.DYNAMIC?jsx(Line,{points:nt.map(({translation:{x:at,y:lt,z:ct}})=>[at,lt,ct+.005]),lineWidth:s===PathType.DYNAMIC?18:o*2,renderOrder:8,color:FormantColors.blue,onPointerDown:st,visible:!1}):jsx(StaticLine,{points:nt,pathWidth:o,color:FormantColors.blue,onPointerDown:st,visible:!1,renderOrder:8}),jsx(Line,{ref:ot,points:nt.map(({translation:{x:at,y:lt,z:ct}})=>[at,lt,ct-.01]),lineWidth:s===PathType.DYNAMIC?18:o,depthTest:!1,worldUnits:s===PathType.STATIC,renderOrder:8,color:"white",dashed:!0,dashScale:4})]})},MissionPlanningLayer=s=>{const{store:o,updateState:et,waypoints:tt,setWaypoints:nt,state:{isWaypointEditing:rt,hasWaypointsPath:it}}=useControlsContext(),{pathWidth:ot=.25,pathType:st=PathType.STATIC,commandName:at="send_mission_waypoints"}=s;reactExports.useEffect(()=>{et({commandName:at})},[at,et]);const lt=dt=>{if(dt.stopPropagation(),!rt||!dt.shiftKey)return;let ht=dt.point;const pt={translation:{x:ht.x,y:ht.y,z:0},rotation:tt.length>0?tt[tt.length-1].rotation:{x:0,y:0,z:0,w:1}};if(tt.length>0){const gt=tt[tt.length-1].translation,ft=pt.translation;let mt=new Vector3(ft.x-gt.x,ft.y-gt.y,0).angleTo(new Vector3(1,0,0));mt*=Math.sign(ft.y-gt.y);const Ft=new Euler(0,0,mt),{x:vt,y:Et,z:wt,w:It}=new Quaternion().setFromEuler(Ft),St={translation:gt,rotation:{x:vt,y:Et,z:wt,w:It}};nt([...tt.slice(0,tt.length-1),St,pt]),o.waypoints[tt.length-1].pose=St,o.waypoints[tt.length]={...o.waypoints[tt.length-1],pointIndex:tt.length,pose:pt}}else nt([pt]),o.waypoints.push({pointIndex:tt.length,pose:pt});et({selectedWaypoint:tt.length})},ct=(dt,ht)=>{const pt=[...tt];pt[ht]=dt,nt(pt),o.waypoints[ht].pose=dt},ut=reactExports.useRef(null);return jsxs(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:[jsxs("mesh",{name:"waypoints-plane",onPointerDown:lt,ref:ut,visible:!1,children:[jsx("planeGeometry",{args:[1e3,1e3]}),jsx("meshStandardMaterial",{color:FormantColors.green,transparent:!0,opacity:.6})]}),jsxs("group",{name:"waypoints",visible:it,children:[tt.map((dt,ht)=>jsx(Waypoint,{pointIndex:ht,pose:dt,onPose:pt=>ct(pt,ht),pathType:st,pathWidth:ot},ht)),jsx(MissionPlanningPath,{pathType:st,pathWidth:ot})]})]})};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(s,o){(function(et){s.exports=et()})(function(){return function et(tt,nt,rt){function it(at,lt){if(!nt[at]){if(!tt[at]){var ct=typeof commonjsRequire=="function"&&commonjsRequire;if(!lt&&ct)return ct(at,!0);if(ot)return ot(at,!0);var ut=new Error("Cannot find module '"+at+"'");throw ut.code="MODULE_NOT_FOUND",ut}var dt=nt[at]={exports:{}};tt[at][0].call(dt.exports,function(ht){var pt=tt[at][1][ht];return it(pt||ht)},dt,dt.exports,et,tt,nt,rt)}return nt[at].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,st=0;st<rt.length;st++)it(rt[st]);return it}({1:[function(et,tt,nt){var rt=et("./utils"),it=et("./support"),ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";nt.encode=function(st){for(var at,lt,ct,ut,dt,ht,pt,gt=[],ft=0,yt=st.length,mt=yt,Ft=rt.getTypeOf(st)!=="string";ft<st.length;)mt=yt-ft,ct=Ft?(at=st[ft++],lt=ft<yt?st[ft++]:0,ft<yt?st[ft++]:0):(at=st.charCodeAt(ft++),lt=ft<yt?st.charCodeAt(ft++):0,ft<yt?st.charCodeAt(ft++):0),ut=at>>2,dt=(3&at)<<4|lt>>4,ht=1<mt?(15&lt)<<2|ct>>6:64,pt=2<mt?63&ct:64,gt.push(ot.charAt(ut)+ot.charAt(dt)+ot.charAt(ht)+ot.charAt(pt));return gt.join("")},nt.decode=function(st){var at,lt,ct,ut,dt,ht,pt=0,gt=0,ft="data:";if(st.substr(0,ft.length)===ft)throw new Error("Invalid base64 input, it looks like a data url.");var yt,mt=3*(st=st.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(st.charAt(st.length-1)===ot.charAt(64)&&mt--,st.charAt(st.length-2)===ot.charAt(64)&&mt--,mt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(yt=it.uint8array?new Uint8Array(0|mt):new Array(0|mt);pt<st.length;)at=ot.indexOf(st.charAt(pt++))<<2|(ut=ot.indexOf(st.charAt(pt++)))>>4,lt=(15&ut)<<4|(dt=ot.indexOf(st.charAt(pt++)))>>2,ct=(3&dt)<<6|(ht=ot.indexOf(st.charAt(pt++))),yt[gt++]=at,dt!==64&&(yt[gt++]=lt),ht!==64&&(yt[gt++]=ct);return yt}},{"./support":30,"./utils":32}],2:[function(et,tt,nt){var rt=et("./external"),it=et("./stream/DataWorker"),ot=et("./stream/Crc32Probe"),st=et("./stream/DataLengthProbe");function at(lt,ct,ut,dt,ht){this.compressedSize=lt,this.uncompressedSize=ct,this.crc32=ut,this.compression=dt,this.compressedContent=ht}at.prototype={getContentWorker:function(){var lt=new it(rt.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new st("data_length")),ct=this;return lt.on("end",function(){if(this.streamInfo.data_length!==ct.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),lt},getCompressedWorker:function(){return new it(rt.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},at.createWorkerFrom=function(lt,ct,ut){return lt.pipe(new ot).pipe(new st("uncompressedSize")).pipe(ct.compressWorker(ut)).pipe(new st("compressedSize")).withStreamInfo("compression",ct)},tt.exports=at},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(et,tt,nt){var rt=et("./stream/GenericWorker");nt.STORE={magic:"\0\0",compressWorker:function(){return new rt("STORE compression")},uncompressWorker:function(){return new rt("STORE decompression")}},nt.DEFLATE=et("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(et,tt,nt){var rt=et("./utils"),it=function(){for(var ot,st=[],at=0;at<256;at++){ot=at;for(var lt=0;lt<8;lt++)ot=1&ot?3988292384^ot>>>1:ot>>>1;st[at]=ot}return st}();tt.exports=function(ot,st){return ot!==void 0&&ot.length?rt.getTypeOf(ot)!=="string"?function(at,lt,ct,ut){var dt=it,ht=ut+ct;at^=-1;for(var pt=ut;pt<ht;pt++)at=at>>>8^dt[255&(at^lt[pt])];return-1^at}(0|st,ot,ot.length,0):function(at,lt,ct,ut){var dt=it,ht=ut+ct;at^=-1;for(var pt=ut;pt<ht;pt++)at=at>>>8^dt[255&(at^lt.charCodeAt(pt))];return-1^at}(0|st,ot,ot.length,0):0}},{"./utils":32}],5:[function(et,tt,nt){nt.base64=!1,nt.binary=!1,nt.dir=!1,nt.createFolders=!0,nt.date=null,nt.compression=null,nt.compressionOptions=null,nt.comment=null,nt.unixPermissions=null,nt.dosPermissions=null},{}],6:[function(et,tt,nt){var rt=null;rt=typeof Promise<"u"?Promise:et("lie"),tt.exports={Promise:rt}},{lie:37}],7:[function(et,tt,nt){var rt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",it=et("pako"),ot=et("./utils"),st=et("./stream/GenericWorker"),at=rt?"uint8array":"array";function lt(ct,ut){st.call(this,"FlateWorker/"+ct),this._pako=null,this._pakoAction=ct,this._pakoOptions=ut,this.meta={}}nt.magic="\b\0",ot.inherits(lt,st),lt.prototype.processChunk=function(ct){this.meta=ct.meta,this._pako===null&&this._createPako(),this._pako.push(ot.transformTo(at,ct.data),!1)},lt.prototype.flush=function(){st.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},lt.prototype.cleanUp=function(){st.prototype.cleanUp.call(this),this._pako=null},lt.prototype._createPako=function(){this._pako=new it[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ct=this;this._pako.onData=function(ut){ct.push({data:ut,meta:ct.meta})}},nt.compressWorker=function(ct){return new lt("Deflate",ct)},nt.uncompressWorker=function(){return new lt("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(et,tt,nt){function rt(dt,ht){var pt,gt="";for(pt=0;pt<ht;pt++)gt+=String.fromCharCode(255&dt),dt>>>=8;return gt}function it(dt,ht,pt,gt,ft,yt){var mt,Ft,vt=dt.file,Et=dt.compression,wt=yt!==at.utf8encode,It=ot.transformTo("string",yt(vt.name)),St=ot.transformTo("string",at.utf8encode(vt.name)),Rt=vt.comment,Tt=ot.transformTo("string",yt(Rt)),bt=ot.transformTo("string",at.utf8encode(Rt)),xt=St.length!==vt.name.length,Bt=bt.length!==Rt.length,Ct="",Mt="",Nt="",At=vt.dir,Ot=vt.date,Vt={crc32:0,compressedSize:0,uncompressedSize:0};ht&&!pt||(Vt.crc32=dt.crc32,Vt.compressedSize=dt.compressedSize,Vt.uncompressedSize=dt.uncompressedSize);var Wt=0;ht&&(Wt|=8),wt||!xt&&!Bt||(Wt|=2048);var Jt=0,qt=0;At&&(Jt|=16),ft==="UNIX"?(qt=798,Jt|=function(Xt,Lt){var Pt=Xt;return Xt||(Pt=Lt?16893:33204),(65535&Pt)<<16}(vt.unixPermissions,At)):(qt=20,Jt|=function(Xt){return 63&(Xt||0)}(vt.dosPermissions)),mt=Ot.getUTCHours(),mt<<=6,mt|=Ot.getUTCMinutes(),mt<<=5,mt|=Ot.getUTCSeconds()/2,Ft=Ot.getUTCFullYear()-1980,Ft<<=4,Ft|=Ot.getUTCMonth()+1,Ft<<=5,Ft|=Ot.getUTCDate(),xt&&(Mt=rt(1,1)+rt(lt(It),4)+St,Ct+="up"+rt(Mt.length,2)+Mt),Bt&&(Nt=rt(1,1)+rt(lt(Tt),4)+bt,Ct+="uc"+rt(Nt.length,2)+Nt);var Ht="";return Ht+=`
\0`,Ht+=rt(Wt,2),Ht+=Et.magic,Ht+=rt(mt,2),Ht+=rt(Ft,2),Ht+=rt(Vt.crc32,4),Ht+=rt(Vt.compressedSize,4),Ht+=rt(Vt.uncompressedSize,4),Ht+=rt(It.length,2),Ht+=rt(Ct.length,2),{fileRecord:ct.LOCAL_FILE_HEADER+Ht+It+Ct,dirRecord:ct.CENTRAL_FILE_HEADER+rt(qt,2)+Ht+rt(Tt.length,2)+"\0\0\0\0"+rt(Jt,4)+rt(gt,4)+It+Ct+Tt}}var ot=et("../utils"),st=et("../stream/GenericWorker"),at=et("../utf8"),lt=et("../crc32"),ct=et("../signature");function ut(dt,ht,pt,gt){st.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ht,this.zipPlatform=pt,this.encodeFileName=gt,this.streamFiles=dt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}ot.inherits(ut,st),ut.prototype.push=function(dt){var ht=dt.meta.percent||0,pt=this.entriesCount,gt=this._sources.length;this.accumulate?this.contentBuffer.push(dt):(this.bytesWritten+=dt.data.length,st.prototype.push.call(this,{data:dt.data,meta:{currentFile:this.currentFile,percent:pt?(ht+100*(pt-gt-1))/pt:100}}))},ut.prototype.openedSource=function(dt){this.currentSourceOffset=this.bytesWritten,this.currentFile=dt.file.name;var ht=this.streamFiles&&!dt.file.dir;if(ht){var pt=it(dt,ht,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:pt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ut.prototype.closedSource=function(dt){this.accumulate=!1;var ht=this.streamFiles&&!dt.file.dir,pt=it(dt,ht,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(pt.dirRecord),ht)this.push({data:function(gt){return ct.DATA_DESCRIPTOR+rt(gt.crc32,4)+rt(gt.compressedSize,4)+rt(gt.uncompressedSize,4)}(dt),meta:{percent:100}});else for(this.push({data:pt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ut.prototype.flush=function(){for(var dt=this.bytesWritten,ht=0;ht<this.dirRecords.length;ht++)this.push({data:this.dirRecords[ht],meta:{percent:100}});var pt=this.bytesWritten-dt,gt=function(ft,yt,mt,Ft,vt){var Et=ot.transformTo("string",vt(Ft));return ct.CENTRAL_DIRECTORY_END+"\0\0\0\0"+rt(ft,2)+rt(ft,2)+rt(yt,4)+rt(mt,4)+rt(Et.length,2)+Et}(this.dirRecords.length,pt,dt,this.zipComment,this.encodeFileName);this.push({data:gt,meta:{percent:100}})},ut.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ut.prototype.registerPrevious=function(dt){this._sources.push(dt);var ht=this;return dt.on("data",function(pt){ht.processChunk(pt)}),dt.on("end",function(){ht.closedSource(ht.previous.streamInfo),ht._sources.length?ht.prepareNextSource():ht.end()}),dt.on("error",function(pt){ht.error(pt)}),this},ut.prototype.resume=function(){return!!st.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ut.prototype.error=function(dt){var ht=this._sources;if(!st.prototype.error.call(this,dt))return!1;for(var pt=0;pt<ht.length;pt++)try{ht[pt].error(dt)}catch{}return!0},ut.prototype.lock=function(){st.prototype.lock.call(this);for(var dt=this._sources,ht=0;ht<dt.length;ht++)dt[ht].lock()},tt.exports=ut},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(et,tt,nt){var rt=et("../compressions"),it=et("./ZipFileWorker");nt.generateWorker=function(ot,st,at){var lt=new it(st.streamFiles,at,st.platform,st.encodeFileName),ct=0;try{ot.forEach(function(ut,dt){ct++;var ht=function(yt,mt){var Ft=yt||mt,vt=rt[Ft];if(!vt)throw new Error(Ft+" is not a valid compression method !");return vt}(dt.options.compression,st.compression),pt=dt.options.compressionOptions||st.compressionOptions||{},gt=dt.dir,ft=dt.date;dt._compressWorker(ht,pt).withStreamInfo("file",{name:ut,dir:gt,date:ft,comment:dt.comment||"",unixPermissions:dt.unixPermissions,dosPermissions:dt.dosPermissions}).pipe(lt)}),lt.entriesCount=ct}catch(ut){lt.error(ut)}return lt}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(et,tt,nt){function rt(){if(!(this instanceof rt))return new rt;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var it=new rt;for(var ot in this)typeof this[ot]!="function"&&(it[ot]=this[ot]);return it}}(rt.prototype=et("./object")).loadAsync=et("./load"),rt.support=et("./support"),rt.defaults=et("./defaults"),rt.version="3.10.1",rt.loadAsync=function(it,ot){return new rt().loadAsync(it,ot)},rt.external=et("./external"),tt.exports=rt},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(et,tt,nt){var rt=et("./utils"),it=et("./external"),ot=et("./utf8"),st=et("./zipEntries"),at=et("./stream/Crc32Probe"),lt=et("./nodejsUtils");function ct(ut){return new it.Promise(function(dt,ht){var pt=ut.decompressed.getContentWorker().pipe(new at);pt.on("error",function(gt){ht(gt)}).on("end",function(){pt.streamInfo.crc32!==ut.decompressed.crc32?ht(new Error("Corrupted zip : CRC32 mismatch")):dt()}).resume()})}tt.exports=function(ut,dt){var ht=this;return dt=rt.extend(dt||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ot.utf8decode}),lt.isNode&&lt.isStream(ut)?it.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):rt.prepareContent("the loaded zip file",ut,!0,dt.optimizedBinaryString,dt.base64).then(function(pt){var gt=new st(dt);return gt.load(pt),gt}).then(function(pt){var gt=[it.Promise.resolve(pt)],ft=pt.files;if(dt.checkCRC32)for(var yt=0;yt<ft.length;yt++)gt.push(ct(ft[yt]));return it.Promise.all(gt)}).then(function(pt){for(var gt=pt.shift(),ft=gt.files,yt=0;yt<ft.length;yt++){var mt=ft[yt],Ft=mt.fileNameStr,vt=rt.resolve(mt.fileNameStr);ht.file(vt,mt.decompressed,{binary:!0,optimizedBinaryString:!0,date:mt.date,dir:mt.dir,comment:mt.fileCommentStr.length?mt.fileCommentStr:null,unixPermissions:mt.unixPermissions,dosPermissions:mt.dosPermissions,createFolders:dt.createFolders}),mt.dir||(ht.file(vt).unsafeOriginalName=Ft)}return gt.zipComment.length&&(ht.comment=gt.zipComment),ht})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(et,tt,nt){var rt=et("../utils"),it=et("../stream/GenericWorker");function ot(st,at){it.call(this,"Nodejs stream input adapter for "+st),this._upstreamEnded=!1,this._bindStream(at)}rt.inherits(ot,it),ot.prototype._bindStream=function(st){var at=this;(this._stream=st).pause(),st.on("data",function(lt){at.push({data:lt,meta:{percent:0}})}).on("error",function(lt){at.isPaused?this.generatedError=lt:at.error(lt)}).on("end",function(){at.isPaused?at._upstreamEnded=!0:at.end()})},ot.prototype.pause=function(){return!!it.prototype.pause.call(this)&&(this._stream.pause(),!0)},ot.prototype.resume=function(){return!!it.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},tt.exports=ot},{"../stream/GenericWorker":28,"../utils":32}],13:[function(et,tt,nt){var rt=et("readable-stream").Readable;function it(ot,st,at){rt.call(this,st),this._helper=ot;var lt=this;ot.on("data",function(ct,ut){lt.push(ct)||lt._helper.pause(),at&&at(ut)}).on("error",function(ct){lt.emit("error",ct)}).on("end",function(){lt.push(null)})}et("../utils").inherits(it,rt),it.prototype._read=function(){this._helper.resume()},tt.exports=it},{"../utils":32,"readable-stream":16}],14:[function(et,tt,nt){tt.exports={isNode:typeof Buffer<"u",newBufferFrom:function(rt,it){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(rt,it);if(typeof rt=="number")throw new Error('The "data" argument must not be a number');return new Buffer(rt,it)},allocBuffer:function(rt){if(Buffer.alloc)return Buffer.alloc(rt);var it=new Buffer(rt);return it.fill(0),it},isBuffer:function(rt){return Buffer.isBuffer(rt)},isStream:function(rt){return rt&&typeof rt.on=="function"&&typeof rt.pause=="function"&&typeof rt.resume=="function"}}},{}],15:[function(et,tt,nt){function rt(vt,Et,wt){var It,St=ot.getTypeOf(Et),Rt=ot.extend(wt||{},lt);Rt.date=Rt.date||new Date,Rt.compression!==null&&(Rt.compression=Rt.compression.toUpperCase()),typeof Rt.unixPermissions=="string"&&(Rt.unixPermissions=parseInt(Rt.unixPermissions,8)),Rt.unixPermissions&&16384&Rt.unixPermissions&&(Rt.dir=!0),Rt.dosPermissions&&16&Rt.dosPermissions&&(Rt.dir=!0),Rt.dir&&(vt=ft(vt)),Rt.createFolders&&(It=gt(vt))&&yt.call(this,It,!0);var Tt=St==="string"&&Rt.binary===!1&&Rt.base64===!1;wt&&wt.binary!==void 0||(Rt.binary=!Tt),(Et instanceof ct&&Et.uncompressedSize===0||Rt.dir||!Et||Et.length===0)&&(Rt.base64=!1,Rt.binary=!0,Et="",Rt.compression="STORE",St="string");var bt=null;bt=Et instanceof ct||Et instanceof st?Et:ht.isNode&&ht.isStream(Et)?new pt(vt,Et):ot.prepareContent(vt,Et,Rt.binary,Rt.optimizedBinaryString,Rt.base64);var xt=new ut(vt,bt,Rt);this.files[vt]=xt}var it=et("./utf8"),ot=et("./utils"),st=et("./stream/GenericWorker"),at=et("./stream/StreamHelper"),lt=et("./defaults"),ct=et("./compressedObject"),ut=et("./zipObject"),dt=et("./generate"),ht=et("./nodejsUtils"),pt=et("./nodejs/NodejsStreamInputAdapter"),gt=function(vt){vt.slice(-1)==="/"&&(vt=vt.substring(0,vt.length-1));var Et=vt.lastIndexOf("/");return 0<Et?vt.substring(0,Et):""},ft=function(vt){return vt.slice(-1)!=="/"&&(vt+="/"),vt},yt=function(vt,Et){return Et=Et!==void 0?Et:lt.createFolders,vt=ft(vt),this.files[vt]||rt.call(this,vt,null,{dir:!0,createFolders:Et}),this.files[vt]};function mt(vt){return Object.prototype.toString.call(vt)==="[object RegExp]"}var Ft={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(vt){var Et,wt,It;for(Et in this.files)It=this.files[Et],(wt=Et.slice(this.root.length,Et.length))&&Et.slice(0,this.root.length)===this.root&&vt(wt,It)},filter:function(vt){var Et=[];return this.forEach(function(wt,It){vt(wt,It)&&Et.push(It)}),Et},file:function(vt,Et,wt){if(arguments.length!==1)return vt=this.root+vt,rt.call(this,vt,Et,wt),this;if(mt(vt)){var It=vt;return this.filter(function(Rt,Tt){return!Tt.dir&&It.test(Rt)})}var St=this.files[this.root+vt];return St&&!St.dir?St:null},folder:function(vt){if(!vt)return this;if(mt(vt))return this.filter(function(St,Rt){return Rt.dir&&vt.test(St)});var Et=this.root+vt,wt=yt.call(this,Et),It=this.clone();return It.root=wt.name,It},remove:function(vt){vt=this.root+vt;var Et=this.files[vt];if(Et||(vt.slice(-1)!=="/"&&(vt+="/"),Et=this.files[vt]),Et&&!Et.dir)delete this.files[vt];else for(var wt=this.filter(function(St,Rt){return Rt.name.slice(0,vt.length)===vt}),It=0;It<wt.length;It++)delete this.files[wt[It].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(vt){var Et,wt={};try{if((wt=ot.extend(vt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:it.utf8encode})).type=wt.type.toLowerCase(),wt.compression=wt.compression.toUpperCase(),wt.type==="binarystring"&&(wt.type="string"),!wt.type)throw new Error("No output type specified.");ot.checkSupport(wt.type),wt.platform!=="darwin"&&wt.platform!=="freebsd"&&wt.platform!=="linux"&&wt.platform!=="sunos"||(wt.platform="UNIX"),wt.platform==="win32"&&(wt.platform="DOS");var It=wt.comment||this.comment||"";Et=dt.generateWorker(this,wt,It)}catch(St){(Et=new st("error")).error(St)}return new at(Et,wt.type||"string",wt.mimeType)},generateAsync:function(vt,Et){return this.generateInternalStream(vt).accumulate(Et)},generateNodeStream:function(vt,Et){return(vt=vt||{}).type||(vt.type="nodebuffer"),this.generateInternalStream(vt).toNodejsStream(Et)}};tt.exports=Ft},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(et,tt,nt){tt.exports=et("stream")},{stream:void 0}],17:[function(et,tt,nt){var rt=et("./DataReader");function it(ot){rt.call(this,ot);for(var st=0;st<this.data.length;st++)ot[st]=255&ot[st]}et("../utils").inherits(it,rt),it.prototype.byteAt=function(ot){return this.data[this.zero+ot]},it.prototype.lastIndexOfSignature=function(ot){for(var st=ot.charCodeAt(0),at=ot.charCodeAt(1),lt=ot.charCodeAt(2),ct=ot.charCodeAt(3),ut=this.length-4;0<=ut;--ut)if(this.data[ut]===st&&this.data[ut+1]===at&&this.data[ut+2]===lt&&this.data[ut+3]===ct)return ut-this.zero;return-1},it.prototype.readAndCheckSignature=function(ot){var st=ot.charCodeAt(0),at=ot.charCodeAt(1),lt=ot.charCodeAt(2),ct=ot.charCodeAt(3),ut=this.readData(4);return st===ut[0]&&at===ut[1]&&lt===ut[2]&&ct===ut[3]},it.prototype.readData=function(ot){if(this.checkOffset(ot),ot===0)return[];var st=this.data.slice(this.zero+this.index,this.zero+this.index+ot);return this.index+=ot,st},tt.exports=it},{"../utils":32,"./DataReader":18}],18:[function(et,tt,nt){var rt=et("../utils");function it(ot){this.data=ot,this.length=ot.length,this.index=0,this.zero=0}it.prototype={checkOffset:function(ot){this.checkIndex(this.index+ot)},checkIndex:function(ot){if(this.length<this.zero+ot||ot<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+ot+"). Corrupted zip ?")},setIndex:function(ot){this.checkIndex(ot),this.index=ot},skip:function(ot){this.setIndex(this.index+ot)},byteAt:function(){},readInt:function(ot){var st,at=0;for(this.checkOffset(ot),st=this.index+ot-1;st>=this.index;st--)at=(at<<8)+this.byteAt(st);return this.index+=ot,at},readString:function(ot){return rt.transformTo("string",this.readData(ot))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var ot=this.readInt(4);return new Date(Date.UTC(1980+(ot>>25&127),(ot>>21&15)-1,ot>>16&31,ot>>11&31,ot>>5&63,(31&ot)<<1))}},tt.exports=it},{"../utils":32}],19:[function(et,tt,nt){var rt=et("./Uint8ArrayReader");function it(ot){rt.call(this,ot)}et("../utils").inherits(it,rt),it.prototype.readData=function(ot){this.checkOffset(ot);var st=this.data.slice(this.zero+this.index,this.zero+this.index+ot);return this.index+=ot,st},tt.exports=it},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(et,tt,nt){var rt=et("./DataReader");function it(ot){rt.call(this,ot)}et("../utils").inherits(it,rt),it.prototype.byteAt=function(ot){return this.data.charCodeAt(this.zero+ot)},it.prototype.lastIndexOfSignature=function(ot){return this.data.lastIndexOf(ot)-this.zero},it.prototype.readAndCheckSignature=function(ot){return ot===this.readData(4)},it.prototype.readData=function(ot){this.checkOffset(ot);var st=this.data.slice(this.zero+this.index,this.zero+this.index+ot);return this.index+=ot,st},tt.exports=it},{"../utils":32,"./DataReader":18}],21:[function(et,tt,nt){var rt=et("./ArrayReader");function it(ot){rt.call(this,ot)}et("../utils").inherits(it,rt),it.prototype.readData=function(ot){if(this.checkOffset(ot),ot===0)return new Uint8Array(0);var st=this.data.subarray(this.zero+this.index,this.zero+this.index+ot);return this.index+=ot,st},tt.exports=it},{"../utils":32,"./ArrayReader":17}],22:[function(et,tt,nt){var rt=et("../utils"),it=et("../support"),ot=et("./ArrayReader"),st=et("./StringReader"),at=et("./NodeBufferReader"),lt=et("./Uint8ArrayReader");tt.exports=function(ct){var ut=rt.getTypeOf(ct);return rt.checkSupport(ut),ut!=="string"||it.uint8array?ut==="nodebuffer"?new at(ct):it.uint8array?new lt(rt.transformTo("uint8array",ct)):new ot(rt.transformTo("array",ct)):new st(ct)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(et,tt,nt){nt.LOCAL_FILE_HEADER="PK",nt.CENTRAL_FILE_HEADER="PK",nt.CENTRAL_DIRECTORY_END="PK",nt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",nt.ZIP64_CENTRAL_DIRECTORY_END="PK",nt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(et,tt,nt){var rt=et("./GenericWorker"),it=et("../utils");function ot(st){rt.call(this,"ConvertWorker to "+st),this.destType=st}it.inherits(ot,rt),ot.prototype.processChunk=function(st){this.push({data:it.transformTo(this.destType,st.data),meta:st.meta})},tt.exports=ot},{"../utils":32,"./GenericWorker":28}],25:[function(et,tt,nt){var rt=et("./GenericWorker"),it=et("../crc32");function ot(){rt.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}et("../utils").inherits(ot,rt),ot.prototype.processChunk=function(st){this.streamInfo.crc32=it(st.data,this.streamInfo.crc32||0),this.push(st)},tt.exports=ot},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(et,tt,nt){var rt=et("../utils"),it=et("./GenericWorker");function ot(st){it.call(this,"DataLengthProbe for "+st),this.propName=st,this.withStreamInfo(st,0)}rt.inherits(ot,it),ot.prototype.processChunk=function(st){if(st){var at=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=at+st.data.length}it.prototype.processChunk.call(this,st)},tt.exports=ot},{"../utils":32,"./GenericWorker":28}],27:[function(et,tt,nt){var rt=et("../utils"),it=et("./GenericWorker");function ot(st){it.call(this,"DataWorker");var at=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,st.then(function(lt){at.dataIsReady=!0,at.data=lt,at.max=lt&&lt.length||0,at.type=rt.getTypeOf(lt),at.isPaused||at._tickAndRepeat()},function(lt){at.error(lt)})}rt.inherits(ot,it),ot.prototype.cleanUp=function(){it.prototype.cleanUp.call(this),this.data=null},ot.prototype.resume=function(){return!!it.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,rt.delay(this._tickAndRepeat,[],this)),!0)},ot.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(rt.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},ot.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var st=null,at=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":st=this.data.substring(this.index,at);break;case"uint8array":st=this.data.subarray(this.index,at);break;case"array":case"nodebuffer":st=this.data.slice(this.index,at)}return this.index=at,this.push({data:st,meta:{percent:this.max?this.index/this.max*100:0}})},tt.exports=ot},{"../utils":32,"./GenericWorker":28}],28:[function(et,tt,nt){function rt(it){this.name=it||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}rt.prototype={push:function(it){this.emit("data",it)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(it){this.emit("error",it)}return!0},error:function(it){return!this.isFinished&&(this.isPaused?this.generatedError=it:(this.isFinished=!0,this.emit("error",it),this.previous&&this.previous.error(it),this.cleanUp()),!0)},on:function(it,ot){return this._listeners[it].push(ot),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(it,ot){if(this._listeners[it])for(var st=0;st<this._listeners[it].length;st++)this._listeners[it][st].call(this,ot)},pipe:function(it){return it.registerPrevious(this)},registerPrevious:function(it){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=it.streamInfo,this.mergeStreamInfo(),this.previous=it;var ot=this;return it.on("data",function(st){ot.processChunk(st)}),it.on("end",function(){ot.end()}),it.on("error",function(st){ot.error(st)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var it=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),it=!0),this.previous&&this.previous.resume(),!it},flush:function(){},processChunk:function(it){this.push(it)},withStreamInfo:function(it,ot){return this.extraStreamInfo[it]=ot,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var it in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,it)&&(this.streamInfo[it]=this.extraStreamInfo[it])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var it="Worker "+this.name;return this.previous?this.previous+" -> "+it:it}},tt.exports=rt},{}],29:[function(et,tt,nt){var rt=et("../utils"),it=et("./ConvertWorker"),ot=et("./GenericWorker"),st=et("../base64"),at=et("../support"),lt=et("../external"),ct=null;if(at.nodestream)try{ct=et("../nodejs/NodejsStreamOutputAdapter")}catch{}function ut(ht,pt){return new lt.Promise(function(gt,ft){var yt=[],mt=ht._internalType,Ft=ht._outputType,vt=ht._mimeType;ht.on("data",function(Et,wt){yt.push(Et),pt&&pt(wt)}).on("error",function(Et){yt=[],ft(Et)}).on("end",function(){try{var Et=function(wt,It,St){switch(wt){case"blob":return rt.newBlob(rt.transformTo("arraybuffer",It),St);case"base64":return st.encode(It);default:return rt.transformTo(wt,It)}}(Ft,function(wt,It){var St,Rt=0,Tt=null,bt=0;for(St=0;St<It.length;St++)bt+=It[St].length;switch(wt){case"string":return It.join("");case"array":return Array.prototype.concat.apply([],It);case"uint8array":for(Tt=new Uint8Array(bt),St=0;St<It.length;St++)Tt.set(It[St],Rt),Rt+=It[St].length;return Tt;case"nodebuffer":return Buffer.concat(It);default:throw new Error("concat : unsupported type '"+wt+"'")}}(mt,yt),vt);gt(Et)}catch(wt){ft(wt)}yt=[]}).resume()})}function dt(ht,pt,gt){var ft=pt;switch(pt){case"blob":case"arraybuffer":ft="uint8array";break;case"base64":ft="string"}try{this._internalType=ft,this._outputType=pt,this._mimeType=gt,rt.checkSupport(ft),this._worker=ht.pipe(new it(ft)),ht.lock()}catch(yt){this._worker=new ot("error"),this._worker.error(yt)}}dt.prototype={accumulate:function(ht){return ut(this,ht)},on:function(ht,pt){var gt=this;return ht==="data"?this._worker.on(ht,function(ft){pt.call(gt,ft.data,ft.meta)}):this._worker.on(ht,function(){rt.delay(pt,arguments,gt)}),this},resume:function(){return rt.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ht){if(rt.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ct(this,{objectMode:this._outputType!=="nodebuffer"},ht)}},tt.exports=dt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(et,tt,nt){if(nt.base64=!0,nt.array=!0,nt.string=!0,nt.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",nt.nodebuffer=typeof Buffer<"u",nt.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")nt.blob=!1;else{var rt=new ArrayBuffer(0);try{nt.blob=new Blob([rt],{type:"application/zip"}).size===0}catch{try{var it=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);it.append(rt),nt.blob=it.getBlob("application/zip").size===0}catch{nt.blob=!1}}}try{nt.nodestream=!!et("readable-stream").Readable}catch{nt.nodestream=!1}},{"readable-stream":16}],31:[function(et,tt,nt){for(var rt=et("./utils"),it=et("./support"),ot=et("./nodejsUtils"),st=et("./stream/GenericWorker"),at=new Array(256),lt=0;lt<256;lt++)at[lt]=252<=lt?6:248<=lt?5:240<=lt?4:224<=lt?3:192<=lt?2:1;at[254]=at[254]=1;function ct(){st.call(this,"utf-8 decode"),this.leftOver=null}function ut(){st.call(this,"utf-8 encode")}nt.utf8encode=function(dt){return it.nodebuffer?ot.newBufferFrom(dt,"utf-8"):function(ht){var pt,gt,ft,yt,mt,Ft=ht.length,vt=0;for(yt=0;yt<Ft;yt++)(64512&(gt=ht.charCodeAt(yt)))==55296&&yt+1<Ft&&(64512&(ft=ht.charCodeAt(yt+1)))==56320&&(gt=65536+(gt-55296<<10)+(ft-56320),yt++),vt+=gt<128?1:gt<2048?2:gt<65536?3:4;for(pt=it.uint8array?new Uint8Array(vt):new Array(vt),yt=mt=0;mt<vt;yt++)(64512&(gt=ht.charCodeAt(yt)))==55296&&yt+1<Ft&&(64512&(ft=ht.charCodeAt(yt+1)))==56320&&(gt=65536+(gt-55296<<10)+(ft-56320),yt++),gt<128?pt[mt++]=gt:(gt<2048?pt[mt++]=192|gt>>>6:(gt<65536?pt[mt++]=224|gt>>>12:(pt[mt++]=240|gt>>>18,pt[mt++]=128|gt>>>12&63),pt[mt++]=128|gt>>>6&63),pt[mt++]=128|63&gt);return pt}(dt)},nt.utf8decode=function(dt){return it.nodebuffer?rt.transformTo("nodebuffer",dt).toString("utf-8"):function(ht){var pt,gt,ft,yt,mt=ht.length,Ft=new Array(2*mt);for(pt=gt=0;pt<mt;)if((ft=ht[pt++])<128)Ft[gt++]=ft;else if(4<(yt=at[ft]))Ft[gt++]=65533,pt+=yt-1;else{for(ft&=yt===2?31:yt===3?15:7;1<yt&&pt<mt;)ft=ft<<6|63&ht[pt++],yt--;1<yt?Ft[gt++]=65533:ft<65536?Ft[gt++]=ft:(ft-=65536,Ft[gt++]=55296|ft>>10&1023,Ft[gt++]=56320|1023&ft)}return Ft.length!==gt&&(Ft.subarray?Ft=Ft.subarray(0,gt):Ft.length=gt),rt.applyFromCharCode(Ft)}(dt=rt.transformTo(it.uint8array?"uint8array":"array",dt))},rt.inherits(ct,st),ct.prototype.processChunk=function(dt){var ht=rt.transformTo(it.uint8array?"uint8array":"array",dt.data);if(this.leftOver&&this.leftOver.length){if(it.uint8array){var pt=ht;(ht=new Uint8Array(pt.length+this.leftOver.length)).set(this.leftOver,0),ht.set(pt,this.leftOver.length)}else ht=this.leftOver.concat(ht);this.leftOver=null}var gt=function(yt,mt){var Ft;for((mt=mt||yt.length)>yt.length&&(mt=yt.length),Ft=mt-1;0<=Ft&&(192&yt[Ft])==128;)Ft--;return Ft<0||Ft===0?mt:Ft+at[yt[Ft]]>mt?Ft:mt}(ht),ft=ht;gt!==ht.length&&(it.uint8array?(ft=ht.subarray(0,gt),this.leftOver=ht.subarray(gt,ht.length)):(ft=ht.slice(0,gt),this.leftOver=ht.slice(gt,ht.length))),this.push({data:nt.utf8decode(ft),meta:dt.meta})},ct.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:nt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},nt.Utf8DecodeWorker=ct,rt.inherits(ut,st),ut.prototype.processChunk=function(dt){this.push({data:nt.utf8encode(dt.data),meta:dt.meta})},nt.Utf8EncodeWorker=ut},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(et,tt,nt){var rt=et("./support"),it=et("./base64"),ot=et("./nodejsUtils"),st=et("./external");function at(pt){return pt}function lt(pt,gt){for(var ft=0;ft<pt.length;++ft)gt[ft]=255&pt.charCodeAt(ft);return gt}et("setimmediate"),nt.newBlob=function(pt,gt){nt.checkSupport("blob");try{return new Blob([pt],{type:gt})}catch{try{var ft=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ft.append(pt),ft.getBlob(gt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ct={stringifyByChunk:function(pt,gt,ft){var yt=[],mt=0,Ft=pt.length;if(Ft<=ft)return String.fromCharCode.apply(null,pt);for(;mt<Ft;)gt==="array"||gt==="nodebuffer"?yt.push(String.fromCharCode.apply(null,pt.slice(mt,Math.min(mt+ft,Ft)))):yt.push(String.fromCharCode.apply(null,pt.subarray(mt,Math.min(mt+ft,Ft)))),mt+=ft;return yt.join("")},stringifyByChar:function(pt){for(var gt="",ft=0;ft<pt.length;ft++)gt+=String.fromCharCode(pt[ft]);return gt},applyCanBeUsed:{uint8array:function(){try{return rt.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return rt.nodebuffer&&String.fromCharCode.apply(null,ot.allocBuffer(1)).length===1}catch{return!1}}()}};function ut(pt){var gt=65536,ft=nt.getTypeOf(pt),yt=!0;if(ft==="uint8array"?yt=ct.applyCanBeUsed.uint8array:ft==="nodebuffer"&&(yt=ct.applyCanBeUsed.nodebuffer),yt)for(;1<gt;)try{return ct.stringifyByChunk(pt,ft,gt)}catch{gt=Math.floor(gt/2)}return ct.stringifyByChar(pt)}function dt(pt,gt){for(var ft=0;ft<pt.length;ft++)gt[ft]=pt[ft];return gt}nt.applyFromCharCode=ut;var ht={};ht.string={string:at,array:function(pt){return lt(pt,new Array(pt.length))},arraybuffer:function(pt){return ht.string.uint8array(pt).buffer},uint8array:function(pt){return lt(pt,new Uint8Array(pt.length))},nodebuffer:function(pt){return lt(pt,ot.allocBuffer(pt.length))}},ht.array={string:ut,array:at,arraybuffer:function(pt){return new Uint8Array(pt).buffer},uint8array:function(pt){return new Uint8Array(pt)},nodebuffer:function(pt){return ot.newBufferFrom(pt)}},ht.arraybuffer={string:function(pt){return ut(new Uint8Array(pt))},array:function(pt){return dt(new Uint8Array(pt),new Array(pt.byteLength))},arraybuffer:at,uint8array:function(pt){return new Uint8Array(pt)},nodebuffer:function(pt){return ot.newBufferFrom(new Uint8Array(pt))}},ht.uint8array={string:ut,array:function(pt){return dt(pt,new Array(pt.length))},arraybuffer:function(pt){return pt.buffer},uint8array:at,nodebuffer:function(pt){return ot.newBufferFrom(pt)}},ht.nodebuffer={string:ut,array:function(pt){return dt(pt,new Array(pt.length))},arraybuffer:function(pt){return ht.nodebuffer.uint8array(pt).buffer},uint8array:function(pt){return dt(pt,new Uint8Array(pt.length))},nodebuffer:at},nt.transformTo=function(pt,gt){if(gt=gt||"",!pt)return gt;nt.checkSupport(pt);var ft=nt.getTypeOf(gt);return ht[ft][pt](gt)},nt.resolve=function(pt){for(var gt=pt.split("/"),ft=[],yt=0;yt<gt.length;yt++){var mt=gt[yt];mt==="."||mt===""&&yt!==0&&yt!==gt.length-1||(mt===".."?ft.pop():ft.push(mt))}return ft.join("/")},nt.getTypeOf=function(pt){return typeof pt=="string"?"string":Object.prototype.toString.call(pt)==="[object Array]"?"array":rt.nodebuffer&&ot.isBuffer(pt)?"nodebuffer":rt.uint8array&&pt instanceof Uint8Array?"uint8array":rt.arraybuffer&&pt instanceof ArrayBuffer?"arraybuffer":void 0},nt.checkSupport=function(pt){if(!rt[pt.toLowerCase()])throw new Error(pt+" is not supported by this platform")},nt.MAX_VALUE_16BITS=65535,nt.MAX_VALUE_32BITS=-1,nt.pretty=function(pt){var gt,ft,yt="";for(ft=0;ft<(pt||"").length;ft++)yt+="\\x"+((gt=pt.charCodeAt(ft))<16?"0":"")+gt.toString(16).toUpperCase();return yt},nt.delay=function(pt,gt,ft){setImmediate(function(){pt.apply(ft||null,gt||[])})},nt.inherits=function(pt,gt){function ft(){}ft.prototype=gt.prototype,pt.prototype=new ft},nt.extend=function(){var pt,gt,ft={};for(pt=0;pt<arguments.length;pt++)for(gt in arguments[pt])Object.prototype.hasOwnProperty.call(arguments[pt],gt)&&ft[gt]===void 0&&(ft[gt]=arguments[pt][gt]);return ft},nt.prepareContent=function(pt,gt,ft,yt,mt){return st.Promise.resolve(gt).then(function(Ft){return rt.blob&&(Ft instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Ft))!==-1)&&typeof FileReader<"u"?new st.Promise(function(vt,Et){var wt=new FileReader;wt.onload=function(It){vt(It.target.result)},wt.onerror=function(It){Et(It.target.error)},wt.readAsArrayBuffer(Ft)}):Ft}).then(function(Ft){var vt=nt.getTypeOf(Ft);return vt?(vt==="arraybuffer"?Ft=nt.transformTo("uint8array",Ft):vt==="string"&&(mt?Ft=it.decode(Ft):ft&&yt!==!0&&(Ft=function(Et){return lt(Et,rt.uint8array?new Uint8Array(Et.length):new Array(Et.length))}(Ft))),Ft):st.Promise.reject(new Error("Can't read the data of '"+pt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(et,tt,nt){var rt=et("./reader/readerFor"),it=et("./utils"),ot=et("./signature"),st=et("./zipEntry"),at=et("./support");function lt(ct){this.files=[],this.loadOptions=ct}lt.prototype={checkSignature:function(ct){if(!this.reader.readAndCheckSignature(ct)){this.reader.index-=4;var ut=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+it.pretty(ut)+", expected "+it.pretty(ct)+")")}},isSignature:function(ct,ut){var dt=this.reader.index;this.reader.setIndex(ct);var ht=this.reader.readString(4)===ut;return this.reader.setIndex(dt),ht},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ct=this.reader.readData(this.zipCommentLength),ut=at.uint8array?"uint8array":"array",dt=it.transformTo(ut,ct);this.zipComment=this.loadOptions.decodeFileName(dt)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ct,ut,dt,ht=this.zip64EndOfCentralSize-44;0<ht;)ct=this.reader.readInt(2),ut=this.reader.readInt(4),dt=this.reader.readData(ut),this.zip64ExtensibleData[ct]={id:ct,length:ut,value:dt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ct,ut;for(ct=0;ct<this.files.length;ct++)ut=this.files[ct],this.reader.setIndex(ut.localHeaderOffset),this.checkSignature(ot.LOCAL_FILE_HEADER),ut.readLocalPart(this.reader),ut.handleUTF8(),ut.processAttributes()},readCentralDir:function(){var ct;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ot.CENTRAL_FILE_HEADER);)(ct=new st({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ct);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ct=this.reader.lastIndexOfSignature(ot.CENTRAL_DIRECTORY_END);if(ct<0)throw this.isSignature(0,ot.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ct);var ut=ct;if(this.checkSignature(ot.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===it.MAX_VALUE_16BITS||this.diskWithCentralDirStart===it.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===it.MAX_VALUE_16BITS||this.centralDirRecords===it.MAX_VALUE_16BITS||this.centralDirSize===it.MAX_VALUE_32BITS||this.centralDirOffset===it.MAX_VALUE_32BITS){if(this.zip64=!0,(ct=this.reader.lastIndexOfSignature(ot.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ct),this.checkSignature(ot.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ot.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ot.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ot.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var dt=this.centralDirOffset+this.centralDirSize;this.zip64&&(dt+=20,dt+=12+this.zip64EndOfCentralSize);var ht=ut-dt;if(0<ht)this.isSignature(ut,ot.CENTRAL_FILE_HEADER)||(this.reader.zero=ht);else if(ht<0)throw new Error("Corrupted zip: missing "+Math.abs(ht)+" bytes.")},prepareReader:function(ct){this.reader=rt(ct)},load:function(ct){this.prepareReader(ct),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},tt.exports=lt},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(et,tt,nt){var rt=et("./reader/readerFor"),it=et("./utils"),ot=et("./compressedObject"),st=et("./crc32"),at=et("./utf8"),lt=et("./compressions"),ct=et("./support");function ut(dt,ht){this.options=dt,this.loadOptions=ht}ut.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(dt){var ht,pt;if(dt.skip(22),this.fileNameLength=dt.readInt(2),pt=dt.readInt(2),this.fileName=dt.readData(this.fileNameLength),dt.skip(pt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ht=function(gt){for(var ft in lt)if(Object.prototype.hasOwnProperty.call(lt,ft)&&lt[ft].magic===gt)return lt[ft];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+it.pretty(this.compressionMethod)+" unknown (inner file : "+it.transformTo("string",this.fileName)+")");this.decompressed=new ot(this.compressedSize,this.uncompressedSize,this.crc32,ht,dt.readData(this.compressedSize))},readCentralPart:function(dt){this.versionMadeBy=dt.readInt(2),dt.skip(2),this.bitFlag=dt.readInt(2),this.compressionMethod=dt.readString(2),this.date=dt.readDate(),this.crc32=dt.readInt(4),this.compressedSize=dt.readInt(4),this.uncompressedSize=dt.readInt(4);var ht=dt.readInt(2);if(this.extraFieldsLength=dt.readInt(2),this.fileCommentLength=dt.readInt(2),this.diskNumberStart=dt.readInt(2),this.internalFileAttributes=dt.readInt(2),this.externalFileAttributes=dt.readInt(4),this.localHeaderOffset=dt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");dt.skip(ht),this.readExtraFields(dt),this.parseZIP64ExtraField(dt),this.fileComment=dt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var dt=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),dt==0&&(this.dosPermissions=63&this.externalFileAttributes),dt==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var dt=rt(this.extraFields[1].value);this.uncompressedSize===it.MAX_VALUE_32BITS&&(this.uncompressedSize=dt.readInt(8)),this.compressedSize===it.MAX_VALUE_32BITS&&(this.compressedSize=dt.readInt(8)),this.localHeaderOffset===it.MAX_VALUE_32BITS&&(this.localHeaderOffset=dt.readInt(8)),this.diskNumberStart===it.MAX_VALUE_32BITS&&(this.diskNumberStart=dt.readInt(4))}},readExtraFields:function(dt){var ht,pt,gt,ft=dt.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});dt.index+4<ft;)ht=dt.readInt(2),pt=dt.readInt(2),gt=dt.readData(pt),this.extraFields[ht]={id:ht,length:pt,value:gt};dt.setIndex(ft)},handleUTF8:function(){var dt=ct.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=at.utf8decode(this.fileName),this.fileCommentStr=at.utf8decode(this.fileComment);else{var ht=this.findExtraFieldUnicodePath();if(ht!==null)this.fileNameStr=ht;else{var pt=it.transformTo(dt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(pt)}var gt=this.findExtraFieldUnicodeComment();if(gt!==null)this.fileCommentStr=gt;else{var ft=it.transformTo(dt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ft)}}},findExtraFieldUnicodePath:function(){var dt=this.extraFields[28789];if(dt){var ht=rt(dt.value);return ht.readInt(1)!==1||st(this.fileName)!==ht.readInt(4)?null:at.utf8decode(ht.readData(dt.length-5))}return null},findExtraFieldUnicodeComment:function(){var dt=this.extraFields[25461];if(dt){var ht=rt(dt.value);return ht.readInt(1)!==1||st(this.fileComment)!==ht.readInt(4)?null:at.utf8decode(ht.readData(dt.length-5))}return null}},tt.exports=ut},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(et,tt,nt){function rt(ht,pt,gt){this.name=ht,this.dir=gt.dir,this.date=gt.date,this.comment=gt.comment,this.unixPermissions=gt.unixPermissions,this.dosPermissions=gt.dosPermissions,this._data=pt,this._dataBinary=gt.binary,this.options={compression:gt.compression,compressionOptions:gt.compressionOptions}}var it=et("./stream/StreamHelper"),ot=et("./stream/DataWorker"),st=et("./utf8"),at=et("./compressedObject"),lt=et("./stream/GenericWorker");rt.prototype={internalStream:function(ht){var pt=null,gt="string";try{if(!ht)throw new Error("No output type specified.");var ft=(gt=ht.toLowerCase())==="string"||gt==="text";gt!=="binarystring"&&gt!=="text"||(gt="string"),pt=this._decompressWorker();var yt=!this._dataBinary;yt&&!ft&&(pt=pt.pipe(new st.Utf8EncodeWorker)),!yt&&ft&&(pt=pt.pipe(new st.Utf8DecodeWorker))}catch(mt){(pt=new lt("error")).error(mt)}return new it(pt,gt,"")},async:function(ht,pt){return this.internalStream(ht).accumulate(pt)},nodeStream:function(ht,pt){return this.internalStream(ht||"nodebuffer").toNodejsStream(pt)},_compressWorker:function(ht,pt){if(this._data instanceof at&&this._data.compression.magic===ht.magic)return this._data.getCompressedWorker();var gt=this._decompressWorker();return this._dataBinary||(gt=gt.pipe(new st.Utf8EncodeWorker)),at.createWorkerFrom(gt,ht,pt)},_decompressWorker:function(){return this._data instanceof at?this._data.getContentWorker():this._data instanceof lt?this._data:new ot(this._data)}};for(var ct=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ut=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},dt=0;dt<ct.length;dt++)rt.prototype[ct[dt]]=ut;tt.exports=rt},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(et,tt,nt){(function(rt){var it,ot,st=rt.MutationObserver||rt.WebKitMutationObserver;if(st){var at=0,lt=new st(ht),ct=rt.document.createTextNode("");lt.observe(ct,{characterData:!0}),it=function(){ct.data=at=++at%2}}else if(rt.setImmediate||rt.MessageChannel===void 0)it="document"in rt&&"onreadystatechange"in rt.document.createElement("script")?function(){var pt=rt.document.createElement("script");pt.onreadystatechange=function(){ht(),pt.onreadystatechange=null,pt.parentNode.removeChild(pt),pt=null},rt.document.documentElement.appendChild(pt)}:function(){setTimeout(ht,0)};else{var ut=new rt.MessageChannel;ut.port1.onmessage=ht,it=function(){ut.port2.postMessage(0)}}var dt=[];function ht(){var pt,gt;ot=!0;for(var ft=dt.length;ft;){for(gt=dt,dt=[],pt=-1;++pt<ft;)gt[pt]();ft=dt.length}ot=!1}tt.exports=function(pt){dt.push(pt)!==1||ot||it()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(et,tt,nt){var rt=et("immediate");function it(){}var ot={},st=["REJECTED"],at=["FULFILLED"],lt=["PENDING"];function ct(ft){if(typeof ft!="function")throw new TypeError("resolver must be a function");this.state=lt,this.queue=[],this.outcome=void 0,ft!==it&&pt(this,ft)}function ut(ft,yt,mt){this.promise=ft,typeof yt=="function"&&(this.onFulfilled=yt,this.callFulfilled=this.otherCallFulfilled),typeof mt=="function"&&(this.onRejected=mt,this.callRejected=this.otherCallRejected)}function dt(ft,yt,mt){rt(function(){var Ft;try{Ft=yt(mt)}catch(vt){return ot.reject(ft,vt)}Ft===ft?ot.reject(ft,new TypeError("Cannot resolve promise with itself")):ot.resolve(ft,Ft)})}function ht(ft){var yt=ft&&ft.then;if(ft&&(typeof ft=="object"||typeof ft=="function")&&typeof yt=="function")return function(){yt.apply(ft,arguments)}}function pt(ft,yt){var mt=!1;function Ft(wt){mt||(mt=!0,ot.reject(ft,wt))}function vt(wt){mt||(mt=!0,ot.resolve(ft,wt))}var Et=gt(function(){yt(vt,Ft)});Et.status==="error"&&Ft(Et.value)}function gt(ft,yt){var mt={};try{mt.value=ft(yt),mt.status="success"}catch(Ft){mt.status="error",mt.value=Ft}return mt}(tt.exports=ct).prototype.finally=function(ft){if(typeof ft!="function")return this;var yt=this.constructor;return this.then(function(mt){return yt.resolve(ft()).then(function(){return mt})},function(mt){return yt.resolve(ft()).then(function(){throw mt})})},ct.prototype.catch=function(ft){return this.then(null,ft)},ct.prototype.then=function(ft,yt){if(typeof ft!="function"&&this.state===at||typeof yt!="function"&&this.state===st)return this;var mt=new this.constructor(it);return this.state!==lt?dt(mt,this.state===at?ft:yt,this.outcome):this.queue.push(new ut(mt,ft,yt)),mt},ut.prototype.callFulfilled=function(ft){ot.resolve(this.promise,ft)},ut.prototype.otherCallFulfilled=function(ft){dt(this.promise,this.onFulfilled,ft)},ut.prototype.callRejected=function(ft){ot.reject(this.promise,ft)},ut.prototype.otherCallRejected=function(ft){dt(this.promise,this.onRejected,ft)},ot.resolve=function(ft,yt){var mt=gt(ht,yt);if(mt.status==="error")return ot.reject(ft,mt.value);var Ft=mt.value;if(Ft)pt(ft,Ft);else{ft.state=at,ft.outcome=yt;for(var vt=-1,Et=ft.queue.length;++vt<Et;)ft.queue[vt].callFulfilled(yt)}return ft},ot.reject=function(ft,yt){ft.state=st,ft.outcome=yt;for(var mt=-1,Ft=ft.queue.length;++mt<Ft;)ft.queue[mt].callRejected(yt);return ft},ct.resolve=function(ft){return ft instanceof this?ft:ot.resolve(new this(it),ft)},ct.reject=function(ft){var yt=new this(it);return ot.reject(yt,ft)},ct.all=function(ft){var yt=this;if(Object.prototype.toString.call(ft)!=="[object Array]")return this.reject(new TypeError("must be an array"));var mt=ft.length,Ft=!1;if(!mt)return this.resolve([]);for(var vt=new Array(mt),Et=0,wt=-1,It=new this(it);++wt<mt;)St(ft[wt],wt);return It;function St(Rt,Tt){yt.resolve(Rt).then(function(bt){vt[Tt]=bt,++Et!==mt||Ft||(Ft=!0,ot.resolve(It,vt))},function(bt){Ft||(Ft=!0,ot.reject(It,bt))})}},ct.race=function(ft){var yt=this;if(Object.prototype.toString.call(ft)!=="[object Array]")return this.reject(new TypeError("must be an array"));var mt=ft.length,Ft=!1;if(!mt)return this.resolve([]);for(var vt=-1,Et=new this(it);++vt<mt;)wt=ft[vt],yt.resolve(wt).then(function(It){Ft||(Ft=!0,ot.resolve(Et,It))},function(It){Ft||(Ft=!0,ot.reject(Et,It))});var wt;return Et}},{immediate:36}],38:[function(et,tt,nt){var rt={};(0,et("./lib/utils/common").assign)(rt,et("./lib/deflate"),et("./lib/inflate"),et("./lib/zlib/constants")),tt.exports=rt},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(et,tt,nt){var rt=et("./zlib/deflate"),it=et("./utils/common"),ot=et("./utils/strings"),st=et("./zlib/messages"),at=et("./zlib/zstream"),lt=Object.prototype.toString,ct=0,ut=-1,dt=0,ht=8;function pt(ft){if(!(this instanceof pt))return new pt(ft);this.options=it.assign({level:ut,method:ht,chunkSize:16384,windowBits:15,memLevel:8,strategy:dt,to:""},ft||{});var yt=this.options;yt.raw&&0<yt.windowBits?yt.windowBits=-yt.windowBits:yt.gzip&&0<yt.windowBits&&yt.windowBits<16&&(yt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new at,this.strm.avail_out=0;var mt=rt.deflateInit2(this.strm,yt.level,yt.method,yt.windowBits,yt.memLevel,yt.strategy);if(mt!==ct)throw new Error(st[mt]);if(yt.header&&rt.deflateSetHeader(this.strm,yt.header),yt.dictionary){var Ft;if(Ft=typeof yt.dictionary=="string"?ot.string2buf(yt.dictionary):lt.call(yt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(yt.dictionary):yt.dictionary,(mt=rt.deflateSetDictionary(this.strm,Ft))!==ct)throw new Error(st[mt]);this._dict_set=!0}}function gt(ft,yt){var mt=new pt(yt);if(mt.push(ft,!0),mt.err)throw mt.msg||st[mt.err];return mt.result}pt.prototype.push=function(ft,yt){var mt,Ft,vt=this.strm,Et=this.options.chunkSize;if(this.ended)return!1;Ft=yt===~~yt?yt:yt===!0?4:0,typeof ft=="string"?vt.input=ot.string2buf(ft):lt.call(ft)==="[object ArrayBuffer]"?vt.input=new Uint8Array(ft):vt.input=ft,vt.next_in=0,vt.avail_in=vt.input.length;do{if(vt.avail_out===0&&(vt.output=new it.Buf8(Et),vt.next_out=0,vt.avail_out=Et),(mt=rt.deflate(vt,Ft))!==1&&mt!==ct)return this.onEnd(mt),!(this.ended=!0);vt.avail_out!==0&&(vt.avail_in!==0||Ft!==4&&Ft!==2)||(this.options.to==="string"?this.onData(ot.buf2binstring(it.shrinkBuf(vt.output,vt.next_out))):this.onData(it.shrinkBuf(vt.output,vt.next_out)))}while((0<vt.avail_in||vt.avail_out===0)&&mt!==1);return Ft===4?(mt=rt.deflateEnd(this.strm),this.onEnd(mt),this.ended=!0,mt===ct):Ft!==2||(this.onEnd(ct),!(vt.avail_out=0))},pt.prototype.onData=function(ft){this.chunks.push(ft)},pt.prototype.onEnd=function(ft){ft===ct&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=it.flattenChunks(this.chunks)),this.chunks=[],this.err=ft,this.msg=this.strm.msg},nt.Deflate=pt,nt.deflate=gt,nt.deflateRaw=function(ft,yt){return(yt=yt||{}).raw=!0,gt(ft,yt)},nt.gzip=function(ft,yt){return(yt=yt||{}).gzip=!0,gt(ft,yt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(et,tt,nt){var rt=et("./zlib/inflate"),it=et("./utils/common"),ot=et("./utils/strings"),st=et("./zlib/constants"),at=et("./zlib/messages"),lt=et("./zlib/zstream"),ct=et("./zlib/gzheader"),ut=Object.prototype.toString;function dt(pt){if(!(this instanceof dt))return new dt(pt);this.options=it.assign({chunkSize:16384,windowBits:0,to:""},pt||{});var gt=this.options;gt.raw&&0<=gt.windowBits&&gt.windowBits<16&&(gt.windowBits=-gt.windowBits,gt.windowBits===0&&(gt.windowBits=-15)),!(0<=gt.windowBits&&gt.windowBits<16)||pt&&pt.windowBits||(gt.windowBits+=32),15<gt.windowBits&&gt.windowBits<48&&!(15&gt.windowBits)&&(gt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var ft=rt.inflateInit2(this.strm,gt.windowBits);if(ft!==st.Z_OK)throw new Error(at[ft]);this.header=new ct,rt.inflateGetHeader(this.strm,this.header)}function ht(pt,gt){var ft=new dt(gt);if(ft.push(pt,!0),ft.err)throw ft.msg||at[ft.err];return ft.result}dt.prototype.push=function(pt,gt){var ft,yt,mt,Ft,vt,Et,wt=this.strm,It=this.options.chunkSize,St=this.options.dictionary,Rt=!1;if(this.ended)return!1;yt=gt===~~gt?gt:gt===!0?st.Z_FINISH:st.Z_NO_FLUSH,typeof pt=="string"?wt.input=ot.binstring2buf(pt):ut.call(pt)==="[object ArrayBuffer]"?wt.input=new Uint8Array(pt):wt.input=pt,wt.next_in=0,wt.avail_in=wt.input.length;do{if(wt.avail_out===0&&(wt.output=new it.Buf8(It),wt.next_out=0,wt.avail_out=It),(ft=rt.inflate(wt,st.Z_NO_FLUSH))===st.Z_NEED_DICT&&St&&(Et=typeof St=="string"?ot.string2buf(St):ut.call(St)==="[object ArrayBuffer]"?new Uint8Array(St):St,ft=rt.inflateSetDictionary(this.strm,Et)),ft===st.Z_BUF_ERROR&&Rt===!0&&(ft=st.Z_OK,Rt=!1),ft!==st.Z_STREAM_END&&ft!==st.Z_OK)return this.onEnd(ft),!(this.ended=!0);wt.next_out&&(wt.avail_out!==0&&ft!==st.Z_STREAM_END&&(wt.avail_in!==0||yt!==st.Z_FINISH&&yt!==st.Z_SYNC_FLUSH)||(this.options.to==="string"?(mt=ot.utf8border(wt.output,wt.next_out),Ft=wt.next_out-mt,vt=ot.buf2string(wt.output,mt),wt.next_out=Ft,wt.avail_out=It-Ft,Ft&&it.arraySet(wt.output,wt.output,mt,Ft,0),this.onData(vt)):this.onData(it.shrinkBuf(wt.output,wt.next_out)))),wt.avail_in===0&&wt.avail_out===0&&(Rt=!0)}while((0<wt.avail_in||wt.avail_out===0)&&ft!==st.Z_STREAM_END);return ft===st.Z_STREAM_END&&(yt=st.Z_FINISH),yt===st.Z_FINISH?(ft=rt.inflateEnd(this.strm),this.onEnd(ft),this.ended=!0,ft===st.Z_OK):yt!==st.Z_SYNC_FLUSH||(this.onEnd(st.Z_OK),!(wt.avail_out=0))},dt.prototype.onData=function(pt){this.chunks.push(pt)},dt.prototype.onEnd=function(pt){pt===st.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=it.flattenChunks(this.chunks)),this.chunks=[],this.err=pt,this.msg=this.strm.msg},nt.Inflate=dt,nt.inflate=ht,nt.inflateRaw=function(pt,gt){return(gt=gt||{}).raw=!0,ht(pt,gt)},nt.ungzip=ht},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(et,tt,nt){var rt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";nt.assign=function(st){for(var at=Array.prototype.slice.call(arguments,1);at.length;){var lt=at.shift();if(lt){if(typeof lt!="object")throw new TypeError(lt+"must be non-object");for(var ct in lt)lt.hasOwnProperty(ct)&&(st[ct]=lt[ct])}}return st},nt.shrinkBuf=function(st,at){return st.length===at?st:st.subarray?st.subarray(0,at):(st.length=at,st)};var it={arraySet:function(st,at,lt,ct,ut){if(at.subarray&&st.subarray)st.set(at.subarray(lt,lt+ct),ut);else for(var dt=0;dt<ct;dt++)st[ut+dt]=at[lt+dt]},flattenChunks:function(st){var at,lt,ct,ut,dt,ht;for(at=ct=0,lt=st.length;at<lt;at++)ct+=st[at].length;for(ht=new Uint8Array(ct),at=ut=0,lt=st.length;at<lt;at++)dt=st[at],ht.set(dt,ut),ut+=dt.length;return ht}},ot={arraySet:function(st,at,lt,ct,ut){for(var dt=0;dt<ct;dt++)st[ut+dt]=at[lt+dt]},flattenChunks:function(st){return[].concat.apply([],st)}};nt.setTyped=function(st){st?(nt.Buf8=Uint8Array,nt.Buf16=Uint16Array,nt.Buf32=Int32Array,nt.assign(nt,it)):(nt.Buf8=Array,nt.Buf16=Array,nt.Buf32=Array,nt.assign(nt,ot))},nt.setTyped(rt)},{}],42:[function(et,tt,nt){var rt=et("./common"),it=!0,ot=!0;try{String.fromCharCode.apply(null,[0])}catch{it=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ot=!1}for(var st=new rt.Buf8(256),at=0;at<256;at++)st[at]=252<=at?6:248<=at?5:240<=at?4:224<=at?3:192<=at?2:1;function lt(ct,ut){if(ut<65537&&(ct.subarray&&ot||!ct.subarray&&it))return String.fromCharCode.apply(null,rt.shrinkBuf(ct,ut));for(var dt="",ht=0;ht<ut;ht++)dt+=String.fromCharCode(ct[ht]);return dt}st[254]=st[254]=1,nt.string2buf=function(ct){var ut,dt,ht,pt,gt,ft=ct.length,yt=0;for(pt=0;pt<ft;pt++)(64512&(dt=ct.charCodeAt(pt)))==55296&&pt+1<ft&&(64512&(ht=ct.charCodeAt(pt+1)))==56320&&(dt=65536+(dt-55296<<10)+(ht-56320),pt++),yt+=dt<128?1:dt<2048?2:dt<65536?3:4;for(ut=new rt.Buf8(yt),pt=gt=0;gt<yt;pt++)(64512&(dt=ct.charCodeAt(pt)))==55296&&pt+1<ft&&(64512&(ht=ct.charCodeAt(pt+1)))==56320&&(dt=65536+(dt-55296<<10)+(ht-56320),pt++),dt<128?ut[gt++]=dt:(dt<2048?ut[gt++]=192|dt>>>6:(dt<65536?ut[gt++]=224|dt>>>12:(ut[gt++]=240|dt>>>18,ut[gt++]=128|dt>>>12&63),ut[gt++]=128|dt>>>6&63),ut[gt++]=128|63&dt);return ut},nt.buf2binstring=function(ct){return lt(ct,ct.length)},nt.binstring2buf=function(ct){for(var ut=new rt.Buf8(ct.length),dt=0,ht=ut.length;dt<ht;dt++)ut[dt]=ct.charCodeAt(dt);return ut},nt.buf2string=function(ct,ut){var dt,ht,pt,gt,ft=ut||ct.length,yt=new Array(2*ft);for(dt=ht=0;dt<ft;)if((pt=ct[dt++])<128)yt[ht++]=pt;else if(4<(gt=st[pt]))yt[ht++]=65533,dt+=gt-1;else{for(pt&=gt===2?31:gt===3?15:7;1<gt&&dt<ft;)pt=pt<<6|63&ct[dt++],gt--;1<gt?yt[ht++]=65533:pt<65536?yt[ht++]=pt:(pt-=65536,yt[ht++]=55296|pt>>10&1023,yt[ht++]=56320|1023&pt)}return lt(yt,ht)},nt.utf8border=function(ct,ut){var dt;for((ut=ut||ct.length)>ct.length&&(ut=ct.length),dt=ut-1;0<=dt&&(192&ct[dt])==128;)dt--;return dt<0||dt===0?ut:dt+st[ct[dt]]>ut?dt:ut}},{"./common":41}],43:[function(et,tt,nt){tt.exports=function(rt,it,ot,st){for(var at=65535&rt|0,lt=rt>>>16&65535|0,ct=0;ot!==0;){for(ot-=ct=2e3<ot?2e3:ot;lt=lt+(at=at+it[st++]|0)|0,--ct;);at%=65521,lt%=65521}return at|lt<<16|0}},{}],44:[function(et,tt,nt){tt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(et,tt,nt){var rt=function(){for(var it,ot=[],st=0;st<256;st++){it=st;for(var at=0;at<8;at++)it=1&it?3988292384^it>>>1:it>>>1;ot[st]=it}return ot}();tt.exports=function(it,ot,st,at){var lt=rt,ct=at+st;it^=-1;for(var ut=at;ut<ct;ut++)it=it>>>8^lt[255&(it^ot[ut])];return-1^it}},{}],46:[function(et,tt,nt){var rt,it=et("../utils/common"),ot=et("./trees"),st=et("./adler32"),at=et("./crc32"),lt=et("./messages"),ct=0,ut=4,dt=0,ht=-2,pt=-1,gt=4,ft=2,yt=8,mt=9,Ft=286,vt=30,Et=19,wt=2*Ft+1,It=15,St=3,Rt=258,Tt=Rt+St+1,bt=42,xt=113,Bt=1,Ct=2,Mt=3,Nt=4;function At(Zt,dn){return Zt.msg=lt[dn],dn}function Ot(Zt){return(Zt<<1)-(4<Zt?9:0)}function Vt(Zt){for(var dn=Zt.length;0<=--dn;)Zt[dn]=0}function Wt(Zt){var dn=Zt.state,Fn=dn.pending;Fn>Zt.avail_out&&(Fn=Zt.avail_out),Fn!==0&&(it.arraySet(Zt.output,dn.pending_buf,dn.pending_out,Fn,Zt.next_out),Zt.next_out+=Fn,dn.pending_out+=Fn,Zt.total_out+=Fn,Zt.avail_out-=Fn,dn.pending-=Fn,dn.pending===0&&(dn.pending_out=0))}function Jt(Zt,dn){ot._tr_flush_block(Zt,0<=Zt.block_start?Zt.block_start:-1,Zt.strstart-Zt.block_start,dn),Zt.block_start=Zt.strstart,Wt(Zt.strm)}function qt(Zt,dn){Zt.pending_buf[Zt.pending++]=dn}function Ht(Zt,dn){Zt.pending_buf[Zt.pending++]=dn>>>8&255,Zt.pending_buf[Zt.pending++]=255&dn}function Xt(Zt,dn){var Fn,pn,un=Zt.max_chain_length,bn=Zt.strstart,an=Zt.prev_length,rn=Zt.nice_match,mn=Zt.strstart>Zt.w_size-Tt?Zt.strstart-(Zt.w_size-Tt):0,xn=Zt.window,wn=Zt.w_mask,Mn=Zt.prev,or=Zt.strstart+Rt,ir=xn[bn+an-1],nr=xn[bn+an];Zt.prev_length>=Zt.good_match&&(un>>=2),rn>Zt.lookahead&&(rn=Zt.lookahead);do if(xn[(Fn=dn)+an]===nr&&xn[Fn+an-1]===ir&&xn[Fn]===xn[bn]&&xn[++Fn]===xn[bn+1]){bn+=2,Fn++;do;while(xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&xn[++bn]===xn[++Fn]&&bn<or);if(pn=Rt-(or-bn),bn=or-Rt,an<pn){if(Zt.match_start=dn,rn<=(an=pn))break;ir=xn[bn+an-1],nr=xn[bn+an]}}while((dn=Mn[dn&wn])>mn&&--un!=0);return an<=Zt.lookahead?an:Zt.lookahead}function Lt(Zt){var dn,Fn,pn,un,bn,an,rn,mn,xn,wn,Mn=Zt.w_size;do{if(un=Zt.window_size-Zt.lookahead-Zt.strstart,Zt.strstart>=Mn+(Mn-Tt)){for(it.arraySet(Zt.window,Zt.window,Mn,Mn,0),Zt.match_start-=Mn,Zt.strstart-=Mn,Zt.block_start-=Mn,dn=Fn=Zt.hash_size;pn=Zt.head[--dn],Zt.head[dn]=Mn<=pn?pn-Mn:0,--Fn;);for(dn=Fn=Mn;pn=Zt.prev[--dn],Zt.prev[dn]=Mn<=pn?pn-Mn:0,--Fn;);un+=Mn}if(Zt.strm.avail_in===0)break;if(an=Zt.strm,rn=Zt.window,mn=Zt.strstart+Zt.lookahead,xn=un,wn=void 0,wn=an.avail_in,xn<wn&&(wn=xn),Fn=wn===0?0:(an.avail_in-=wn,it.arraySet(rn,an.input,an.next_in,wn,mn),an.state.wrap===1?an.adler=st(an.adler,rn,wn,mn):an.state.wrap===2&&(an.adler=at(an.adler,rn,wn,mn)),an.next_in+=wn,an.total_in+=wn,wn),Zt.lookahead+=Fn,Zt.lookahead+Zt.insert>=St)for(bn=Zt.strstart-Zt.insert,Zt.ins_h=Zt.window[bn],Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[bn+1])&Zt.hash_mask;Zt.insert&&(Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[bn+St-1])&Zt.hash_mask,Zt.prev[bn&Zt.w_mask]=Zt.head[Zt.ins_h],Zt.head[Zt.ins_h]=bn,bn++,Zt.insert--,!(Zt.lookahead+Zt.insert<St)););}while(Zt.lookahead<Tt&&Zt.strm.avail_in!==0)}function Pt(Zt,dn){for(var Fn,pn;;){if(Zt.lookahead<Tt){if(Lt(Zt),Zt.lookahead<Tt&&dn===ct)return Bt;if(Zt.lookahead===0)break}if(Fn=0,Zt.lookahead>=St&&(Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[Zt.strstart+St-1])&Zt.hash_mask,Fn=Zt.prev[Zt.strstart&Zt.w_mask]=Zt.head[Zt.ins_h],Zt.head[Zt.ins_h]=Zt.strstart),Fn!==0&&Zt.strstart-Fn<=Zt.w_size-Tt&&(Zt.match_length=Xt(Zt,Fn)),Zt.match_length>=St)if(pn=ot._tr_tally(Zt,Zt.strstart-Zt.match_start,Zt.match_length-St),Zt.lookahead-=Zt.match_length,Zt.match_length<=Zt.max_lazy_match&&Zt.lookahead>=St){for(Zt.match_length--;Zt.strstart++,Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[Zt.strstart+St-1])&Zt.hash_mask,Fn=Zt.prev[Zt.strstart&Zt.w_mask]=Zt.head[Zt.ins_h],Zt.head[Zt.ins_h]=Zt.strstart,--Zt.match_length!=0;);Zt.strstart++}else Zt.strstart+=Zt.match_length,Zt.match_length=0,Zt.ins_h=Zt.window[Zt.strstart],Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[Zt.strstart+1])&Zt.hash_mask;else pn=ot._tr_tally(Zt,0,Zt.window[Zt.strstart]),Zt.lookahead--,Zt.strstart++;if(pn&&(Jt(Zt,!1),Zt.strm.avail_out===0))return Bt}return Zt.insert=Zt.strstart<St-1?Zt.strstart:St-1,dn===ut?(Jt(Zt,!0),Zt.strm.avail_out===0?Mt:Nt):Zt.last_lit&&(Jt(Zt,!1),Zt.strm.avail_out===0)?Bt:Ct}function kt(Zt,dn){for(var Fn,pn,un;;){if(Zt.lookahead<Tt){if(Lt(Zt),Zt.lookahead<Tt&&dn===ct)return Bt;if(Zt.lookahead===0)break}if(Fn=0,Zt.lookahead>=St&&(Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[Zt.strstart+St-1])&Zt.hash_mask,Fn=Zt.prev[Zt.strstart&Zt.w_mask]=Zt.head[Zt.ins_h],Zt.head[Zt.ins_h]=Zt.strstart),Zt.prev_length=Zt.match_length,Zt.prev_match=Zt.match_start,Zt.match_length=St-1,Fn!==0&&Zt.prev_length<Zt.max_lazy_match&&Zt.strstart-Fn<=Zt.w_size-Tt&&(Zt.match_length=Xt(Zt,Fn),Zt.match_length<=5&&(Zt.strategy===1||Zt.match_length===St&&4096<Zt.strstart-Zt.match_start)&&(Zt.match_length=St-1)),Zt.prev_length>=St&&Zt.match_length<=Zt.prev_length){for(un=Zt.strstart+Zt.lookahead-St,pn=ot._tr_tally(Zt,Zt.strstart-1-Zt.prev_match,Zt.prev_length-St),Zt.lookahead-=Zt.prev_length-1,Zt.prev_length-=2;++Zt.strstart<=un&&(Zt.ins_h=(Zt.ins_h<<Zt.hash_shift^Zt.window[Zt.strstart+St-1])&Zt.hash_mask,Fn=Zt.prev[Zt.strstart&Zt.w_mask]=Zt.head[Zt.ins_h],Zt.head[Zt.ins_h]=Zt.strstart),--Zt.prev_length!=0;);if(Zt.match_available=0,Zt.match_length=St-1,Zt.strstart++,pn&&(Jt(Zt,!1),Zt.strm.avail_out===0))return Bt}else if(Zt.match_available){if((pn=ot._tr_tally(Zt,0,Zt.window[Zt.strstart-1]))&&Jt(Zt,!1),Zt.strstart++,Zt.lookahead--,Zt.strm.avail_out===0)return Bt}else Zt.match_available=1,Zt.strstart++,Zt.lookahead--}return Zt.match_available&&(pn=ot._tr_tally(Zt,0,Zt.window[Zt.strstart-1]),Zt.match_available=0),Zt.insert=Zt.strstart<St-1?Zt.strstart:St-1,dn===ut?(Jt(Zt,!0),Zt.strm.avail_out===0?Mt:Nt):Zt.last_lit&&(Jt(Zt,!1),Zt.strm.avail_out===0)?Bt:Ct}function zt(Zt,dn,Fn,pn,un){this.good_length=Zt,this.max_lazy=dn,this.nice_length=Fn,this.max_chain=pn,this.func=un}function tn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new it.Buf16(2*wt),this.dyn_dtree=new it.Buf16(2*(2*vt+1)),this.bl_tree=new it.Buf16(2*(2*Et+1)),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new it.Buf16(It+1),this.heap=new it.Buf16(2*Ft+1),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new it.Buf16(2*Ft+1),Vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Gt(Zt){var dn;return Zt&&Zt.state?(Zt.total_in=Zt.total_out=0,Zt.data_type=ft,(dn=Zt.state).pending=0,dn.pending_out=0,dn.wrap<0&&(dn.wrap=-dn.wrap),dn.status=dn.wrap?bt:xt,Zt.adler=dn.wrap===2?0:1,dn.last_flush=ct,ot._tr_init(dn),dt):At(Zt,ht)}function en(Zt){var dn=Gt(Zt);return dn===dt&&function(Fn){Fn.window_size=2*Fn.w_size,Vt(Fn.head),Fn.max_lazy_match=rt[Fn.level].max_lazy,Fn.good_match=rt[Fn.level].good_length,Fn.nice_match=rt[Fn.level].nice_length,Fn.max_chain_length=rt[Fn.level].max_chain,Fn.strstart=0,Fn.block_start=0,Fn.lookahead=0,Fn.insert=0,Fn.match_length=Fn.prev_length=St-1,Fn.match_available=0,Fn.ins_h=0}(Zt.state),dn}function cn(Zt,dn,Fn,pn,un,bn){if(!Zt)return ht;var an=1;if(dn===pt&&(dn=6),pn<0?(an=0,pn=-pn):15<pn&&(an=2,pn-=16),un<1||mt<un||Fn!==yt||pn<8||15<pn||dn<0||9<dn||bn<0||gt<bn)return At(Zt,ht);pn===8&&(pn=9);var rn=new tn;return(Zt.state=rn).strm=Zt,rn.wrap=an,rn.gzhead=null,rn.w_bits=pn,rn.w_size=1<<rn.w_bits,rn.w_mask=rn.w_size-1,rn.hash_bits=un+7,rn.hash_size=1<<rn.hash_bits,rn.hash_mask=rn.hash_size-1,rn.hash_shift=~~((rn.hash_bits+St-1)/St),rn.window=new it.Buf8(2*rn.w_size),rn.head=new it.Buf16(rn.hash_size),rn.prev=new it.Buf16(rn.w_size),rn.lit_bufsize=1<<un+6,rn.pending_buf_size=4*rn.lit_bufsize,rn.pending_buf=new it.Buf8(rn.pending_buf_size),rn.d_buf=1*rn.lit_bufsize,rn.l_buf=3*rn.lit_bufsize,rn.level=dn,rn.strategy=bn,rn.method=Fn,en(Zt)}rt=[new zt(0,0,0,0,function(Zt,dn){var Fn=65535;for(Fn>Zt.pending_buf_size-5&&(Fn=Zt.pending_buf_size-5);;){if(Zt.lookahead<=1){if(Lt(Zt),Zt.lookahead===0&&dn===ct)return Bt;if(Zt.lookahead===0)break}Zt.strstart+=Zt.lookahead,Zt.lookahead=0;var pn=Zt.block_start+Fn;if((Zt.strstart===0||Zt.strstart>=pn)&&(Zt.lookahead=Zt.strstart-pn,Zt.strstart=pn,Jt(Zt,!1),Zt.strm.avail_out===0)||Zt.strstart-Zt.block_start>=Zt.w_size-Tt&&(Jt(Zt,!1),Zt.strm.avail_out===0))return Bt}return Zt.insert=0,dn===ut?(Jt(Zt,!0),Zt.strm.avail_out===0?Mt:Nt):(Zt.strstart>Zt.block_start&&(Jt(Zt,!1),Zt.strm.avail_out),Bt)}),new zt(4,4,8,4,Pt),new zt(4,5,16,8,Pt),new zt(4,6,32,32,Pt),new zt(4,4,16,16,kt),new zt(8,16,32,32,kt),new zt(8,16,128,128,kt),new zt(8,32,128,256,kt),new zt(32,128,258,1024,kt),new zt(32,258,258,4096,kt)],nt.deflateInit=function(Zt,dn){return cn(Zt,dn,yt,15,8,0)},nt.deflateInit2=cn,nt.deflateReset=en,nt.deflateResetKeep=Gt,nt.deflateSetHeader=function(Zt,dn){return Zt&&Zt.state?Zt.state.wrap!==2?ht:(Zt.state.gzhead=dn,dt):ht},nt.deflate=function(Zt,dn){var Fn,pn,un,bn;if(!Zt||!Zt.state||5<dn||dn<0)return Zt?At(Zt,ht):ht;if(pn=Zt.state,!Zt.output||!Zt.input&&Zt.avail_in!==0||pn.status===666&&dn!==ut)return At(Zt,Zt.avail_out===0?-5:ht);if(pn.strm=Zt,Fn=pn.last_flush,pn.last_flush=dn,pn.status===bt)if(pn.wrap===2)Zt.adler=0,qt(pn,31),qt(pn,139),qt(pn,8),pn.gzhead?(qt(pn,(pn.gzhead.text?1:0)+(pn.gzhead.hcrc?2:0)+(pn.gzhead.extra?4:0)+(pn.gzhead.name?8:0)+(pn.gzhead.comment?16:0)),qt(pn,255&pn.gzhead.time),qt(pn,pn.gzhead.time>>8&255),qt(pn,pn.gzhead.time>>16&255),qt(pn,pn.gzhead.time>>24&255),qt(pn,pn.level===9?2:2<=pn.strategy||pn.level<2?4:0),qt(pn,255&pn.gzhead.os),pn.gzhead.extra&&pn.gzhead.extra.length&&(qt(pn,255&pn.gzhead.extra.length),qt(pn,pn.gzhead.extra.length>>8&255)),pn.gzhead.hcrc&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending,0)),pn.gzindex=0,pn.status=69):(qt(pn,0),qt(pn,0),qt(pn,0),qt(pn,0),qt(pn,0),qt(pn,pn.level===9?2:2<=pn.strategy||pn.level<2?4:0),qt(pn,3),pn.status=xt);else{var an=yt+(pn.w_bits-8<<4)<<8;an|=(2<=pn.strategy||pn.level<2?0:pn.level<6?1:pn.level===6?2:3)<<6,pn.strstart!==0&&(an|=32),an+=31-an%31,pn.status=xt,Ht(pn,an),pn.strstart!==0&&(Ht(pn,Zt.adler>>>16),Ht(pn,65535&Zt.adler)),Zt.adler=1}if(pn.status===69)if(pn.gzhead.extra){for(un=pn.pending;pn.gzindex<(65535&pn.gzhead.extra.length)&&(pn.pending!==pn.pending_buf_size||(pn.gzhead.hcrc&&pn.pending>un&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending-un,un)),Wt(Zt),un=pn.pending,pn.pending!==pn.pending_buf_size));)qt(pn,255&pn.gzhead.extra[pn.gzindex]),pn.gzindex++;pn.gzhead.hcrc&&pn.pending>un&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending-un,un)),pn.gzindex===pn.gzhead.extra.length&&(pn.gzindex=0,pn.status=73)}else pn.status=73;if(pn.status===73)if(pn.gzhead.name){un=pn.pending;do{if(pn.pending===pn.pending_buf_size&&(pn.gzhead.hcrc&&pn.pending>un&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending-un,un)),Wt(Zt),un=pn.pending,pn.pending===pn.pending_buf_size)){bn=1;break}bn=pn.gzindex<pn.gzhead.name.length?255&pn.gzhead.name.charCodeAt(pn.gzindex++):0,qt(pn,bn)}while(bn!==0);pn.gzhead.hcrc&&pn.pending>un&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending-un,un)),bn===0&&(pn.gzindex=0,pn.status=91)}else pn.status=91;if(pn.status===91)if(pn.gzhead.comment){un=pn.pending;do{if(pn.pending===pn.pending_buf_size&&(pn.gzhead.hcrc&&pn.pending>un&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending-un,un)),Wt(Zt),un=pn.pending,pn.pending===pn.pending_buf_size)){bn=1;break}bn=pn.gzindex<pn.gzhead.comment.length?255&pn.gzhead.comment.charCodeAt(pn.gzindex++):0,qt(pn,bn)}while(bn!==0);pn.gzhead.hcrc&&pn.pending>un&&(Zt.adler=at(Zt.adler,pn.pending_buf,pn.pending-un,un)),bn===0&&(pn.status=103)}else pn.status=103;if(pn.status===103&&(pn.gzhead.hcrc?(pn.pending+2>pn.pending_buf_size&&Wt(Zt),pn.pending+2<=pn.pending_buf_size&&(qt(pn,255&Zt.adler),qt(pn,Zt.adler>>8&255),Zt.adler=0,pn.status=xt)):pn.status=xt),pn.pending!==0){if(Wt(Zt),Zt.avail_out===0)return pn.last_flush=-1,dt}else if(Zt.avail_in===0&&Ot(dn)<=Ot(Fn)&&dn!==ut)return At(Zt,-5);if(pn.status===666&&Zt.avail_in!==0)return At(Zt,-5);if(Zt.avail_in!==0||pn.lookahead!==0||dn!==ct&&pn.status!==666){var rn=pn.strategy===2?function(mn,xn){for(var wn;;){if(mn.lookahead===0&&(Lt(mn),mn.lookahead===0)){if(xn===ct)return Bt;break}if(mn.match_length=0,wn=ot._tr_tally(mn,0,mn.window[mn.strstart]),mn.lookahead--,mn.strstart++,wn&&(Jt(mn,!1),mn.strm.avail_out===0))return Bt}return mn.insert=0,xn===ut?(Jt(mn,!0),mn.strm.avail_out===0?Mt:Nt):mn.last_lit&&(Jt(mn,!1),mn.strm.avail_out===0)?Bt:Ct}(pn,dn):pn.strategy===3?function(mn,xn){for(var wn,Mn,or,ir,nr=mn.window;;){if(mn.lookahead<=Rt){if(Lt(mn),mn.lookahead<=Rt&&xn===ct)return Bt;if(mn.lookahead===0)break}if(mn.match_length=0,mn.lookahead>=St&&0<mn.strstart&&(Mn=nr[or=mn.strstart-1])===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]){ir=mn.strstart+Rt;do;while(Mn===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]&&Mn===nr[++or]&&or<ir);mn.match_length=Rt-(ir-or),mn.match_length>mn.lookahead&&(mn.match_length=mn.lookahead)}if(mn.match_length>=St?(wn=ot._tr_tally(mn,1,mn.match_length-St),mn.lookahead-=mn.match_length,mn.strstart+=mn.match_length,mn.match_length=0):(wn=ot._tr_tally(mn,0,mn.window[mn.strstart]),mn.lookahead--,mn.strstart++),wn&&(Jt(mn,!1),mn.strm.avail_out===0))return Bt}return mn.insert=0,xn===ut?(Jt(mn,!0),mn.strm.avail_out===0?Mt:Nt):mn.last_lit&&(Jt(mn,!1),mn.strm.avail_out===0)?Bt:Ct}(pn,dn):rt[pn.level].func(pn,dn);if(rn!==Mt&&rn!==Nt||(pn.status=666),rn===Bt||rn===Mt)return Zt.avail_out===0&&(pn.last_flush=-1),dt;if(rn===Ct&&(dn===1?ot._tr_align(pn):dn!==5&&(ot._tr_stored_block(pn,0,0,!1),dn===3&&(Vt(pn.head),pn.lookahead===0&&(pn.strstart=0,pn.block_start=0,pn.insert=0))),Wt(Zt),Zt.avail_out===0))return pn.last_flush=-1,dt}return dn!==ut?dt:pn.wrap<=0?1:(pn.wrap===2?(qt(pn,255&Zt.adler),qt(pn,Zt.adler>>8&255),qt(pn,Zt.adler>>16&255),qt(pn,Zt.adler>>24&255),qt(pn,255&Zt.total_in),qt(pn,Zt.total_in>>8&255),qt(pn,Zt.total_in>>16&255),qt(pn,Zt.total_in>>24&255)):(Ht(pn,Zt.adler>>>16),Ht(pn,65535&Zt.adler)),Wt(Zt),0<pn.wrap&&(pn.wrap=-pn.wrap),pn.pending!==0?dt:1)},nt.deflateEnd=function(Zt){var dn;return Zt&&Zt.state?(dn=Zt.state.status)!==bt&&dn!==69&&dn!==73&&dn!==91&&dn!==103&&dn!==xt&&dn!==666?At(Zt,ht):(Zt.state=null,dn===xt?At(Zt,-3):dt):ht},nt.deflateSetDictionary=function(Zt,dn){var Fn,pn,un,bn,an,rn,mn,xn,wn=dn.length;if(!Zt||!Zt.state||(bn=(Fn=Zt.state).wrap)===2||bn===1&&Fn.status!==bt||Fn.lookahead)return ht;for(bn===1&&(Zt.adler=st(Zt.adler,dn,wn,0)),Fn.wrap=0,wn>=Fn.w_size&&(bn===0&&(Vt(Fn.head),Fn.strstart=0,Fn.block_start=0,Fn.insert=0),xn=new it.Buf8(Fn.w_size),it.arraySet(xn,dn,wn-Fn.w_size,Fn.w_size,0),dn=xn,wn=Fn.w_size),an=Zt.avail_in,rn=Zt.next_in,mn=Zt.input,Zt.avail_in=wn,Zt.next_in=0,Zt.input=dn,Lt(Fn);Fn.lookahead>=St;){for(pn=Fn.strstart,un=Fn.lookahead-(St-1);Fn.ins_h=(Fn.ins_h<<Fn.hash_shift^Fn.window[pn+St-1])&Fn.hash_mask,Fn.prev[pn&Fn.w_mask]=Fn.head[Fn.ins_h],Fn.head[Fn.ins_h]=pn,pn++,--un;);Fn.strstart=pn,Fn.lookahead=St-1,Lt(Fn)}return Fn.strstart+=Fn.lookahead,Fn.block_start=Fn.strstart,Fn.insert=Fn.lookahead,Fn.lookahead=0,Fn.match_length=Fn.prev_length=St-1,Fn.match_available=0,Zt.next_in=rn,Zt.input=mn,Zt.avail_in=an,Fn.wrap=bn,dt},nt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(et,tt,nt){tt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(et,tt,nt){tt.exports=function(rt,it){var ot,st,at,lt,ct,ut,dt,ht,pt,gt,ft,yt,mt,Ft,vt,Et,wt,It,St,Rt,Tt,bt,xt,Bt,Ct;ot=rt.state,st=rt.next_in,Bt=rt.input,at=st+(rt.avail_in-5),lt=rt.next_out,Ct=rt.output,ct=lt-(it-rt.avail_out),ut=lt+(rt.avail_out-257),dt=ot.dmax,ht=ot.wsize,pt=ot.whave,gt=ot.wnext,ft=ot.window,yt=ot.hold,mt=ot.bits,Ft=ot.lencode,vt=ot.distcode,Et=(1<<ot.lenbits)-1,wt=(1<<ot.distbits)-1;e:do{mt<15&&(yt+=Bt[st++]<<mt,mt+=8,yt+=Bt[st++]<<mt,mt+=8),It=Ft[yt&Et];t:for(;;){if(yt>>>=St=It>>>24,mt-=St,(St=It>>>16&255)===0)Ct[lt++]=65535&It;else{if(!(16&St)){if(!(64&St)){It=Ft[(65535&It)+(yt&(1<<St)-1)];continue t}if(32&St){ot.mode=12;break e}rt.msg="invalid literal/length code",ot.mode=30;break e}Rt=65535&It,(St&=15)&&(mt<St&&(yt+=Bt[st++]<<mt,mt+=8),Rt+=yt&(1<<St)-1,yt>>>=St,mt-=St),mt<15&&(yt+=Bt[st++]<<mt,mt+=8,yt+=Bt[st++]<<mt,mt+=8),It=vt[yt&wt];n:for(;;){if(yt>>>=St=It>>>24,mt-=St,!(16&(St=It>>>16&255))){if(!(64&St)){It=vt[(65535&It)+(yt&(1<<St)-1)];continue n}rt.msg="invalid distance code",ot.mode=30;break e}if(Tt=65535&It,mt<(St&=15)&&(yt+=Bt[st++]<<mt,(mt+=8)<St&&(yt+=Bt[st++]<<mt,mt+=8)),dt<(Tt+=yt&(1<<St)-1)){rt.msg="invalid distance too far back",ot.mode=30;break e}if(yt>>>=St,mt-=St,(St=lt-ct)<Tt){if(pt<(St=Tt-St)&&ot.sane){rt.msg="invalid distance too far back",ot.mode=30;break e}if(xt=ft,(bt=0)===gt){if(bt+=ht-St,St<Rt){for(Rt-=St;Ct[lt++]=ft[bt++],--St;);bt=lt-Tt,xt=Ct}}else if(gt<St){if(bt+=ht+gt-St,(St-=gt)<Rt){for(Rt-=St;Ct[lt++]=ft[bt++],--St;);if(bt=0,gt<Rt){for(Rt-=St=gt;Ct[lt++]=ft[bt++],--St;);bt=lt-Tt,xt=Ct}}}else if(bt+=gt-St,St<Rt){for(Rt-=St;Ct[lt++]=ft[bt++],--St;);bt=lt-Tt,xt=Ct}for(;2<Rt;)Ct[lt++]=xt[bt++],Ct[lt++]=xt[bt++],Ct[lt++]=xt[bt++],Rt-=3;Rt&&(Ct[lt++]=xt[bt++],1<Rt&&(Ct[lt++]=xt[bt++]))}else{for(bt=lt-Tt;Ct[lt++]=Ct[bt++],Ct[lt++]=Ct[bt++],Ct[lt++]=Ct[bt++],2<(Rt-=3););Rt&&(Ct[lt++]=Ct[bt++],1<Rt&&(Ct[lt++]=Ct[bt++]))}break}}break}}while(st<at&&lt<ut);st-=Rt=mt>>3,yt&=(1<<(mt-=Rt<<3))-1,rt.next_in=st,rt.next_out=lt,rt.avail_in=st<at?at-st+5:5-(st-at),rt.avail_out=lt<ut?ut-lt+257:257-(lt-ut),ot.hold=yt,ot.bits=mt}},{}],49:[function(et,tt,nt){var rt=et("../utils/common"),it=et("./adler32"),ot=et("./crc32"),st=et("./inffast"),at=et("./inftrees"),lt=1,ct=2,ut=0,dt=-2,ht=1,pt=852,gt=592;function ft(bt){return(bt>>>24&255)+(bt>>>8&65280)+((65280&bt)<<8)+((255&bt)<<24)}function yt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new rt.Buf16(320),this.work=new rt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function mt(bt){var xt;return bt&&bt.state?(xt=bt.state,bt.total_in=bt.total_out=xt.total=0,bt.msg="",xt.wrap&&(bt.adler=1&xt.wrap),xt.mode=ht,xt.last=0,xt.havedict=0,xt.dmax=32768,xt.head=null,xt.hold=0,xt.bits=0,xt.lencode=xt.lendyn=new rt.Buf32(pt),xt.distcode=xt.distdyn=new rt.Buf32(gt),xt.sane=1,xt.back=-1,ut):dt}function Ft(bt){var xt;return bt&&bt.state?((xt=bt.state).wsize=0,xt.whave=0,xt.wnext=0,mt(bt)):dt}function vt(bt,xt){var Bt,Ct;return bt&&bt.state?(Ct=bt.state,xt<0?(Bt=0,xt=-xt):(Bt=1+(xt>>4),xt<48&&(xt&=15)),xt&&(xt<8||15<xt)?dt:(Ct.window!==null&&Ct.wbits!==xt&&(Ct.window=null),Ct.wrap=Bt,Ct.wbits=xt,Ft(bt))):dt}function Et(bt,xt){var Bt,Ct;return bt?(Ct=new yt,(bt.state=Ct).window=null,(Bt=vt(bt,xt))!==ut&&(bt.state=null),Bt):dt}var wt,It,St=!0;function Rt(bt){if(St){var xt;for(wt=new rt.Buf32(512),It=new rt.Buf32(32),xt=0;xt<144;)bt.lens[xt++]=8;for(;xt<256;)bt.lens[xt++]=9;for(;xt<280;)bt.lens[xt++]=7;for(;xt<288;)bt.lens[xt++]=8;for(at(lt,bt.lens,0,288,wt,0,bt.work,{bits:9}),xt=0;xt<32;)bt.lens[xt++]=5;at(ct,bt.lens,0,32,It,0,bt.work,{bits:5}),St=!1}bt.lencode=wt,bt.lenbits=9,bt.distcode=It,bt.distbits=5}function Tt(bt,xt,Bt,Ct){var Mt,Nt=bt.state;return Nt.window===null&&(Nt.wsize=1<<Nt.wbits,Nt.wnext=0,Nt.whave=0,Nt.window=new rt.Buf8(Nt.wsize)),Ct>=Nt.wsize?(rt.arraySet(Nt.window,xt,Bt-Nt.wsize,Nt.wsize,0),Nt.wnext=0,Nt.whave=Nt.wsize):(Ct<(Mt=Nt.wsize-Nt.wnext)&&(Mt=Ct),rt.arraySet(Nt.window,xt,Bt-Ct,Mt,Nt.wnext),(Ct-=Mt)?(rt.arraySet(Nt.window,xt,Bt-Ct,Ct,0),Nt.wnext=Ct,Nt.whave=Nt.wsize):(Nt.wnext+=Mt,Nt.wnext===Nt.wsize&&(Nt.wnext=0),Nt.whave<Nt.wsize&&(Nt.whave+=Mt))),0}nt.inflateReset=Ft,nt.inflateReset2=vt,nt.inflateResetKeep=mt,nt.inflateInit=function(bt){return Et(bt,15)},nt.inflateInit2=Et,nt.inflate=function(bt,xt){var Bt,Ct,Mt,Nt,At,Ot,Vt,Wt,Jt,qt,Ht,Xt,Lt,Pt,kt,zt,tn,Gt,en,cn,Zt,dn,Fn,pn,un=0,bn=new rt.Buf8(4),an=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!bt||!bt.state||!bt.output||!bt.input&&bt.avail_in!==0)return dt;(Bt=bt.state).mode===12&&(Bt.mode=13),At=bt.next_out,Mt=bt.output,Vt=bt.avail_out,Nt=bt.next_in,Ct=bt.input,Ot=bt.avail_in,Wt=Bt.hold,Jt=Bt.bits,qt=Ot,Ht=Vt,dn=ut;e:for(;;)switch(Bt.mode){case ht:if(Bt.wrap===0){Bt.mode=13;break}for(;Jt<16;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(2&Bt.wrap&&Wt===35615){bn[Bt.check=0]=255&Wt,bn[1]=Wt>>>8&255,Bt.check=ot(Bt.check,bn,2,0),Jt=Wt=0,Bt.mode=2;break}if(Bt.flags=0,Bt.head&&(Bt.head.done=!1),!(1&Bt.wrap)||(((255&Wt)<<8)+(Wt>>8))%31){bt.msg="incorrect header check",Bt.mode=30;break}if((15&Wt)!=8){bt.msg="unknown compression method",Bt.mode=30;break}if(Jt-=4,Zt=8+(15&(Wt>>>=4)),Bt.wbits===0)Bt.wbits=Zt;else if(Zt>Bt.wbits){bt.msg="invalid window size",Bt.mode=30;break}Bt.dmax=1<<Zt,bt.adler=Bt.check=1,Bt.mode=512&Wt?10:12,Jt=Wt=0;break;case 2:for(;Jt<16;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(Bt.flags=Wt,(255&Bt.flags)!=8){bt.msg="unknown compression method",Bt.mode=30;break}if(57344&Bt.flags){bt.msg="unknown header flags set",Bt.mode=30;break}Bt.head&&(Bt.head.text=Wt>>8&1),512&Bt.flags&&(bn[0]=255&Wt,bn[1]=Wt>>>8&255,Bt.check=ot(Bt.check,bn,2,0)),Jt=Wt=0,Bt.mode=3;case 3:for(;Jt<32;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Bt.head&&(Bt.head.time=Wt),512&Bt.flags&&(bn[0]=255&Wt,bn[1]=Wt>>>8&255,bn[2]=Wt>>>16&255,bn[3]=Wt>>>24&255,Bt.check=ot(Bt.check,bn,4,0)),Jt=Wt=0,Bt.mode=4;case 4:for(;Jt<16;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Bt.head&&(Bt.head.xflags=255&Wt,Bt.head.os=Wt>>8),512&Bt.flags&&(bn[0]=255&Wt,bn[1]=Wt>>>8&255,Bt.check=ot(Bt.check,bn,2,0)),Jt=Wt=0,Bt.mode=5;case 5:if(1024&Bt.flags){for(;Jt<16;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Bt.length=Wt,Bt.head&&(Bt.head.extra_len=Wt),512&Bt.flags&&(bn[0]=255&Wt,bn[1]=Wt>>>8&255,Bt.check=ot(Bt.check,bn,2,0)),Jt=Wt=0}else Bt.head&&(Bt.head.extra=null);Bt.mode=6;case 6:if(1024&Bt.flags&&(Ot<(Xt=Bt.length)&&(Xt=Ot),Xt&&(Bt.head&&(Zt=Bt.head.extra_len-Bt.length,Bt.head.extra||(Bt.head.extra=new Array(Bt.head.extra_len)),rt.arraySet(Bt.head.extra,Ct,Nt,Xt,Zt)),512&Bt.flags&&(Bt.check=ot(Bt.check,Ct,Xt,Nt)),Ot-=Xt,Nt+=Xt,Bt.length-=Xt),Bt.length))break e;Bt.length=0,Bt.mode=7;case 7:if(2048&Bt.flags){if(Ot===0)break e;for(Xt=0;Zt=Ct[Nt+Xt++],Bt.head&&Zt&&Bt.length<65536&&(Bt.head.name+=String.fromCharCode(Zt)),Zt&&Xt<Ot;);if(512&Bt.flags&&(Bt.check=ot(Bt.check,Ct,Xt,Nt)),Ot-=Xt,Nt+=Xt,Zt)break e}else Bt.head&&(Bt.head.name=null);Bt.length=0,Bt.mode=8;case 8:if(4096&Bt.flags){if(Ot===0)break e;for(Xt=0;Zt=Ct[Nt+Xt++],Bt.head&&Zt&&Bt.length<65536&&(Bt.head.comment+=String.fromCharCode(Zt)),Zt&&Xt<Ot;);if(512&Bt.flags&&(Bt.check=ot(Bt.check,Ct,Xt,Nt)),Ot-=Xt,Nt+=Xt,Zt)break e}else Bt.head&&(Bt.head.comment=null);Bt.mode=9;case 9:if(512&Bt.flags){for(;Jt<16;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(Wt!==(65535&Bt.check)){bt.msg="header crc mismatch",Bt.mode=30;break}Jt=Wt=0}Bt.head&&(Bt.head.hcrc=Bt.flags>>9&1,Bt.head.done=!0),bt.adler=Bt.check=0,Bt.mode=12;break;case 10:for(;Jt<32;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}bt.adler=Bt.check=ft(Wt),Jt=Wt=0,Bt.mode=11;case 11:if(Bt.havedict===0)return bt.next_out=At,bt.avail_out=Vt,bt.next_in=Nt,bt.avail_in=Ot,Bt.hold=Wt,Bt.bits=Jt,2;bt.adler=Bt.check=1,Bt.mode=12;case 12:if(xt===5||xt===6)break e;case 13:if(Bt.last){Wt>>>=7&Jt,Jt-=7&Jt,Bt.mode=27;break}for(;Jt<3;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}switch(Bt.last=1&Wt,Jt-=1,3&(Wt>>>=1)){case 0:Bt.mode=14;break;case 1:if(Rt(Bt),Bt.mode=20,xt!==6)break;Wt>>>=2,Jt-=2;break e;case 2:Bt.mode=17;break;case 3:bt.msg="invalid block type",Bt.mode=30}Wt>>>=2,Jt-=2;break;case 14:for(Wt>>>=7&Jt,Jt-=7&Jt;Jt<32;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if((65535&Wt)!=(Wt>>>16^65535)){bt.msg="invalid stored block lengths",Bt.mode=30;break}if(Bt.length=65535&Wt,Jt=Wt=0,Bt.mode=15,xt===6)break e;case 15:Bt.mode=16;case 16:if(Xt=Bt.length){if(Ot<Xt&&(Xt=Ot),Vt<Xt&&(Xt=Vt),Xt===0)break e;rt.arraySet(Mt,Ct,Nt,Xt,At),Ot-=Xt,Nt+=Xt,Vt-=Xt,At+=Xt,Bt.length-=Xt;break}Bt.mode=12;break;case 17:for(;Jt<14;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(Bt.nlen=257+(31&Wt),Wt>>>=5,Jt-=5,Bt.ndist=1+(31&Wt),Wt>>>=5,Jt-=5,Bt.ncode=4+(15&Wt),Wt>>>=4,Jt-=4,286<Bt.nlen||30<Bt.ndist){bt.msg="too many length or distance symbols",Bt.mode=30;break}Bt.have=0,Bt.mode=18;case 18:for(;Bt.have<Bt.ncode;){for(;Jt<3;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Bt.lens[an[Bt.have++]]=7&Wt,Wt>>>=3,Jt-=3}for(;Bt.have<19;)Bt.lens[an[Bt.have++]]=0;if(Bt.lencode=Bt.lendyn,Bt.lenbits=7,Fn={bits:Bt.lenbits},dn=at(0,Bt.lens,0,19,Bt.lencode,0,Bt.work,Fn),Bt.lenbits=Fn.bits,dn){bt.msg="invalid code lengths set",Bt.mode=30;break}Bt.have=0,Bt.mode=19;case 19:for(;Bt.have<Bt.nlen+Bt.ndist;){for(;zt=(un=Bt.lencode[Wt&(1<<Bt.lenbits)-1])>>>16&255,tn=65535&un,!((kt=un>>>24)<=Jt);){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(tn<16)Wt>>>=kt,Jt-=kt,Bt.lens[Bt.have++]=tn;else{if(tn===16){for(pn=kt+2;Jt<pn;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(Wt>>>=kt,Jt-=kt,Bt.have===0){bt.msg="invalid bit length repeat",Bt.mode=30;break}Zt=Bt.lens[Bt.have-1],Xt=3+(3&Wt),Wt>>>=2,Jt-=2}else if(tn===17){for(pn=kt+3;Jt<pn;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Jt-=kt,Zt=0,Xt=3+(7&(Wt>>>=kt)),Wt>>>=3,Jt-=3}else{for(pn=kt+7;Jt<pn;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Jt-=kt,Zt=0,Xt=11+(127&(Wt>>>=kt)),Wt>>>=7,Jt-=7}if(Bt.have+Xt>Bt.nlen+Bt.ndist){bt.msg="invalid bit length repeat",Bt.mode=30;break}for(;Xt--;)Bt.lens[Bt.have++]=Zt}}if(Bt.mode===30)break;if(Bt.lens[256]===0){bt.msg="invalid code -- missing end-of-block",Bt.mode=30;break}if(Bt.lenbits=9,Fn={bits:Bt.lenbits},dn=at(lt,Bt.lens,0,Bt.nlen,Bt.lencode,0,Bt.work,Fn),Bt.lenbits=Fn.bits,dn){bt.msg="invalid literal/lengths set",Bt.mode=30;break}if(Bt.distbits=6,Bt.distcode=Bt.distdyn,Fn={bits:Bt.distbits},dn=at(ct,Bt.lens,Bt.nlen,Bt.ndist,Bt.distcode,0,Bt.work,Fn),Bt.distbits=Fn.bits,dn){bt.msg="invalid distances set",Bt.mode=30;break}if(Bt.mode=20,xt===6)break e;case 20:Bt.mode=21;case 21:if(6<=Ot&&258<=Vt){bt.next_out=At,bt.avail_out=Vt,bt.next_in=Nt,bt.avail_in=Ot,Bt.hold=Wt,Bt.bits=Jt,st(bt,Ht),At=bt.next_out,Mt=bt.output,Vt=bt.avail_out,Nt=bt.next_in,Ct=bt.input,Ot=bt.avail_in,Wt=Bt.hold,Jt=Bt.bits,Bt.mode===12&&(Bt.back=-1);break}for(Bt.back=0;zt=(un=Bt.lencode[Wt&(1<<Bt.lenbits)-1])>>>16&255,tn=65535&un,!((kt=un>>>24)<=Jt);){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(zt&&!(240&zt)){for(Gt=kt,en=zt,cn=tn;zt=(un=Bt.lencode[cn+((Wt&(1<<Gt+en)-1)>>Gt)])>>>16&255,tn=65535&un,!(Gt+(kt=un>>>24)<=Jt);){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Wt>>>=Gt,Jt-=Gt,Bt.back+=Gt}if(Wt>>>=kt,Jt-=kt,Bt.back+=kt,Bt.length=tn,zt===0){Bt.mode=26;break}if(32&zt){Bt.back=-1,Bt.mode=12;break}if(64&zt){bt.msg="invalid literal/length code",Bt.mode=30;break}Bt.extra=15&zt,Bt.mode=22;case 22:if(Bt.extra){for(pn=Bt.extra;Jt<pn;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Bt.length+=Wt&(1<<Bt.extra)-1,Wt>>>=Bt.extra,Jt-=Bt.extra,Bt.back+=Bt.extra}Bt.was=Bt.length,Bt.mode=23;case 23:for(;zt=(un=Bt.distcode[Wt&(1<<Bt.distbits)-1])>>>16&255,tn=65535&un,!((kt=un>>>24)<=Jt);){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(!(240&zt)){for(Gt=kt,en=zt,cn=tn;zt=(un=Bt.distcode[cn+((Wt&(1<<Gt+en)-1)>>Gt)])>>>16&255,tn=65535&un,!(Gt+(kt=un>>>24)<=Jt);){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Wt>>>=Gt,Jt-=Gt,Bt.back+=Gt}if(Wt>>>=kt,Jt-=kt,Bt.back+=kt,64&zt){bt.msg="invalid distance code",Bt.mode=30;break}Bt.offset=tn,Bt.extra=15&zt,Bt.mode=24;case 24:if(Bt.extra){for(pn=Bt.extra;Jt<pn;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}Bt.offset+=Wt&(1<<Bt.extra)-1,Wt>>>=Bt.extra,Jt-=Bt.extra,Bt.back+=Bt.extra}if(Bt.offset>Bt.dmax){bt.msg="invalid distance too far back",Bt.mode=30;break}Bt.mode=25;case 25:if(Vt===0)break e;if(Xt=Ht-Vt,Bt.offset>Xt){if((Xt=Bt.offset-Xt)>Bt.whave&&Bt.sane){bt.msg="invalid distance too far back",Bt.mode=30;break}Lt=Xt>Bt.wnext?(Xt-=Bt.wnext,Bt.wsize-Xt):Bt.wnext-Xt,Xt>Bt.length&&(Xt=Bt.length),Pt=Bt.window}else Pt=Mt,Lt=At-Bt.offset,Xt=Bt.length;for(Vt<Xt&&(Xt=Vt),Vt-=Xt,Bt.length-=Xt;Mt[At++]=Pt[Lt++],--Xt;);Bt.length===0&&(Bt.mode=21);break;case 26:if(Vt===0)break e;Mt[At++]=Bt.length,Vt--,Bt.mode=21;break;case 27:if(Bt.wrap){for(;Jt<32;){if(Ot===0)break e;Ot--,Wt|=Ct[Nt++]<<Jt,Jt+=8}if(Ht-=Vt,bt.total_out+=Ht,Bt.total+=Ht,Ht&&(bt.adler=Bt.check=Bt.flags?ot(Bt.check,Mt,Ht,At-Ht):it(Bt.check,Mt,Ht,At-Ht)),Ht=Vt,(Bt.flags?Wt:ft(Wt))!==Bt.check){bt.msg="incorrect data check",Bt.mode=30;break}Jt=Wt=0}Bt.mode=28;case 28:if(Bt.wrap&&Bt.flags){for(;Jt<32;){if(Ot===0)break e;Ot--,Wt+=Ct[Nt++]<<Jt,Jt+=8}if(Wt!==(4294967295&Bt.total)){bt.msg="incorrect length check",Bt.mode=30;break}Jt=Wt=0}Bt.mode=29;case 29:dn=1;break e;case 30:dn=-3;break e;case 31:return-4;case 32:default:return dt}return bt.next_out=At,bt.avail_out=Vt,bt.next_in=Nt,bt.avail_in=Ot,Bt.hold=Wt,Bt.bits=Jt,(Bt.wsize||Ht!==bt.avail_out&&Bt.mode<30&&(Bt.mode<27||xt!==4))&&Tt(bt,bt.output,bt.next_out,Ht-bt.avail_out)?(Bt.mode=31,-4):(qt-=bt.avail_in,Ht-=bt.avail_out,bt.total_in+=qt,bt.total_out+=Ht,Bt.total+=Ht,Bt.wrap&&Ht&&(bt.adler=Bt.check=Bt.flags?ot(Bt.check,Mt,Ht,bt.next_out-Ht):it(Bt.check,Mt,Ht,bt.next_out-Ht)),bt.data_type=Bt.bits+(Bt.last?64:0)+(Bt.mode===12?128:0)+(Bt.mode===20||Bt.mode===15?256:0),(qt==0&&Ht===0||xt===4)&&dn===ut&&(dn=-5),dn)},nt.inflateEnd=function(bt){if(!bt||!bt.state)return dt;var xt=bt.state;return xt.window&&(xt.window=null),bt.state=null,ut},nt.inflateGetHeader=function(bt,xt){var Bt;return bt&&bt.state&&2&(Bt=bt.state).wrap?((Bt.head=xt).done=!1,ut):dt},nt.inflateSetDictionary=function(bt,xt){var Bt,Ct=xt.length;return bt&&bt.state?(Bt=bt.state).wrap!==0&&Bt.mode!==11?dt:Bt.mode===11&&it(1,xt,Ct,0)!==Bt.check?-3:Tt(bt,xt,Ct,Ct)?(Bt.mode=31,-4):(Bt.havedict=1,ut):dt},nt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(et,tt,nt){var rt=et("../utils/common"),it=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ot=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],at=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];tt.exports=function(lt,ct,ut,dt,ht,pt,gt,ft){var yt,mt,Ft,vt,Et,wt,It,St,Rt,Tt=ft.bits,bt=0,xt=0,Bt=0,Ct=0,Mt=0,Nt=0,At=0,Ot=0,Vt=0,Wt=0,Jt=null,qt=0,Ht=new rt.Buf16(16),Xt=new rt.Buf16(16),Lt=null,Pt=0;for(bt=0;bt<=15;bt++)Ht[bt]=0;for(xt=0;xt<dt;xt++)Ht[ct[ut+xt]]++;for(Mt=Tt,Ct=15;1<=Ct&&Ht[Ct]===0;Ct--);if(Ct<Mt&&(Mt=Ct),Ct===0)return ht[pt++]=20971520,ht[pt++]=20971520,ft.bits=1,0;for(Bt=1;Bt<Ct&&Ht[Bt]===0;Bt++);for(Mt<Bt&&(Mt=Bt),bt=Ot=1;bt<=15;bt++)if(Ot<<=1,(Ot-=Ht[bt])<0)return-1;if(0<Ot&&(lt===0||Ct!==1))return-1;for(Xt[1]=0,bt=1;bt<15;bt++)Xt[bt+1]=Xt[bt]+Ht[bt];for(xt=0;xt<dt;xt++)ct[ut+xt]!==0&&(gt[Xt[ct[ut+xt]]++]=xt);if(wt=lt===0?(Jt=Lt=gt,19):lt===1?(Jt=it,qt-=257,Lt=ot,Pt-=257,256):(Jt=st,Lt=at,-1),bt=Bt,Et=pt,At=xt=Wt=0,Ft=-1,vt=(Vt=1<<(Nt=Mt))-1,lt===1&&852<Vt||lt===2&&592<Vt)return 1;for(;;){for(It=bt-At,Rt=gt[xt]<wt?(St=0,gt[xt]):gt[xt]>wt?(St=Lt[Pt+gt[xt]],Jt[qt+gt[xt]]):(St=96,0),yt=1<<bt-At,Bt=mt=1<<Nt;ht[Et+(Wt>>At)+(mt-=yt)]=It<<24|St<<16|Rt|0,mt!==0;);for(yt=1<<bt-1;Wt&yt;)yt>>=1;if(yt!==0?(Wt&=yt-1,Wt+=yt):Wt=0,xt++,--Ht[bt]==0){if(bt===Ct)break;bt=ct[ut+gt[xt]]}if(Mt<bt&&(Wt&vt)!==Ft){for(At===0&&(At=Mt),Et+=Bt,Ot=1<<(Nt=bt-At);Nt+At<Ct&&!((Ot-=Ht[Nt+At])<=0);)Nt++,Ot<<=1;if(Vt+=1<<Nt,lt===1&&852<Vt||lt===2&&592<Vt)return 1;ht[Ft=Wt&vt]=Mt<<24|Nt<<16|Et-pt|0}}return Wt!==0&&(ht[Et+Wt]=bt-At<<24|64<<16|0),ft.bits=Mt,0}},{"../utils/common":41}],51:[function(et,tt,nt){tt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(et,tt,nt){var rt=et("../utils/common"),it=0,ot=1;function st(un){for(var bn=un.length;0<=--bn;)un[bn]=0}var at=0,lt=29,ct=256,ut=ct+1+lt,dt=30,ht=19,pt=2*ut+1,gt=15,ft=16,yt=7,mt=256,Ft=16,vt=17,Et=18,wt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],It=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],St=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Tt=new Array(2*(ut+2));st(Tt);var bt=new Array(2*dt);st(bt);var xt=new Array(512);st(xt);var Bt=new Array(256);st(Bt);var Ct=new Array(lt);st(Ct);var Mt,Nt,At,Ot=new Array(dt);function Vt(un,bn,an,rn,mn){this.static_tree=un,this.extra_bits=bn,this.extra_base=an,this.elems=rn,this.max_length=mn,this.has_stree=un&&un.length}function Wt(un,bn){this.dyn_tree=un,this.max_code=0,this.stat_desc=bn}function Jt(un){return un<256?xt[un]:xt[256+(un>>>7)]}function qt(un,bn){un.pending_buf[un.pending++]=255&bn,un.pending_buf[un.pending++]=bn>>>8&255}function Ht(un,bn,an){un.bi_valid>ft-an?(un.bi_buf|=bn<<un.bi_valid&65535,qt(un,un.bi_buf),un.bi_buf=bn>>ft-un.bi_valid,un.bi_valid+=an-ft):(un.bi_buf|=bn<<un.bi_valid&65535,un.bi_valid+=an)}function Xt(un,bn,an){Ht(un,an[2*bn],an[2*bn+1])}function Lt(un,bn){for(var an=0;an|=1&un,un>>>=1,an<<=1,0<--bn;);return an>>>1}function Pt(un,bn,an){var rn,mn,xn=new Array(gt+1),wn=0;for(rn=1;rn<=gt;rn++)xn[rn]=wn=wn+an[rn-1]<<1;for(mn=0;mn<=bn;mn++){var Mn=un[2*mn+1];Mn!==0&&(un[2*mn]=Lt(xn[Mn]++,Mn))}}function kt(un){var bn;for(bn=0;bn<ut;bn++)un.dyn_ltree[2*bn]=0;for(bn=0;bn<dt;bn++)un.dyn_dtree[2*bn]=0;for(bn=0;bn<ht;bn++)un.bl_tree[2*bn]=0;un.dyn_ltree[2*mt]=1,un.opt_len=un.static_len=0,un.last_lit=un.matches=0}function zt(un){8<un.bi_valid?qt(un,un.bi_buf):0<un.bi_valid&&(un.pending_buf[un.pending++]=un.bi_buf),un.bi_buf=0,un.bi_valid=0}function tn(un,bn,an,rn){var mn=2*bn,xn=2*an;return un[mn]<un[xn]||un[mn]===un[xn]&&rn[bn]<=rn[an]}function Gt(un,bn,an){for(var rn=un.heap[an],mn=an<<1;mn<=un.heap_len&&(mn<un.heap_len&&tn(bn,un.heap[mn+1],un.heap[mn],un.depth)&&mn++,!tn(bn,rn,un.heap[mn],un.depth));)un.heap[an]=un.heap[mn],an=mn,mn<<=1;un.heap[an]=rn}function en(un,bn,an){var rn,mn,xn,wn,Mn=0;if(un.last_lit!==0)for(;rn=un.pending_buf[un.d_buf+2*Mn]<<8|un.pending_buf[un.d_buf+2*Mn+1],mn=un.pending_buf[un.l_buf+Mn],Mn++,rn===0?Xt(un,mn,bn):(Xt(un,(xn=Bt[mn])+ct+1,bn),(wn=wt[xn])!==0&&Ht(un,mn-=Ct[xn],wn),Xt(un,xn=Jt(--rn),an),(wn=It[xn])!==0&&Ht(un,rn-=Ot[xn],wn)),Mn<un.last_lit;);Xt(un,mt,bn)}function cn(un,bn){var an,rn,mn,xn=bn.dyn_tree,wn=bn.stat_desc.static_tree,Mn=bn.stat_desc.has_stree,or=bn.stat_desc.elems,ir=-1;for(un.heap_len=0,un.heap_max=pt,an=0;an<or;an++)xn[2*an]!==0?(un.heap[++un.heap_len]=ir=an,un.depth[an]=0):xn[2*an+1]=0;for(;un.heap_len<2;)xn[2*(mn=un.heap[++un.heap_len]=ir<2?++ir:0)]=1,un.depth[mn]=0,un.opt_len--,Mn&&(un.static_len-=wn[2*mn+1]);for(bn.max_code=ir,an=un.heap_len>>1;1<=an;an--)Gt(un,xn,an);for(mn=or;an=un.heap[1],un.heap[1]=un.heap[un.heap_len--],Gt(un,xn,1),rn=un.heap[1],un.heap[--un.heap_max]=an,un.heap[--un.heap_max]=rn,xn[2*mn]=xn[2*an]+xn[2*rn],un.depth[mn]=(un.depth[an]>=un.depth[rn]?un.depth[an]:un.depth[rn])+1,xn[2*an+1]=xn[2*rn+1]=mn,un.heap[1]=mn++,Gt(un,xn,1),2<=un.heap_len;);un.heap[--un.heap_max]=un.heap[1],function(nr,Ar){var ur,Fr,$r,Sr,Ur,Xr,Wr=Ar.dyn_tree,Jr=Ar.max_code,An=Ar.stat_desc.static_tree,Br=Ar.stat_desc.has_stree,er=Ar.stat_desc.extra_bits,ar=Ar.stat_desc.extra_base,fr=Ar.stat_desc.max_length,Or=0;for(Sr=0;Sr<=gt;Sr++)nr.bl_count[Sr]=0;for(Wr[2*nr.heap[nr.heap_max]+1]=0,ur=nr.heap_max+1;ur<pt;ur++)fr<(Sr=Wr[2*Wr[2*(Fr=nr.heap[ur])+1]+1]+1)&&(Sr=fr,Or++),Wr[2*Fr+1]=Sr,Jr<Fr||(nr.bl_count[Sr]++,Ur=0,ar<=Fr&&(Ur=er[Fr-ar]),Xr=Wr[2*Fr],nr.opt_len+=Xr*(Sr+Ur),Br&&(nr.static_len+=Xr*(An[2*Fr+1]+Ur)));if(Or!==0){do{for(Sr=fr-1;nr.bl_count[Sr]===0;)Sr--;nr.bl_count[Sr]--,nr.bl_count[Sr+1]+=2,nr.bl_count[fr]--,Or-=2}while(0<Or);for(Sr=fr;Sr!==0;Sr--)for(Fr=nr.bl_count[Sr];Fr!==0;)Jr<($r=nr.heap[--ur])||(Wr[2*$r+1]!==Sr&&(nr.opt_len+=(Sr-Wr[2*$r+1])*Wr[2*$r],Wr[2*$r+1]=Sr),Fr--)}}(un,bn),Pt(xn,ir,un.bl_count)}function Zt(un,bn,an){var rn,mn,xn=-1,wn=bn[1],Mn=0,or=7,ir=4;for(wn===0&&(or=138,ir=3),bn[2*(an+1)+1]=65535,rn=0;rn<=an;rn++)mn=wn,wn=bn[2*(rn+1)+1],++Mn<or&&mn===wn||(Mn<ir?un.bl_tree[2*mn]+=Mn:mn!==0?(mn!==xn&&un.bl_tree[2*mn]++,un.bl_tree[2*Ft]++):Mn<=10?un.bl_tree[2*vt]++:un.bl_tree[2*Et]++,xn=mn,ir=(Mn=0)===wn?(or=138,3):mn===wn?(or=6,3):(or=7,4))}function dn(un,bn,an){var rn,mn,xn=-1,wn=bn[1],Mn=0,or=7,ir=4;for(wn===0&&(or=138,ir=3),rn=0;rn<=an;rn++)if(mn=wn,wn=bn[2*(rn+1)+1],!(++Mn<or&&mn===wn)){if(Mn<ir)for(;Xt(un,mn,un.bl_tree),--Mn!=0;);else mn!==0?(mn!==xn&&(Xt(un,mn,un.bl_tree),Mn--),Xt(un,Ft,un.bl_tree),Ht(un,Mn-3,2)):Mn<=10?(Xt(un,vt,un.bl_tree),Ht(un,Mn-3,3)):(Xt(un,Et,un.bl_tree),Ht(un,Mn-11,7));xn=mn,ir=(Mn=0)===wn?(or=138,3):mn===wn?(or=6,3):(or=7,4)}}st(Ot);var Fn=!1;function pn(un,bn,an,rn){Ht(un,(at<<1)+(rn?1:0),3),function(mn,xn,wn,Mn){zt(mn),Mn&&(qt(mn,wn),qt(mn,~wn)),rt.arraySet(mn.pending_buf,mn.window,xn,wn,mn.pending),mn.pending+=wn}(un,bn,an,!0)}nt._tr_init=function(un){Fn||(function(){var bn,an,rn,mn,xn,wn=new Array(gt+1);for(mn=rn=0;mn<lt-1;mn++)for(Ct[mn]=rn,bn=0;bn<1<<wt[mn];bn++)Bt[rn++]=mn;for(Bt[rn-1]=mn,mn=xn=0;mn<16;mn++)for(Ot[mn]=xn,bn=0;bn<1<<It[mn];bn++)xt[xn++]=mn;for(xn>>=7;mn<dt;mn++)for(Ot[mn]=xn<<7,bn=0;bn<1<<It[mn]-7;bn++)xt[256+xn++]=mn;for(an=0;an<=gt;an++)wn[an]=0;for(bn=0;bn<=143;)Tt[2*bn+1]=8,bn++,wn[8]++;for(;bn<=255;)Tt[2*bn+1]=9,bn++,wn[9]++;for(;bn<=279;)Tt[2*bn+1]=7,bn++,wn[7]++;for(;bn<=287;)Tt[2*bn+1]=8,bn++,wn[8]++;for(Pt(Tt,ut+1,wn),bn=0;bn<dt;bn++)bt[2*bn+1]=5,bt[2*bn]=Lt(bn,5);Mt=new Vt(Tt,wt,ct+1,ut,gt),Nt=new Vt(bt,It,0,dt,gt),At=new Vt(new Array(0),St,0,ht,yt)}(),Fn=!0),un.l_desc=new Wt(un.dyn_ltree,Mt),un.d_desc=new Wt(un.dyn_dtree,Nt),un.bl_desc=new Wt(un.bl_tree,At),un.bi_buf=0,un.bi_valid=0,kt(un)},nt._tr_stored_block=pn,nt._tr_flush_block=function(un,bn,an,rn){var mn,xn,wn=0;0<un.level?(un.strm.data_type===2&&(un.strm.data_type=function(Mn){var or,ir=4093624447;for(or=0;or<=31;or++,ir>>>=1)if(1&ir&&Mn.dyn_ltree[2*or]!==0)return it;if(Mn.dyn_ltree[18]!==0||Mn.dyn_ltree[20]!==0||Mn.dyn_ltree[26]!==0)return ot;for(or=32;or<ct;or++)if(Mn.dyn_ltree[2*or]!==0)return ot;return it}(un)),cn(un,un.l_desc),cn(un,un.d_desc),wn=function(Mn){var or;for(Zt(Mn,Mn.dyn_ltree,Mn.l_desc.max_code),Zt(Mn,Mn.dyn_dtree,Mn.d_desc.max_code),cn(Mn,Mn.bl_desc),or=ht-1;3<=or&&Mn.bl_tree[2*Rt[or]+1]===0;or--);return Mn.opt_len+=3*(or+1)+5+5+4,or}(un),mn=un.opt_len+3+7>>>3,(xn=un.static_len+3+7>>>3)<=mn&&(mn=xn)):mn=xn=an+5,an+4<=mn&&bn!==-1?pn(un,bn,an,rn):un.strategy===4||xn===mn?(Ht(un,2+(rn?1:0),3),en(un,Tt,bt)):(Ht(un,4+(rn?1:0),3),function(Mn,or,ir,nr){var Ar;for(Ht(Mn,or-257,5),Ht(Mn,ir-1,5),Ht(Mn,nr-4,4),Ar=0;Ar<nr;Ar++)Ht(Mn,Mn.bl_tree[2*Rt[Ar]+1],3);dn(Mn,Mn.dyn_ltree,or-1),dn(Mn,Mn.dyn_dtree,ir-1)}(un,un.l_desc.max_code+1,un.d_desc.max_code+1,wn+1),en(un,un.dyn_ltree,un.dyn_dtree)),kt(un),rn&&zt(un)},nt._tr_tally=function(un,bn,an){return un.pending_buf[un.d_buf+2*un.last_lit]=bn>>>8&255,un.pending_buf[un.d_buf+2*un.last_lit+1]=255&bn,un.pending_buf[un.l_buf+un.last_lit]=255&an,un.last_lit++,bn===0?un.dyn_ltree[2*an]++:(un.matches++,bn--,un.dyn_ltree[2*(Bt[an]+ct+1)]++,un.dyn_dtree[2*Jt(bn)]++),un.last_lit===un.lit_bufsize-1},nt._tr_align=function(un){Ht(un,2,3),Xt(un,mt,Tt),function(bn){bn.bi_valid===16?(qt(bn,bn.bi_buf),bn.bi_buf=0,bn.bi_valid=0):8<=bn.bi_valid&&(bn.pending_buf[bn.pending++]=255&bn.bi_buf,bn.bi_buf>>=8,bn.bi_valid-=8)}(un)}},{"../utils/common":41}],53:[function(et,tt,nt){tt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(et,tt,nt){(function(rt){(function(it,ot){if(!it.setImmediate){var st,at,lt,ct,ut=1,dt={},ht=!1,pt=it.document,gt=Object.getPrototypeOf&&Object.getPrototypeOf(it);gt=gt&&gt.setTimeout?gt:it,st={}.toString.call(it.process)==="[object process]"?function(Ft){process.nextTick(function(){yt(Ft)})}:function(){if(it.postMessage&&!it.importScripts){var Ft=!0,vt=it.onmessage;return it.onmessage=function(){Ft=!1},it.postMessage("","*"),it.onmessage=vt,Ft}}()?(ct="setImmediate$"+Math.random()+"$",it.addEventListener?it.addEventListener("message",mt,!1):it.attachEvent("onmessage",mt),function(Ft){it.postMessage(ct+Ft,"*")}):it.MessageChannel?((lt=new MessageChannel).port1.onmessage=function(Ft){yt(Ft.data)},function(Ft){lt.port2.postMessage(Ft)}):pt&&"onreadystatechange"in pt.createElement("script")?(at=pt.documentElement,function(Ft){var vt=pt.createElement("script");vt.onreadystatechange=function(){yt(Ft),vt.onreadystatechange=null,at.removeChild(vt),vt=null},at.appendChild(vt)}):function(Ft){setTimeout(yt,0,Ft)},gt.setImmediate=function(Ft){typeof Ft!="function"&&(Ft=new Function(""+Ft));for(var vt=new Array(arguments.length-1),Et=0;Et<vt.length;Et++)vt[Et]=arguments[Et+1];var wt={callback:Ft,args:vt};return dt[ut]=wt,st(ut),ut++},gt.clearImmediate=ft}function ft(Ft){delete dt[Ft]}function yt(Ft){if(ht)setTimeout(yt,0,Ft);else{var vt=dt[Ft];if(vt){ht=!0;try{(function(Et){var wt=Et.callback,It=Et.args;switch(It.length){case 0:wt();break;case 1:wt(It[0]);break;case 2:wt(It[0],It[1]);break;case 3:wt(It[0],It[1],It[2]);break;default:wt.apply(ot,It)}})(vt)}finally{ft(Ft),ht=!1}}}}function mt(Ft){Ft.source===it&&typeof Ft.data=="string"&&Ft.data.indexOf(ct)===0&&yt(+Ft.data.slice(ct.length))}})(typeof self>"u"?rt===void 0?this:rt:self)}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs$1(jszip_minExports);class STLLoader extends Loader{constructor(o){super(o)}load(o,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setPath(this.path),it.setResponseType("arraybuffer"),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(o,function(ot){try{et(rt.parse(ot))}catch(st){nt?nt(st):console.error(st),rt.manager.itemError(o)}},tt,nt)}parse(o){function et(at){const lt=new DataView(at),ct=32/8*3+32/8*3*3+16/8,ut=lt.getUint32(80,!0);if(80+32/8+ut*ct===lt.byteLength)return!0;const ht=[115,111,108,105,100];for(let pt=0;pt<5;pt++)if(tt(ht,lt,pt))return!1;return!0}function tt(at,lt,ct){for(let ut=0,dt=at.length;ut<dt;ut++)if(at[ut]!==lt.getUint8(ct+ut))return!1;return!0}function nt(at){const lt=new DataView(at),ct=lt.getUint32(80,!0);let ut,dt,ht,pt=!1,gt,ft,yt,mt,Ft;for(let Tt=0;Tt<80-10;Tt++)lt.getUint32(Tt,!1)==1129270351&&lt.getUint8(Tt+4)==82&&lt.getUint8(Tt+5)==61&&(pt=!0,gt=new Float32Array(ct*3*3),ft=lt.getUint8(Tt+6)/255,yt=lt.getUint8(Tt+7)/255,mt=lt.getUint8(Tt+8)/255,Ft=lt.getUint8(Tt+9)/255);const vt=84,Et=12*4+2,wt=new BufferGeometry,It=new Float32Array(ct*3*3),St=new Float32Array(ct*3*3),Rt=new Color$1;for(let Tt=0;Tt<ct;Tt++){const bt=vt+Tt*Et,xt=lt.getFloat32(bt,!0),Bt=lt.getFloat32(bt+4,!0),Ct=lt.getFloat32(bt+8,!0);if(pt){const Mt=lt.getUint16(bt+48,!0);Mt&32768?(ut=ft,dt=yt,ht=mt):(ut=(Mt&31)/31,dt=(Mt>>5&31)/31,ht=(Mt>>10&31)/31)}for(let Mt=1;Mt<=3;Mt++){const Nt=bt+Mt*12,At=Tt*3*3+(Mt-1)*3;It[At]=lt.getFloat32(Nt,!0),It[At+1]=lt.getFloat32(Nt+4,!0),It[At+2]=lt.getFloat32(Nt+8,!0),St[At]=xt,St[At+1]=Bt,St[At+2]=Ct,pt&&(Rt.set(ut,dt,ht).convertSRGBToLinear(),gt[At]=Rt.r,gt[At+1]=Rt.g,gt[At+2]=Rt.b)}}return wt.setAttribute("position",new BufferAttribute(It,3)),wt.setAttribute("normal",new BufferAttribute(St,3)),pt&&(wt.setAttribute("color",new BufferAttribute(gt,3)),wt.hasColors=!0,wt.alpha=Ft),wt}function rt(at){const lt=new BufferGeometry,ct=/solid([\s\S]*?)endsolid/g,ut=/facet([\s\S]*?)endfacet/g,dt=/solid\s(.+)/;let ht=0;const pt=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,gt=new RegExp("vertex"+pt+pt+pt,"g"),ft=new RegExp("normal"+pt+pt+pt,"g"),yt=[],mt=[],Ft=[],vt=new Vector3;let Et,wt=0,It=0,St=0;for(;(Et=ct.exec(at))!==null;){It=St;const Rt=Et[0],Tt=(Et=dt.exec(Rt))!==null?Et[1]:"";for(Ft.push(Tt);(Et=ut.exec(Rt))!==null;){let Bt=0,Ct=0;const Mt=Et[0];for(;(Et=ft.exec(Mt))!==null;)vt.x=parseFloat(Et[1]),vt.y=parseFloat(Et[2]),vt.z=parseFloat(Et[3]),Ct++;for(;(Et=gt.exec(Mt))!==null;)yt.push(parseFloat(Et[1]),parseFloat(Et[2]),parseFloat(Et[3])),mt.push(vt.x,vt.y,vt.z),Bt++,St++;Ct!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+ht),Bt!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+ht),ht++}const bt=It,xt=St-It;lt.userData.groupNames=Ft,lt.addGroup(bt,xt,wt),wt++}return lt.setAttribute("position",new Float32BufferAttribute(yt,3)),lt.setAttribute("normal",new Float32BufferAttribute(mt,3)),lt}function it(at){return typeof at!="string"?new TextDecoder().decode(at):at}function ot(at){if(typeof at=="string"){const lt=new Uint8Array(at.length);for(let ct=0;ct<at.length;ct++)lt[ct]=at.charCodeAt(ct)&255;return lt.buffer||lt}else return at}const st=ot(o);return et(st)?nt(st):rt(it(o))}}class TGALoader extends DataTextureLoader{constructor(o){super(o)}parse(o){function et(Mt){switch(Mt.image_type){case ut:case pt:if(Mt.colormap_length>256||Mt.colormap_size!==24||Mt.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case dt:case ht:case gt:case ft:if(Mt.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case ct:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+Mt.image_type)}if(Mt.width<=0||Mt.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(Mt.pixel_size!==8&&Mt.pixel_size!==16&&Mt.pixel_size!==24&&Mt.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+Mt.pixel_size)}function tt(Mt,Nt,At,Ot,Vt){let Wt,Jt;const qt=At.pixel_size>>3,Ht=At.width*At.height*qt;if(Nt&&(Jt=Vt.subarray(Ot,Ot+=At.colormap_length*(At.colormap_size>>3))),Mt){Wt=new Uint8Array(Ht);let Xt,Lt,Pt,kt=0;const zt=new Uint8Array(qt);for(;kt<Ht;)if(Xt=Vt[Ot++],Lt=(Xt&127)+1,Xt&128){for(Pt=0;Pt<qt;++Pt)zt[Pt]=Vt[Ot++];for(Pt=0;Pt<Lt;++Pt)Wt.set(zt,kt+Pt*qt);kt+=qt*Lt}else{for(Lt*=qt,Pt=0;Pt<Lt;++Pt)Wt[kt+Pt]=Vt[Ot++];kt+=Lt}}else Wt=Vt.subarray(Ot,Ot+=Nt?At.width*At.height:Ht);return{pixel_data:Wt,palettes:Jt}}function nt(Mt,Nt,At,Ot,Vt,Wt,Jt,qt,Ht){const Xt=Ht;let Lt,Pt=0,kt,zt;const tn=Rt.width;for(zt=Nt;zt!==Ot;zt+=At)for(kt=Vt;kt!==Jt;kt+=Wt,Pt++)Lt=qt[Pt],Mt[(kt+tn*zt)*4+3]=255,Mt[(kt+tn*zt)*4+2]=Xt[Lt*3+0],Mt[(kt+tn*zt)*4+1]=Xt[Lt*3+1],Mt[(kt+tn*zt)*4+0]=Xt[Lt*3+2];return Mt}function rt(Mt,Nt,At,Ot,Vt,Wt,Jt,qt){let Ht,Xt=0,Lt,Pt;const kt=Rt.width;for(Pt=Nt;Pt!==Ot;Pt+=At)for(Lt=Vt;Lt!==Jt;Lt+=Wt,Xt+=2)Ht=qt[Xt+0]+(qt[Xt+1]<<8),Mt[(Lt+kt*Pt)*4+0]=(Ht&31744)>>7,Mt[(Lt+kt*Pt)*4+1]=(Ht&992)>>2,Mt[(Lt+kt*Pt)*4+2]=(Ht&31)<<3,Mt[(Lt+kt*Pt)*4+3]=Ht&32768?0:255;return Mt}function it(Mt,Nt,At,Ot,Vt,Wt,Jt,qt){let Ht=0,Xt,Lt;const Pt=Rt.width;for(Lt=Nt;Lt!==Ot;Lt+=At)for(Xt=Vt;Xt!==Jt;Xt+=Wt,Ht+=3)Mt[(Xt+Pt*Lt)*4+3]=255,Mt[(Xt+Pt*Lt)*4+2]=qt[Ht+0],Mt[(Xt+Pt*Lt)*4+1]=qt[Ht+1],Mt[(Xt+Pt*Lt)*4+0]=qt[Ht+2];return Mt}function ot(Mt,Nt,At,Ot,Vt,Wt,Jt,qt){let Ht=0,Xt,Lt;const Pt=Rt.width;for(Lt=Nt;Lt!==Ot;Lt+=At)for(Xt=Vt;Xt!==Jt;Xt+=Wt,Ht+=4)Mt[(Xt+Pt*Lt)*4+2]=qt[Ht+0],Mt[(Xt+Pt*Lt)*4+1]=qt[Ht+1],Mt[(Xt+Pt*Lt)*4+0]=qt[Ht+2],Mt[(Xt+Pt*Lt)*4+3]=qt[Ht+3];return Mt}function st(Mt,Nt,At,Ot,Vt,Wt,Jt,qt){let Ht,Xt=0,Lt,Pt;const kt=Rt.width;for(Pt=Nt;Pt!==Ot;Pt+=At)for(Lt=Vt;Lt!==Jt;Lt+=Wt,Xt++)Ht=qt[Xt],Mt[(Lt+kt*Pt)*4+0]=Ht,Mt[(Lt+kt*Pt)*4+1]=Ht,Mt[(Lt+kt*Pt)*4+2]=Ht,Mt[(Lt+kt*Pt)*4+3]=255;return Mt}function at(Mt,Nt,At,Ot,Vt,Wt,Jt,qt){let Ht=0,Xt,Lt;const Pt=Rt.width;for(Lt=Nt;Lt!==Ot;Lt+=At)for(Xt=Vt;Xt!==Jt;Xt+=Wt,Ht+=2)Mt[(Xt+Pt*Lt)*4+0]=qt[Ht+0],Mt[(Xt+Pt*Lt)*4+1]=qt[Ht+0],Mt[(Xt+Pt*Lt)*4+2]=qt[Ht+0],Mt[(Xt+Pt*Lt)*4+3]=qt[Ht+1];return Mt}function lt(Mt,Nt,At,Ot,Vt){let Wt,Jt,qt,Ht,Xt,Lt;switch((Rt.flags&yt)>>mt){default:case Et:Wt=0,qt=1,Xt=Nt,Jt=0,Ht=1,Lt=At;break;case Ft:Wt=0,qt=1,Xt=Nt,Jt=At-1,Ht=-1,Lt=-1;break;case wt:Wt=Nt-1,qt=-1,Xt=-1,Jt=0,Ht=1,Lt=At;break;case vt:Wt=Nt-1,qt=-1,Xt=-1,Jt=At-1,Ht=-1,Lt=-1;break}if(xt)switch(Rt.pixel_size){case 8:st(Mt,Jt,Ht,Lt,Wt,qt,Xt,Ot);break;case 16:at(Mt,Jt,Ht,Lt,Wt,qt,Xt,Ot);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(Rt.pixel_size){case 8:nt(Mt,Jt,Ht,Lt,Wt,qt,Xt,Ot,Vt);break;case 16:rt(Mt,Jt,Ht,Lt,Wt,qt,Xt,Ot);break;case 24:it(Mt,Jt,Ht,Lt,Wt,qt,Xt,Ot);break;case 32:ot(Mt,Jt,Ht,Lt,Wt,qt,Xt,Ot);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return Mt}const ct=0,ut=1,dt=2,ht=3,pt=9,gt=10,ft=11,yt=48,mt=4,Ft=0,vt=1,Et=2,wt=3;if(o.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let It=0;const St=new Uint8Array(o),Rt={id_length:St[It++],colormap_type:St[It++],image_type:St[It++],colormap_index:St[It++]|St[It++]<<8,colormap_length:St[It++]|St[It++]<<8,colormap_size:St[It++],origin:[St[It++]|St[It++]<<8,St[It++]|St[It++]<<8],width:St[It++]|St[It++]<<8,height:St[It++]|St[It++]<<8,pixel_size:St[It++],flags:St[It++]};if(et(Rt),Rt.id_length+It>o.length)throw new Error("THREE.TGALoader: No data.");It+=Rt.id_length;let Tt=!1,bt=!1,xt=!1;switch(Rt.image_type){case pt:Tt=!0,bt=!0;break;case ut:bt=!0;break;case gt:Tt=!0;break;case dt:break;case ft:Tt=!0,xt=!0;break;case ht:xt=!0;break}const Bt=new Uint8Array(Rt.width*Rt.height*4),Ct=tt(Tt,bt,Rt,It,St);return lt(Bt,Rt.width,Rt.height,Ct.pixel_data,Ct.palettes),{data:Bt,width:Rt.width,height:Rt.height,flipY:!0,generateMipmaps:!0,minFilter:LinearMipmapLinearFilter}}}class ColladaLoader extends Loader{load(o,et,tt,nt){const rt=this,it=rt.path===""?LoaderUtils.extractUrlBase(o):rt.path,ot=new FileLoader(rt.manager);ot.setPath(rt.path),ot.setRequestHeader(rt.requestHeader),ot.setWithCredentials(rt.withCredentials),ot.load(o,function(st){try{et(rt.parse(st,it))}catch(at){nt?nt(at):console.error(at),rt.manager.itemError(o)}},tt,nt)}parse(o,et){function tt(fn,hn){const vn=[],yn=fn.childNodes;for(let _n=0,Gn=yn.length;_n<Gn;_n++){const zn=yn[_n];zn.nodeName===hn&&vn.push(zn)}return vn}function nt(fn){if(fn.length===0)return[];const hn=fn.trim().split(/\s+/),vn=new Array(hn.length);for(let yn=0,_n=hn.length;yn<_n;yn++)vn[yn]=hn[yn];return vn}function rt(fn){if(fn.length===0)return[];const hn=fn.trim().split(/\s+/),vn=new Array(hn.length);for(let yn=0,_n=hn.length;yn<_n;yn++)vn[yn]=parseFloat(hn[yn]);return vn}function it(fn){if(fn.length===0)return[];const hn=fn.trim().split(/\s+/),vn=new Array(hn.length);for(let yn=0,_n=hn.length;yn<_n;yn++)vn[yn]=parseInt(hn[yn]);return vn}function ot(fn){return fn.substring(1)}function st(){return"three_default_"+Es++}function at(fn){return Object.keys(fn).length===0}function lt(fn){return{unit:ct(tt(fn,"unit")[0]),upAxis:ut(tt(fn,"up_axis")[0])}}function ct(fn){return fn!==void 0&&fn.hasAttribute("meter")===!0?parseFloat(fn.getAttribute("meter")):1}function ut(fn){return fn!==void 0?fn.textContent:"Y_UP"}function dt(fn,hn,vn,yn){const _n=tt(fn,hn)[0];if(_n!==void 0){const Gn=tt(_n,vn);for(let zn=0;zn<Gn.length;zn++)yn(Gn[zn])}}function ht(fn,hn){for(const vn in fn){const yn=fn[vn];yn.build=hn(fn[vn])}}function pt(fn,hn){return fn.build!==void 0||(fn.build=hn(fn)),fn.build}function gt(fn){const hn={sources:{},samplers:{},channels:{}};let vn=!1;for(let yn=0,_n=fn.childNodes.length;yn<_n;yn++){const Gn=fn.childNodes[yn];if(Gn.nodeType!==1)continue;let zn;switch(Gn.nodeName){case"source":zn=Gn.getAttribute("id"),hn.sources[zn]=ar(Gn);break;case"sampler":zn=Gn.getAttribute("id"),hn.samplers[zn]=ft(Gn);break;case"channel":zn=Gn.getAttribute("target"),hn.channels[zn]=yt(Gn);break;case"animation":gt(Gn),vn=!0;break;default:console.log(Gn)}}vn===!1&&(zr.animations[fn.getAttribute("id")||MathUtils.generateUUID()]=hn)}function ft(fn){const hn={inputs:{}};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const Gn=ot(_n.getAttribute("source")),zn=_n.getAttribute("semantic");hn.inputs[zn]=Gn;break}}return hn}function yt(fn){const hn={};let yn=fn.getAttribute("target").split("/");const _n=yn.shift();let Gn=yn.shift();const zn=Gn.indexOf("(")!==-1,Er=Gn.indexOf(".")!==-1;if(Er)yn=Gn.split("."),Gn=yn.shift(),hn.member=yn.shift();else if(zn){const yr=Gn.split("(");Gn=yr.shift();for(let Rr=0;Rr<yr.length;Rr++)yr[Rr]=parseInt(yr[Rr].replace(/\)/,""));hn.indices=yr}return hn.id=_n,hn.sid=Gn,hn.arraySyntax=zn,hn.memberSyntax=Er,hn.sampler=ot(fn.getAttribute("source")),hn}function mt(fn){const hn=[],vn=fn.channels,yn=fn.samplers,_n=fn.sources;for(const Gn in vn)if(vn.hasOwnProperty(Gn)){const zn=vn[Gn],Er=yn[zn.sampler],yr=Er.inputs.INPUT,Rr=Er.inputs.OUTPUT,kr=_n[yr],hr=_n[Rr],br=vt(zn,kr,hr);Rt(br,hn)}return hn}function Ft(fn){return pt(zr.animations[fn],mt)}function vt(fn,hn,vn){const yn=zr.nodes[fn.id],_n=Kr(yn.id),Gn=yn.transforms[fn.sid],zn=yn.matrix.clone().transpose();let Er,yr,Rr,kr,hr,br;const Tr={};switch(Gn){case"matrix":for(Rr=0,kr=hn.array.length;Rr<kr;Rr++)if(Er=hn.array[Rr],yr=Rr*vn.stride,Tr[Er]===void 0&&(Tr[Er]={}),fn.arraySyntax===!0){const uo=vn.array[yr],po=fn.indices[0]+4*fn.indices[1];Tr[Er][po]=uo}else for(hr=0,br=vn.stride;hr<br;hr++)Tr[Er][hr]=vn.array[yr+hr];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Gn);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Gn);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Gn);break}const Lr=Et(Tr,zn);return{name:_n.uuid,keyframes:Lr}}function Et(fn,hn){const vn=[];for(const _n in fn)vn.push({time:parseFloat(_n),value:fn[_n]});vn.sort(yn);for(let _n=0;_n<16;_n++)Tt(vn,_n,hn.elements[_n]);return vn;function yn(_n,Gn){return _n.time-Gn.time}}const wt=new Vector3,It=new Vector3,St=new Quaternion;function Rt(fn,hn){const vn=fn.keyframes,yn=fn.name,_n=[],Gn=[],zn=[],Er=[];for(let yr=0,Rr=vn.length;yr<Rr;yr++){const kr=vn[yr],hr=kr.time,br=kr.value;pr.fromArray(br).transpose(),pr.decompose(wt,St,It),_n.push(hr),Gn.push(wt.x,wt.y,wt.z),zn.push(St.x,St.y,St.z,St.w),Er.push(It.x,It.y,It.z)}return Gn.length>0&&hn.push(new VectorKeyframeTrack(yn+".position",_n,Gn)),zn.length>0&&hn.push(new QuaternionKeyframeTrack(yn+".quaternion",_n,zn)),Er.length>0&&hn.push(new VectorKeyframeTrack(yn+".scale",_n,Er)),hn}function Tt(fn,hn,vn){let yn,_n=!0,Gn,zn;for(Gn=0,zn=fn.length;Gn<zn;Gn++)yn=fn[Gn],yn.value[hn]===void 0?yn.value[hn]=null:_n=!1;if(_n===!0)for(Gn=0,zn=fn.length;Gn<zn;Gn++)yn=fn[Gn],yn.value[hn]=vn;else bt(fn,hn)}function bt(fn,hn){let vn,yn;for(let _n=0,Gn=fn.length;_n<Gn;_n++){const zn=fn[_n];if(zn.value[hn]===null){if(vn=xt(fn,_n,hn),yn=Bt(fn,_n,hn),vn===null){zn.value[hn]=yn.value[hn];continue}if(yn===null){zn.value[hn]=vn.value[hn];continue}Ct(zn,vn,yn,hn)}}}function xt(fn,hn,vn){for(;hn>=0;){const yn=fn[hn];if(yn.value[vn]!==null)return yn;hn--}return null}function Bt(fn,hn,vn){for(;hn<fn.length;){const yn=fn[hn];if(yn.value[vn]!==null)return yn;hn++}return null}function Ct(fn,hn,vn,yn){if(vn.time-hn.time===0){fn.value[yn]=hn.value[yn];return}fn.value[yn]=(fn.time-hn.time)*(vn.value[yn]-hn.value[yn])/(vn.time-hn.time)+hn.value[yn]}function Mt(fn){const hn={name:fn.getAttribute("id")||"default",start:parseFloat(fn.getAttribute("start")||0),end:parseFloat(fn.getAttribute("end")||0),animations:[]};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"instance_animation":hn.animations.push(ot(_n.getAttribute("url")));break}}zr.clips[fn.getAttribute("id")]=hn}function Nt(fn){const hn=[],vn=fn.name,yn=fn.end-fn.start||-1,_n=fn.animations;for(let Gn=0,zn=_n.length;Gn<zn;Gn++){const Er=Ft(_n[Gn]);for(let yr=0,Rr=Er.length;yr<Rr;yr++)hn.push(Er[yr])}return new AnimationClip(vn,yn,hn)}function At(fn){return pt(zr.clips[fn],Nt)}function Ot(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"skin":hn.id=ot(_n.getAttribute("source")),hn.skin=Vt(_n);break;case"morph":hn.id=ot(_n.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}zr.controllers[fn.getAttribute("id")]=hn}function Vt(fn){const hn={sources:{}};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"bind_shape_matrix":hn.bindShapeMatrix=rt(_n.textContent);break;case"source":const Gn=_n.getAttribute("id");hn.sources[Gn]=ar(_n);break;case"joints":hn.joints=Wt(_n);break;case"vertex_weights":hn.vertexWeights=Jt(_n);break}}return hn}function Wt(fn){const hn={inputs:{}};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const Gn=_n.getAttribute("semantic"),zn=ot(_n.getAttribute("source"));hn.inputs[Gn]=zn;break}}return hn}function Jt(fn){const hn={inputs:{}};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const Gn=_n.getAttribute("semantic"),zn=ot(_n.getAttribute("source")),Er=parseInt(_n.getAttribute("offset"));hn.inputs[Gn]={id:zn,offset:Er};break;case"vcount":hn.vcount=it(_n.textContent);break;case"v":hn.v=it(_n.textContent);break}}return hn}function qt(fn){const hn={id:fn.id},vn=zr.geometries[hn.id];return fn.skin!==void 0&&(hn.skin=Ht(fn.skin),vn.sources.skinIndices=hn.skin.indices,vn.sources.skinWeights=hn.skin.weights),hn}function Ht(fn){const vn={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},yn=fn.sources,_n=fn.vertexWeights,Gn=_n.vcount,zn=_n.v,Er=_n.inputs.JOINT.offset,yr=_n.inputs.WEIGHT.offset,Rr=fn.sources[fn.joints.inputs.JOINT],kr=fn.sources[fn.joints.inputs.INV_BIND_MATRIX],hr=yn[_n.inputs.WEIGHT.id].array;let br=0,Tr,Lr,Nr;for(Tr=0,Nr=Gn.length;Tr<Nr;Tr++){const po=Gn[Tr],to=[];for(Lr=0;Lr<po;Lr++){const fo=zn[br+Er],$t=zn[br+yr],ln=hr[$t];to.push({index:fo,weight:ln}),br+=2}for(to.sort(uo),Lr=0;Lr<4;Lr++){const fo=to[Lr];fo!==void 0?(vn.indices.array.push(fo.index),vn.weights.array.push(fo.weight)):(vn.indices.array.push(0),vn.weights.array.push(0))}}for(fn.bindShapeMatrix?vn.bindMatrix=new Matrix4().fromArray(fn.bindShapeMatrix).transpose():vn.bindMatrix=new Matrix4().identity(),Tr=0,Nr=Rr.array.length;Tr<Nr;Tr++){const po=Rr.array[Tr],to=new Matrix4().fromArray(kr.array,Tr*kr.stride).transpose();vn.joints.push({name:po,boneInverse:to})}return vn;function uo(po,to){return to.weight-po.weight}}function Xt(fn){return pt(zr.controllers[fn],qt)}function Lt(fn){const hn={init_from:tt(fn,"init_from")[0].textContent};zr.images[fn.getAttribute("id")]=hn}function Pt(fn){return fn.build!==void 0?fn.build:fn.init_from}function kt(fn){const hn=zr.images[fn];return hn!==void 0?pt(hn,Pt):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",fn),null)}function zt(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"profile_COMMON":hn.profile=tn(_n);break}}zr.effects[fn.getAttribute("id")]=hn}function tn(fn){const hn={surfaces:{},samplers:{}};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"newparam":Gt(_n,hn);break;case"technique":hn.technique=Zt(_n);break;case"extra":hn.extra=an(_n);break}}return hn}function Gt(fn,hn){const vn=fn.getAttribute("sid");for(let yn=0,_n=fn.childNodes.length;yn<_n;yn++){const Gn=fn.childNodes[yn];if(Gn.nodeType===1)switch(Gn.nodeName){case"surface":hn.surfaces[vn]=en(Gn);break;case"sampler2D":hn.samplers[vn]=cn(Gn);break}}}function en(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"init_from":hn.init_from=_n.textContent;break}}return hn}function cn(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"source":hn.source=_n.textContent;break}}return hn}function Zt(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"constant":case"lambert":case"blinn":case"phong":hn.type=_n.nodeName,hn.parameters=dn(_n);break;case"extra":hn.extra=an(_n);break}}return hn}function dn(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":hn[_n.nodeName]=Fn(_n);break;case"transparent":hn[_n.nodeName]={opaque:_n.hasAttribute("opaque")?_n.getAttribute("opaque"):"A_ONE",data:Fn(_n)};break}}return hn}function Fn(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"color":hn[_n.nodeName]=rt(_n.textContent);break;case"float":hn[_n.nodeName]=parseFloat(_n.textContent);break;case"texture":hn[_n.nodeName]={id:_n.getAttribute("texture"),extra:pn(_n)};break}}return hn}function pn(fn){const hn={technique:{}};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"extra":un(_n,hn);break}}return hn}function un(fn,hn){for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"technique":bn(_n,hn);break}}}function bn(fn,hn){for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":hn.technique[_n.nodeName]=parseFloat(_n.textContent);break;case"wrapU":case"wrapV":_n.textContent.toUpperCase()==="TRUE"?hn.technique[_n.nodeName]=1:_n.textContent.toUpperCase()==="FALSE"?hn.technique[_n.nodeName]=0:hn.technique[_n.nodeName]=parseInt(_n.textContent);break;case"bump":hn[_n.nodeName]=mn(_n);break}}}function an(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"technique":hn.technique=rn(_n);break}}return hn}function rn(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"double_sided":hn[_n.nodeName]=parseInt(_n.textContent);break;case"bump":hn[_n.nodeName]=mn(_n);break}}return hn}function mn(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"texture":hn[_n.nodeName]={id:_n.getAttribute("texture"),texcoord:_n.getAttribute("texcoord"),extra:pn(_n)};break}}return hn}function xn(fn){return fn}function wn(fn){return pt(zr.effects[fn],xn)}function Mn(fn){const hn={name:fn.getAttribute("name")};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"instance_effect":hn.url=ot(_n.getAttribute("url"));break}}zr.materials[fn.getAttribute("id")]=hn}function or(fn){let hn,vn=fn.slice((fn.lastIndexOf(".")-1>>>0)+2);switch(vn=vn.toLowerCase(),vn){case"tga":hn=cs;break;default:hn=xs}return hn}function ir(fn){const hn=wn(fn.url),vn=hn.profile.technique;let yn;switch(vn.type){case"phong":case"blinn":yn=new MeshPhongMaterial;break;case"lambert":yn=new MeshLambertMaterial;break;default:yn=new MeshBasicMaterial;break}yn.name=fn.name||"";function _n(yr,Rr=null){const kr=hn.profile.samplers[yr.id];let hr=null;if(kr!==void 0){const br=hn.profile.surfaces[kr.source];hr=kt(br.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),hr=kt(yr.id);if(hr!==null){const br=or(hr);if(br!==void 0){const Tr=br.load(hr),Lr=yr.extra;if(Lr!==void 0&&Lr.technique!==void 0&&at(Lr.technique)===!1){const Nr=Lr.technique;Tr.wrapS=Nr.wrapU?RepeatWrapping:ClampToEdgeWrapping,Tr.wrapT=Nr.wrapV?RepeatWrapping:ClampToEdgeWrapping,Tr.offset.set(Nr.offsetU||0,Nr.offsetV||0),Tr.repeat.set(Nr.repeatU||1,Nr.repeatV||1)}else Tr.wrapS=RepeatWrapping,Tr.wrapT=RepeatWrapping;return Rr!==null&&(Tr.colorSpace=Rr),Tr}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",hr),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",yr.id),null}const Gn=vn.parameters;for(const yr in Gn){const Rr=Gn[yr];switch(yr){case"diffuse":Rr.color&&yn.color.fromArray(Rr.color),Rr.texture&&(yn.map=_n(Rr.texture,SRGBColorSpace$1));break;case"specular":Rr.color&&yn.specular&&yn.specular.fromArray(Rr.color),Rr.texture&&(yn.specularMap=_n(Rr.texture));break;case"bump":Rr.texture&&(yn.normalMap=_n(Rr.texture));break;case"ambient":Rr.texture&&(yn.lightMap=_n(Rr.texture,SRGBColorSpace$1));break;case"shininess":Rr.float&&yn.shininess&&(yn.shininess=Rr.float);break;case"emission":Rr.color&&yn.emissive&&yn.emissive.fromArray(Rr.color),Rr.texture&&(yn.emissiveMap=_n(Rr.texture,SRGBColorSpace$1));break}}yn.color.convertSRGBToLinear(),yn.specular&&yn.specular.convertSRGBToLinear(),yn.emissive&&yn.emissive.convertSRGBToLinear();let zn=Gn.transparent,Er=Gn.transparency;if(Er===void 0&&zn&&(Er={float:1}),zn===void 0&&Er&&(zn={opaque:"A_ONE",data:{color:[1,1,1,1]}}),zn&&Er)if(zn.data.texture)yn.transparent=!0;else{const yr=zn.data.color;switch(zn.opaque){case"A_ONE":yn.opacity=yr[3]*Er.float;break;case"RGB_ZERO":yn.opacity=1-yr[0]*Er.float;break;case"A_ZERO":yn.opacity=1-yr[3]*Er.float;break;case"RGB_ONE":yn.opacity=yr[0]*Er.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',zn.opaque)}yn.opacity<1&&(yn.transparent=!0)}if(vn.extra!==void 0&&vn.extra.technique!==void 0){const yr=vn.extra.technique;for(const Rr in yr){const kr=yr[Rr];switch(Rr){case"double_sided":yn.side=kr===1?DoubleSide:FrontSide;break;case"bump":yn.normalMap=_n(kr.texture),yn.normalScale=new Vector2(1,1);break}}}return yn}function nr(fn){return pt(zr.materials[fn],ir)}function Ar(fn){const hn={name:fn.getAttribute("name")};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"optics":hn.optics=ur(_n);break}}zr.cameras[fn.getAttribute("id")]=hn}function ur(fn){for(let hn=0;hn<fn.childNodes.length;hn++){const vn=fn.childNodes[hn];switch(vn.nodeName){case"technique_common":return Fr(vn)}}return{}}function Fr(fn){const hn={};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];switch(yn.nodeName){case"perspective":case"orthographic":hn.technique=yn.nodeName,hn.parameters=$r(yn);break}}return hn}function $r(fn){const hn={};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];switch(yn.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":hn[yn.nodeName]=parseFloat(yn.textContent);break}}return hn}function Sr(fn){let hn;switch(fn.optics.technique){case"perspective":hn=new PerspectiveCamera$1(fn.optics.parameters.yfov,fn.optics.parameters.aspect_ratio,fn.optics.parameters.znear,fn.optics.parameters.zfar);break;case"orthographic":let vn=fn.optics.parameters.ymag,yn=fn.optics.parameters.xmag;const _n=fn.optics.parameters.aspect_ratio;yn=yn===void 0?vn*_n:yn,vn=vn===void 0?yn/_n:vn,yn*=.5,vn*=.5,hn=new OrthographicCamera(-yn,yn,vn,-vn,fn.optics.parameters.znear,fn.optics.parameters.zfar);break;default:hn=new PerspectiveCamera$1;break}return hn.name=fn.name||"",hn}function Ur(fn){const hn=zr.cameras[fn];return hn!==void 0?pt(hn,Sr):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",fn),null)}function Xr(fn){let hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"technique_common":hn=Wr(_n);break}}zr.lights[fn.getAttribute("id")]=hn}function Wr(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"directional":case"point":case"spot":case"ambient":hn.technique=_n.nodeName,hn.parameters=Jr(_n)}}return hn}function Jr(fn){const hn={};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"color":const Gn=rt(_n.textContent);hn.color=new Color$1().fromArray(Gn).convertSRGBToLinear();break;case"falloff_angle":hn.falloffAngle=parseFloat(_n.textContent);break;case"quadratic_attenuation":const zn=parseFloat(_n.textContent);hn.distance=zn?Math.sqrt(1/zn):0;break}}return hn}function An(fn){let hn;switch(fn.technique){case"directional":hn=new DirectionalLight;break;case"point":hn=new PointLight;break;case"spot":hn=new SpotLight;break;case"ambient":hn=new AmbientLight;break}return fn.parameters.color&&hn.color.copy(fn.parameters.color),fn.parameters.distance&&(hn.distance=fn.parameters.distance),hn}function Br(fn){const hn=zr.lights[fn];return hn!==void 0?pt(hn,An):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",fn),null)}function er(fn){const hn={name:fn.getAttribute("name"),sources:{},vertices:{},primitives:[]},vn=tt(fn,"mesh")[0];if(vn!==void 0){for(let yn=0;yn<vn.childNodes.length;yn++){const _n=vn.childNodes[yn];if(_n.nodeType!==1)continue;const Gn=_n.getAttribute("id");switch(_n.nodeName){case"source":hn.sources[Gn]=ar(_n);break;case"vertices":hn.vertices=fr(_n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",_n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":hn.primitives.push(Or(_n));break;default:console.log(_n)}}zr.geometries[fn.getAttribute("id")]=hn}}function ar(fn){const hn={array:[],stride:3};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"float_array":hn.array=rt(yn.textContent);break;case"Name_array":hn.array=nt(yn.textContent);break;case"technique_common":const _n=tt(yn,"accessor")[0];_n!==void 0&&(hn.stride=parseInt(_n.getAttribute("stride")));break}}return hn}function fr(fn){const hn={};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];yn.nodeType===1&&(hn[yn.getAttribute("semantic")]=ot(yn.getAttribute("source")))}return hn}function Or(fn){const hn={type:fn.nodeName,material:fn.getAttribute("material"),count:parseInt(fn.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let vn=0,yn=fn.childNodes.length;vn<yn;vn++){const _n=fn.childNodes[vn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const Gn=ot(_n.getAttribute("source")),zn=_n.getAttribute("semantic"),Er=parseInt(_n.getAttribute("offset")),yr=parseInt(_n.getAttribute("set")),Rr=yr>0?zn+yr:zn;hn.inputs[Rr]={id:Gn,offset:Er},hn.stride=Math.max(hn.stride,Er+1),zn==="TEXCOORD"&&(hn.hasUV=!0);break;case"vcount":hn.vcount=it(_n.textContent);break;case"p":hn.p=it(_n.textContent);break}}return hn}function no(fn){const hn={};for(let vn=0;vn<fn.length;vn++){const yn=fn[vn];hn[yn.type]===void 0&&(hn[yn.type]=[]),hn[yn.type].push(yn)}return hn}function co(fn){let hn=0;for(let vn=0,yn=fn.length;vn<yn;vn++)fn[vn].hasUV===!0&&hn++;hn>0&&hn<fn.length&&(fn.uvsNeedsFix=!0)}function Eo(fn){const hn={},vn=fn.sources,yn=fn.vertices,_n=fn.primitives;if(_n.length===0)return{};const Gn=no(_n);for(const zn in Gn){const Er=Gn[zn];co(Er),hn[zn]=Ir(Er,vn,yn)}return hn}function Ir(fn,hn,vn){const yn={},_n={array:[],stride:0},Gn={array:[],stride:0},zn={array:[],stride:0},Er={array:[],stride:0},yr={array:[],stride:0},Rr={array:[],stride:4},kr={array:[],stride:4},hr=new BufferGeometry,br=[];let Tr=0;for(let Lr=0;Lr<fn.length;Lr++){const Nr=fn[Lr],uo=Nr.inputs;let po=0;switch(Nr.type){case"lines":case"linestrips":po=Nr.count*2;break;case"triangles":po=Nr.count*3;break;case"polylist":for(let to=0;to<Nr.count;to++){const fo=Nr.vcount[to];switch(fo){case 3:po+=3;break;case 4:po+=6;break;default:po+=(fo-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Nr.type)}hr.addGroup(Tr,po,Lr),Tr+=po,Nr.material&&br.push(Nr.material);for(const to in uo){const fo=uo[to];switch(to){case"VERTEX":for(const $t in vn){const ln=vn[$t];switch($t){case"POSITION":const En=_n.array.length;if(So(Nr,hn[ln],fo.offset,_n.array),_n.stride=hn[ln].stride,hn.skinWeights&&hn.skinIndices&&(So(Nr,hn.skinIndices,fo.offset,Rr.array),So(Nr,hn.skinWeights,fo.offset,kr.array)),Nr.hasUV===!1&&fn.uvsNeedsFix===!0){const Cn=(_n.array.length-En)/_n.stride;for(let Jn=0;Jn<Cn;Jn++)zn.array.push(0,0)}break;case"NORMAL":So(Nr,hn[ln],fo.offset,Gn.array),Gn.stride=hn[ln].stride;break;case"COLOR":So(Nr,hn[ln],fo.offset,yr.array),yr.stride=hn[ln].stride;break;case"TEXCOORD":So(Nr,hn[ln],fo.offset,zn.array),zn.stride=hn[ln].stride;break;case"TEXCOORD1":So(Nr,hn[ln],fo.offset,Er.array),zn.stride=hn[ln].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',$t)}}break;case"NORMAL":So(Nr,hn[fo.id],fo.offset,Gn.array),Gn.stride=hn[fo.id].stride;break;case"COLOR":So(Nr,hn[fo.id],fo.offset,yr.array,!0),yr.stride=hn[fo.id].stride;break;case"TEXCOORD":So(Nr,hn[fo.id],fo.offset,zn.array),zn.stride=hn[fo.id].stride;break;case"TEXCOORD1":So(Nr,hn[fo.id],fo.offset,Er.array),Er.stride=hn[fo.id].stride;break}}}return _n.array.length>0&&hr.setAttribute("position",new Float32BufferAttribute(_n.array,_n.stride)),Gn.array.length>0&&hr.setAttribute("normal",new Float32BufferAttribute(Gn.array,Gn.stride)),yr.array.length>0&&hr.setAttribute("color",new Float32BufferAttribute(yr.array,yr.stride)),zn.array.length>0&&hr.setAttribute("uv",new Float32BufferAttribute(zn.array,zn.stride)),Er.array.length>0&&hr.setAttribute("uv1",new Float32BufferAttribute(Er.array,Er.stride)),Rr.array.length>0&&hr.setAttribute("skinIndex",new Float32BufferAttribute(Rr.array,Rr.stride)),kr.array.length>0&&hr.setAttribute("skinWeight",new Float32BufferAttribute(kr.array,kr.stride)),yn.data=hr,yn.type=fn[0].type,yn.materialKeys=br,yn}function So(fn,hn,vn,yn,_n=!1){const Gn=fn.p,zn=fn.stride,Er=fn.vcount;function yr(hr){let br=Gn[hr+vn]*kr;const Tr=br+kr;for(;br<Tr;br++)yn.push(Rr[br]);if(_n){const Lr=yn.length-kr-1;Cs.setRGB(yn[Lr+0],yn[Lr+1],yn[Lr+2]).convertSRGBToLinear(),yn[Lr+0]=Cs.r,yn[Lr+1]=Cs.g,yn[Lr+2]=Cs.b}}const Rr=hn.array,kr=hn.stride;if(fn.vcount!==void 0){let hr=0;for(let br=0,Tr=Er.length;br<Tr;br++){const Lr=Er[br];if(Lr===4){const Nr=hr+zn*0,uo=hr+zn*1,po=hr+zn*2,to=hr+zn*3;yr(Nr),yr(uo),yr(to),yr(uo),yr(po),yr(to)}else if(Lr===3){const Nr=hr+zn*0,uo=hr+zn*1,po=hr+zn*2;yr(Nr),yr(uo),yr(po)}else if(Lr>4)for(let Nr=1,uo=Lr-2;Nr<=uo;Nr++){const po=hr+zn*0,to=hr+zn*Nr,fo=hr+zn*(Nr+1);yr(po),yr(to),yr(fo)}hr+=zn*Lr}}else for(let hr=0,br=Gn.length;hr<br;hr+=zn)yr(hr)}function Kn(fn){return pt(zr.geometries[fn],Eo)}function nn(fn){const hn={name:fn.getAttribute("name")||"",joints:{},links:[]};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"technique_common":Qn(yn,hn);break}}zr.kinematicsModels[fn.getAttribute("id")]=hn}function on(fn){return fn.build!==void 0?fn.build:fn}function gn(fn){return pt(zr.kinematicsModels[fn],on)}function Qn(fn,hn){for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"joint":hn.joints[yn.getAttribute("sid")]=Nn(yn);break;case"link":hn.links.push($n(yn));break}}}function Nn(fn){let hn;for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"prismatic":case"revolute":hn=In(yn);break}}return hn}function In(fn){const hn={sid:fn.getAttribute("sid"),name:fn.getAttribute("name")||"",axis:new Vector3,limits:{min:0,max:0},type:fn.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"axis":const _n=rt(yn.textContent);hn.axis.fromArray(_n);break;case"limits":const Gn=yn.getElementsByTagName("max")[0],zn=yn.getElementsByTagName("min")[0];hn.limits.max=parseFloat(Gn.textContent),hn.limits.min=parseFloat(zn.textContent);break}}return hn.limits.min>=hn.limits.max&&(hn.static=!0),hn.middlePosition=(hn.limits.min+hn.limits.max)/2,hn}function $n(fn){const hn={sid:fn.getAttribute("sid"),name:fn.getAttribute("name")||"",attachments:[],transforms:[]};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"attachment_full":hn.attachments.push(Xn(yn));break;case"matrix":case"translate":case"rotate":hn.transforms.push(On(yn));break}}return hn}function Xn(fn){const hn={joint:fn.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"link":hn.links.push($n(yn));break;case"matrix":case"translate":case"rotate":hn.transforms.push(On(yn));break}}return hn}function On(fn){const hn={type:fn.nodeName},vn=rt(fn.textContent);switch(hn.type){case"matrix":hn.obj=new Matrix4,hn.obj.fromArray(vn).transpose();break;case"translate":hn.obj=new Vector3,hn.obj.fromArray(vn);break;case"rotate":hn.obj=new Vector3,hn.obj.fromArray(vn),hn.angle=MathUtils.degToRad(vn[3]);break}return hn}function Dn(fn){const hn={name:fn.getAttribute("name")||"",rigidBodies:{}};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"rigid_body":hn.rigidBodies[yn.getAttribute("name")]={},_r(yn,hn.rigidBodies[yn.getAttribute("name")]);break}}zr.physicsModels[fn.getAttribute("id")]=hn}function _r(fn,hn){for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"technique_common":Gr(yn,hn);break}}}function Gr(fn,hn){for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"inertia":hn.inertia=rt(yn.textContent);break;case"mass":hn.mass=rt(yn.textContent)[0];break}}}function Un(fn){const hn={bindJointAxis:[]};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"bind_joint_axis":hn.bindJointAxis.push(Vn(yn));break}}zr.kinematicsScenes[ot(fn.getAttribute("url"))]=hn}function Vn(fn){const hn={target:fn.getAttribute("target").split("/").pop()};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType===1)switch(yn.nodeName){case"axis":const _n=yn.getElementsByTagName("param")[0];hn.axis=_n.textContent;const Gn=hn.axis.split("inst_").pop().split("axis")[0];hn.jointIndex=Gn.substring(0,Gn.length-1);break}}return hn}function jn(fn){return fn.build!==void 0?fn.build:fn}function Zn(fn){return pt(zr.kinematicsScenes[fn],jn)}function Ln(){const fn=Object.keys(zr.kinematicsModels)[0],hn=Object.keys(zr.kinematicsScenes)[0],vn=Object.keys(zr.visualScenes)[0];if(fn===void 0||hn===void 0)return;const yn=gn(fn),_n=Zn(hn),Gn=xo(vn),zn=_n.bindJointAxis,Er={};for(let kr=0,hr=zn.length;kr<hr;kr++){const br=zn[kr],Tr=ro.querySelector('[sid="'+br.target+'"]');if(Tr){const Lr=Tr.parentElement;yr(br.jointIndex,Lr)}}function yr(kr,hr){const br=hr.getAttribute("name"),Tr=yn.joints[kr];Gn.traverse(function(Lr){Lr.name===br&&(Er[kr]={object:Lr,transforms:cr(hr),joint:Tr,position:Tr.zeroPosition})})}const Rr=new Matrix4;Fs={joints:yn&&yn.joints,getJointValue:function(kr){const hr=Er[kr];if(hr)return hr.position;console.warn("THREE.ColladaLoader: Joint "+kr+" doesn't exist.")},setJointValue:function(kr,hr){const br=Er[kr];if(br){const Tr=br.joint;if(hr>Tr.limits.max||hr<Tr.limits.min)console.warn("THREE.ColladaLoader: Joint "+kr+" value "+hr+" outside of limits (min: "+Tr.limits.min+", max: "+Tr.limits.max+").");else if(Tr.static)console.warn("THREE.ColladaLoader: Joint "+kr+" is static.");else{const Lr=br.object,Nr=Tr.axis,uo=br.transforms;pr.identity();for(let po=0;po<uo.length;po++){const to=uo[po];if(to.sid&&to.sid.indexOf(kr)!==-1)switch(Tr.type){case"revolute":pr.multiply(Rr.makeRotationAxis(Nr,MathUtils.degToRad(hr)));break;case"prismatic":pr.multiply(Rr.makeTranslation(Nr.x*hr,Nr.y*hr,Nr.z*hr));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Tr.type);break}else switch(to.type){case"matrix":pr.multiply(to.obj);break;case"translate":pr.multiply(Rr.makeTranslation(to.obj.x,to.obj.y,to.obj.z));break;case"scale":pr.scale(to.obj);break;case"rotate":pr.multiply(Rr.makeRotationAxis(to.obj,to.angle));break}}Lr.matrix.copy(pr),Lr.matrix.decompose(Lr.position,Lr.quaternion,Lr.scale),Er[kr].position=hr}}else console.log("THREE.ColladaLoader: "+kr+" does not exist.")}}}function cr(fn){const hn=[],vn=ro.querySelector('[id="'+fn.id+'"]');for(let yn=0;yn<vn.childNodes.length;yn++){const _n=vn.childNodes[yn];if(_n.nodeType!==1)continue;let Gn,zn;switch(_n.nodeName){case"matrix":Gn=rt(_n.textContent);const Er=new Matrix4().fromArray(Gn).transpose();hn.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:Er});break;case"translate":case"scale":Gn=rt(_n.textContent),zn=new Vector3().fromArray(Gn),hn.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:zn});break;case"rotate":Gn=rt(_n.textContent),zn=new Vector3().fromArray(Gn);const yr=MathUtils.degToRad(Gn[3]);hn.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:zn,angle:yr});break}}return hn}function dr(fn){const hn=fn.getElementsByTagName("node");for(let vn=0;vn<hn.length;vn++){const yn=hn[vn];yn.hasAttribute("id")===!1&&yn.setAttribute("id",st())}}const pr=new Matrix4,mr=new Vector3;function Cr(fn){const hn={name:fn.getAttribute("name")||"",type:fn.getAttribute("type"),id:fn.getAttribute("id"),sid:fn.getAttribute("sid"),matrix:new Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];if(yn.nodeType!==1)continue;let _n;switch(yn.nodeName){case"node":hn.nodes.push(yn.getAttribute("id")),Cr(yn);break;case"instance_camera":hn.instanceCameras.push(ot(yn.getAttribute("url")));break;case"instance_controller":hn.instanceControllers.push(Dr(yn));break;case"instance_light":hn.instanceLights.push(ot(yn.getAttribute("url")));break;case"instance_geometry":hn.instanceGeometries.push(Dr(yn));break;case"instance_node":hn.instanceNodes.push(ot(yn.getAttribute("url")));break;case"matrix":_n=rt(yn.textContent),hn.matrix.multiply(pr.fromArray(_n).transpose()),hn.transforms[yn.getAttribute("sid")]=yn.nodeName;break;case"translate":_n=rt(yn.textContent),mr.fromArray(_n),hn.matrix.multiply(pr.makeTranslation(mr.x,mr.y,mr.z)),hn.transforms[yn.getAttribute("sid")]=yn.nodeName;break;case"rotate":_n=rt(yn.textContent);const Gn=MathUtils.degToRad(_n[3]);hn.matrix.multiply(pr.makeRotationAxis(mr.fromArray(_n),Gn)),hn.transforms[yn.getAttribute("sid")]=yn.nodeName;break;case"scale":_n=rt(yn.textContent),hn.matrix.scale(mr.fromArray(_n)),hn.transforms[yn.getAttribute("sid")]=yn.nodeName;break;case"extra":break;default:console.log(yn)}}return vr(hn.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",hn.id):zr.nodes[hn.id]=hn,hn}function Dr(fn){const hn={id:ot(fn.getAttribute("url")),materials:{},skeletons:[]};for(let vn=0;vn<fn.childNodes.length;vn++){const yn=fn.childNodes[vn];switch(yn.nodeName){case"bind_material":const _n=yn.getElementsByTagName("instance_material");for(let Gn=0;Gn<_n.length;Gn++){const zn=_n[Gn],Er=zn.getAttribute("symbol"),yr=zn.getAttribute("target");hn.materials[Er]=ot(yr)}break;case"skeleton":hn.skeletons.push(ot(yn.textContent));break}}return hn}function Qr(fn,hn){const vn=[],yn=[];let _n,Gn,zn;for(_n=0;_n<fn.length;_n++){const Rr=fn[_n];let kr;if(vr(Rr))kr=Kr(Rr),Yr(kr,hn,vn);else if(To(Rr)){const br=zr.visualScenes[Rr].children;for(let Tr=0;Tr<br.length;Tr++){const Lr=br[Tr];if(Lr.type==="JOINT"){const Nr=Kr(Lr.id);Yr(Nr,hn,vn)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",Rr)}for(_n=0;_n<hn.length;_n++)for(Gn=0;Gn<vn.length;Gn++)if(zn=vn[Gn],zn.bone.name===hn[_n].name){yn[_n]=zn,zn.processed=!0;break}for(_n=0;_n<vn.length;_n++)zn=vn[_n],zn.processed===!1&&(yn.push(zn),zn.processed=!0);const Er=[],yr=[];for(_n=0;_n<yn.length;_n++)zn=yn[_n],Er.push(zn.bone),yr.push(zn.boneInverse);return new Skeleton(Er,yr)}function Yr(fn,hn,vn){fn.traverse(function(yn){if(yn.isBone===!0){let _n;for(let Gn=0;Gn<hn.length;Gn++){const zn=hn[Gn];if(zn.name===yn.name){_n=zn.boneInverse;break}}_n===void 0&&(_n=new Matrix4),vn.push({bone:yn,boneInverse:_n,processed:!1})}})}function mo(fn){const hn=[],vn=fn.matrix,yn=fn.nodes,_n=fn.type,Gn=fn.instanceCameras,zn=fn.instanceControllers,Er=fn.instanceLights,yr=fn.instanceGeometries,Rr=fn.instanceNodes;for(let hr=0,br=yn.length;hr<br;hr++)hn.push(Kr(yn[hr]));for(let hr=0,br=Gn.length;hr<br;hr++){const Tr=Ur(Gn[hr]);Tr!==null&&hn.push(Tr.clone())}for(let hr=0,br=zn.length;hr<br;hr++){const Tr=zn[hr],Lr=Xt(Tr.id),Nr=Kn(Lr.id),uo=Hr(Nr,Tr.materials),po=Tr.skeletons,to=Lr.skin.joints,fo=Qr(po,to);for(let $t=0,ln=uo.length;$t<ln;$t++){const En=uo[$t];En.isSkinnedMesh&&(En.bind(fo,Lr.skin.bindMatrix),En.normalizeSkinWeights()),hn.push(En)}}for(let hr=0,br=Er.length;hr<br;hr++){const Tr=Br(Er[hr]);Tr!==null&&hn.push(Tr.clone())}for(let hr=0,br=yr.length;hr<br;hr++){const Tr=yr[hr],Lr=Kn(Tr.id),Nr=Hr(Lr,Tr.materials);for(let uo=0,po=Nr.length;uo<po;uo++)hn.push(Nr[uo])}for(let hr=0,br=Rr.length;hr<br;hr++)hn.push(Kr(Rr[hr]).clone());let kr;if(yn.length===0&&hn.length===1)kr=hn[0];else{kr=_n==="JOINT"?new Bone:new Group;for(let hr=0;hr<hn.length;hr++)kr.add(hn[hr])}return kr.name=_n==="JOINT"?fn.sid:fn.name,kr.matrix.copy(vn),kr.matrix.decompose(kr.position,kr.quaternion,kr.scale),kr}const yo=new MeshBasicMaterial({name:Loader.DEFAULT_MATERIAL_NAME,color:16711935});function bo(fn,hn){const vn=[];for(let yn=0,_n=fn.length;yn<_n;yn++){const Gn=hn[fn[yn]];Gn===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",fn[yn]),vn.push(yo)):vn.push(nr(Gn))}return vn}function Hr(fn,hn){const vn=[];for(const yn in fn){const _n=fn[yn],Gn=bo(_n.materialKeys,hn);if(Gn.length===0&&(yn==="lines"||yn==="linestrips"?Gn.push(new LineBasicMaterial):Gn.push(new MeshPhongMaterial)),yn==="lines"||yn==="linestrips")for(let Rr=0,kr=Gn.length;Rr<kr;Rr++){const hr=Gn[Rr];if(hr.isMeshPhongMaterial===!0||hr.isMeshLambertMaterial===!0){const br=new LineBasicMaterial;br.color.copy(hr.color),br.opacity=hr.opacity,br.transparent=hr.transparent,Gn[Rr]=br}}const zn=_n.data.attributes.skinIndex!==void 0,Er=Gn.length===1?Gn[0]:Gn;let yr;switch(yn){case"lines":yr=new LineSegments(_n.data,Er);break;case"linestrips":yr=new Line$1(_n.data,Er);break;case"triangles":case"polylist":zn?yr=new SkinnedMesh(_n.data,Er):yr=new Mesh(_n.data,Er);break}vn.push(yr)}return vn}function vr(fn){return zr.nodes[fn]!==void 0}function Kr(fn){return pt(zr.nodes[fn],mo)}function ao(fn){const hn={name:fn.getAttribute("name"),children:[]};dr(fn);const vn=tt(fn,"node");for(let yn=0;yn<vn.length;yn++)hn.children.push(Cr(vn[yn]));zr.visualScenes[fn.getAttribute("id")]=hn}function Fo(fn){const hn=new Group;hn.name=fn.name;const vn=fn.children;for(let yn=0;yn<vn.length;yn++){const _n=vn[yn];hn.add(Kr(_n.id))}return hn}function To(fn){return zr.visualScenes[fn]!==void 0}function xo(fn){return pt(zr.visualScenes[fn],Fo)}function Wo(fn){const hn=tt(fn,"instance_visual_scene")[0];return xo(ot(hn.getAttribute("url")))}function io(){const fn=zr.clips;if(at(fn)===!0){if(at(zr.animations)===!1){const hn=[];for(const vn in zr.animations){const yn=Ft(vn);for(let _n=0,Gn=yn.length;_n<Gn;_n++)hn.push(yn[_n])}Ko.push(new AnimationClip("default",-1,hn))}}else for(const hn in fn)Ko.push(At(hn))}function Oo(fn){let hn="";const vn=[fn];for(;vn.length;){const yn=vn.shift();yn.nodeType===Node.TEXT_NODE?hn+=yn.textContent:(hn+=`
`,vn.push.apply(vn,yn.childNodes))}return hn.trim()}if(o.length===0)return{scene:new Scene};const ls=new DOMParser().parseFromString(o,"application/xml"),ro=tt(ls,"COLLADA")[0],No=ls.getElementsByTagName("parsererror")[0];if(No!==void 0){const fn=tt(No,"div")[0];let hn;return fn?hn=fn.textContent:hn=Oo(No),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,hn),null}const Yo=ro.getAttribute("version");console.debug("THREE.ColladaLoader: File version",Yo);const Co=lt(tt(ro,"asset")[0]),xs=new TextureLoader(this.manager);xs.setPath(this.resourcePath||et).setCrossOrigin(this.crossOrigin);let cs;TGALoader&&(cs=new TGALoader(this.manager),cs.setPath(this.resourcePath||et));const Cs=new Color$1,Ko=[];let Fs={},Es=0;const zr={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};dt(ro,"library_animations","animation",gt),dt(ro,"library_animation_clips","animation_clip",Mt),dt(ro,"library_controllers","controller",Ot),dt(ro,"library_images","image",Lt),dt(ro,"library_effects","effect",zt),dt(ro,"library_materials","material",Mn),dt(ro,"library_cameras","camera",Ar),dt(ro,"library_lights","light",Xr),dt(ro,"library_geometries","geometry",er),dt(ro,"library_nodes","node",Cr),dt(ro,"library_visual_scenes","visual_scene",ao),dt(ro,"library_kinematics_models","kinematics_model",nn),dt(ro,"library_physics_models","physics_model",Dn),dt(ro,"scene","instance_kinematics_scene",Un),ht(zr.animations,mt),ht(zr.clips,Nt),ht(zr.controllers,qt),ht(zr.images,Pt),ht(zr.effects,xn),ht(zr.materials,ir),ht(zr.cameras,Sr),ht(zr.lights,An),ht(zr.geometries,Eo),ht(zr.visualScenes,Fo),io(),Ln();const Ms=Wo(tt(ro,"scene")[0]);return Ms.animations=Ko,Co.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Ms.rotation.set(-Math.PI/2,0,0)),Ms.scale.multiplyScalar(Co.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),Ko},kinematics:Fs,library:zr,scene:Ms}}}const _tempAxis=new Vector3;class URDFBase extends Object3D{constructor(...o){super(...o),this.urdfNode=null,this.urdfName=""}copy(o,et){return super.copy(o,et),this.urdfNode=o.urdfNode,this.urdfName=o.urdfName,this}}class URDFCollider extends URDFBase{constructor(...o){super(...o),this.isURDFCollider=!0,this.type="URDFCollider"}}class URDFVisual extends URDFBase{constructor(...o){super(...o),this.isURDFVisual=!0,this.type="URDFVisual"}}class URDFLink extends URDFBase{constructor(...o){super(...o),this.isURDFLink=!0,this.type="URDFLink"}}class URDFJoint extends URDFBase{get jointType(){return this._jointType}set jointType(o){if(this.jointType!==o)switch(this._jointType=o,this.matrixWorldNeedsUpdate=!0,o){case"fixed":this.jointValue=[];break;case"continuous":case"revolute":case"prismatic":this.jointValue=new Array(1).fill(0);break;case"planar":this.jointValue=new Array(2).fill(0);break;case"floating":this.jointValue=new Array(6).fill(0);break}}get angle(){return this.jointValue[0]}constructor(...o){super(...o),this.isURDFJoint=!0,this.type="URDFJoint",this.jointValue=null,this.jointType="fixed",this.axis=new Vector3(1,0,0),this.limit={lower:0,upper:0},this.ignoreLimits=!1,this.origPosition=null,this.origQuaternion=null,this.mimicJoints=[]}copy(o,et){return super.copy(o,et),this.jointType=o.jointType,this.axis=o.axis.clone(),this.limit.lower=o.limit.lower,this.limit.upper=o.limit.upper,this.ignoreLimits=!1,this.jointValue=[...o.jointValue],this.origPosition=o.origPosition?o.origPosition.clone():null,this.origQuaternion=o.origQuaternion?o.origQuaternion.clone():null,this.mimicJoints=[...o.mimicJoints],this}setJointValue(...o){o=o.map(tt=>parseFloat(tt)),(!this.origPosition||!this.origQuaternion)&&(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone());let et=!1;switch(this.mimicJoints.forEach(tt=>{et=tt.updateFromMimickedJoint(...o)||et}),this.jointType){case"fixed":return et;case"continuous":case"revolute":{let tt=o[0];return tt==null||tt===this.jointValue[0]?et:(!this.ignoreLimits&&this.jointType==="revolute"&&(tt=Math.min(this.limit.upper,tt),tt=Math.max(this.limit.lower,tt)),this.quaternion.setFromAxisAngle(this.axis,tt).premultiply(this.origQuaternion),this.jointValue[0]!==tt?(this.jointValue[0]=tt,this.matrixWorldNeedsUpdate=!0,!0):et)}case"prismatic":{let tt=o[0];return tt==null||tt===this.jointValue[0]?et:(this.ignoreLimits||(tt=Math.min(this.limit.upper,tt),tt=Math.max(this.limit.lower,tt)),this.position.copy(this.origPosition),_tempAxis.copy(this.axis).applyEuler(this.rotation),this.position.addScaledVector(_tempAxis,tt),this.jointValue[0]!==tt?(this.jointValue[0]=tt,this.matrixWorldNeedsUpdate=!0,!0):et)}case"floating":case"planar":console.warn(`'${this.jointType}' joint not yet supported`)}return et}}class URDFMimicJoint extends URDFJoint{constructor(...o){super(...o),this.type="URDFMimicJoint",this.mimicJoint=null,this.offset=0,this.multiplier=1}updateFromMimickedJoint(...o){const et=o.map(tt=>tt*this.multiplier+this.offset);return super.setJointValue(...et)}copy(o,et){return super.copy(o,et),this.mimicJoint=o.mimicJoint,this.offset=o.offset,this.multiplier=o.multiplier,this}}class URDFRobot extends URDFLink{constructor(...o){super(...o),this.isURDFRobot=!0,this.urdfNode=null,this.urdfRobotNode=null,this.robotName=null,this.links=null,this.joints=null,this.colliders=null,this.visual=null,this.frames=null}copy(o,et){return super.copy(o,et),this.urdfRobotNode=o.urdfRobotNode,this.robotName=o.robotName,this.links={},this.joints={},this.colliders={},this.visual={},this.traverse(tt=>{tt.isURDFJoint&&tt.urdfName in o.joints&&(this.joints[tt.urdfName]=tt),tt.isURDFLink&&tt.urdfName in o.links&&(this.links[tt.urdfName]=tt),tt.isURDFCollider&&tt.urdfName in o.colliders&&(this.colliders[tt.urdfName]=tt),tt.isURDFVisual&&tt.urdfName in o.visual&&(this.visual[tt.urdfName]=tt)}),this.frames={...this.colliders,...this.visual,...this.links,...this.joints},this}getFrame(o){return this.frames[o]}setJointValue(o,...et){const tt=this.joints[o];return tt?tt.setJointValue(...et):!1}setJointValues(o){let et=!1;for(const tt in o){const nt=o[tt];Array.isArray(nt)?et=this.setJointValue(tt,...nt)||et:et=this.setJointValue(tt,nt)||et}return et}}const tempQuaternion=new Quaternion,tempEuler=new Euler;function processTuple(s){return s?s.trim().split(/\s+/g).map(o=>parseFloat(o)):[0,0,0]}function applyRotation(s,o,et=!1){et||s.rotation.set(0,0,0),tempEuler.set(o[0],o[1],o[2],"ZYX"),tempQuaternion.setFromEuler(tempEuler),tempQuaternion.multiply(s.quaternion),s.quaternion.copy(tempQuaternion)}class URDFLoader{constructor(o){this.manager=o||DefaultLoadingManager,this.loadMeshCb=this.defaultMeshLoader.bind(this),this.parseVisual=!0,this.parseCollision=!1,this.packages="",this.workingPath="",this.fetchOptions={}}loadAsync(o){return new Promise((et,tt)=>{this.load(o,et,null,tt)})}load(o,et,tt,nt){const rt=this.manager,it=LoaderUtils.extractUrlBase(o),ot=this.manager.resolveURL(o);rt.itemStart(ot),fetch(ot,this.fetchOptions).then(st=>{if(st.ok)return tt&&tt(null),st.text();throw new Error(`URDFLoader: Failed to load url '${ot}' with error code ${st.status} : ${st.statusText}.`)}).then(st=>{this.workingPath===""&&(this.workingPath=it);const at=this.parse(st);et(at),rt.itemEnd(ot)}).catch(st=>{nt?nt(st):console.error("URDFLoader: Error loading file.",st),rt.itemError(ot),rt.itemEnd(ot)})}parse(o){const et=this.packages,tt=this.loadMeshCb,nt=this.parseVisual,rt=this.parseCollision,it=this.workingPath,ot=this.manager,st={},at={},lt={};function ct(yt){if(!/^package:\/\//.test(yt))return it?it+yt:yt;const[mt,Ft]=yt.replace(/^package:\/\//,"").split(/\/(.+)/);if(typeof et=="string")return et.endsWith(mt)?et+"/"+Ft:et+"/"+mt+"/"+Ft;if(et instanceof Function)return et(mt)+"/"+Ft;if(typeof et=="object")return mt in et?et[mt]+"/"+Ft:(console.error(`URDFLoader : ${mt} not found in provided package list.`),null)}function ut(yt){let mt;yt instanceof Document?mt=[...yt.children]:yt instanceof Element?mt=[yt]:mt=[...new DOMParser().parseFromString(yt,"text/xml").children];const Ft=mt.filter(vt=>vt.nodeName==="robot").pop();return dt(Ft)}function dt(yt){const mt=[...yt.children],Ft=mt.filter(Tt=>Tt.nodeName.toLowerCase()==="link"),vt=mt.filter(Tt=>Tt.nodeName.toLowerCase()==="joint"),Et=mt.filter(Tt=>Tt.nodeName.toLowerCase()==="material"),wt=new URDFRobot;wt.robotName=yt.getAttribute("name"),wt.urdfRobotNode=yt,Et.forEach(Tt=>{const bt=Tt.getAttribute("name");lt[bt]=gt(Tt)});const It={},St={};Ft.forEach(Tt=>{const bt=Tt.getAttribute("name"),xt=yt.querySelector(`child[link="${bt}"]`)===null;st[bt]=pt(Tt,It,St,xt?wt:null)}),vt.forEach(Tt=>{const bt=Tt.getAttribute("name");at[bt]=ht(Tt)}),wt.joints=at,wt.links=st,wt.colliders=St,wt.visual=It;const Rt=Object.values(at);return Rt.forEach(Tt=>{Tt instanceof URDFMimicJoint&&at[Tt.mimicJoint].mimicJoints.push(Tt)}),Rt.forEach(Tt=>{const bt=new Set,xt=Bt=>{if(bt.has(Bt))throw new Error("URDFLoader: Detected an infinite loop of mimic joints.");bt.add(Bt),Bt.mimicJoints.forEach(Ct=>{xt(Ct)})};xt(Tt)}),wt.frames={...St,...It,...st,...at},wt}function ht(yt){const mt=[...yt.children],Ft=yt.getAttribute("type");let vt;const Et=mt.find(bt=>bt.nodeName.toLowerCase()==="mimic");Et?(vt=new URDFMimicJoint,vt.mimicJoint=Et.getAttribute("joint"),vt.multiplier=parseFloat(Et.getAttribute("multiplier")||1),vt.offset=parseFloat(Et.getAttribute("offset")||0)):vt=new URDFJoint,vt.urdfNode=yt,vt.name=yt.getAttribute("name"),vt.urdfName=vt.name,vt.jointType=Ft;let wt=null,It=null,St=[0,0,0],Rt=[0,0,0];mt.forEach(bt=>{const xt=bt.nodeName.toLowerCase();xt==="origin"?(St=processTuple(bt.getAttribute("xyz")),Rt=processTuple(bt.getAttribute("rpy"))):xt==="child"?It=st[bt.getAttribute("link")]:xt==="parent"?wt=st[bt.getAttribute("link")]:xt==="limit"&&(vt.limit.lower=parseFloat(bt.getAttribute("lower")||vt.limit.lower),vt.limit.upper=parseFloat(bt.getAttribute("upper")||vt.limit.upper))}),wt.add(vt),vt.add(It),applyRotation(vt,Rt),vt.position.set(St[0],St[1],St[2]);const Tt=mt.filter(bt=>bt.nodeName.toLowerCase()==="axis")[0];if(Tt){const bt=Tt.getAttribute("xyz").split(/\s+/g).map(xt=>parseFloat(xt));vt.axis=new Vector3(bt[0],bt[1],bt[2]),vt.axis.normalize()}return vt}function pt(yt,mt,Ft,vt=null){vt===null&&(vt=new URDFLink);const Et=[...yt.children];return vt.name=yt.getAttribute("name"),vt.urdfName=vt.name,vt.urdfNode=yt,nt&&Et.filter(It=>It.nodeName.toLowerCase()==="visual").forEach(It=>{const St=ft(It,lt);if(vt.add(St),It.hasAttribute("name")){const Rt=It.getAttribute("name");St.name=Rt,St.urdfName=Rt,mt[Rt]=St}}),rt&&Et.filter(It=>It.nodeName.toLowerCase()==="collision").forEach(It=>{const St=ft(It);if(vt.add(St),It.hasAttribute("name")){const Rt=It.getAttribute("name");St.name=Rt,St.urdfName=Rt,Ft[Rt]=St}}),vt}function gt(yt){const mt=[...yt.children],Ft=new MeshPhongMaterial;return Ft.name=yt.getAttribute("name")||"",mt.forEach(vt=>{const Et=vt.nodeName.toLowerCase();if(Et==="color"){const wt=vt.getAttribute("rgba").split(/\s/g).map(It=>parseFloat(It));Ft.color.setRGB(wt[0],wt[1],wt[2]),Ft.opacity=wt[3],Ft.transparent=wt[3]<1,Ft.depthWrite=!Ft.transparent}else if(Et==="texture"){const wt=vt.getAttribute("filename");if(wt){const It=new TextureLoader(ot),St=ct(wt);Ft.map=It.load(St),Ft.map.colorSpace=SRGBColorSpace$1}}}),Ft}function ft(yt,mt={}){const Ft=yt.nodeName.toLowerCase()==="collision",vt=[...yt.children];let Et=null;const wt=vt.filter(St=>St.nodeName.toLowerCase()==="material")[0];if(wt){const St=wt.getAttribute("name");St&&St in mt?Et=mt[St]:Et=gt(wt)}else Et=new MeshPhongMaterial;const It=Ft?new URDFCollider:new URDFVisual;return It.urdfNode=yt,vt.forEach(St=>{const Rt=St.nodeName.toLowerCase();if(Rt==="geometry"){const Tt=St.children[0].nodeName.toLowerCase();if(Tt==="mesh"){const bt=St.children[0].getAttribute("filename"),xt=ct(bt);if(xt!==null){const Bt=St.children[0].getAttribute("scale");if(Bt){const Ct=processTuple(Bt);It.scale.set(Ct[0],Ct[1],Ct[2])}tt(xt,ot,(Ct,Mt)=>{Mt?console.error("URDFLoader: Error loading mesh.",Mt):Ct&&(Ct instanceof Mesh&&(Ct.material=Et),Ct.position.set(0,0,0),Ct.quaternion.identity(),It.add(Ct))})}}else if(Tt==="box"){const bt=new Mesh;bt.geometry=new BoxGeometry(1,1,1),bt.material=Et;const xt=processTuple(St.children[0].getAttribute("size"));bt.scale.set(xt[0],xt[1],xt[2]),It.add(bt)}else if(Tt==="sphere"){const bt=new Mesh;bt.geometry=new SphereGeometry(1,30,30),bt.material=Et;const xt=parseFloat(St.children[0].getAttribute("radius"))||0;bt.scale.set(xt,xt,xt),It.add(bt)}else if(Tt==="cylinder"){const bt=new Mesh;bt.geometry=new CylinderGeometry(1,1,1,30),bt.material=Et;const xt=parseFloat(St.children[0].getAttribute("radius"))||0,Bt=parseFloat(St.children[0].getAttribute("length"))||0;bt.scale.set(xt,Bt,xt),bt.rotation.set(Math.PI/2,0,0),It.add(bt)}}else if(Rt==="origin"){const Tt=processTuple(St.getAttribute("xyz")),bt=processTuple(St.getAttribute("rpy"));It.position.set(Tt[0],Tt[1],Tt[2]),It.rotation.set(0,0,0),applyRotation(It,bt)}}),It}return ut(o)}defaultMeshLoader(o,et,tt){/\.stl$/i.test(o)?new STLLoader(et).load(o,rt=>{const it=new Mesh(rt,new MeshPhongMaterial);tt(it)}):/\.dae$/i.test(o)?new ColladaLoader(et).load(o,rt=>tt(rt.scene)):console.warn(`URDFLoader: Could not load model at ${o}.
No loader available`)}}class Urdf extends Group{constructor(o,et,tt){super(),this.configuration=et,this.onLoaded=tt;const nt=new LoadingManager,rt=new URDFLoader(nt);this.configuration?.ghosted&&(this.color=new Color$1("lightgrey"),this.opacity=.25,this.transparent=!0),this.configuration?.endEffectorOnly&&(this.color=new Color$1("green"),this.opacity=.005,this.transparent=!0);const{opacity:it,transparent:ot}=this;let{color:st}=this;rt.loadMeshCb=(at,lt,ct)=>{new ColladaLoader(lt).load(at,dt=>{dt.scene.children=dt.scene.children.filter(ht=>!ht.type.endsWith("Light")),dt.scene.traverse(ht=>{if(ht instanceof Mesh){if(this.meshs.push(ht),ht.geometry.computeVertexNormals(),!this.configuration?.ghosted&&!this.configuration?.endEffectorOnly){let pt;Array.isArray(ht.material)?[pt]=ht.material:pt=ht.material,(pt instanceof MeshPhongMaterial||pt instanceof MeshStandardMaterial||pt instanceof MeshLambertMaterial||pt instanceof MeshBasicMaterial)&&(st=pt.color)}ht.material=new MeshPhongMaterial({color:st,opacity:it,transparent:ot})}}),ct(dt.scene)})},rt.load(o,this.onLoad)}robot;meshs=[];opacity=1;transparent=!1;color=new Color$1("white");static urdfMap={};static getUrdf(o,et,tt,nt){const rt=`${JSON.stringify(et)}.${o}`;return Urdf.urdfMap[rt]===void 0?tt?(Urdf.urdfMap[rt]=new Urdf(tt,et,nt),{urdf:Urdf.urdfMap[rt],loaded:!1}):{urdf:void 0,loaded:!1}:{urdf:Urdf.urdfMap[rt],loaded:!0}}onLoad=o=>{if(this.robot=o,this.configuration?.endEffectorOnly)if(this.configuration.endEffectorLink){const et=this.robot.links[this.configuration.endEffectorLink];this.add(et)}else console.warn("URDF configured for endEffectorOnly but endEffectorLink not provided");else this.add(this.robot);this.onLoaded?.()};setColor=o=>{const{opacity:et,transparent:tt}=this;this.meshs.forEach(nt=>{nt.material=new MeshPhongMaterial({opacity:et,transparent:tt,color:o})})};set worldToLocalTransform(o){o?this.matrix.copy(transformMatrix(o)):this.matrix.identity()}set jointState(o){const{robot:et}=this;if(!et)return;const{name:tt}=o;Object.keys(et.joints).forEach(nt=>{const rt=et.joints[nt],it=tt.indexOf(nt),ot=o.effort?.[it]??0,st=o.position?.[it]??0,at=o.velocity?.[it]??0;rt.setJointValue(st,ot,at)})}getLink=o=>o?this.robot?.links[o]:void 0}async function loadURDFIntoBlob(s){const o=await fetch(s).then(rt=>rt.arrayBuffer()),et=await JSZip.loadAsync(o);et.remove("__MACOSX"),et.remove(".DS_Store");const tt=Object.keys(et.files).find(rt=>rt.toLowerCase().endsWith("urdf")),nt=tt?.split("/")[0]+"/";if(tt){let rt=await et.files[tt].async("string");const it=Object.keys(et.files).filter(at=>at.endsWith("png")&&at!==tt),ot={};await Promise.all(it.map(async at=>{const lt=et.files[at],ct=await et.files[lt.name].async("arraybuffer");ot[at]=URL.createObjectURL(new Blob([ct],{type:"image/png"}))}));const st=Object.keys(et.files).filter(at=>!at.endsWith(".png")&&at!==tt&&!at.startsWith("__MACOSX")&&!at.endsWith(".DS_Store"));return await Promise.all(st.map(async at=>{const lt=et.files[at];if(!lt.dir){let ct=await et.files[lt.name].async("string");it.forEach(dt=>{const ht=dt.split("/"),pt=ht[ht.length-1];ct=ct.replace(new RegExp(pt,"g"),ot[dt].replace(`blob:${window.location.origin}/`,""))});const ut=URL.createObjectURL(new Blob([ct],{type:"text/plain"})).replace(`blob:${window.location.origin}/`,"");rt=rt.replace(new RegExp(`package://${at}`,"g"),ut),rt=rt.replace(new RegExp(at,"g"),ut),rt=rt.replace(new RegExp(at.replace(nt,""),"g"),ut)}})),URL.createObjectURL(new Blob([rt],{type:"text/plain"}))}return!1}function URDFLayer(s){const{children:o,jointStatesDataSource:et,realtimeJointStateDataSource:tt}=s,[nt,rt]=reactExports.useContext(UniverseDataContext),it=reactExports.useContext(LayerContext),[ot,st]=reactExports.useState(!1),[at,lt]=reactExports.useState(void 0);return reactExports.useEffect(()=>{if(!it)return;const{deviceId:ct}=it;let ut;return tt&&at?ut=rt.subscribeToJointState(ct,tt,dt=>{if(typeof dt=="symbol")return;const ht=dt;at&&(at.jointState=ht)}):et&&at&&(ut=nt.subscribeToJointState(ct,et,dt=>{if(typeof dt=="symbol")return;const ht=dt;at&&(at.jointState=ht)})),at||nt.getUrdfs(ct).then(dt=>{if(dt.length===0){console.warn("No URDFs found for device");return}loadURDFIntoBlob(dt[0]).then(ht=>{if(ht!==!1){const pt=new Urdf(ht,{ghosted:!1},()=>{st(!0)});lt(pt)}}).catch(ht=>{throw ht})}).catch(dt=>{throw dt}),()=>{ut&&ut()}},[it,nt,at]),jsxs(DataVisualizationLayer,{...s,type:LayerType.TRACKABLE,iconUrl:"icons/3d_object.svg",trailEnabled:s.trailEnabled,trailSeconds:s.trailSeconds,trailOpacity:s.trailOpacity,trailWidth:s.trailWidth,trailType:s.trailType,trailFlatten:s.trailFlatten,children:[at&&ot&&jsx("primitive",{object:at}),o]})}function ImageLayer(s){const{children:o,fileId:et,width:tt,height:nt}=s,[rt,it]=reactExports.useState(""),ot=useTexture(rt||"./transparent.png");return reactExports.useEffect(()=>{(async()=>{const st=await Fleet.getFileUrl(et);it(st)})()},[et]),jsx("group",{name:"axis",renderOrder:1,children:jsxs(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:[jsxs("mesh",{children:[jsx("planeGeometry",{args:[tt,nt]}),jsx("meshBasicMaterial",{map:ot,transparent:!0})]}),o]})})}function GLTFLayer(s){const{children:o,fileId:et,scale:tt}=s,[nt,rt]=reactExports.useState("./empty.glb"),{scene:it}=useGLTF(nt);return reactExports.useEffect(()=>{(async()=>{const ot=await Fleet.getFileUrl(et);rt(ot)})()},[et]),jsx("group",{name:"axis",renderOrder:1,children:jsxs(DataVisualizationLayer,{...s,iconUrl:"icons/3d_object.svg",children:[jsx("group",{scale:[tt,tt,tt],rotation:[Math.PI/2,0,0],children:jsx("primitive",{object:it})}),o]})})}const isValidURL=s=>/^(https?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[/\S*]*$/.test(s),handleFetchJsonDatapoint=async s=>{if(s.length===0)return[];const o=s.length/1e3,et=[];for(let tt=0;tt<o;tt++){const nt=tt*1e3,rt=(tt+1)*1e3,it=s.slice(nt,rt),st=(await Promise.allSettled(it.map(ct=>fetch(ct[1])))).map(ct=>ct.status==="fulfilled"?ct.value:null).filter(ct=>ct!==null).map(ct=>ct?.json()),at=await Promise.all(st),lt=it.map((ct,ut)=>[ct[0],at[ut].pose.pose.position]);et.push(lt)}return et.flat()},queryAnalytics=async(s,o,et,tt)=>{const nt=`
  SELECT * FROM JSON_POINTS 
  WHERE NAME_JSON='${et}'
  AND DEVICE_ID_JSON='${tt}'  
  AND POINTS_TIME BETWEEN '${s}' AND '${o}';`,rt=await Fleet.getAnalyticsRows({sqlQuery:nt,type:"advanced"}),{rows:it}=rt;if(rt.rows.length===0)return console.warn("Analytics has not data for the current time period"),[];const st=it.map(ct=>[ct.POINTS_TIME,ct.POINTS_VALUE]).reduce((ct,ut)=>isValidURL(ut[1])?(ct.urls.push(ut),ct):(ct.json.push(ut),ct),{urls:[],json:[]}),at=await handleFetchJsonDatapoint(st.urls),lt=st.json.map(ct=>[ct[0],JSON.parse(ct[1]).pose.pose.position]);return[...at,...lt]},queryPoints=async(s,o,et,tt)=>[...await queryAnalytics(s,o,et,tt)],PointOfInterstLayer=s=>{const{dataSource:o}=s,[et,tt]=reactExports.useState([]),[nt,rt]=reactExports.useState(),[it,ot]=reactExports.useState("day"),[st,at]=reactExports.useState(),lt=reactExports.useContext(LayerContext),[ct,ut]=reactExports.useState(.09),dt=reactExports.useCallback(gt=>{App.sendChannelData("localization-timestamp",gt),rt(gt)},[nt]),ht=reactExports.useMemo(()=>et.length===0?[]:et.map((gt,ft)=>jsx(Point,{radius:ct,setActive:()=>{dt(gt[0])},active:nt===gt[0],position:new Vector3(gt[1].x,gt[1].y,0)},ft)),[et,nt,ct]);reactExports.useEffect(()=>{App.addChannelDataListener("active-date-interval",gt=>{ot(gt.data)})},[]),reactExports.useEffect(()=>{App.addChannelDataListener("flock-dates",gt=>{gt.data.currentFlock&&at(gt.data.currentFlock)})},[]),reactExports.useEffect(()=>{if(o&&o.streamName&&lt){let gt,ft;const yt=new Date;if(it==="flock"){if(!st){console.error("No flock dates in <PointOfInterestLayer/>");return}gt=new Date(st.startDate).toISOString(),ft=new Date(st.endDate).toISOString()}else gt=aggregateByDateFunctions[it].start(yt).toISOString(),ft=new Date(Date.now()).toISOString();queryPoints(gt,ft,o.streamName,lt?.deviceId).then(mt=>{tt([...mt])})}},[lt,o,it]);const pt=reactExports.useRef(null);return useFrame(({camera:gt})=>{if(!pt.current)return;const yt=gt.position.z,mt=yt>70?1:yt>50?.8:yt>40?.5:yt>25?.3:yt>15?.15:.09;ut(mt)}),jsx("group",{ref:pt,children:ht})},Point=({active:s,position:o,setActive:et,radius:tt})=>{const nt=reactExports.useRef(null),[rt,it]=reactExports.useState(!1);return jsxs("mesh",{ref:nt,position:o,onPointerOver:()=>{nt.current&&(document.body.style.cursor="pointer",it(!0))},onPointerOut:()=>{nt.current&&(it(!1),document.body.style.cursor="auto")},onClick:et,children:[jsx("circleGeometry",{args:[tt,32]}),jsx("meshBasicMaterial",{color:s||rt?"#F89973":"#18D2FF"})]})};function defined(s,o){if(s!==void 0)return s;throw new Error(o||"Value is undefined")}function notNull(s,o){if(s!==null)return s;throw new Error(o||"Value is null")}function definedAndNotNull(s,o){return notNull(defined(s,o),o)}function buildScene(s,o,et){const tt=[];let nt=[],rt=[],it=[];const{advancedOptions:lt}=s,ct=lt?.showGround,ut=getUuidByString(JSON.stringify(s));if(rt=(s.maps||[]).map((dt,ht)=>{const pt=dt.transformType?parsePositioning(dt):PositioningBuilder.fixed(0,0,0);if(dt.mapType==="GPS"){const gt=-122.6765,ft=45.5231,yt=parseDataSource(dt),mt=parseFloat(dt.gpsMapSize);return jsx(MapLayer,{id:"map"+ht+ut,positioning:pt,mapType:dt.gpsMapType||"Satellite",size:mt,latitude:dt.gpsMapLatitude||ft,longitude:dt.gpsMapLongitude||gt,dataSource:yt,name:dt.name||"Map",treePath:[0,ht]},"map"+ht+ut)}else if(dt.mapType==="Occupancy"){const gt=parseDataSource(dt);return jsx(OccupancyGridLayer,{id:"occupancy_grid"+ht+ut,dataSource:gt,treePath:[0,ht],name:dt.name||"Occupancy Grid"},"occupancy_grid"+ht+ut)}throw new Error("Unknown map type")}),(s.visualizations||[]).forEach((dt,ht)=>{const pt=dt.transformType?parsePositioning(dt):PositioningBuilder.fixed(0,0,0);if(dt.visualizationType==="Position indicator")dt.positionIndicatorUseURDF?nt.push(jsx(URDFLayer,{id:"vis"+ht+ut,positioning:pt,treePath:[1,ht],name:dt.name||"URDF",jointStatesDataSource:getTeletryJointStateDataSource(dt),realtimeJointStateDataSource:getRealtimeJointStateDataSource(dt),trailEnabled:dt.trailEnabled,trailOpacity:dt.trailOpacity,trailType:dt.trailType,trailWidth:dt.trailWidth,trailSeconds:dt.trailSeconds||0,trailFlatten:dt.trailFlatten},"vis"+ht+ut)):nt.push(jsx(MarkerLayer,{id:"vis"+ht+ut,positioning:pt,treePath:[1,ht],name:dt.name||"Marker",trailEnabled:dt.trailEnabled,trailOpacity:dt.trailOpacity,trailType:dt.trailType,trailWidth:dt.trailWidth,trailSeconds:dt.trailSeconds||0,trailFlatten:dt.trailFlatten},"vis"+ht+ut));else if(dt.visualizationType==="Path"){const gt=parseDataSource(dt),{pathOpacity:ft,pathType:yt,pathWidth:mt,pathFlatten:Ft}=dt;nt.push(jsx(PathLayer,{id:"local_path_layer"+ht+ut,pathOpacity:ft,pathType:yt,pathWidth:mt,dataSource:gt,treePath:[1,ht],name:dt.name||"Local Path ",flatten:Ft},"local_path_layer"+ht+ut))}else if(dt.visualizationType==="Point cloud"){const gt=dt.pointCloudRealtimeStream;let ft;if(gt)ft=getRealtimePointCloudDataSource(dt);else{const Ft=et?.telemetry?.streams?.find(Et=>Et.name===dt.telemetryStreamName),vt=Ft?Ft.configuration.type==="ros-localization"?"localization":"point cloud":void 0;ft=parseDataSource(dt,vt)}const{pointCloudDecayTime:yt,pointCloudUseColors:mt}=dt;nt.push(jsx(PointCloudLayer,{id:"pointcloud"+ht+ut,dataSource:ft,treePath:[1,ht],name:dt.name||"Point Cloud",decayTime:yt||1,useColors:mt||!1},"pointcloud"+ht+ut))}else if(dt.visualizationType==="Marker array"){const gt=parseDataSource(dt);gt&&nt.push(jsx(GeometryLayer,{id:"geo"+ht+ut,positioning:pt,dataSource:gt,treePath:[1,ht],name:dt.name||"Geometry",allowTransparency:dt.geometryAllowTransparency||!1},"geo"+ht+ut))}else if(dt.visualizationType==="Image")nt.push(jsx(ImageLayer,{id:"vis"+ht+ut,positioning:pt,treePath:[1,ht],name:dt.name||"Image",width:dt.imageWidth||1,height:dt.imageHeight||1,fileId:dt.imageFileId||""},"vis"+ht+ut));else if(dt.visualizationType==="GLTF")nt.push(jsx(GLTFLayer,{id:"vis"+ht+ut,positioning:pt,treePath:[1,ht],name:dt.name||"GLTF",scale:dt.gltfScale||1,fileId:dt.gltfFileId||""},"vis"+ht+ut));else if(dt.visualizationType==="Points of interest"){const gt=parseDataSource(dt);gt&&nt.push(jsx(PointOfInterstLayer,{id:"geo"+ht+ut,positioning:pt,dataSource:gt,treePath:[1,ht],name:dt.name||"Geometry"},"geo"+ht+ut))}else throw new Error("Unknown visualization type")}),(ct===void 0||ct)&&it.push(jsx(GroundLayer,{id:"ground"+ut,treePath:[2,255],name:"Ground Plane",type:LayerType.AXIS},"ground"+ut)),s.missionPlanning&&s.missionPlanning.length>0){const{pathWidth:dt,pathType:ht,commandName:pt}=s.missionPlanning[0];nt.push(jsx(MissionPlanningLayer,{id:"missionPlanningLayer",pathType:ht,pathWidth:dt,commandName:pt},"missionPlanningLayer"))}return rt=rt.map((dt,ht)=>reactExports.cloneElement(dt,{visible:ht===0})),tt.push(jsx(LayerContext.Provider,{value:{deviceId:definedAndNotNull(o)},children:jsx(EmptyLayer,{name:"Maps",treePath:[0],children:rt})},"maps")),tt.push(jsx(LayerContext.Provider,{value:{deviceId:definedAndNotNull(o)},children:jsx(EmptyLayer,{name:"Device Layers",treePath:[1],children:nt})},"visualizations")),tt.push(jsx(EmptyLayer,{name:"Scene",treePath:[2],children:it},"sceneLayers")),nt=[],tt}const query$2=new URLSearchParams(window.location.search),currentDeviceId=query$2.get("device")||"";function Viewer(){const[s,o]=reactExports.useState(!1),[et,tt]=reactExports.useState(),[nt,rt]=reactExports.useState(),it=reactExports.useRef(new TelemetryUniverseData),ot=reactExports.useRef(new LiveUniverseData),st=reactExports.useRef(0),at=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{await Authentication.waitTilAuthenticated();const ut=await App.getCurrentModuleConfiguration();if(await(await Fleet.getDevice(currentDeviceId)).getConfiguration().then(ht=>{rt(ht)}).catch(ht=>{rt(void 0),console.debug("Failed to get device configuration",ht)}),ut){const ht=JSON.parse(ut);lt(ht)&&tt(ht)}o(!0),App.addModuleConfigurationListener(ht=>{const pt=JSON.parse(ht.configuration);if(!lt(pt)){tt(void 0);return}tt(pt)})})()},[]),reactExports.useEffect(()=>{if(!et)return;const{advancedOptions:ut}=et,dt=ut?.useTimeline;return dt||dt===void 0?App.addModuleDataListener(ht=>{const pt=new Date(ht.time);if(st.current===pt.getTime()){at.current||(at.current=setInterval(()=>{it.current.setTime(pt)},2e3));return}at.current&&(clearInterval(at.current),at.current=null),st.current=pt.getTime(),it.current.setTime(pt)}):it.current.setTime("live"),()=>{}},[et]);const lt=ut=>!((!ut.maps||!ut.maps.length)&&(!ut.visualizations||!ut.visualizations.length)),ct=reactExports.useCallback(ut=>jsx(UniverseDataContext.Provider,{value:[it.current,ot.current],children:jsxs(Universe,{configHash:getUuidByString(JSON.stringify(ut)),config:ut,debug:!!ut.advancedOptions?.debug,children:[buildScene(ut,definedAndNotNull$1(currentDeviceId),nt),jsxs("group",{children:[jsx("pointLight",{position:[1e3,1e3,1e3],color:"#18d2ff",intensity:.3*2.8,decay:0,distance:0}),jsx("pointLight",{position:[-1e3,-1e3,1e3],color:"#ea719d",intensity:.7*2.8,decay:0,distance:0}),jsx("hemisphereLight",{intensity:.2*2.8,color:"#f8f9fc",groundColor:"#282f45"})]})]},getUuidByString(JSON.stringify(ut)))}),[it,currentDeviceId,et]);return s&&et?ct(et):s&&!et?jsx(MissingConfig,{}):jsx("div",{})}var alea$1={exports:{}};alea$1.exports;(function(s){(function(o,et,tt){function nt(st){var at=this,lt=ot();at.next=function(){var ct=2091639*at.s0+at.c*23283064365386963e-26;return at.s0=at.s1,at.s1=at.s2,at.s2=ct-(at.c=ct|0)},at.c=1,at.s0=lt(" "),at.s1=lt(" "),at.s2=lt(" "),at.s0-=lt(st),at.s0<0&&(at.s0+=1),at.s1-=lt(st),at.s1<0&&(at.s1+=1),at.s2-=lt(st),at.s2<0&&(at.s2+=1),lt=null}function rt(st,at){return at.c=st.c,at.s0=st.s0,at.s1=st.s1,at.s2=st.s2,at}function it(st,at){var lt=new nt(st),ct=at&&at.state,ut=lt.next;return ut.int32=function(){return lt.next()*4294967296|0},ut.double=function(){return ut()+(ut()*2097152|0)*11102230246251565e-32},ut.quick=ut,ct&&(typeof ct=="object"&&rt(ct,lt),ut.state=function(){return rt(lt,{})}),ut}function ot(){var st=4022871197,at=function(lt){lt=String(lt);for(var ct=0;ct<lt.length;ct++){st+=lt.charCodeAt(ct);var ut=.02519603282416938*st;st=ut>>>0,ut-=st,ut*=st,st=ut>>>0,ut-=st,st+=ut*4294967296}return(st>>>0)*23283064365386963e-26};return at}et&&et.exports?et.exports=it:tt&&tt.amd?tt(function(){return it}):this.alea=it})(commonjsGlobal$1,s,!1)})(alea$1);var aleaExports=alea$1.exports,xor128$1={exports:{}};xor128$1.exports;(function(s){(function(o,et,tt){function nt(ot){var st=this,at="";st.x=0,st.y=0,st.z=0,st.w=0,st.next=function(){var ct=st.x^st.x<<11;return st.x=st.y,st.y=st.z,st.z=st.w,st.w^=st.w>>>19^ct^ct>>>8},ot===(ot|0)?st.x=ot:at+=ot;for(var lt=0;lt<at.length+64;lt++)st.x^=at.charCodeAt(lt)|0,st.next()}function rt(ot,st){return st.x=ot.x,st.y=ot.y,st.z=ot.z,st.w=ot.w,st}function it(ot,st){var at=new nt(ot),lt=st&&st.state,ct=function(){return(at.next()>>>0)/4294967296};return ct.double=function(){do var ut=at.next()>>>11,dt=(at.next()>>>0)/4294967296,ht=(ut+dt)/(1<<21);while(ht===0);return ht},ct.int32=at.next,ct.quick=ct,lt&&(typeof lt=="object"&&rt(lt,at),ct.state=function(){return rt(at,{})}),ct}et&&et.exports?et.exports=it:tt&&tt.amd?tt(function(){return it}):this.xor128=it})(commonjsGlobal$1,s,!1)})(xor128$1);var xor128Exports=xor128$1.exports,xorwow$1={exports:{}};xorwow$1.exports;(function(s){(function(o,et,tt){function nt(ot){var st=this,at="";st.next=function(){var ct=st.x^st.x>>>2;return st.x=st.y,st.y=st.z,st.z=st.w,st.w=st.v,(st.d=st.d+362437|0)+(st.v=st.v^st.v<<4^(ct^ct<<1))|0},st.x=0,st.y=0,st.z=0,st.w=0,st.v=0,ot===(ot|0)?st.x=ot:at+=ot;for(var lt=0;lt<at.length+64;lt++)st.x^=at.charCodeAt(lt)|0,lt==at.length&&(st.d=st.x<<10^st.x>>>4),st.next()}function rt(ot,st){return st.x=ot.x,st.y=ot.y,st.z=ot.z,st.w=ot.w,st.v=ot.v,st.d=ot.d,st}function it(ot,st){var at=new nt(ot),lt=st&&st.state,ct=function(){return(at.next()>>>0)/4294967296};return ct.double=function(){do var ut=at.next()>>>11,dt=(at.next()>>>0)/4294967296,ht=(ut+dt)/(1<<21);while(ht===0);return ht},ct.int32=at.next,ct.quick=ct,lt&&(typeof lt=="object"&&rt(lt,at),ct.state=function(){return rt(at,{})}),ct}et&&et.exports?et.exports=it:tt&&tt.amd?tt(function(){return it}):this.xorwow=it})(commonjsGlobal$1,s,!1)})(xorwow$1);var xorwowExports=xorwow$1.exports,xorshift7$1={exports:{}};xorshift7$1.exports;(function(s){(function(o,et,tt){function nt(ot){var st=this;st.next=function(){var lt=st.x,ct=st.i,ut,dt;return ut=lt[ct],ut^=ut>>>7,dt=ut^ut<<24,ut=lt[ct+1&7],dt^=ut^ut>>>10,ut=lt[ct+3&7],dt^=ut^ut>>>3,ut=lt[ct+4&7],dt^=ut^ut<<7,ut=lt[ct+7&7],ut=ut^ut<<13,dt^=ut^ut<<9,lt[ct]=dt,st.i=ct+1&7,dt};function at(lt,ct){var ut,dt=[];if(ct===(ct|0))dt[0]=ct;else for(ct=""+ct,ut=0;ut<ct.length;++ut)dt[ut&7]=dt[ut&7]<<15^ct.charCodeAt(ut)+dt[ut+1&7]<<13;for(;dt.length<8;)dt.push(0);for(ut=0;ut<8&&dt[ut]===0;++ut);for(ut==8?dt[7]=-1:dt[ut],lt.x=dt,lt.i=0,ut=256;ut>0;--ut)lt.next()}at(st,ot)}function rt(ot,st){return st.x=ot.x.slice(),st.i=ot.i,st}function it(ot,st){ot==null&&(ot=+new Date);var at=new nt(ot),lt=st&&st.state,ct=function(){return(at.next()>>>0)/4294967296};return ct.double=function(){do var ut=at.next()>>>11,dt=(at.next()>>>0)/4294967296,ht=(ut+dt)/(1<<21);while(ht===0);return ht},ct.int32=at.next,ct.quick=ct,lt&&(lt.x&&rt(lt,at),ct.state=function(){return rt(at,{})}),ct}et&&et.exports?et.exports=it:tt&&tt.amd?tt(function(){return it}):this.xorshift7=it})(commonjsGlobal$1,s,!1)})(xorshift7$1);var xorshift7Exports=xorshift7$1.exports,xor4096$1={exports:{}};xor4096$1.exports;(function(s){(function(o,et,tt){function nt(ot){var st=this;st.next=function(){var lt=st.w,ct=st.X,ut=st.i,dt,ht;return st.w=lt=lt+1640531527|0,ht=ct[ut+34&127],dt=ct[ut=ut+1&127],ht^=ht<<13,dt^=dt<<17,ht^=ht>>>15,dt^=dt>>>12,ht=ct[ut]=ht^dt,st.i=ut,ht+(lt^lt>>>16)|0};function at(lt,ct){var ut,dt,ht,pt,gt,ft=[],yt=128;for(ct===(ct|0)?(dt=ct,ct=null):(ct=ct+"\0",dt=0,yt=Math.max(yt,ct.length)),ht=0,pt=-32;pt<yt;++pt)ct&&(dt^=ct.charCodeAt((pt+32)%ct.length)),pt===0&&(gt=dt),dt^=dt<<10,dt^=dt>>>15,dt^=dt<<4,dt^=dt>>>13,pt>=0&&(gt=gt+1640531527|0,ut=ft[pt&127]^=dt+gt,ht=ut==0?ht+1:0);for(ht>=128&&(ft[(ct&&ct.length||0)&127]=-1),ht=127,pt=4*128;pt>0;--pt)dt=ft[ht+34&127],ut=ft[ht=ht+1&127],dt^=dt<<13,ut^=ut<<17,dt^=dt>>>15,ut^=ut>>>12,ft[ht]=dt^ut;lt.w=gt,lt.X=ft,lt.i=ht}at(st,ot)}function rt(ot,st){return st.i=ot.i,st.w=ot.w,st.X=ot.X.slice(),st}function it(ot,st){ot==null&&(ot=+new Date);var at=new nt(ot),lt=st&&st.state,ct=function(){return(at.next()>>>0)/4294967296};return ct.double=function(){do var ut=at.next()>>>11,dt=(at.next()>>>0)/4294967296,ht=(ut+dt)/(1<<21);while(ht===0);return ht},ct.int32=at.next,ct.quick=ct,lt&&(lt.X&&rt(lt,at),ct.state=function(){return rt(at,{})}),ct}et&&et.exports?et.exports=it:tt&&tt.amd?tt(function(){return it}):this.xor4096=it})(commonjsGlobal$1,s,!1)})(xor4096$1);var xor4096Exports=xor4096$1.exports,tychei$1={exports:{}};tychei$1.exports;(function(s){(function(o,et,tt){function nt(ot){var st=this,at="";st.next=function(){var ct=st.b,ut=st.c,dt=st.d,ht=st.a;return ct=ct<<25^ct>>>7^ut,ut=ut-dt|0,dt=dt<<24^dt>>>8^ht,ht=ht-ct|0,st.b=ct=ct<<20^ct>>>12^ut,st.c=ut=ut-dt|0,st.d=dt<<16^ut>>>16^ht,st.a=ht-ct|0},st.a=0,st.b=0,st.c=-1640531527,st.d=1367130551,ot===Math.floor(ot)?(st.a=ot/4294967296|0,st.b=ot|0):at+=ot;for(var lt=0;lt<at.length+20;lt++)st.b^=at.charCodeAt(lt)|0,st.next()}function rt(ot,st){return st.a=ot.a,st.b=ot.b,st.c=ot.c,st.d=ot.d,st}function it(ot,st){var at=new nt(ot),lt=st&&st.state,ct=function(){return(at.next()>>>0)/4294967296};return ct.double=function(){do var ut=at.next()>>>11,dt=(at.next()>>>0)/4294967296,ht=(ut+dt)/(1<<21);while(ht===0);return ht},ct.int32=at.next,ct.quick=ct,lt&&(typeof lt=="object"&&rt(lt,at),ct.state=function(){return rt(at,{})}),ct}et&&et.exports?et.exports=it:tt&&tt.amd?tt(function(){return it}):this.tychei=it})(commonjsGlobal$1,s,!1)})(tychei$1);var tycheiExports=tychei$1.exports,seedrandom$2={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(s){(function(o,et,tt){var nt=256,rt=6,it=52,ot="random",st=tt.pow(nt,rt),at=tt.pow(2,it),lt=at*2,ct=nt-1,ut;function dt(Ft,vt,Et){var wt=[];vt=vt==!0?{entropy:!0}:vt||{};var It=ft(gt(vt.entropy?[Ft,mt(et)]:Ft??yt(),3),wt),St=new ht(wt),Rt=function(){for(var Tt=St.g(rt),bt=st,xt=0;Tt<at;)Tt=(Tt+xt)*nt,bt*=nt,xt=St.g(1);for(;Tt>=lt;)Tt/=2,bt/=2,xt>>>=1;return(Tt+xt)/bt};return Rt.int32=function(){return St.g(4)|0},Rt.quick=function(){return St.g(4)/4294967296},Rt.double=Rt,ft(mt(St.S),et),(vt.pass||Et||function(Tt,bt,xt,Bt){return Bt&&(Bt.S&&pt(Bt,St),Tt.state=function(){return pt(St,{})}),xt?(tt[ot]=Tt,bt):Tt})(Rt,It,"global"in vt?vt.global:this==tt,vt.state)}function ht(Ft){var vt,Et=Ft.length,wt=this,It=0,St=wt.i=wt.j=0,Rt=wt.S=[];for(Et||(Ft=[Et++]);It<nt;)Rt[It]=It++;for(It=0;It<nt;It++)Rt[It]=Rt[St=ct&St+Ft[It%Et]+(vt=Rt[It])],Rt[St]=vt;(wt.g=function(Tt){for(var bt,xt=0,Bt=wt.i,Ct=wt.j,Mt=wt.S;Tt--;)bt=Mt[Bt=ct&Bt+1],xt=xt*nt+Mt[ct&(Mt[Bt]=Mt[Ct=ct&Ct+bt])+(Mt[Ct]=bt)];return wt.i=Bt,wt.j=Ct,xt})(nt)}function pt(Ft,vt){return vt.i=Ft.i,vt.j=Ft.j,vt.S=Ft.S.slice(),vt}function gt(Ft,vt){var Et=[],wt=typeof Ft,It;if(vt&&wt=="object")for(It in Ft)try{Et.push(gt(Ft[It],vt-1))}catch{}return Et.length?Et:wt=="string"?Ft:Ft+"\0"}function ft(Ft,vt){for(var Et=Ft+"",wt,It=0;It<Et.length;)vt[ct&It]=ct&(wt^=vt[ct&It]*19)+Et.charCodeAt(It++);return mt(vt)}function yt(){try{var Ft;return ut&&(Ft=ut.randomBytes)?Ft=Ft(nt):(Ft=new Uint8Array(nt),(o.crypto||o.msCrypto).getRandomValues(Ft)),mt(Ft)}catch{var vt=o.navigator,Et=vt&&vt.plugins;return[+new Date,o,Et,o.screen,mt(et)]}}function mt(Ft){return String.fromCharCode.apply(0,Ft)}if(ft(tt.random(),et),s.exports){s.exports=dt;try{ut=require$$0}catch{}}else tt["seed"+ot]=dt})(typeof self<"u"?self:commonjsGlobal$1,[],Math)})(seedrandom$2);var seedrandomExports=seedrandom$2.exports,alea=aleaExports,xor128=xor128Exports,xorwow=xorwowExports,xorshift7=xorshift7Exports,xor4096=xor4096Exports,tychei=tycheiExports,sr=seedrandomExports;sr.alea=alea;sr.xor128=xor128;sr.xorwow=xorwow;sr.xorshift7=xorshift7;sr.xor4096=xor4096;sr.tychei=tychei;var seedrandom=sr;const seedrandom$1=getDefaultExportFromCjs$1(seedrandom);function generateNoise(s,o){const et=new Array(o).fill(null).map(()=>new Array(s));function tt(st,at,lt){return st+(at-st)*lt}function nt(st){return st*st*(3-2*st)}function rt(st,at){const lt=new Array(at).fill(null).map(()=>new Array(st));for(let ct=0;ct<at;ct++)for(let ut=0;ut<st;ut++)lt[ct][ut]=Math.random()+.5;return lt}function it(st,at,lt,ct=4,ut=.5,dt=2){let ht=1,pt=1,gt=0,ft=0;for(let yt=0;yt<ct;yt++){const mt=st*pt%s,Ft=at*pt%o,vt=Math.floor(mt),Et=(vt+1)%s,wt=Math.floor(Ft),It=(wt+1)%o,St=mt-vt,Rt=Ft-wt,Tt=nt(St),bt=nt(Rt),xt=lt[wt][vt],Bt=lt[wt][Et],Ct=lt[It][vt],Mt=lt[It][Et],Nt=tt(xt,Bt,Tt),At=tt(Ct,Mt,Tt),Ot=tt(Nt,At,bt);gt+=Ot*ht,ft+=ht,ht*=ut,pt*=dt}return gt/ft}const ot=rt(s,o);for(let st=0;st<o;st++)for(let at=0;at<s;at++){const lt=it(at/16,st/16,ot,5,.5,2);et[st][at]=Math.floor(lt*255)}return et.flat()}function generateRipplePointCloud(s,o,et=2,tt=2){const nt=[];function rt(it){return(Math.sin(it)+Math.random())*.5}for(let it=0;it<s;it++){const ot=2+it/s*et,st=tt*Math.exp(-it/s);for(let at=0;at<o;at++){const lt=at/o*2*Math.PI,ct=ot*Math.cos(lt),ut=ot*Math.sin(lt),ht=rt(ot+lt)*st;nt.push(ut,ct,ht)}}return nt}const occupancyMap={width:128,height:128,worldToLocal:{translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0,w:1}},resolution:.029999999329447746,origin:{translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0,w:1}},data:generateNoise(128,128)},pointCloud={worldToLocal:{translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0,w:1}},pcd:{colors:Array.from({length:1e3},()=>[0,0,0,1]).flat(),header:{count:[1,1,1,1],data:"binary_compressed",fields:["x","y","z","rgb"],height:1,points:1e3,size:[4,4,4,4],type:["F","F","F","F"],version:"0.7",width:1e3},positions:generateRipplePointCloud(4,250)}};function clone(s){return JSON.parse(JSON.stringify(s))}const SPOT_ID="abc",ARM1_ID="asdfadsfas",ARM2_ID="124fasd",ARM3_ID="77hrtesgdafdsh";class ExampleUniverseData{subscribeToBitset(o,et,tt){throw new Error("Method not implemented.")}construtor(){}clearWorkerPool(){}subscribeToPath(o,et,tt){return setInterval(()=>{tt({worldToLocal:{translation:{x:0,y:-2,z:0},rotation:{x:0,y:0,z:0,w:1}},poses:[{translation:{x:3.3545788855933396,y:-2.1870991935927204,z:-2.154354741654536},rotation:{x:-.0007247281610034406,y:.006989157758653164,z:.9746800661087036,w:.2234935611486435}},{translation:{x:4.354578885593339,y:-1.1870991935927204,z:.154354741654536},rotation:{x:-.0007247281610034406,y:.006989157758653164,z:.9746800661087036,w:.2234935611486435}},{translation:{x:2.3545788855933396,y:1.1870991935927204,z:.154354741654536},rotation:{x:-.0007247281610034406,y:.006989157758653164,z:.9746800661087036,w:.2234935611486435}},{translation:{x:-.545788855933396,y:-1.1870991935927204,z:.154354741654536},rotation:{x:-.0007247281610034406,y:.006989157758653164,z:.9746800661087036,w:.2234935611486435}}]})},1e3),()=>{}}subscribeToImage(o,et,tt){throw new Error("Method not implemented.")}addInteraction(o){throw new Error("Method not implemented.")}removeInteraction(o){throw new Error("Method not implemented.")}getInteractions(){throw new Error("Method not implemented.")}addInteractionsChangedListener(o){throw new Error("Method not implemented.")}addInteractionListener(o){throw new Error("Method not implemented.")}sendCommand(o,et,tt){throw new Error("Method not implemented.")}subscribeToOdometry(o,et,tt){let nt=0;const rt=2,it=.5,ot=setInterval(()=>{const st=nt;nt+=.2;const at=(rt+Math.cos(nt*it))*Math.cos(nt),lt=(rt+Math.sin(nt*it))*Math.sin(nt),ct=(rt+Math.cos(st*it))*Math.cos(st),ut=(rt+Math.sin(st*it))*Math.sin(st),dt=new Quaternion,ht=new Vector2(at-ct,lt-ut),pt=Math.atan2(ht.y,ht.x);dt.setFromAxisAngle(new Vector3(0,0,1),pt),tt({worldToLocal:{translation:{x:at,y:lt,z:0},rotation:{x:0,y:0,z:0,w:1}},pose:{translation:{x:at+3.3545788855933396,y:lt-2.1870991935927204,z:.154354741654536},rotation:{x:dt.x,y:dt.y,z:dt.z,w:dt.w}},covariance:[]})},1200);return()=>{clearInterval(ot)}}subscribeToPose(o,et,tt){throw new Error("Method not implemented.")}sendRealtimeBoolean(o,et,tt){throw new Error("Method not implemented.")}sendRealtimeBitset(o,et,tt){throw new Error("Method not implemented.")}sendRealtimePose(o,et,tt){throw new Error("Method not implemented.")}subscribeToNumeric(o,et,tt){throw new Error("Method not implemented.")}subscribeToNumericSet(o,et,tt){return setInterval(()=>{tt([[Date.now()-3e3,[{value:Math.random(),label:"test"},{value:Math.random(),label:"bar"}]],[Date.now()-2e3,[{value:Math.random(),label:"test"},{value:Math.random(),label:"bar"}]],[Date.now()-1e3,[{value:Math.random(),label:"test"},{value:Math.random(),label:"bar"}]],[Date.now()-0,[{value:Math.random(),label:"test"},{value:Math.random(),label:"bar"}]]])},1e3),()=>{}}sendRealtimeButtonState(o,et,tt){throw new Error("Method not implemented.")}subscribeToGridMap(o,et,tt){const nt=setInterval(()=>{tt(clone(occupancyMap))},1e3);return()=>{clearInterval(nt)}}subscribeToVideo(o,et,tt){const nt=new Image;return nt.crossOrigin="Anonymous",nt.addEventListener("load",()=>{const rt=document.createElement("canvas");rt.width=nt.width,rt.height=nt.height;const it=rt.getContext("2d");it&&(it.drawImage(nt,0,0),tt(rt))},!1),nt.src="https://threejs.org/examples/textures/2294472375_24a3b8ef46_o.jpg",()=>{}}subscribeToJson(o,et,tt){throw new Error("Method not implemented.")}subscribeToText(o,et,tt){throw new Error("Method not implemented.")}getStatistics(){throw new Error("Method not implemented.")}subscribeDataSourceStateChange(o,et,tt){throw new Error("Method not implemented.")}time=Date.now();setTime(o){if(o==="live")throw new Error("Not implemented");this.time=o.getTime()}getTime(){return new Date(this.time)}getTimeMs(){return this.time}async getLatestTransformTrees(o){return o===SPOT_ID?[{streamName:"spotTf",transformTree:await fetch("https://formant-3d-models.s3.us-west-2.amazonaws.com/spotjoint_sit.json").then(et=>et.json())}]:[]}async getLatestLocations(){return[{streamName:"spotLocation",location:{latitude:45.4661989,longitude:-122.5782375}}]}async getDeviceContexts(){return[{deviceName:"Spot-9000",deviceId:SPOT_ID},{deviceName:"Roboarm 1",deviceId:ARM1_ID},{deviceName:"Roboarm 2",deviceId:ARM2_ID},{deviceName:"Roboarm 3",deviceId:ARM3_ID}]}async getDeviceContextName(o){if(o===SPOT_ID)return"Spot-9000";if(o===ARM1_ID)return"Roboarm 1";if(o===ARM2_ID)return"Roboarm 2";if(o===ARM3_ID)return"Roboarm 3"}async getTelemetryStreamType(o,et){if(et==="spotTf")return"transform tree"}subscribeToPointCloud(o,et,tt){const nt=setInterval(()=>{tt(clone(pointCloud))},1e3);return()=>clearInterval(nt)}subscribeToGeometry(o,et,tt){const nt=setInterval(()=>{const rt=Date.now(),it=Math.sin(rt/1e3),ot=Math.cos(rt/1e3),st=Math.sin(rt/1e3)+.5,at=Math.cos(rt/1e3)+.5,lt=[];lt.push({id:1,ns:"cube1",type:1,action:0,lifetime:1e5,frame_id:"base_link",points:[],text:Math.random().toString(),mesh_resource:"",frame_locked:!1,mesh_use_embedded_materials:!1,color:{r:st,g:at,b:st+.5,a:1},colors:[],pose:{position:{x:10,y:5,z:1+it},orientation:{x:0,y:0,z:0,w:1}},scale:{x:it,y:ot,z:1}}),lt.push({id:2,ns:"sphere",type:2,action:0,lifetime:1e5,frame_id:"base_link",points:[],text:Math.random().toString(),mesh_resource:"",frame_locked:!1,mesh_use_embedded_materials:!1,color:{r:ot,g:it,b:ot+.5,a:1},colors:[],pose:{position:{x:12,y:5,z:1+it},orientation:{x:0,y:0,z:0,w:1}},scale:{x:ot,y:it,z:1}}),lt.push({id:3,ns:"arrow",type:0,action:0,lifetime:1e5,frame_id:"base_link",points:[],text:Math.random().toString(),mesh_resource:"",frame_locked:!1,mesh_use_embedded_materials:!1,color:{r:it,g:ot,b:it+.5,a:1},colors:[],pose:{position:{x:11,y:6,z:1},orientation:{x:0,y:0,z:it,w:1}},scale:{x:it,y:ot,z:it+.5}}),lt.push({id:4,ns:"cubelist",type:6,action:0,lifetime:1e5,frame_id:"base_link",points:Array.from({length:20},(ct,ut)=>({x:Math.sin((ut+rt/1e3)/20*Math.PI*2)*2+1,y:Math.cos((ut+rt/1e3)/20*Math.PI*2)*2-1,z:0})),text:Math.random().toString(),mesh_resource:"",frame_locked:!1,mesh_use_embedded_materials:!1,color:{r:Math.cos(it),g:Math.sin(ot),b:0,a:1},colors:[],pose:{position:{x:10,y:6,z:1},orientation:{x:0,y:0,z:0,w:1}},scale:{x:.25,y:.25,z:.25}}),tt({markers:lt})},100);return()=>{clearInterval(nt)}}subscribeToJointState(o,et,tt){let nt=null;return o===SPOT_ID?nt=window.setInterval(()=>{tt({name:["fl.hx","fl.hy","fl.kn","fr.hx","fr.hy","fr.kn","hl.hx","hl.hy","hl.kn","hr.hx","hr.hy","hr.kn"],position:[0,Math.sin(this.time/1e3),Math.cos(this.time/1e3),0,Math.cos(this.time/1e3),Math.sin(this.time/1e3),0,Math.sin(this.time/1e3),Math.cos(this.time/1e3),0,Math.cos(this.time/1e3),Math.sin(this.time/1e3)]})},60/12):o===ARM1_ID?nt=window.setInterval(()=>{tt({name:["joint_1","joint_2","joint_3","joint_4","joint_5","joint_6"],position:[Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3)]})},60/12):o===ARM2_ID?nt=window.setInterval(()=>{tt({name:["joint_1","joint_2","joint_3","joint_4","joint_5","joint_6"],position:[Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3)]})},60/12):o===ARM3_ID&&(nt=window.setInterval(()=>{tt({name:["joint_1","joint_2","joint_3","joint_4","joint_5","joint_6"],position:[Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3)]})},60/12)),()=>{nt&&clearInterval(nt)}}subscribeToMap(o,et,tt){return()=>{}}async getTelemetryStreams(o){return o===SPOT_ID?[{name:"spotTf",configuration:{type:"transform tree"}}]:[]}async getTeleopRosStreams(o){return o===SPOT_ID?[{topicType:"sensor_msgs/JointState",topicName:"spotJoints"},{topicType:"visualization_msgs/MarkerArray",topicName:"spotMarkers"}]:[{topicType:"sensor_msgs/JointState",topicName:"armJoints"}]}async getUrdfs(o){return["https://formant-3d-models.s3.us-west-2.amazonaws.com/arm.zip"]}async getHardwareStreams(o){return[]}subscribeToTransformTree(o,et,tt){return o===SPOT_ID&&tt({url:"https://formant-3d-models.s3.us-west-2.amazonaws.com/spotjoint_sit.json"}),()=>{}}subscribeToLocation(o,et,tt){const nt=seedrandom$1(`${o}`);let rt=1,it=0;const ot=[];for(let ct=0;ct<4;ct+=1)ot.push({latitude:45.523064+nt.quick()*4e-4-2e-4,longitude:-122.676483+nt.quick()*4e-4-2e-4});const st=ot.map(ct=>new Vector2(ct.latitude,ct.longitude)),at=new SplineCurve(st),lt=setInterval(()=>{const ct=at.getPointAt(it);tt({latitude:ct.x,longitude:ct.y}),it+=.01*rt,(it>=1||it<=0)&&(rt*=-1,it+=.01*rt)},1e3);return()=>{clearInterval(lt)}}}function Marker(s){const{pose:o,color:et,editable:tt}=s,nt=new Vector3(o.translation.x,o.translation.y,o.translation.z),rt=new Euler,it=new Quaternion;it.set(o.rotation.x,o.rotation.y,o.rotation.z,o.rotation.w),rt.setFromQuaternion(it);const ot=reactExports.useRef(null),st=reactExports.useRef(null),at=reactExports.useRef(null),lt=new Matrix4;return jsx("group",{ref:at,position:nt,rotation:rt,children:jsxs(PivotControls$1,{ref:st,activeAxes:[!0,!0,!1],disableAxes:!tt,disableRotations:!tt,disableSliders:!tt,depthTest:!1,matrix:lt,autoTransform:!1,scale:.5,onDrag:ct=>lt.copy(ct),onDragEnd:()=>{if(ot.current&&at.current&&st.current){const ct=new Euler;ct.setFromRotationMatrix(lt),ct.x+=rt.x,ct.y+=rt.y,ct.z+=rt.z;const ut=new Quaternion;ut.setFromEuler(ct);const dt=new Vector3,ht=new Vector3;at.current.getWorldPosition(dt),ot.current.getWorldPosition(ht);const pt=ht.sub(dt),gt={translation:{x:nt.x+pt.x,y:nt.y+pt.y,z:nt.z+pt.z},rotation:{x:ut.x,y:ut.y,z:ut.z,w:ut.w}};s.onPose(gt)}},children:[jsx("group",{ref:ot}),jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[jsx("boxGeometry",{args:[.25,.25,.25]}),jsx("meshBasicMaterial",{color:et})]})]})})}function RouteMakerLayer(s){const[o,et]=reactExports.useState([]),{children:tt,size:nt}=s,{isEditing:rt}=reactExports.useContext(UIDataContext);return jsxs(DataVisualizationLayer,{...s,children:[jsx(Interactive,{onSelect:it=>{const ot=it.intersection?.point;ot&&et([...o,{translation:{x:ot.x,y:ot.y,z:ot.z},rotation:{x:0,y:0,z:0,w:1}}])},children:jsxs("mesh",{position:[0,0,-.1],onPointerDown:it=>{if(!rt)return;let ot=it.point;et([...o,{translation:{x:ot.x,y:ot.y,z:ot.z+.125},rotation:{x:0,y:0,z:0,w:1}}])},children:[jsx("boxGeometry",{args:[nt,nt,.1]}),jsx("meshPhongMaterial",{opacity:0,transparent:!0})]})}),o.map((it,ot)=>{const st=it;let at;return ot>0&&(at=o[ot-1]),jsxs("group",{children:[ot>0&&at!==void 0&&jsx(Line,{points:[new Vector3(st.translation.x,st.translation.y,st.translation.z),new Vector3(at.translation.x,at.translation.y,at.translation.z)],color:FormantColors.silver,lineWidth:5}),jsx(Marker,{color:ot===0?FormantColors.green:FormantColors.silver,pose:it,editable:rt,onPose:lt=>{const ct=[...o];ct[ot]=lt,et(ct)}})]},ot)}),tt]})}const query$1=new URLSearchParams(window.location.search),experimentalMode=query$1.get("experimental")==="true",debugMode=query$1.get("debug")==="true";function Demo(){const[s]=reactExports.useState(()=>new ExampleUniverseData),[o]=reactExports.useState(()=>new ExampleUniverseData);return reactExports.useEffect(()=>{const et=setInterval(()=>{const tt=new Date;s.setTime(tt),o.setTime(tt)},100);return()=>clearInterval(et)}),jsx(UniverseDataContext.Provider,{value:[s,o],children:jsxs(Universe,{configHash:"fasd",config:{maps:[],visualizations:[]},debug:debugMode,children:[jsxs(LayerContext.Provider,{value:{deviceId:ARM1_ID},children:[jsxs(EmptyLayer,{name:"Maps",treePath:[0],children:[jsx(GroundLayer,{positioning:PositioningBuilder.fixed(0,0,0),name:"Ground",treePath:[2,0],type:LayerType.AXIS,id:"ground"}),jsx(MapLayer,{name:"Map",latitude:37.6713541,longitude:-97.20016869,mapType:"Satellite",size:400,treePath:[0,0],visible:!1,id:"map0"}),jsx(OccupancyGridLayer,{dataSource:DataSourceBuilder.telemetry("walter.localization","localization"),name:"Occupancy Grid",treePath:[0,1],id:"occupancyGrid"})]}),jsxs(EmptyLayer,{name:"Device Layers",treePath:[1],children:[experimentalMode&&jsx(RouteMakerLayer,{size:200,name:"Route Builder"}),jsx(MarkerLayer,{positioning:PositioningBuilder.odometry("walter.localization"),name:"Marker",treePath:[1,1],trailEnabled:!0}),jsx(PointCloudLayer,{dataSource:DataSourceBuilder.telemetry("walter.localization","localization"),name:"Point Cloud",decayTime:1,treePath:[1,2],positioning:PositioningBuilder.odometry("walter.localization")}),jsx(MissionPlanningLayer,{name:"MissionPlanning"}),jsx(GeometryLayer,{name:"3D Objects",dataSource:DataSourceBuilder.telemetry("walter.markers","json"),allowTransparency:!0,treePath:[1,2]}),jsx(URDFLayer,{name:"URDF",positioning:PositioningBuilder.odometry("walter.localization"),jointStatesDataSource:DataSourceBuilder.telemetry(""),treePath:[1,3]}),jsx(PathLayer,{dataSource:DataSourceBuilder.telemetry("walter.localization","localization"),name:"Path",treePath:[1,4],id:"path1"}),jsx(PathLayer,{dataSource:DataSourceBuilder.telemetry("walter.localization","localization"),name:"Flattened path",flatten:!0,treePath:[1,5],id:"path2"})]})]}),jsx(LayerContext.Provider,{value:{deviceId:ARM2_ID},children:jsx(EmptyLayer,{name:"ARM2",treePath:[2],children:jsx(URDFLayer,{name:"URDF2",positioning:PositioningBuilder.fixed(3,-3,0),jointStatesDataSource:DataSourceBuilder.telemetry(""),treePath:[2,3],id:"urdf2"})})}),jsx(LayerContext.Provider,{value:{deviceId:ARM3_ID},children:jsx(EmptyLayer,{name:"ARM3",treePath:[2],children:jsx(URDFLayer,{name:"URDF3",positioning:PositioningBuilder.fixed(2.5,-2.5,0),jointStatesDataSource:DataSourceBuilder.telemetry(""),treePath:[2,3],id:"urdf3"})})}),jsxs("group",{children:[jsx("pointLight",{position:[1e3,1e3,1e3],color:"#18d2ff",intensity:.3*2.8,decay:0,distance:0}),jsx("pointLight",{position:[-1e3,-1e3,1e3],color:"#ea719d",intensity:.7*2.8,decay:0,distance:0}),jsx("hemisphereLight",{intensity:.2*2.8,color:"#f8f9fc",groundColor:"#282f45"})]})]})})}const query=new URLSearchParams(window.location.search),demoMode=query.get("auth")===null,app=document.getElementById("root");app&&createRoot$1(app).render(demoMode?jsx(Demo,{}):jsx(Viewer,{}));
